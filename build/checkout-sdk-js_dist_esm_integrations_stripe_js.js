"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["checkout-sdk-js_dist_esm_integrations_stripe_js"],{

/***/ "../checkout-sdk-js/dist/esm/integrations/stripe.js":
/*!**********************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/stripe.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createStripeLinkV2CustomerStrategy: () => (/* binding */ H),\n/* harmony export */   createStripeOCSPaymentStrategy: () => (/* binding */ ye),\n/* harmony export */   createStripeUPECustomerStrategy: () => (/* binding */ O),\n/* harmony export */   createStripeUPEPaymentStrategy: () => (/* binding */ he),\n/* harmony export */   createStripeV3PaymentStrategy: () => (/* binding */ oe)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"../checkout-sdk-js/node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"../checkout-sdk-js/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\nvar s={};function a(e,t){return console.log(\"resolveIds\",t),Object.assign(e,{resolveIds:t})}s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);class d extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class l extends d{constructor(e){super(e||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}var c,u=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})};class h{constructor(e,t=window){this.scriptLoader=e,this.stripeWindow=t}getStripeClient(e,t,i){return u(this,void 0,void 0,function*(){if(this.stripeWindow.bcStripeClient)return this.stripeWindow.bcStripeClient;const n=yield this.load(),{stripePublishableKey:r,stripeConnectedAccount:o}=e,s=n(r,Object.assign(Object.assign(Object.assign({},o?{stripeAccount:o}:{}),t?{betas:t}:{}),i?{apiVersion:i}:{}));return Object.assign(this.stripeWindow,{bcStripeClient:s}),s})}getElements(e,t){return u(this,void 0,void 0,function*(){let i=this.stripeWindow.bcStripeElements;return i?yield this.updateStripeElements(t):(i=e.elements(t),Object.assign(this.stripeWindow,{bcStripeElements:i})),i})}updateStripeElements(e){return u(this,void 0,void 0,function*(){const t=this.stripeWindow.bcStripeElements;t&&(t.update(e),yield t.fetchUpdates())})}load(){return u(this,void 0,void 0,function*(){if(!this.stripeWindow.Stripe&&(yield this.scriptLoader.loadScript(\"https://js.stripe.com/v3/\"),!this.stripeWindow.Stripe))throw new l;return this.stripeWindow.Stripe})}}class p extends d{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}!function(e){e[e.MissingBillingAddress=0]=\"MissingBillingAddress\",e[e.MissingCart=1]=\"MissingCart\",e[e.MissingCheckout=2]=\"MissingCheckout\",e[e.MissingConsignments=3]=\"MissingConsignments\",e[e.MissingCustomer=4]=\"MissingCustomer\",e[e.MissingCheckoutConfig=5]=\"MissingCheckoutConfig\",e[e.MissingOrder=6]=\"MissingOrder\",e[e.MissingOrderConfig=7]=\"MissingOrderConfig\",e[e.MissingOrderId=8]=\"MissingOrderId\",e[e.MissingPayment=9]=\"MissingPayment\",e[e.MissingPaymentId=10]=\"MissingPaymentId\",e[e.MissingPaymentInstrument=11]=\"MissingPaymentInstrument\",e[e.MissingPaymentMethod=12]=\"MissingPaymentMethod\",e[e.MissingPaymentRedirectUrl=13]=\"MissingPaymentRedirectUrl\",e[e.MissingPaymentStatus=14]=\"MissingPaymentStatus\",e[e.MissingPaymentToken=15]=\"MissingPaymentToken\",e[e.MissingShippingAddress=16]=\"MissingShippingAddress\"}(c||(c={}));class m extends d{constructor(e){super(function(e){switch(e){case c.MissingBillingAddress:return\"Unable to proceed because billing address data is unavailable.\";case c.MissingCart:return\"Unable to proceed because cart data is unavailable.\";case c.MissingConsignments:return\"Unable to proceed because consignments data is unavailable.\";case c.MissingCheckout:return\"Unable to proceed because checkout data is unavailable.\";case c.MissingCustomer:return\"Unable to proceed because customer data is unavailable.\";case c.MissingCheckoutConfig:case c.MissingOrderConfig:return\"Unable to proceed because configuration data is unavailable.\";case c.MissingOrder:return\"Unable to proceed because order data is unavailable.\";case c.MissingOrderId:return\"Unable to proceed because order ID is unavailable or not generated yet.\";case c.MissingPayment:return\"Unable to proceed because payment data is unavailable.\";case c.MissingPaymentToken:return\"Unable to proceed because the token required to submit a payment is missing.\";case c.MissingPaymentMethod:return\"Unable to proceed because payment method data is unavailable or not properly configured.\";case c.MissingShippingAddress:return\"Unable to proceed because shipping address data is unavailable.\";default:return\"Unable to proceed because the required data is unavailable.\"}}(e)),this.subtype=e,this.name=\"MissingDataError\",this.type=\"missing_data\"}}function y(e){return\"object\"==typeof e&&null!==e&&\"initializationData\"in e&&void 0!==e.initializationData&&null!==e.initializationData&&\"object\"==typeof e.initializationData&&\"stripePublishableKey\"in e.initializationData&&\"stripeConnectedAccount\"in e.initializationData&&\"shopperLanguage\"in e.initializationData&&void 0!==e.initializationData.stripePublishableKey&&void 0!==e.initializationData.stripeConnectedAccount&&void 0!==e.initializationData.shopperLanguage}const g=[\"payment_element_beta_2\",\"alipay_pm_beta_1\",\"link_default_integration_beta_1\",\"shipping_address_element_beta_1\",\"address_element_beta_1\"],v=\"2020-03-02;alipay_beta=v1;link_beta=v1\";var S,f,_,I,E,b,P,C;function w(e){return\"stripeLinkAuthenticationState\"in e}!function(e){e.SHIPPING=\"shipping\",e.BILLING=\"billing\"}(S||(S={})),function(e){e.SPLIT=\"split\",e.FULL=\"full\",e.ORGANIZATION=\"organization\"}(f||(f={})),function(e){e.CreditCard=\"card\",e.Link=\"link\",e.EPS=\"eps\",e.GRABPAY=\"grabpay\",e.BANCONTACT=\"bancontact\",e.IDEAL=\"ideal\",e.ALIPAY=\"alipay\",e.KLARNA=\"klarna\",e.OCS=\"optimized_checkout\"}(_||(_={})),function(e){e.NEVER=\"never\",e.AUTO=\"auto\",e.ALWAYS=\"always\",e.PAYMENT=\"payment\",e.IF_REQUIRED=\"if_required\"}(I||(I={})),function(e){e.PAYMENT=\"payment\",e.AUTHENTICATION=\"linkAuthentication\",e.SHIPPING=\"address\",e.EXPRESS_CHECKOUT=\"expressCheckout\"}(E||(E={})),function(e){e.REQUIRES_PAYMENT_METHOD=\"requires_payment_method\",e.REQUIRES_CONFIRMATION=\"requires_confirmation\",e.REQUIRES_ACTION=\"requires_action\",e.PROCESSING=\"processing\",e.SUCCEEDED=\"succeeded\",e.CANCELED=\"canceled\"}(b||(b={})),function(e){e.CLICK=\"click\",e.CHANGE=\"change\",e.READY=\"ready\",e.SHIPPING_ADDRESS_CHANGE=\"shippingaddresschange\",e.SHIPPING_RATE_CHANGE=\"shippingratechange\",e.CONFIRM=\"confirm\",e.CANCEL=\"cancel\",e.LOADER_START=\"loaderstart\"}(P||(P={})),function(e){e.ON_SESSION=\"on_session\",e.OFF_SESSION=\"off_session\"}(C||(C={}));class A{constructor(e,t){this.paymentIntegrationService=e,this.scriptLoader=t}initialize(e){var t,i,n,r,o;return i=this,n=void 0,o=function*(){let i;if(!e.stripeupe)throw new p('Unable to proceed because \"options\" argument is not provided.');const{container:n,gatewayId:r,methodId:o,onEmailChange:s,getStyles:a,isLoading:d}=e.stripeupe;Object.entries(e.stripeupe).forEach(([e,t])=>{if(!t)throw new p(`Unable to proceed because \"${e}\" argument is not provided.`)}),yield this.paymentIntegrationService.loadPaymentMethod(r,{params:{method:o}});const l=this.paymentIntegrationService.getState(),u=l.getPaymentMethodOrThrow(o,r),{clientToken:h}=u;if(!y(u)||!h)throw new m(c.MissingPaymentToken);const{email:f}=l.getCustomerOrThrow(),_=l.getPaymentProviderCustomerOrThrow(),I=(w(_)?_:{}).stripeLinkAuthenticationState;if(!f){let e;const r=\"function\"==typeof a&&a();e=r?{variables:{colorPrimary:r.fieldInnerShadow,colorBackground:r.fieldBackground,colorText:r.labelText,colorDanger:r.fieldErrorText,colorTextSecondary:r.labelText,colorTextPlaceholder:r.fieldPlaceholderText},rules:{\".Input\":{borderColor:r.fieldBorder,color:r.fieldText,boxShadow:r.fieldInnerShadow}}}:{},i=yield this.scriptLoader.getStripeClient(u.initializationData,g,v),this._stripeElements=yield this.scriptLoader.getElements(i,{clientSecret:h,appearance:e});const{getBillingAddress:o,getConsignments:l}=this.paymentIntegrationService.getState(),p=l(),y=null===(t=null==p?void 0:p[0])||void 0===t?void 0:t.id,{email:f}=o()||{},_=f?{defaultValues:{mode:S.SHIPPING,email:f}}:{},b=this._stripeElements.getElement(E.AUTHENTICATION)||this._stripeElements.create(E.AUTHENTICATION,_);b.on(P.CHANGE,e=>{if(!(\"authenticated\"in e))throw new m(c.MissingCustomer);this.paymentIntegrationService.updatePaymentProviderCustomer({stripeLinkAuthenticationState:e.authenticated}),e.complete?s(e.authenticated,e.value.email):s(!1,\"\"),d&&d(!1),void 0===I&&e.authenticated&&y&&this.paymentIntegrationService.deleteConsignment(y)}),b.mount(`#${n}`)}},new((r=void 0)||(r=Promise))(function(e,t){function s(e){try{d(o.next(e))}catch(e){t(e)}}function a(e){try{d(o.throw(e))}catch(e){t(e)}}function d(t){var i;t.done?e(t.value):(i=t.value,i instanceof r?i:new r(function(e){e(i)})).then(s,a)}d((o=o.apply(i,n||[])).next())})}deinitialize(){var e,t;return null===(t=null===(e=this._stripeElements)||void 0===e?void 0:e.getElement(E.AUTHENTICATION))||void 0===t||t.unmount(),Promise.resolve()}signIn(e,t){return this.paymentIntegrationService.signInCustomer(e,t),Promise.resolve()}signOut(e){return this.paymentIntegrationService.signOutCustomer(e),Promise.resolve()}executePaymentMethodCheckout(e){var t;return null===(t=null==e?void 0:e.continueWithCheckoutCallback)||void 0===t||t.call(e),Promise.resolve()}}const O=a(t=>new A(t,new h((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)())),[{id:\"stripeupe\"}]);class M extends d{constructor(e){super(e||\"Payment process was cancelled.\"),this.name=\"PaymentMethodCancelledError\",this.type=\"payment_cancelled\"}}class T extends d{constructor(e){super(e||\"Unable to proceed because the client library of a payment method has thrown an unexpected error.\"),this.name=\"PaymentMethodFailedError\",this.type=\"payment_method_client_invalid\"}}var N;!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(N||(N={}));class k extends d{constructor(e){super(function(e){switch(e){case N.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case N.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case N.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case N.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}var D=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})};class z{constructor(e,t){this.paymentIntegrationService=e,this.scriptLoader=t,this.isMounted=!1}deinitialize(){var e;null===(e=this.checkoutEventsUnsubscribe)||void 0===e||e.call(this),this.isMounted=!1}initCheckoutEventsSubscription(e,t,i,n){this.checkoutEventsUnsubscribe=this.paymentIntegrationService.subscribe(()=>D(this,void 0,void 0,function*(){var r;const o=null==n?void 0:n.getElement(E.PAYMENT);if(o){try{yield this.updateStripePaymentIntent(e,t)}catch(e){return this.isMounted&&(o.unmount(),this.isMounted=!1),void(e instanceof Error&&(null===(r=i.onError)||void 0===r||r.call(i,e)))}this.isMounted||(yield null==n?void 0:n.fetchUpdates(),this.mountElement(o,i.containerId))}}),e=>{var t;return null===(t=e.getCheckout())||void 0===t?void 0:t.outstandingBalance},e=>{var t;return null===(t=e.getCheckout())||void 0===t?void 0:t.coupons})}mountElement(e,t){document.getElementById(t)&&(e.mount(`#${t}`),this.isMounted=!0)}mapAppearanceVariables(e){return{colorPrimary:e.fieldInnerShadow,colorBackground:e.fieldBackground,colorText:e.labelText,colorDanger:e.fieldErrorText,colorTextSecondary:e.labelText,colorTextPlaceholder:e.fieldPlaceholderText,colorIcon:e.fieldPlaceholderText}}mapInputAppearanceRules(e){return{borderColor:e.fieldBorder,color:e.fieldText,boxShadow:e.fieldInnerShadow}}throwStripeError(e){if(\"object\"==typeof(t=e)&&null!==t&&\"type\"in t&&(this.throwDisplayableStripeError(e),this.isCancellationError(e)))throw new M;var t;throw new T}throwDisplayableStripeError(e){if((0,lodash__WEBPACK_IMPORTED_MODULE_1__.includes)([\"card_error\",\"invalid_request_error\",\"validation_error\"],e.type))throw new Error(e.message)}isCancellationError(e){var t;const i=null===(t=null==e?void 0:e.payment_intent.last_payment_error)||void 0===t?void 0:t.message;return!!i&&-1!==i.indexOf(\"canceled\")}throwPaymentConfirmationProceedMessage(){throw new T(\"We've received your order and are processing your payment. Once the payment is verified, your order will be completed. We will send you an email when it's completed. Please note, this process may take a few minutes depending on the processing times of your chosen method.\")}isPaymentCompleted(e,t){return D(this,void 0,void 0,function*(){const i=this.paymentIntegrationService.getState(),n=i.getPaymentMethodOrThrow(e),{features:r}=i.getStoreConfigOrThrow().checkoutSettings;if(!n.clientToken||!t||!r[\"PI-626.Block_unnecessary_payment_confirmation_for_StripeUPE\"])return!1;const{paymentIntent:o}=yield t.retrievePaymentIntent(n.clientToken);return(null==o?void 0:o.status)===b.SUCCEEDED})}mapStripePaymentData(e,t,i=!1){const n=this.paymentIntegrationService.getState().getBillingAddress(),{firstName:r=\"\",lastName:o=\"\",email:s=\"\"}=n||{},a=this._mapStripeAddress(n);if(!e)throw new k(N.PaymentNotInitialized);if(!(s&&a&&a.city&&a.country&&r&&o))throw new m(c.MissingBillingAddress);return{elements:e,redirect:I.IF_REQUIRED,confirmParams:Object.assign({payment_method_data:Object.assign(Object.assign({},i?{allow_redisplay:\"always\"}:{}),{billing_details:{email:s,address:a,name:`${r} ${o}`}})},t&&{return_url:t})}}isAdditionalActionError(e){return (0,lodash__WEBPACK_IMPORTED_MODULE_1__.some)(e,{code:\"additional_action_required\"})}isRedirectAction(e){const{type:t,data:{redirect_url:i}}=e;return\"redirect_to_url\"===t&&!!i}isOnPageAdditionalAction(e){const{type:t,data:{token:i}}=e;return\"additional_action_requires_payment_method\"===t&&!!i}updateStripePaymentIntent(e,t){return D(this,void 0,void 0,function*(){const i=yield this.paymentIntegrationService.loadPaymentMethod(e,{params:{method:t}}),{clientToken:n}=i.getPaymentMethodOrThrow(t);if(!n)throw new m(c.MissingPaymentMethod);this.scriptLoader.updateStripeElements({clientSecret:n})})}_mapStripeAddress(e){if(e){const{city:t,address1:i,address2:n,countryCode:r,postalCode:o,stateOrProvinceCode:s}=e;return Object.assign({city:t,country:r,postal_code:o,line1:i,line2:n},s?{state:s}:{})}throw new m(c.MissingBillingAddress)}}const R={size:70,color:\"#d9d9d9\",backgroundColor:\"#ffffff\"},U={position:\"fixed\",\"background-color\":\"rgba(0, 0, 0, 0.4)\",\"z-index\":\"1000\"},L=\"embedded-checkout-loading-indicator-rotation\";class x{constructor(e){this.styles=Object.assign(Object.assign({},R),e&&e.styles),this.containerStyles=Object.assign({},e&&e.containerStyles),this.defineAnimation(),this.container=this.buildContainer(),this.indicator=this.buildIndicator(),this.container.appendChild(this.indicator)}show(e){if(e){const t=document.getElementById(e);if(!t)throw new Error(\"Unable to attach the loading indicator because the parent ID is not valid.\");t.appendChild(this.container)}this.container.style.visibility=\"visible\",this.container.style.opacity=\"1\"}hide(){const e=()=>{this.container.style.visibility=\"hidden\",this.container.removeEventListener(\"transitionend\",e)};this.container.addEventListener(\"transitionend\",e),this.container.style.opacity=\"0\"}buildContainer(){const e=document.createElement(\"div\");return e.style.display=\"block\",e.style.bottom=\"0\",e.style.left=\"0\",e.style.height=\"100%\",e.style.width=\"100%\",e.style.position=\"absolute\",e.style.right=\"0\",e.style.top=\"0\",e.style.transition=\"all 250ms ease-out\",e.style.opacity=\"0\",this.setStyleAttribute(e,this.containerStyles),e}buildIndicator(){const e=document.createElement(\"div\");return e.style.display=\"block\",e.style.width=`${this.styles.size}px`,e.style.height=`${this.styles.size}px`,e.style.borderRadius=`${this.styles.size}px`,e.style.border=\"solid 1px\",e.style.borderColor=`${this.styles.backgroundColor} ${this.styles.backgroundColor} ${this.styles.color} ${this.styles.color}`,e.style.margin=\"0 auto\",e.style.position=\"absolute\",e.style.left=\"0\",e.style.right=\"0\",e.style.top=\"50%\",e.style.transform=\"translateY(-50%) rotate(0deg)\",e.style.transformStyle=\"preserve-3d\",e.style.animation=`${L} 500ms infinite cubic-bezier(0.69, 0.31, 0.56, 0.83)`,e}setStyleAttribute(e,t){Object.keys(t).forEach(i=>{e.style.setProperty(i,t[i])})}defineAnimation(){var e;if(document.getElementById(L))return;const t=document.createElement(\"style\");t.id=L,null===(e=document.head)||void 0===e||e.appendChild(t),t.sheet instanceof CSSStyleSheet&&t.sheet.insertRule(`\\n                @keyframes ${L} {\\n                    0% { transform: translateY(-50%) rotate(0deg); }\\n                    100% { transform: translateY(-50%) rotate(360deg); }\\n                }\\n            `,0)}}const j=e=>\"object\"==typeof e&&null!==e&&\"body\"in e;class B{constructor(e){this._decimalPlaces=e}toInteger(e){return Math.round(e*Math.pow(10,this._decimalPlaces))}}const F=[\"AC\",\"AD\",\"AE\",\"AF\",\"AG\",\"AI\",\"AL\",\"AM\",\"AO\",\"AQ\",\"AR\",\"AT\",\"AU\",\"AW\",\"AX\",\"AZ\",\"BA\",\"BB\",\"BD\",\"BE\",\"BF\",\"BG\",\"BH\",\"BI\",\"BJ\",\"BL\",\"BM\",\"BN\",\"BO\",\"BQ\",\"BR\",\"BS\",\"BT\",\"BV\",\"BW\",\"BY\",\"BZ\",\"CA\",\"CD\",\"CF\",\"CG\",\"CH\",\"CI\",\"CK\",\"CL\",\"CM\",\"CN\",\"CO\",\"CR\",\"CV\",\"CW\",\"CY\",\"CZ\",\"DE\",\"DJ\",\"DK\",\"DM\",\"DO\",\"DZ\",\"EC\",\"EE\",\"EG\",\"EH\",\"ER\",\"ES\",\"ET\",\"FI\",\"FJ\",\"FK\",\"FO\",\"FR\",\"GA\",\"GB\",\"GD\",\"GE\",\"GF\",\"GG\",\"GH\",\"GI\",\"GL\",\"GM\",\"GN\",\"GP\",\"GQ\",\"GR\",\"GS\",\"GT\",\"GU\",\"GW\",\"GY\",\"HK\",\"HN\",\"HR\",\"HT\",\"HU\",\"ID\",\"IE\",\"IL\",\"IM\",\"IN\",\"IO\",\"IQ\",\"IS\",\"IT\",\"JE\",\"JM\",\"JO\",\"JP\",\"KE\",\"KG\",\"KH\",\"KI\",\"KM\",\"KN\",\"KR\",\"KW\",\"KY\",\"KZ\",\"LA\",\"LB\",\"LC\",\"LI\",\"LK\",\"LR\",\"LS\",\"LT\",\"LU\",\"LV\",\"LY\",\"MA\",\"MC\",\"MD\",\"ME\",\"MF\",\"MG\",\"MK\",\"ML\",\"MM\",\"MN\",\"MO\",\"MQ\",\"MR\",\"MS\",\"MT\",\"MU\",\"MV\",\"MW\",\"MX\",\"MY\",\"MZ\",\"NA\",\"NC\",\"NE\",\"NG\",\"NI\",\"NL\",\"NO\",\"NP\",\"NR\",\"NU\",\"NZ\",\"OM\",\"PA\",\"PE\",\"PF\",\"PG\",\"PH\",\"PK\",\"PL\",\"PM\",\"PN\",\"PR\",\"PS\",\"PT\",\"PY\",\"QA\",\"RE\",\"RO\",\"RS\",\"RU\",\"RW\",\"SA\",\"SB\",\"SC\",\"SD\",\"SE\",\"SG\",\"SH\",\"SI\",\"SJ\",\"SK\",\"SL\",\"SM\",\"SN\",\"SO\",\"SR\",\"SS\",\"ST\",\"SV\",\"SX\",\"SZ\",\"TA\",\"TC\",\"TD\",\"TF\",\"TG\",\"TH\",\"TJ\",\"TK\",\"TL\",\"TM\",\"TN\",\"TO\",\"TR\",\"TT\",\"TV\",\"TW\",\"TZ\",\"UA\",\"UG\",\"US\",\"UY\",\"UZ\",\"VA\",\"VC\",\"VE\",\"VG\",\"VN\",\"VU\",\"WF\",\"WS\",\"XK\",\"YE\",\"YT\",\"ZA\",\"ZM\",\"ZW\",\"ZZ\"];var V=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})};class G{constructor(e,t,i,n){this.paymentIntegrationService=e,this.scriptLoader=t,this.stripeIntegrationService=i,this.loadingIndicator=n}initialize(e){return V(this,void 0,void 0,function*(){const{stripeocs:t}=e||{};if(!t)throw new p('Unable to proceed because \"options\" argument is not provided.');const{methodId:i,gatewayId:n,container:r}=t;if(!r||!i||!n)throw new k(N.PaymentNotInitialized);const o=(yield this.paymentIntegrationService.loadPaymentMethod(n,{params:{method:i}})).getPaymentMethodOrThrow(i,n),{loadingContainerId:s,buttonHeight:a,onComplete:d}=t;if(this._loadingIndicatorContainer=s,this._onComplete=d,!y(o))throw new m(c.MissingPaymentMethod);const{initializationData:l}=o,{captureMethod:u}=l;return this._captureMethod=u,this._stripeClient=yield this.scriptLoader.getStripeClient(l),yield this._mountExpressCheckoutElement(i,r,this._stripeClient,a),Promise.resolve()})}signIn(){return Promise.resolve()}signOut(){return Promise.resolve()}executePaymentMethodCheckout(){return Promise.resolve()}deinitialize(){return Promise.resolve()}_mountExpressCheckoutElement(e,t,i,n=40){return V(this,void 0,void 0,function*(){const r=this._shouldRequireShippingAddress(),o=Object.assign(Object.assign(Object.assign({shippingAddressRequired:r},r?{allowedShippingCountries:yield this._getAvailableCountries()}:{}),r?{shippingRates:[{id:\"_\",amount:0,displayName:\"Pending rates\"}]}:{}),{billingAddressRequired:!0,emailRequired:!0,phoneNumberRequired:!0,paymentMethods:{link:I.AUTO,applePay:I.NEVER,googlePay:I.NEVER,amazonPay:I.NEVER,paypal:I.NEVER,klarna:I.NEVER},buttonHeight:n}),{cartAmount:s}=this.paymentIntegrationService.getState().getCartOrThrow(),a=Object.assign({mode:\"payment\",amount:this._toCents(s),currency:this._getCurrency()},this._captureMethod?{captureMethod:this._captureMethod}:{});this._stripeElements=i.elements(a),this._linkV2Element=this._stripeElements.create(E.EXPRESS_CHECKOUT,o),this._linkV2Element.mount(`#${t}`),this._initializeEvents(this._linkV2Element,e)})}_initializeEvents(e,t){this._shouldRequireShippingAddress()&&(e.on(P.SHIPPING_ADDRESS_CHANGE,e=>V(this,void 0,void 0,function*(){return this._onShippingAddressChange(e)})),e.on(P.SHIPPING_RATE_CHANGE,e=>V(this,void 0,void 0,function*(){return this._onShippingRateChange(e)}))),e.on(P.CONFIRM,e=>V(this,void 0,void 0,function*(){return this._onConfirm(e,t)})),e.on(P.CANCEL,this._onCancel)}_onShippingAddressChange(e){return V(this,void 0,void 0,function*(){if(\"address\"in e){const t=e.address,i={firstName:\"\",lastName:\"\",phone:\"\",company:\"\",address1:\"\",address2:\"\",city:(null==t?void 0:t.city)||\"\",countryCode:(null==t?void 0:t.country)||\"\",postalCode:(null==t?void 0:t.postal_code)||\"\",stateOrProvince:(null==t?void 0:t.state)||\"\",stateOrProvinceCode:\"\",customFields:[]};yield this.paymentIntegrationService.updateShippingAddress(i);const n=yield this._getAvailableShippingOptions();yield this._updateDisplayedPrice(),e.resolve({shippingRates:n})}})}_onCancel(){throw new M}_onShippingRateChange(e){return V(this,void 0,void 0,function*(){if(\"shippingRate\"in e){const{shippingRate:t}=e;yield this._handleShippingOptionChange(null==t?void 0:t.id),yield this._updateDisplayedPrice(),e.resolve({})}})}_onConfirm(e,t){return V(this,void 0,void 0,function*(){if(\"billingDetails\"in e&&\"shippingAddress\"in e&&this._stripeClient&&this._stripeElements){yield this._updateShippingAndBillingAddress(e),yield this.paymentIntegrationService.submitOrder();const i=this._getPaymentPayload(t);try{yield this.paymentIntegrationService.submitPayment(i)}catch(e){yield this._processAdditionalAction(e,t)}}return Promise.resolve()})}_updateShippingAndBillingAddress(e){var t,i,n,r,o,s,a,d;return V(this,void 0,void 0,function*(){const l=this._shouldRequireShippingAddress(),c=(null===(i=null===(t=e.shippingAddress)||void 0===t?void 0:t.name)||void 0===i?void 0:i.split(\" \")[0])||(null===(r=null===(n=e.billingDetails)||void 0===n?void 0:n.name)||void 0===r?void 0:r.split(\" \")[0])||\"\",u=(null===(s=null===(o=e.shippingAddress)||void 0===o?void 0:o.name)||void 0===s?void 0:s.split(\" \")[1])||(null===(d=null===(a=e.billingDetails)||void 0===a?void 0:a.name)||void 0===d?void 0:d.split(\" \")[1])||\"\";if(l){const t=this._mapShippingAddress(e.shippingAddress,e.billingDetails,c,u);yield this.paymentIntegrationService.updateShippingAddress(t)}const h=this._mapBillingAddress(e.shippingAddress,e.billingDetails,c,u);yield this.paymentIntegrationService.updateBillingAddress(h)})}_mapShippingAddress(e,t,i,n){var r,o,s,a,d,l,c;return{firstName:i,lastName:n,phone:(null==t?void 0:t.phone)||\"\",company:\"\",address1:(null===(r=null==e?void 0:e.address)||void 0===r?void 0:r.line1)||\"\",address2:(null===(o=null==e?void 0:e.address)||void 0===o?void 0:o.line2)||\"\",city:(null===(s=null==e?void 0:e.address)||void 0===s?void 0:s.city)||\"\",countryCode:(null===(a=null==e?void 0:e.address)||void 0===a?void 0:a.country)||\"\",postalCode:(null===(d=null==e?void 0:e.address)||void 0===d?void 0:d.postal_code)||\"\",stateOrProvince:(null===(l=null==e?void 0:e.address)||void 0===l?void 0:l.state)||\"\",stateOrProvinceCode:(null===(c=null==e?void 0:e.address)||void 0===c?void 0:c.state)||\"\",customFields:[]}}_mapBillingAddress(e,t,i,n){var r,o,s,a,d,l;return{email:(null==t?void 0:t.email)||\"\",firstName:i,lastName:n,phone:(null==t?void 0:t.phone)||\"\",company:\"\",address1:(null===(r=null==t?void 0:t.address)||void 0===r?void 0:r.line1)||\"\",address2:\"\",city:(null===(o=null==t?void 0:t.address)||void 0===o?void 0:o.city)||\"\",countryCode:(null===(s=null==t?void 0:t.address)||void 0===s?void 0:s.country)||\"\",postalCode:(null===(a=null==t?void 0:t.address)||void 0===a?void 0:a.postal_code)||\"\",stateOrProvince:(null===(d=null==t?void 0:t.address)||void 0===d?void 0:d.state)||\"\",stateOrProvinceCode:(null===(l=null==e?void 0:e.address)||void 0===l?void 0:l.state)||\"\",customFields:[]}}_processAdditionalAction(e,t){return V(this,void 0,void 0,function*(){if(!j(e)||!this.stripeIntegrationService.isAdditionalActionError(e.body.errors))throw e;if(!this._stripeClient||!this._stripeElements)throw new k(N.PaymentNotInitialized);const{data:i}=e.body.additional_action_required,{token:n}=i,{paymentIntent:r}=yield this._confirmStripePaymentOrThrow(i,t),o=this._getPaymentPayload(t,(null==r?void 0:r.id)||n);try{this._toggleLoadingIndicator(!0),yield this.paymentIntegrationService.submitPayment(o),yield this._completeCheckoutFlow()}catch(e){this.stripeIntegrationService.throwPaymentConfirmationProceedMessage()}finally{this._toggleLoadingIndicator(!1)}})}_confirmStripePaymentOrThrow(e,t){var i,n,r;return V(this,void 0,void 0,function*(){const{token:o,redirect_url:s}=e,a=this.stripeIntegrationService.mapStripePaymentData(this._stripeElements,s);let d;try{const e=(yield this.stripeIntegrationService.isPaymentCompleted(t,this._stripeClient))?yield null===(r=this._stripeClient)||void 0===r?void 0:r.retrievePaymentIntent(o||\"\"):yield null===(i=this._stripeClient)||void 0===i?void 0:i.confirmPayment({elements:a.elements,clientSecret:o,redirect:I.IF_REQUIRED,confirmParams:{return_url:null===(n=a.confirmParams)||void 0===n?void 0:n.return_url}});if(d=null==e?void 0:e.error,d||!(null==e?void 0:e.paymentIntent))throw new T;return e}catch(e){return this.stripeIntegrationService.throwStripeError(d)}})}_completeCheckoutFlow(){return V(this,void 0,void 0,function*(){return\"function\"==typeof this._onComplete?this._onComplete():(window.location.replace(\"/order-confirmation\"),Promise.resolve())})}_getPaymentPayload(e,t){var i;const n=(null===(i=this.paymentIntegrationService.getState().getCart())||void 0===i?void 0:i.id)||\"\";return{methodId:e,paymentData:{formattedPayload:Object.assign(Object.assign({cart_id:n},t?{credit_card_token:{token:t}}:{}),{confirm:!1,payment_method_id:_.Link})}}}_shouldRequireShippingAddress(){const{getCartOrThrow:e}=this.paymentIntegrationService.getState(),{lineItems:t}=e();return!!t.physicalItems.length}_updateDisplayedPrice(){return V(this,void 0,void 0,function*(){this._stripeElements&&this._stripeElements.update({currency:this._getCurrency(),mode:\"payment\",amount:yield this._getTotalPrice()})})}_getCurrency(){if(!this._currencyCode){const{code:e}=this.paymentIntegrationService.getState().getCartOrThrow().currency;this._currencyCode=e.toLowerCase()}return this._currencyCode}_getTotalPrice(){return V(this,void 0,void 0,function*(){yield this.paymentIntegrationService.loadCheckout();const{getCheckoutOrThrow:e,getCartOrThrow:t}=this.paymentIntegrationService.getState(),{decimalPlaces:i}=t().currency,n=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.round)(e().outstandingBalance,i).toFixed(i);return this._toCents(+n)})}_getAvailableCountries(){var e;return V(this,void 0,void 0,function*(){const t=yield this.paymentIntegrationService.loadShippingCountries();return((null===(e=t.getShippingCountries())||void 0===e?void 0:e.map(e=>e.code))||[]).filter(e=>F.includes(e))})}_getAvailableShippingOptions(){var e,t;return V(this,void 0,void 0,function*(){const i=this.paymentIntegrationService.getState().getConsignments();if(!(null==i?void 0:i[0]))return;const n=i[0],r=(n.availableShippingOptions||[]).map(this._getStripeShippingOption.bind(this)),o=null===(e=n.selectedShippingOption)||void 0===e?void 0:e.id;return o?r.sort(e=>e.id===o?-1:0):yield this._handleShippingOptionChange(null===(t=r[0])||void 0===t?void 0:t.id),r})}_getStripeShippingOption({id:e,cost:t,description:i}){return{id:e,displayName:i,amount:this._toCents(t)}}_handleShippingOptionChange(e){return V(this,void 0,void 0,function*(){if(e&&\"shipping_option_unselected\"!==e)return this.paymentIntegrationService.selectShippingOption(e)})}_getAmountTransformer(){if(this._amountTransformer)return this._amountTransformer;const{getCart:e}=this.paymentIntegrationService.getState(),{currency:t}=e()||{};return t?new B(t.decimalPlaces):void 0}_toCents(e){const t=Math.round(100*e),i=this._getAmountTransformer();return i?i.toInteger(e):t}_toggleLoadingIndicator(e){e&&this._loadingIndicatorContainer?this.loadingIndicator.show(this._loadingIndicatorContainer):this.loadingIndicator.hide()}}const H=a(t=>{const i=new h((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)()),n=new x({containerStyles:U});return new G(t,i,new z(t,i),n)},[{id:\"stripeocs\"}]);class W extends p{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}function Y(e){return!(\"object\"!=typeof e||null===e||void 0!==e.shouldSaveInstrument&&\"boolean\"!=typeof e.shouldSaveInstrument||void 0!==e.shouldSetAsDefaultInstrument&&\"boolean\"!=typeof e.shouldSetAsDefaultInstrument)}function q(e){return Boolean(e.instrumentId)}class K extends d{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}function $(e){return null!==e&&\"object\"==typeof e&&\"cardNumberElementOptions\"in e&&\"cardCvcElementOptions\"in e&&\"cardExpiryElementOptions\"in e&&void 0!==e.cardNumberElementOptions&&void 0!==e.cardCvcElementOptions&&void 0!==e.cardExpiryElementOptions}var J,Z,Q,X;!function(e){e.Solid=\"solid\",e.Default=\"default\"}(J||(J={})),function(e){e.Alipay=\"alipay\",e.CardCvc=\"cardCvc\",e.CardExpiry=\"cardExpiry\",e.CardNumber=\"cardNumber\",e.CreditCard=\"card\",e.IDEAL=\"idealBank\",e.Sepa=\"iban\"}(Z||(Z={})),function(e){e.Alipay=\"alipay\",e.CreditCard=\"card\",e.IDEAL=\"ideal\",e.Sepa=\"sepa_debit\"}(Q||(Q={})),function(e){e.AuthFailure=\"auth_failure\"}(X||(X={}));class ee extends d{constructor(e){super(e===X.AuthFailure?\"User did not authenticate\":\"There was an error while processing your payment. Please try again or contact us.\"),this.type=\"stripev3_error\",this.subtype=e}}var te=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})};const ie=[Z.Alipay,Z.IDEAL];class ne{constructor(e,t){this.paymentIntegrationService=e,this.scriptLoader=t}initialize(e){return te(this,void 0,void 0,function*(){const{stripev3:t,methodId:i,gatewayId:n}=e;if(!n)throw new p('Unable to initialize payment because \"gatewayId\" argument is not provided.');this.initializeOptions=t,this.isDeinitialize=!1;const r=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(i),{initializationData:{stripePublishableKey:o,stripeConnectedAccount:s,useIndividualCardFields:a,allowRedisplayForStoredInstruments:d}}=r;this._allowRedisplayForStoredInstruments=d;const l=this.getInitializeOptions().form;this.useIndividualCardFields=a,this.stripeV3Client=yield this.loadStripeJs(o,s),this.isCreditCard(i)&&this.shouldShowTSVHostedForm(i,n)&&l?this.hostedForm=yield this.mountCardVerificationFields(l):this.stripeElement=yield this.mountCardFields(i)})}execute(e,i){var n,r;return te(this,void 0,void 0,function*(){const{payment:o}=e,s=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]);let a,d;if(!o||!o.paymentData)throw new W([\"payment.paymentData\"]);const{paymentData:l,gatewayId:u,methodId:h}=o,{shouldSaveInstrument:p,shouldSetAsDefaultInstrument:y}=Y(l)?l:{shouldSaveInstrument:!1,shouldSetAsDefaultInstrument:!1},g=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.includes)(ie,h),{isStoreCreditApplied:v}=this.paymentIntegrationService.getState().getCheckoutOrThrow();v&&(yield this.paymentIntegrationService.applyStoreCredit(v));try{g&&(yield this.paymentIntegrationService.submitOrder(s,i)),u&&(yield this.paymentIntegrationService.loadPaymentMethod(u,{params:{method:h}}));const e=this.paymentIntegrationService.getState();if(q(l)){yield this.paymentIntegrationService.submitOrder(s,i);const{instrumentId:t}=l,n=e.getPaymentMethodOrThrow(o.methodId).clientToken;if(!n)throw new m(c.MissingPaymentMethod);return yield this.executeWithVaulted(o,t,y,n)}const t=e.getPaymentMethodOrThrow(h),v=yield this.confirmStripePayment(t),{clientToken:S,method:f}=t,{id:_}=null!==(r=null!==(n=v.paymentIntent)&&void 0!==n?n:v.paymentMethod)&&void 0!==r?r:{id:\"\"};d=v.error,a={credit_card_token:{token:_},vault_payment_instrument:p,confirm:!1,set_as_default_stored_instrument:y},f===Z.CreditCard&&(a.client_token=S),g||(yield this.paymentIntegrationService.submitOrder(s,i));const I=this.buildPaymentPayload(h,a,y);yield this.paymentIntegrationService.submitPayment(I)}catch(e){yield this.processAdditionalAction(this.handleEmptyPaymentIntentError(e,d),h,p,y)}})}finalize(){return Promise.reject(new K)}deinitialize(){return this.hostedForm&&this.hostedForm.detach(),this.isDeinitialize=!0,this.unmountElement(),Promise.resolve()}buildPaymentPayload(e,t,i){return{methodId:e,paymentData:i?{formattedPayload:Object.assign(Object.assign({},t),{set_as_default_stored_instrument:i})}:{formattedPayload:t}}}isCancellationError(e){var t,i;return e&&-1!==(null===(i=null===(t=e.payment_intent.last_payment_error)||void 0===t?void 0:t.message)||void 0===i?void 0:i.indexOf(\"canceled\"))}isAuthError(e){return\"payment_intent_authentication_failure\"===(null==e?void 0:e.code)}isCreditCard(e){return e===Q.CreditCard}isHostedFieldAvailable(){var e;const t=this.getInitializeOptions(),r=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.omitBy)(null===(e=t.form)||void 0===e?void 0:e.fields,lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty);return!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty)(r)}isHostedPaymentFormEnabled(e,t){const{getPaymentMethodOrThrow:i}=this.paymentIntegrationService.getState(),n=i(e,t);return Boolean(n.config.isHostedFormEnabled)}confirmStripePayment(e){return te(this,void 0,void 0,function*(){const{clientToken:t,method:i,returnUrl:n}=e;if(!t)throw new m(c.MissingPaymentMethod);switch(i){case Z.Alipay:return this.getStripeJs().confirmAlipayPayment(t,{return_url:n},{handleActions:!1});case Z.IDEAL:{const e=this.mapStripePaymentData(Q.IDEAL,n);return this.getStripeJs().confirmIdealPayment(t,e,{handleActions:!1})}case Z.Sepa:{const e=this.mapStripePaymentData(Q.Sepa);return this.getStripeJs().confirmSepaDebitPayment(t,e)}default:{const e=this.useIndividualCardFields?this.getStripeCardElements()[0]:this.getStripeElement(),t=this.mapStripeBillingDetails(this.paymentIntegrationService.getState().getBillingAddress(),this.paymentIntegrationService.getState().getCustomer()),i=this._allowRedisplayForStoredInstruments;return this.getStripeJs().createPaymentMethod(Object.assign({type:Q.CreditCard,card:e,billing_details:t},i?{allow_redisplay:\"always\"}:{}))}}})}executeWithVaulted(e,t,i,n){var r;return te(this,void 0,void 0,function*(){const o={bigpay_token:{token:t},confirm:!0,client_token:n,set_as_default_stored_instrument:i};if(this.isHostedPaymentFormEnabled(e.methodId,e.gatewayId)&&this.hostedForm){const t=this.hostedForm;return e.paymentData&&q(e.paymentData)&&(e.paymentData=Object.assign(Object.assign({},e.paymentData),{instrumentId:JSON.stringify({token:(null===(r=e.paymentData)||void 0===r?void 0:r.instrumentId)||\"\",client_token:n})})),yield t.validate(),yield t.submit(e),this.paymentIntegrationService.loadCurrentOrder()}const s=this.buildPaymentPayload(e.methodId,o,i);return this.paymentIntegrationService.submitPayment(s)})}getInitializeOptions(){if(!this.initializeOptions)throw new k(N.PaymentNotInitialized);return this.initializeOptions}getStripeCardElements(){if(!this.stripeCardElements)throw new k(N.PaymentNotInitialized);return this.stripeCardElements}getStripeElement(){if(!this.stripeElement)throw new k(N.PaymentNotInitialized);return this.stripeElement}getStripeJs(){if(!this.stripeV3Client)throw new k(N.PaymentNotInitialized);return this.stripeV3Client}handleEmptyPaymentIntentError(e,t){return j(e)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.some)(e.body.errors,{code:\"required_field\"})&&t?new Error(t.message):e}loadStripeJs(e,t){return te(this,void 0,void 0,function*(){return this.stripeV3Client?Promise.resolve(this.stripeV3Client):this.scriptLoader.load(e,t,this.paymentIntegrationService.getState().getLocale())})}mapStripeAddress(e){if(e){const{city:t,countryCode:i,address1:n,address2:r,postalCode:o,stateOrProvinceCode:s}=e;return{city:t,country:i,line1:n,line2:r,postal_code:o,state:s}}return{line1:\"\"}}mapStripeBillingDetails(e,t){const{firstName:i,lastName:n}=e||t||{firstName:\"Guest\",lastName:\"\"},r=`${i} ${n}`.trim(),{options:o}=this.getInitializeOptions();if(this.useIndividualCardFields&&$(o)){const{zipCodeElementOptions:t}=o;if(t){const i=document.getElementById(t.containerId)?document.getElementById(t.containerId).value:\"\";i&&e&&(e=Object.assign(Object.assign({},e),{postalCode:i}))}}const s={address:this.mapStripeAddress(e)};if(t&&t.addresses[0]&&function(e){return\"object\"==typeof e&&null!==e&&\"id\"in e&&void 0!==e.id}(t.addresses[0])){const e=t.addresses[0],{email:i}=t,{phone:n}=e;return n?Object.assign(Object.assign({},s),{email:i,name:r,phone:n}):Object.assign(Object.assign({},s),{email:i,name:r})}if(e){const{email:t,phone:i}=e;return i?Object.assign(Object.assign({},s),{email:t,name:r,phone:i}):Object.assign(Object.assign({},s),{email:t,name:r})}return Object.assign(Object.assign({},s),{name:r})}mapStripePaymentData(e,t){const i=this.paymentIntegrationService.getState().getCustomer(),n=this.paymentIntegrationService.getState().getBillingAddress(),r={payment_method:{[e]:this.getStripeElement(),billing_details:this.mapStripeBillingDetails(n,i)}};return e===Q.IDEAL?Object.assign(Object.assign({},r),{return_url:t}):r}mountCardFields(e){const{options:t,containerId:i}=this.getInitializeOptions();let n;return new Promise((r,o)=>{switch(this.stripeElements||(this.stripeElements=this.getStripeJs().elements()),e){case Z.CreditCard:if(this.useIndividualCardFields&&$(t)){const{cardNumberElementOptions:e,cardExpiryElementOptions:i,cardCvcElementOptions:r}=t,s=this.stripeElements.getElement(Z.CardNumber)||this.stripeElements.create(Z.CardNumber,e),a=this.stripeElements.getElement(Z.CardExpiry)||this.stripeElements.create(Z.CardExpiry,i),d=this.stripeElements.getElement(Z.CardCvc)||this.stripeElements.create(Z.CardCvc,r);this.stripeCardElements=[s,a,d],n=this.stripeCardElements[0];try{s.mount(`#${e.containerId}`),a.mount(`#${i.containerId}`),d.mount(`#${r.containerId}`)}catch(e){this.isDeinitialize||o(new p(\"Unable to mount Stripe component without valid container ID.\"))}}else{n=this.stripeElements.getElement(e)||this.stripeElements.create(e,t);try{n.mount(`#${i}`)}catch(e){this.isDeinitialize||o(new p(\"Unable to mount Stripe component without valid container ID.\"))}}break;case Z.IDEAL:case Z.Sepa:n=this.stripeElements.getElement(e)||this.stripeElements.create(e,t);try{n.mount(`#${i}`)}catch(e){this.isDeinitialize||o(new p(\"Unable to mount Stripe component without valid container ID.\"))}case Z.Alipay:}r(n)})}mountCardVerificationFields(e){return te(this,void 0,void 0,function*(){const t=this.paymentIntegrationService.getState().getStoreConfig();if(!t)throw new m(c.MissingCheckoutConfig);const i=t.paymentSettings.bigpayBaseUrl,n=this.paymentIntegrationService.createHostedForm(i,e);return yield n.attach(),n})}processAdditionalAction(e,t,i=!1,n=!1){return te(this,void 0,void 0,function*(){if(!j(e))throw e;const r=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.some)(e.body.errors,{code:\"additional_action_required\"}),s=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.some)(e.body.errors,{code:\"three_d_secure_required\"});if(r){const t=e.body.additional_action_required;if(t&&\"redirect_to_url\"===t.type)return new Promise(()=>{t.data.redirect_url&&window.location.replace(t.data.redirect_url)})}if(s){const r=e.body.three_ds_result.token,o=!1;let s,a=!1;try{s=yield this.getStripeJs().confirmCardPayment(r)}catch(e){a=!0}if(null==s?void 0:s.error){if(this.isCancellationError(s.error))throw new M;if(this.isAuthError(s.error))throw new ee(X.AuthFailure);throw new Error(s.error.message)}const d={credit_card_token:{token:this.getPaymentToken(null==s?void 0:s.paymentIntent,r,a)},vault_payment_instrument:i,confirm:o},l=this.buildPaymentPayload(t,d,n);try{return yield this.paymentIntegrationService.submitPayment(l)}catch(e){throw this.handleEmptyPaymentIntentError(e,null==s?void 0:s.error)}}throw e})}getPaymentToken(e,t,i){return!e||i?t:e.id}shouldShowTSVHostedForm(e,t){return this.isHostedFieldAvailable()&&this.isHostedPaymentFormEnabled(e,t)}unmountElement(){this.stripeElement&&(this.stripeElement.unmount(),this.stripeElement=void 0)}}class re{constructor(e,t=window){this.scriptLoader=e,this.stripeWindow=t}load(e,t,i){return this.scriptLoader.loadScript(\"https://js.stripe.com/v3/\").then(()=>{if(!this.stripeWindow.Stripe)throw new l;return this.stripeWindow.Stripe(e,{stripeAccount:t,locale:i,betas:[\"payment_intent_beta_3\",\"alipay_pm_beta_1\"],apiVersion:\"2020-03-02;alipay_beta=v1\"})})}}const oe=a(t=>new ne(t,new re((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)())),[{gateway:\"stripev3\"}]),se={body:{},headers:{},status:0};class ae extends d{constructor(e,{message:t,errors:i}={}){const{body:n,headers:r,status:o}=e||se;super(t||\"An unexpected error has occurred.\"),this.name=\"RequestError\",this.type=\"request\",this.body=n,this.headers=r,this.status=o,this.errors=i||[]}}const de={ar:[\"ar\"],bg:[\"bg\"],cs:[\"cs\"],da:[\"da\"],de:[\"de\"],el:[\"el\"],en:[\"en\",\"en-GB\"],es:[\"es\",\"es-419\"],et:[\"et\"],fi:[\"fi\"],fil:[\"fil\"],fr:[\"fr\",\"fr-CA\"],he:[\"he\"],hr:[\"hr\"],hu:[\"hu\"],id:[\"id\"],it:[\"it\"],ja:[\"ja\"],ko:[\"ko\"],lt:[\"lt\"],lv:[\"lv\"],ms:[\"ms\"],mt:[\"mt\"],nb:[\"nb\"],nl:[\"nl\"],pl:[\"pl\"],pt:[\"pt\",\"pt-BR\"],ro:[\"ro\"],ru:[\"ru\"],sk:[\"sk\"],sl:[\"sl\"],sv:[\"sv\"],th:[\"th\"],tr:[\"tr\"],vi:[\"vi\"],zh:[\"zh\",\"zh-HK\",\"zh-TW\"]};function le(e){const[t,i]=e.replace(/_/g,\"-\").toLowerCase().split(\"-\"),n=de[t];if(!n)return\"auto\";const r=i?`${t}-${i.toUpperCase()}`:t;return n.indexOf(r)>-1?r:n[0]}var ce=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})};class ue{constructor(e,t,i){this.paymentIntegrationService=e,this.scriptLoader=t,this.stripeIntegrationService=i}initialize(e){return ce(this,void 0,void 0,function*(){const{stripeupe:t,methodId:i,gatewayId:n}=e;if(!(null==t?void 0:t.containerId))throw new k(N.PaymentNotInitialized);if(!n)throw new p('Unable to initialize payment because \"gatewayId\" argument is not provided.');return this._loadStripeElement(t,n,i).catch(e=>{var i;return null===(i=t.onError)||void 0===i?void 0:i.call(t,e)}),this.stripeIntegrationService.initCheckoutEventsSubscription(n,i,t,this._stripeElements),Promise.resolve()})}execute(e,t){return ce(this,void 0,void 0,function*(){const{payment:i}=e,n=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]);if(!i||!i.paymentData)throw new W([\"payment.paymentData\"]);if(!this._stripeUPEClient)throw new k(N.PaymentNotInitialized);const{paymentData:r,methodId:o,gatewayId:s}=i,{shouldSaveInstrument:a=!1,shouldSetAsDefaultInstrument:d=!1}=Y(r)?r:{},l=this.paymentIntegrationService.getState(),{isStoreCreditApplied:c}=l.getCheckoutOrThrow(),u=l.getPaymentProviderCustomerOrThrow(),h=(w(u)?u:{}).stripeLinkAuthenticationState;if(c&&(yield this.paymentIntegrationService.applyStoreCredit(c)),s){yield this.stripeIntegrationService.updateStripePaymentIntent(s,o);const{email:e}=l.getCustomerOrThrow();if(void 0!==h&&!e){const e=l.getBillingAddressOrThrow();yield this.paymentIntegrationService.updateBillingAddress(e)}}if(yield this.paymentIntegrationService.submitOrder(n,t),q(r)){const{instrumentId:e}=r;return void(yield this._executeWithVaulted(i.methodId,e,d))}yield this._executeWithStripeConfirmation(i.methodId,!h&&a,d)})}finalize(){return Promise.reject(new K)}deinitialize(){var e,t;return null===(t=null===(e=this._stripeElements)||void 0===e?void 0:e.getElement(E.PAYMENT))||void 0===t||t.unmount(),this.stripeIntegrationService.deinitialize(),this._stripeElements=void 0,this._stripeUPEClient=void 0,Promise.resolve()}_executeWithStripeConfirmation(e,t,i){return ce(this,void 0,void 0,function*(){const n=this.paymentIntegrationService.getState(),{clientToken:r}=n.getPaymentMethodOrThrow(e),o=this._getPaymentPayload(e,r||\"\",t,i);try{yield this.paymentIntegrationService.submitPayment(o)}catch(n){yield this._processAdditionalActionWithStripeConfirmation(n,e,t,i)}})}_executeWithVaulted(e,t,i){var n;return ce(this,void 0,void 0,function*(){const r=this.paymentIntegrationService.getState(),o=r.getPaymentMethodOrThrow(e),s=null===(n=r.getCart())||void 0===n?void 0:n.id;try{const n={methodId:e,paymentData:{formattedPayload:{cart_id:s,bigpay_token:{token:t},confirm:!1,client_token:o.clientToken,set_as_default_stored_instrument:i}}};return yield this.paymentIntegrationService.submitPayment(n)}catch(t){return this._processVaultedAdditionalAction(t,e,i)}})}_loadStripeElement(e,t,i){return ce(this,void 0,void 0,function*(){const{containerId:n,style:r,render:o,initStripeElementUpdateTrigger:s}=e,a=yield this.paymentIntegrationService.loadPaymentMethod(t,{params:{method:i}}),d=a.getPaymentMethodOrThrow(i),{checkoutSettings:l}=a.getStoreConfigOrThrow();if(!y(d))throw new m(c.MissingPaymentMethod);const{clientToken:u,initializationData:h}=d,{shopperLanguage:p,allowRedisplayForStoredInstruments:g=!1}=h;if(this._allowRedisplayForStoredInstruments=g,!u)throw new m(c.MissingPaymentMethod);let v;if(this._stripeUPEClient=yield this._loadStripeJs(h),this._isStripeElementUpdateEnabled=!!l.features[\"PI-1679.trigger_update_stripe_payment_element\"]&&\"function\"==typeof s,r){const e=r;v={variables:this.stripeIntegrationService.mapAppearanceVariables(r),rules:{\".Input\":this.stripeIntegrationService.mapInputAppearanceRules(e)}}}this._stripeElements=yield this.scriptLoader.getElements(this._stripeUPEClient,{clientSecret:u,locale:le(p),appearance:v});const{getBillingAddress:S,getShippingAddress:f}=a,{postalCode:_}=f()||S()||{},b=this._stripeElements.getElement(E.PAYMENT)||this._stripeElements.create(E.PAYMENT,Object.assign({fields:{billingDetails:{email:I.NEVER,address:{country:I.NEVER,city:I.NEVER,postalCode:_?I.NEVER:I.AUTO}}},wallets:{applePay:I.NEVER,googlePay:I.NEVER}},this._getStripeElementTerms()));this.stripeIntegrationService.mountElement(b,n),b.on(P.READY,()=>{o()}),b.on(P.CHANGE,e=>{(null==e?void 0:e.value)&&\"type\"in e.value&&this._updateStripeLinkStateByElementType(e.value.type)}),this._isStripeElementUpdateEnabled&&(null==s||s(this._updateStripeElement.bind(this)))})}_processAdditionalActionWithStripeConfirmation(e,t,i=!1,n=!1){return ce(this,void 0,void 0,function*(){if(!j(e)||!this.stripeIntegrationService.isAdditionalActionError(e.body.errors))throw e;if(!this._stripeUPEClient||!this._stripeElements)throw new k(N.PaymentNotInitialized);const{data:r}=e.body.additional_action_required,{token:o}=r,{paymentIntent:s}=yield this._confirmStripePaymentOrThrow(t,r),a=this._getPaymentPayload(t,(null==s?void 0:s.id)||o,i,n);try{yield this.paymentIntegrationService.submitPayment(a)}catch(e){this.stripeIntegrationService.throwPaymentConfirmationProceedMessage()}})}_confirmStripePaymentOrThrow(e,t){var i,n;return ce(this,void 0,void 0,function*(){const{token:r,redirect_url:o}=t,s=this.stripeIntegrationService.mapStripePaymentData(this._stripeElements,o,!!this._allowRedisplayForStoredInstruments);let a;try{const t=(yield this.stripeIntegrationService.isPaymentCompleted(e,this._stripeUPEClient))?yield null===(n=this._stripeUPEClient)||void 0===n?void 0:n.retrievePaymentIntent(r||\"\"):yield null===(i=this._stripeUPEClient)||void 0===i?void 0:i.confirmPayment(s);if(a=null==t?void 0:t.error,a||!(null==t?void 0:t.paymentIntent))throw new T;return t}catch(e){this.stripeIntegrationService.throwStripeError(a)}})}_processVaultedAdditionalAction(e,t,i=!1){var n;return ce(this,void 0,void 0,function*(){if(!t||!j(e)||!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.some)(e.body.errors,{code:\"three_d_secure_required\"}))throw e;if(!this._stripeUPEClient||!this._stripeElements)throw new k(N.PaymentNotInitialized);const r=e.body.three_ds_result.token;let s,a=!1;try{s=yield this._stripeUPEClient.confirmCardPayment(r)}catch(e){try{s=yield this._stripeUPEClient.retrievePaymentIntent(r)}catch(e){a=!0}}if((null==s?void 0:s.error)&&this.stripeIntegrationService.throwStripeError(s.error),!(null==s?void 0:s.paymentIntent)&&!a)throw new ae;const d=this._getPaymentPayload(t,a?r:null===(n=null==s?void 0:s.paymentIntent)||void 0===n?void 0:n.id,!1,i);return this.paymentIntegrationService.submitPayment(d)})}_loadStripeJs(e){return ce(this,void 0,void 0,function*(){return this._stripeUPEClient?this._stripeUPEClient:this.scriptLoader.getStripeClient(e,g,v)})}_getPaymentPayload(e,t,i=!1,n=!1){var r;return{methodId:e,paymentData:{formattedPayload:{cart_id:(null===(r=this.paymentIntegrationService.getState().getCart())||void 0===r?void 0:r.id)||\"\",credit_card_token:{token:t},confirm:!1,vault_payment_instrument:i,set_as_default_stored_instrument:n}}}}_updateStripeElement({shouldShowTerms:e}){var t;const i=null===(t=this._stripeElements)||void 0===t?void 0:t.getElement(E.PAYMENT);null==i||i.update(Object.assign({},this._getStripeElementTerms(e)))}_getStripeElementTerms(e){let t=I.AUTO;return this._isStripeElementUpdateEnabled&&(t=e?I.AUTO:I.NEVER),{terms:{card:t}}}_updateStripeLinkStateByElementType(e){const t=this.paymentIntegrationService.getState().getPaymentProviderCustomerOrThrow(),i=e===_.Link;!w(t)&&i&&this.paymentIntegrationService.updatePaymentProviderCustomer({stripeLinkAuthenticationState:i})}}const he=a(t=>{const i=new h((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)());return new ue(t,i,new z(t,i))},[{gateway:\"stripeupe\"},{gateway:\"stripeupe\",id:\"klarna\"}]);var pe=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})};class me{constructor(e,t,i){this.paymentIntegrationService=e,this.scriptLoader=t,this.stripeIntegrationService=i}initialize(e){var t;return pe(this,void 0,void 0,function*(){const{stripeocs:i,methodId:n,gatewayId:r}=e;if(!(null==i?void 0:i.containerId))throw new k(N.PaymentNotInitialized);if(!r)throw new p('Unable to initialize payment because \"gatewayId\" argument is not provided.');try{yield this._initializeStripeElement(i,r,n)}catch(e){e instanceof Error&&(null===(t=i.onError)||void 0===t||t.call(i,e))}this.stripeIntegrationService.initCheckoutEventsSubscription(r,n,i,this.stripeElements)})}execute(e,t){return pe(this,void 0,void 0,function*(){const{payment:i}=e,n=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]),{methodId:r,gatewayId:o}=i||{};if(!this.stripeClient)throw new k(N.PaymentNotInitialized);if(!o||!r)throw new p('Unable to initialize payment because \"gatewayId\" or \"methodId\" argument is not provided.');const s=this.paymentIntegrationService.getState(),{isStoreCreditApplied:a}=s.getCheckoutOrThrow();a&&(yield this.paymentIntegrationService.applyStoreCredit(a)),yield this.stripeIntegrationService.updateStripePaymentIntent(o,r),yield this.paymentIntegrationService.submitOrder(n,t);const{clientToken:d}=s.getPaymentMethodOrThrow(r),l=this._getPaymentPayload(r,d||\"\");try{yield this.paymentIntegrationService.submitPayment(l)}catch(e){yield this._processAdditionalAction(e,r)}})}finalize(){return Promise.reject(new K)}deinitialize(){var e;const t=null===(e=this.stripeElements)||void 0===e?void 0:e.getElement(E.PAYMENT);return null==t||t.unmount(),null==t||t.destroy(),this.stripeIntegrationService.deinitialize(),this.stripeElements=void 0,this.stripeClient=void 0,Promise.resolve()}_initializeStripeElement(e,t,i){return pe(this,void 0,void 0,function*(){let n=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(i);if((null==n?void 0:n.clientToken)||(n=(yield this.paymentIntegrationService.loadPaymentMethod(t,{params:{method:i}})).getPaymentMethodOrThrow(i)),!y(n))throw new m(c.MissingPaymentMethod);const{clientToken:r,initializationData:o}=n,{shopperLanguage:s,customerSessionToken:a,enableLink:d}=o;if(!r)throw new m(c.MissingPaymentMethod);this.stripeClient=yield this._loadStripeJs(o);const{appearance:l,containerId:u,fonts:h,layout:p,render:g,paymentMethodSelect:v,handleClosePaymentMethod:S,togglePreloader:f}=e;this.stripeElements=yield this.scriptLoader.getElements(this.stripeClient,{clientSecret:r,customerSessionClientSecret:a,locale:le(s),appearance:l,fonts:h});const{getBillingAddress:_,getShippingAddress:b}=this.paymentIntegrationService.getState(),C=_(),{postalCode:w}=b()||C||{},A=this.stripeElements.getElement(E.PAYMENT)||this.stripeElements.create(E.PAYMENT,{fields:{billingDetails:{email:I.NEVER,address:{country:I.NEVER,city:I.NEVER,postalCode:w?I.NEVER:I.AUTO}}},wallets:{applePay:I.NEVER,googlePay:I.NEVER,link:d?I.AUTO:I.NEVER},layout:p,savePaymentMethod:{maxVisiblePaymentMethods:20},defaultValues:{billingDetails:{email:(null==C?void 0:C.email)||\"\"}}});this.stripeIntegrationService.mountElement(A,u),A.on(P.LOADER_START,()=>{null==f||f(!1)}),A.on(P.READY,()=>{g()}),A.on(P.CHANGE,e=>{this._onStripeElementChange(e,t,i,v)}),null==S||S(this._collapseStripeElement.bind(this))})}_loadStripeJs(e){return pe(this,void 0,void 0,function*(){return this.stripeClient?this.stripeClient:this.scriptLoader.getStripeClient(e)})}_collapseStripeElement(){var e;const t=null===(e=this.stripeElements)||void 0===e?void 0:e.getElement(E.PAYMENT);null==t||t.collapse()}_getPaymentPayload(e,t,i){var n;const r=(null===(n=this.paymentIntegrationService.getState().getCart())||void 0===n?void 0:n.id)||\"\",{card:o,us_bank_account:s}=i||{},a=this._shouldSaveInstrument(o)||this._shouldSaveInstrument(s),d=this._getTokenizedOptions(t,i);return{methodId:e,paymentData:{formattedPayload:Object.assign({cart_id:r,confirm:!1,method:this.selectedMethodId,vault_payment_instrument:a},d)}}}_processAdditionalAction(e,t){return pe(this,void 0,void 0,function*(){if(!j(e)||!this.stripeIntegrationService.isAdditionalActionError(e.body.errors))throw e;if(!this.stripeClient||!this.stripeElements)throw new k(N.PaymentNotInitialized);const{data:i}=e.body.additional_action_required,{token:n}=i,{paymentIntent:r}=yield this._confirmStripePaymentOrThrow(t,i),{client_secret:o,payment_method_options:s}=r||{},a=this._getPaymentPayload(t,o||n,s);try{return yield this.paymentIntegrationService.submitPayment(a)}catch(e){this.stripeIntegrationService.throwPaymentConfirmationProceedMessage()}})}_confirmStripePaymentOrThrow(e,t){var i,n;return pe(this,void 0,void 0,function*(){const{token:r,redirect_url:o}=t,s=this.stripeIntegrationService.mapStripePaymentData(this.stripeElements,o);let a;try{const t=(yield this.stripeIntegrationService.isPaymentCompleted(e,this.stripeClient))?yield null===(n=this.stripeClient)||void 0===n?void 0:n.retrievePaymentIntent(r||\"\"):yield null===(i=this.stripeClient)||void 0===i?void 0:i.confirmPayment(s);if(a=null==t?void 0:t.error,a||!(null==t?void 0:t.paymentIntent))throw new T;return t}catch(e){return this.stripeIntegrationService.throwStripeError(a)}})}_onStripeElementChange(e,t,i,n){(e=>\"object\"==typeof e&&null!==e&&\"value\"in e&&\"collapsed\"in e)(e)&&!e.collapsed&&(this.selectedMethodId=e.value.type,null==n||n(`${t}-${i}`))}_shouldSaveInstrument(e){const t=null==e?void 0:e.setup_future_usage;return t===C.ON_SESSION||t===C.OFF_SESSION}_getTokenizedOptions(e,t){return this._shouldSaveInstrument(null==t?void 0:t.us_bank_account)?{tokenized_ach:{token:e}}:{credit_card_token:{token:e}}}}const ye=a(t=>{const i=new h((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)());return new me(t,i,new z(t,i))},[{gateway:\"stripeocs\",id:\"optimized_checkout\"}]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9zdHJpcGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDQSxJQUFJQSxFQUFzQixDQUFDLEVDQ1osU0FBU0MsRUFDcEJDLEVBQ0FDLEdBSUEsT0FGQUMsUUFBUUMsSUFBSSxhQUFjRixHQUVuQkcsT0FBT0MsT0FBT0wsRUFBUSxDQUFFQyxjQUNuQyxDQ1JBSCxFQUFvQlEsRUFBSSxDQUFDQyxFQUFTQyxLQUNqQyxJQUFJLElBQUlDLEtBQU9ELEVBQ1hWLEVBQW9CWSxFQUFFRixFQUFZQyxLQUFTWCxFQUFvQlksRUFBRUgsRUFBU0UsSUFDNUVMLE9BQU9PLGVBQWVKLEVBQVNFLEVBQUssQ0FBRUcsWUFBWSxFQUFNQyxJQUFLTCxFQUFXQyxNQ0ozRVgsRUFBb0JZLEVBQUksQ0FBQ0ksRUFBS0MsSUFBVVgsT0FBT1ksVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsR0NPbkUsTUFBZUksVUFBc0JDLE1BSWhELFdBQUFDLENBQVlDLEdDWEQsSUFBcUNOLEVEWTVDTyxNQUFNRCxHQUFXLHFDQUpyQixLQUFBRSxLQUFPLGdCQUNQLEtBQUFDLEtBQU8sV0NUeUNULGFEY1pBLFVDYmhDWixPQUFPc0IsZUFDUHRCLE9BQU9zQixlRFlRQyxLQ1plWCxHRFlmVyxLQ1ZSQyxVQUFZWixFRFlvQixtQkFBNUJJLE1BQU1TLGtCQUNiVCxNQUFNUyxrQkFBa0JGLGlCQUV4QkEsS0FBS0csTUFBUSxJQUFJVixNQUFNTyxLQUFLTCxTQUFTUSxLQUU3QyxFRWZXLE1BQU1DLFVBQTRDWixFQUM3RCxXQUFBRSxDQUFZQyxHQUNSQyxNQUNJRCxHQUNJLHVHQUdSSyxLQUFLSCxLQUFPLHNDQUNaRyxLQUFLRixLQUFPLG1DQUNoQixFLElDYlFPLEUsa1NDVUcsTUFBTUMsRUFDakIsV0FBQVosQ0FDWWEsRUFDQUMsRUFBaUNDLFFBRGpDLEtBQUFGLGFBQUFBLEVBQ0EsS0FBQUMsYUFBQUEsQ0FDVCxDQUVHLGVBQUFFLENB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QUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxL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LEdBQWV0UCxFQVhYNkYsSUFFQSxNQUFNd1YsRUFBcUIsSUFBSW5aLEVBQW1CeUksMkVBQUFBLElBRWxELE9BQU8sSUFBSXljLEdBQ1B2aEIsRUFDQXdWLEVBQ0EsSUFBSWpRLEVBQXlCdkYsRUFBMkJ3VixLQUlFLENBQzlELENBQUV5SCxRQUFTLFlBQWEvWixHQUFJLHdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay93ZWJwYWNrL2Jvb3RzdHJhcD9mZmNjIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvdG8tcmVzb2x2YWJsZS1tb2R1bGUudHM/ZDUyMCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycz85OTRjIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZD85ZWE0Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3N0YW5kYXJkLWVycm9yLnRzPzhhMDMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvc2V0LXByb3RvdHlwZS1vZi50cz84NDVhIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3BheW1lbnQtbWV0aG9kLWNsaWVudC11bmF2YWlsYWJsZS1lcnJvci50cz9mOGVjIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL21pc3NpbmctZGF0YS1lcnJvci50cz9iN2RjIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtdXRpbHMvc3JjL3N0cmlwZS1zY3JpcHQtbG9hZGVyLnRzP2MxMjEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvaW52YWxpZC1hcmd1bWVudC1lcnJvci50cz8zOTIxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtdXRpbHMvc3JjL2lzLXN0cmlwZS1wYXltZW50LW1ldGhvZC1saWtlLnRzPzIwMTkiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS11dGlscy9zcmMvc3RyaXBlLXVwZS9zdHJpcGUtdXBlLWNvbnN0YW50cy50cz9iOTQwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtdXRpbHMvc3JjL3N0cmlwZS50cz80MDkxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZS11cGUvaXMtc3RyaXBlLWFjY2VsZXJhdGVkLWNoZWNrb3V0LWN1c3RvbWVyLnRzP2NlNjciLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS1pbnRlZ3JhdGlvbi9zcmMvc3RyaXBlLXVwZS9zdHJpcGUtdXBlLWN1c3RvbWVyLXN0cmF0ZWd5LnRzP2NjNzQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS1pbnRlZ3JhdGlvbi9zcmMvc3RyaXBlLXVwZS9jcmVhdGUtc3RyaXBlLXVwZS1jdXN0b21lci1zdHJhdGVneS50cz84NjAxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3BheW1lbnQtbWV0aG9kLWNhbmNlbGxlZC1lcnJvci50cz8wODkwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3BheW1lbnQtbWV0aG9kLWZhaWxlZC1lcnJvci50cz8wN2RkIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL25vdC1pbml0aWFsaXplZC1lcnJvci50cz84YjRkIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtdXRpbHMvc3JjL3N0cmlwZS1pbnRlZ3JhdGlvbi1zZXJ2aWNlLnRzPzcxNTIiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS11dGlscy9zcmMvaXMtc3RyaXBlLWVycm9yLnRzPzVlM2EiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3VpL3NyYy9sb2FkaW5nLWluZGljYXRvci9sb2FkaW5nLWluZGljYXRvci50cz9iMDg3Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL2lzLXJlcXVlc3QtZXJyb3IudHM/YjQzZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2NvbW1vbi91dGlsaXR5L2Ftb3VudC10cmFuc2Zvcm1lci50cz8xZDc4Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZS1vY3MvY29uc3RhbnRzLnRzP2VhNzIiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS1pbnRlZ3JhdGlvbi9zcmMvc3RyaXBlLW9jcy9zdHJpcGUtbGluay12Mi1jdXN0b21lci1zdHJhdGVneS50cz81ODlkIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZS1vY3MvY3JlYXRlLXN0cmlwZS1saW5rLXYyLWN1c3RvbWVyLXN0cmF0ZWd5LnRzP2Q1M2MiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1hcmd1bWVudC1pbnZhbGlkLWVycm9yLnRzP2E1MDEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9wYXltZW50L2lzLWhvc3RlZC1pbnRydW1lbnQtbGlrZS50cz84NzYzIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvcGF5bWVudC9pcy12YXVsdGVkLWluc3RydW1lbnQudHM/MTgwZiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9vcmRlci1maW5hbGl6YXRpb24tbm90LXJlcXVpcmVkLWVycm9yLnRzP2I1YTEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS1pbnRlZ3JhdGlvbi9zcmMvc3RyaXBldjMvaXMtaW5kaXZpZHVhbC1jYXJkLWVsZW1lbnQtb3B0aW9ucy50cz8yNjE1Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZXYzL3N0cmlwZXYzLnRzPzBhYjEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS1pbnRlZ3JhdGlvbi9zcmMvc3RyaXBldjMvc3RyaXBldjMtZXJyb3IudHM/MWQ1OSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvc3RyaXBlLWludGVncmF0aW9uL3NyYy9zdHJpcGV2My9zdHJpcGV2My1wYXltZW50LXN0cmF0ZWd5LnRzP2FhMDkiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9iaWxsaW5nL2lzLWJpbGxpbmctYWRkcmVzcy1saWtlLnRzPzg1MzAiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS1pbnRlZ3JhdGlvbi9zcmMvc3RyaXBldjMvc3RyaXBldjMtc2NyaXB0LWxvYWRlci50cz9jODFlIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZXYzL2NyZWF0ZS1zdHJpcGV2My1wYXltZW50LXN0cmF0ZWd5LnRzPzZhYjkiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcmVxdWVzdC1lcnJvci50cz9jODQwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtdXRpbHMvc3JjL3N0cmlwZS1zdXBwb3J0ZWQtbG9jYWxlcy50cz9hM2MxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtdXRpbHMvc3JjL2Zvcm1hdC1sb2NhbGUudHM/ZGI4NSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvc3RyaXBlLWludGVncmF0aW9uL3NyYy9zdHJpcGUtdXBlL3N0cmlwZS11cGUtcGF5bWVudC1zdHJhdGVneS50cz85NjBkIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZS11cGUvY3JlYXRlLXN0cmlwZS11cGUtcGF5bWVudC1zdHJhdGVneS50cz85NTA5Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZS1vY3Mvc3RyaXBlLW9jcy1wYXltZW50LXN0cmF0ZWd5LnRzP2RhNDQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS11dGlscy9zcmMvaXMtc3RyaXBlLXBheW1lbnQtZXZlbnQudHM/ZTRhZSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvc3RyaXBlLWludGVncmF0aW9uL3NyYy9zdHJpcGUtb2NzL2NyZWF0ZS1zdHJpcGUtb2NzLXBheW1lbnQtc3RyYXRlZ3kudHM/MmE0NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiaW1wb3J0IFJlc29sdmFibGVNb2R1bGUgZnJvbSAnLi9yZXNvbHZhYmxlLW1vZHVsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvUmVzb2x2YWJsZU1vZHVsZTxUTW9kdWxlLCBUSWRlbnRpZmllcj4oXG4gICAgbW9kdWxlOiBUTW9kdWxlLFxuICAgIHJlc29sdmVJZHM6IFRJZGVudGlmaWVyW10sXG4pOiBSZXNvbHZhYmxlTW9kdWxlPFRNb2R1bGUsIFRJZGVudGlmaWVyPiB7XG4gICAgY29uc29sZS5sb2coJ3Jlc29sdmVJZHMnLCByZXNvbHZlSWRzKTtcblxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG1vZHVsZSwgeyByZXNvbHZlSWRzIH0pO1xufVxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImltcG9ydCBDdXN0b21FcnJvciBmcm9tICcuL2N1c3RvbS1lcnJvcic7XG5pbXBvcnQgc2V0UHJvdG90eXBlT2YgZnJvbSAnLi9zZXQtcHJvdG90eXBlLW9mJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHR5cGUgc2hvdWxkIG5vdCBiZSBjb25zdHJ1Y3RlZCBkaXJlY3RseS4gSXQgaXMgYSBiYXNlIGNsYXNzIGZvclxuICogYWxsIGN1c3RvbSBlcnJvcnMgdGhyb3duIGluIHRoaXMgbGlicmFyeS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgU3RhbmRhcmRFcnJvciBleHRlbmRzIEVycm9yIGltcGxlbWVudHMgQ3VzdG9tRXJyb3Ige1xuICAgIG5hbWUgPSAnU3RhbmRhcmRFcnJvcic7XG4gICAgdHlwZSA9ICdzdGFuZGFyZCc7XG5cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ0FuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkLicpO1xuXG4gICAgICAgIHNldFByb3RvdHlwZU9mKHRoaXMsIG5ldy50YXJnZXQucHJvdG90eXBlKTtcblxuICAgICAgICBpZiAodHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBuZXcudGFyZ2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhY2sgPSBuZXcgRXJyb3IodGhpcy5tZXNzYWdlKS5zdGFjaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKG9iamVjdDogYW55LCBwcm90b3R5cGU6IG9iamVjdCkge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKG9iamVjdCwgcHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3QuX19wcm90b19fID0gcHJvdG90eXBlO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3Q7XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBmYWlsc1xuICogdG8gbG9hZCwgb3IgZm9yIHNvbWUgcmVhc29uLCBpdCBpcyBpbmFjY2Vzc2libGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBpcyBub3QgbG9hZGVkIG9yIHJlYWR5IHRvIGJlIHVzZWQuJyxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAncGF5bWVudF9tZXRob2RfY2xpZW50X3VuYXZhaWxhYmxlJztcbiAgICB9XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuZXhwb3J0IGVudW0gTWlzc2luZ0RhdGFFcnJvclR5cGUge1xuICAgIE1pc3NpbmdCaWxsaW5nQWRkcmVzcyxcbiAgICBNaXNzaW5nQ2FydCxcbiAgICBNaXNzaW5nQ2hlY2tvdXQsXG4gICAgTWlzc2luZ0NvbnNpZ25tZW50cyxcbiAgICBNaXNzaW5nQ3VzdG9tZXIsXG4gICAgTWlzc2luZ0NoZWNrb3V0Q29uZmlnLFxuICAgIE1pc3NpbmdPcmRlcixcbiAgICBNaXNzaW5nT3JkZXJDb25maWcsXG4gICAgTWlzc2luZ09yZGVySWQsXG4gICAgTWlzc2luZ1BheW1lbnQsXG4gICAgTWlzc2luZ1BheW1lbnRJZCxcbiAgICBNaXNzaW5nUGF5bWVudEluc3RydW1lbnQsXG4gICAgTWlzc2luZ1BheW1lbnRNZXRob2QsXG4gICAgTWlzc2luZ1BheW1lbnRSZWRpcmVjdFVybCxcbiAgICBNaXNzaW5nUGF5bWVudFN0YXR1cyxcbiAgICBNaXNzaW5nUGF5bWVudFRva2VuLFxuICAgIE1pc3NpbmdTaGlwcGluZ0FkZHJlc3MsXG59XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciB3aGVuIGRhdGEgdGhhdCBpcyBleHBlY3RlZCB0byBleGlzdCBpcyBtaXNzaW5nLiBVc3VhbGx5IGl0XG4gKiBpcyBkdWUgdG8gdGhlIGZhY3QgdGhhdCBjZXJ0YWluIGRhdGEgaGFzIG5vdCBiZWVuIHJldHJpZXZlZCBmcm9tIG9yIHNhdmVkIHRvXG4gKiB0aGUgc2VydmVyIHlldC4gQW5kIHN1Y2ggZGF0YSBpcyByZXF1aXJlZCB0byBwZXJmb3JtIGNlcnRhaW4gYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWlzc2luZ0RhdGFFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdWJ0eXBlOiBNaXNzaW5nRGF0YUVycm9yVHlwZSkge1xuICAgICAgICBzdXBlcihnZXRFcnJvck1lc3NhZ2Uoc3VidHlwZSkpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdNaXNzaW5nRGF0YUVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ21pc3NpbmdfZGF0YSc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UodHlwZTogTWlzc2luZ0RhdGFFcnJvclR5cGUpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdCaWxsaW5nQWRkcmVzczpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBiaWxsaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NhcnQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY2FydCBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ29uc2lnbm1lbnRzOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNvbnNpZ25tZW50cyBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ2hlY2tvdXQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY2hlY2tvdXQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0N1c3RvbWVyOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGN1c3RvbWVyIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDaGVja291dENvbmZpZzpcbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nT3JkZXJDb25maWc6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY29uZmlndXJhdGlvbiBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nT3JkZXI6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugb3JkZXIgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ09yZGVySWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugb3JkZXIgSUQgaXMgdW5hdmFpbGFibGUgb3Igbm90IGdlbmVyYXRlZCB5ZXQuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHBheW1lbnQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRUb2tlbjpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgdG9rZW4gcmVxdWlyZWQgdG8gc3VibWl0IGEgcGF5bWVudCBpcyBtaXNzaW5nLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBwYXltZW50IG1ldGhvZCBkYXRhIGlzIHVuYXZhaWxhYmxlIG9yIG5vdCBwcm9wZXJseSBjb25maWd1cmVkLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nU2hpcHBpbmdBZGRyZXNzOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHNoaXBwaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHJlcXVpcmVkIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7IFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7XG4gICAgU3RyaXBlQ2xpZW50LFxuICAgIFN0cmlwZUVsZW1lbnRzLFxuICAgIFN0cmlwZUVsZW1lbnRzT3B0aW9ucyxcbiAgICBTdHJpcGVIb3N0V2luZG93LFxuICAgIFN0cmlwZUluaXRpYWxpemF0aW9uRGF0YSxcbn0gZnJvbSAnLi9zdHJpcGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdHJpcGVTY3JpcHRMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHNjcmlwdExvYWRlcjogU2NyaXB0TG9hZGVyLFxuICAgICAgICBwcml2YXRlIHN0cmlwZVdpbmRvdzogU3RyaXBlSG9zdFdpbmRvdyA9IHdpbmRvdyxcbiAgICApIHt9XG5cbiAgICBhc3luYyBnZXRTdHJpcGVDbGllbnQoXG4gICAgICAgIGluaXRpYWxpemF0aW9uRGF0YTogU3RyaXBlSW5pdGlhbGl6YXRpb25EYXRhLFxuICAgICAgICBiZXRhcz86IHN0cmluZ1tdLFxuICAgICAgICBhcGlWZXJzaW9uPzogc3RyaW5nLFxuICAgICk6IFByb21pc2U8U3RyaXBlQ2xpZW50PiB7XG4gICAgICAgIGlmICh0aGlzLnN0cmlwZVdpbmRvdy5iY1N0cmlwZUNsaWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyaXBlV2luZG93LmJjU3RyaXBlQ2xpZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RyaXBlID0gYXdhaXQgdGhpcy5sb2FkKCk7XG4gICAgICAgIGNvbnN0IHsgc3RyaXBlUHVibGlzaGFibGVLZXksIHN0cmlwZUNvbm5lY3RlZEFjY291bnQgfSA9IGluaXRpYWxpemF0aW9uRGF0YTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIC4uLihzdHJpcGVDb25uZWN0ZWRBY2NvdW50ID8geyBzdHJpcGVBY2NvdW50OiBzdHJpcGVDb25uZWN0ZWRBY2NvdW50IH0gOiB7fSksXG4gICAgICAgICAgICAuLi4oYmV0YXMgPyB7IGJldGFzIH0gOiB7fSksXG4gICAgICAgICAgICAuLi4oYXBpVmVyc2lvbiA/IHsgYXBpVmVyc2lvbiB9IDoge30pLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHN0cmlwZUNsaWVudCA9IHN0cmlwZTxTdHJpcGVDbGllbnQ+KHN0cmlwZVB1Ymxpc2hhYmxlS2V5LCBvcHRpb25zKTtcblxuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuc3RyaXBlV2luZG93LCB7IGJjU3RyaXBlQ2xpZW50OiBzdHJpcGVDbGllbnQgfSk7XG5cbiAgICAgICAgcmV0dXJuIHN0cmlwZUNsaWVudDtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRFbGVtZW50cyhcbiAgICAgICAgc3RyaXBlQ2xpZW50OiBTdHJpcGVDbGllbnQsXG4gICAgICAgIG9wdGlvbnM6IFN0cmlwZUVsZW1lbnRzT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPFN0cmlwZUVsZW1lbnRzPiB7XG4gICAgICAgIGxldCBzdHJpcGVFbGVtZW50cyA9IHRoaXMuc3RyaXBlV2luZG93LmJjU3RyaXBlRWxlbWVudHM7XG5cbiAgICAgICAgaWYgKCFzdHJpcGVFbGVtZW50cykge1xuICAgICAgICAgICAgc3RyaXBlRWxlbWVudHMgPSBzdHJpcGVDbGllbnQuZWxlbWVudHMob3B0aW9ucyk7XG5cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5zdHJpcGVXaW5kb3csIHsgYmNTdHJpcGVFbGVtZW50czogc3RyaXBlRWxlbWVudHMgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZVN0cmlwZUVsZW1lbnRzKG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0cmlwZUVsZW1lbnRzO1xuICAgIH1cblxuICAgIGFzeW5jIHVwZGF0ZVN0cmlwZUVsZW1lbnRzKG9wdGlvbnM6IFN0cmlwZUVsZW1lbnRzT3B0aW9ucykge1xuICAgICAgICBjb25zdCBzdHJpcGVFbGVtZW50cyA9IHRoaXMuc3RyaXBlV2luZG93LmJjU3RyaXBlRWxlbWVudHM7XG5cbiAgICAgICAgaWYgKCFzdHJpcGVFbGVtZW50cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RyaXBlRWxlbWVudHMudXBkYXRlKG9wdGlvbnMpO1xuICAgICAgICBhd2FpdCBzdHJpcGVFbGVtZW50cy5mZXRjaFVwZGF0ZXMoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGxvYWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdHJpcGVXaW5kb3cuU3RyaXBlKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNjcmlwdExvYWRlci5sb2FkU2NyaXB0KCdodHRwczovL2pzLnN0cmlwZS5jb20vdjMvJyk7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5zdHJpcGVXaW5kb3cuU3RyaXBlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5zdHJpcGVXaW5kb3cuU3RyaXBlO1xuICAgIH1cbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIGEgbWV0aG9kIGlzIHVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlXG4gKiBjYWxsZXIgaGFzIG5vdCBwcm92aWRlZCBhbGwgdGhlIGFyZ3VtZW50cyBhY2NvcmRpbmcgdG8gdGhlaXIgcmVxdWlyZW1lbnRzLFxuICogaS5lLjogaWYgYW4gYXJndW1lbnQgaXMgbWlzc2luZyBvciBpdCBpcyBub3QgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW52YWxpZEFyZ3VtZW50RXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ0ludmFsaWQgYXJndW1lbnRzIGhhdmUgYmVlbiBwcm92aWRlZC4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnSW52YWxpZEFyZ3VtZW50RXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnaW52YWxpZF9hcmd1bWVudCc7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUGF5bWVudE1ldGhvZCB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBTdHJpcGVQYXltZW50TWV0aG9kIH0gZnJvbSAnLi9zdHJpcGUnO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpcGVQYXltZW50TWV0aG9kTGlrZShcbiAgICBwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kLFxuKTogcGF5bWVudE1ldGhvZCBpcyBTdHJpcGVQYXltZW50TWV0aG9kIHtcbiAgICByZXR1cm4gKFxuICAgICAgICB0eXBlb2YgcGF5bWVudE1ldGhvZCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgcGF5bWVudE1ldGhvZCAhPT0gbnVsbCAmJlxuICAgICAgICAnaW5pdGlhbGl6YXRpb25EYXRhJyBpbiBwYXltZW50TWV0aG9kICYmXG4gICAgICAgIChwYXltZW50TWV0aG9kIGFzIFN0cmlwZVBheW1lbnRNZXRob2QpLmluaXRpYWxpemF0aW9uRGF0YSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIChwYXltZW50TWV0aG9kIGFzIFN0cmlwZVBheW1lbnRNZXRob2QpLmluaXRpYWxpemF0aW9uRGF0YSAhPT0gbnVsbCAmJlxuICAgICAgICB0eXBlb2YgKHBheW1lbnRNZXRob2QgYXMgU3RyaXBlUGF5bWVudE1ldGhvZCkuaW5pdGlhbGl6YXRpb25EYXRhID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAnc3RyaXBlUHVibGlzaGFibGVLZXknIGluIChwYXltZW50TWV0aG9kIGFzIFN0cmlwZVBheW1lbnRNZXRob2QpLmluaXRpYWxpemF0aW9uRGF0YSAmJlxuICAgICAgICAnc3RyaXBlQ29ubmVjdGVkQWNjb3VudCcgaW4gKHBheW1lbnRNZXRob2QgYXMgU3RyaXBlUGF5bWVudE1ldGhvZCkuaW5pdGlhbGl6YXRpb25EYXRhICYmXG4gICAgICAgICdzaG9wcGVyTGFuZ3VhZ2UnIGluIChwYXltZW50TWV0aG9kIGFzIFN0cmlwZVBheW1lbnRNZXRob2QpLmluaXRpYWxpemF0aW9uRGF0YSAmJlxuICAgICAgICB0eXBlb2YgKHBheW1lbnRNZXRob2QgYXMgU3RyaXBlUGF5bWVudE1ldGhvZCkuaW5pdGlhbGl6YXRpb25EYXRhLnN0cmlwZVB1Ymxpc2hhYmxlS2V5ICE9PVxuICAgICAgICAgICAgJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgdHlwZW9mIChwYXltZW50TWV0aG9kIGFzIFN0cmlwZVBheW1lbnRNZXRob2QpLmluaXRpYWxpemF0aW9uRGF0YS5zdHJpcGVDb25uZWN0ZWRBY2NvdW50ICE9PVxuICAgICAgICAgICAgJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgdHlwZW9mIChwYXltZW50TWV0aG9kIGFzIFN0cmlwZVBheW1lbnRNZXRob2QpLmluaXRpYWxpemF0aW9uRGF0YS5zaG9wcGVyTGFuZ3VhZ2UgIT09XG4gICAgICAgICAgICAndW5kZWZpbmVkJ1xuICAgICk7XG59XG4iLCJleHBvcnQgY29uc3QgU1RSSVBFX1VQRV9DTElFTlRfQkVUQVMgPSBbXG4gICAgJ3BheW1lbnRfZWxlbWVudF9iZXRhXzInLFxuICAgICdhbGlwYXlfcG1fYmV0YV8xJyxcbiAgICAnbGlua19kZWZhdWx0X2ludGVncmF0aW9uX2JldGFfMScsXG4gICAgJ3NoaXBwaW5nX2FkZHJlc3NfZWxlbWVudF9iZXRhXzEnLFxuICAgICdhZGRyZXNzX2VsZW1lbnRfYmV0YV8xJyxcbl07XG5cbmV4cG9ydCBjb25zdCBTVFJJUEVfVVBFX0NMSUVOVF9BUElfVkVSU0lPTiA9ICcyMDIwLTAzLTAyO2FsaXBheV9iZXRhPXYxO2xpbmtfYmV0YT12MSc7XG4iLCJpbXBvcnQgeyBQYXltZW50TWV0aG9kIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbi8qKlxuICogSW5pdGlhbGl6YXRpb24gb3B0aW9ucy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVDb25maWd1cmF0aW9uT3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogRm9yIHVzYWdlIHdpdGggW0Nvbm5lY3RdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2Nvbm5lY3QpIG9ubHkuXG4gICAgICogU3BlY2lmeWluZyBhIGNvbm5lY3RlZCBhY2NvdW50IElEIChlLmcuLCBhY2N0XzI0QkZNcEoxc3ZSNUE4OWspIGFsbG93cyB5b3UgdG8gcGVyZm9ybSBhY3Rpb25zIG9uIGJlaGFsZiBvZiB0aGF0IGFjY291bnQuXG4gICAgICovXG4gICAgc3RyaXBlQWNjb3VudD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHlvdXIgYWNjb3VudCdzIFtBUEkgdmVyc2lvbl0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3ZlcnNpb25pbmcpXG4gICAgICovXG4gICAgYXBpVmVyc2lvbj86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgbG9jYWxlIHVzZWQgdG8gZ2xvYmFsbHkgY29uZmlndXJlIGxvY2FsaXphdGlvbiBpbiBTdHJpcGUuIFNldHRpbmcgdGhlIGxvY2FsZSBoZXJlIHdpbGwgbG9jYWxpemUgZXJyb3Igc3RyaW5ncyBmb3IgYWxsIFN0cmlwZS5qcyBtZXRob2RzLiBJdCB3aWxsIGFsc28gY29uZmlndXJlIHRoZSBsb2NhbGUgZm9yIEVsZW1lbnRzIGFuZCBDaGVja291dC4gRGVmYXVsdCBpcyBhdXRvIChTdHJpcGUgZGV0ZWN0cyB0aGUgbG9jYWxlIG9mIHRoZSBicm93c2VyKS5cbiAgICAgKiBOb3RlIHRoYXQgQ2hlY2tvdXQgc3VwcG9ydHMgYSBzbGlnaHRseSBkaWZmZXJlbnQgc2V0IG9mIGxvY2FsZXMgdGhhbiBTdHJpcGUuanMuXG4gICAgICovXG4gICAgbG9jYWxlPzogc3RyaW5nO1xuXG4gICAgYmV0YXM/OiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uRGF0YSB7XG4gICAgcmVkaXJlY3RfdXJsPzogc3RyaW5nO1xuICAgIGludGVudD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uIHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgZGF0YTogU3RyaXBlQWRkaXRpb25hbEFjdGlvbkRhdGE7XG59XG5cbi8qKlxuICogVGhlIFBheW1lbnRJbnRlbnQgb2JqZWN0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBheW1lbnRJbnRlbnQge1xuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgb2JqZWN0LlxuICAgICAqL1xuICAgIGlkOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2xpZW50IHNlY3JldCBvZiB0aGUgUGF5bWVudEludGVudC4gVXNlZCBmb3IgY2xpZW50LXNpZGUgcmV0cmlldmFsIHVzaW5nIGEgcHVibGlzaGFibGUga2V5LlxuICAgICAqL1xuICAgIGNsaWVudF9zZWNyZXQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBTdGF0dXMgb2YgdGhpcyBQYXltZW50SW50ZW50LiBSZWFkIG1vcmUgYWJvdXQgZWFjaCBQYXltZW50SW50ZW50IFtzdGF0dXNdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3BheW1lbnRzL2ludGVudHMjaW50ZW50LXN0YXR1c2VzKS5cbiAgICAgKi9cbiAgICBzdGF0dXM6ICdzdWNjZWVkZWQnIHwgc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBheW1lbnQgZXJyb3IgZW5jb3VudGVyZWQgaW4gdGhlIHByZXZpb3VzIFBheW1lbnRJbnRlbnQgY29uZmlybWF0aW9uLiBJdCB3aWxsIGJlIGNsZWFyZWQgaWYgdGhlIFBheW1lbnRJbnRlbnQgaXMgbGF0ZXIgdXBkYXRlZCBmb3IgYW55IHJlYXNvbi5cbiAgICAgKi9cbiAgICBsYXN0X3BheW1lbnRfZXJyb3I6IExhc3RQYXltZW50RXJyb3IgfCBudWxsO1xuXG4gICAgcGF5bWVudF9tZXRob2Rfb3B0aW9ucz86IFN0cmlwZVBJUGF5bWVudE1ldGhvZE9wdGlvbnM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlUElQYXltZW50TWV0aG9kU2F2aW5nT3B0aW9ucyB7XG4gICAgc2V0dXBfZnV0dXJlX3VzYWdlPzogU3RyaXBlSW5zdHJ1bWVudFNldHVwRnV0dXJlVXNhZ2U7XG4gICAgdmVyaWZpY2F0aW9uX21ldGhvZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVQSVBheW1lbnRNZXRob2RPcHRpb25zIHtcbiAgICBjYXJkPzogU3RyaXBlUElQYXltZW50TWV0aG9kU2F2aW5nT3B0aW9ucztcbiAgICB1c19iYW5rX2FjY291bnQ/OiBTdHJpcGVQSVBheW1lbnRNZXRob2RTYXZpbmdPcHRpb25zO1xufVxuXG4vKipcbiAqIFRoZSBwYXltZW50IGVycm9yIGVuY291bnRlcmVkIGluIHRoZSBwcmV2aW91cyBQYXltZW50SW50ZW50IGNvbmZpcm1hdGlvbi4gSXQgd2lsbCBiZSBjbGVhcmVkIGlmIHRoZSBQYXltZW50SW50ZW50IGlzIGxhdGVyIHVwZGF0ZWQgZm9yIGFueSByZWFzb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGFzdFBheW1lbnRFcnJvciB7XG4gICAgLyoqXG4gICAgICogQSBodW1hbi1yZWFkYWJsZSBtZXNzYWdlIHByb3ZpZGluZyBtb3JlIGRldGFpbHMgYWJvdXQgdGhlIGVycm9yLiBGb3IgY2FyZCBlcnJvcnMsIHRoZXNlIG1lc3NhZ2VzIGNhbiBiZSBzaG93biB0byB5b3VyIHVzZXJzLlxuICAgICAqL1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogVGhpcyBvYmplY3QgaXMgdXNlZCB0byBwYXNzIGN1c3RvbSBmb250cyB3aGVuIGNyZWF0aW5nIGFuIFtFbGVtZW50c10oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvZWxlbWVudHNfb2JqZWN0L2NyZWF0ZSkgb2JqZWN0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENzc0ZvbnRTb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIEEgcmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHBvaW50aW5nIHRvIGEgQ1NTIGZpbGUgd2l0aCBbQGZvbnQtZmFjZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0Bmb250LWZhY2UpIGRlZmluaXRpb25zLCBmb3IgZXhhbXBsZTpcbiAgICAgKiBgaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PU9wZW4rU2Fuc2BcbiAgICAgKiBOb3RlIHRoYXQgaWYgeW91IGFyZSB1c2luZyBhIFtjb250ZW50IHNlY3VyaXR5IHBvbGljeV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9IZWFkZXJzL0NvbnRlbnQtU2VjdXJpdHktUG9saWN5KSAoQ1NQKSxcbiAgICAgKiBbYWRkaXRpb25hbCBkaXJlY3RpdmVzXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9zZWN1cml0eSNjb250ZW50LXNlY3VyaXR5LXBvbGljeSkgbWF5IGJlIG5lY2Vzc2FyeS5cbiAgICAgKi9cbiAgICBjc3NTcmM6IHN0cmluZztcbn1cblxuLyoqXG4gKiBUaGlzIG9iamVjdCBpcyB1c2VkIHRvIHBhc3MgY3VzdG9tIGZvbnRzIHdoZW4gY3JlYXRpbmcgYW4gW0VsZW1lbnRzXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9lbGVtZW50c19vYmplY3QvY3JlYXRlKSBvYmplY3QuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ3VzdG9tRm9udFNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgdG8gZ2l2ZSB0aGUgZm9udC5cbiAgICAgKi9cbiAgICBmYW1pbHk6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgdmFsaWQgW3NyY10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0Bmb250LWZhY2Uvc3JjKSB2YWx1ZSBwb2ludGluZyB0byB5b3VyXG4gICAgICogY3VzdG9tIGZvbnQgZmlsZS4gVGhpcyBpcyB1c3VhbGx5ICh0aG91Z2ggbm90IGFsd2F5cykgYSBsaW5rIHRvIGEgZmlsZSB3aXRoIGEgLndvZmYgLCAub3RmLCBvciAuc3ZnIHN1ZmZpeC5cbiAgICAgKi9cbiAgICBzcmM6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgdmFsaWQgW2ZvbnQtZGlzcGxheV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0Bmb250LWZhY2UvZm9udC1kaXNwbGF5KSB2YWx1ZS5cbiAgICAgKi9cbiAgICBkaXNwbGF5Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogT25lIG9mIG5vcm1hbCwgaXRhbGljLCBvYmxpcXVlLiBEZWZhdWx0cyB0byBub3JtYWwuXG4gICAgICovXG4gICAgc3R5bGU/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBIHZhbGlkIFt1bmljb2RlLXJhbmdlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvQGZvbnQtZmFjZS91bmljb2RlLXJhbmdlKSB2YWx1ZS5cbiAgICAgKi9cbiAgICB1bmljb2RlUmFuZ2U/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBIHZhbGlkIFtmb250LXdlaWdodF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2ZvbnQtd2VpZ2h0KS4gTm90ZSB0aGF0IHRoaXMgaXMgYSBzdHJpbmcsIG5vdCBhIG51bWJlci5cbiAgICAgKi9cbiAgICB3ZWlnaHQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIFN0cmlwZUN1c3RvbUZvbnQgPSBDc3NGb250U291cmNlIHwgQ3VzdG9tRm9udFNvdXJjZTtcblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVFcnJvciB7XG4gICAgLyoqXG4gICAgICogdHlwZSBvZiBlcnJvci4gV2hlbiB0aGUgZXJyb3IgdHlwZSBpcyBjYXJkX2Vycm9yIG9yIHZhbGlkYXRpb25fZXJyb3IsIHlvdSBjYW4gZGlzcGxheSB0aGUgZXJyb3IgbWVzc2FnZSBpbiBlcnJvci5tZXNzYWdlIGRpcmVjdGx5IHRvIHlvdXIgdXNlci5cbiAgICAgKi9cbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogQSBodW1hbi1yZWFkYWJsZSBtZXNzYWdlIHByb3ZpZGluZyBtb3JlIGRldGFpbHMgYWJvdXQgdGhlIGVycm9yLiBGb3IgY2FyZCBlcnJvcnMsIHRoZXNlIG1lc3NhZ2VzIGNhbiBiZSBzaG93biB0byB5b3VyIHVzZXJzLlxuICAgICAqL1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgUGF5bWVudEludGVudCBvYmplY3QuXG4gICAgICovXG4gICAgcGF5bWVudF9pbnRlbnQ6IFBheW1lbnRJbnRlbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlRWxlbWVudCB7XG4gICAgLyoqXG4gICAgICogVGhlIGBlbGVtZW50Lm1vdW50YCBtZXRob2QgYXR0YWNoZXMgeW91ciBlbGVtZW50IHRvIHRoZSBET00uXG4gICAgICovXG4gICAgbW91bnQoZG9tRWxlbWVudDogc3RyaW5nIHwgSFRNTEVsZW1lbnQpOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgZWxlbWVudCBmcm9tIHRoZSBET00gYW5kIGRlc3Ryb3lzIGl0LlxuICAgICAqIEEgZGVzdHJveWVkIGVsZW1lbnQgY2FuIG5vdCBiZSByZS1hY3RpdmF0ZWQgb3IgcmUtbW91bnRlZCB0byB0aGUgRE9NLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKTogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIFVubW91bnRzIHRoZSBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgKiBDYWxsIGBlbGVtZW50Lm1vdW50YCB0byByZS1hdHRhY2ggaXQgdG8gdGhlIERPTS5cbiAgICAgKi9cbiAgICB1bm1vdW50KCk6IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2hhbmdlIGV2ZW50IGlzIHRyaWdnZXJlZCB3aGVuIHRoZSBFbGVtZW50J3MgdmFsdWUgY2hhbmdlcy4gVGhlIGV2ZW50IHBheWxvYWQgYWx3YXlzIGNvbnRhaW5zIGNlcnRhaW4ga2V5cyxcbiAgICAgKiBpbiBhZGRpdGlvbiB0byBzb21lIEVsZW1lbnQtc3BlY2lmaWMga2V5cy5cbiAgICAgKiBodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9lbGVtZW50L2V2ZW50cy9vbl9jaGFuZ2U/dHlwZT1wYXltZW50RWxlbWVudFxuICAgICAqL1xuICAgIG9uKGV2ZW50OiBTdHJpcGVFbGVtZW50RXZlbnQsIGhhbmRsZXI6IChldmVudDogU3RyaXBlRXZlbnRUeXBlKSA9PiB2b2lkKTogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9wdGlvbnMgdGhlIFBheW1lbnQgRWxlbWVudCB3YXMgaW5pdGlhbGl6ZWQgd2l0aC4gVXBkYXRlcyBhcmUgbWVyZ2VkIGludG8gdGhlIGV4aXN0aW5nIGNvbmZpZ3VyYXRpb24uXG4gICAgICogaHR0cHM6Ly9kb2NzLnN0cmlwZS5jb20vanMvZWxlbWVudHNfb2JqZWN0L3VwZGF0ZV9wYXltZW50X2VsZW1lbnRcbiAgICAgKi9cbiAgICB1cGRhdGUob3B0aW9ucz86IFN0cmlwZUVsZW1lbnRzQ3JlYXRlT3B0aW9ucyk6IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBjb2xsYXBzZXMgdGhlIFBheW1lbnQgRWxlbWVudCBpbnRvIGEgcm93IG9mIHBheW1lbnQgbWV0aG9kIHRhYnMuXG4gICAgICogaHR0cHM6Ly9kb2NzLnN0cmlwZS5jb20vanMvZWxlbWVudHNfb2JqZWN0L2NvbGxhcHNlX3BheW1lbnRfZWxlbWVudFxuICAgICAqL1xuICAgIGNvbGxhcHNlKCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlRXZlbnQge1xuICAgIGNvbXBsZXRlOiBib29sZWFuO1xuICAgIGVsZW1lbnRUeXBlOiBzdHJpbmc7XG4gICAgZW1wdHk6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQ3VzdG9tZXJFdmVudCBleHRlbmRzIFN0cmlwZUV2ZW50IHtcbiAgICBjb2xsYXBzZWQ/OiBib29sZWFuO1xuICAgIGF1dGhlbnRpY2F0ZWQ6IGJvb2xlYW47XG4gICAgdmFsdWU6IHtcbiAgICAgICAgZW1haWw6IHN0cmluZztcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZVNoaXBwaW5nRXZlbnQgZXh0ZW5kcyBTdHJpcGVFdmVudCB7XG4gICAgbW9kZT86IHN0cmluZztcbiAgICBpc05ld0FkZHJlc3M/OiBib29sZWFuO1xuICAgIHBob25lRmllbGRSZXF1aXJlZDogYm9vbGVhbjtcbiAgICB2YWx1ZToge1xuICAgICAgICBhZGRyZXNzOiBBZGRyZXNzO1xuICAgICAgICBuYW1lPzogc3RyaW5nO1xuICAgICAgICBmaXJzdE5hbWU/OiBzdHJpbmc7XG4gICAgICAgIGxhc3ROYW1lPzogc3RyaW5nO1xuICAgICAgICBwaG9uZT86IHN0cmluZztcbiAgICB9O1xuICAgIGZpZWxkcz86IHtcbiAgICAgICAgcGhvbmU6IHN0cmluZztcbiAgICB9O1xuICAgIGRpc3BsYXk/OiB7XG4gICAgICAgIG5hbWU6IHN0cmluZztcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZVBheW1lbnRFdmVudCBleHRlbmRzIFN0cmlwZUV2ZW50IHtcbiAgICB2YWx1ZToge1xuICAgICAgICB0eXBlOiBTdHJpcGVQYXltZW50TWV0aG9kVHlwZTtcbiAgICB9O1xuICAgIGNvbGxhcHNlZD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWRkcmVzcyB7XG4gICAgY2l0eTogc3RyaW5nO1xuICAgIGNvdW50cnk6IHN0cmluZztcbiAgICBsaW5lMTogc3RyaW5nO1xuICAgIGxpbmUyPzogc3RyaW5nO1xuICAgIHBvc3RhbF9jb2RlOiBzdHJpbmc7XG4gICAgc3RhdGU6IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgU3RyaXBlRXZlbnRUeXBlID1cbiAgICB8IFN0cmlwZVNoaXBwaW5nRXZlbnRcbiAgICB8IFN0cmlwZUN1c3RvbWVyRXZlbnRcbiAgICB8IFN0cmlwZVBheW1lbnRFdmVudFxuICAgIHwgU3RyaXBlTGlua1YyRXZlbnQ7XG5cbi8qKlxuICogT2JqZWN0IGRlZmluaXRpb24gZm9yIHBhcnQgb2YgdGhlIGRhdGEgc2VudCB0byBjb25maXJtIHRoZSBQYXltZW50SW50ZW50LlxuICogaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfaW50ZW50cy9jb25maXJtI2NvbmZpcm1fcGF5bWVudF9pbnRlbnQtc2hpcHBpbmdcbiAqL1xuZXhwb3J0IHR5cGUgQWRkcmVzc09wdGlvbnMgPSBQYXJ0aWFsPEFkZHJlc3M+O1xuXG4vKipcbiAqIE9iamVjdCBkZWZpbml0aW9uIGZvciBwYXJ0IG9mIHRoZSBkYXRhIHNlbnQgdG8gY29uZmlybSB0aGUgUGF5bWVudEludGVudC5cbiAqIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2VsZW1lbnRzX29iamVjdC9jcmVhdGVfcGF5bWVudF9lbGVtZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQWRkcmVzc1Byb3BlcnRpZXMge1xuICAgIGNpdHk/OiBBdXRvT3JOZXZlcjtcbiAgICBjb3VudHJ5PzogQXV0b09yTmV2ZXI7XG4gICAgc3RhdGU/OiBBdXRvT3JOZXZlcjtcbiAgICBwb3N0YWxDb2RlPzogQXV0b09yTmV2ZXI7XG4gICAgbGluZTE/OiBBdXRvT3JOZXZlcjtcbiAgICBsaW5lMj86IEF1dG9Pck5ldmVyO1xufVxuXG4vKipcbiAqIE9iamVjdCBkZWZpbml0aW9uIGZvciBwYXJ0IG9mIHRoZSBkYXRhIHNlbnQgdG8gY29uZmlybSB0aGUgUGF5bWVudEludGVudC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCaWxsaW5nRGV0YWlsc09wdGlvbnMge1xuICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgZW1haWw/OiBzdHJpbmc7XG4gICAgYWRkcmVzcz86IEFkZHJlc3NPcHRpb25zO1xuICAgIHBob25lPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIE9iamVjdCBkZWZpbml0aW9uIGZvciBwYXJ0IG9mIHRoZSBkYXRhIHNlbnQgdG8gY29uZmlybSB0aGUgUGF5bWVudEludGVudC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCaWxsaW5nRGV0YWlsc1Byb3BlcnRpZXMge1xuICAgIG5hbWU/OiBBdXRvT3JOZXZlcjtcbiAgICBlbWFpbD86IEF1dG9Pck5ldmVyO1xuICAgIGFkZHJlc3M/OiBBdXRvT3JOZXZlciB8IEFkZHJlc3NQcm9wZXJ0aWVzO1xuICAgIHBob25lPzogQXV0b09yTmV2ZXI7XG59XG5cbi8qKlxuICogT2JqZWN0IGRlZmluaXRpb24gZm9yIHBhcnQgb2YgdGhlIGRhdGEgc2VudCB0byBjb25maXJtIHRoZSBQYXltZW50SW50ZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBheW1lbnRNZXRob2REYXRhT3B0aW9ucyB7XG4gICAgYmlsbGluZ19kZXRhaWxzOiBCaWxsaW5nRGV0YWlsc09wdGlvbnM7XG4gICAgYWxsb3dfcmVkaXNwbGF5PzogJ2Fsd2F5cycgfCAnbGltaXRlZCcgfCAndW5zcGVjaWZpZWQnO1xufVxuXG4vKipcbiAqIFBhcmFtZXRlcnMgdGhhdCB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aGUgU3RyaXBlIEFQSSB0byBjb25maXJtIHRoZSBQYXltZW50SW50ZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUNvbmZpcm1QYXJhbXMge1xuICAgIC8qXG4gICAgICogSWYgeW91IGFyZSBbaGFuZGxpbmcgbmV4dCBhY3Rpb25zIHlvdXJzZWxmXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9wYXltZW50cy9wYXltZW50LWludGVudHMvdmVyaWZ5aW5nLXN0YXR1cyNuZXh0LWFjdGlvbnMpLCBwYXNzIGluIGEgcmV0dXJuX3VybC4gSWYgdGhlIHN1YnNlcXVlbnQgYWN0aW9uXG4gICAgICogaXMgcmVkaXJlY3RfdG9fdXJsLCB0aGlzIFVSTCB3aWxsIGJlIHVzZWQgb24gdGhlIHJldHVybiBwYXRoIGZvciB0aGUgcmVkaXJlY3QuXG4gICAgICpcbiAgICAgKiBAcmVjb21tZW5kZWRcbiAgICAgKi9cbiAgICByZXR1cm5fdXJsPzogc3RyaW5nO1xuICAgIHBheW1lbnRfbWV0aG9kX2RhdGE/OiBQYXltZW50TWV0aG9kRGF0YU9wdGlvbnM7XG59XG5cbi8qKlxuICogRGF0YSB0byBiZSBzZW50IHdpdGggYSBgc3RyaXBlLmNvbmZpcm1QYXltZW50YCByZXF1ZXN0LlxuICogUmVmZXIgdG8gdGhlIFtQYXltZW50IEludGVudHMgQVBJXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9wYXltZW50X2ludGVudHMvY29uZmlybV9wYXltZW50KSBmb3IgYSBmdWxsIGxpc3Qgb2YgcGFyYW1ldGVycy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVDb25maXJtUGF5bWVudERhdGEge1xuICAgIC8qKlxuICAgICAqIFRoZSBFbGVtZW50cyBpbnN0YW5jZSB0aGF0IHdhcyB1c2VkIHRvIGNyZWF0ZSB0aGUgUGF5bWVudCBFbGVtZW50LlxuICAgICAqL1xuICAgIGVsZW1lbnRzOiBTdHJpcGVFbGVtZW50cztcblxuICAgIC8qKlxuICAgICAqIFBhcmFtZXRlcnMgdGhhdCB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aGUgU3RyaXBlIEFQSSB0byBjb25maXJtIHRoZSBQYXltZW50SW50ZW50LlxuICAgICAqL1xuICAgIGNvbmZpcm1QYXJhbXM/OiBTdHJpcGVDb25maXJtUGFyYW1zO1xuXG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCwgY29uZmlybVBheW1lbnQgd2lsbCBhbHdheXMgcmVkaXJlY3QgdG8geW91ciByZXR1cm5fdXJsIGFmdGVyIGEgc3VjY2Vzc2Z1bCBjb25maXJtYXRpb24uXG4gICAgICogSWYgeW91IHNldCByZWRpcmVjdDogXCJpZl9yZXF1aXJlZFwiLCB0aGVuIGNvbmZpcm1QYXltZW50IHdpbGwgb25seSByZWRpcmVjdCBpZiB5b3VyIHVzZXIgY2hvb3NlcyBhIHJlZGlyZWN0LWJhc2VkIHBheW1lbnQgbWV0aG9kLlxuICAgICAqL1xuICAgIHJlZGlyZWN0PzogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLkFMV0FZUyB8IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5JRl9SRVFVSVJFRDtcblxuICAgIGNsaWVudFNlY3JldD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaWVsZHNPcHRpb25zIHtcbiAgICBiaWxsaW5nRGV0YWlscz86IEF1dG9Pck5ldmVyIHwgQmlsbGluZ0RldGFpbHNQcm9wZXJ0aWVzO1xuICAgIHBob25lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFdhbGxldE9wdGlvbnMge1xuICAgIGFwcGxlUGF5PzogQXV0b09yTmV2ZXI7XG4gICAgZ29vZ2xlUGF5PzogQXV0b09yTmV2ZXI7XG4gICAgbGluaz86IEF1dG9Pck5ldmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRlcm1PcHRpb25zIHtcbiAgICBjYXJkPzogQXV0b09yTmV2ZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlTGF5b3V0T3B0aW9ucyB7XG4gICAgdHlwZT86ICdhY2NvcmRpb24nIHwgJ3RhYnMnO1xuICAgIGxpbmtJbkFjY29yZGlvbj86IGJvb2xlYW47XG4gICAgZGVmYXVsdENvbGxhcHNlZD86IGJvb2xlYW47XG4gICAgcmFkaW9zPzogYm9vbGVhbjtcbiAgICBzcGFjZWRBY2NvcmRpb25JdGVtcz86IGJvb2xlYW47XG4gICAgdmlzaWJsZUFjY29yZGlvbkl0ZW1zQ291bnQ/OiBudW1iZXI7XG59XG5cbi8qKlxuICogQWxsIGF2YWlsYWJsZSBvcHRpb25zIGFyZSBoZXJlIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2VsZW1lbnRzX29iamVjdC9jcmVhdGVfcGF5bWVudF9lbGVtZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlRWxlbWVudHNDcmVhdGVPcHRpb25zIHtcbiAgICBtb2RlPzogc3RyaW5nO1xuICAgIGZpZWxkcz86IEZpZWxkc09wdGlvbnM7XG4gICAgd2FsbGV0cz86IFdhbGxldE9wdGlvbnM7XG4gICAgYWxsb3dlZENvdW50cmllcz86IHN0cmluZ1tdO1xuICAgIGRlZmF1bHRWYWx1ZXM/OiBTaGlwcGluZ0RlZmF1bHRWYWx1ZXMgfCBDdXN0b21lckRlZmF1bHRWYWx1ZXMgfCBQYXltZW50RGVmYXVsdFZhbHVlcztcbiAgICB2YWxpZGF0aW9uPzogdmFsaWRhdGlvbkVsZW1lbnQ7XG4gICAgZGlzcGxheT86IHsgbmFtZTogU3RyaXBlRGlzcGxheU5hbWUgfTtcbiAgICB0ZXJtcz86IFRlcm1PcHRpb25zO1xuICAgIGxheW91dD86IFN0cmlwZUxheW91dE9wdGlvbnM7XG4gICAgcGF5bWVudE1ldGhvZE9yZGVyPzogc3RyaW5nW107XG4gICAgLy8gIExpbmsgdjIgb3B0aW9uc1xuICAgIGxpbmVJdGVtcz86IExpbmVJdGVtW107XG4gICAgYWxsb3dlZFNoaXBwaW5nQ291bnRyaWVzPzogc3RyaW5nW107XG4gICAgc2hpcHBpbmdBZGRyZXNzUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIHNoaXBwaW5nUmF0ZXM/OiBTdHJpcGVMaW5rVjJTaGlwcGluZ1JhdGVbXTtcbiAgICBiaWxsaW5nQWRkcmVzc1JlcXVpcmVkPzogYm9vbGVhbjtcbiAgICBlbWFpbFJlcXVpcmVkPzogYm9vbGVhbjtcbiAgICBwaG9uZU51bWJlclJlcXVpcmVkPzogYm9vbGVhbjtcbiAgICBwYXltZW50TWV0aG9kcz86IHtcbiAgICAgICAgbGluazogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLkFVVE87XG4gICAgICAgIGFwcGxlUGF5OiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVI7XG4gICAgICAgIGdvb2dsZVBheTogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSO1xuICAgICAgICBhbWF6b25QYXk6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUjtcbiAgICAgICAgcGF5cGFsOiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVI7XG4gICAgICAgIGtsYXJuYTogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSO1xuICAgIH07XG4gICAgYnV0dG9uSGVpZ2h0PzogbnVtYmVyO1xuICAgIHNhdmVQYXltZW50TWV0aG9kPzogU3RyaXBlU2F2ZVBheW1lbnRNZXRob2Q7XG59XG5cbmludGVyZmFjZSB2YWxpZGF0aW9uRWxlbWVudCB7XG4gICAgcGhvbmU/OiB2YWxpZGF0aW9uUmVxdWlyZWRFbGVtZW50O1xufVxuXG5pbnRlcmZhY2UgdmFsaWRhdGlvblJlcXVpcmVkRWxlbWVudCB7XG4gICAgcmVxdWlyZWQ/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBQYXltZW50RGVmYXVsdFZhbHVlcyB7XG4gICAgc2F2ZVBheW1lbnRNZXRob2Q/OiBib29sZWFuO1xuICAgIGJpbGxpbmdEZXRhaWxzPzogQmlsbGluZ0RldGFpbHNPcHRpb25zO1xufVxuXG5pbnRlcmZhY2UgU2hpcHBpbmdEZWZhdWx0VmFsdWVzIHtcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIGZpcnN0TmFtZT86IHN0cmluZztcbiAgICBsYXN0TmFtZT86IHN0cmluZztcbiAgICBwaG9uZTogc3RyaW5nO1xuICAgIGFkZHJlc3M6IEFkZHJlc3M7XG59XG5cbi8qXG5EZWNpZGUgd2hpY2ggbW9kZSB5b3UgYXJlIGdvaW5nIHRvIHVzZSB0aGUgQWRkcmVzcyBFbGVtZW50XG5TaGlwcGluZzogaXMgdXNlZCB3aXRoIHRoZSBQYXltZW50IEVsZW1lbnQgYW5kIExpbmsgQXV0aGVudGljYXRpb24gRWxlbWVudCwgaXQgd2lsbCBhdXRvbWF0aWNhbGx5IHBhc3Mgc2hpcHBpbmdcbmluZm9ybWF0aW9uIHdoZW4gY29uZmlybWluZyBQYXltZW50IEludGVudCBvciBTZXR1cCBJbnRlbnQuXG5CaWxsaW5nOiBpcyB1c2VkIHdpdGggdGhlIFBheW1lbnQgRWxlbWVudCwgaXQgd2lsbCBhdXRvbWF0aWNhbGx5IHBhc3MgdGhlIGJpbGxpbmcgaW5mb3JtYXRpb24gd2hlbiBjb25maXJtaW5nXG5QYXltZW50IEludGVudCBvciBTZXR1cCBJbnRlbnQuXG4gKi9cbmV4cG9ydCBlbnVtIFN0cmlwZUZvcm1Nb2RlIHtcbiAgICBTSElQUElORyA9ICdzaGlwcGluZycsXG4gICAgQklMTElORyA9ICdiaWxsaW5nJyxcbn1cblxuZXhwb3J0IGVudW0gU3RyaXBlRGlzcGxheU5hbWUge1xuICAgIFNQTElUID0gJ3NwbGl0JyxcbiAgICBGVUxMID0gJ2Z1bGwnLFxuICAgIE9SR0FOSVpBVElPTiA9ICdvcmdhbml6YXRpb24nLFxufVxuXG5pbnRlcmZhY2UgQ3VzdG9tZXJEZWZhdWx0VmFsdWVzIHtcbiAgICBtb2RlOiBTdHJpcGVGb3JtTW9kZTtcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIGFsbG93ZWRDb3VudHJpZXM/OiBzdHJpbmdbXTtcbiAgICBkaXNwbGF5Pzoge1xuICAgICAgICBuYW1lOiBTdHJpcGVEaXNwbGF5TmFtZTtcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUVsZW1lbnRzIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIEVsZW1lbnRzIGluc3RhbmNlLCB3aGljaCBtYW5hZ2VzIGEgZ3JvdXAgb2YgZWxlbWVudHMuXG4gICAgICogaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvZWxlbWVudHNfb2JqZWN0L2NyZWF0ZVxuICAgICAqL1xuICAgIGNyZWF0ZShlbGVtZW50VHlwZTogU3RyaXBlRWxlbWVudFR5cGUsIG9wdGlvbnM/OiBTdHJpcGVFbGVtZW50c0NyZWF0ZU9wdGlvbnMpOiBTdHJpcGVFbGVtZW50O1xuXG4gICAgLyoqXG4gICAgICogTG9va3MgdXAgYSBwcmV2aW91c2x5IGNyZWF0ZWQgZWxlbWVudC5cbiAgICAgKiBodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9lbGVtZW50c19vYmplY3QvZ2V0X3BheW1lbnRfZWxlbWVudCBvclxuICAgICAqIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2VsZW1lbnRzX29iamVjdC9nZXRfbGlua19hdXRoZW50aWNhdGlvbl9lbGVtZW50XG4gICAgICovXG4gICAgZ2V0RWxlbWVudChlbGVtZW50VHlwZTogU3RyaXBlRWxlbWVudFR5cGUpOiBTdHJpcGVFbGVtZW50IHwgbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgb3B0aW9ucyBvbiBhbiBleGlzdGluZyBpbnN0YW5jZSBvZiBFbGVtZW50cy5cbiAgICAgKiBodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9lbGVtZW50c19vYmplY3QvdXBkYXRlXG4gICAgICovXG4gICAgdXBkYXRlKG9wdGlvbnM/OiBTdHJpcGVVcGRhdGVFbGVtZW50c09wdGlvbnMpOiBTdHJpcGVFbGVtZW50O1xuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyB1cGRhdGVzIGZyb20gdGhlIGFzc29jaWF0ZWQgUGF5bWVudEludGVudCBvciBTZXR1cEludGVudCBvbiBhbiBleGlzdGluZyBpbnN0YW5jZSBvZiBFbGVtZW50cyxcbiAgICAgKiBhbmQgcmVmbGVjdHMgdGhlc2UgdXBkYXRlcyBpbiB0aGUgUGF5bWVudCBFbGVtZW50LlxuICAgICAqIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2VsZW1lbnRzX29iamVjdC9mZXRjaF91cGRhdGVzXG4gICAgICovXG4gICAgZmV0Y2hVcGRhdGVzKCk6IFByb21pc2U8dm9pZD47XG59XG5cbi8qKlxuICogQWxsIGF2YWlsYWJsZSBvcHRpb25zIGFyZSBoZXJlIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3N0cmlwZS1qcy9hcHBlYXJhbmNlLWFwaSNzdXBwb3J0ZWQtY3NzLXByb3BlcnRpZXNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVBcHBlYXJhbmNlT3B0aW9ucyB7XG4gICAgdmFyaWFibGVzPzogUmVjb3JkPHN0cmluZywgU3RyaXBlQXBwZWFyYW5jZVZhbHVlcz47XG5cbiAgICBydWxlcz86IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIFN0cmlwZUFwcGVhcmFuY2VWYWx1ZXM+Pjtcbn1cblxuZXhwb3J0IHR5cGUgU3RyaXBlQXBwZWFyYW5jZVZhbHVlcyA9IHN0cmluZyB8IHN0cmluZ1tdIHwgbnVtYmVyIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUVsZW1lbnRzT3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgY3VzdG9tIGZvbnRzLCB3aGljaCBlbGVtZW50cyBjcmVhdGVkIGZyb20gdGhlIEVsZW1lbnRzIG9iamVjdCBjYW4gdXNlLlxuICAgICAqIEZvbnRzIGNhbiBiZSBzcGVjaWZpZWQgYXMgW0Nzc0ZvbnRTb3VyY2VdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2FwcGVuZGl4L2Nzc19mb250X3NvdXJjZV9vYmplY3QpXG4gICAgICogb3IgW0N1c3RvbUZvbnRTb3VyY2VdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2FwcGVuZGl4L2N1c3RvbV9mb250X3NvdXJjZV9vYmplY3QpIG9iamVjdHMuXG4gICAgICovXG4gICAgZm9udHM/OiBTdHJpcGVDdXN0b21Gb250W107XG5cbiAgICAvKipcbiAgICAgKiBBIFtsb2NhbGVdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2FwcGVuZGl4L3N1cHBvcnRlZF9sb2NhbGVzKSB0byBkaXNwbGF5IHBsYWNlaG9sZGVycyBhbmRcbiAgICAgKiBlcnJvciBzdHJpbmdzIGluLiBEZWZhdWx0IGlzIGF1dG8gKFN0cmlwZSBkZXRlY3RzIHRoZSBsb2NhbGUgb2YgdGhlIGJyb3dzZXIpLlxuICAgICAqIFNldHRpbmcgdGhlIGxvY2FsZSBkb2VzIG5vdCBhZmZlY3QgdGhlIGJlaGF2aW9yIG9mIHBvc3RhbCBjb2RlIHZhbGlkYXRpb27igJRhIHZhbGlkIHBvc3RhbCBjb2RlXG4gICAgICogZm9yIHRoZSBiaWxsaW5nIGNvdW50cnkgb2YgdGhlIGNhcmQgaXMgc3RpbGwgcmVxdWlyZWQuXG4gICAgICovXG4gICAgbG9jYWxlPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNsaWVudCBzZWNyZXQgb2YgdGhpcyBQYXltZW50SW50ZW50LiBVc2VkIGZvciBjbGllbnQtc2lkZSByZXRyaWV2YWwgdXNpbmcgYSBwdWJsaXNoYWJsZSBrZXkuXG4gICAgICogVGhlIGNsaWVudCBzZWNyZXQgY2FuIGJlIHVzZWQgdG8gY29tcGxldGUgYSBwYXltZW50IGZyb20geW91ciBmcm9udGVuZC5cbiAgICAgKiBJdCBzaG91bGQgbm90IGJlIHN0b3JlZCwgbG9nZ2VkLCBlbWJlZGRlZCBpbiBVUkxzLCBvciBleHBvc2VkIHRvIGFueW9uZSBvdGhlciB0aGFuIHRoZSBjdXN0b21lci5cbiAgICAgKiBNYWtlIHN1cmUgdGhhdCB5b3UgaGF2ZSBUTFMgZW5hYmxlZCBvbiBhbnkgcGFnZSB0aGF0IGluY2x1ZGVzIHRoZSBjbGllbnQgc2VjcmV0LlxuICAgICAqIFJlZmVyIHRvIG91ciBkb2NzIHRvIGFjY2VwdCBhIHBheW1lbnQgYW5kIGxlYXJuIGFib3V0IGhvdyBjbGllbnRfc2VjcmV0IHNob3VsZCBiZSBoYW5kbGVkLlxuICAgICAqL1xuICAgIGNsaWVudFNlY3JldD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgdG9rZW4gdGhhdCByZXByZXNlbnRzIHRoZSBTdHJpcGUgY3VzdG9tZXIgc2Vzc2lvbi5cbiAgICAgKiBTdHJpcGUgZG9jdW1lbnRhdGlvbjogaHR0cHM6Ly9kb2NzLnN0cmlwZS5jb20vYXBpL2NoZWNrb3V0L3Nlc3Npb25zXG4gICAgICovXG4gICAgY3VzdG9tZXJTZXNzaW9uQ2xpZW50U2VjcmV0Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogTWF0Y2ggdGhlIGRlc2lnbiBvZiB5b3VyIHNpdGUgd2l0aCB0aGUgYXBwZWFyYW5jZSBvcHRpb24uXG4gICAgICogVGhlIGxheW91dCBvZiBlYWNoIEVsZW1lbnQgc3RheXMgY29uc2lzdGVudCwgYnV0IHlvdSBjYW4gbW9kaWZ5IGNvbG9ycywgZm9udHMsIGJvcmRlcnMsIHBhZGRpbmcsIGFuZCBtb3JlLlxuICAgICAqL1xuICAgIGFwcGVhcmFuY2U/OiBTdHJpcGVBcHBlYXJhbmNlT3B0aW9ucztcblxuICAgIG1vZGU/OiBzdHJpbmc7XG4gICAgYW1vdW50PzogbnVtYmVyO1xuICAgIGN1cnJlbmN5Pzogc3RyaW5nO1xuICAgIHBheW1lbnRNZXRob2RUeXBlcz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZVVwZGF0ZUVsZW1lbnRzT3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogQSBbbG9jYWxlXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9hcHBlbmRpeC9zdXBwb3J0ZWRfbG9jYWxlcykgdG8gZGlzcGxheSBwbGFjZWhvbGRlcnMgYW5kXG4gICAgICogZXJyb3Igc3RyaW5ncyBpbi4gRGVmYXVsdCBpcyBhdXRvIChTdHJpcGUgZGV0ZWN0cyB0aGUgbG9jYWxlIG9mIHRoZSBicm93c2VyKS5cbiAgICAgKiBTZXR0aW5nIHRoZSBsb2NhbGUgZG9lcyBub3QgYWZmZWN0IHRoZSBiZWhhdmlvciBvZiBwb3N0YWwgY29kZSB2YWxpZGF0aW9u4oCUYSB2YWxpZCBwb3N0YWwgY29kZVxuICAgICAqIGZvciB0aGUgYmlsbGluZyBjb3VudHJ5IG9mIHRoZSBjYXJkIGlzIHN0aWxsIHJlcXVpcmVkLlxuICAgICAqL1xuICAgIGxvY2FsZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIE1hdGNoIHRoZSBkZXNpZ24gb2YgeW91ciBzaXRlIHdpdGggdGhlIGFwcGVhcmFuY2Ugb3B0aW9uLlxuICAgICAqIFRoZSBsYXlvdXQgb2YgZWFjaCBFbGVtZW50IHN0YXlzIGNvbnNpc3RlbnQsIGJ1dCB5b3UgY2FuIG1vZGlmeSBjb2xvcnMsIGZvbnRzLCBib3JkZXJzLCBwYWRkaW5nLCBhbmQgbW9yZS5cbiAgICAgKi9cbiAgICBhcHBlYXJhbmNlPzogU3RyaXBlQXBwZWFyYW5jZU9wdGlvbnM7XG4gICAgbW9kZT86IHN0cmluZztcbiAgICBhbW91bnQ/OiBudW1iZXI7XG4gICAgY3VycmVuY3k/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQ2xpZW50IHtcbiAgICAvKipcbiAgICAgKiBVc2UgY29uZmlybVBheW1lbnQgdG8gY29uZmlybSBhIFBheW1lbnRJbnRlbnQgdXNpbmcgZGF0YSBjb2xsZWN0ZWQgYnkgdGhlIFBheW1lbnQgRWxlbWVudC5cbiAgICAgKiBXaGVuIGNhbGxlZCwgY29uZmlybVBheW1lbnQgd2lsbCBhdHRlbXB0IHRvIGNvbXBsZXRlIGFueSByZXF1aXJlZCBhY3Rpb25zLFxuICAgICAqIHN1Y2ggYXMgYXV0aGVudGljYXRpbmcgeW91ciB1c2VyIGJ5IGRpc3BsYXlpbmcgYSAzRFMgZGlhbG9nIG9yIHJlZGlyZWN0aW5nIHRoZW0gdG8gYSBiYW5rIGF1dGhvcml6YXRpb24gcGFnZS5cbiAgICAgKi9cbiAgICBjb25maXJtUGF5bWVudChvcHRpb25zOiBTdHJpcGVDb25maXJtUGF5bWVudERhdGEpOiBQcm9taXNlPFN0cmlwZVJlc3VsdD47XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGNhbGxlZCwgaXQgd2lsbCBjb25maXJtIHRoZSBQYXltZW50SW50ZW50IHdpdGggZGF0YSB5b3UgcHJvdmlkZSBhbmQgY2Fycnkgb3V0IDNEUyBvciBvdGhlciBuZXh0IGFjdGlvbnMgaWYgdGhleSBhcmUgcmVxdWlyZWQuXG4gICAgICovXG4gICAgY29uZmlybUNhcmRQYXltZW50KGNsaWVudFNlY3JldDogc3RyaW5nKTogUHJvbWlzZTxTdHJpcGVSZXN1bHQ+O1xuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgYSBQYXltZW50SW50ZW50IHVzaW5nIGl0cyBjbGllbnQgc2VjcmV0LlxuICAgICAqL1xuICAgIHJldHJpZXZlUGF5bWVudEludGVudChjbGllbnRTZWNyZXQ6IHN0cmluZyk6IFByb21pc2U8U3RyaXBlUmVzdWx0PjtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBgRWxlbWVudHNgIGluc3RhbmNlLCB3aGljaCBtYW5hZ2VzIGEgZ3JvdXAgb2YgZWxlbWVudHMuXG4gICAgICovXG4gICAgZWxlbWVudHMob3B0aW9uczogU3RyaXBlRWxlbWVudHNPcHRpb25zKTogU3RyaXBlRWxlbWVudHM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlUmVzdWx0IHtcbiAgICBwYXltZW50SW50ZW50PzogUGF5bWVudEludGVudDtcbiAgICBlcnJvcj86IFN0cmlwZUVycm9yO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUhvc3RXaW5kb3cgZXh0ZW5kcyBXaW5kb3cge1xuICAgIGJjU3RyaXBlQ2xpZW50PzogU3RyaXBlQ2xpZW50O1xuICAgIGJjU3RyaXBlRWxlbWVudHM/OiBTdHJpcGVFbGVtZW50cztcbiAgICBTdHJpcGU/PFQgPSBTdHJpcGVDbGllbnQ+KFxuICAgICAgICBzdHJpcGVQdWJsaXNoYWJsZUtleTogc3RyaW5nLFxuICAgICAgICBvcHRpb25zPzogU3RyaXBlQ29uZmlndXJhdGlvbk9wdGlvbnMsXG4gICAgKTogVDtcbn1cblxuZXhwb3J0IGVudW0gU3RyaXBlUGF5bWVudE1ldGhvZFR5cGUge1xuICAgIENyZWRpdENhcmQgPSAnY2FyZCcsXG4gICAgTGluayA9ICdsaW5rJyxcbiAgICBFUFMgPSAnZXBzJyxcbiAgICBHUkFCUEFZID0gJ2dyYWJwYXknLFxuICAgIEJBTkNPTlRBQ1QgPSAnYmFuY29udGFjdCcsXG4gICAgSURFQUwgPSAnaWRlYWwnLFxuICAgIEFMSVBBWSA9ICdhbGlwYXknLFxuICAgIEtMQVJOQSA9ICdrbGFybmEnLFxuICAgIE9DUyA9ICdvcHRpbWl6ZWRfY2hlY2tvdXQnLFxufVxuXG50eXBlIEF1dG9Pck5ldmVyID0gU3RyaXBlU3RyaW5nQ29uc3RhbnRzLkFVVE8gfCBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVI7XG5cbmV4cG9ydCBlbnVtIFN0cmlwZVN0cmluZ0NvbnN0YW50cyB7XG4gICAgTkVWRVIgPSAnbmV2ZXInLFxuICAgIEFVVE8gPSAnYXV0bycsXG4gICAgQUxXQVlTID0gJ2Fsd2F5cycsXG4gICAgUEFZTUVOVCA9ICdwYXltZW50JyxcbiAgICBJRl9SRVFVSVJFRCA9ICdpZl9yZXF1aXJlZCcsXG59XG5cbmV4cG9ydCBlbnVtIFN0cmlwZUVsZW1lbnRUeXBlIHtcbiAgICBQQVlNRU5UID0gJ3BheW1lbnQnLFxuICAgIEFVVEhFTlRJQ0FUSU9OID0gJ2xpbmtBdXRoZW50aWNhdGlvbicsXG4gICAgU0hJUFBJTkcgPSAnYWRkcmVzcycsXG4gICAgRVhQUkVTU19DSEVDS09VVCA9ICdleHByZXNzQ2hlY2tvdXQnLFxufVxuXG5leHBvcnQgZW51bSBTdHJpcGVQYXltZW50SW50ZW50U3RhdHVzIHtcbiAgICBSRVFVSVJFU19QQVlNRU5UX01FVEhPRCA9ICdyZXF1aXJlc19wYXltZW50X21ldGhvZCcsXG4gICAgUkVRVUlSRVNfQ09ORklSTUFUSU9OID0gJ3JlcXVpcmVzX2NvbmZpcm1hdGlvbicsXG4gICAgUkVRVUlSRVNfQUNUSU9OID0gJ3JlcXVpcmVzX2FjdGlvbicsXG4gICAgUFJPQ0VTU0lORyA9ICdwcm9jZXNzaW5nJyxcbiAgICBTVUNDRUVERUQgPSAnc3VjY2VlZGVkJyxcbiAgICBDQU5DRUxFRCA9ICdjYW5jZWxlZCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlUGF5bWVudE1ldGhvZCBleHRlbmRzIFBheW1lbnRNZXRob2Qge1xuICAgIGluaXRpYWxpemF0aW9uRGF0YTogU3RyaXBlSW5pdGlhbGl6YXRpb25EYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUluaXRpYWxpemF0aW9uRGF0YSB7XG4gICAgc3RyaXBlUHVibGlzaGFibGVLZXk6IHN0cmluZztcbiAgICBzdHJpcGVDb25uZWN0ZWRBY2NvdW50OiBzdHJpbmc7XG4gICAgc2hvcHBlckxhbmd1YWdlOiBzdHJpbmc7XG4gICAgY3VzdG9tZXJTZXNzaW9uVG9rZW4/OiBzdHJpbmc7XG4gICAgZW5hYmxlTGluaz86IGJvb2xlYW47XG4gICAgYWxsb3dSZWRpc3BsYXlGb3JTdG9yZWRJbnN0cnVtZW50cz86IGJvb2xlYW47XG4gICAgY2FwdHVyZU1ldGhvZD86ICdhdXRvbWF0aWMnIHwgJ21hbnVhbCc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlRWxlbWVudFVwZGF0ZU9wdGlvbnMge1xuICAgIHNob3VsZFNob3dUZXJtcz86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkIHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgZGF0YToge1xuICAgICAgICB0b2tlbj86IHN0cmluZztcbiAgICAgICAgcmVkaXJlY3RfdXJsPzogc3RyaW5nO1xuICAgIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQWRkaXRpb25hbEFjdGlvblJlc3BvbnNlQm9keSB7XG4gICAgYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ6IFN0cmlwZUFkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZDtcbiAgICB0aHJlZV9kc19yZXN1bHQ6IHtcbiAgICAgICAgdG9rZW4/OiBzdHJpbmc7XG4gICAgfTtcbn1cblxuZXhwb3J0IGVudW0gU3RyaXBlRWxlbWVudEV2ZW50IHtcbiAgICBDTElDSyA9ICdjbGljaycsXG4gICAgQ0hBTkdFID0gJ2NoYW5nZScsXG4gICAgUkVBRFkgPSAncmVhZHknLFxuICAgIFNISVBQSU5HX0FERFJFU1NfQ0hBTkdFID0gJ3NoaXBwaW5nYWRkcmVzc2NoYW5nZScsXG4gICAgU0hJUFBJTkdfUkFURV9DSEFOR0UgPSAnc2hpcHBpbmdyYXRlY2hhbmdlJyxcbiAgICBDT05GSVJNID0gJ2NvbmZpcm0nLFxuICAgIENBTkNFTCA9ICdjYW5jZWwnLFxuICAgIExPQURFUl9TVEFSVCA9ICdsb2FkZXJzdGFydCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGluZUl0ZW0ge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBhbW91bnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVTYXZlUGF5bWVudE1ldGhvZCB7XG4gICAgbWF4VmlzaWJsZVBheW1lbnRNZXRob2RzPzogbnVtYmVyO1xufVxuXG5leHBvcnQgZW51bSBTdHJpcGVJbnN0cnVtZW50U2V0dXBGdXR1cmVVc2FnZSB7XG4gICAgT05fU0VTU0lPTiA9ICdvbl9zZXNzaW9uJyxcbiAgICBPRkZfU0VTU0lPTiA9ICdvZmZfc2Vzc2lvbicsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlTGlua1YyRXZlbnQge1xuICAgIHZhbHVlPzogbnVsbDtcbiAgICBiaWxsaW5nRGV0YWlscz86IHtcbiAgICAgICAgbmFtZT86IHN0cmluZztcbiAgICAgICAgZW1haWw/OiBzdHJpbmc7XG4gICAgICAgIHBob25lPzogc3RyaW5nO1xuICAgICAgICBhZGRyZXNzPzoge1xuICAgICAgICAgICAgbGluZTE/OiBzdHJpbmc7XG4gICAgICAgICAgICBjaXR5Pzogc3RyaW5nO1xuICAgICAgICAgICAgY291bnRyeT86IHN0cmluZztcbiAgICAgICAgICAgIHBvc3RhbF9jb2RlPzogc3RyaW5nO1xuICAgICAgICAgICAgc3RhdGU/OiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBzaGlwcGluZ0FkZHJlc3M/OiB7XG4gICAgICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgICAgIGFkZHJlc3M/OiB7XG4gICAgICAgICAgICBsaW5lMT86IHN0cmluZztcbiAgICAgICAgICAgIGxpbmUyPzogc3RyaW5nO1xuICAgICAgICAgICAgY2l0eT86IHN0cmluZztcbiAgICAgICAgICAgIGNvdW50cnk/OiBzdHJpbmc7XG4gICAgICAgICAgICBwb3N0YWxfY29kZT86IHN0cmluZztcbiAgICAgICAgICAgIHN0YXRlPzogc3RyaW5nO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgYWRkcmVzcz86IHtcbiAgICAgICAgbGluZTE/OiBzdHJpbmc7XG4gICAgICAgIGNpdHk/OiBzdHJpbmc7XG4gICAgICAgIGNvdW50cnk/OiBzdHJpbmc7XG4gICAgICAgIHBvc3RhbF9jb2RlPzogc3RyaW5nO1xuICAgICAgICBzdGF0ZT86IHN0cmluZztcbiAgICB9O1xuICAgIHNoaXBwaW5nUmF0ZT86IFN0cmlwZUxpbmtWMlNoaXBwaW5nUmF0ZTtcbiAgICBlbGVtZW50VHlwZTogc3RyaW5nO1xuICAgIGV4cHJlc3NQYXltZW50VHlwZTogc3RyaW5nO1xuICAgIHJlc29sdmUoZGF0YTogU3RyaXBlTGlua1YyRXZlbnRSZXNvbHZlRGF0YSk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlTGlua1YyRXZlbnRSZXNvbHZlRGF0YSB7XG4gICAgbGluZUl0ZW1zPzogTGluZUl0ZW1bXTtcbiAgICBhbGxvd2VkU2hpcHBpbmdDb3VudHJpZXM/OiBzdHJpbmdbXTtcbiAgICBzaGlwcGluZ0FkZHJlc3NSZXF1aXJlZD86IGJvb2xlYW47XG4gICAgc2hpcHBpbmdSYXRlcz86IFN0cmlwZUxpbmtWMlNoaXBwaW5nUmF0ZVtdO1xuICAgIGJpbGxpbmdBZGRyZXNzUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIGVtYWlsUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIHBob25lTnVtYmVyUmVxdWlyZWQ/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUxpbmtWMlNoaXBwaW5nUmF0ZSB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgICBkaXNwbGF5TmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUxpbmtWMk9wdGlvbnMge1xuICAgIGNsaWVudFNlY3JldD86IHN0cmluZztcbiAgICBtb2RlPzogc3RyaW5nO1xuICAgIGN1cnJlbmN5Pzogc3RyaW5nO1xuICAgIGNhcHR1cmVNZXRob2Q/OiAnYXV0b21hdGljJyB8ICdtYW51YWwnO1xuICAgIGFtb3VudD86IG51bWJlcjtcbn1cbiIsImltcG9ydCB7XG4gICAgUGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIsXG4gICAgU3RyaXBlQWNjZWxlcmF0ZWRDaGVja291dEN1c3RvbWVyLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNTdHJpcGVBY2NlbGVyYXRlZENoZWNrb3V0Q3VzdG9tZXIoXG4gICAgY3VzdG9tZXI6IFBheW1lbnRQcm92aWRlckN1c3RvbWVyLFxuKTogY3VzdG9tZXIgaXMgU3RyaXBlQWNjZWxlcmF0ZWRDaGVja291dEN1c3RvbWVyIHtcbiAgICByZXR1cm4gJ3N0cmlwZUxpbmtBdXRoZW50aWNhdGlvblN0YXRlJyBpbiBjdXN0b21lcjtcbn1cbiIsImltcG9ydCB7XG4gICAgQ3VzdG9tZXJDcmVkZW50aWFscyxcbiAgICBDdXN0b21lckluaXRpYWxpemVPcHRpb25zLFxuICAgIEN1c3RvbWVyU3RyYXRlZ3ksXG4gICAgRXhlY3V0ZVBheW1lbnRNZXRob2RDaGVja291dE9wdGlvbnMsXG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yVHlwZSxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFJlcXVlc3RPcHRpb25zLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7XG4gICAgaXNTdHJpcGVQYXltZW50TWV0aG9kTGlrZSxcbiAgICBTVFJJUEVfVVBFX0NMSUVOVF9BUElfVkVSU0lPTixcbiAgICBTVFJJUEVfVVBFX0NMSUVOVF9CRVRBUyxcbiAgICBTdHJpcGVBcHBlYXJhbmNlT3B0aW9ucyxcbiAgICBTdHJpcGVDbGllbnQsXG4gICAgU3RyaXBlRWxlbWVudEV2ZW50LFxuICAgIFN0cmlwZUVsZW1lbnRzLFxuICAgIFN0cmlwZUVsZW1lbnRUeXBlLFxuICAgIFN0cmlwZUV2ZW50VHlwZSxcbiAgICBTdHJpcGVGb3JtTW9kZSxcbiAgICBTdHJpcGVTY3JpcHRMb2FkZXIsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvc3RyaXBlLXV0aWxzJztcblxuaW1wb3J0IGlzU3RyaXBlQWNjZWxlcmF0ZWRDaGVja291dEN1c3RvbWVyIGZyb20gJy4vaXMtc3RyaXBlLWFjY2VsZXJhdGVkLWNoZWNrb3V0LWN1c3RvbWVyJztcbmltcG9ydCB7IFdpdGhTdHJpcGVVUEVDdXN0b21lckluaXRpYWxpemVPcHRpb25zIH0gZnJvbSAnLi9zdHJpcGV1cGUtY3VzdG9tZXItaW5pdGlhbGl6ZS1vcHRpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RyaXBlVVBFQ3VzdG9tZXJTdHJhdGVneSBpbXBsZW1lbnRzIEN1c3RvbWVyU3RyYXRlZ3kge1xuICAgIHByaXZhdGUgX3N0cmlwZUVsZW1lbnRzPzogU3RyaXBlRWxlbWVudHM7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHNjcmlwdExvYWRlcjogU3RyaXBlU2NyaXB0TG9hZGVyLFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoU3RyaXBlVVBFQ3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgbGV0IHN0cmlwZVVQRUNsaWVudDogU3RyaXBlQ2xpZW50O1xuXG4gICAgICAgIGlmICghb3B0aW9ucy5zdHJpcGV1cGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcIm9wdGlvbnNcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGNvbnRhaW5lciwgZ2F0ZXdheUlkLCBtZXRob2RJZCwgb25FbWFpbENoYW5nZSwgZ2V0U3R5bGVzLCBpc0xvYWRpbmcgfSA9XG4gICAgICAgICAgICBvcHRpb25zLnN0cmlwZXVwZTtcblxuICAgICAgICBPYmplY3QuZW50cmllcyhvcHRpb25zLnN0cmlwZXVwZSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcIiR7a2V5fVwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC5gLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChnYXRld2F5SWQsIHtcbiAgICAgICAgICAgIHBhcmFtczogeyBtZXRob2Q6IG1ldGhvZElkIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCwgZ2F0ZXdheUlkKTtcbiAgICAgICAgY29uc3QgeyBjbGllbnRUb2tlbiB9ID0gcGF5bWVudE1ldGhvZDtcblxuICAgICAgICBpZiAoIWlzU3RyaXBlUGF5bWVudE1ldGhvZExpa2UocGF5bWVudE1ldGhvZCkgfHwgIWNsaWVudFRva2VuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudFRva2VuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgZW1haWwgfSA9IHN0YXRlLmdldEN1c3RvbWVyT3JUaHJvdygpO1xuICAgICAgICBjb25zdCBwYXltZW50UHJvdmlkZXJDdXN0b21lciA9IHN0YXRlLmdldFBheW1lbnRQcm92aWRlckN1c3RvbWVyT3JUaHJvdygpO1xuICAgICAgICBjb25zdCBzdHJpcGVQYXltZW50UHJvdmlkZXJDdXN0b21lciA9IGlzU3RyaXBlQWNjZWxlcmF0ZWRDaGVja291dEN1c3RvbWVyKFxuICAgICAgICAgICAgcGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIsXG4gICAgICAgIClcbiAgICAgICAgICAgID8gcGF5bWVudFByb3ZpZGVyQ3VzdG9tZXJcbiAgICAgICAgICAgIDoge307XG4gICAgICAgIGNvbnN0IHN0cmlwZUxpbmtBdXRoZW50aWNhdGlvblN0YXRlID1cbiAgICAgICAgICAgIHN0cmlwZVBheW1lbnRQcm92aWRlckN1c3RvbWVyLnN0cmlwZUxpbmtBdXRoZW50aWNhdGlvblN0YXRlO1xuXG4gICAgICAgIGlmICghZW1haWwpIHtcbiAgICAgICAgICAgIGxldCBhcHBlYXJhbmNlOiBTdHJpcGVBcHBlYXJhbmNlT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlcyA9IHR5cGVvZiBnZXRTdHlsZXMgPT09ICdmdW5jdGlvbicgJiYgZ2V0U3R5bGVzKCk7XG5cbiAgICAgICAgICAgIGlmIChzdHlsZXMpIHtcbiAgICAgICAgICAgICAgICBhcHBlYXJhbmNlID0ge1xuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yUHJpbWFyeTogc3R5bGVzLmZpZWxkSW5uZXJTaGFkb3csXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvckJhY2tncm91bmQ6IHN0eWxlcy5maWVsZEJhY2tncm91bmQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvclRleHQ6IHN0eWxlcy5sYWJlbFRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvckRhbmdlcjogc3R5bGVzLmZpZWxkRXJyb3JUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JUZXh0U2Vjb25kYXJ5OiBzdHlsZXMubGFiZWxUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JUZXh0UGxhY2Vob2xkZXI6IHN0eWxlcy5maWVsZFBsYWNlaG9sZGVyVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcnVsZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICcuSW5wdXQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IHN0eWxlcy5maWVsZEJvcmRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogc3R5bGVzLmZpZWxkVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6IHN0eWxlcy5maWVsZElubmVyU2hhZG93LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcHBlYXJhbmNlID0ge307XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0cmlwZVVQRUNsaWVudCA9IGF3YWl0IHRoaXMuc2NyaXB0TG9hZGVyLmdldFN0cmlwZUNsaWVudChcbiAgICAgICAgICAgICAgICBwYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YSxcbiAgICAgICAgICAgICAgICBTVFJJUEVfVVBFX0NMSUVOVF9CRVRBUyxcbiAgICAgICAgICAgICAgICBTVFJJUEVfVVBFX0NMSUVOVF9BUElfVkVSU0lPTixcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRoaXMuX3N0cmlwZUVsZW1lbnRzID0gYXdhaXQgdGhpcy5zY3JpcHRMb2FkZXIuZ2V0RWxlbWVudHMoc3RyaXBlVVBFQ2xpZW50LCB7XG4gICAgICAgICAgICAgICAgY2xpZW50U2VjcmV0OiBjbGllbnRUb2tlbixcbiAgICAgICAgICAgICAgICBhcHBlYXJhbmNlLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgZ2V0QmlsbGluZ0FkZHJlc3MsIGdldENvbnNpZ25tZW50cyB9ID1cbiAgICAgICAgICAgICAgICB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnNpZ25tZW50cyA9IGdldENvbnNpZ25tZW50cygpO1xuICAgICAgICAgICAgY29uc3QgaWQgPSBjb25zaWdubWVudHM/LlswXT8uaWQ7XG4gICAgICAgICAgICBjb25zdCB7IGVtYWlsOiBiaWxsaW5nRW1haWwgfSA9IGdldEJpbGxpbmdBZGRyZXNzKCkgfHwge307XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gYmlsbGluZ0VtYWlsXG4gICAgICAgICAgICAgICAgPyB7IGRlZmF1bHRWYWx1ZXM6IHsgbW9kZTogU3RyaXBlRm9ybU1vZGUuU0hJUFBJTkcsIGVtYWlsOiBiaWxsaW5nRW1haWwgfSB9XG4gICAgICAgICAgICAgICAgOiB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmtBdXRoZW50aWNhdGlvbkVsZW1lbnQgPVxuICAgICAgICAgICAgICAgIHRoaXMuX3N0cmlwZUVsZW1lbnRzLmdldEVsZW1lbnQoU3RyaXBlRWxlbWVudFR5cGUuQVVUSEVOVElDQVRJT04pIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RyaXBlRWxlbWVudHMuY3JlYXRlKFN0cmlwZUVsZW1lbnRUeXBlLkFVVEhFTlRJQ0FUSU9OLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgbGlua0F1dGhlbnRpY2F0aW9uRWxlbWVudC5vbihTdHJpcGVFbGVtZW50RXZlbnQuQ0hBTkdFLCAoZXZlbnQ6IFN0cmlwZUV2ZW50VHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghKCdhdXRoZW50aWNhdGVkJyBpbiBldmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0N1c3RvbWVyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlUGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIoe1xuICAgICAgICAgICAgICAgICAgICBzdHJpcGVMaW5rQXV0aGVudGljYXRpb25TdGF0ZTogZXZlbnQuYXV0aGVudGljYXRlZCxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChldmVudC5jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICBvbkVtYWlsQ2hhbmdlKGV2ZW50LmF1dGhlbnRpY2F0ZWQsIGV2ZW50LnZhbHVlLmVtYWlsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvbkVtYWlsQ2hhbmdlKGZhbHNlLCAnJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgICAgICAgICAgICAgICBpc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzdHJpcGVMaW5rQXV0aGVudGljYXRpb25TdGF0ZSA9PT0gdW5kZWZpbmVkICYmIGV2ZW50LmF1dGhlbnRpY2F0ZWQgJiYgaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmRlbGV0ZUNvbnNpZ25tZW50KGlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxpbmtBdXRoZW50aWNhdGlvbkVsZW1lbnQubW91bnQoYCMke2NvbnRhaW5lcn1gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5fc3RyaXBlRWxlbWVudHM/LmdldEVsZW1lbnQoU3RyaXBlRWxlbWVudFR5cGUuQVVUSEVOVElDQVRJT04pPy51bm1vdW50KCk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHNpZ25JbihjcmVkZW50aWFsczogQ3VzdG9tZXJDcmVkZW50aWFscywgb3B0aW9ucz86IFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zaWduSW5DdXN0b21lcihjcmVkZW50aWFscywgb3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHNpZ25PdXQob3B0aW9ucz86IFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zaWduT3V0Q3VzdG9tZXIob3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGV4ZWN1dGVQYXltZW50TWV0aG9kQ2hlY2tvdXQob3B0aW9ucz86IEV4ZWN1dGVQYXltZW50TWV0aG9kQ2hlY2tvdXRPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIG9wdGlvbnM/LmNvbnRpbnVlV2l0aENoZWNrb3V0Q2FsbGJhY2s/LigpO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBnZXRTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7XG4gICAgQ3VzdG9tZXJTdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7IFN0cmlwZVNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvc3RyaXBlLXV0aWxzJztcblxuaW1wb3J0IFN0cmlwZVVQRUN1c3RvbWVyU3RyYXRlZ3kgZnJvbSAnLi9zdHJpcGUtdXBlLWN1c3RvbWVyLXN0cmF0ZWd5JztcblxuY29uc3QgY3JlYXRlU3RyaXBlVVBFQ3VzdG9tZXJTdHJhdGVneTogQ3VzdG9tZXJTdHJhdGVneUZhY3Rvcnk8U3RyaXBlVVBFQ3VzdG9tZXJTdHJhdGVneT4gPSAoXG4gICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbikgPT4ge1xuICAgIHJldHVybiBuZXcgU3RyaXBlVVBFQ3VzdG9tZXJTdHJhdGVneShcbiAgICAgICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgbmV3IFN0cmlwZVNjcmlwdExvYWRlcihnZXRTY3JpcHRMb2FkZXIoKSksXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVTdHJpcGVVUEVDdXN0b21lclN0cmF0ZWd5LCBbeyBpZDogJ3N0cmlwZXVwZScgfV0pO1xuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gdGhlIHBheW1lbnQgZmxvdyBpcyBjYW5jZWxsZWQuIEl0IGNvdWxkIGJlXG4gKiBkdWUgdG8gYSBkZWxpYmVyYXRlIHVzZXIgaW50ZXJhY3Rpb24sIGkuZS46IHRoZSB1c2VyIGNsaWNrcyBvbiBhIGNhbmNlbFxuICogYnV0dG9uIHdoaWNoIGRpc21pc3NlcyB0aGUgcGF5bWVudCBtb2RhbC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdQYXltZW50IHByb2Nlc3Mgd2FzIGNhbmNlbGxlZC4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3BheW1lbnRfY2FuY2VsbGVkJztcbiAgICB9XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiBhIHBheW1lbnQgbWV0aG9kIGV4cGVyaWVuY2VzIHNvbWUga2luZCBvZlxuICogZmFpbHVyZSAoaS5lLjogaXRzIGNsaWVudCBsaWJyYXJ5IHJldHVybnMgYSByZWplY3RlZCBwcm9taXNlKS4gQW5kIHRoZXJlIGlzXG4gKiBubyBvdGhlciBlcnJvciB0eXBlIHRoYXQgaXMgbW9yZSBzcGVjaWZpYyB0aGFuIHRoaXMgb25lLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKFxuICAgICAgICAgICAgbWVzc2FnZSB8fFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjbGllbnQgbGlicmFyeSBvZiBhIHBheW1lbnQgbWV0aG9kIGhhcyB0aHJvd24gYW4gdW5leHBlY3RlZCBlcnJvci4nLFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50TWV0aG9kRmFpbGVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAncGF5bWVudF9tZXRob2RfY2xpZW50X2ludmFsaWQnO1xuICAgIH1cbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG5leHBvcnQgZW51bSBOb3RJbml0aWFsaXplZEVycm9yVHlwZSB7XG4gICAgQ2hlY2tvdXRCdXR0b25Ob3RJbml0aWFsaXplZCxcbiAgICBDdXN0b21lck5vdEluaXRpYWxpemVkLFxuICAgIFBheW1lbnROb3RJbml0aWFsaXplZCxcbiAgICBTaGlwcGluZ05vdEluaXRpYWxpemVkLFxuICAgIFNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQsXG59XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciBpZiBhIG1ldGhvZCByZXF1aXJlcyBhIGNlcnRhaW4gaW5pdGlhbGl6YXRpb24gY2FsbCB0byBiZVxuICogbWFkZSBmaXJzdC4gU29tZSBvYmplY3RzIGNhbiBiZSBjb25zdHJ1Y3RlZCBidXQgdGhleSBjYW5ub3QgYmUgdXNlZCB1bnRpbCBhXG4gKiBzZXBhcmF0ZSBpbml0aWFsaXphdGlvbiBjYWxsIGlzIG1hZGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdEluaXRpYWxpemVkRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3VidHlwZTogTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUpIHtcbiAgICAgICAgc3VwZXIoZ2V0RXJyb3JNZXNzYWdlKHN1YnR5cGUpKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnTm90SW5pdGlhbGl6ZWRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdub3RfaW5pdGlhbGl6ZWQnO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKHR5cGU6IE5vdEluaXRpYWxpemVkRXJyb3JUeXBlKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5DdXN0b21lck5vdEluaXRpYWxpemVkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjdXN0b21lciBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuXG4gICAgICAgIGNhc2UgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBwYXltZW50IHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5TaGlwcGluZ05vdEluaXRpYWxpemVkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBzaGlwcGluZyBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuXG4gICAgICAgIGNhc2UgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2hlY2tvdXQgc3BhbSBwcm90ZWN0aW9uIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHJlcXVpcmVkIGNvbXBvbmVudCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBpbmNsdWRlcywgc29tZSB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7XG4gICAgQWRkcmVzcyxcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IsXG4gICAgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgaXNTdHJpcGVFcnJvciB9IGZyb20gJy4vaXMtc3RyaXBlLWVycm9yJztcbmltcG9ydCB7XG4gICAgQWRkcmVzc09wdGlvbnMsXG4gICAgU3RyaXBlQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkLFxuICAgIFN0cmlwZUNsaWVudCxcbiAgICBTdHJpcGVDb25maXJtUGF5bWVudERhdGEsXG4gICAgU3RyaXBlRWxlbWVudCxcbiAgICBTdHJpcGVFbGVtZW50cyxcbiAgICBTdHJpcGVFbGVtZW50VHlwZSxcbiAgICBTdHJpcGVFcnJvcixcbiAgICBTdHJpcGVQYXltZW50SW50ZW50U3RhdHVzLFxuICAgIFN0cmlwZVN0cmluZ0NvbnN0YW50cyxcbn0gZnJvbSAnLi9zdHJpcGUnO1xuaW1wb3J0IFN0cmlwZVBheW1lbnRJbml0aWFsaXplT3B0aW9ucyBmcm9tICcuL3N0cmlwZS1pbml0aWFsaXplLW9wdGlvbnMnO1xuaW1wb3J0IFN0cmlwZVNjcmlwdExvYWRlciBmcm9tICcuL3N0cmlwZS1zY3JpcHQtbG9hZGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlIHtcbiAgICBwcml2YXRlIGlzTW91bnRlZCA9IGZhbHNlO1xuICAgIHByaXZhdGUgY2hlY2tvdXRFdmVudHNVbnN1YnNjcmliZT86ICgpID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHNjcmlwdExvYWRlcjogU3RyaXBlU2NyaXB0TG9hZGVyLFxuICAgICkge31cblxuICAgIGRlaW5pdGlhbGl6ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jaGVja291dEV2ZW50c1Vuc3Vic2NyaWJlPy4oKTtcbiAgICAgICAgdGhpcy5pc01vdW50ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpbml0Q2hlY2tvdXRFdmVudHNTdWJzY3JpcHRpb24oXG4gICAgICAgIGdhdGV3YXlJZDogc3RyaW5nLFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICBzdHJpcGVJbml0aWFsaXphdGlvbk9wdGlvbnM6IFN0cmlwZVBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICAgICAgc3RyaXBlRWxlbWVudHM/OiBTdHJpcGVFbGVtZW50cyxcbiAgICApOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jaGVja291dEV2ZW50c1Vuc3Vic2NyaWJlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1YnNjcmliZShcbiAgICAgICAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXltZW50RWxlbWVudCA9IHN0cmlwZUVsZW1lbnRzPy5nZXRFbGVtZW50KFN0cmlwZUVsZW1lbnRUeXBlLlBBWU1FTlQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFwYXltZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVTdHJpcGVQYXltZW50SW50ZW50KGdhdGV3YXlJZCwgbWV0aG9kSWQpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzTW91bnRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudEVsZW1lbnQudW5tb3VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc01vdW50ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpcGVJbml0aWFsaXphdGlvbk9wdGlvbnMub25FcnJvcj8uKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNNb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0cmlwZUVsZW1lbnRzPy5mZXRjaFVwZGF0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3VudEVsZW1lbnQocGF5bWVudEVsZW1lbnQsIHN0cmlwZUluaXRpYWxpemF0aW9uT3B0aW9ucy5jb250YWluZXJJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIChzdGF0ZSkgPT4gc3RhdGUuZ2V0Q2hlY2tvdXQoKT8ub3V0c3RhbmRpbmdCYWxhbmNlLFxuICAgICAgICAgICAgKHN0YXRlKSA9PiBzdGF0ZS5nZXRDaGVja291dCgpPy5jb3Vwb25zLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIG1vdW50RWxlbWVudChzdHJpcGVFbGVtZW50OiBTdHJpcGVFbGVtZW50LCBjb250YWluZXJJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySWQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzdHJpcGVFbGVtZW50Lm1vdW50KGAjJHtjb250YWluZXJJZH1gKTtcbiAgICAgICAgdGhpcy5pc01vdW50ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIG1hcEFwcGVhcmFuY2VWYXJpYWJsZXMoc3R5bGVzOiBOb25OdWxsYWJsZTxTdHJpcGVQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnNbJ3N0eWxlJ10+KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb2xvclByaW1hcnk6IHN0eWxlcy5maWVsZElubmVyU2hhZG93LFxuICAgICAgICAgICAgY29sb3JCYWNrZ3JvdW5kOiBzdHlsZXMuZmllbGRCYWNrZ3JvdW5kLFxuICAgICAgICAgICAgY29sb3JUZXh0OiBzdHlsZXMubGFiZWxUZXh0LFxuICAgICAgICAgICAgY29sb3JEYW5nZXI6IHN0eWxlcy5maWVsZEVycm9yVGV4dCxcbiAgICAgICAgICAgIGNvbG9yVGV4dFNlY29uZGFyeTogc3R5bGVzLmxhYmVsVGV4dCxcbiAgICAgICAgICAgIGNvbG9yVGV4dFBsYWNlaG9sZGVyOiBzdHlsZXMuZmllbGRQbGFjZWhvbGRlclRleHQsXG4gICAgICAgICAgICBjb2xvckljb246IHN0eWxlcy5maWVsZFBsYWNlaG9sZGVyVGV4dCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBtYXBJbnB1dEFwcGVhcmFuY2VSdWxlcyhzdHlsZXM6IE5vbk51bGxhYmxlPFN0cmlwZVBheW1lbnRJbml0aWFsaXplT3B0aW9uc1snc3R5bGUnXT4pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiBzdHlsZXMuZmllbGRCb3JkZXIsXG4gICAgICAgICAgICBjb2xvcjogc3R5bGVzLmZpZWxkVGV4dCxcbiAgICAgICAgICAgIGJveFNoYWRvdzogc3R5bGVzLmZpZWxkSW5uZXJTaGFkb3csXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdGhyb3dTdHJpcGVFcnJvcihzdHJpcGVFcnJvcj86IHVua25vd24pOiBuZXZlciB7XG4gICAgICAgIGlmIChpc1N0cmlwZUVycm9yKHN0cmlwZUVycm9yKSkge1xuICAgICAgICAgICAgdGhpcy50aHJvd0Rpc3BsYXlhYmxlU3RyaXBlRXJyb3Ioc3RyaXBlRXJyb3IpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc0NhbmNlbGxhdGlvbkVycm9yKHN0cmlwZUVycm9yKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IoKTtcbiAgICB9XG5cbiAgICB0aHJvd0Rpc3BsYXlhYmxlU3RyaXBlRXJyb3Ioc3RyaXBlRXJyb3I6IFN0cmlwZUVycm9yKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGluY2x1ZGVzKFsnY2FyZF9lcnJvcicsICdpbnZhbGlkX3JlcXVlc3RfZXJyb3InLCAndmFsaWRhdGlvbl9lcnJvciddLCBzdHJpcGVFcnJvci50eXBlKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihzdHJpcGVFcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzQ2FuY2VsbGF0aW9uRXJyb3Ioc3RyaXBlRXJyb3I/OiBTdHJpcGVFcnJvcik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBzdHJpcGVFcnJvcj8ucGF5bWVudF9pbnRlbnQubGFzdF9wYXltZW50X2Vycm9yPy5tZXNzYWdlO1xuXG4gICAgICAgIHJldHVybiAhIWVycm9yTWVzc2FnZSAmJiBlcnJvck1lc3NhZ2UuaW5kZXhPZignY2FuY2VsZWQnKSAhPT0gLTE7XG4gICAgfVxuXG4gICAgdGhyb3dQYXltZW50Q29uZmlybWF0aW9uUHJvY2VlZE1lc3NhZ2UoKSB7XG4gICAgICAgIC8vIElORk86IGZvciBjYXNlIGlmIHBheW1lbnQgd2FzIHN1Y2Nlc3NmdWxseSBjb25maXJtZWQgb24gU3RyaXBlIHNpZGUgYnV0IG9uIEJDIHNpZGUgc29tZXRoaW5nIGdvIHdyb25nLCByZXF1ZXN0IGZhaWxlZCBhbmQgb3JkZXIgc3RhdHVzIGhhc24ndCBjaGFuZ2VkIHlldFxuICAgICAgICAvLyBGb3Igc2hvcHBlciB3ZSBuZWVkIHRvIHNob3cgYWRkaXRpb25hbCBtZXNzYWdlIHRoYXQgQkMgaXMgd2FpdGluZyBmb3Igc3RyaXBlIGNvbmZpcm1hdGlvbiwgdG8gcHJldmVudCBhZGRpdGlvbmFsIHBheW1lbnQgY3JlYXRpb25cbiAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RGYWlsZWRFcnJvcihcbiAgICAgICAgICAgIFwiV2UndmUgcmVjZWl2ZWQgeW91ciBvcmRlciBhbmQgYXJlIHByb2Nlc3NpbmcgeW91ciBwYXltZW50LiBPbmNlIHRoZSBwYXltZW50IGlzIHZlcmlmaWVkLCB5b3VyIG9yZGVyIHdpbGwgYmUgY29tcGxldGVkLiBXZSB3aWxsIHNlbmQgeW91IGFuIGVtYWlsIHdoZW4gaXQncyBjb21wbGV0ZWQuIFBsZWFzZSBub3RlLCB0aGlzIHByb2Nlc3MgbWF5IHRha2UgYSBmZXcgbWludXRlcyBkZXBlbmRpbmcgb24gdGhlIHByb2Nlc3NpbmcgdGltZXMgb2YgeW91ciBjaG9zZW4gbWV0aG9kLlwiLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGlzUGF5bWVudENvbXBsZXRlZChtZXRob2RJZDogc3RyaW5nLCBzdHJpcGVVUEVDbGllbnQ/OiBTdHJpcGVDbGllbnQpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcbiAgICAgICAgY29uc3QgeyBmZWF0dXJlcyB9ID0gc3RhdGUuZ2V0U3RvcmVDb25maWdPclRocm93KCkuY2hlY2tvdXRTZXR0aW5ncztcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhcGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbiB8fFxuICAgICAgICAgICAgIXN0cmlwZVVQRUNsaWVudCB8fFxuICAgICAgICAgICAgIWZlYXR1cmVzWydQSS02MjYuQmxvY2tfdW5uZWNlc3NhcnlfcGF5bWVudF9jb25maXJtYXRpb25fZm9yX1N0cmlwZVVQRSddXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBwYXltZW50SW50ZW50IH0gPSBhd2FpdCBzdHJpcGVVUEVDbGllbnQucmV0cmlldmVQYXltZW50SW50ZW50KFxuICAgICAgICAgICAgcGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbixcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gcGF5bWVudEludGVudD8uc3RhdHVzID09PSBTdHJpcGVQYXltZW50SW50ZW50U3RhdHVzLlNVQ0NFRURFRDtcbiAgICB9XG5cbiAgICBtYXBTdHJpcGVQYXltZW50RGF0YShcbiAgICAgICAgc3RyaXBlRWxlbWVudHM/OiBTdHJpcGVFbGVtZW50cyxcbiAgICAgICAgcmV0dXJuVXJsPzogc3RyaW5nLFxuICAgICAgICBzaG91bGRBbGxvd1JlZGlzcGxheSA9IGZhbHNlLFxuICAgICk6IFN0cmlwZUNvbmZpcm1QYXltZW50RGF0YSB7XG4gICAgICAgIGNvbnN0IGJpbGxpbmdBZGRyZXNzID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0QmlsbGluZ0FkZHJlc3MoKTtcbiAgICAgICAgY29uc3QgeyBmaXJzdE5hbWUgPSAnJywgbGFzdE5hbWUgPSAnJywgZW1haWwgPSAnJyB9ID0gYmlsbGluZ0FkZHJlc3MgfHwge307XG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSB0aGlzLl9tYXBTdHJpcGVBZGRyZXNzKGJpbGxpbmdBZGRyZXNzKTtcblxuICAgICAgICBpZiAoIXN0cmlwZUVsZW1lbnRzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFlbWFpbCB8fCAhYWRkcmVzcyB8fCAhYWRkcmVzcy5jaXR5IHx8ICFhZGRyZXNzLmNvdW50cnkgfHwgIWZpcnN0TmFtZSB8fCAhbGFzdE5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdCaWxsaW5nQWRkcmVzcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZWxlbWVudHM6IHN0cmlwZUVsZW1lbnRzLFxuICAgICAgICAgICAgcmVkaXJlY3Q6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5JRl9SRVFVSVJFRCxcbiAgICAgICAgICAgIGNvbmZpcm1QYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBwYXltZW50X21ldGhvZF9kYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLihzaG91bGRBbGxvd1JlZGlzcGxheSA/IHsgYWxsb3dfcmVkaXNwbGF5OiAnYWx3YXlzJyB9IDoge30pLFxuICAgICAgICAgICAgICAgICAgICBiaWxsaW5nX2RldGFpbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGAke2ZpcnN0TmFtZX0gJHtsYXN0TmFtZX1gLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLi4uKHJldHVyblVybCAmJiB7IHJldHVybl91cmw6IHJldHVyblVybCB9KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaXNBZGRpdGlvbmFsQWN0aW9uRXJyb3IoZXJyb3JzOiBBcnJheTx7IGNvZGU6IHN0cmluZyB9Pik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gc29tZShlcnJvcnMsIHsgY29kZTogJ2FkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkJyB9KTtcbiAgICB9XG5cbiAgICBpc1JlZGlyZWN0QWN0aW9uKGFkZGl0aW9uYWxBY3Rpb246IFN0cmlwZUFkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgZGF0YTogeyByZWRpcmVjdF91cmwgfSxcbiAgICAgICAgfSA9IGFkZGl0aW9uYWxBY3Rpb247XG5cbiAgICAgICAgcmV0dXJuIHR5cGUgPT09ICdyZWRpcmVjdF90b191cmwnICYmICEhcmVkaXJlY3RfdXJsO1xuICAgIH1cblxuICAgIGlzT25QYWdlQWRkaXRpb25hbEFjdGlvbihhZGRpdGlvbmFsQWN0aW9uOiBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uUmVxdWlyZWQpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGRhdGE6IHsgdG9rZW4gfSxcbiAgICAgICAgfSA9IGFkZGl0aW9uYWxBY3Rpb247XG5cbiAgICAgICAgcmV0dXJuIHR5cGUgPT09ICdhZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlc19wYXltZW50X21ldGhvZCcgJiYgISF0b2tlbjtcbiAgICB9XG5cbiAgICBhc3luYyB1cGRhdGVTdHJpcGVQYXltZW50SW50ZW50KGdhdGV3YXlJZDogc3RyaW5nLCBtZXRob2RJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIElORk86IHRvIHRyaWdnZXIgcGF5bWVudCBpbnRlbnQgdXBkYXRlIG9uIHRoZSBCRSBzaWRlIHdlIG5lZWQgdG8gbWFrZSBzdHJpcGUgY29uZmlnIHJlcXVlc3RcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QoZ2F0ZXdheUlkLCB7XG4gICAgICAgICAgICBwYXJhbXM6IHsgbWV0aG9kOiBtZXRob2RJZCB9LFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgeyBjbGllbnRUb2tlbiB9ID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuXG4gICAgICAgIGlmICghY2xpZW50VG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2NyaXB0TG9hZGVyLnVwZGF0ZVN0cmlwZUVsZW1lbnRzKHsgY2xpZW50U2VjcmV0OiBjbGllbnRUb2tlbiB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9tYXBTdHJpcGVBZGRyZXNzKGFkZHJlc3M/OiBBZGRyZXNzKTogQWRkcmVzc09wdGlvbnMge1xuICAgICAgICBpZiAoYWRkcmVzcykge1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIGNpdHksXG4gICAgICAgICAgICAgICAgYWRkcmVzczEsXG4gICAgICAgICAgICAgICAgYWRkcmVzczIsXG4gICAgICAgICAgICAgICAgY291bnRyeUNvZGU6IGNvdW50cnksXG4gICAgICAgICAgICAgICAgcG9zdGFsQ29kZSxcbiAgICAgICAgICAgICAgICBzdGF0ZU9yUHJvdmluY2VDb2RlLFxuICAgICAgICAgICAgfSA9IGFkZHJlc3M7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2l0eSxcbiAgICAgICAgICAgICAgICBjb3VudHJ5LFxuICAgICAgICAgICAgICAgIHBvc3RhbF9jb2RlOiBwb3N0YWxDb2RlLFxuICAgICAgICAgICAgICAgIGxpbmUxOiBhZGRyZXNzMSxcbiAgICAgICAgICAgICAgICBsaW5lMjogYWRkcmVzczIsXG4gICAgICAgICAgICAgICAgLi4uKHN0YXRlT3JQcm92aW5jZUNvZGUgPyB7IHN0YXRlOiBzdGF0ZU9yUHJvdmluY2VDb2RlIH0gOiB7fSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0JpbGxpbmdBZGRyZXNzKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTdHJpcGVFcnJvciB9IGZyb20gJy4vc3RyaXBlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaXBlRXJyb3IoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBTdHJpcGVFcnJvciB7XG4gICAgcmV0dXJuIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgZXJyb3IgIT09IG51bGwgJiYgJ3R5cGUnIGluIGVycm9yO1xufVxuIiwiaW1wb3J0IHtcbiAgICBMb2FkaW5nSW5kaWNhdG9yQ29udGFpbmVyU3R5bGVzLFxuICAgIExvYWRpbmdJbmRpY2F0b3JTdHlsZXMsXG59IGZyb20gJy4vbG9hZGluZy1pbmRpY2F0b3Itc3R5bGVzJztcblxuY29uc3QgREVGQVVMVF9TVFlMRVM6IExvYWRpbmdJbmRpY2F0b3JTdHlsZXMgPSB7XG4gICAgc2l6ZTogNzAsXG4gICAgY29sb3I6ICcjZDlkOWQ5JyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcbn07XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0NPTlRBSU5FUl9TVFlMRVMgPSB7XG4gICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgJ2JhY2tncm91bmQtY29sb3InOiAncmdiYSgwLCAwLCAwLCAwLjQpJyxcbiAgICAnei1pbmRleCc6ICcxMDAwJyxcbn07XG5cbmNvbnN0IFJPVEFUSU9OX0FOSU1BVElPTiA9ICdlbWJlZGRlZC1jaGVja291dC1sb2FkaW5nLWluZGljYXRvci1yb3RhdGlvbic7XG5cbmludGVyZmFjZSBMb2FkaW5nSW5kaWNhdG9yT3B0aW9ucyB7XG4gICAgc3R5bGVzPzogTG9hZGluZ0luZGljYXRvclN0eWxlcztcbiAgICBjb250YWluZXJTdHlsZXM/OiBMb2FkaW5nSW5kaWNhdG9yQ29udGFpbmVyU3R5bGVzO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkaW5nSW5kaWNhdG9yIHtcbiAgICBwcml2YXRlIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBpbmRpY2F0b3I6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgc3R5bGVzOiBMb2FkaW5nSW5kaWNhdG9yU3R5bGVzO1xuICAgIHByaXZhdGUgY29udGFpbmVyU3R5bGVzOiBMb2FkaW5nSW5kaWNhdG9yQ29udGFpbmVyU3R5bGVzO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucz86IExvYWRpbmdJbmRpY2F0b3JPcHRpb25zKSB7XG4gICAgICAgIHRoaXMuc3R5bGVzID0geyAuLi5ERUZBVUxUX1NUWUxFUywgLi4uKG9wdGlvbnMgJiYgb3B0aW9ucy5zdHlsZXMpIH07XG4gICAgICAgIHRoaXMuY29udGFpbmVyU3R5bGVzID0geyAuLi4ob3B0aW9ucyAmJiBvcHRpb25zLmNvbnRhaW5lclN0eWxlcykgfTtcblxuICAgICAgICB0aGlzLmRlZmluZUFuaW1hdGlvbigpO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gdGhpcy5idWlsZENvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLmluZGljYXRvciA9IHRoaXMuYnVpbGRJbmRpY2F0b3IoKTtcblxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmluZGljYXRvcik7XG4gICAgfVxuXG4gICAgc2hvdyhwYXJlbnRJZD86IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAocGFyZW50SWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhcmVudElkKTtcblxuICAgICAgICAgICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICdVbmFibGUgdG8gYXR0YWNoIHRoZSBsb2FkaW5nIGluZGljYXRvciBiZWNhdXNlIHRoZSBwYXJlbnQgSUQgaXMgbm90IHZhbGlkLicsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG4gICAgfVxuXG4gICAgaGlkZSgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgaGFuZGxlVHJhbnNpdGlvbkVuZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcblxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGhhbmRsZVRyYW5zaXRpb25FbmQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBoYW5kbGVUcmFuc2l0aW9uRW5kKTtcblxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGRDb250YWluZXIoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICBjb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5ib3R0b20gPSAnMCc7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5yaWdodCA9ICcwJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnRvcCA9ICcwJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSAnYWxsIDI1MG1zIGVhc2Utb3V0JztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG5cbiAgICAgICAgdGhpcy5zZXRTdHlsZUF0dHJpYnV0ZShjb250YWluZXIsIHRoaXMuY29udGFpbmVyU3R5bGVzKTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGRJbmRpY2F0b3IoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBpbmRpY2F0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS53aWR0aCA9IGAke3RoaXMuc3R5bGVzLnNpemV9cHhgO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5zdHlsZXMuc2l6ZX1weGA7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS5ib3JkZXJSYWRpdXMgPSBgJHt0aGlzLnN0eWxlcy5zaXplfXB4YDtcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLmJvcmRlciA9ICdzb2xpZCAxcHgnO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuYm9yZGVyQ29sb3IgPSBgJHt0aGlzLnN0eWxlcy5iYWNrZ3JvdW5kQ29sb3J9ICR7dGhpcy5zdHlsZXMuYmFja2dyb3VuZENvbG9yfSAke3RoaXMuc3R5bGVzLmNvbG9yfSAke3RoaXMuc3R5bGVzLmNvbG9yfWA7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS5tYXJnaW4gPSAnMCBhdXRvJztcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS5yaWdodCA9ICcwJztcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLnRvcCA9ICc1MCUnO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTUwJSkgcm90YXRlKDBkZWcpJztcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLnRyYW5zZm9ybVN0eWxlID0gJ3ByZXNlcnZlLTNkJztcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLmFuaW1hdGlvbiA9IGAke1JPVEFUSU9OX0FOSU1BVElPTn0gNTAwbXMgaW5maW5pdGUgY3ViaWMtYmV6aWVyKDAuNjksIDAuMzEsIDAuNTYsIDAuODMpYDtcblxuICAgICAgICByZXR1cm4gaW5kaWNhdG9yO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0U3R5bGVBdHRyaWJ1dGUoZWxlbWVudDogSFRNTEVsZW1lbnQsIGF0dHJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9KTogdm9pZCB7XG4gICAgICAgIE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKChrKSA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KGssIGF0dHJzW2tdKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkZWZpbmVBbmltYXRpb24oKTogdm9pZCB7XG4gICAgICAgIC8vIEluIG9yZGVyIHRvIGRlZmluZSBDU1MgYW5pbWF0aW9uLCB3ZSBuZWVkIHRvIGluc2VydCBhIHN0eWxlc2hlZXQgaW50byB0aGUgaG9zdCBmcmFtZS5cbiAgICAgICAgLy8gV2Ugb25seSBoYXZlIHRvIGRvIGl0IG9uY2UuXG4gICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChST1RBVElPTl9BTklNQVRJT04pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cbiAgICAgICAgc3R5bGUuaWQgPSBST1RBVElPTl9BTklNQVRJT047XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS1jb25kaXRpb25cbiAgICAgICAgZG9jdW1lbnQuaGVhZD8uYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXG4gICAgICAgIGlmIChzdHlsZS5zaGVldCBpbnN0YW5jZW9mIENTU1N0eWxlU2hlZXQpIHtcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gcHJvdmlkZSB0aGUgMm5kIHBhcmFtZXRlciBmb3IgSUUxMSwgZXZlbiB0aG91Z2ggaXQgaXNcbiAgICAgICAgICAgIC8vIDAgYnkgZGVmYXVsdCBmb3IgYWxsIG90aGVyIGJyb3dzZXJzLlxuICAgICAgICAgICAgc3R5bGUuc2hlZXQuaW5zZXJ0UnVsZShcbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgQGtleWZyYW1lcyAke1JPVEFUSU9OX0FOSU1BVElPTn0ge1xuICAgICAgICAgICAgICAgICAgICAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKSByb3RhdGUoMGRlZyk7IH1cbiAgICAgICAgICAgICAgICAgICAgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKSByb3RhdGUoMzYwZGVnKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgUmVxdWVzdEVycm9yIGZyb20gJy4vcmVxdWVzdC1lcnJvcic7XG5cbi8vIEhhdmUgdG8gdXNlIGBhc2AgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzM5ODcwNDQvdHlwZWd1YXJkaW5nLWFuLXVua25vd24tbmVzdGVkLW9iamVjdCBzaG91bGQgYmUgZml4ZWQgaW4gNC44K1xuY29uc3QgaXNSZXF1ZXN0RXJyb3IgPSAoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBSZXF1ZXN0RXJyb3IgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmIGVycm9yICE9PSBudWxsICYmICdib2R5JyBpbiBlcnJvcjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGlzUmVxdWVzdEVycm9yO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQW1vdW50VHJhbnNmb3JtZXIge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX2RlY2ltYWxQbGFjZXM6IG51bWJlcikge31cblxuICAgIHRvSW50ZWdlcihhbW91bnQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKGFtb3VudCAqIDEwICoqIHRoaXMuX2RlY2ltYWxQbGFjZXMpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBleHByZXNzQ2hlY2tvdXRBbGxvd2VkQ291bnRyeUNvZGVzID0gW1xuICAgICdBQycsXG4gICAgJ0FEJyxcbiAgICAnQUUnLFxuICAgICdBRicsXG4gICAgJ0FHJyxcbiAgICAnQUknLFxuICAgICdBTCcsXG4gICAgJ0FNJyxcbiAgICAnQU8nLFxuICAgICdBUScsXG4gICAgJ0FSJyxcbiAgICAnQVQnLFxuICAgICdBVScsXG4gICAgJ0FXJyxcbiAgICAnQVgnLFxuICAgICdBWicsXG4gICAgJ0JBJyxcbiAgICAnQkInLFxuICAgICdCRCcsXG4gICAgJ0JFJyxcbiAgICAnQkYnLFxuICAgICdCRycsXG4gICAgJ0JIJyxcbiAgICAnQkknLFxuICAgICdCSicsXG4gICAgJ0JMJyxcbiAgICAnQk0nLFxuICAgICdCTicsXG4gICAgJ0JPJyxcbiAgICAnQlEnLFxuICAgICdCUicsXG4gICAgJ0JTJyxcbiAgICAnQlQnLFxuICAgICdCVicsXG4gICAgJ0JXJyxcbiAgICAnQlknLFxuICAgICdCWicsXG4gICAgJ0NBJyxcbiAgICAnQ0QnLFxuICAgICdDRicsXG4gICAgJ0NHJyxcbiAgICAnQ0gnLFxuICAgICdDSScsXG4gICAgJ0NLJyxcbiAgICAnQ0wnLFxuICAgICdDTScsXG4gICAgJ0NOJyxcbiAgICAnQ08nLFxuICAgICdDUicsXG4gICAgJ0NWJyxcbiAgICAnQ1cnLFxuICAgICdDWScsXG4gICAgJ0NaJyxcbiAgICAnREUnLFxuICAgICdESicsXG4gICAgJ0RLJyxcbiAgICAnRE0nLFxuICAgICdETycsXG4gICAgJ0RaJyxcbiAgICAnRUMnLFxuICAgICdFRScsXG4gICAgJ0VHJyxcbiAgICAnRUgnLFxuICAgICdFUicsXG4gICAgJ0VTJyxcbiAgICAnRVQnLFxuICAgICdGSScsXG4gICAgJ0ZKJyxcbiAgICAnRksnLFxuICAgICdGTycsXG4gICAgJ0ZSJyxcbiAgICAnR0EnLFxuICAgICdHQicsXG4gICAgJ0dEJyxcbiAgICAnR0UnLFxuICAgICdHRicsXG4gICAgJ0dHJyxcbiAgICAnR0gnLFxuICAgICdHSScsXG4gICAgJ0dMJyxcbiAgICAnR00nLFxuICAgICdHTicsXG4gICAgJ0dQJyxcbiAgICAnR1EnLFxuICAgICdHUicsXG4gICAgJ0dTJyxcbiAgICAnR1QnLFxuICAgICdHVScsXG4gICAgJ0dXJyxcbiAgICAnR1knLFxuICAgICdISycsXG4gICAgJ0hOJyxcbiAgICAnSFInLFxuICAgICdIVCcsXG4gICAgJ0hVJyxcbiAgICAnSUQnLFxuICAgICdJRScsXG4gICAgJ0lMJyxcbiAgICAnSU0nLFxuICAgICdJTicsXG4gICAgJ0lPJyxcbiAgICAnSVEnLFxuICAgICdJUycsXG4gICAgJ0lUJyxcbiAgICAnSkUnLFxuICAgICdKTScsXG4gICAgJ0pPJyxcbiAgICAnSlAnLFxuICAgICdLRScsXG4gICAgJ0tHJyxcbiAgICAnS0gnLFxuICAgICdLSScsXG4gICAgJ0tNJyxcbiAgICAnS04nLFxuICAgICdLUicsXG4gICAgJ0tXJyxcbiAgICAnS1knLFxuICAgICdLWicsXG4gICAgJ0xBJyxcbiAgICAnTEInLFxuICAgICdMQycsXG4gICAgJ0xJJyxcbiAgICAnTEsnLFxuICAgICdMUicsXG4gICAgJ0xTJyxcbiAgICAnTFQnLFxuICAgICdMVScsXG4gICAgJ0xWJyxcbiAgICAnTFknLFxuICAgICdNQScsXG4gICAgJ01DJyxcbiAgICAnTUQnLFxuICAgICdNRScsXG4gICAgJ01GJyxcbiAgICAnTUcnLFxuICAgICdNSycsXG4gICAgJ01MJyxcbiAgICAnTU0nLFxuICAgICdNTicsXG4gICAgJ01PJyxcbiAgICAnTVEnLFxuICAgICdNUicsXG4gICAgJ01TJyxcbiAgICAnTVQnLFxuICAgICdNVScsXG4gICAgJ01WJyxcbiAgICAnTVcnLFxuICAgICdNWCcsXG4gICAgJ01ZJyxcbiAgICAnTVonLFxuICAgICdOQScsXG4gICAgJ05DJyxcbiAgICAnTkUnLFxuICAgICdORycsXG4gICAgJ05JJyxcbiAgICAnTkwnLFxuICAgICdOTycsXG4gICAgJ05QJyxcbiAgICAnTlInLFxuICAgICdOVScsXG4gICAgJ05aJyxcbiAgICAnT00nLFxuICAgICdQQScsXG4gICAgJ1BFJyxcbiAgICAnUEYnLFxuICAgICdQRycsXG4gICAgJ1BIJyxcbiAgICAnUEsnLFxuICAgICdQTCcsXG4gICAgJ1BNJyxcbiAgICAnUE4nLFxuICAgICdQUicsXG4gICAgJ1BTJyxcbiAgICAnUFQnLFxuICAgICdQWScsXG4gICAgJ1FBJyxcbiAgICAnUkUnLFxuICAgICdSTycsXG4gICAgJ1JTJyxcbiAgICAnUlUnLFxuICAgICdSVycsXG4gICAgJ1NBJyxcbiAgICAnU0InLFxuICAgICdTQycsXG4gICAgJ1NEJyxcbiAgICAnU0UnLFxuICAgICdTRycsXG4gICAgJ1NIJyxcbiAgICAnU0knLFxuICAgICdTSicsXG4gICAgJ1NLJyxcbiAgICAnU0wnLFxuICAgICdTTScsXG4gICAgJ1NOJyxcbiAgICAnU08nLFxuICAgICdTUicsXG4gICAgJ1NTJyxcbiAgICAnU1QnLFxuICAgICdTVicsXG4gICAgJ1NYJyxcbiAgICAnU1onLFxuICAgICdUQScsXG4gICAgJ1RDJyxcbiAgICAnVEQnLFxuICAgICdURicsXG4gICAgJ1RHJyxcbiAgICAnVEgnLFxuICAgICdUSicsXG4gICAgJ1RLJyxcbiAgICAnVEwnLFxuICAgICdUTScsXG4gICAgJ1ROJyxcbiAgICAnVE8nLFxuICAgICdUUicsXG4gICAgJ1RUJyxcbiAgICAnVFYnLFxuICAgICdUVycsXG4gICAgJ1RaJyxcbiAgICAnVUEnLFxuICAgICdVRycsXG4gICAgJ1VTJyxcbiAgICAnVVknLFxuICAgICdVWicsXG4gICAgJ1ZBJyxcbiAgICAnVkMnLFxuICAgICdWRScsXG4gICAgJ1ZHJyxcbiAgICAnVk4nLFxuICAgICdWVScsXG4gICAgJ1dGJyxcbiAgICAnV1MnLFxuICAgICdYSycsXG4gICAgJ1lFJyxcbiAgICAnWVQnLFxuICAgICdaQScsXG4gICAgJ1pNJyxcbiAgICAnWlcnLFxuICAgICdaWicsXG5dO1xuIiwiaW1wb3J0IHsgcm91bmQgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQge1xuICAgIEFtb3VudFRyYW5zZm9ybWVyLFxuICAgIEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgQ3VzdG9tZXJTdHJhdGVneSxcbiAgICBJbnZhbGlkQXJndW1lbnRFcnJvcixcbiAgICBpc1JlcXVlc3RFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgUGF5bWVudCxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcixcbiAgICBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IsXG4gICAgU2hpcHBpbmdPcHRpb24sXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuaW1wb3J0IHtcbiAgICBpc1N0cmlwZVBheW1lbnRNZXRob2RMaWtlLFxuICAgIFN0cmlwZUFkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZCxcbiAgICBTdHJpcGVDbGllbnQsXG4gICAgU3RyaXBlRWxlbWVudCxcbiAgICBTdHJpcGVFbGVtZW50RXZlbnQsXG4gICAgU3RyaXBlRWxlbWVudHMsXG4gICAgU3RyaXBlRWxlbWVudHNDcmVhdGVPcHRpb25zLFxuICAgIFN0cmlwZUVsZW1lbnRUeXBlLFxuICAgIFN0cmlwZUVycm9yLFxuICAgIFN0cmlwZUV2ZW50VHlwZSxcbiAgICBTdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgU3RyaXBlTGlua1YyRXZlbnQsXG4gICAgU3RyaXBlTGlua1YyT3B0aW9ucyxcbiAgICBTdHJpcGVMaW5rVjJTaGlwcGluZ1JhdGUsXG4gICAgU3RyaXBlUGF5bWVudE1ldGhvZFR5cGUsXG4gICAgU3RyaXBlUmVzdWx0LFxuICAgIFN0cmlwZVNjcmlwdExvYWRlcixcbiAgICBTdHJpcGVTdHJpbmdDb25zdGFudHMsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvc3RyaXBlLXV0aWxzJztcbmltcG9ydCB7IExvYWRpbmdJbmRpY2F0b3IgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3VpJztcblxuaW1wb3J0IHsgZXhwcmVzc0NoZWNrb3V0QWxsb3dlZENvdW50cnlDb2RlcyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IFdpdGhTdHJpcGVPQ1NDdXN0b21lckluaXRpYWxpemVPcHRpb25zIH0gZnJvbSAnLi9zdHJpcGUtb2NzLWN1c3RvbWVyLWluaXRpYWxpemUtb3B0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0cmlwZUxpbmtWMkN1c3RvbWVyU3RyYXRlZ3kgaW1wbGVtZW50cyBDdXN0b21lclN0cmF0ZWd5IHtcbiAgICBwcml2YXRlIF9zdHJpcGVDbGllbnQ/OiBTdHJpcGVDbGllbnQ7XG4gICAgcHJpdmF0ZSBfc3RyaXBlRWxlbWVudHM/OiBTdHJpcGVFbGVtZW50cztcbiAgICBwcml2YXRlIF9saW5rVjJFbGVtZW50PzogU3RyaXBlRWxlbWVudDtcbiAgICBwcml2YXRlIF9hbW91bnRUcmFuc2Zvcm1lcj86IEFtb3VudFRyYW5zZm9ybWVyO1xuICAgIHByaXZhdGUgX29uQ29tcGxldGU/OiAob3JkZXJJZD86IG51bWJlcikgPT4gUHJvbWlzZTxuZXZlcj47XG4gICAgcHJpdmF0ZSBfbG9hZGluZ0luZGljYXRvckNvbnRhaW5lcj86IHN0cmluZztcbiAgICBwcml2YXRlIF9jYXB0dXJlTWV0aG9kPzogJ2F1dG9tYXRpYycgfCAnbWFudWFsJztcbiAgICBwcml2YXRlIF9jdXJyZW5jeUNvZGU/OiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHNjcmlwdExvYWRlcjogU3RyaXBlU2NyaXB0TG9hZGVyLFxuICAgICAgICBwcml2YXRlIHN0cmlwZUludGVncmF0aW9uU2VydmljZTogU3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGxvYWRpbmdJbmRpY2F0b3I6IExvYWRpbmdJbmRpY2F0b3IsXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShcbiAgICAgICAgb3B0aW9uczogQ3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhTdHJpcGVPQ1NDdXN0b21lckluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IHN0cmlwZW9jcyB9ID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICBpZiAoIXN0cmlwZW9jcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwib3B0aW9uc1wiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgbWV0aG9kSWQsIGdhdGV3YXlJZCwgY29udGFpbmVyIH0gPSBzdHJpcGVvY3M7XG5cbiAgICAgICAgaWYgKCFjb250YWluZXIgfHwgIW1ldGhvZElkIHx8ICFnYXRld2F5SWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChnYXRld2F5SWQsIHtcbiAgICAgICAgICAgIHBhcmFtczogeyBtZXRob2Q6IG1ldGhvZElkIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQsIGdhdGV3YXlJZCk7XG4gICAgICAgIGNvbnN0IHsgbG9hZGluZ0NvbnRhaW5lcklkLCBidXR0b25IZWlnaHQsIG9uQ29tcGxldGUgfSA9IHN0cmlwZW9jcztcblxuICAgICAgICB0aGlzLl9sb2FkaW5nSW5kaWNhdG9yQ29udGFpbmVyID0gbG9hZGluZ0NvbnRhaW5lcklkO1xuXG4gICAgICAgIHRoaXMuX29uQ29tcGxldGUgPSBvbkNvbXBsZXRlO1xuXG4gICAgICAgIGlmICghaXNTdHJpcGVQYXltZW50TWV0aG9kTGlrZShwYXltZW50TWV0aG9kKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBpbml0aWFsaXphdGlvbkRhdGEgfSA9IHBheW1lbnRNZXRob2Q7XG4gICAgICAgIGNvbnN0IHsgY2FwdHVyZU1ldGhvZCB9ID0gaW5pdGlhbGl6YXRpb25EYXRhO1xuXG4gICAgICAgIHRoaXMuX2NhcHR1cmVNZXRob2QgPSBjYXB0dXJlTWV0aG9kO1xuICAgICAgICB0aGlzLl9zdHJpcGVDbGllbnQgPSBhd2FpdCB0aGlzLnNjcmlwdExvYWRlci5nZXRTdHJpcGVDbGllbnQoaW5pdGlhbGl6YXRpb25EYXRhKTtcblxuICAgICAgICBhd2FpdCB0aGlzLl9tb3VudEV4cHJlc3NDaGVja291dEVsZW1lbnQoXG4gICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIHRoaXMuX3N0cmlwZUNsaWVudCxcbiAgICAgICAgICAgIGJ1dHRvbkhlaWdodCxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgc2lnbkluKCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgc2lnbk91dCgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGV4ZWN1dGVQYXltZW50TWV0aG9kQ2hlY2tvdXQoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBkZWluaXRpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9tb3VudEV4cHJlc3NDaGVja291dEVsZW1lbnQoXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgICAgIGNvbnRhaW5lcjogc3RyaW5nLFxuICAgICAgICBzdHJpcGVFeHByZXNzQ2hlY2tvdXRDbGllbnQ6IFN0cmlwZUNsaWVudCxcbiAgICAgICAgYnV0dG9uSGVpZ2h0ID0gNDAsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHNob3VsZFJlcXVpcmVTaGlwcGluZ0FkZHJlc3MgPSB0aGlzLl9zaG91bGRSZXF1aXJlU2hpcHBpbmdBZGRyZXNzKCk7XG4gICAgICAgIGNvbnN0IGV4cHJlc3NDaGVja291dE9wdGlvbnM6IFN0cmlwZUVsZW1lbnRzQ3JlYXRlT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzc1JlcXVpcmVkOiBzaG91bGRSZXF1aXJlU2hpcHBpbmdBZGRyZXNzLFxuICAgICAgICAgICAgLi4uKHNob3VsZFJlcXVpcmVTaGlwcGluZ0FkZHJlc3NcbiAgICAgICAgICAgICAgICA/IHsgYWxsb3dlZFNoaXBwaW5nQ291bnRyaWVzOiBhd2FpdCB0aGlzLl9nZXRBdmFpbGFibGVDb3VudHJpZXMoKSB9XG4gICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAuLi4oc2hvdWxkUmVxdWlyZVNoaXBwaW5nQWRkcmVzc1xuICAgICAgICAgICAgICAgID8geyBzaGlwcGluZ1JhdGVzOiBbeyBpZDogJ18nLCBhbW91bnQ6IDAsIGRpc3BsYXlOYW1lOiAnUGVuZGluZyByYXRlcycgfV0gfVxuICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgYmlsbGluZ0FkZHJlc3NSZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIGVtYWlsUmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICBwaG9uZU51bWJlclJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgcGF5bWVudE1ldGhvZHM6IHtcbiAgICAgICAgICAgICAgICBsaW5rOiBTdHJpcGVTdHJpbmdDb25zdGFudHMuQVVUTyxcbiAgICAgICAgICAgICAgICBhcHBsZVBheTogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSLFxuICAgICAgICAgICAgICAgIGdvb2dsZVBheTogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSLFxuICAgICAgICAgICAgICAgIGFtYXpvblBheTogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSLFxuICAgICAgICAgICAgICAgIHBheXBhbDogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSLFxuICAgICAgICAgICAgICAgIGtsYXJuYTogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIE1pbmltYWwgYnV0dG9uSGVpZ2h0IHZhbHVlIGlzIDQwXG4gICAgICAgICAgICBidXR0b25IZWlnaHQsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgeyBjYXJ0QW1vdW50IH0gPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRDYXJ0T3JUaHJvdygpO1xuXG4gICAgICAgIGNvbnN0IGVsZW1lbnRzT3B0aW9uczogU3RyaXBlTGlua1YyT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIG1vZGU6ICdwYXltZW50JyxcbiAgICAgICAgICAgIGFtb3VudDogdGhpcy5fdG9DZW50cyhjYXJ0QW1vdW50KSxcbiAgICAgICAgICAgIGN1cnJlbmN5OiB0aGlzLl9nZXRDdXJyZW5jeSgpLFxuICAgICAgICAgICAgLi4uKHRoaXMuX2NhcHR1cmVNZXRob2QgPyB7IGNhcHR1cmVNZXRob2Q6IHRoaXMuX2NhcHR1cmVNZXRob2QgfSA6IHt9KSxcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9zdHJpcGVFbGVtZW50cyA9IHN0cmlwZUV4cHJlc3NDaGVja291dENsaWVudC5lbGVtZW50cyhlbGVtZW50c09wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2xpbmtWMkVsZW1lbnQgPSB0aGlzLl9zdHJpcGVFbGVtZW50cy5jcmVhdGUoXG4gICAgICAgICAgICBTdHJpcGVFbGVtZW50VHlwZS5FWFBSRVNTX0NIRUNLT1VULFxuICAgICAgICAgICAgZXhwcmVzc0NoZWNrb3V0T3B0aW9ucyxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5fbGlua1YyRWxlbWVudC5tb3VudChgIyR7Y29udGFpbmVyfWApO1xuICAgICAgICB0aGlzLl9pbml0aWFsaXplRXZlbnRzKHRoaXMuX2xpbmtWMkVsZW1lbnQsIG1ldGhvZElkKTtcbiAgICB9XG5cbiAgICAvKiogRXZlbnRzICogKi9cblxuICAgIHByaXZhdGUgX2luaXRpYWxpemVFdmVudHMoZXhwcmVzc0NoZWNrb3V0RWxlbWVudDogU3RyaXBlRWxlbWVudCwgbWV0aG9kSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBjb25zdCBzaG91bGRSZXF1aXJlU2hpcHBpbmdBZGRyZXNzID0gdGhpcy5fc2hvdWxkUmVxdWlyZVNoaXBwaW5nQWRkcmVzcygpO1xuXG4gICAgICAgIGlmIChzaG91bGRSZXF1aXJlU2hpcHBpbmdBZGRyZXNzKSB7XG4gICAgICAgICAgICBleHByZXNzQ2hlY2tvdXRFbGVtZW50Lm9uKFN0cmlwZUVsZW1lbnRFdmVudC5TSElQUElOR19BRERSRVNTX0NIQU5HRSwgYXN5bmMgKGV2ZW50KSA9PlxuICAgICAgICAgICAgICAgIHRoaXMuX29uU2hpcHBpbmdBZGRyZXNzQ2hhbmdlKGV2ZW50KSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHByZXNzQ2hlY2tvdXRFbGVtZW50Lm9uKFN0cmlwZUVsZW1lbnRFdmVudC5TSElQUElOR19SQVRFX0NIQU5HRSwgYXN5bmMgKGV2ZW50KSA9PlxuICAgICAgICAgICAgICAgIHRoaXMuX29uU2hpcHBpbmdSYXRlQ2hhbmdlKGV2ZW50KSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBleHByZXNzQ2hlY2tvdXRFbGVtZW50Lm9uKFN0cmlwZUVsZW1lbnRFdmVudC5DT05GSVJNLCBhc3luYyAoZXZlbnQpID0+XG4gICAgICAgICAgICB0aGlzLl9vbkNvbmZpcm0oZXZlbnQsIG1ldGhvZElkKSxcbiAgICAgICAgKTtcblxuICAgICAgICBleHByZXNzQ2hlY2tvdXRFbGVtZW50Lm9uKFN0cmlwZUVsZW1lbnRFdmVudC5DQU5DRUwsIHRoaXMuX29uQ2FuY2VsKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9vblNoaXBwaW5nQWRkcmVzc0NoYW5nZShldmVudDogU3RyaXBlRXZlbnRUeXBlKSB7XG4gICAgICAgIGlmICgnYWRkcmVzcycgaW4gZXZlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoaXBwaW5nQWRkcmVzcyA9IGV2ZW50LmFkZHJlc3M7XG4gICAgICAgICAgICAvLyBEZXBlbmRpbmcgb24gdGhlIGNvdW50cnksIHNvbWUgZmllbGRzIGNhbiBiZSBtaXNzaW5nIG9yIHBhcnRpYWxseSByZWRhY3RlZC5cbiAgICAgICAgICAgIC8vIEZvciBleGFtcGxlLCB0aGUgc2hpcHBpbmcgYWRkcmVzcyBpbiB0aGUgVVMgY2FuIG9ubHkgY29udGFpbiBhIGNpdHksIHN0YXRlLCBhbmQgWklQIGNvZGUuXG4gICAgICAgICAgICAvLyBUaGUgZnVsbCBzaGlwcGluZyBhZGRyZXNzIGFwcGVhcnMgaW4gdGhlIGNvbmZpcm0gZXZlbnQgb2JqZWN0IGFmdGVyIHRoZSBwdXJjaGFzZSBpcyBjb25maXJtZWQgaW4gdGhlIGJyb3dzZXLigJlzIHBheW1lbnQgaW50ZXJmYWNlLlxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogJycsXG4gICAgICAgICAgICAgICAgbGFzdE5hbWU6ICcnLFxuICAgICAgICAgICAgICAgIHBob25lOiAnJyxcbiAgICAgICAgICAgICAgICBjb21wYW55OiAnJyxcbiAgICAgICAgICAgICAgICBhZGRyZXNzMTogJycsXG4gICAgICAgICAgICAgICAgYWRkcmVzczI6ICcnLFxuICAgICAgICAgICAgICAgIGNpdHk6IHNoaXBwaW5nQWRkcmVzcz8uY2l0eSB8fCAnJyxcbiAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZTogc2hpcHBpbmdBZGRyZXNzPy5jb3VudHJ5IHx8ICcnLFxuICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6IHNoaXBwaW5nQWRkcmVzcz8ucG9zdGFsX2NvZGUgfHwgJycsXG4gICAgICAgICAgICAgICAgc3RhdGVPclByb3ZpbmNlOiBzaGlwcGluZ0FkZHJlc3M/LnN0YXRlIHx8ICcnLFxuICAgICAgICAgICAgICAgIHN0YXRlT3JQcm92aW5jZUNvZGU6ICcnLFxuICAgICAgICAgICAgICAgIGN1c3RvbUZpZWxkczogW10sXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlU2hpcHBpbmdBZGRyZXNzKHJlc3VsdCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNoaXBwaW5nUmF0ZXMgPSBhd2FpdCB0aGlzLl9nZXRBdmFpbGFibGVTaGlwcGluZ09wdGlvbnMoKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlRGlzcGxheWVkUHJpY2UoKTtcblxuICAgICAgICAgICAgZXZlbnQucmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgc2hpcHBpbmdSYXRlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfb25DYW5jZWwoKSB7XG4gICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9vblNoaXBwaW5nUmF0ZUNoYW5nZShldmVudDogU3RyaXBlRXZlbnRUeXBlKSB7XG4gICAgICAgIGlmICgnc2hpcHBpbmdSYXRlJyBpbiBldmVudCkge1xuICAgICAgICAgICAgY29uc3QgeyBzaGlwcGluZ1JhdGUgfSA9IGV2ZW50O1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9oYW5kbGVTaGlwcGluZ09wdGlvbkNoYW5nZShzaGlwcGluZ1JhdGU/LmlkKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlRGlzcGxheWVkUHJpY2UoKTtcblxuICAgICAgICAgICAgZXZlbnQucmVzb2x2ZSh7fSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogQ29uZmlybSBtZXRob2RzICogKi9cbiAgICBwcml2YXRlIGFzeW5jIF9vbkNvbmZpcm0oZXZlbnQ6IFN0cmlwZUV2ZW50VHlwZSwgbWV0aG9kSWQ6IHN0cmluZykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAnYmlsbGluZ0RldGFpbHMnIGluIGV2ZW50ICYmXG4gICAgICAgICAgICAnc2hpcHBpbmdBZGRyZXNzJyBpbiBldmVudCAmJlxuICAgICAgICAgICAgdGhpcy5fc3RyaXBlQ2xpZW50ICYmXG4gICAgICAgICAgICB0aGlzLl9zdHJpcGVFbGVtZW50c1xuICAgICAgICApIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3VwZGF0ZVNoaXBwaW5nQW5kQmlsbGluZ0FkZHJlc3MoZXZlbnQpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPSB0aGlzLl9nZXRQYXltZW50UGF5bG9hZChtZXRob2RJZCk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQocGF5bWVudE1ldGhvZCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3Byb2Nlc3NBZGRpdGlvbmFsQWN0aW9uKGVycm9yLCBtZXRob2RJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfdXBkYXRlU2hpcHBpbmdBbmRCaWxsaW5nQWRkcmVzcyhldmVudDogU3RyaXBlTGlua1YyRXZlbnQpIHtcbiAgICAgICAgY29uc3Qgc2hvdWxkUmVxdWlyZVNoaXBwaW5nQWRkcmVzcyA9IHRoaXMuX3Nob3VsZFJlcXVpcmVTaGlwcGluZ0FkZHJlc3MoKTtcblxuICAgICAgICBjb25zdCBmaXJzdE5hbWUgPVxuICAgICAgICAgICAgZXZlbnQuc2hpcHBpbmdBZGRyZXNzPy5uYW1lPy5zcGxpdCgnICcpWzBdIHx8XG4gICAgICAgICAgICBldmVudC5iaWxsaW5nRGV0YWlscz8ubmFtZT8uc3BsaXQoJyAnKVswXSB8fFxuICAgICAgICAgICAgJyc7XG4gICAgICAgIGNvbnN0IGxhc3ROYW1lID1cbiAgICAgICAgICAgIGV2ZW50LnNoaXBwaW5nQWRkcmVzcz8ubmFtZT8uc3BsaXQoJyAnKVsxXSB8fFxuICAgICAgICAgICAgZXZlbnQuYmlsbGluZ0RldGFpbHM/Lm5hbWU/LnNwbGl0KCcgJylbMV0gfHxcbiAgICAgICAgICAgICcnO1xuXG4gICAgICAgIGlmIChzaG91bGRSZXF1aXJlU2hpcHBpbmdBZGRyZXNzKSB7XG4gICAgICAgICAgICBjb25zdCBzaGlwcGluZ0FkZHJlc3MgPSB0aGlzLl9tYXBTaGlwcGluZ0FkZHJlc3MoXG4gICAgICAgICAgICAgICAgZXZlbnQuc2hpcHBpbmdBZGRyZXNzLFxuICAgICAgICAgICAgICAgIGV2ZW50LmJpbGxpbmdEZXRhaWxzLFxuICAgICAgICAgICAgICAgIGZpcnN0TmFtZSxcbiAgICAgICAgICAgICAgICBsYXN0TmFtZSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVTaGlwcGluZ0FkZHJlc3Moc2hpcHBpbmdBZGRyZXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJpbGxpbmdBZGRyZXNzID0gdGhpcy5fbWFwQmlsbGluZ0FkZHJlc3MoXG4gICAgICAgICAgICBldmVudC5zaGlwcGluZ0FkZHJlc3MsXG4gICAgICAgICAgICBldmVudC5iaWxsaW5nRGV0YWlscyxcbiAgICAgICAgICAgIGZpcnN0TmFtZSxcbiAgICAgICAgICAgIGxhc3ROYW1lLFxuICAgICAgICApO1xuXG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVCaWxsaW5nQWRkcmVzcyhiaWxsaW5nQWRkcmVzcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfbWFwU2hpcHBpbmdBZGRyZXNzKFxuICAgICAgICBzaGlwcGluZ0FkZHJlc3M6IFN0cmlwZUxpbmtWMkV2ZW50WydzaGlwcGluZ0FkZHJlc3MnXSxcbiAgICAgICAgYmlsbGluZ0RldGFpbHM6IFN0cmlwZUxpbmtWMkV2ZW50WydiaWxsaW5nRGV0YWlscyddLFxuICAgICAgICBmaXJzdE5hbWU6IHN0cmluZyxcbiAgICAgICAgbGFzdE5hbWU6IHN0cmluZyxcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpcnN0TmFtZSxcbiAgICAgICAgICAgIGxhc3ROYW1lLFxuICAgICAgICAgICAgcGhvbmU6IGJpbGxpbmdEZXRhaWxzPy5waG9uZSB8fCAnJyxcbiAgICAgICAgICAgIGNvbXBhbnk6ICcnLFxuICAgICAgICAgICAgYWRkcmVzczE6IHNoaXBwaW5nQWRkcmVzcz8uYWRkcmVzcz8ubGluZTEgfHwgJycsXG4gICAgICAgICAgICBhZGRyZXNzMjogc2hpcHBpbmdBZGRyZXNzPy5hZGRyZXNzPy5saW5lMiB8fCAnJyxcbiAgICAgICAgICAgIGNpdHk6IHNoaXBwaW5nQWRkcmVzcz8uYWRkcmVzcz8uY2l0eSB8fCAnJyxcbiAgICAgICAgICAgIGNvdW50cnlDb2RlOiBzaGlwcGluZ0FkZHJlc3M/LmFkZHJlc3M/LmNvdW50cnkgfHwgJycsXG4gICAgICAgICAgICBwb3N0YWxDb2RlOiBzaGlwcGluZ0FkZHJlc3M/LmFkZHJlc3M/LnBvc3RhbF9jb2RlIHx8ICcnLFxuICAgICAgICAgICAgc3RhdGVPclByb3ZpbmNlOiBzaGlwcGluZ0FkZHJlc3M/LmFkZHJlc3M/LnN0YXRlIHx8ICcnLFxuICAgICAgICAgICAgc3RhdGVPclByb3ZpbmNlQ29kZTogc2hpcHBpbmdBZGRyZXNzPy5hZGRyZXNzPy5zdGF0ZSB8fCAnJyxcbiAgICAgICAgICAgIGN1c3RvbUZpZWxkczogW10sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfbWFwQmlsbGluZ0FkZHJlc3MoXG4gICAgICAgIHNoaXBwaW5nQWRkcmVzczogU3RyaXBlTGlua1YyRXZlbnRbJ3NoaXBwaW5nQWRkcmVzcyddLFxuICAgICAgICBiaWxsaW5nRGV0YWlsczogU3RyaXBlTGlua1YyRXZlbnRbJ2JpbGxpbmdEZXRhaWxzJ10sXG4gICAgICAgIGZpcnN0TmFtZTogc3RyaW5nLFxuICAgICAgICBsYXN0TmFtZTogc3RyaW5nLFxuICAgICkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW1haWw6IGJpbGxpbmdEZXRhaWxzPy5lbWFpbCB8fCAnJyxcbiAgICAgICAgICAgIGZpcnN0TmFtZSxcbiAgICAgICAgICAgIGxhc3ROYW1lLFxuICAgICAgICAgICAgcGhvbmU6IGJpbGxpbmdEZXRhaWxzPy5waG9uZSB8fCAnJyxcbiAgICAgICAgICAgIGNvbXBhbnk6ICcnLFxuICAgICAgICAgICAgYWRkcmVzczE6IGJpbGxpbmdEZXRhaWxzPy5hZGRyZXNzPy5saW5lMSB8fCAnJyxcbiAgICAgICAgICAgIGFkZHJlc3MyOiAnJyxcbiAgICAgICAgICAgIGNpdHk6IGJpbGxpbmdEZXRhaWxzPy5hZGRyZXNzPy5jaXR5IHx8ICcnLFxuICAgICAgICAgICAgY291bnRyeUNvZGU6IGJpbGxpbmdEZXRhaWxzPy5hZGRyZXNzPy5jb3VudHJ5IHx8ICcnLFxuICAgICAgICAgICAgcG9zdGFsQ29kZTogYmlsbGluZ0RldGFpbHM/LmFkZHJlc3M/LnBvc3RhbF9jb2RlIHx8ICcnLFxuICAgICAgICAgICAgc3RhdGVPclByb3ZpbmNlOiBiaWxsaW5nRGV0YWlscz8uYWRkcmVzcz8uc3RhdGUgfHwgJycsXG4gICAgICAgICAgICBzdGF0ZU9yUHJvdmluY2VDb2RlOiBzaGlwcGluZ0FkZHJlc3M/LmFkZHJlc3M/LnN0YXRlIHx8ICcnLFxuICAgICAgICAgICAgY3VzdG9tRmllbGRzOiBbXSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9wcm9jZXNzQWRkaXRpb25hbEFjdGlvbihlcnJvcjogdW5rbm93biwgbWV0aG9kSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaXNSZXF1ZXN0RXJyb3IoZXJyb3IpIHx8XG4gICAgICAgICAgICAhdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UuaXNBZGRpdGlvbmFsQWN0aW9uRXJyb3IoZXJyb3IuYm9keS5lcnJvcnMpXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX3N0cmlwZUNsaWVudCB8fCAhdGhpcy5fc3RyaXBlRWxlbWVudHMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGRhdGE6IGFkZGl0aW9uYWxBY3Rpb25EYXRhIH0gPSBlcnJvci5ib2R5LmFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkO1xuICAgICAgICBjb25zdCB7IHRva2VuIH0gPSBhZGRpdGlvbmFsQWN0aW9uRGF0YTtcblxuICAgICAgICBjb25zdCB7IHBheW1lbnRJbnRlbnQgfSA9IGF3YWl0IHRoaXMuX2NvbmZpcm1TdHJpcGVQYXltZW50T3JUaHJvdyhcbiAgICAgICAgICAgIGFkZGl0aW9uYWxBY3Rpb25EYXRhLFxuICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgcGF5bWVudFBheWxvYWQgPSB0aGlzLl9nZXRQYXltZW50UGF5bG9hZChtZXRob2RJZCwgcGF5bWVudEludGVudD8uaWQgfHwgdG9rZW4pO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl90b2dnbGVMb2FkaW5nSW5kaWNhdG9yKHRydWUpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQocGF5bWVudFBheWxvYWQpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fY29tcGxldGVDaGVja291dEZsb3coKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLnRocm93UGF5bWVudENvbmZpcm1hdGlvblByb2NlZWRNZXNzYWdlKCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl90b2dnbGVMb2FkaW5nSW5kaWNhdG9yKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2NvbmZpcm1TdHJpcGVQYXltZW50T3JUaHJvdyhcbiAgICAgICAgYWRkaXRpb25hbEFjdGlvbkRhdGE6IFN0cmlwZUFkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZFsnZGF0YSddLFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICk6IFByb21pc2U8U3RyaXBlUmVzdWx0IHwgbmV2ZXI+IHtcbiAgICAgICAgY29uc3QgeyB0b2tlbiwgcmVkaXJlY3RfdXJsIH0gPSBhZGRpdGlvbmFsQWN0aW9uRGF0YTtcbiAgICAgICAgY29uc3Qgc3RyaXBlUGF5bWVudERhdGEgPSB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS5tYXBTdHJpcGVQYXltZW50RGF0YShcbiAgICAgICAgICAgIHRoaXMuX3N0cmlwZUVsZW1lbnRzLFxuICAgICAgICAgICAgcmVkaXJlY3RfdXJsLFxuICAgICAgICApO1xuICAgICAgICBsZXQgc3RyaXBlRXJyb3I6IFN0cmlwZUVycm9yIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpc1BheW1lbnRDb21wbGV0ZWQgPSBhd2FpdCB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS5pc1BheW1lbnRDb21wbGV0ZWQoXG4gICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RyaXBlQ2xpZW50LFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgY29uZmlybWF0aW9uUmVzdWx0ID0gIWlzUGF5bWVudENvbXBsZXRlZFxuICAgICAgICAgICAgICAgID8gYXdhaXQgdGhpcy5fc3RyaXBlQ2xpZW50Py5jb25maXJtUGF5bWVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHM6IHN0cmlwZVBheW1lbnREYXRhLmVsZW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFNlY3JldDogdG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3Q6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5JRl9SRVFVSVJFRCxcbiAgICAgICAgICAgICAgICAgICAgICBjb25maXJtUGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybl91cmw6IHN0cmlwZVBheW1lbnREYXRhLmNvbmZpcm1QYXJhbXM/LnJldHVybl91cmwsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgOiBhd2FpdCB0aGlzLl9zdHJpcGVDbGllbnQ/LnJldHJpZXZlUGF5bWVudEludGVudCh0b2tlbiB8fCAnJyk7XG5cbiAgICAgICAgICAgIHN0cmlwZUVycm9yID0gY29uZmlybWF0aW9uUmVzdWx0Py5lcnJvcjtcblxuICAgICAgICAgICAgaWYgKHN0cmlwZUVycm9yIHx8ICFjb25maXJtYXRpb25SZXN1bHQ/LnBheW1lbnRJbnRlbnQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjb25maXJtYXRpb25SZXN1bHQ7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UudGhyb3dTdHJpcGVFcnJvcihzdHJpcGVFcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9jb21wbGV0ZUNoZWNrb3V0RmxvdygpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9vbkNvbXBsZXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb25Db21wbGV0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJy9vcmRlci1jb25maXJtYXRpb24nKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0UGF5bWVudFBheWxvYWQobWV0aG9kSWQ6IHN0cmluZywgdG9rZW4/OiBzdHJpbmcpOiBQYXltZW50IHtcbiAgICAgICAgY29uc3QgY2FydElkID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0Q2FydCgpPy5pZCB8fCAnJztcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkUGF5bG9hZCA9IHtcbiAgICAgICAgICAgIGNhcnRfaWQ6IGNhcnRJZCxcbiAgICAgICAgICAgIC4uLih0b2tlbiA/IHsgY3JlZGl0X2NhcmRfdG9rZW46IHsgdG9rZW4gfSB9IDoge30pLFxuICAgICAgICAgICAgY29uZmlybTogZmFsc2UsXG4gICAgICAgICAgICBwYXltZW50X21ldGhvZF9pZDogU3RyaXBlUGF5bWVudE1ldGhvZFR5cGUuTGluayxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKiBVdGlscyAqICovXG5cbiAgICBwcml2YXRlIF9zaG91bGRSZXF1aXJlU2hpcHBpbmdBZGRyZXNzKCkge1xuICAgICAgICBjb25zdCB7IGdldENhcnRPclRocm93IH0gPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgeyBsaW5lSXRlbXMgfSA9IGdldENhcnRPclRocm93KCk7XG5cbiAgICAgICAgcmV0dXJuICEhbGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMubGVuZ3RoO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX3VwZGF0ZURpc3BsYXllZFByaWNlKCkge1xuICAgICAgICBpZiAodGhpcy5fc3RyaXBlRWxlbWVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0cmlwZUVsZW1lbnRzLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgY3VycmVuY3k6IHRoaXMuX2dldEN1cnJlbmN5KCksXG4gICAgICAgICAgICAgICAgbW9kZTogJ3BheW1lbnQnLFxuICAgICAgICAgICAgICAgIGFtb3VudDogYXdhaXQgdGhpcy5fZ2V0VG90YWxQcmljZSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRDdXJyZW5jeSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jdXJyZW5jeUNvZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29kZTogY3VycmVuY3lDb2RlIH0gPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2VcbiAgICAgICAgICAgICAgICAuZ2V0U3RhdGUoKVxuICAgICAgICAgICAgICAgIC5nZXRDYXJ0T3JUaHJvdygpLmN1cnJlbmN5O1xuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW5jeUNvZGUgPSBjdXJyZW5jeUNvZGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW5jeUNvZGU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfZ2V0VG90YWxQcmljZSgpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZENoZWNrb3V0KCk7XG5cbiAgICAgICAgY29uc3QgeyBnZXRDaGVja291dE9yVGhyb3csIGdldENhcnRPclRocm93IH0gPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgeyBkZWNpbWFsUGxhY2VzIH0gPSBnZXRDYXJ0T3JUaHJvdygpLmN1cnJlbmN5O1xuICAgICAgICBjb25zdCB0b3RhbFByaWNlID0gcm91bmQoZ2V0Q2hlY2tvdXRPclRocm93KCkub3V0c3RhbmRpbmdCYWxhbmNlLCBkZWNpbWFsUGxhY2VzKS50b0ZpeGVkKFxuICAgICAgICAgICAgZGVjaW1hbFBsYWNlcyxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fdG9DZW50cygrdG90YWxQcmljZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfZ2V0QXZhaWxhYmxlQ291bnRyaWVzKCk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICAgICAgY29uc3QgY291bnRyaWVzID0gYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRTaGlwcGluZ0NvdW50cmllcygpO1xuICAgICAgICBjb25zdCBkZWxpdmVyYWJsZUNvdW50cmllcyA9XG4gICAgICAgICAgICBjb3VudHJpZXMuZ2V0U2hpcHBpbmdDb3VudHJpZXMoKT8ubWFwKChjb3VudHJ5KSA9PiBjb3VudHJ5LmNvZGUpIHx8IFtdO1xuXG4gICAgICAgIHJldHVybiBkZWxpdmVyYWJsZUNvdW50cmllcy5maWx0ZXIoKGNvZGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBleHByZXNzQ2hlY2tvdXRBbGxvd2VkQ291bnRyeUNvZGVzLmluY2x1ZGVzKGNvZGUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9nZXRBdmFpbGFibGVTaGlwcGluZ09wdGlvbnMoKTogUHJvbWlzZTxTdHJpcGVMaW5rVjJTaGlwcGluZ1JhdGVbXSB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBjb25zaWdubWVudHMgPSBzdGF0ZS5nZXRDb25zaWdubWVudHMoKTtcblxuICAgICAgICBpZiAoIWNvbnNpZ25tZW50cz8uWzBdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb25zaWdubWVudCA9IGNvbnNpZ25tZW50c1swXTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IChjb25zaWdubWVudC5hdmFpbGFibGVTaGlwcGluZ09wdGlvbnMgfHwgW10pLm1hcChcbiAgICAgICAgICAgIHRoaXMuX2dldFN0cmlwZVNoaXBwaW5nT3B0aW9uLmJpbmQodGhpcyksXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRJZCA9IGNvbnNpZ25tZW50LnNlbGVjdGVkU2hpcHBpbmdPcHRpb24/LmlkO1xuXG4gICAgICAgIGlmICghc2VsZWN0ZWRJZCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5faGFuZGxlU2hpcHBpbmdPcHRpb25DaGFuZ2Uob3B0aW9uc1swXT8uaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gU2V0IHNlbGVjdGVkIHNoaXBwaW5nIG9wdGlvbiBmaXJzdCBpbiB0aGUgYXJyYXksIGFzIGl0IHdpbGwgYmUgc2VsZWN0ZWQgYnkgZGVmYXVsdFxuICAgICAgICAgICAgb3B0aW9ucy5zb3J0KChvcHRpb24pID0+IChvcHRpb24uaWQgPT09IHNlbGVjdGVkSWQgPyAtMSA6IDApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldFN0cmlwZVNoaXBwaW5nT3B0aW9uKHsgaWQsIGNvc3QsIGRlc2NyaXB0aW9uIH06IFNoaXBwaW5nT3B0aW9uKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGFtb3VudDogdGhpcy5fdG9DZW50cyhjb3N0KSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9oYW5kbGVTaGlwcGluZ09wdGlvbkNoYW5nZShvcHRpb25JZD86IHN0cmluZykge1xuICAgICAgICBpZiAoIW9wdGlvbklkIHx8IG9wdGlvbklkID09PSAnc2hpcHBpbmdfb3B0aW9uX3Vuc2VsZWN0ZWQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnNlbGVjdFNoaXBwaW5nT3B0aW9uKG9wdGlvbklkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRBbW91bnRUcmFuc2Zvcm1lcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Ftb3VudFRyYW5zZm9ybWVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYW1vdW50VHJhbnNmb3JtZXI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGdldENhcnQgfSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB7IGN1cnJlbmN5IH0gPSBnZXRDYXJ0KCkgfHwge307XG5cbiAgICAgICAgaWYgKGN1cnJlbmN5KSB7XG4gICAgICAgICAgICBjb25zdCBhbW91bnRUcmFuc2Zvcm1lciA9IG5ldyBBbW91bnRUcmFuc2Zvcm1lcihjdXJyZW5jeS5kZWNpbWFsUGxhY2VzKTtcblxuICAgICAgICAgICAgcmV0dXJuIGFtb3VudFRyYW5zZm9ybWVyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfdG9DZW50cyhhbW91bnQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCBmYWxsYmFja1ZhbHVlID0gTWF0aC5yb3VuZChhbW91bnQgKiAxMDApO1xuICAgICAgICBjb25zdCBhbW91bnRUcmFuc2Zvcm1lciA9IHRoaXMuX2dldEFtb3VudFRyYW5zZm9ybWVyKCk7XG5cbiAgICAgICAgaWYgKGFtb3VudFRyYW5zZm9ybWVyKSB7XG4gICAgICAgICAgICByZXR1cm4gYW1vdW50VHJhbnNmb3JtZXIudG9JbnRlZ2VyKGFtb3VudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsbGJhY2tWYWx1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF90b2dnbGVMb2FkaW5nSW5kaWNhdG9yKGlzTG9hZGluZzogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAoaXNMb2FkaW5nICYmIHRoaXMuX2xvYWRpbmdJbmRpY2F0b3JDb250YWluZXIpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZGluZ0luZGljYXRvci5zaG93KHRoaXMuX2xvYWRpbmdJbmRpY2F0b3JDb250YWluZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2FkaW5nSW5kaWNhdG9yLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHtcbiAgICBDdXN0b21lclN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuaW1wb3J0IHtcbiAgICBTdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgU3RyaXBlU2NyaXB0TG9hZGVyLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3N0cmlwZS11dGlscyc7XG5pbXBvcnQgeyBERUZBVUxUX0NPTlRBSU5FUl9TVFlMRVMsIExvYWRpbmdJbmRpY2F0b3IgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3VpJztcblxuaW1wb3J0IFN0cmlwZUxpbmtWMkN1c3RvbWVyU3RyYXRlZ3kgZnJvbSAnLi9zdHJpcGUtbGluay12Mi1jdXN0b21lci1zdHJhdGVneSc7XG5cbmNvbnN0IGNyZWF0ZVN0cmlwZUxpbmtWMkN1c3RvbWVyU3RyYXRlZ3k6IEN1c3RvbWVyU3RyYXRlZ3lGYWN0b3J5PFN0cmlwZUxpbmtWMkN1c3RvbWVyU3RyYXRlZ3k+ID0gKFxuICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4pID0+IHtcbiAgICBjb25zdCBzdHJpcGVTY3JpcHRMb2FkZXIgPSBuZXcgU3RyaXBlU2NyaXB0TG9hZGVyKGdldFNjcmlwdExvYWRlcigpKTtcbiAgICBjb25zdCBsb2FkaW5nSW5kaWNhdG9yID0gbmV3IExvYWRpbmdJbmRpY2F0b3Ioe1xuICAgICAgICBjb250YWluZXJTdHlsZXM6IERFRkFVTFRfQ09OVEFJTkVSX1NUWUxFUyxcbiAgICB9KTtcblxuICAgIHJldHVybiBuZXcgU3RyaXBlTGlua1YyQ3VzdG9tZXJTdHJhdGVneShcbiAgICAgICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgc3RyaXBlU2NyaXB0TG9hZGVyLFxuICAgICAgICBuZXcgU3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsIHN0cmlwZVNjcmlwdExvYWRlciksXG4gICAgICAgIGxvYWRpbmdJbmRpY2F0b3IsXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVTdHJpcGVMaW5rVjJDdXN0b21lclN0cmF0ZWd5LCBbeyBpZDogJ3N0cmlwZW9jcycgfV0pO1xuIiwiaW1wb3J0IEludmFsaWRBcmd1bWVudEVycm9yIGZyb20gJy4vaW52YWxpZC1hcmd1bWVudC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gd2UgYXJlIHVuYWJsZSB0byBzdWJtaXQgYSBwYXltZW50IGJlY2F1c2VcbiAqIHRoZSBjYWxsZXIgaGFzIG5vdCBwcm92aWRlZCBhbGwgdGhlIHJlcXVpcmVkIGZpZWxkcywgaS5lLjogaWYgYW4gYXJndW1lbnQgaXNcbiAqIG1pc3Npbmcgb3IgaXQgaXMgbm90IHRoZSBleHBlY3RlZCBkYXRhIHR5cGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvciBleHRlbmRzIEludmFsaWRBcmd1bWVudEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihpbnZhbGlkRmllbGRzPzogc3RyaW5nW10pIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSAnVW5hYmxlIHRvIHN1Ym1pdCBwYXltZW50IGZvciB0aGUgb3JkZXIgYmVjYXVzZSB0aGUgcGF5bG9hZCBpcyBpbnZhbGlkLic7XG5cbiAgICAgICAgaWYgKGludmFsaWRGaWVsZHMpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgJHttZXNzYWdlfSBNYWtlIHN1cmUgdGhlIGZvbGxvd2luZyBmaWVsZHMgYXJlIHByb3ZpZGVkIGNvcnJlY3RseTogJHtpbnZhbGlkRmllbGRzLmpvaW4oXG4gICAgICAgICAgICAgICAgJywgJyxcbiAgICAgICAgICAgICl9LmA7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBIb3N0ZWRJbnN0cnVtZW50IH0gZnJvbSAnLi9wYXltZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNIb3N0ZWRJbnN0cnVtZW50TGlrZShcbiAgICBpbnN0cnVtZW50OiB1bmtub3duLFxuKTogaW5zdHJ1bWVudCBpcyBIb3N0ZWRJbnN0cnVtZW50IHtcbiAgICByZXR1cm4gKFxuICAgICAgICB0eXBlb2YgaW5zdHJ1bWVudCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgaW5zdHJ1bWVudCAhPT0gbnVsbCAmJlxuICAgICAgICAodHlwZW9mIChpbnN0cnVtZW50IGFzIEhvc3RlZEluc3RydW1lbnQpLnNob3VsZFNhdmVJbnN0cnVtZW50ID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgdHlwZW9mIChpbnN0cnVtZW50IGFzIEhvc3RlZEluc3RydW1lbnQpLnNob3VsZFNhdmVJbnN0cnVtZW50ID09PSAnYm9vbGVhbicpICYmXG4gICAgICAgICh0eXBlb2YgKGluc3RydW1lbnQgYXMgSG9zdGVkSW5zdHJ1bWVudCkuc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAgIHR5cGVvZiAoaW5zdHJ1bWVudCBhcyBIb3N0ZWRJbnN0cnVtZW50KS5zaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50ID09PSAnYm9vbGVhbicpXG4gICAgKTtcbn1cbiIsImltcG9ydCB7XG4gICAgRm9ybWF0dGVkUGF5bG9hZCxcbiAgICBGb3JtYXR0ZWRWYXVsdGVkSW5zdHJ1bWVudCxcbiAgICBIb3N0ZWRWYXVsdGVkSW5zdHJ1bWVudCxcbiAgICBQYXltZW50SW5zdHJ1bWVudFBheWxvYWQsXG4gICAgVmF1bHRlZEluc3RydW1lbnQsXG59IGZyb20gJy4vcGF5bWVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzVmF1bHRlZEluc3RydW1lbnQoXG4gICAgaW5zdHJ1bWVudDogUGF5bWVudEluc3RydW1lbnRQYXlsb2FkLFxuKTogaW5zdHJ1bWVudCBpcyBWYXVsdGVkSW5zdHJ1bWVudCB7XG4gICAgcmV0dXJuIEJvb2xlYW4oKGluc3RydW1lbnQgYXMgVmF1bHRlZEluc3RydW1lbnQpLmluc3RydW1lbnRJZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0hvc3RlZFZhdWx0ZWRJbnN0cnVtZW50KFxuICAgIGluc3RydW1lbnQ6IFBheW1lbnRJbnN0cnVtZW50UGF5bG9hZCxcbik6IGluc3RydW1lbnQgaXMgSG9zdGVkVmF1bHRlZEluc3RydW1lbnQge1xuICAgIHJldHVybiAoXG4gICAgICAgIEJvb2xlYW4oKGluc3RydW1lbnQgYXMgSG9zdGVkVmF1bHRlZEluc3RydW1lbnQpLmluc3RydW1lbnRJZCkgJiZcbiAgICAgICAgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnN0cnVtZW50LCAnY2NOdW1iZXInKSAmJlxuICAgICAgICAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RydW1lbnQsICdjY0N2dicpXG4gICAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRm9ybWF0dGVkVmF1bHRlZEluc3RydW1lbnQoXG4gICAgaW5zdHJ1bWVudDogUGF5bWVudEluc3RydW1lbnRQYXlsb2FkLFxuKTogaW5zdHJ1bWVudCBpcyBGb3JtYXR0ZWRQYXlsb2FkPEZvcm1hdHRlZFZhdWx0ZWRJbnN0cnVtZW50PiB7XG4gICAgY29uc3QgZm9ybWF0dGVkSW5zdHJ1bWVudCA9IChpbnN0cnVtZW50IGFzIEZvcm1hdHRlZFBheWxvYWQ8Rm9ybWF0dGVkVmF1bHRlZEluc3RydW1lbnQ+KVxuICAgICAgICAuZm9ybWF0dGVkUGF5bG9hZDtcblxuICAgIGlmICghZm9ybWF0dGVkSW5zdHJ1bWVudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgdHlwZW9mIGZvcm1hdHRlZEluc3RydW1lbnQuYmlncGF5X3Rva2VuID09PSAnc3RyaW5nJyB8fFxuICAgICAgICBCb29sZWFuKGZvcm1hdHRlZEluc3RydW1lbnQuYmlncGF5X3Rva2VuICYmIGZvcm1hdHRlZEluc3RydW1lbnQuYmlncGF5X3Rva2VuLnRva2VuKVxuICAgICk7XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIHdlIGFyZSB0cnlpbmcgdG8gbWFrZSBhbiBvcmRlciBmaW5hbGl6YXRpb24gcmVxdWVzdCBmb3IgYVxuICogcGF5bWVudCBtZXRob2QgdGhhdCBkb2VzIG5vdCByZXF1aXJlIHN1Y2ggcHJvY2VkdXJlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ1RoZSBjdXJyZW50IG9yZGVyIGRvZXMgbm90IG5lZWQgdG8gYmUgZmluYWxpemVkIGF0IHRoaXMgc3RhZ2UuJyk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ09yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdvcmRlcl9maW5hbGl6YXRpb25fbm90X3JlcXVpcmVkJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBJbmRpdmlkdWFsQ2FyZEVsZW1lbnRPcHRpb25zIH0gZnJvbSAnLi9zdHJpcGV2Myc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzSW5kaXZpZHVhbENhcmRFbGVtZW50T3B0aW9ucyhcbiAgICBpbmRpdmlkdWFsQ2FyZEVsZW1lbnRPcHRpb25zOiBhbnksXG4pOiBpbmRpdmlkdWFsQ2FyZEVsZW1lbnRPcHRpb25zIGlzIEluZGl2aWR1YWxDYXJkRWxlbWVudE9wdGlvbnMge1xuICAgIHJldHVybiAoXG4gICAgICAgIGluZGl2aWR1YWxDYXJkRWxlbWVudE9wdGlvbnMgIT09IG51bGwgJiZcbiAgICAgICAgdHlwZW9mIGluZGl2aWR1YWxDYXJkRWxlbWVudE9wdGlvbnMgPT09ICdvYmplY3QnICYmXG4gICAgICAgICdjYXJkTnVtYmVyRWxlbWVudE9wdGlvbnMnIGluIGluZGl2aWR1YWxDYXJkRWxlbWVudE9wdGlvbnMgJiZcbiAgICAgICAgJ2NhcmRDdmNFbGVtZW50T3B0aW9ucycgaW4gaW5kaXZpZHVhbENhcmRFbGVtZW50T3B0aW9ucyAmJlxuICAgICAgICAnY2FyZEV4cGlyeUVsZW1lbnRPcHRpb25zJyBpbiBpbmRpdmlkdWFsQ2FyZEVsZW1lbnRPcHRpb25zICYmXG4gICAgICAgIHR5cGVvZiBpbmRpdmlkdWFsQ2FyZEVsZW1lbnRPcHRpb25zLmNhcmROdW1iZXJFbGVtZW50T3B0aW9ucyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgdHlwZW9mIGluZGl2aWR1YWxDYXJkRWxlbWVudE9wdGlvbnMuY2FyZEN2Y0VsZW1lbnRPcHRpb25zICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICB0eXBlb2YgaW5kaXZpZHVhbENhcmRFbGVtZW50T3B0aW9ucy5jYXJkRXhwaXJ5RWxlbWVudE9wdGlvbnMgIT09ICd1bmRlZmluZWQnXG4gICAgKTtcbn1cbiIsImludGVyZmFjZSBCYXNlRWxlbWVudE9wdGlvbnMge1xuICAgIC8qKlxuICAgICAqIEN1c3RvbWl6ZSB0aGUgYXBwZWFyYW5jZSBvZiBhbiBlbGVtZW50IHVzaW5nIENTUyBwcm9wZXJ0aWVzIHBhc3NlZCBpbiBhIFtTdHlsZV0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvYXBwZW5kaXgvc3R5bGUpIG9iamVjdCxcbiAgICAgKiB3aGljaCBjb25zaXN0cyBvZiBDU1MgcHJvcGVydGllcyBuZXN0ZWQgdW5kZXIgb2JqZWN0cyBmb3IgZWFjaCB2YXJpYW50LlxuICAgICAqL1xuICAgIHN0eWxlPzogU3RyaXBlRWxlbWVudFN0eWxlO1xuXG4gICAgLyoqXG4gICAgICogU2V0IGN1c3RvbSBjbGFzcyBuYW1lcyBvbiB0aGUgY29udGFpbmVyIERPTSBlbGVtZW50IHdoZW4gdGhlIFN0cmlwZSBlbGVtZW50IGlzIGluIGEgcGFydGljdWxhciBzdGF0ZS5cbiAgICAgKi9cbiAgICBjbGFzc2VzPzogU3RyaXBlRWxlbWVudENsYXNzZXM7XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgZGlzYWJsZWQgc3RhdGUgdG8gdGhlIEVsZW1lbnQgc3VjaCB0aGF0IHVzZXIgaW5wdXQgaXMgbm90IGFjY2VwdGVkLiBEZWZhdWx0IGlzIGZhbHNlLlxuICAgICAqL1xuICAgIGRpc2FibGVkPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVQYXltZW50TWV0aG9kQ2FyZERhdGEgZXh0ZW5kcyBQYXltZW50TWV0aG9kQ3JlYXRlUGFyYW1zIHtcbiAgICBjYXJkPzogU3RyaXBlRWxlbWVudDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVQYXltZW50TWV0aG9kSWRlYWxEYXRhIGV4dGVuZHMgUGF5bWVudE1ldGhvZENyZWF0ZVBhcmFtcyB7XG4gICAgaWRlYWw/OiBTdHJpcGVFbGVtZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVBheW1lbnRNZXRob2RTZXBhRGF0YSBleHRlbmRzIFBheW1lbnRNZXRob2RDcmVhdGVQYXJhbXMge1xuICAgIHNlcGFfZGViaXQ/OiBTdHJpcGVFbGVtZW50O1xufVxuXG4vKipcbiAqIFRoZSBQYXltZW50SW50ZW50IG9iamVjdC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXltZW50SW50ZW50IHtcbiAgICAvKipcbiAgICAgKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIG9iamVjdC5cbiAgICAgKi9cbiAgICBpZDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogU3RhdHVzIG9mIHRoaXMgUGF5bWVudEludGVudC4gUmVhZCBtb3JlIGFib3V0IGVhY2ggUGF5bWVudEludGVudCBbc3RhdHVzXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9wYXltZW50cy9pbnRlbnRzI2ludGVudC1zdGF0dXNlcykuXG4gICAgICovXG4gICAgc3RhdHVzOiAnc3VjY2VlZGVkJyB8IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBwYXltZW50IGVycm9yIGVuY291bnRlcmVkIGluIHRoZSBwcmV2aW91cyBQYXltZW50SW50ZW50IGNvbmZpcm1hdGlvbi4gSXQgd2lsbCBiZSBjbGVhcmVkIGlmIHRoZSBQYXltZW50SW50ZW50IGlzIGxhdGVyIHVwZGF0ZWQgZm9yIGFueSByZWFzb24uXG4gICAgICovXG4gICAgbGFzdF9wYXltZW50X2Vycm9yOiBMYXN0UGF5bWVudEVycm9yIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBUaGUgcGF5bWVudCBlcnJvciBlbmNvdW50ZXJlZCBpbiB0aGUgcHJldmlvdXMgUGF5bWVudEludGVudCBjb25maXJtYXRpb24uIEl0IHdpbGwgYmUgY2xlYXJlZCBpZiB0aGUgUGF5bWVudEludGVudCBpcyBsYXRlciB1cGRhdGVkIGZvciBhbnkgcmVhc29uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIExhc3RQYXltZW50RXJyb3Ige1xuICAgIC8qKlxuICAgICAqIEEgaHVtYW4tcmVhZGFibGUgbWVzc2FnZSBwcm92aWRpbmcgbW9yZSBkZXRhaWxzIGFib3V0IHRoZSBlcnJvci4gRm9yIGNhcmQgZXJyb3JzLCB0aGVzZSBtZXNzYWdlcyBjYW4gYmUgc2hvd24gdG8geW91ciB1c2Vycy5cbiAgICAgKi9cbiAgICBtZXNzYWdlPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFRoZSBQYXltZW50TWV0aG9kIG9iamVjdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBheW1lbnRNZXRob2Qge1xuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgb2JqZWN0LlxuICAgICAqL1xuICAgIGlkOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgUGF5bWVudE1ldGhvZC4gQW4gYWRkaXRpb25hbCBoYXNoIGlzIGluY2x1ZGVkIG9uIHRoZSBQYXltZW50TWV0aG9kIHdpdGggYSBuYW1lIG1hdGNoaW5nIHRoaXMgdmFsdWUuXG4gICAgICogSXQgY29udGFpbnMgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBzcGVjaWZpYyB0byB0aGUgUGF5bWVudE1ldGhvZCB0eXBlLlxuICAgICAqL1xuICAgIHR5cGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXltZW50TWV0aG9kQ3JlYXRlUGFyYW1zIHtcbiAgICAvKipcbiAgICAgKiBCaWxsaW5nIGluZm9ybWF0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGUgUGF5bWVudE1ldGhvZCB0aGF0IG1heSBiZSB1c2VkIG9yIHJlcXVpcmVkIGJ5IHBhcnRpY3VsYXIgdHlwZXMgb2YgcGF5bWVudCBtZXRob2RzLlxuICAgICAqL1xuICAgIGJpbGxpbmdfZGV0YWlscz86IFN0cmlwZUJpbGxpbmdEZXRhaWxzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUVycm9yIHtcbiAgICAvKipcbiAgICAgKiBBIGh1bWFuLXJlYWRhYmxlIG1lc3NhZ2UgcHJvdmlkaW5nIG1vcmUgZGV0YWlscyBhYm91dCB0aGUgZXJyb3IuIEZvciBjYXJkIGVycm9ycywgdGhlc2UgbWVzc2FnZXMgY2FuIGJlIHNob3duIHRvIHlvdXIgdXNlcnMuXG4gICAgICovXG4gICAgbWVzc2FnZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBQYXltZW50SW50ZW50IG9iamVjdC5cbiAgICAgKi9cbiAgICBwYXltZW50X2ludGVudDogUGF5bWVudEludGVudDtcblxuICAgIC8qKlxuICAgICAqIEEgaHVtYW4tcmVhZGFibGUgY29kZSBmb3IgdGhlIGVycm9yIG9idGFpbmVkXG4gICAgICovXG4gICAgY29kZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBDU1MgcHJvcGVydGllcyBzdXBwb3J0ZWQgYnkgU3RyaXBlLmpzLlxuICovXG5pbnRlcmZhY2UgU3RyaXBlRWxlbWVudENTU1Byb3BlcnRpZXMge1xuICAgIC8qKlxuICAgICAqIFRoZSBbYmFja2dyb3VuZC1jb2xvcl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2JhY2tncm91bmQtY29sb3IpIENTUyBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIFRoaXMgcHJvcGVydHkgd29ya3MgYmVzdCB3aXRoIHRoZSBgOjpzZWxlY3Rpb25gIHBzZXVkby1jbGFzcy5cbiAgICAgKiBJbiBvdGhlciBjYXNlcywgY29uc2lkZXIgc2V0dGluZyB0aGUgYmFja2dyb3VuZCBjb2xvciBvbiB0aGUgZWxlbWVudCdzIGNvbnRhaW5lciBpbnN0YWVkLlxuICAgICAqL1xuICAgIGJhY2tncm91bmRDb2xvcj86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBbY29sb3JdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9jb2xvcikgQ1NTIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGNvbG9yPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFtmb250LWZhbWlseV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2ZvbnQtZmFtaWx5KSBDU1MgcHJvcGVydHkuXG4gICAgICovXG4gICAgZm9udEZhbWlseT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBbZm9udC1zaXplXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvZm9udC1zaXplKSBDU1MgcHJvcGVydHkuXG4gICAgICovXG4gICAgZm9udFNpemU/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgW2ZvbnQtc21vb3RoaW5nXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvZm9udC1zbW9vdGhpbmcpIENTUyBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBmb250U21vb3RoaW5nPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFtmb250LXN0eWxlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvZm9udC1zdHlsZSkgQ1NTIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGZvbnRTdHlsZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBbZm9udC12YXJpYW50XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvZm9udC12YXJpYW50KSBDU1MgcHJvcGVydHkuXG4gICAgICovXG4gICAgZm9udFZhcmlhbnQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgW2ZvbnQtd2VpZ2h0XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvZm9udC13ZWlnaHQpIENTUyBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBmb250V2VpZ2h0Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQSBjdXN0b20gcHJvcGVydHksIHVzZWQgdG8gc2V0IHRoZSBjb2xvciBvZiB0aGUgaWNvbnMgdGhhdCBhcmUgcmVuZGVyZWQgaW4gYW4gZWxlbWVudC5cbiAgICAgKi9cbiAgICBpY29uQ29sb3I/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgW2xpbmUtaGVpZ2h0XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvbGluZS1oZWlnaHQpIENTUyBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIFRvIGF2b2lkIGN1cnNvcnMgYmVpbmcgcmVuZGVyZWQgaW5jb25zaXN0ZW50bHkgYWNyb3NzIGJyb3dzZXJzLCBjb25zaWRlciB1c2luZyBhIHBhZGRpbmcgb24gdGhlIGVsZW1lbnQncyBjb250YWluZXIgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBsaW5lSGVpZ2h0Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFtsZXR0ZXItc3BhY2luZ10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2xldHRlci1zcGFjaW5nKSBDU1MgcHJvcGVydHkuXG4gICAgICovXG4gICAgbGV0dGVyU3BhY2luZz86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBbdGV4dC1hbGlnbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3RleHQtYWxpZ24pIENTUyBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEF2YWlsYWJsZSBmb3IgdGhlIGBjYXJkTnVtYmVyYCwgYGNhcmRFeHBpcnlgLCBhbmQgYGNhcmRDdmNgIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIHRleHRBbGlnbj86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBbcGFkZGluZ10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3BhZGRpbmcpIENTUyBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEF2YWlsYWJsZSBmb3IgdGhlIGBpZGVhbEJhbmtgIGVsZW1lbnQuXG4gICAgICogQWNjZXB0cyBpbnRlZ2VyIGBweGAgdmFsdWVzLlxuICAgICAqL1xuICAgIHBhZGRpbmc/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgW3RleHQtZGVjb3JhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3RleHQtZGVjb3JhdGlvbikgQ1NTIHByb3BlcnR5LlxuICAgICAqL1xuICAgIHRleHREZWNvcmF0aW9uPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFt0ZXh0LXNoYWRvd10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3RleHQtc2hhZG93KSBDU1MgcHJvcGVydHkuXG4gICAgICovXG4gICAgdGV4dFNoYWRvdz86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBbdGV4dC10cmFuc2Zvcm1dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy90ZXh0LXRyYW5zZm9ybSkgQ1NTIHByb3BlcnR5LlxuICAgICAqL1xuICAgIHRleHRUcmFuc2Zvcm0/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBTdHJpcGVFbGVtZW50U3R5bGVWYXJpYW50IGV4dGVuZHMgU3RyaXBlRWxlbWVudENTU1Byb3BlcnRpZXMge1xuICAgICc6aG92ZXInPzogU3RyaXBlRWxlbWVudENTU1Byb3BlcnRpZXM7XG5cbiAgICAnOmZvY3VzJz86IFN0cmlwZUVsZW1lbnRDU1NQcm9wZXJ0aWVzO1xuXG4gICAgJzo6cGxhY2Vob2xkZXInPzogU3RyaXBlRWxlbWVudENTU1Byb3BlcnRpZXM7XG5cbiAgICAnOjpzZWxlY3Rpb24nPzogU3RyaXBlRWxlbWVudENTU1Byb3BlcnRpZXM7XG5cbiAgICAnOi13ZWJraXQtYXV0b2ZpbGwnPzogU3RyaXBlRWxlbWVudENTU1Byb3BlcnRpZXM7XG5cbiAgICAvKipcbiAgICAgKiBBdmFpbGFibGUgZm9yIGFsbCBlbGVtZW50cyBleGNlcHQgdGhlIGBwYXltZW50UmVxdWVzdEJ1dHRvbmAgZWxlbWVudFxuICAgICAqL1xuICAgICc6ZGlzYWJsZWQnPzogU3RyaXBlRWxlbWVudENTU1Byb3BlcnRpZXM7XG5cbiAgICAvKipcbiAgICAgKiBBdmFpbGFibGUgZm9yIHRoZSBgY2FyZE51bWJlcmAsIGBjYXJkRXhwaXJ5YCwgYW5kIGBjYXJkQ3ZjYCBlbGVtZW50cy5cbiAgICAgKi9cbiAgICAnOjotbXMtY2xlYXInPzogU3RyaXBlRWxlbWVudENTU1Byb3BlcnRpZXMgJiB7IGRpc3BsYXk6IHN0cmluZyB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRFbGVtZW50T3B0aW9ucyBleHRlbmRzIEJhc2VFbGVtZW50T3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogQSBwcmUtZmlsbGVkIHNldCBvZiB2YWx1ZXMgdG8gaW5jbHVkZSBpbiB0aGUgaW5wdXQgKGUuZy4sIHtwb3N0YWxDb2RlOiAnOTQxMTAnfSkuXG4gICAgICogTm90ZSB0aGF0IHNlbnNpdGl2ZSBjYXJkIGluZm9ybWF0aW9uIChjYXJkIG51bWJlciwgQ1ZDLCBhbmQgZXhwaXJhdGlvbiBkYXRlKVxuICAgICAqIGNhbm5vdCBiZSBwcmUtZmlsbGVkXG4gICAgICovXG4gICAgdmFsdWU/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBIaWRlIHRoZSBwb3N0YWwgY29kZSBmaWVsZC4gRGVmYXVsdCBpcyBmYWxzZS4gSWYgeW91IGFyZSBhbHJlYWR5IGNvbGxlY3RpbmcgYVxuICAgICAqIGZ1bGwgYmlsbGluZyBhZGRyZXNzIG9yIHBvc3RhbCBjb2RlIGVsc2V3aGVyZSwgc2V0IHRoaXMgdG8gdHJ1ZS5cbiAgICAgKi9cbiAgICBoaWRlUG9zdGFsQ29kZT86IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBBcHBlYXJhbmNlIG9mIHRoZSBpY29uIGluIHRoZSBFbGVtZW50LlxuICAgICAqL1xuICAgIGljb25TdHlsZT86IEljb25TdHlsZTtcblxuICAgIC8qXG4gICAgICogSGlkZXMgdGhlIGljb24gaW4gdGhlIEVsZW1lbnQsIERlZmF1bHQgaXMgZmFsc2VcbiAgICAgKi9cbiAgICBoaWRlSWNvbj86IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBCYXNlSW5kaXZpZHVhbEVsZW1lbnRPcHRpb25zIGV4dGVuZHMgQmFzZUVsZW1lbnRPcHRpb25zIHtcbiAgICBjb250YWluZXJJZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhcmROdW1iZXJFbGVtZW50T3B0aW9ucyBleHRlbmRzIEJhc2VJbmRpdmlkdWFsRWxlbWVudE9wdGlvbnMge1xuICAgIC8qXG4gICAgICogUGxhY2Vob2xkZXJcbiAgICAgKi9cbiAgICBwbGFjZWhvbGRlcj86IHN0cmluZztcblxuICAgIHNob3dJY29uPzogYm9vbGVhbjtcbiAgICAvKipcbiAgICAgKiBBcHBlYXJhbmNlIG9mIHRoZSBpY29uIGluIHRoZSBFbGVtZW50LiBFaXRoZXIgYHNvbGlkYCBvciBgZGVmYXVsdGBcbiAgICAgKi9cbiAgICBpY29uU3R5bGU/OiBJY29uU3R5bGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZEV4cGlyeUVsZW1lbnRPcHRpb25zIGV4dGVuZHMgQmFzZUluZGl2aWR1YWxFbGVtZW50T3B0aW9ucyB7XG4gICAgLypcbiAgICAgKiBQbGFjZWhvbGRlclxuICAgICAqL1xuICAgIHBsYWNlaG9sZGVyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRDdmNFbGVtZW50T3B0aW9ucyBleHRlbmRzIEJhc2VJbmRpdmlkdWFsRWxlbWVudE9wdGlvbnMge1xuICAgIC8qXG4gICAgICogUGxhY2Vob2xkZXJcbiAgICAgKi9cbiAgICBwbGFjZWhvbGRlcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJYmFuRWxlbWVudE9wdGlvbnMgZXh0ZW5kcyBCYXNlRWxlbWVudE9wdGlvbnMge1xuICAgIC8qKlxuICAgICAqIFNwZWNpZnkgdGhlIGxpc3Qgb2YgY291bnRyaWVzIG9yIGNvdW50cnktZ3JvdXBzIHdob3NlIElCQU5zIHlvdSB3YW50IHRvIGFsbG93LlxuICAgICAqIE11c3QgYmUgWydTRVBBJ10uXG4gICAgICovXG4gICAgc3VwcG9ydGVkQ291bnRyaWVzPzogc3RyaW5nW107XG5cbiAgICAvKipcbiAgICAgKiBDdXN0b21pemUgdGhlIGNvdW50cnkgYW5kIGZvcm1hdCBvZiB0aGUgcGxhY2Vob2xkZXIgSUJBTi4gRGVmYXVsdCBpcyBERS5cbiAgICAgKi9cbiAgICBwbGFjZWhvbGRlckNvdW50cnk/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBcHBlYXJhbmNlIG9mIHRoZSBpY29uIGluIHRoZSBFbGVtZW50LlxuICAgICAqL1xuICAgIGljb25TdHlsZT86IEljb25TdHlsZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJZGVhbEVsZW1lbnRPcHRpb25zIGV4dGVuZHMgQmFzZUVsZW1lbnRPcHRpb25zIHtcbiAgICB2YWx1ZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEhpZGVzIHRoZSBpY29uIGluIHRoZSBFbGVtZW50LiBEZWZhdWx0IGlzIGZhbHNlLlxuICAgICAqL1xuICAgIGhpZGVJY29uPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBaaXBDb2RlRWxlbWVudE9wdGlvbnMge1xuICAgIGNvbnRhaW5lcklkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBlbnVtIEljb25TdHlsZSB7XG4gICAgU29saWQgPSAnc29saWQnLFxuICAgIERlZmF1bHQgPSAnZGVmYXVsdCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlRWxlbWVudFN0eWxlIHtcbiAgICAvKipcbiAgICAgKiBCYXNlIHZhcmlhbnTigJRhbGwgb3RoZXIgdmFyaWFudHMgaW5oZXJpdCBmcm9tIHRoZXNlIHN0eWxlcy5cbiAgICAgKi9cbiAgICBiYXNlPzogU3RyaXBlRWxlbWVudFN0eWxlVmFyaWFudDtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZWQgd2hlbiB0aGUgZWxlbWVudCBoYXMgdmFsaWQgaW5wdXQuXG4gICAgICovXG4gICAgY29tcGxldGU/OiBTdHJpcGVFbGVtZW50U3R5bGVWYXJpYW50O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBubyBjdXN0b21lciBpbnB1dC5cbiAgICAgKi9cbiAgICBlbXB0eT86IFN0cmlwZUVsZW1lbnRTdHlsZVZhcmlhbnQ7XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVkIHdoZW4gdGhlIGVsZW1lbnQgaGFzIGludmFsaWQgaW5wdXQuXG4gICAgICovXG4gICAgaW52YWxpZD86IFN0cmlwZUVsZW1lbnRTdHlsZVZhcmlhbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlRWxlbWVudENsYXNzZXMge1xuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGNsYXNzIGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lci4gRGVmYXVsdHMgdG8gU3RyaXBlRWxlbWVudC5cbiAgICAgKi9cbiAgICBiYXNlPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNsYXNzIG5hbWUgdG8gYXBwbHkgd2hlbiB0aGUgRWxlbWVudCBpcyBjb21wbGV0ZS4gRGVmYXVsdHMgdG8gU3RyaXBlRWxlbWVudC0tY29tcGxldGUuXG4gICAgICovXG4gICAgY29tcGxldGU/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2xhc3MgbmFtZSB0byBhcHBseSB3aGVuIHRoZSBFbGVtZW50IGlzIGVtcHR5LiBEZWZhdWx0cyB0byBTdHJpcGVFbGVtZW50LS1lbXB0eS5cbiAgICAgKi9cbiAgICBlbXB0eT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBjbGFzcyBuYW1lIHRvIGFwcGx5IHdoZW4gdGhlIEVsZW1lbnQgaXMgZm9jdXNlZC4gRGVmYXVsdHMgdG8gU3RyaXBlRWxlbWVudC0tZm9jdXMuXG4gICAgICovXG4gICAgZm9jdXM/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2xhc3MgbmFtZSB0byBhcHBseSB3aGVuIHRoZSBFbGVtZW50IGlzIGludmFsaWQuIERlZmF1bHRzIHRvIFN0cmlwZUVsZW1lbnQtLWludmFsaWQuXG4gICAgICovXG4gICAgaW52YWxpZD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBjbGFzcyBuYW1lIHRvIGFwcGx5IHdoZW4gdGhlIEVsZW1lbnQgaGFzIGl0cyB2YWx1ZSBhdXRvZmlsbGVkIGJ5IHRoZSBicm93c2VyXG4gICAgICogKG9ubHkgb24gQ2hyb21lIGFuZCBTYWZhcmkpLiBEZWZhdWx0cyB0byBTdHJpcGVFbGVtZW50LS13ZWJraXQtYXV0b2ZpbGwuXG4gICAgICovXG4gICAgd2Via2l0QXV0b0ZpbGw/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQWRkcmVzcyB7XG4gICAgLyoqXG4gICAgICogQ2l0eSwgZGlzdHJpY3QsIHN1YnVyYiwgdG93biwgb3IgdmlsbGFnZS5cbiAgICAgKi9cbiAgICBjaXR5Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVHdvLWxldHRlciBjb3VudHJ5IGNvZGUgKFtJU08gMzE2Ni0xIGFscGhhLTJdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT18zMTY2LTFfYWxwaGEtMikpLlxuICAgICAqL1xuICAgIGNvdW50cnk/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBZGRyZXNzIGxpbmUgMSAoZS5nLiwgc3RyZWV0LCBQTyBCb3gsIG9yIGNvbXBhbnkgbmFtZSkuXG4gICAgICovXG4gICAgbGluZTE6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEFkZHJlc3MgbGluZSAyIChlLmcuLCBhcGFydG1lbnQsIHN1aXRlLCB1bml0LCBvciBidWlsZGluZykuXG4gICAgICovXG4gICAgbGluZTI/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBaSVAgb3IgcG9zdGFsIGNvZGUuXG4gICAgICovXG4gICAgcG9zdGFsX2NvZGU/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBTdGF0ZSwgY291bnR5LCBwcm92aW5jZSwgb3IgcmVnaW9uLlxuICAgICAqL1xuICAgIHN0YXRlPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUJpbGxpbmdEZXRhaWxzIHtcbiAgICAvKipcbiAgICAgKiBCaWxsaW5nIGFkZHJlc3MuXG4gICAgICovXG4gICAgYWRkcmVzcz86IFN0cmlwZUFkZHJlc3M7XG5cbiAgICAvKipcbiAgICAgKiBFbWFpbCBhZGRyZXNzLlxuICAgICAqL1xuICAgIGVtYWlsPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogRnVsbCBuYW1lLlxuICAgICAqL1xuICAgIG5hbWU/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBCaWxsaW5nIHBob25lIG51bWJlciAoaW5jbHVkaW5nIGV4dGVuc2lvbikuXG4gICAgICovXG4gICAgcGhvbmU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlU2hpcHBpbmdBZGRyZXNzIHtcbiAgICAvKipcbiAgICAgKiBTaGlwcGluZyBBZGRyZXNzXG4gICAgICovXG4gICAgYWRkcmVzczogU3RyaXBlQWRkcmVzcztcblxuICAgIC8qKlxuICAgICAqIFJlY2lwaWVudCBuYW1lXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGRlbGl2ZXJ5IHNlcnZpY2UgdGhhdCBzaGlwcGVkIGEgcGh5c2ljYWwgcHJvZHVjdCwgc3VjaCBhcyBGZWRleCwgVVBTLCBVU1BTLCBldGMuXG4gICAgICovXG4gICAgY2Fycmllcj86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFJlY2lwaWVudCBwaG9uZSAoaW5jbHVkaW5nIGV4dGVuc2lvbikuXG4gICAgICovXG4gICAgcGhvbmU/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHJhY2tpbmcgbnVtYmVyIGZvciBhIHBoeXNpY2FsIHByb2R1Y3QsIG9idGFpbmVkIGZyb20gdGhlIGRlbGl2ZXJ5IHNlcnZpY2UuXG4gICAgICogSWYgbXVsdGlwbGUgdHJhY2tpbmcgbnVtYmVycyB3ZXJlIGdlbmVyYXRlZCBmb3IgdGhpcyBwdXJjaGFzZSwgcGxlYXNlIHNlcGFyYXRlIHRoZW0gd2l0aCBjb21tYXMuXG4gICAgICovXG4gICAgdHJhY2tpbmdfbnVtYmVyPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIERhdGEgdG8gYmUgc2VudCB3aXRoIGEgYHN0cmlwZS5jb25maXJtQWxpcGF5UGF5bWVudGAgcmVxdWVzdC5cbiAqIFJlZmVyIHRvIHRoZSBbUGF5bWVudCBJbnRlbnRzIEFQSV0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfaW50ZW50cy9jb25maXJtKSBmb3IgYSBmdWxsIGxpc3Qgb2YgcGFyYW1ldGVycy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVDb25maXJtQWxpcGF5UGF5bWVudERhdGEge1xuICAgIC8qXG4gICAgICogSWYgeW91IGFyZSBbaGFuZGxpbmcgbmV4dCBhY3Rpb25zIHlvdXJzZWxmXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9wYXltZW50cy9wYXltZW50LWludGVudHMvdmVyaWZ5aW5nLXN0YXR1cyNuZXh0LWFjdGlvbnMpLCBwYXNzIGluIGEgcmV0dXJuX3VybC4gSWYgdGhlIHN1YnNlcXVlbnQgYWN0aW9uXG4gICAgICogaXMgcmVkaXJlY3RfdG9fdXJsLCB0aGlzIFVSTCB3aWxsIGJlIHVzZWQgb24gdGhlIHJldHVybiBwYXRoIGZvciB0aGUgcmVkaXJlY3QuXG4gICAgICpcbiAgICAgKiBAcmVjb21tZW5kZWRcbiAgICAgKi9cbiAgICByZXR1cm5fdXJsPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIERhdGEgdG8gYmUgc2VudCB3aXRoIGEgYHN0cmlwZS5jb25maXJtQ2FyZFBheW1lbnRgIHJlcXVlc3QuXG4gKiBSZWZlciB0byB0aGUgW1BheW1lbnQgSW50ZW50cyBBUEldKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X2ludGVudHMvY29uZmlybSkgZm9yIGEgZnVsbCBsaXN0IG9mIHBhcmFtZXRlcnMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQ29uZmlybUNhcmRQYXltZW50RGF0YSB7XG4gICAgLypcbiAgICAgKiBFaXRoZXIgdGhlIGlkIG9mIGFuIGV4aXN0aW5nIFtQYXltZW50TWV0aG9kXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9tZXRob2RzKSwgb3IgYW4gb2JqZWN0IGNvbnRhaW5pbmcgZGF0YSB0byBjcmVhdGUgYVxuICAgICAqIFBheW1lbnRNZXRob2Qgd2l0aC4gU2VlIHRoZSB1c2UgY2FzZSBzZWN0aW9ucyBiZWxvdyBmb3IgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEByZWNvbW1lbmRlZFxuICAgICAqL1xuICAgIHBheW1lbnRfbWV0aG9kPzogQ3JlYXRlUGF5bWVudE1ldGhvZENhcmREYXRhO1xuXG4gICAgLypcbiAgICAgKiBUaGUgW3NoaXBwaW5nIGRldGFpbHNdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X2ludGVudHMvY29uZmlybSNjb25maXJtX3BheW1lbnRfaW50ZW50LXNoaXBwaW5nKSBmb3IgdGhlIHBheW1lbnQsIGlmIGNvbGxlY3RlZC5cbiAgICAgKlxuICAgICAqIEByZWNvbW1lbmRlZFxuICAgICAqL1xuICAgIHNoaXBwaW5nPzogU3RyaXBlU2hpcHBpbmdBZGRyZXNzO1xuXG4gICAgLypcbiAgICAgKiBJZiB5b3UgYXJlIFtoYW5kbGluZyBuZXh0IGFjdGlvbnMgeW91cnNlbGZdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3BheW1lbnRzL3BheW1lbnQtaW50ZW50cy92ZXJpZnlpbmctc3RhdHVzI25leHQtYWN0aW9ucyksIHBhc3MgaW4gYSByZXR1cm5fdXJsLiBJZiB0aGUgc3Vic2VxdWVudCBhY3Rpb25cbiAgICAgKiBpcyByZWRpcmVjdF90b191cmwsIHRoaXMgVVJMIHdpbGwgYmUgdXNlZCBvbiB0aGUgcmV0dXJuIHBhdGggZm9yIHRoZSByZWRpcmVjdC5cbiAgICAgKlxuICAgICAqIEByZWNvbW1lbmRlZFxuICAgICAqL1xuICAgIHJldHVybl91cmw/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhhdCB5b3UgaW50ZW5kIHRvIG1ha2UgZnV0dXJlIHBheW1lbnRzIHdpdGggdGhpcyBQYXltZW50SW50ZW50J3MgcGF5bWVudCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBJZiBwcmVzZW50LCB0aGUgcGF5bWVudCBtZXRob2QgdXNlZCB3aXRoIHRoaXMgUGF5bWVudEludGVudCBjYW4gYmUgW2F0dGFjaGVkXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9tZXRob2RzL2F0dGFjaCkgdG8gYSBDdXN0b21lciwgZXZlbiBhZnRlciB0aGUgdHJhbnNhY3Rpb24gY29tcGxldGVzLlxuICAgICAqXG4gICAgICogVXNlIGBvbl9zZXNzaW9uYCBpZiB5b3UgaW50ZW5kIHRvIG9ubHkgcmV1c2UgdGhlIHBheW1lbnQgbWV0aG9kIHdoZW4geW91ciBjdXN0b21lciBpcyBwcmVzZW50IGluIHlvdXIgY2hlY2tvdXQgZmxvdy4gVXNlIGBvZmZfc2Vzc2lvbmAgaWYgeW91ciBjdXN0b21lciBtYXkgb3IgbWF5IG5vdCBiZSBpbiB5b3VyIGNoZWNrb3V0IGZsb3cuXG4gICAgICovXG4gICAgc2V0dXBfZnV0dXJlX3VzYWdlPzogJ29mZl9zZXNzaW9uJyB8ICdvbl9zZXNzaW9uJyB8IG51bGw7XG59XG5cbi8qKlxuICogRGF0YSB0byBiZSBzZW50IHdpdGggYSBgc3RyaXBlLmNvbmZpcm1JZGVhbFBheW1lbnRgIHJlcXVlc3QuXG4gKiBSZWZlciB0byB0aGUgW1BheW1lbnQgSW50ZW50cyBBUEldKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X2ludGVudHMvY29uZmlybSkgZm9yIGEgZnVsbCBsaXN0IG9mIHBhcmFtZXRlcnMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQ29uZmlybUlkZWFsUGF5bWVudERhdGEge1xuICAgIC8qXG4gICAgICogRWl0aGVyIHRoZSBpZCBvZiBhbiBleGlzdGluZyBbUGF5bWVudE1ldGhvZF0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfbWV0aG9kcyksIG9yIGFuIG9iamVjdCBjb250YWluaW5nIGRhdGEgdG8gY3JlYXRlIGFcbiAgICAgKiBQYXltZW50TWV0aG9kIHdpdGguIFNlZSB0aGUgdXNlIGNhc2Ugc2VjdGlvbnMgYmVsb3cgZm9yIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBAcmVjb21tZW5kZWRcbiAgICAgKi9cbiAgICBwYXltZW50X21ldGhvZD86IENyZWF0ZVBheW1lbnRNZXRob2RJZGVhbERhdGE7XG5cbiAgICAvKlxuICAgICAqIElmIHlvdSBhcmUgW2hhbmRsaW5nIG5leHQgYWN0aW9ucyB5b3Vyc2VsZl0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvcGF5bWVudHMvcGF5bWVudC1pbnRlbnRzL3ZlcmlmeWluZy1zdGF0dXMjbmV4dC1hY3Rpb25zKSwgcGFzcyBpbiBhIHJldHVybl91cmwuIElmIHRoZSBzdWJzZXF1ZW50IGFjdGlvblxuICAgICAqIGlzIHJlZGlyZWN0X3RvX3VybCwgdGhpcyBVUkwgd2lsbCBiZSB1c2VkIG9uIHRoZSByZXR1cm4gcGF0aCBmb3IgdGhlIHJlZGlyZWN0LlxuICAgICAqXG4gICAgICogQHJlY29tbWVuZGVkXG4gICAgICovXG4gICAgcmV0dXJuX3VybD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBEYXRhIHRvIGJlIHNlbnQgd2l0aCBhIGBzdHJpcGUuY29uZmlybVNFUEFQYXltZW50YCByZXF1ZXN0LlxuICogUmVmZXIgdG8gdGhlIFtQYXltZW50IEludGVudHMgQVBJXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9pbnRlbnRzL2NvbmZpcm0pIGZvciBhIGZ1bGwgbGlzdCBvZiBwYXJhbWV0ZXJzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUNvbmZpcm1TZXBhUGF5bWVudERhdGEge1xuICAgIC8qXG4gICAgICogRWl0aGVyIHRoZSBpZCBvZiBhbiBleGlzdGluZyBbUGF5bWVudE1ldGhvZF0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfbWV0aG9kcyksIG9yIGFuIG9iamVjdCBjb250YWluaW5nIGRhdGEgdG8gY3JlYXRlIGFcbiAgICAgKiBQYXltZW50TWV0aG9kIHdpdGguIFNlZSB0aGUgdXNlIGNhc2Ugc2VjdGlvbnMgYmVsb3cgZm9yIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBAcmVjb21tZW5kZWRcbiAgICAgKi9cbiAgICBwYXltZW50X21ldGhvZD86IENyZWF0ZVBheW1lbnRNZXRob2RTZXBhRGF0YTtcbn1cblxuZXhwb3J0IHR5cGUgU3RyaXBlQ29uZmlybVBheW1lbnREYXRhID1cbiAgICB8IFN0cmlwZUNvbmZpcm1BbGlwYXlQYXltZW50RGF0YVxuICAgIHwgU3RyaXBlQ29uZmlybUNhcmRQYXltZW50RGF0YVxuICAgIHwgU3RyaXBlQ29uZmlybUlkZWFsUGF5bWVudERhdGFcbiAgICB8IFN0cmlwZUNvbmZpcm1TZXBhUGF5bWVudERhdGFcbiAgICB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IHR5cGUgU3RyaXBlRWxlbWVudE9wdGlvbnMgPVxuICAgIHwgQ2FyZEVsZW1lbnRPcHRpb25zXG4gICAgfCBDYXJkRXhwaXJ5RWxlbWVudE9wdGlvbnNcbiAgICB8IENhcmROdW1iZXJFbGVtZW50T3B0aW9uc1xuICAgIHwgQ2FyZEN2Y0VsZW1lbnRPcHRpb25zXG4gICAgfCBJZGVhbEVsZW1lbnRPcHRpb25zXG4gICAgfCBJYmFuRWxlbWVudE9wdGlvbnNcbiAgICB8IFppcENvZGVFbGVtZW50T3B0aW9ucztcblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVFbGVtZW50IHtcbiAgICAvKipcbiAgICAgKiBUaGUgYGVsZW1lbnQubW91bnRgIG1ldGhvZCBhdHRhY2hlcyB5b3VyIGVsZW1lbnQgdG8gdGhlIERPTS5cbiAgICAgKi9cbiAgICBtb3VudChkb21FbGVtZW50OiBzdHJpbmcgfCBIVE1MRWxlbWVudCk6IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBlbGVtZW50IGZyb20gdGhlIERPTSBhbmQgZGVzdHJveXMgaXQuXG4gICAgICogQSBkZXN0cm95ZWQgZWxlbWVudCBjYW4gbm90IGJlIHJlLWFjdGl2YXRlZCBvciByZS1tb3VudGVkIHRvIHRoZSBET00uXG4gICAgICovXG4gICAgZGVzdHJveSgpOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogVW5tb3VudHMgdGhlIGVsZW1lbnQgZnJvbSB0aGUgRE9NLlxuICAgICAqIENhbGwgYGVsZW1lbnQubW91bnRgIHRvIHJlLWF0dGFjaCBpdCB0byB0aGUgRE9NLlxuICAgICAqL1xuICAgIHVubW91bnQoKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVFbGVtZW50cyB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBBbGlwYXlFbGVtZW50YCB8IGBDYXJkRWxlbWVudGAgfCBgQ2FyZEN2Y0VsZW1lbnRgIHxgQ2FyZEV4cGlyeUVsZW1lbnRgIHwgYENhcmRFeHBpcnlFbGVtZW50YCB8IGBDYXJkTnVtYmVyRWxlbWVudGAgfCBgSWRlYWxCYW5rRWxlbWVudGAgfCBgSWJhbkVsZW1lbnRgLlxuICAgICAqL1xuICAgIGNyZWF0ZShlbGVtZW50VHlwZTogU3RyaXBlRWxlbWVudFR5cGUsIG9wdGlvbnM/OiBTdHJpcGVFbGVtZW50T3B0aW9ucyk6IFN0cmlwZUVsZW1lbnQ7XG5cbiAgICAvKipcbiAgICAgKiBMb29rcyB1cCBhIHByZXZpb3VzbHkgY3JlYXRlZCBgRWxlbWVudGAgYnkgaXRzIHR5cGUuXG4gICAgICovXG4gICAgZ2V0RWxlbWVudChlbGVtZW50VHlwZTogU3RyaXBlRWxlbWVudFR5cGUpOiBTdHJpcGVFbGVtZW50IHwgbnVsbDtcbn1cblxuLyoqXG4gKiBUaGlzIG9iamVjdCBpcyB1c2VkIHRvIHBhc3MgY3VzdG9tIGZvbnRzIHdoZW4gY3JlYXRpbmcgYW4gW0VsZW1lbnRzXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9lbGVtZW50c19vYmplY3QvY3JlYXRlKSBvYmplY3QuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ3NzRm9udFNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQSByZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgcG9pbnRpbmcgdG8gYSBDU1MgZmlsZSB3aXRoIFtAZm9udC1mYWNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvQGZvbnQtZmFjZSkgZGVmaW5pdGlvbnMsIGZvciBleGFtcGxlOlxuICAgICAqIGBodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9T3BlbitTYW5zYFxuICAgICAqIE5vdGUgdGhhdCBpZiB5b3UgYXJlIHVzaW5nIGEgW2NvbnRlbnQgc2VjdXJpdHkgcG9saWN5XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0hlYWRlcnMvQ29udGVudC1TZWN1cml0eS1Qb2xpY3kpIChDU1ApLFxuICAgICAqIFthZGRpdGlvbmFsIGRpcmVjdGl2ZXNdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3NlY3VyaXR5I2NvbnRlbnQtc2VjdXJpdHktcG9saWN5KSBtYXkgYmUgbmVjZXNzYXJ5LlxuICAgICAqL1xuICAgIGNzc1NyYzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFRoaXMgb2JqZWN0IGlzIHVzZWQgdG8gcGFzcyBjdXN0b20gZm9udHMgd2hlbiBjcmVhdGluZyBhbiBbRWxlbWVudHNdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2VsZW1lbnRzX29iamVjdC9jcmVhdGUpIG9iamVjdC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDdXN0b21Gb250U291cmNlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSB0byBnaXZlIHRoZSBmb250LlxuICAgICAqL1xuICAgIGZhbWlseTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQSB2YWxpZCBbc3JjXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvQGZvbnQtZmFjZS9zcmMpIHZhbHVlIHBvaW50aW5nIHRvIHlvdXJcbiAgICAgKiBjdXN0b20gZm9udCBmaWxlLiBUaGlzIGlzIHVzdWFsbHkgKHRob3VnaCBub3QgYWx3YXlzKSBhIGxpbmsgdG8gYSBmaWxlIHdpdGggYSAud29mZiAsIC5vdGYsIG9yIC5zdmcgc3VmZml4LlxuICAgICAqL1xuICAgIHNyYzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQSB2YWxpZCBbZm9udC1kaXNwbGF5XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvQGZvbnQtZmFjZS9mb250LWRpc3BsYXkpIHZhbHVlLlxuICAgICAqL1xuICAgIGRpc3BsYXk/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBPbmUgb2Ygbm9ybWFsLCBpdGFsaWMsIG9ibGlxdWUuIERlZmF1bHRzIHRvIG5vcm1hbC5cbiAgICAgKi9cbiAgICBzdHlsZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgdmFsaWQgW3VuaWNvZGUtcmFuZ2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9AZm9udC1mYWNlL3VuaWNvZGUtcmFuZ2UpIHZhbHVlLlxuICAgICAqL1xuICAgIHVuaWNvZGVSYW5nZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgdmFsaWQgW2ZvbnQtd2VpZ2h0XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvZm9udC13ZWlnaHQpLiBOb3RlIHRoYXQgdGhpcyBpcyBhIHN0cmluZywgbm90IGEgbnVtYmVyLlxuICAgICAqL1xuICAgIHdlaWdodD86IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgQ3VzdG9tRm9udCA9IENzc0ZvbnRTb3VyY2UgfCBDdXN0b21Gb250U291cmNlO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUVsZW1lbnRzT3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgY3VzdG9tIGZvbnRzLCB3aGljaCBlbGVtZW50cyBjcmVhdGVkIGZyb20gdGhlIEVsZW1lbnRzIG9iamVjdCBjYW4gdXNlLlxuICAgICAqIEZvbnRzIGNhbiBiZSBzcGVjaWZpZWQgYXMgW0Nzc0ZvbnRTb3VyY2VdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2FwcGVuZGl4L2Nzc19mb250X3NvdXJjZV9vYmplY3QpXG4gICAgICogb3IgW0N1c3RvbUZvbnRTb3VyY2VdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2FwcGVuZGl4L2N1c3RvbV9mb250X3NvdXJjZV9vYmplY3QpIG9iamVjdHMuXG4gICAgICovXG4gICAgZm9udHM/OiBDdXN0b21Gb250W107XG5cbiAgICAvKipcbiAgICAgKiBBIFtsb2NhbGVdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2FwcGVuZGl4L3N1cHBvcnRlZF9sb2NhbGVzKSB0byBkaXNwbGF5IHBsYWNlaG9sZGVycyBhbmRcbiAgICAgKiBlcnJvciBzdHJpbmdzIGluLiBEZWZhdWx0IGlzIGF1dG8gKFN0cmlwZSBkZXRlY3RzIHRoZSBsb2NhbGUgb2YgdGhlIGJyb3dzZXIpLlxuICAgICAqIFNldHRpbmcgdGhlIGxvY2FsZSBkb2VzIG5vdCBhZmZlY3QgdGhlIGJlaGF2aW9yIG9mIHBvc3RhbCBjb2RlIHZhbGlkYXRpb27igJRhIHZhbGlkIHBvc3RhbCBjb2RlXG4gICAgICogZm9yIHRoZSBiaWxsaW5nIGNvdW50cnkgb2YgdGhlIGNhcmQgaXMgc3RpbGwgcmVxdWlyZWQuXG4gICAgICovXG4gICAgbG9jYWxlPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUNvbmZpcm1QYXltZW50T3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogU2V0IHRoaXMgdG8gZmFsc2UgaWYgeW91IHdhbnQgdG8gW21hbnVhbGx5IGhhbmRsZSB0aGUgYXV0aG9yaXphdGlvbiByZWRpcmVjdF0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvcGF5bWVudHMvaWRlYWwjaGFuZGxlLXJlZGlyZWN0KS4gRGVmYXVsdCBpcyB0cnVlLlxuICAgICAqL1xuICAgIGhhbmRsZUFjdGlvbnM/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZVYzQ2xpZW50IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gYEVsZW1lbnRzYCBpbnN0YW5jZSwgd2hpY2ggbWFuYWdlcyBhIGdyb3VwIG9mIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGVsZW1lbnRzKG9wdGlvbnM/OiBTdHJpcGVFbGVtZW50c09wdGlvbnMpOiBTdHJpcGVFbGVtZW50cztcblxuICAgIC8qXG4gICAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvcGF5bWVudF9pbnRlbnRzL2NvbmZpcm1fYWxpcGF5X3BheW1lbnRcbiAgICAgKlxuICAgICAqIFVzZSBgc3RyaXBlLmNvbmZpcm1BbGlwYXlQYXltZW50YCBpbiB0aGUgQWxpcGF5IHBheW1lbnQgbWV0aG9kIGNyZWF0aW9uIGZsb3cgd2hlbiB0aGUgY3VzdG9tZXIgc3VibWl0cyB5b3VyIHBheW1lbnQgZm9ybS5cbiAgICAgKiBXaGVuIGNhbGxlZCwgaXQgd2lsbCBjb25maXJtIHRoZSBbUGF5bWVudEludGVudF0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfaW50ZW50cykgd2l0aCBkYXRhIHlvdSBwcm92aWRlLCBhbmQgaXQgd2lsbCBhdXRvbWF0aWNhbGx5XG4gICAgICogcmVkaXJlY3QgdGhlIGN1c3RvbWVyIHRvIHRoZSBhdXRob3JpemUgdGhlIHRyYW5zYWN0aW9uLiBPbmNlIGF1dGhvcml6YXRpb24gaXMgY29tcGxldGUsIHRoZSBjdXN0b21lciB3aWxsIGJlIHJlZGlyZWN0ZWRcbiAgICAgKiBiYWNrIHRvIHlvdXIgc3BlY2lmaWVkIGByZXR1cm5fdXJsYC4gV2hlbiB5b3UgY29uZmlybSBhIGBQYXltZW50SW50ZW50YCwgaXQgbmVlZHMgdG8gaGF2ZSBhbiBhdHRhY2hlZCBbUGF5bWVudE1ldGhvZF0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfbWV0aG9kcykuXG4gICAgICogSW4gYWRkaXRpb24gdG8gY29uZmlybWluZyB0aGUgYFBheW1lbnRJbnRlbnRgLCB0aGlzIG1ldGhvZCBjYW4gYXV0b21hdGljYWxseSBjcmVhdGUgYW5kIGF0dGFjaCBhIG5ldyBgUGF5bWVudE1ldGhvZGAgZm9yIHlvdS5cbiAgICAgKiBJZiB5b3UgaGF2ZSBhbHJlYWR5IGF0dGFjaGVkIGEgYFBheW1lbnRNZXRob2RgIHlvdSBjYW4gY2FsbCB0aGlzIG1ldGhvZCB3aXRob3V0IG5lZWRpbmcgdG8gcHJvdmlkZSBhbnkgYWRkaXRpb25hbCBkYXRhLlxuICAgICAqIFRoZXNlIHVzZSBjYXNlcyBhcmUgZGV0YWlsZWQgaW4gdGhlIHNlY3Rpb25zIHRoYXQgZm9sbG93LlxuICAgICAqXG4gICAgICogQHJldHVybnNcbiAgICAgKiBgc3RyaXBlLmNvbmZpcm1BbGlwYXlQYXltZW50YCBieSBkZWZhdWx0LCB3aWxsIHRyaWdnZXIgYSByZWRpcmVjdCB3aGVuIHN1Y2Nlc3NmdWwuIElmIHRoZXJlIGlzIGFuIGVycm9yLCBvciB3aGVuIGhhbmRsaW5nXG4gICAgICogYG5leHRfYWN0aW9uc2AgbWFudWFsbHkgYnkgdXNpbmcgdGhlIGBoYW5kbGVBY3Rpb25zOiBmYWxzZWAgb3B0aW9uLCBpdCB3aWxsIHJldHVybiBhIGBQcm9taXNlYCB3aGljaCByZXNvbHZlcyB3aXRoIGEgYHJlc3VsdGAgb2JqZWN0LlxuICAgICAqIFRoaXMgb2JqZWN0IGhhcyBlaXRoZXI6XG4gICAgICpcbiAgICAgKiAtIHJlc3VsdC5wYXltZW50SW50ZW50OiB0aGUgc3VjY2Vzc2Z1bCBQYXltZW50SW50ZW50LlxuICAgICAqIC0gcmVzdWx0LmVycm9yOiBhbiBlcnJvci4gUmVmZXIgdG8gdGhlIEFQSSByZWZlcmVuY2UgZm9yIGFsbCBwb3NzaWJsZSBlcnJvcnMuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgYHN0cmlwZS5jb25maXJtQWxpcGF5UGF5bWVudGAgbWF5IHRha2Ugc2V2ZXJhbCBzZWNvbmRzIHRvIGNvbXBsZXRlLiBEdXJpbmcgdGhhdCB0aW1lLCB5b3Ugc2hvdWxkIGRpc2FibGUgeW91clxuICAgICAqIGZvcm0gZnJvbSBiZWluZyByZXN1Ym1pdHRlZCBhbmQgc2hvdyBhIHdhaXRpbmcgaW5kaWNhdG9yIGxpa2UgYSBzcGlubmVyLiBJZiB5b3UgcmVjZWl2ZSBhbiBlcnJvciByZXN1bHQsIHlvdSBzaG91bGRcbiAgICAgKiBiZSBzdXJlIHRvIHNob3cgdGhhdCBlcnJvciB0byB0aGUgY3VzdG9tZXIsIHJlLWVuYWJsZSB0aGUgZm9ybSwgYW5kIGhpZGUgdGhlIHdhaXRpbmcgaW5kaWNhdG9yLlxuICAgICAqL1xuICAgIGNvbmZpcm1BbGlwYXlQYXltZW50KFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFtjbGllbnQgc2VjcmV0XShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9pbnRlbnRzL29iamVjdCNwYXltZW50X2ludGVudF9vYmplY3QtY2xpZW50X3NlY3JldCkgb2YgdGhlIFBheW1lbnRJbnRlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBjbGllbnRTZWNyZXQ6IHN0cmluZyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGF0YSB0byBiZSBzZW50IHdpdGggdGhlIHJlcXVlc3QuIFJlZmVyIHRvIHRoZSBQYXltZW50IEludGVudHMgQVBJIGZvciBhIGZ1bGwgbGlzdCBvZiBwYXJhbWV0ZXJzLlxuICAgICAgICAgKi9cbiAgICAgICAgZGF0YT86IFN0cmlwZUNvbmZpcm1BbGlwYXlQYXltZW50RGF0YSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gb3B0aW9ucyBvYmplY3QgdG8gY29udHJvbCB0aGUgYmVoYXZpb3Igb2YgdGhpcyBtZXRob2QuXG4gICAgICAgICAqL1xuICAgICAgICBvcHRpb25zPzogU3RyaXBlQ29uZmlybVBheW1lbnRPcHRpb25zLFxuICAgICk6IFByb21pc2U8eyBwYXltZW50SW50ZW50PzogUGF5bWVudEludGVudDsgZXJyb3I/OiBTdHJpcGVFcnJvciB9PjtcblxuICAgIC8qXG4gICAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvcGF5bWVudF9pbnRlbnRzL2NvbmZpcm1fY2FyZF9wYXltZW50XG4gICAgICpcbiAgICAgKiBVc2UgYHN0cmlwZS5jb25maXJtQ2FyZFBheW1lbnRgIHdoZW4gdGhlIGN1c3RvbWVyIHN1Ym1pdHMgeW91ciBwYXltZW50IGZvcm0uXG4gICAgICogV2hlbiBjYWxsZWQsIGl0IHdpbGwgY29uZmlybSB0aGUgW1BheW1lbnRJbnRlbnRdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X2ludGVudHMpXG4gICAgICogd2l0aCBgZGF0YWAgeW91IHByb3ZpZGUgYW5kIGNhcnJ5IG91dCAzRFMgb3Igb3RoZXIgbmV4dCBhY3Rpb25zIGlmIHRoZXkgYXJlIHJlcXVpcmVkLlxuICAgICAqXG4gICAgICogSWYgeW91IGFyZSB1c2luZyBbRHluYW1pYyAzRCBTZWN1cmVdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3BheW1lbnRzLzNkLXNlY3VyZSN0aHJlZS1kcy1yYWRhciksIGBzdHJpcGUuY29uZmlybUNhcmRQYXltZW50YCB3aWxsXG4gICAgICogdHJpZ2dlciB5b3VyIFJhZGFyIHJ1bGVzIHRvIGV4ZWN1dGUgYW5kIG1heSBvcGVuIGEgZGlhbG9nIGZvciB5b3VyIGN1c3RvbWVyIHRvIGF1dGhlbnRpY2F0ZSB0aGVpciBwYXltZW50LlxuICAgICAqXG4gICAgICogV2hlbiB5b3UgY29uZmlybSBhIGBQYXltZW50SW50ZW50YCwgaXQgbmVlZHMgdG8gaGF2ZSBhbiBhdHRhY2hlZCBbUGF5bWVudE1ldGhvZF0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfbWV0aG9kcykuXG4gICAgICogSW4gYWRkaXRpb24gdG8gY29uZmlybWluZyB0aGUgYFBheW1lbnRJbnRlbnRgLCB0aGlzIG1ldGhvZCBjYW4gYXV0b21hdGljYWxseSBjcmVhdGUgYW5kIGF0dGFjaCBhIG5ldyBgUGF5bWVudE1ldGhvZGAgZm9yIHlvdS5cbiAgICAgKiBJdCBjYW4gYWxzbyBiZSBjYWxsZWQgd2l0aCBhbiBleGlzdGluZyBgUGF5bWVudE1ldGhvZGAsIG9yIGlmIHlvdSBoYXZlIGFscmVhZHkgYXR0YWNoZWQgYSBQYXltZW50TWV0aG9kIHlvdSBjYW4gY2FsbCB0aGlzXG4gICAgICogbWV0aG9kIHdpdGhvdXQgbmVlZGluZyB0byBwcm92aWRlIGFueSBhZGRpdGlvbmFsIGRhdGEuIFRoZXNlIHVzZSBjYXNlcyBhcmUgZGV0YWlsZWQgaW4gdGhlIHNlY3Rpb25zIHRoYXQgZm9sbG93LlxuICAgICAqXG4gICAgICogQHJldHVybnNcbiAgICAgKiBgc3RyaXBlLmNvbmZpcm1DYXJkUGF5bWVudGAgd2lsbCByZXR1cm4gYSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggYSByZXN1bHQgb2JqZWN0LlxuICAgICAqIFRoaXMgb2JqZWN0IGhhcyBlaXRoZXI6XG4gICAgICpcbiAgICAgKiAtIHJlc3VsdC5wYXltZW50SW50ZW50OiB0aGUgc3VjY2Vzc2Z1bCBQYXltZW50SW50ZW50LlxuICAgICAqIC0gcmVzdWx0LmVycm9yOiBhbiBlcnJvci4gUmVmZXIgdG8gdGhlIEFQSSByZWZlcmVuY2UgZm9yIGFsbCBwb3NzaWJsZSBlcnJvcnMuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgc3RyaXBlLmNvbmZpcm1DYXJkUGF5bWVudCBtYXkgdGFrZSBzZXZlcmFsIHNlY29uZHMgdG8gY29tcGxldGUuIER1cmluZyB0aGF0IHRpbWUsIHlvdSBzaG91bGQgZGlzYWJsZVxuICAgICAqIHlvdXIgZm9ybSBmcm9tIGJlaW5nIHJlc3VibWl0dGVkIGFuZCBzaG93IGEgd2FpdGluZyBpbmRpY2F0b3IgbGlrZSBhIHNwaW5uZXIuIElmIHlvdSByZWNlaXZlIGFuIGVycm9yIHJlc3VsdCxcbiAgICAgKiB5b3Ugc2hvdWxkIGJlIHN1cmUgdG8gc2hvdyB0aGF0IGVycm9yIHRvIHRoZSBjdXN0b21lciwgcmUtZW5hYmxlIHRoZSBmb3JtLCBhbmQgaGlkZSB0aGUgd2FpdGluZyBpbmRpY2F0b3IuXG4gICAgICpcbiAgICAgKiBBZGRpdGlvbmFsbHksIGBzdHJpcGUuY29uZmlybUNhcmRQYXltZW50IG1heSB0cmlnZ2VyYCBhIFszRCBTZWN1cmVdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3BheW1lbnRzLzNkLXNlY3VyZSkgYXV0aGVudGljYXRpb25cbiAgICAgKiBjaGFsbGVuZ2UuIFRoaXMgd2lsbCBiZSBzaG93biBpbiBhIG1vZGFsIGRpYWxvZyBhbmQgbWF5IGJlIGNvbmZ1c2luZyBmb3IgY3VzdG9tZXJzIHVzaW5nIGFzc2lzdGl2ZSB0ZWNobm9sb2dpZXMgbGlrZVxuICAgICAqIHNjcmVlbiByZWFkZXJzLiBZb3Ugc2hvdWxkIG1ha2UgeW91ciBmb3JtIGFjY2Vzc2libGUgYnkgZW5zdXJpbmcgdGhhdCBzdWNjZXNzIG9yIGVycm9yIG1lc3NhZ2VzIGFyZSBjbGVhcmx5IHJlYWQgb3V0XG4gICAgICogYWZ0ZXIgdGhpcyBtZXRob2QgY29tcGxldGVzLlxuICAgICAqXG4gICAgICovXG4gICAgY29uZmlybUNhcmRQYXltZW50KFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFtjbGllbnQgc2VjcmV0XShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9pbnRlbnRzL29iamVjdCNwYXltZW50X2ludGVudF9vYmplY3QtY2xpZW50X3NlY3JldCkgb2YgdGhlIFBheW1lbnRJbnRlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBjbGllbnRTZWNyZXQ6IHN0cmluZyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGF0YSB0byBiZSBzZW50IHdpdGggdGhlIHJlcXVlc3QuIFJlZmVyIHRvIHRoZSBQYXltZW50IEludGVudHMgQVBJIGZvciBhIGZ1bGwgbGlzdCBvZiBwYXJhbWV0ZXJzLlxuICAgICAgICAgKi9cbiAgICAgICAgZGF0YT86IFN0cmlwZUNvbmZpcm1DYXJkUGF5bWVudERhdGEsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIG9wdGlvbnMgb2JqZWN0IHRvIGNvbnRyb2wgdGhlIGJlaGF2aW9yIG9mIHRoaXMgbWV0aG9kLlxuICAgICAgICAgKi9cbiAgICAgICAgb3B0aW9ucz86IFN0cmlwZUNvbmZpcm1QYXltZW50T3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHsgcGF5bWVudEludGVudD86IFBheW1lbnRJbnRlbnQ7IGVycm9yPzogU3RyaXBlRXJyb3IgfT47XG5cbiAgICAvKlxuICAgICAqIEBkb2NzIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL3BheW1lbnRfaW50ZW50cy9jb25maXJtX2lkZWFsX3BheW1lbnRcbiAgICAgKlxuICAgICAqIFVzZSBgc3RyaXBlLmNvbmZpcm1JZGVhbFBheW1lbnRgIGluIHRoZSBbaURFQUwgUGF5bWVudHMgd2l0aCBQYXltZW50IE1ldGhvZHNdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3BheW1lbnRzL2lkZWFsKVxuICAgICAqIGZsb3cgd2hlbiB0aGUgY3VzdG9tZXIgc3VibWl0cyB5b3VyIHBheW1lbnQgZm9ybS4gV2hlbiBjYWxsZWQsIGl0IHdpbGwgY29uZmlybSB0aGUgYFBheW1lbnRJbnRlbnRgIHdpdGggYGRhdGFgIHlvdVxuICAgICAqIHByb3ZpZGUsIGFuZCBpdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVkaXJlY3QgdGhlIGN1c3RvbWVyIHRvIHRoZSBhdXRob3JpemUgdGhlIHRyYW5zYWN0aW9uLlxuICAgICAqIE9uY2UgYXV0aG9yaXphdGlvbiBpcyBjb21wbGV0ZSwgdGhlIGN1c3RvbWVyIHdpbGwgYmUgcmVkaXJlY3RlZCBiYWNrIHRvIHlvdXIgc3BlY2lmaWVkIGByZXR1cm5fdXJsYC5cbiAgICAgKlxuICAgICAqIFdoZW4geW91IGNvbmZpcm0gYSBgUGF5bWVudEludGVudGAsIGl0IG5lZWRzIHRvIGhhdmUgYW4gYXR0YWNoZWQgW1BheW1lbnRNZXRob2RdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X21ldGhvZHMpLlxuICAgICAqIEluIGFkZGl0aW9uIHRvIGNvbmZpcm1pbmcgdGhlIGBQYXltZW50SW50ZW50YCwgdGhpcyBtZXRob2QgY2FuIGF1dG9tYXRpY2FsbHkgY3JlYXRlIGFuZCBhdHRhY2ggYSBuZXcgYFBheW1lbnRNZXRob2RgIGZvciB5b3UuXG4gICAgICogSXQgY2FuIGFsc28gYmUgY2FsbGVkIHdpdGggYW4gZXhpc3RpbmcgYFBheW1lbnRNZXRob2RgLCBvciBpZiB5b3UgaGF2ZSBhbHJlYWR5IGF0dGFjaGVkIGEgUGF5bWVudE1ldGhvZCB5b3UgY2FuIGNhbGwgdGhpc1xuICAgICAqIG1ldGhvZCB3aXRob3V0IG5lZWRpbmcgdG8gcHJvdmlkZSBhbnkgYWRkaXRpb25hbCBkYXRhLiBUaGVzZSB1c2UgY2FzZXMgYXJlIGRldGFpbGVkIGluIHRoZSBzZWN0aW9ucyB0aGF0IGZvbGxvdy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zXG4gICAgICogQnkgZGVmYXVsdCwgYHN0cmlwZS5jb25maXJtSWRlYWxQYXltZW50YCB3aWxsIHRyaWdnZXIgYSByZWRpcmVjdCB3aGVuIHN1Y2Nlc3NmdWwuIElmIHRoZXJlIGlzIGFuIGVycm9yLCBvciB3aGVuIGhhbmRsaW5nXG4gICAgICogbmV4dCBhY3Rpb25zIG1hbnVhbGx5IGJ5IHVzaW5nIHRoZSBgaGFuZGxlQWN0aW9uczogZmFsc2VgIG9wdGlvbiwgaXQgd2lsbCByZXR1cm4gYSBgUHJvbWlzZWAgd2hpY2ggcmVzb2x2ZXMgd2l0aCBhIGByZXN1bHRgXG4gICAgICogb2JqZWN0LiBUaGlzIG9iamVjdCBoYXMgZWl0aGVyOlxuICAgICAqXG4gICAgICogLSByZXN1bHQucGF5bWVudEludGVudDogdGhlIHN1Y2Nlc3NmdWwgUGF5bWVudEludGVudC5cbiAgICAgKiAtIHJlc3VsdC5lcnJvcjogYW4gZXJyb3IuIFJlZmVyIHRvIHRoZSBBUEkgcmVmZXJlbmNlIGZvciBhbGwgcG9zc2libGUgZXJyb3JzLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IGBzdHJpcGUuY29uZmlybUlkZWFsUGF5bWVudGAgbWF5IHRha2Ugc2V2ZXJhbCBzZWNvbmRzIHRvIGNvbXBsZXRlLiBEdXJpbmcgdGhhdCB0aW1lLCB5b3Ugc2hvdWxkIGRpc2FibGVcbiAgICAgKiB5b3VyIGZvcm0gZnJvbSBiZWluZyByZXN1Ym1pdHRlZCBhbmQgc2hvdyBhIHdhaXRpbmcgaW5kaWNhdG9yIGxpa2UgYSBzcGlubmVyLiBJZiB5b3UgcmVjZWl2ZSBhbiBlcnJvciByZXN1bHQsXG4gICAgICogeW91IHNob3VsZCBiZSBzdXJlIHRvIHNob3cgdGhhdCBlcnJvciB0byB0aGUgY3VzdG9tZXIsIHJlLWVuYWJsZSB0aGUgZm9ybSwgYW5kIGhpZGUgdGhlIHdhaXRpbmcgaW5kaWNhdG9yLlxuICAgICAqL1xuICAgIGNvbmZpcm1JZGVhbFBheW1lbnQoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgW2NsaWVudCBzZWNyZXRdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X2ludGVudHMvb2JqZWN0I3BheW1lbnRfaW50ZW50X29iamVjdC1jbGllbnRfc2VjcmV0KSBvZiB0aGUgUGF5bWVudEludGVudC5cbiAgICAgICAgICovXG4gICAgICAgIGNsaWVudFNlY3JldDogc3RyaW5nLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEYXRhIHRvIGJlIHNlbnQgd2l0aCB0aGUgcmVxdWVzdC4gUmVmZXIgdG8gdGhlIFBheW1lbnQgSW50ZW50cyBBUEkgZm9yIGEgZnVsbCBsaXN0IG9mIHBhcmFtZXRlcnMuXG4gICAgICAgICAqL1xuICAgICAgICBkYXRhPzogU3RyaXBlQ29uZmlybUlkZWFsUGF5bWVudERhdGEsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIG9wdGlvbnMgb2JqZWN0IHRvIGNvbnRyb2wgdGhlIGJlaGF2aW9yIG9mIHRoaXMgbWV0aG9kLlxuICAgICAgICAgKi9cbiAgICAgICAgb3B0aW9ucz86IFN0cmlwZUNvbmZpcm1QYXltZW50T3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHsgcGF5bWVudEludGVudD86IFBheW1lbnRJbnRlbnQ7IGVycm9yPzogU3RyaXBlRXJyb3IgfT47XG5cbiAgICAvKlxuICAgICAqXG4gICAgICogVXNlIGBzdHJpcGUuY29uZmlybVNlcGFEZWJpdFBheW1lbnRgIGluIHRoZSBbU0VQQSBEaXJlY3QgRGViaXQgUGF5bWVudHNdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3BheW1lbnRzL3NlcGEtZGViaXQpXG4gICAgICogd2l0aCBQYXltZW50IE1ldGhvZHMgZmxvdyB3aGVuIHRoZSBjdXN0b21lciBzdWJtaXRzIHlvdXIgcGF5bWVudCBmb3JtLiBXaGVuIGNhbGxlZCwgaXQgd2lsbCBjb25maXJtIHRoZVxuICAgICAqIFtQYXltZW50SW50ZW50XShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9pbnRlbnRzKSB3aXRoIGBkYXRhYCB5b3UgcHJvdmlkZS4gTm90ZSB0aGF0IHRoZXJlIGFyZSBzb21lIGFkZGl0aW9uYWxcbiAgICAgKiByZXF1aXJlbWVudHMgdG8gdGhpcyBmbG93IHRoYXQgYXJlIG5vdCBjb3ZlcmVkIGluIHRoaXMgcmVmZXJlbmNlLiBSZWZlciB0byBvdXIgW2ludGVncmF0aW9uIGd1aWRlXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9wYXltZW50cy9zZXBhLWRlYml0XG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIFdoZW4geW91IGNvbmZpcm0gYSBQYXltZW50SW50ZW50LCBpdCBuZWVkcyB0byBoYXZlIGFuIGF0dGFjaGVkIFBheW1lbnRNZXRob2QuIEluIGFkZGl0aW9uIHRvIGNvbmZpcm1pbmcgdGhlIFBheW1lbnRJbnRlbnQsXG4gICAgICogdGhpcyBtZXRob2QgY2FuIGF1dG9tYXRpY2FsbHkgY3JlYXRlIGFuZCBhdHRhY2ggYSBuZXcgUGF5bWVudE1ldGhvZCBmb3IgeW91LiBJZiB5b3UgaGF2ZSBhbHJlYWR5IGF0dGFjaGVkIGFcbiAgICAgKiBbUGF5bWVudE1ldGhvZF0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfbWV0aG9kcykgeW91IGNhbiBjYWxsIHRoaXMgbWV0aG9kIHdpdGhvdXQgbmVlZGluZyB0byBwcm92aWRlIGFueSBhZGRpdGlvbmFsIGRhdGEuXG4gICAgICogVGhlc2UgdXNlIGNhc2VzIGFyZSBkZXRhaWxlZCBpbiB0aGUgc2VjdGlvbnMgdGhhdCBmb2xsb3cuXG4gICAgICpcbiAgICAgKiBAZG9jcyBodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9wYXltZW50X2ludGVudHMvY29uZmlybV9zZXBhX2RlYml0X3BheW1lbnRcbiAgICAgKi9cbiAgICBjb25maXJtU2VwYURlYml0UGF5bWVudChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBbY2xpZW50IHNlY3JldF0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfaW50ZW50cy9vYmplY3QjcGF5bWVudF9pbnRlbnRfb2JqZWN0LWNsaWVudF9zZWNyZXQpIG9mIHRoZSBQYXltZW50SW50ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgY2xpZW50U2VjcmV0OiBzdHJpbmcsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERhdGEgdG8gYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0LiBSZWZlciB0byB0aGUgW1BheW1lbnQgSW50ZW50cyBBUEldKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X2ludGVudHMvY29uZmlybSkgZm9yIGEgZnVsbCBsaXN0IG9mIHBhcmFtZXRlcnMuXG4gICAgICAgICAqL1xuICAgICAgICBkYXRhPzogU3RyaXBlQ29uZmlybVNlcGFQYXltZW50RGF0YSxcbiAgICApOiBQcm9taXNlPHsgcGF5bWVudEludGVudD86IFBheW1lbnRJbnRlbnQ7IGVycm9yPzogU3RyaXBlRXJyb3IgfT47XG5cbiAgICAvKlxuICAgICAqIFVzZSBzdHJpcGUuY3JlYXRlUGF5bWVudE1ldGhvZCB0byBjb252ZXJ0IHBheW1lbnQgaW5mb3JtYXRpb24gY29sbGVjdGVkIGJ5IGVsZW1lbnRzIGludG8gYSBQYXltZW50TWV0aG9kXG4gICAgICogb2JqZWN0IHRoYXQgeW91IHNhZmVseSBwYXNzIHRvIHlvdXIgc2VydmVyIHRvIHVzZSBpbiBhbiBBUEkgY2FsbC5cbiAgICAgKlxuICAgICAqIEBkb2NzIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL3BheW1lbnRfbWV0aG9kcy9jcmVhdGVfcGF5bWVudF9tZXRob2RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0eXBlOiBTdHJpbmcsIFRoZSB0eXBlIG9mIHRoZSBQYXltZW50TWV0aG9kIHRvIGNyZWF0ZS4gUmVmZXIgdG8gdGhlIFBheW1lbnRNZXRob2QgQVBJIGZvciBhbGwgcG9zc2libGUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSBjYXJkOiBTdHJpcGVFbGVtZW50LCBBIGNhcmQgb3IgY2FyZE51bWJlciBFbGVtZW50LlxuICAgICAqIEBwYXJhbSBiaWxsaW5nX2RldGFpbHM6IFN0cmlwZUJpbGxpbmdEZXRhaWxzLCBCaWxsaW5nIGluZm9ybWF0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGUgUGF5bWVudE1ldGhvZCB0aGF0XG4gICAgICogbWF5IGJlIHVzZWQgb3IgcmVxdWlyZWQgYnkgcGFydGljdWxhciB0eXBlcyBvZiBwYXltZW50IG1ldGhvZHMuXG4gICAgICovXG4gICAgY3JlYXRlUGF5bWVudE1ldGhvZChcbiAgICAgICAgcGFyYW1zOiBDcmVhdGVQYXltZW50TWV0aG9kUGFyYW1zLFxuICAgICk6IFByb21pc2U8eyBwYXltZW50TWV0aG9kPzogUGF5bWVudE1ldGhvZDsgZXJyb3I/OiBTdHJpcGVFcnJvciB9PjtcblxuICAgIC8qXG4gICAgICogVXNlIHN0cmlwZS5oYW5kbGVDYXJkQWN0aW9uIGluIHRoZSBQYXltZW50IEludGVudHMgQVBJIG1hbnVhbCBjb25maXJtYXRpb24gZmxvdyB0byBoYW5kbGUgYSBQYXltZW50SW50ZW50XG4gICAgICogd2l0aCB0aGUgcmVxdWlyZXNfYWN0aW9uIHN0YXR1cy4gSXQgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgUGF5bWVudEludGVudCBoYXMgYSBkaWZmZXJlbnQgc3RhdHVzLlxuICAgICAqXG4gICAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvcGF5bWVudF9pbnRlbnRzL2hhbmRsZV9jYXJkX2FjdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHBheW1lbnRJbnRlbnRDbGllbnRTZWNyZXQ6IFN0cmluZywgVGhlIGNsaWVudCBzZWNyZXQgb2YgdGhlIFBheW1lbnRJbnRlbnQgdG8gaGFuZGxlLlxuICAgICAqL1xuICAgIGhhbmRsZUNhcmRBY3Rpb24oXG4gICAgICAgIHBheW1lbnRJbnRlbnRDbGllbnRTZWNyZXQ6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPHsgcGF5bWVudEludGVudD86IFBheW1lbnRJbnRlbnQ7IGVycm9yPzogU3RyaXBlRXJyb3IgfT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlUGF5bWVudE1ldGhvZFBhcmFtcyB7XG4gICAgdHlwZTogU3RyaXBlUGF5bWVudE1ldGhvZFR5cGU7XG4gICAgY2FyZDogU3RyaXBlRWxlbWVudDtcbiAgICBiaWxsaW5nX2RldGFpbHM/OiBTdHJpcGVCaWxsaW5nRGV0YWlscztcbiAgICBhbGxvd19yZWRpc3BsYXk/OiAnYWx3YXlzJyB8ICdsaW1pdGVkJyB8ICd1bnNwZWNpZmllZCc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlSG9zdFdpbmRvdyBleHRlbmRzIFdpbmRvdyB7XG4gICAgU3RyaXBlPyhzdHJpcGVQdWJsaXNoYWJsZUtleTogc3RyaW5nLCBvcHRpb25zPzogU3RyaXBlQ29uZmlndXJhdGlvbk9wdGlvbnMpOiBTdHJpcGVWM0NsaWVudDtcbn1cblxuZXhwb3J0IGVudW0gU3RyaXBlRWxlbWVudFR5cGUge1xuICAgIEFsaXBheSA9ICdhbGlwYXknLFxuICAgIENhcmRDdmMgPSAnY2FyZEN2YycsXG4gICAgQ2FyZEV4cGlyeSA9ICdjYXJkRXhwaXJ5JyxcbiAgICBDYXJkTnVtYmVyID0gJ2NhcmROdW1iZXInLFxuICAgIENyZWRpdENhcmQgPSAnY2FyZCcsXG4gICAgSURFQUwgPSAnaWRlYWxCYW5rJyxcbiAgICBTZXBhID0gJ2liYW4nLFxufVxuXG5leHBvcnQgZW51bSBTdHJpcGVQYXltZW50TWV0aG9kVHlwZSB7XG4gICAgQWxpcGF5ID0gJ2FsaXBheScsXG4gICAgQ3JlZGl0Q2FyZCA9ICdjYXJkJyxcbiAgICBJREVBTCA9ICdpZGVhbCcsXG4gICAgU2VwYSA9ICdzZXBhX2RlYml0Jyxcbn1cblxuLyoqXG4gKiBJbml0aWFsaXphdGlvbiBvcHRpb25zLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUNvbmZpZ3VyYXRpb25PcHRpb25zIHtcbiAgICAvKipcbiAgICAgKiBGb3IgdXNhZ2Ugd2l0aCBbQ29ubmVjdF0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvY29ubmVjdCkgb25seS5cbiAgICAgKiBTcGVjaWZ5aW5nIGEgY29ubmVjdGVkIGFjY291bnQgSUQgKGUuZy4sIGFjY3RfMjRCRk1wSjFzdlI1QTg5aykgYWxsb3dzIHlvdSB0byBwZXJmb3JtIGFjdGlvbnMgb24gYmVoYWxmIG9mIHRoYXQgYWNjb3VudC5cbiAgICAgKi9cbiAgICBzdHJpcGVBY2NvdW50OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSB5b3VyIGFjY291bnQncyBbQVBJIHZlcnNpb25dKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS92ZXJzaW9uaW5nKVxuICAgICAqL1xuICAgIGFwaVZlcnNpb24/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBIGxvY2FsZSB1c2VkIHRvIGdsb2JhbGx5IGNvbmZpZ3VyZSBsb2NhbGl6YXRpb24gaW4gU3RyaXBlLiBTZXR0aW5nIHRoZSBsb2NhbGUgaGVyZSB3aWxsIGxvY2FsaXplIGVycm9yIHN0cmluZ3MgZm9yIGFsbCBTdHJpcGUuanMgbWV0aG9kcy4gSXQgd2lsbCBhbHNvIGNvbmZpZ3VyZSB0aGUgbG9jYWxlIGZvciBFbGVtZW50cyBhbmQgQ2hlY2tvdXQuIERlZmF1bHQgaXMgYXV0byAoU3RyaXBlIGRldGVjdHMgdGhlIGxvY2FsZSBvZiB0aGUgYnJvd3NlcikuXG4gICAgICogTm90ZSB0aGF0IENoZWNrb3V0IHN1cHBvcnRzIGEgc2xpZ2h0bHkgZGlmZmVyZW50IHNldCBvZiBsb2NhbGVzIHRoYW4gU3RyaXBlLmpzLlxuICAgICAqL1xuICAgIGxvY2FsZT86IHN0cmluZztcblxuICAgIGJldGFzPzogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQWRkaXRpb25hbEFjdGlvbkRhdGEge1xuICAgIHJlZGlyZWN0X3VybD86IHN0cmluZztcbiAgICBpbnRlbnQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQWRkaXRpb25hbEFjdGlvbiB7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGRhdGE6IFN0cmlwZUFkZGl0aW9uYWxBY3Rpb25EYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUNhcmRFbGVtZW50cyB7XG4gICAgW2luZGV4OiBudW1iZXJdOiBTdHJpcGVFbGVtZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEluZGl2aWR1YWxDYXJkRWxlbWVudE9wdGlvbnMge1xuICAgIGNhcmRDdmNFbGVtZW50T3B0aW9uczogQ2FyZEN2Y0VsZW1lbnRPcHRpb25zO1xuICAgIGNhcmRFeHBpcnlFbGVtZW50T3B0aW9uczogQ2FyZEV4cGlyeUVsZW1lbnRPcHRpb25zO1xuICAgIGNhcmROdW1iZXJFbGVtZW50T3B0aW9uczogQ2FyZE51bWJlckVsZW1lbnRPcHRpb25zO1xuICAgIHppcENvZGVFbGVtZW50T3B0aW9ucz86IFppcENvZGVFbGVtZW50T3B0aW9ucztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVWM1BheW1lbnRNZXRob2QgZXh0ZW5kcyBQYXltZW50TWV0aG9kIHtcbiAgICBpbml0aWFsaXphdGlvbkRhdGE6IFN0cmlwZVYzSW5pdGlhbGl6YXRpb25EYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZVYzSW5pdGlhbGl6YXRpb25EYXRhIHtcbiAgICBzdHJpcGVQdWJsaXNoYWJsZUtleTogc3RyaW5nO1xuICAgIHN0cmlwZUNvbm5lY3RlZEFjY291bnQ6IHN0cmluZztcbiAgICB1c2VJbmRpdmlkdWFsQ2FyZEZpZWxkczogYm9vbGVhbjtcbiAgICBhbGxvd1JlZGlzcGxheUZvclN0b3JlZEluc3RydW1lbnRzPzogYm9vbGVhbjtcbn1cbiIsImltcG9ydCB7IFN0YW5kYXJkRXJyb3IgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuZXhwb3J0IGVudW0gU3RyaXBlVjNFcnJvclR5cGUge1xuICAgIEF1dGhGYWlsdXJlID0gJ2F1dGhfZmFpbHVyZScsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0cmlwZVYzRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBzdWJ0eXBlOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihzdWJ0eXBlOiBTdHJpcGVWM0Vycm9yVHlwZSkge1xuICAgICAgICBzdXBlcihnZXRFcnJvck1lc3NhZ2Uoc3VidHlwZSkpO1xuXG4gICAgICAgIHRoaXMudHlwZSA9ICdzdHJpcGV2M19lcnJvcic7XG4gICAgICAgIHRoaXMuc3VidHlwZSA9IHN1YnR5cGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UodHlwZTogU3RyaXBlVjNFcnJvclR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBTdHJpcGVWM0Vycm9yVHlwZS5BdXRoRmFpbHVyZTpcbiAgICAgICAgICAgIHJldHVybiBgVXNlciBkaWQgbm90IGF1dGhlbnRpY2F0ZWA7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnVGhlcmUgd2FzIGFuIGVycm9yIHdoaWxlIHByb2Nlc3NpbmcgeW91ciBwYXltZW50LiBQbGVhc2UgdHJ5IGFnYWluIG9yIGNvbnRhY3QgdXMuJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBpbmNsdWRlcywgaXNFbXB0eSwgb21pdEJ5LCBzb21lIH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHtcbiAgICBBZGRyZXNzLFxuICAgIEJpbGxpbmdBZGRyZXNzLFxuICAgIEN1c3RvbWVyLFxuICAgIEhvc3RlZEZvcm0sXG4gICAgSG9zdGVkRm9ybU9wdGlvbnMsXG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgaXNCaWxsaW5nQWRkcmVzc0xpa2UsXG4gICAgaXNIb3N0ZWRJbnN0cnVtZW50TGlrZSxcbiAgICBpc1JlcXVlc3RFcnJvcixcbiAgICBpc1ZhdWx0ZWRJbnN0cnVtZW50LFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvcixcbiAgICBOb3RJbml0aWFsaXplZEVycm9yVHlwZSxcbiAgICBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IsXG4gICAgT3JkZXJQYXltZW50UmVxdWVzdEJvZHksXG4gICAgT3JkZXJSZXF1ZXN0Qm9keSxcbiAgICBQYXltZW50LFxuICAgIFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcixcbiAgICBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICBQYXltZW50TWV0aG9kLFxuICAgIFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcixcbiAgICBQYXltZW50UmVxdWVzdE9wdGlvbnMsXG4gICAgUGF5bWVudFN0cmF0ZWd5LFxuICAgIFN0cmlwZVYzRm9ybWF0dGVkUGF5bG9hZCxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBpc0luZGl2aWR1YWxDYXJkRWxlbWVudE9wdGlvbnMgZnJvbSAnLi9pcy1pbmRpdmlkdWFsLWNhcmQtZWxlbWVudC1vcHRpb25zJztcbmltcG9ydCB7XG4gICAgUGF5bWVudEludGVudCxcbiAgICBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uLFxuICAgIFN0cmlwZUFkZHJlc3MsXG4gICAgU3RyaXBlQmlsbGluZ0RldGFpbHMsXG4gICAgU3RyaXBlQ2FyZEVsZW1lbnRzLFxuICAgIFN0cmlwZUNvbmZpcm1JZGVhbFBheW1lbnREYXRhLFxuICAgIFN0cmlwZUNvbmZpcm1QYXltZW50RGF0YSxcbiAgICBTdHJpcGVDb25maXJtU2VwYVBheW1lbnREYXRhLFxuICAgIFN0cmlwZUVsZW1lbnQsXG4gICAgU3RyaXBlRWxlbWVudE9wdGlvbnMsXG4gICAgU3RyaXBlRWxlbWVudHMsXG4gICAgU3RyaXBlRWxlbWVudFR5cGUsXG4gICAgU3RyaXBlRXJyb3IsXG4gICAgUGF5bWVudE1ldGhvZCBhcyBTdHJpcGVQYXltZW50TWV0aG9kLFxuICAgIFN0cmlwZVBheW1lbnRNZXRob2RUeXBlLFxuICAgIFN0cmlwZVYzQ2xpZW50LFxuICAgIFN0cmlwZVYzUGF5bWVudE1ldGhvZCxcbn0gZnJvbSAnLi9zdHJpcGV2Myc7XG5pbXBvcnQgU3RyaXBlVjNFcnJvciwgeyBTdHJpcGVWM0Vycm9yVHlwZSB9IGZyb20gJy4vc3RyaXBldjMtZXJyb3InO1xuaW1wb3J0IFN0cmlwZVYzUGF5bWVudEluaXRpYWxpemVPcHRpb25zLCB7XG4gICAgV2l0aFN0cmlwZVYzUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxufSBmcm9tICcuL3N0cmlwZXYzLWluaXRpYWxpemUtb3B0aW9ucyc7XG5pbXBvcnQgU3RyaXBlVjNTY3JpcHRMb2FkZXIgZnJvbSAnLi9zdHJpcGV2My1zY3JpcHQtbG9hZGVyJztcblxuY29uc3QgQVBNX1JFRElSRUNUID0gW1N0cmlwZUVsZW1lbnRUeXBlLkFsaXBheSwgU3RyaXBlRWxlbWVudFR5cGUuSURFQUxdO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdHJpcGVWM1BheW1lbnRTdHJhdGVneSBpbXBsZW1lbnRzIFBheW1lbnRTdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBpbml0aWFsaXplT3B0aW9ucz86IFN0cmlwZVYzUGF5bWVudEluaXRpYWxpemVPcHRpb25zO1xuICAgIHByaXZhdGUgc3RyaXBlVjNDbGllbnQ/OiBTdHJpcGVWM0NsaWVudDtcbiAgICBwcml2YXRlIHN0cmlwZUVsZW1lbnRzPzogU3RyaXBlRWxlbWVudHM7XG4gICAgcHJpdmF0ZSBzdHJpcGVFbGVtZW50PzogU3RyaXBlRWxlbWVudDtcbiAgICBwcml2YXRlIHN0cmlwZUNhcmRFbGVtZW50cz86IFN0cmlwZUNhcmRFbGVtZW50cztcbiAgICBwcml2YXRlIHVzZUluZGl2aWR1YWxDYXJkRmllbGRzPzogYm9vbGVhbjtcbiAgICBwcml2YXRlIGhvc3RlZEZvcm0/OiBIb3N0ZWRGb3JtO1xuICAgIHByaXZhdGUgaXNEZWluaXRpYWxpemU/OiBib29sZWFuO1xuICAgIHByaXZhdGUgX2FsbG93UmVkaXNwbGF5Rm9yU3RvcmVkSW5zdHJ1bWVudHM/OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBzY3JpcHRMb2FkZXI6IFN0cmlwZVYzU2NyaXB0TG9hZGVyLFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUob3B0aW9uczogUGF5bWVudEluaXRpYWxpemVPcHRpb25zICYgV2l0aFN0cmlwZVYzUGF5bWVudEluaXRpYWxpemVPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgc3RyaXBldjMsIG1ldGhvZElkLCBnYXRld2F5SWQgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgaWYgKCFnYXRld2F5SWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwiZ2F0ZXdheUlkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbml0aWFsaXplT3B0aW9ucyA9IHN0cmlwZXYzO1xuICAgICAgICB0aGlzLmlzRGVpbml0aWFsaXplID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZVxuICAgICAgICAgICAgLmdldFN0YXRlKClcbiAgICAgICAgICAgIC5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25EYXRhOiB7XG4gICAgICAgICAgICAgICAgc3RyaXBlUHVibGlzaGFibGVLZXksXG4gICAgICAgICAgICAgICAgc3RyaXBlQ29ubmVjdGVkQWNjb3VudCxcbiAgICAgICAgICAgICAgICB1c2VJbmRpdmlkdWFsQ2FyZEZpZWxkcyxcbiAgICAgICAgICAgICAgICBhbGxvd1JlZGlzcGxheUZvclN0b3JlZEluc3RydW1lbnRzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSA9IHBheW1lbnRNZXRob2QgYXMgU3RyaXBlVjNQYXltZW50TWV0aG9kO1xuXG4gICAgICAgIHRoaXMuX2FsbG93UmVkaXNwbGF5Rm9yU3RvcmVkSW5zdHJ1bWVudHMgPSBhbGxvd1JlZGlzcGxheUZvclN0b3JlZEluc3RydW1lbnRzO1xuXG4gICAgICAgIGNvbnN0IGZvcm0gPSB0aGlzLmdldEluaXRpYWxpemVPcHRpb25zKCkuZm9ybTtcblxuICAgICAgICB0aGlzLnVzZUluZGl2aWR1YWxDYXJkRmllbGRzID0gdXNlSW5kaXZpZHVhbENhcmRGaWVsZHM7XG4gICAgICAgIHRoaXMuc3RyaXBlVjNDbGllbnQgPSBhd2FpdCB0aGlzLmxvYWRTdHJpcGVKcyhzdHJpcGVQdWJsaXNoYWJsZUtleSwgc3RyaXBlQ29ubmVjdGVkQWNjb3VudCk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5pc0NyZWRpdENhcmQobWV0aG9kSWQpICYmXG4gICAgICAgICAgICB0aGlzLnNob3VsZFNob3dUU1ZIb3N0ZWRGb3JtKG1ldGhvZElkLCBnYXRld2F5SWQpICYmXG4gICAgICAgICAgICBmb3JtXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5ob3N0ZWRGb3JtID0gYXdhaXQgdGhpcy5tb3VudENhcmRWZXJpZmljYXRpb25GaWVsZHMoZm9ybSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnQgPSBhd2FpdCB0aGlzLm1vdW50Q2FyZEZpZWxkcyhtZXRob2RJZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBleGVjdXRlKG9yZGVyUmVxdWVzdDogT3JkZXJSZXF1ZXN0Qm9keSwgb3B0aW9ucz86IFBheW1lbnRSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IHBheW1lbnQsIC4uLm9yZGVyIH0gPSBvcmRlclJlcXVlc3Q7XG5cbiAgICAgICAgbGV0IGZvcm1hdHRlZFBheWxvYWQ6IFN0cmlwZVYzRm9ybWF0dGVkUGF5bG9hZDtcbiAgICAgICAgbGV0IHN0cmlwZUVycm9yOiBTdHJpcGVFcnJvciB8IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoIXBheW1lbnQgfHwgIXBheW1lbnQucGF5bWVudERhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IoWydwYXltZW50LnBheW1lbnREYXRhJ10pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBwYXltZW50RGF0YSwgZ2F0ZXdheUlkLCBtZXRob2RJZCB9ID0gcGF5bWVudDtcblxuICAgICAgICBjb25zdCB7IHNob3VsZFNhdmVJbnN0cnVtZW50LCBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50IH0gPSBpc0hvc3RlZEluc3RydW1lbnRMaWtlKFxuICAgICAgICAgICAgcGF5bWVudERhdGEsXG4gICAgICAgIClcbiAgICAgICAgICAgID8gcGF5bWVudERhdGFcbiAgICAgICAgICAgIDogeyBzaG91bGRTYXZlSW5zdHJ1bWVudDogZmFsc2UsIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQ6IGZhbHNlIH07XG5cbiAgICAgICAgY29uc3Qgc2hvdWxkU3VibWl0T3JkZXJCZWZvcmVMb2FkaW5nQVBNID0gaW5jbHVkZXMoQVBNX1JFRElSRUNULCBtZXRob2RJZCk7XG5cbiAgICAgICAgY29uc3QgeyBpc1N0b3JlQ3JlZGl0QXBwbGllZDogdXNlU3RvcmVDcmVkaXQgfSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZVxuICAgICAgICAgICAgLmdldFN0YXRlKClcbiAgICAgICAgICAgIC5nZXRDaGVja291dE9yVGhyb3coKTtcblxuICAgICAgICBpZiAodXNlU3RvcmVDcmVkaXQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5hcHBseVN0b3JlQ3JlZGl0KHVzZVN0b3JlQ3JlZGl0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkU3VibWl0T3JkZXJCZWZvcmVMb2FkaW5nQVBNKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKG9yZGVyLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGdhdGV3YXlJZCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChnYXRld2F5SWQsIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7IG1ldGhvZDogbWV0aG9kSWQgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcblxuICAgICAgICAgICAgaWYgKGlzVmF1bHRlZEluc3RydW1lbnQocGF5bWVudERhdGEpKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKG9yZGVyLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHsgaW5zdHJ1bWVudElkIH0gPSBwYXltZW50RGF0YTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cocGF5bWVudC5tZXRob2RJZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xpZW50VG9rZW4gPSBwYXltZW50TWV0aG9kLmNsaWVudFRva2VuO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFjbGllbnRUb2tlbikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZXhlY3V0ZVdpdGhWYXVsdGVkKFxuICAgICAgICAgICAgICAgICAgICBwYXltZW50LFxuICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50SWQsXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudFRva2VuLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmNvbmZpcm1TdHJpcGVQYXltZW50KHBheW1lbnRNZXRob2QpO1xuICAgICAgICAgICAgY29uc3QgeyBjbGllbnRUb2tlbiwgbWV0aG9kIH0gPSBwYXltZW50TWV0aG9kO1xuICAgICAgICAgICAgY29uc3QgeyBpZDogdG9rZW4gfSA9IHJlc3VsdC5wYXltZW50SW50ZW50ID8/IHJlc3VsdC5wYXltZW50TWV0aG9kID8/IHsgaWQ6ICcnIH07XG5cbiAgICAgICAgICAgIHN0cmlwZUVycm9yID0gcmVzdWx0LmVycm9yO1xuXG4gICAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkID0ge1xuICAgICAgICAgICAgICAgIGNyZWRpdF9jYXJkX3Rva2VuOiB7IHRva2VuIH0sXG4gICAgICAgICAgICAgICAgdmF1bHRfcGF5bWVudF9pbnN0cnVtZW50OiBzaG91bGRTYXZlSW5zdHJ1bWVudCxcbiAgICAgICAgICAgICAgICBjb25maXJtOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzZXRfYXNfZGVmYXVsdF9zdG9yZWRfaW5zdHJ1bWVudDogc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChtZXRob2QgPT09IFN0cmlwZUVsZW1lbnRUeXBlLkNyZWRpdENhcmQpIHtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkLmNsaWVudF90b2tlbiA9IGNsaWVudFRva2VuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXNob3VsZFN1Ym1pdE9yZGVyQmVmb3JlTG9hZGluZ0FQTSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihvcmRlciwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnRQYXlsb2FkID0gdGhpcy5idWlsZFBheW1lbnRQYXlsb2FkKFxuICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQsXG4gICAgICAgICAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHBheW1lbnRQYXlsb2FkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucHJvY2Vzc0FkZGl0aW9uYWxBY3Rpb24oXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVFbXB0eVBheW1lbnRJbnRlbnRFcnJvcihlcnJvciwgc3RyaXBlRXJyb3IpLFxuICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgIHNob3VsZFNhdmVJbnN0cnVtZW50LFxuICAgICAgICAgICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmluYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yKCkpO1xuICAgIH1cblxuICAgIGRlaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuaG9zdGVkRm9ybSkge1xuICAgICAgICAgICAgdGhpcy5ob3N0ZWRGb3JtLmRldGFjaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc0RlaW5pdGlhbGl6ZSA9IHRydWU7XG4gICAgICAgIHRoaXMudW5tb3VudEVsZW1lbnQoKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZFBheW1lbnRQYXlsb2FkKFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkOiBTdHJpcGVWM0Zvcm1hdHRlZFBheWxvYWQsXG4gICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQ6IGJvb2xlYW4gfCB1bmRlZmluZWQsXG4gICAgKTogUGF5bWVudCB7XG4gICAgICAgIGNvbnN0IHBheW1lbnREYXRhID0gc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudFxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgLi4uZm9ybWF0dGVkUGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgICBzZXRfYXNfZGVmYXVsdF9zdG9yZWRfaW5zdHJ1bWVudDogc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogeyBmb3JtYXR0ZWRQYXlsb2FkIH07XG5cbiAgICAgICAgcmV0dXJuIHsgbWV0aG9kSWQsIHBheW1lbnREYXRhIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0NhbmNlbGxhdGlvbkVycm9yKHN0cmlwZUVycm9yOiBTdHJpcGVFcnJvciB8IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgc3RyaXBlRXJyb3IgJiZcbiAgICAgICAgICAgIHN0cmlwZUVycm9yLnBheW1lbnRfaW50ZW50Lmxhc3RfcGF5bWVudF9lcnJvcj8ubWVzc2FnZT8uaW5kZXhPZignY2FuY2VsZWQnKSAhPT0gLTFcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzQXV0aEVycm9yKHN0cmlwZUVycm9yOiBTdHJpcGVFcnJvciB8IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc3RyaXBlRXJyb3I/LmNvZGUgPT09ICdwYXltZW50X2ludGVudF9hdXRoZW50aWNhdGlvbl9mYWlsdXJlJztcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzQ3JlZGl0Q2FyZChtZXRob2RJZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBtZXRob2RJZCA9PT0gU3RyaXBlUGF5bWVudE1ldGhvZFR5cGUuQ3JlZGl0Q2FyZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzSG9zdGVkRmllbGRBdmFpbGFibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLmdldEluaXRpYWxpemVPcHRpb25zKCk7XG4gICAgICAgIGNvbnN0IGRlZmluZWRGaWVsZHMgPSBvbWl0Qnkob3B0aW9ucy5mb3JtPy5maWVsZHMsIGlzRW1wdHkpO1xuXG4gICAgICAgIHJldHVybiAhaXNFbXB0eShkZWZpbmVkRmllbGRzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzSG9zdGVkUGF5bWVudEZvcm1FbmFibGVkKG1ldGhvZElkOiBzdHJpbmcsIGdhdGV3YXlJZD86IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCB7IGdldFBheW1lbnRNZXRob2RPclRocm93IH0gPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IGdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkLCBnYXRld2F5SWQpO1xuXG4gICAgICAgIHJldHVybiBCb29sZWFuKHBheW1lbnRNZXRob2QuY29uZmlnLmlzSG9zdGVkRm9ybUVuYWJsZWQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgY29uZmlybVN0cmlwZVBheW1lbnQocGF5bWVudE1ldGhvZDogUGF5bWVudE1ldGhvZCk6IFByb21pc2U8e1xuICAgICAgICBwYXltZW50SW50ZW50PzogUGF5bWVudEludGVudCB8IHVuZGVmaW5lZDtcbiAgICAgICAgcGF5bWVudE1ldGhvZD86IFN0cmlwZVBheW1lbnRNZXRob2QgfCB1bmRlZmluZWQ7XG4gICAgICAgIGVycm9yPzogU3RyaXBlRXJyb3IgfCB1bmRlZmluZWQ7XG4gICAgfT4ge1xuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuOiBjbGllbnRTZWNyZXQsIG1ldGhvZCwgcmV0dXJuVXJsIH0gPSBwYXltZW50TWV0aG9kO1xuXG4gICAgICAgIGlmICghY2xpZW50U2VjcmV0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKG1ldGhvZCkge1xuICAgICAgICAgICAgY2FzZSBTdHJpcGVFbGVtZW50VHlwZS5BbGlwYXk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RyaXBlSnMoKS5jb25maXJtQWxpcGF5UGF5bWVudChcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50U2VjcmV0LFxuICAgICAgICAgICAgICAgICAgICB7IHJldHVybl91cmw6IHJldHVyblVybCB9LFxuICAgICAgICAgICAgICAgICAgICB7IGhhbmRsZUFjdGlvbnM6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY2FzZSBTdHJpcGVFbGVtZW50VHlwZS5JREVBTDoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLm1hcFN0cmlwZVBheW1lbnREYXRhKFN0cmlwZVBheW1lbnRNZXRob2RUeXBlLklERUFMLCByZXR1cm5VcmwpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RyaXBlSnMoKS5jb25maXJtSWRlYWxQYXltZW50KGNsaWVudFNlY3JldCwgZGF0YSwge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVBY3Rpb25zOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSBTdHJpcGVFbGVtZW50VHlwZS5TZXBhOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMubWFwU3RyaXBlUGF5bWVudERhdGEoU3RyaXBlUGF5bWVudE1ldGhvZFR5cGUuU2VwYSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTdHJpcGVKcygpLmNvbmZpcm1TZXBhRGViaXRQYXltZW50KGNsaWVudFNlY3JldCwgZGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJkID0gdGhpcy51c2VJbmRpdmlkdWFsQ2FyZEZpZWxkc1xuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZ2V0U3RyaXBlQ2FyZEVsZW1lbnRzKClbMF1cbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmdldFN0cmlwZUVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBiaWxsaW5nRGV0YWlscyA9IHRoaXMubWFwU3RyaXBlQmlsbGluZ0RldGFpbHMoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldEJpbGxpbmdBZGRyZXNzKCksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldEN1c3RvbWVyKCksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRBbGxvd1JlZGlzcGxheSA9IHRoaXMuX2FsbG93UmVkaXNwbGF5Rm9yU3RvcmVkSW5zdHJ1bWVudHM7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTdHJpcGVKcygpLmNyZWF0ZVBheW1lbnRNZXRob2Qoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTdHJpcGVQYXltZW50TWV0aG9kVHlwZS5DcmVkaXRDYXJkLFxuICAgICAgICAgICAgICAgICAgICBjYXJkLFxuICAgICAgICAgICAgICAgICAgICBiaWxsaW5nX2RldGFpbHM6IGJpbGxpbmdEZXRhaWxzLFxuICAgICAgICAgICAgICAgICAgICAuLi4oc2hvdWxkQWxsb3dSZWRpc3BsYXkgPyB7IGFsbG93X3JlZGlzcGxheTogJ2Fsd2F5cycgfSA6IHt9KSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgZXhlY3V0ZVdpdGhWYXVsdGVkKFxuICAgICAgICBwYXltZW50OiBPcmRlclBheW1lbnRSZXF1ZXN0Qm9keSxcbiAgICAgICAgdG9rZW46IHN0cmluZyxcbiAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudDogYm9vbGVhbiB8IHVuZGVmaW5lZCxcbiAgICAgICAgY2xpZW50VG9rZW46IHN0cmluZyxcbiAgICApOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWRQYXlsb2FkID0ge1xuICAgICAgICAgICAgYmlncGF5X3Rva2VuOiB7IHRva2VuIH0sXG4gICAgICAgICAgICBjb25maXJtOiB0cnVlLFxuICAgICAgICAgICAgY2xpZW50X3Rva2VuOiBjbGllbnRUb2tlbixcbiAgICAgICAgICAgIHNldF9hc19kZWZhdWx0X3N0b3JlZF9pbnN0cnVtZW50OiBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMuaXNIb3N0ZWRQYXltZW50Rm9ybUVuYWJsZWQocGF5bWVudC5tZXRob2RJZCwgcGF5bWVudC5nYXRld2F5SWQpICYmXG4gICAgICAgICAgICB0aGlzLmhvc3RlZEZvcm1cbiAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBmb3JtID0gdGhpcy5ob3N0ZWRGb3JtO1xuXG4gICAgICAgICAgICBpZiAocGF5bWVudC5wYXltZW50RGF0YSAmJiBpc1ZhdWx0ZWRJbnN0cnVtZW50KHBheW1lbnQucGF5bWVudERhdGEpKSB7XG4gICAgICAgICAgICAgICAgcGF5bWVudC5wYXltZW50RGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucGF5bWVudC5wYXltZW50RGF0YSxcbiAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudElkOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogcGF5bWVudC5wYXltZW50RGF0YT8uaW5zdHJ1bWVudElkIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50X3Rva2VuOiBjbGllbnRUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXdhaXQgZm9ybS52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgYXdhaXQgZm9ybS5zdWJtaXQocGF5bWVudCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZEN1cnJlbnRPcmRlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF5bWVudFBheWxvYWQgPSB0aGlzLmJ1aWxkUGF5bWVudFBheWxvYWQoXG4gICAgICAgICAgICBwYXltZW50Lm1ldGhvZElkLFxuICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZCxcbiAgICAgICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHBheW1lbnRQYXlsb2FkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEluaXRpYWxpemVPcHRpb25zKCk6IFN0cmlwZVYzUGF5bWVudEluaXRpYWxpemVPcHRpb25zIHtcbiAgICAgICAgaWYgKCF0aGlzLmluaXRpYWxpemVPcHRpb25zKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5pdGlhbGl6ZU9wdGlvbnM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRTdHJpcGVDYXJkRWxlbWVudHMoKTogU3RyaXBlQ2FyZEVsZW1lbnRzIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0cmlwZUNhcmRFbGVtZW50cykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnN0cmlwZUNhcmRFbGVtZW50cztcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFN0cmlwZUVsZW1lbnQoKTogU3RyaXBlRWxlbWVudCB7XG4gICAgICAgIGlmICghdGhpcy5zdHJpcGVFbGVtZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyaXBlRWxlbWVudDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFN0cmlwZUpzKCk6IFN0cmlwZVYzQ2xpZW50IHtcbiAgICAgICAgaWYgKCF0aGlzLnN0cmlwZVYzQ2xpZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyaXBlVjNDbGllbnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVFbXB0eVBheW1lbnRJbnRlbnRFcnJvcihlcnJvcjogdW5rbm93biwgc3RyaXBlRXJyb3I6IFN0cmlwZUVycm9yIHwgdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICghaXNSZXF1ZXN0RXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc29tZShlcnJvci5ib2R5LmVycm9ycywgeyBjb2RlOiAncmVxdWlyZWRfZmllbGQnIH0pICYmIHN0cmlwZUVycm9yXG4gICAgICAgICAgICA/IG5ldyBFcnJvcihzdHJpcGVFcnJvci5tZXNzYWdlKVxuICAgICAgICAgICAgOiBlcnJvcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGxvYWRTdHJpcGVKcyhcbiAgICAgICAgc3RyaXBlUHVibGlzaGFibGVLZXk6IHN0cmluZyxcbiAgICAgICAgc3RyaXBlQ29ubmVjdGVkQWNjb3VudDogc3RyaW5nLFxuICAgICk6IFByb21pc2U8U3RyaXBlVjNDbGllbnQ+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RyaXBlVjNDbGllbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5zdHJpcGVWM0NsaWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5zY3JpcHRMb2FkZXIubG9hZChcbiAgICAgICAgICAgIHN0cmlwZVB1Ymxpc2hhYmxlS2V5LFxuICAgICAgICAgICAgc3RyaXBlQ29ubmVjdGVkQWNjb3VudCxcbiAgICAgICAgICAgIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldExvY2FsZSgpLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgbWFwU3RyaXBlQWRkcmVzcyhhZGRyZXNzPzogQWRkcmVzcyk6IFN0cmlwZUFkZHJlc3Mge1xuICAgICAgICBpZiAoYWRkcmVzcykge1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIGNpdHksXG4gICAgICAgICAgICAgICAgY291bnRyeUNvZGU6IGNvdW50cnksXG4gICAgICAgICAgICAgICAgYWRkcmVzczE6IGxpbmUxLFxuICAgICAgICAgICAgICAgIGFkZHJlc3MyOiBsaW5lMixcbiAgICAgICAgICAgICAgICBwb3N0YWxDb2RlLFxuICAgICAgICAgICAgICAgIHN0YXRlT3JQcm92aW5jZUNvZGU6IHN0YXRlLFxuICAgICAgICAgICAgfSA9IGFkZHJlc3M7XG5cbiAgICAgICAgICAgIHJldHVybiB7IGNpdHksIGNvdW50cnksIGxpbmUxLCBsaW5lMiwgcG9zdGFsX2NvZGU6IHBvc3RhbENvZGUsIHN0YXRlIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBsaW5lMTogJycgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1hcFN0cmlwZUJpbGxpbmdEZXRhaWxzKFxuICAgICAgICBiaWxsaW5nQWRkcmVzcz86IEJpbGxpbmdBZGRyZXNzLFxuICAgICAgICBjdXN0b21lcj86IEN1c3RvbWVyLFxuICAgICk6IFN0cmlwZUJpbGxpbmdEZXRhaWxzIHtcbiAgICAgICAgY29uc3QgeyBmaXJzdE5hbWUsIGxhc3ROYW1lIH0gPSBiaWxsaW5nQWRkcmVzcyB8fFxuICAgICAgICAgICAgY3VzdG9tZXIgfHwgeyBmaXJzdE5hbWU6ICdHdWVzdCcsIGxhc3ROYW1lOiAnJyB9O1xuICAgICAgICBjb25zdCBuYW1lID0gYCR7Zmlyc3ROYW1lfSAke2xhc3ROYW1lfWAudHJpbSgpO1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMgfSA9IHRoaXMuZ2V0SW5pdGlhbGl6ZU9wdGlvbnMoKTtcblxuICAgICAgICBpZiAodGhpcy51c2VJbmRpdmlkdWFsQ2FyZEZpZWxkcyAmJiBpc0luZGl2aWR1YWxDYXJkRWxlbWVudE9wdGlvbnMob3B0aW9ucykpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgemlwQ29kZUVsZW1lbnRPcHRpb25zIH0gPSBvcHRpb25zO1xuXG4gICAgICAgICAgICBpZiAoemlwQ29kZUVsZW1lbnRPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9zdGFsQ29kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHppcENvZGVFbGVtZW50T3B0aW9ucy5jb250YWluZXJJZClcbiAgICAgICAgICAgICAgICAgICAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgemlwQ29kZUVsZW1lbnRPcHRpb25zLmNvbnRhaW5lcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICApIGFzIEhUTUxJbnB1dEVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICApLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogJyc7XG5cbiAgICAgICAgICAgICAgICBpZiAocG9zdGFsQ29kZSAmJiBiaWxsaW5nQWRkcmVzcykge1xuICAgICAgICAgICAgICAgICAgICBiaWxsaW5nQWRkcmVzcyA9IHsgLi4uYmlsbGluZ0FkZHJlc3MsIHBvc3RhbENvZGUgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhZGRyZXNzID0ge1xuICAgICAgICAgICAgYWRkcmVzczogdGhpcy5tYXBTdHJpcGVBZGRyZXNzKGJpbGxpbmdBZGRyZXNzKSxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoY3VzdG9tZXIgJiYgY3VzdG9tZXIuYWRkcmVzc2VzWzBdICYmIGlzQmlsbGluZ0FkZHJlc3NMaWtlKGN1c3RvbWVyLmFkZHJlc3Nlc1swXSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1c3RvbWVyQWRkcmVzcyA9IGN1c3RvbWVyLmFkZHJlc3Nlc1swXTtcbiAgICAgICAgICAgIGNvbnN0IHsgZW1haWwgfSA9IGN1c3RvbWVyO1xuICAgICAgICAgICAgY29uc3QgeyBwaG9uZSB9ID0gY3VzdG9tZXJBZGRyZXNzO1xuXG4gICAgICAgICAgICByZXR1cm4gcGhvbmUgPyB7IC4uLmFkZHJlc3MsIGVtYWlsLCBuYW1lLCBwaG9uZSB9IDogeyAuLi5hZGRyZXNzLCBlbWFpbCwgbmFtZSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJpbGxpbmdBZGRyZXNzKSB7XG4gICAgICAgICAgICBjb25zdCB7IGVtYWlsLCBwaG9uZSB9ID0gYmlsbGluZ0FkZHJlc3M7XG5cbiAgICAgICAgICAgIHJldHVybiBwaG9uZSA/IHsgLi4uYWRkcmVzcywgZW1haWwsIG5hbWUsIHBob25lIH0gOiB7IC4uLmFkZHJlc3MsIGVtYWlsLCBuYW1lIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyAuLi5hZGRyZXNzLCBuYW1lIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtYXBTdHJpcGVQYXltZW50RGF0YShcbiAgICAgICAgc3RyaXBlUGF5bWVudE1ldGhvZFR5cGU6IFN0cmlwZVBheW1lbnRNZXRob2RUeXBlLklERUFMLFxuICAgICAgICByZXR1cm5Vcmw/OiBzdHJpbmcsXG4gICAgKTogU3RyaXBlQ29uZmlybUlkZWFsUGF5bWVudERhdGE7XG4gICAgcHJpdmF0ZSBtYXBTdHJpcGVQYXltZW50RGF0YShcbiAgICAgICAgc3RyaXBlUGF5bWVudE1ldGhvZFR5cGU6IFN0cmlwZVBheW1lbnRNZXRob2RUeXBlLlNlcGEsXG4gICAgKTogU3RyaXBlQ29uZmlybVNlcGFQYXltZW50RGF0YTtcbiAgICBwcml2YXRlIG1hcFN0cmlwZVBheW1lbnREYXRhKFxuICAgICAgICBzdHJpcGVQYXltZW50TWV0aG9kVHlwZTogU3RyaXBlUGF5bWVudE1ldGhvZFR5cGUsXG4gICAgICAgIHJldHVyblVybD86IHN0cmluZyxcbiAgICApOiBTdHJpcGVDb25maXJtUGF5bWVudERhdGEge1xuICAgICAgICBjb25zdCBjdXN0b21lciA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldEN1c3RvbWVyKCk7XG4gICAgICAgIGNvbnN0IGJpbGxpbmdBZGRyZXNzID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0QmlsbGluZ0FkZHJlc3MoKTtcblxuICAgICAgICBjb25zdCByZXN1bHQ6IFBhcnRpYWw8U3RyaXBlQ29uZmlybVBheW1lbnREYXRhPiA9IHtcbiAgICAgICAgICAgIHBheW1lbnRfbWV0aG9kOiB7XG4gICAgICAgICAgICAgICAgW3N0cmlwZVBheW1lbnRNZXRob2RUeXBlXTogdGhpcy5nZXRTdHJpcGVFbGVtZW50KCksXG4gICAgICAgICAgICAgICAgYmlsbGluZ19kZXRhaWxzOiB0aGlzLm1hcFN0cmlwZUJpbGxpbmdEZXRhaWxzKGJpbGxpbmdBZGRyZXNzLCBjdXN0b21lciksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChzdHJpcGVQYXltZW50TWV0aG9kVHlwZSA9PT0gU3RyaXBlUGF5bWVudE1ldGhvZFR5cGUuSURFQUwpIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3VsdCwgcmV0dXJuX3VybDogcmV0dXJuVXJsIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHByaXZhdGUgbW91bnRDYXJkRmllbGRzKG1ldGhvZElkOiBzdHJpbmcpOiBQcm9taXNlPFN0cmlwZUVsZW1lbnQ+IHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBjb250YWluZXJJZCB9ID0gdGhpcy5nZXRJbml0aWFsaXplT3B0aW9ucygpO1xuXG4gICAgICAgIGxldCBzdHJpcGVFbGVtZW50OiBTdHJpcGVFbGVtZW50O1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RyaXBlRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnRzID0gdGhpcy5nZXRTdHJpcGVKcygpLmVsZW1lbnRzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaCAobWV0aG9kSWQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFN0cmlwZUVsZW1lbnRUeXBlLkNyZWRpdENhcmQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVzZUluZGl2aWR1YWxDYXJkRmllbGRzICYmIGlzSW5kaXZpZHVhbENhcmRFbGVtZW50T3B0aW9ucyhvcHRpb25zKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmROdW1iZXJFbGVtZW50T3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkRXhwaXJ5RWxlbWVudE9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZEN2Y0VsZW1lbnRPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcmROdW1iZXJFbGVtZW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnRzLmdldEVsZW1lbnQoU3RyaXBlRWxlbWVudFR5cGUuQ2FyZE51bWJlcikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnRzLmNyZWF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaXBlRWxlbWVudFR5cGUuQ2FyZE51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZE51bWJlckVsZW1lbnRPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkRXhwaXJ5RWxlbWVudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50cy5nZXRFbGVtZW50KFN0cmlwZUVsZW1lbnRUeXBlLkNhcmRFeHBpcnkpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50cy5jcmVhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmlwZUVsZW1lbnRUeXBlLkNhcmRFeHBpcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRFeHBpcnlFbGVtZW50T3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FyZEN2Y0VsZW1lbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudHMuZ2V0RWxlbWVudChTdHJpcGVFbGVtZW50VHlwZS5DYXJkQ3ZjKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudHMuY3JlYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpcGVFbGVtZW50VHlwZS5DYXJkQ3ZjLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkQ3ZjRWxlbWVudE9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJpcGVDYXJkRWxlbWVudHMgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZE51bWJlckVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZEV4cGlyeUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZEN2Y0VsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXBlRWxlbWVudCA9IHRoaXMuc3RyaXBlQ2FyZEVsZW1lbnRzWzBdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmROdW1iZXJFbGVtZW50Lm1vdW50KGAjJHtjYXJkTnVtYmVyRWxlbWVudE9wdGlvbnMuY29udGFpbmVySWR9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZEV4cGlyeUVsZW1lbnQubW91bnQoYCMke2NhcmRFeHBpcnlFbGVtZW50T3B0aW9ucy5jb250YWluZXJJZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkQ3ZjRWxlbWVudC5tb3VudChgIyR7Y2FyZEN2Y0VsZW1lbnRPcHRpb25zLmNvbnRhaW5lcklkfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNEZWluaXRpYWxpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdVbmFibGUgdG8gbW91bnQgU3RyaXBlIGNvbXBvbmVudCB3aXRob3V0IHZhbGlkIGNvbnRhaW5lciBJRC4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpcGVFbGVtZW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnRzLmdldEVsZW1lbnQobWV0aG9kSWQpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50cy5jcmVhdGUobWV0aG9kSWQsIG9wdGlvbnMgYXMgU3RyaXBlRWxlbWVudE9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmlwZUVsZW1lbnQubW91bnQoYCMke2NvbnRhaW5lcklkfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNEZWluaXRpYWxpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdVbmFibGUgdG8gbW91bnQgU3RyaXBlIGNvbXBvbmVudCB3aXRob3V0IHZhbGlkIGNvbnRhaW5lciBJRC4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgU3RyaXBlRWxlbWVudFR5cGUuSURFQUw6XG4gICAgICAgICAgICAgICAgY2FzZSBTdHJpcGVFbGVtZW50VHlwZS5TZXBhOlxuICAgICAgICAgICAgICAgICAgICBzdHJpcGVFbGVtZW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudHMuZ2V0RWxlbWVudChtZXRob2RJZCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudHMuY3JlYXRlKG1ldGhvZElkLCBvcHRpb25zIGFzIFN0cmlwZUVsZW1lbnRPcHRpb25zKTtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXBlRWxlbWVudC5tb3VudChgIyR7Y29udGFpbmVySWR9YCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNEZWluaXRpYWxpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdVbmFibGUgdG8gbW91bnQgU3RyaXBlIGNvbXBvbmVudCB3aXRob3V0IHZhbGlkIGNvbnRhaW5lciBJRC4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgU3RyaXBlRWxlbWVudFR5cGUuQWxpcGF5OlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzb2x2ZShzdHJpcGVFbGVtZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBtb3VudENhcmRWZXJpZmljYXRpb25GaWVsZHMoZm9ybU9wdGlvbnM6IEhvc3RlZEZvcm1PcHRpb25zKTogUHJvbWlzZTxIb3N0ZWRGb3JtPiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHN0b3JlQ29uZmlnID0gc3RhdGUuZ2V0U3RvcmVDb25maWcoKTtcblxuICAgICAgICBpZiAoIXN0b3JlQ29uZmlnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ2hlY2tvdXRDb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYmlncGF5QmFzZVVybCA9IHN0b3JlQ29uZmlnLnBheW1lbnRTZXR0aW5ncy5iaWdwYXlCYXNlVXJsO1xuXG4gICAgICAgIGNvbnN0IGZvcm0gPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuY3JlYXRlSG9zdGVkRm9ybShiaWdwYXlCYXNlVXJsLCBmb3JtT3B0aW9ucyk7XG5cbiAgICAgICAgYXdhaXQgZm9ybS5hdHRhY2goKTtcblxuICAgICAgICByZXR1cm4gZm9ybTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHByb2Nlc3NBZGRpdGlvbmFsQWN0aW9uKFxuICAgICAgICBlcnJvcjogdW5rbm93bixcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgc2hvdWxkU2F2ZUluc3RydW1lbnQgPSBmYWxzZSxcbiAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCA9IGZhbHNlLFxuICAgICk6IFByb21pc2U8YW55IHwgbmV2ZXI+IHtcbiAgICAgICAgaWYgKCFpc1JlcXVlc3RFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaXNBZGRpdGlvbmFsQWN0aW9uRXJyb3IgPSBzb21lKGVycm9yLmJvZHkuZXJyb3JzLCB7XG4gICAgICAgICAgICBjb2RlOiAnYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQnLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaXNUaHJlZURTZWN1cmVSZXF1aXJlZEVycm9yID0gc29tZShlcnJvci5ib2R5LmVycm9ycywge1xuICAgICAgICAgICAgY29kZTogJ3RocmVlX2Rfc2VjdXJlX3JlcXVpcmVkJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGlzQWRkaXRpb25hbEFjdGlvbkVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBhY3Rpb246IFN0cmlwZUFkZGl0aW9uYWxBY3Rpb24gPSBlcnJvci5ib2R5LmFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkO1xuXG4gICAgICAgICAgICBpZiAoYWN0aW9uICYmIGFjdGlvbi50eXBlID09PSAncmVkaXJlY3RfdG9fdXJsJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb24uZGF0YS5yZWRpcmVjdF91cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGFjdGlvbi5kYXRhLnJlZGlyZWN0X3VybCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1RocmVlRFNlY3VyZVJlcXVpcmVkRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudFNlY3JldCA9IGVycm9yLmJvZHkudGhyZWVfZHNfcmVzdWx0LnRva2VuO1xuICAgICAgICAgICAgY29uc3QgbmVlZHNDb25maXJtID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgY2F0Y2hlZENvbmZpcm1FcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHJlc3VsdDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBhd2FpdCB0aGlzLmdldFN0cmlwZUpzKCkuY29uZmlybUNhcmRQYXltZW50KGNsaWVudFNlY3JldCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNhdGNoZWRDb25maXJtRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVzdWx0Py5lcnJvcikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ2FuY2VsbGF0aW9uRXJyb3IocmVzdWx0LmVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNBdXRoRXJyb3IocmVzdWx0LmVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3RyaXBlVjNFcnJvcihTdHJpcGVWM0Vycm9yVHlwZS5BdXRoRmFpbHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5lcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSB0aGlzLmdldFBheW1lbnRUb2tlbihcbiAgICAgICAgICAgICAgICByZXN1bHQ/LnBheW1lbnRJbnRlbnQsXG4gICAgICAgICAgICAgICAgY2xpZW50U2VjcmV0LFxuICAgICAgICAgICAgICAgIGNhdGNoZWRDb25maXJtRXJyb3IsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWRQYXlsb2FkID0ge1xuICAgICAgICAgICAgICAgIGNyZWRpdF9jYXJkX3Rva2VuOiB7IHRva2VuIH0sXG4gICAgICAgICAgICAgICAgdmF1bHRfcGF5bWVudF9pbnN0cnVtZW50OiBzaG91bGRTYXZlSW5zdHJ1bWVudCxcbiAgICAgICAgICAgICAgICBjb25maXJtOiBuZWVkc0NvbmZpcm0sXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBwYXltZW50UGF5bG9hZCA9IHRoaXMuYnVpbGRQYXltZW50UGF5bG9hZChcbiAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkLFxuICAgICAgICAgICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChwYXltZW50UGF5bG9hZCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IHRoaXMuaGFuZGxlRW1wdHlQYXltZW50SW50ZW50RXJyb3IoZXJyb3IsIHJlc3VsdD8uZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRQYXltZW50VG9rZW4oXG4gICAgICAgIHBheW1lbnRJbnRlbnQ6IFBheW1lbnRJbnRlbnQgfCB1bmRlZmluZWQsXG4gICAgICAgIGNsaWVudFNlY3JldDogc3RyaW5nLFxuICAgICAgICBjYXRjaGVkQ29uZmlybUVycm9yOiBib29sZWFuLFxuICAgICk6IHN0cmluZyB7XG4gICAgICAgIGlmICghcGF5bWVudEludGVudCB8fCBjYXRjaGVkQ29uZmlybUVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gY2xpZW50U2VjcmV0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBheW1lbnRJbnRlbnQuaWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzaG91bGRTaG93VFNWSG9zdGVkRm9ybShtZXRob2RJZDogc3RyaW5nLCBnYXRld2F5SWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgdGhpcy5pc0hvc3RlZEZpZWxkQXZhaWxhYmxlKCkgJiYgdGhpcy5pc0hvc3RlZFBheW1lbnRGb3JtRW5hYmxlZChtZXRob2RJZCwgZ2F0ZXdheUlkKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgdW5tb3VudEVsZW1lbnQoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnN0cmlwZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudC51bm1vdW50KCk7XG4gICAgICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgQmlsbGluZ0FkZHJlc3MgZnJvbSAnLi9iaWxsaW5nLWFkZHJlc3MnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0JpbGxpbmdBZGRyZXNzTGlrZShhZGRyZXNzOiBhbnkpOiBhZGRyZXNzIGlzIEJpbGxpbmdBZGRyZXNzIHtcbiAgICByZXR1cm4gKFxuICAgICAgICB0eXBlb2YgYWRkcmVzcyA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgYWRkcmVzcyAhPT0gbnVsbCAmJlxuICAgICAgICAnaWQnIGluIGFkZHJlc3MgJiZcbiAgICAgICAgdHlwZW9mIGFkZHJlc3MuaWQgIT09ICd1bmRlZmluZWQnXG4gICAgKTtcbn1cbiIsImltcG9ydCB7IFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHsgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgU3RyaXBlSG9zdFdpbmRvdywgU3RyaXBlVjNDbGllbnQgfSBmcm9tICcuL3N0cmlwZXYzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RyaXBlVjNTY3JpcHRMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHNjcmlwdExvYWRlcjogU2NyaXB0TG9hZGVyLFxuICAgICAgICBwcml2YXRlIHN0cmlwZVdpbmRvdzogU3RyaXBlSG9zdFdpbmRvdyA9IHdpbmRvdyxcbiAgICApIHt9XG5cbiAgICBsb2FkKFxuICAgICAgICBzdHJpcGVQdWJsaXNoYWJsZUtleTogc3RyaW5nLFxuICAgICAgICBzdHJpcGVBY2NvdW50OiBzdHJpbmcsXG4gICAgICAgIGxvY2FsZT86IHN0cmluZyxcbiAgICApOiBQcm9taXNlPFN0cmlwZVYzQ2xpZW50PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjcmlwdExvYWRlci5sb2FkU2NyaXB0KCdodHRwczovL2pzLnN0cmlwZS5jb20vdjMvJykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RyaXBlV2luZG93LlN0cmlwZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJpcGVXaW5kb3cuU3RyaXBlKHN0cmlwZVB1Ymxpc2hhYmxlS2V5LCB7XG4gICAgICAgICAgICAgICAgc3RyaXBlQWNjb3VudCxcbiAgICAgICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICAgICAgYmV0YXM6IFsncGF5bWVudF9pbnRlbnRfYmV0YV8zJywgJ2FsaXBheV9wbV9iZXRhXzEnXSxcbiAgICAgICAgICAgICAgICBhcGlWZXJzaW9uOiAnMjAyMC0wMy0wMjthbGlwYXlfYmV0YT12MScsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIFBheW1lbnRTdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IFN0cmlwZVYzUGF5bWVudFN0cmF0ZWd5IGZyb20gJy4vc3RyaXBldjMtcGF5bWVudC1zdHJhdGVneSc7XG5pbXBvcnQgU3RyaXBlVjNTY3JpcHRMb2FkZXIgZnJvbSAnLi9zdHJpcGV2My1zY3JpcHQtbG9hZGVyJztcblxuY29uc3QgY3JlYXRlU3RyaXBlVjNQYXltZW50U3RyYXRlZ3k6IFBheW1lbnRTdHJhdGVneUZhY3Rvcnk8YW55PiA9IChwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBTdHJpcGVWM1BheW1lbnRTdHJhdGVneShcbiAgICAgICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgbmV3IFN0cmlwZVYzU2NyaXB0TG9hZGVyKGdldFNjcmlwdExvYWRlcigpKSxcbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZVN0cmlwZVYzUGF5bWVudFN0cmF0ZWd5LCBbeyBnYXRld2F5OiAnc3RyaXBldjMnIH1dKTtcbiIsImltcG9ydCB7IFJlc3BvbnNlIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyJztcblxuaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbmNvbnN0IERFRkFVTFRfUkVTUE9OU0UgPSB7XG4gICAgYm9keToge30sXG4gICAgaGVhZGVyczoge30sXG4gICAgc3RhdHVzOiAwLFxufTtcblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIHdlIGFyZSB1bmFibGUgdG8gbWFrZSBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlci4gSXQgd3JhcHNcbiAqIGFueSBzZXJ2ZXIgcmVzcG9uc2UgaW50byBhIEpTIGVycm9yIG9iamVjdC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVxdWVzdEVycm9yPFRCb2R5ID0gYW55PiBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGJvZHk6IFRCb2R5IHwge307XG4gICAgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgICBlcnJvcnM6IEFycmF5PHsgY29kZTogc3RyaW5nOyBtZXNzYWdlPzogc3RyaW5nIH0+O1xuICAgIHN0YXR1czogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHJlc3BvbnNlPzogUmVzcG9uc2U8VEJvZHkgfCB7fT4sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICBlcnJvcnMsXG4gICAgICAgIH06IHtcbiAgICAgICAgICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgICAgICAgICBlcnJvcnM/OiBBcnJheTx7IGNvZGU6IHN0cmluZzsgbWVzc2FnZT86IHN0cmluZyB9PjtcbiAgICAgICAgfSA9IHt9LFxuICAgICkge1xuICAgICAgICBjb25zdCB7IGJvZHksIGhlYWRlcnMsIHN0YXR1cyB9ID0gcmVzcG9uc2UgfHwgREVGQVVMVF9SRVNQT05TRTtcblxuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUmVxdWVzdEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3JlcXVlc3QnO1xuICAgICAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IHN1cHBvcnRlZExvY2FsZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZ1tdPiA9IHtcbiAgICBhcjogWydhciddLFxuICAgIGJnOiBbJ2JnJ10sXG4gICAgY3M6IFsnY3MnXSxcbiAgICBkYTogWydkYSddLFxuICAgIGRlOiBbJ2RlJ10sXG4gICAgZWw6IFsnZWwnXSxcbiAgICBlbjogWydlbicsICdlbi1HQiddLFxuICAgIGVzOiBbJ2VzJywgJ2VzLTQxOSddLFxuICAgIGV0OiBbJ2V0J10sXG4gICAgZmk6IFsnZmknXSxcbiAgICBmaWw6IFsnZmlsJ10sXG4gICAgZnI6IFsnZnInLCAnZnItQ0EnXSxcbiAgICBoZTogWydoZSddLFxuICAgIGhyOiBbJ2hyJ10sXG4gICAgaHU6IFsnaHUnXSxcbiAgICBpZDogWydpZCddLFxuICAgIGl0OiBbJ2l0J10sXG4gICAgamE6IFsnamEnXSxcbiAgICBrbzogWydrbyddLFxuICAgIGx0OiBbJ2x0J10sXG4gICAgbHY6IFsnbHYnXSxcbiAgICBtczogWydtcyddLFxuICAgIG10OiBbJ210J10sXG4gICAgbmI6IFsnbmInXSxcbiAgICBubDogWydubCddLFxuICAgIHBsOiBbJ3BsJ10sXG4gICAgcHQ6IFsncHQnLCAncHQtQlInXSxcbiAgICBybzogWydybyddLFxuICAgIHJ1OiBbJ3J1J10sXG4gICAgc2s6IFsnc2snXSxcbiAgICBzbDogWydzbCddLFxuICAgIHN2OiBbJ3N2J10sXG4gICAgdGg6IFsndGgnXSxcbiAgICB0cjogWyd0ciddLFxuICAgIHZpOiBbJ3ZpJ10sXG4gICAgemg6IFsnemgnLCAnemgtSEsnLCAnemgtVFcnXSxcbn07XG4iLCJpbXBvcnQgeyBzdXBwb3J0ZWRMb2NhbGVzIH0gZnJvbSAnLi9zdHJpcGUtc3VwcG9ydGVkLWxvY2FsZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb3JtYXRMb2NhbGUobG9jYWxlTGFuZ3VhZ2U6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgW2xhbmd1YWdlLCBjb3VudHJ5XSA9IGxvY2FsZUxhbmd1YWdlLnJlcGxhY2UoL18vZywgJy0nKS50b0xvd2VyQ2FzZSgpLnNwbGl0KCctJyk7XG4gICAgY29uc3QgY291bnRyeUxvY2FsZXMgPSBzdXBwb3J0ZWRMb2NhbGVzW2xhbmd1YWdlXTtcblxuICAgIGlmICghY291bnRyeUxvY2FsZXMpIHtcbiAgICAgICAgcmV0dXJuICdhdXRvJztcbiAgICB9XG5cbiAgICBjb25zdCBmb3JtYXR0ZWRMb2NhbGUgPSBjb3VudHJ5ID8gYCR7bGFuZ3VhZ2V9LSR7Y291bnRyeS50b1VwcGVyQ2FzZSgpfWAgOiBsYW5ndWFnZTtcblxuICAgIHJldHVybiBjb3VudHJ5TG9jYWxlcy5pbmRleE9mKGZvcm1hdHRlZExvY2FsZSkgPiAtMSA/IGZvcm1hdHRlZExvY2FsZSA6IGNvdW50cnlMb2NhbGVzWzBdO1xufVxuIiwiaW1wb3J0IHsgc29tZSB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7XG4gICAgRm9ybWF0dGVkSG9zdGVkSW5zdHJ1bWVudCxcbiAgICBJbnZhbGlkQXJndW1lbnRFcnJvcixcbiAgICBpc0hvc3RlZEluc3RydW1lbnRMaWtlLFxuICAgIGlzUmVxdWVzdEVycm9yLFxuICAgIGlzVmF1bHRlZEluc3RydW1lbnQsXG4gICAgTWlzc2luZ0RhdGFFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yVHlwZSxcbiAgICBOb3RJbml0aWFsaXplZEVycm9yLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLFxuICAgIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcixcbiAgICBPcmRlclJlcXVlc3RCb2R5LFxuICAgIFBheW1lbnQsXG4gICAgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yLFxuICAgIFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZWxlY3RvcnMsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IsXG4gICAgUGF5bWVudFJlcXVlc3RPcHRpb25zLFxuICAgIFBheW1lbnRTdHJhdGVneSxcbiAgICBSZXF1ZXN0RXJyb3IsXG4gICAgU3RyaXBlVVBFSW50ZW50LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7XG4gICAgZm9ybWF0U3RyaXBlTG9jYWxlLFxuICAgIGlzU3RyaXBlUGF5bWVudE1ldGhvZExpa2UsXG4gICAgU1RSSVBFX1VQRV9DTElFTlRfQVBJX1ZFUlNJT04sXG4gICAgU1RSSVBFX1VQRV9DTElFTlRfQkVUQVMsXG4gICAgU3RyaXBlQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkLFxuICAgIFN0cmlwZUFwcGVhcmFuY2VPcHRpb25zLFxuICAgIFN0cmlwZUNsaWVudCxcbiAgICBTdHJpcGVFbGVtZW50LFxuICAgIFN0cmlwZUVsZW1lbnRFdmVudCxcbiAgICBTdHJpcGVFbGVtZW50cyxcbiAgICBTdHJpcGVFbGVtZW50c0NyZWF0ZU9wdGlvbnMsXG4gICAgU3RyaXBlRWxlbWVudFR5cGUsXG4gICAgU3RyaXBlRWxlbWVudFVwZGF0ZU9wdGlvbnMsXG4gICAgU3RyaXBlRXJyb3IsXG4gICAgU3RyaXBlRXZlbnRUeXBlLFxuICAgIFN0cmlwZUluaXRpYWxpemF0aW9uRGF0YSxcbiAgICBTdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgU3RyaXBlUGF5bWVudE1ldGhvZFR5cGUsXG4gICAgU3RyaXBlUmVzdWx0LFxuICAgIFN0cmlwZVNjcmlwdExvYWRlcixcbiAgICBTdHJpcGVTdHJpbmdDb25zdGFudHMsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvc3RyaXBlLXV0aWxzJztcblxuaW1wb3J0IGlzU3RyaXBlQWNjZWxlcmF0ZWRDaGVja291dEN1c3RvbWVyIGZyb20gJy4vaXMtc3RyaXBlLWFjY2VsZXJhdGVkLWNoZWNrb3V0LWN1c3RvbWVyJztcbmltcG9ydCBTdHJpcGVVUEVQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsIHtcbiAgICBXaXRoU3RyaXBlVVBFUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxufSBmcm9tICcuL3N0cmlwZS11cGUtaW5pdGlhbGl6ZS1vcHRpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RyaXBlVVBFUGF5bWVudFN0cmF0ZWd5IGltcGxlbWVudHMgUGF5bWVudFN0cmF0ZWd5IHtcbiAgICBwcml2YXRlIF9zdHJpcGVVUEVDbGllbnQ/OiBTdHJpcGVDbGllbnQ7XG4gICAgcHJpdmF0ZSBfc3RyaXBlRWxlbWVudHM/OiBTdHJpcGVFbGVtZW50cztcbiAgICBwcml2YXRlIF9pc1N0cmlwZUVsZW1lbnRVcGRhdGVFbmFibGVkPzogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9hbGxvd1JlZGlzcGxheUZvclN0b3JlZEluc3RydW1lbnRzPzogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgc2NyaXB0TG9hZGVyOiBTdHJpcGVTY3JpcHRMb2FkZXIsXG4gICAgICAgIHByaXZhdGUgc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlOiBTdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShcbiAgICAgICAgb3B0aW9uczogUGF5bWVudEluaXRpYWxpemVPcHRpb25zICYgV2l0aFN0cmlwZVVQRVBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBzdHJpcGV1cGUsIG1ldGhvZElkLCBnYXRld2F5SWQgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgaWYgKCFzdHJpcGV1cGU/LmNvbnRhaW5lcklkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFnYXRld2F5SWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwiZ2F0ZXdheUlkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZFN0cmlwZUVsZW1lbnQoc3RyaXBldXBlLCBnYXRld2F5SWQsIG1ldGhvZElkKS5jYXRjaCgoZXJyb3IpID0+XG4gICAgICAgICAgICBzdHJpcGV1cGUub25FcnJvcj8uKGVycm9yKSxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS5pbml0Q2hlY2tvdXRFdmVudHNTdWJzY3JpcHRpb24oXG4gICAgICAgICAgICBnYXRld2F5SWQsXG4gICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgIHN0cmlwZXVwZSxcbiAgICAgICAgICAgIHRoaXMuX3N0cmlwZUVsZW1lbnRzLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBhc3luYyBleGVjdXRlKG9yZGVyUmVxdWVzdDogT3JkZXJSZXF1ZXN0Qm9keSwgb3B0aW9ucz86IFBheW1lbnRSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IHBheW1lbnQsIC4uLm9yZGVyIH0gPSBvcmRlclJlcXVlc3Q7XG5cbiAgICAgICAgaWYgKCFwYXltZW50IHx8ICFwYXltZW50LnBheW1lbnREYXRhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yKFsncGF5bWVudC5wYXltZW50RGF0YSddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fc3RyaXBlVVBFQ2xpZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBwYXltZW50RGF0YSwgbWV0aG9kSWQsIGdhdGV3YXlJZCB9ID0gcGF5bWVudDtcbiAgICAgICAgY29uc3QgeyBzaG91bGRTYXZlSW5zdHJ1bWVudCA9IGZhbHNlLCBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50ID0gZmFsc2UgfSA9XG4gICAgICAgICAgICBpc0hvc3RlZEluc3RydW1lbnRMaWtlKHBheW1lbnREYXRhKSA/IHBheW1lbnREYXRhIDoge307XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHsgaXNTdG9yZUNyZWRpdEFwcGxpZWQ6IHVzZVN0b3JlQ3JlZGl0IH0gPSBzdGF0ZS5nZXRDaGVja291dE9yVGhyb3coKTtcbiAgICAgICAgY29uc3QgcGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIgPSBzdGF0ZS5nZXRQYXltZW50UHJvdmlkZXJDdXN0b21lck9yVGhyb3coKTtcbiAgICAgICAgY29uc3Qgc3RyaXBlUGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIgPSBpc1N0cmlwZUFjY2VsZXJhdGVkQ2hlY2tvdXRDdXN0b21lcihcbiAgICAgICAgICAgIHBheW1lbnRQcm92aWRlckN1c3RvbWVyLFxuICAgICAgICApXG4gICAgICAgICAgICA/IHBheW1lbnRQcm92aWRlckN1c3RvbWVyXG4gICAgICAgICAgICA6IHt9O1xuICAgICAgICBjb25zdCBzdHJpcGVMaW5rQXV0aGVudGljYXRpb25TdGF0ZSA9XG4gICAgICAgICAgICBzdHJpcGVQYXltZW50UHJvdmlkZXJDdXN0b21lci5zdHJpcGVMaW5rQXV0aGVudGljYXRpb25TdGF0ZTtcblxuICAgICAgICBpZiAodXNlU3RvcmVDcmVkaXQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5hcHBseVN0b3JlQ3JlZGl0KHVzZVN0b3JlQ3JlZGl0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnYXRld2F5SWQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLnVwZGF0ZVN0cmlwZVBheW1lbnRJbnRlbnQoZ2F0ZXdheUlkLCBtZXRob2RJZCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgZW1haWwgfSA9IHN0YXRlLmdldEN1c3RvbWVyT3JUaHJvdygpO1xuXG4gICAgICAgICAgICBpZiAoc3RyaXBlTGlua0F1dGhlbnRpY2F0aW9uU3RhdGUgIT09IHVuZGVmaW5lZCAmJiAhZW1haWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiaWxsaW5nQWRkcmVzcyA9IHN0YXRlLmdldEJpbGxpbmdBZGRyZXNzT3JUaHJvdygpO1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnVwZGF0ZUJpbGxpbmdBZGRyZXNzKGJpbGxpbmdBZGRyZXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihvcmRlciwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKGlzVmF1bHRlZEluc3RydW1lbnQocGF5bWVudERhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCB7IGluc3RydW1lbnRJZCB9ID0gcGF5bWVudERhdGE7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2V4ZWN1dGVXaXRoVmF1bHRlZChcbiAgICAgICAgICAgICAgICBwYXltZW50Lm1ldGhvZElkLFxuICAgICAgICAgICAgICAgIGluc3RydW1lbnRJZCxcbiAgICAgICAgICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5fZXhlY3V0ZVdpdGhTdHJpcGVDb25maXJtYXRpb24oXG4gICAgICAgICAgICBwYXltZW50Lm1ldGhvZElkLFxuICAgICAgICAgICAgc3RyaXBlTGlua0F1dGhlbnRpY2F0aW9uU3RhdGUgPyBmYWxzZSA6IHNob3VsZFNhdmVJbnN0cnVtZW50LFxuICAgICAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmaW5hbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IoKSk7XG4gICAgfVxuXG4gICAgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLl9zdHJpcGVFbGVtZW50cz8uZ2V0RWxlbWVudChTdHJpcGVFbGVtZW50VHlwZS5QQVlNRU5UKT8udW5tb3VudCgpO1xuICAgICAgICB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS5kZWluaXRpYWxpemUoKTtcbiAgICAgICAgdGhpcy5fc3RyaXBlRWxlbWVudHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3N0cmlwZVVQRUNsaWVudCA9IHVuZGVmaW5lZDtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfZXhlY3V0ZVdpdGhTdHJpcGVDb25maXJtYXRpb24oXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgICAgIHNob3VsZFNhdmVJbnN0cnVtZW50PzogYm9vbGVhbixcbiAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudD86IGJvb2xlYW4sXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50VG9rZW4gfSA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcbiAgICAgICAgY29uc3QgcGF5bWVudFBheWxvYWQgPSB0aGlzLl9nZXRQYXltZW50UGF5bG9hZChcbiAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgY2xpZW50VG9rZW4gfHwgJycsXG4gICAgICAgICAgICBzaG91bGRTYXZlSW5zdHJ1bWVudCxcbiAgICAgICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgICk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHBheW1lbnRQYXlsb2FkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3Byb2Nlc3NBZGRpdGlvbmFsQWN0aW9uV2l0aFN0cmlwZUNvbmZpcm1hdGlvbihcbiAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICBzaG91bGRTYXZlSW5zdHJ1bWVudCxcbiAgICAgICAgICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2V4ZWN1dGVXaXRoVmF1bHRlZChcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgdG9rZW46IHN0cmluZyxcbiAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudDogYm9vbGVhbixcbiAgICApOiBQcm9taXNlPFBheW1lbnRJbnRlZ3JhdGlvblNlbGVjdG9ycyB8IHZvaWQ+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcbiAgICAgICAgY29uc3QgY2FydElkID0gc3RhdGUuZ2V0Q2FydCgpPy5pZDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bWVudFBheWxvYWQgPSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgcGF5bWVudERhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FydF9pZDogY2FydElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmlncGF5X3Rva2VuOiB7IHRva2VuIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudF90b2tlbjogcGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldF9hc19kZWZhdWx0X3N0b3JlZF9pbnN0cnVtZW50OiBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQocGF5bWVudFBheWxvYWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3NWYXVsdGVkQWRkaXRpb25hbEFjdGlvbihcbiAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2xvYWRTdHJpcGVFbGVtZW50KFxuICAgICAgICBzdHJpcGV1cGU6IFN0cmlwZVVQRVBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICAgICAgZ2F0ZXdheUlkOiBzdHJpbmcsXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVySWQsIHN0eWxlLCByZW5kZXIsIGluaXRTdHJpcGVFbGVtZW50VXBkYXRlVHJpZ2dlciB9ID0gc3RyaXBldXBlO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChnYXRld2F5SWQsIHtcbiAgICAgICAgICAgIHBhcmFtczogeyBtZXRob2Q6IG1ldGhvZElkIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuICAgICAgICBjb25zdCB7IGNoZWNrb3V0U2V0dGluZ3MgfSA9IHN0YXRlLmdldFN0b3JlQ29uZmlnT3JUaHJvdygpO1xuXG4gICAgICAgIGlmICghaXNTdHJpcGVQYXltZW50TWV0aG9kTGlrZShwYXltZW50TWV0aG9kKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBjbGllbnRUb2tlbiwgaW5pdGlhbGl6YXRpb25EYXRhIH0gPSBwYXltZW50TWV0aG9kO1xuICAgICAgICBjb25zdCB7IHNob3BwZXJMYW5ndWFnZSwgYWxsb3dSZWRpc3BsYXlGb3JTdG9yZWRJbnN0cnVtZW50cyA9IGZhbHNlIH0gPSBpbml0aWFsaXphdGlvbkRhdGE7XG5cbiAgICAgICAgdGhpcy5fYWxsb3dSZWRpc3BsYXlGb3JTdG9yZWRJbnN0cnVtZW50cyA9IGFsbG93UmVkaXNwbGF5Rm9yU3RvcmVkSW5zdHJ1bWVudHM7XG5cbiAgICAgICAgaWYgKCFjbGllbnRUb2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3RyaXBlVVBFQ2xpZW50ID0gYXdhaXQgdGhpcy5fbG9hZFN0cmlwZUpzKGluaXRpYWxpemF0aW9uRGF0YSk7XG4gICAgICAgIHRoaXMuX2lzU3RyaXBlRWxlbWVudFVwZGF0ZUVuYWJsZWQgPVxuICAgICAgICAgICAgISFjaGVja291dFNldHRpbmdzLmZlYXR1cmVzWydQSS0xNjc5LnRyaWdnZXJfdXBkYXRlX3N0cmlwZV9wYXltZW50X2VsZW1lbnQnXSAmJlxuICAgICAgICAgICAgdHlwZW9mIGluaXRTdHJpcGVFbGVtZW50VXBkYXRlVHJpZ2dlciA9PT0gJ2Z1bmN0aW9uJztcblxuICAgICAgICBsZXQgYXBwZWFyYW5jZTogU3RyaXBlQXBwZWFyYW5jZU9wdGlvbnMgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgICAgICBjb25zdCBzdHlsZXMgPSBzdHlsZTtcblxuICAgICAgICAgICAgYXBwZWFyYW5jZSA9IHtcbiAgICAgICAgICAgICAgICB2YXJpYWJsZXM6IHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLm1hcEFwcGVhcmFuY2VWYXJpYWJsZXMoc3R5bGUpLFxuICAgICAgICAgICAgICAgIHJ1bGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICcuSW5wdXQnOiB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS5tYXBJbnB1dEFwcGVhcmFuY2VSdWxlcyhzdHlsZXMpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3RyaXBlRWxlbWVudHMgPSBhd2FpdCB0aGlzLnNjcmlwdExvYWRlci5nZXRFbGVtZW50cyh0aGlzLl9zdHJpcGVVUEVDbGllbnQsIHtcbiAgICAgICAgICAgIGNsaWVudFNlY3JldDogY2xpZW50VG9rZW4sXG4gICAgICAgICAgICBsb2NhbGU6IGZvcm1hdFN0cmlwZUxvY2FsZShzaG9wcGVyTGFuZ3VhZ2UpLFxuICAgICAgICAgICAgYXBwZWFyYW5jZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgeyBnZXRCaWxsaW5nQWRkcmVzcywgZ2V0U2hpcHBpbmdBZGRyZXNzIH0gPSBzdGF0ZTtcbiAgICAgICAgY29uc3QgeyBwb3N0YWxDb2RlIH0gPSBnZXRTaGlwcGluZ0FkZHJlc3MoKSB8fCBnZXRCaWxsaW5nQWRkcmVzcygpIHx8IHt9O1xuXG4gICAgICAgIGNvbnN0IHN0cmlwZUVsZW1lbnQ6IFN0cmlwZUVsZW1lbnQgPVxuICAgICAgICAgICAgdGhpcy5fc3RyaXBlRWxlbWVudHMuZ2V0RWxlbWVudChTdHJpcGVFbGVtZW50VHlwZS5QQVlNRU5UKSB8fFxuICAgICAgICAgICAgdGhpcy5fc3RyaXBlRWxlbWVudHMuY3JlYXRlKFN0cmlwZUVsZW1lbnRUeXBlLlBBWU1FTlQsIHtcbiAgICAgICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0RldGFpbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRyeTogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdHk6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBwb3N0YWxDb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLkFVVE8sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgd2FsbGV0czoge1xuICAgICAgICAgICAgICAgICAgICBhcHBsZVBheTogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSLFxuICAgICAgICAgICAgICAgICAgICBnb29nbGVQYXk6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2dldFN0cmlwZUVsZW1lbnRUZXJtcygpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UubW91bnRFbGVtZW50KHN0cmlwZUVsZW1lbnQsIGNvbnRhaW5lcklkKTtcblxuICAgICAgICBzdHJpcGVFbGVtZW50Lm9uKFN0cmlwZUVsZW1lbnRFdmVudC5SRUFEWSwgKCkgPT4ge1xuICAgICAgICAgICAgcmVuZGVyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN0cmlwZUVsZW1lbnQub24oU3RyaXBlRWxlbWVudEV2ZW50LkNIQU5HRSwgKGV2ZW50OiBTdHJpcGVFdmVudFR5cGUpID0+IHtcbiAgICAgICAgICAgIGlmICghZXZlbnQ/LnZhbHVlIHx8ICEoJ3R5cGUnIGluIGV2ZW50LnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RyaXBlTGlua1N0YXRlQnlFbGVtZW50VHlwZShldmVudC52YWx1ZS50eXBlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzU3RyaXBlRWxlbWVudFVwZGF0ZUVuYWJsZWQpIHtcbiAgICAgICAgICAgIGluaXRTdHJpcGVFbGVtZW50VXBkYXRlVHJpZ2dlcj8uKHRoaXMuX3VwZGF0ZVN0cmlwZUVsZW1lbnQuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9wcm9jZXNzQWRkaXRpb25hbEFjdGlvbldpdGhTdHJpcGVDb25maXJtYXRpb24oXG4gICAgICAgIGVycm9yOiB1bmtub3duLFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICBzaG91bGRTYXZlSW5zdHJ1bWVudCA9IGZhbHNlLFxuICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50ID0gZmFsc2UsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFpc1JlcXVlc3RFcnJvcihlcnJvcikgfHxcbiAgICAgICAgICAgICF0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS5pc0FkZGl0aW9uYWxBY3Rpb25FcnJvcihlcnJvci5ib2R5LmVycm9ycylcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fc3RyaXBlVVBFQ2xpZW50IHx8ICF0aGlzLl9zdHJpcGVFbGVtZW50cykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgZGF0YTogYWRkaXRpb25hbEFjdGlvbkRhdGEgfSA9IGVycm9yLmJvZHkuYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ7XG4gICAgICAgIGNvbnN0IHsgdG9rZW4gfSA9IGFkZGl0aW9uYWxBY3Rpb25EYXRhO1xuXG4gICAgICAgIGNvbnN0IHsgcGF5bWVudEludGVudCB9ID0gYXdhaXQgdGhpcy5fY29uZmlybVN0cmlwZVBheW1lbnRPclRocm93KFxuICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICBhZGRpdGlvbmFsQWN0aW9uRGF0YSxcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBwYXltZW50UGF5bG9hZCA9IHRoaXMuX2dldFBheW1lbnRQYXlsb2FkKFxuICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICBwYXltZW50SW50ZW50Py5pZCB8fCB0b2tlbixcbiAgICAgICAgICAgIHNob3VsZFNhdmVJbnN0cnVtZW50LFxuICAgICAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQocGF5bWVudFBheWxvYWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UudGhyb3dQYXltZW50Q29uZmlybWF0aW9uUHJvY2VlZE1lc3NhZ2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2NvbmZpcm1TdHJpcGVQYXltZW50T3JUaHJvdyhcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgYWRkaXRpb25hbEFjdGlvbkRhdGE6IFN0cmlwZUFkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZFsnZGF0YSddLFxuICAgICk6IFByb21pc2U8U3RyaXBlUmVzdWx0IHwgbmV2ZXI+IHtcbiAgICAgICAgY29uc3QgeyB0b2tlbiwgcmVkaXJlY3RfdXJsIH0gPSBhZGRpdGlvbmFsQWN0aW9uRGF0YTtcbiAgICAgICAgY29uc3Qgc3RyaXBlUGF5bWVudERhdGEgPSB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS5tYXBTdHJpcGVQYXltZW50RGF0YShcbiAgICAgICAgICAgIHRoaXMuX3N0cmlwZUVsZW1lbnRzLFxuICAgICAgICAgICAgcmVkaXJlY3RfdXJsLFxuICAgICAgICAgICAgISF0aGlzLl9hbGxvd1JlZGlzcGxheUZvclN0b3JlZEluc3RydW1lbnRzLFxuICAgICAgICApO1xuICAgICAgICBsZXQgc3RyaXBlRXJyb3I6IFN0cmlwZUVycm9yIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpc1BheW1lbnRDb21wbGV0ZWQgPSBhd2FpdCB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS5pc1BheW1lbnRDb21wbGV0ZWQoXG4gICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RyaXBlVVBFQ2xpZW50LFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgY29uZmlybWF0aW9uUmVzdWx0ID0gIWlzUGF5bWVudENvbXBsZXRlZFxuICAgICAgICAgICAgICAgID8gYXdhaXQgdGhpcy5fc3RyaXBlVVBFQ2xpZW50Py5jb25maXJtUGF5bWVudChzdHJpcGVQYXltZW50RGF0YSlcbiAgICAgICAgICAgICAgICA6IGF3YWl0IHRoaXMuX3N0cmlwZVVQRUNsaWVudD8ucmV0cmlldmVQYXltZW50SW50ZW50KHRva2VuIHx8ICcnKTtcblxuICAgICAgICAgICAgc3RyaXBlRXJyb3IgPSBjb25maXJtYXRpb25SZXN1bHQ/LmVycm9yO1xuXG4gICAgICAgICAgICBpZiAoc3RyaXBlRXJyb3IgfHwgIWNvbmZpcm1hdGlvblJlc3VsdD8ucGF5bWVudEludGVudCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1hdGlvblJlc3VsdDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgICAgICAgIHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLnRocm93U3RyaXBlRXJyb3Ioc3RyaXBlRXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfcHJvY2Vzc1ZhdWx0ZWRBZGRpdGlvbmFsQWN0aW9uKFxuICAgICAgICBlcnJvcjogdW5rbm93bixcbiAgICAgICAgbWV0aG9kSWQ/OiBzdHJpbmcsXG4gICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgPSBmYWxzZSxcbiAgICApOiBQcm9taXNlPFBheW1lbnRJbnRlZ3JhdGlvblNlbGVjdG9ycyB8IG5ldmVyPiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFtZXRob2RJZCB8fFxuICAgICAgICAgICAgIWlzUmVxdWVzdEVycm9yKGVycm9yKSB8fFxuICAgICAgICAgICAgIXNvbWUoZXJyb3IuYm9keS5lcnJvcnMsIHsgY29kZTogJ3RocmVlX2Rfc2VjdXJlX3JlcXVpcmVkJyB9KVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9zdHJpcGVVUEVDbGllbnQgfHwgIXRoaXMuX3N0cmlwZUVsZW1lbnRzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2xpZW50U2VjcmV0ID0gZXJyb3IuYm9keS50aHJlZV9kc19yZXN1bHQudG9rZW47XG4gICAgICAgIGxldCByZXN1bHQ7XG4gICAgICAgIGxldCBjYXRjaGVkQ29uZmlybUVycm9yID0gZmFsc2U7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHRoaXMuX3N0cmlwZVVQRUNsaWVudC5jb25maXJtQ2FyZFBheW1lbnQoY2xpZW50U2VjcmV0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgdGhpcy5fc3RyaXBlVVBFQ2xpZW50LnJldHJpZXZlUGF5bWVudEludGVudChjbGllbnRTZWNyZXQpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjYXRjaGVkQ29uZmlybUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXN1bHQ/LmVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS50aHJvd1N0cmlwZUVycm9yKHJlc3VsdC5lcnJvcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJlc3VsdD8ucGF5bWVudEludGVudCAmJiAhY2F0Y2hlZENvbmZpcm1FcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJlcXVlc3RFcnJvcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF5bWVudFBheWxvYWQgPSB0aGlzLl9nZXRQYXltZW50UGF5bG9hZChcbiAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgY2F0Y2hlZENvbmZpcm1FcnJvciA/IGNsaWVudFNlY3JldCA6IHJlc3VsdD8ucGF5bWVudEludGVudD8uaWQsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHBheW1lbnRQYXlsb2FkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9sb2FkU3RyaXBlSnMoXG4gICAgICAgIGluaXRpYWxpemF0aW9uRGF0YTogU3RyaXBlSW5pdGlhbGl6YXRpb25EYXRhLFxuICAgICk6IFByb21pc2U8U3RyaXBlQ2xpZW50PiB7XG4gICAgICAgIGlmICh0aGlzLl9zdHJpcGVVUEVDbGllbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdHJpcGVVUEVDbGllbnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5zY3JpcHRMb2FkZXIuZ2V0U3RyaXBlQ2xpZW50KFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25EYXRhLFxuICAgICAgICAgICAgU1RSSVBFX1VQRV9DTElFTlRfQkVUQVMsXG4gICAgICAgICAgICBTVFJJUEVfVVBFX0NMSUVOVF9BUElfVkVSU0lPTixcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRQYXltZW50UGF5bG9hZChcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgdG9rZW46IHN0cmluZyxcbiAgICAgICAgc2hvdWxkU2F2ZUluc3RydW1lbnQgPSBmYWxzZSxcbiAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCA9IGZhbHNlLFxuICAgICk6IFBheW1lbnQge1xuICAgICAgICBjb25zdCBjYXJ0SWQgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRDYXJ0KCk/LmlkIHx8ICcnO1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWRQYXlsb2FkOiBTdHJpcGVVUEVJbnRlbnQgJiBGb3JtYXR0ZWRIb3N0ZWRJbnN0cnVtZW50ID0ge1xuICAgICAgICAgICAgY2FydF9pZDogY2FydElkLFxuICAgICAgICAgICAgY3JlZGl0X2NhcmRfdG9rZW46IHsgdG9rZW4gfSxcbiAgICAgICAgICAgIGNvbmZpcm06IGZhbHNlLFxuICAgICAgICAgICAgdmF1bHRfcGF5bWVudF9pbnN0cnVtZW50OiBzaG91bGRTYXZlSW5zdHJ1bWVudCxcbiAgICAgICAgICAgIHNldF9hc19kZWZhdWx0X3N0b3JlZF9pbnN0cnVtZW50OiBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgIHBheW1lbnREYXRhOiB7XG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfdXBkYXRlU3RyaXBlRWxlbWVudCh7IHNob3VsZFNob3dUZXJtcyB9OiBTdHJpcGVFbGVtZW50VXBkYXRlT3B0aW9ucyk6IHZvaWQge1xuICAgICAgICBjb25zdCBzdHJpcGVFbGVtZW50ID0gdGhpcy5fc3RyaXBlRWxlbWVudHM/LmdldEVsZW1lbnQoU3RyaXBlRWxlbWVudFR5cGUuUEFZTUVOVCk7XG5cbiAgICAgICAgc3RyaXBlRWxlbWVudD8udXBkYXRlKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2dldFN0cmlwZUVsZW1lbnRUZXJtcyhzaG91bGRTaG93VGVybXMpLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRTdHJpcGVFbGVtZW50VGVybXMoXG4gICAgICAgIHNob3VsZFNob3dUZXJtcz86IGJvb2xlYW4sXG4gICAgKTogUGljazxTdHJpcGVFbGVtZW50c0NyZWF0ZU9wdGlvbnMsICd0ZXJtcyc+IHtcbiAgICAgICAgbGV0IGNhcmQgPSBTdHJpcGVTdHJpbmdDb25zdGFudHMuQVVUTztcblxuICAgICAgICBpZiAodGhpcy5faXNTdHJpcGVFbGVtZW50VXBkYXRlRW5hYmxlZCkge1xuICAgICAgICAgICAgY2FyZCA9IHNob3VsZFNob3dUZXJtcyA/IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5BVVRPIDogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRlcm1zOiB7XG4gICAgICAgICAgICAgICAgY2FyZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfdXBkYXRlU3RyaXBlTGlua1N0YXRlQnlFbGVtZW50VHlwZShwYXltZW50RWxlbWVudFR5cGU6IFN0cmlwZVBheW1lbnRNZXRob2RUeXBlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRQcm92aWRlckN1c3RvbWVyID0gc3RhdGUuZ2V0UGF5bWVudFByb3ZpZGVyQ3VzdG9tZXJPclRocm93KCk7XG4gICAgICAgIGNvbnN0IGlzU3RyaXBlTGlua0VsZW1lbnRUeXBlID0gcGF5bWVudEVsZW1lbnRUeXBlID09PSBTdHJpcGVQYXltZW50TWV0aG9kVHlwZS5MaW5rO1xuXG4gICAgICAgIC8vIElORk86IFRyaWdnZXIgYWRkaXRpb25hbCB1cGRhdGUgb25seSBpZiBTdHJpcGUgTGluayBBdXRoZW50aWNhdGlvbiB3YXMgc2tpcHBlZCBvbiB0aGUgY3VzdG9tZXIgc3RlcCwgYnV0IHRoZSBMaW5rIHBheW1lbnQgZWxlbWVudCB3YXMgcmVuZGVyZWQuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFpc1N0cmlwZUFjY2VsZXJhdGVkQ2hlY2tvdXRDdXN0b21lcihwYXltZW50UHJvdmlkZXJDdXN0b21lcikgJiZcbiAgICAgICAgICAgIGlzU3RyaXBlTGlua0VsZW1lbnRUeXBlXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnVwZGF0ZVBheW1lbnRQcm92aWRlckN1c3RvbWVyKHtcbiAgICAgICAgICAgICAgICBzdHJpcGVMaW5rQXV0aGVudGljYXRpb25TdGF0ZTogaXNTdHJpcGVMaW5rRWxlbWVudFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHtcbiAgICBQYXltZW50U3RyYXRlZ3lGYWN0b3J5LFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5pbXBvcnQge1xuICAgIFN0cmlwZUludGVncmF0aW9uU2VydmljZSxcbiAgICBTdHJpcGVTY3JpcHRMb2FkZXIsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvc3RyaXBlLXV0aWxzJztcblxuaW1wb3J0IFN0cmlwZVVQRVBheW1lbnRTdHJhdGVneSBmcm9tICcuL3N0cmlwZS11cGUtcGF5bWVudC1zdHJhdGVneSc7XG5cbmNvbnN0IGNyZWF0ZVN0cmlwZVVQRVBheW1lbnRTdHJhdGVneTogUGF5bWVudFN0cmF0ZWd5RmFjdG9yeTxTdHJpcGVVUEVQYXltZW50U3RyYXRlZ3k+ID0gKFxuICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4pID0+IHtcbiAgICBjb25zdCBzdHJpcGVTY3JpcHRMb2FkZXIgPSBuZXcgU3RyaXBlU2NyaXB0TG9hZGVyKGdldFNjcmlwdExvYWRlcigpKTtcblxuICAgIHJldHVybiBuZXcgU3RyaXBlVVBFUGF5bWVudFN0cmF0ZWd5KFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBzdHJpcGVTY3JpcHRMb2FkZXIsXG4gICAgICAgIG5ldyBTdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UocGF5bWVudEludGVncmF0aW9uU2VydmljZSwgc3RyaXBlU2NyaXB0TG9hZGVyKSxcbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZVN0cmlwZVVQRVBheW1lbnRTdHJhdGVneSwgW1xuICAgIHsgZ2F0ZXdheTogJ3N0cmlwZXVwZScgfSxcbiAgICB7IGdhdGV3YXk6ICdzdHJpcGV1cGUnLCBpZDogJ2tsYXJuYScgfSxcbl0pO1xuIiwiaW1wb3J0IHtcbiAgICBJbnZhbGlkQXJndW1lbnRFcnJvcixcbiAgICBpc1JlcXVlc3RFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudCxcbiAgICBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VsZWN0b3JzLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yLFxuICAgIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICBQYXltZW50U3RyYXRlZ3ksXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuaW1wb3J0IHtcbiAgICBmb3JtYXRTdHJpcGVMb2NhbGUsXG4gICAgaXNTdHJpcGVQYXltZW50RXZlbnQsXG4gICAgaXNTdHJpcGVQYXltZW50TWV0aG9kTGlrZSxcbiAgICBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uUmVxdWlyZWQsXG4gICAgU3RyaXBlQ2xpZW50LFxuICAgIFN0cmlwZUVsZW1lbnQsXG4gICAgU3RyaXBlRWxlbWVudEV2ZW50LFxuICAgIFN0cmlwZUVsZW1lbnRzLFxuICAgIFN0cmlwZUVsZW1lbnRUeXBlLFxuICAgIFN0cmlwZUVycm9yLFxuICAgIFN0cmlwZUV2ZW50VHlwZSxcbiAgICBTdHJpcGVJbml0aWFsaXphdGlvbkRhdGEsXG4gICAgU3RyaXBlSW5zdHJ1bWVudFNldHVwRnV0dXJlVXNhZ2UsXG4gICAgU3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFN0cmlwZVBJUGF5bWVudE1ldGhvZE9wdGlvbnMsXG4gICAgU3RyaXBlUElQYXltZW50TWV0aG9kU2F2aW5nT3B0aW9ucyxcbiAgICBTdHJpcGVSZXN1bHQsXG4gICAgU3RyaXBlU2NyaXB0TG9hZGVyLFxuICAgIFN0cmlwZVN0cmluZ0NvbnN0YW50cyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9zdHJpcGUtdXRpbHMnO1xuXG5pbXBvcnQgU3RyaXBlT0NTUGF5bWVudEluaXRpYWxpemVPcHRpb25zLCB7XG4gICAgV2l0aFN0cmlwZU9DU1BheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbn0gZnJvbSAnLi9zdHJpcGUtb2NzLWluaXRpYWxpemUtb3B0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0cmlwZU9DU1BheW1lbnRTdHJhdGVneSBpbXBsZW1lbnRzIFBheW1lbnRTdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBzdHJpcGVDbGllbnQ/OiBTdHJpcGVDbGllbnQ7XG4gICAgcHJpdmF0ZSBzdHJpcGVFbGVtZW50cz86IFN0cmlwZUVsZW1lbnRzO1xuICAgIHByaXZhdGUgc2VsZWN0ZWRNZXRob2RJZD86IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgc2NyaXB0TG9hZGVyOiBTdHJpcGVTY3JpcHRMb2FkZXIsXG4gICAgICAgIHByaXZhdGUgc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlOiBTdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShcbiAgICAgICAgb3B0aW9uczogUGF5bWVudEluaXRpYWxpemVPcHRpb25zICYgV2l0aFN0cmlwZU9DU1BheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBzdHJpcGVvY3MsIG1ldGhvZElkLCBnYXRld2F5SWQgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgaWYgKCFzdHJpcGVvY3M/LmNvbnRhaW5lcklkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFnYXRld2F5SWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwiZ2F0ZXdheUlkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2luaXRpYWxpemVTdHJpcGVFbGVtZW50KHN0cmlwZW9jcywgZ2F0ZXdheUlkLCBtZXRob2RJZCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIHN0cmlwZW9jcy5vbkVycm9yPy4oZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UuaW5pdENoZWNrb3V0RXZlbnRzU3Vic2NyaXB0aW9uKFxuICAgICAgICAgICAgZ2F0ZXdheUlkLFxuICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICBzdHJpcGVvY3MsXG4gICAgICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnRzLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGUob3JkZXJSZXF1ZXN0OiBPcmRlclJlcXVlc3RCb2R5LCBvcHRpb25zPzogUGF5bWVudFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudCwgLi4ub3JkZXIgfSA9IG9yZGVyUmVxdWVzdDtcbiAgICAgICAgY29uc3QgeyBtZXRob2RJZCwgZ2F0ZXdheUlkIH0gPSBwYXltZW50IHx8IHt9O1xuXG4gICAgICAgIGlmICghdGhpcy5zdHJpcGVDbGllbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWdhdGV3YXlJZCB8fCAhbWV0aG9kSWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIGluaXRpYWxpemUgcGF5bWVudCBiZWNhdXNlIFwiZ2F0ZXdheUlkXCIgb3IgXCJtZXRob2RJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHsgaXNTdG9yZUNyZWRpdEFwcGxpZWQgfSA9IHN0YXRlLmdldENoZWNrb3V0T3JUaHJvdygpO1xuXG4gICAgICAgIGlmIChpc1N0b3JlQ3JlZGl0QXBwbGllZCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmFwcGx5U3RvcmVDcmVkaXQoaXNTdG9yZUNyZWRpdEFwcGxpZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlU3RyaXBlUGF5bWVudEludGVudChnYXRld2F5SWQsIG1ldGhvZElkKTtcblxuICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIob3JkZXIsIG9wdGlvbnMpO1xuXG4gICAgICAgIGNvbnN0IHsgY2xpZW50VG9rZW4gfSA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcbiAgICAgICAgY29uc3QgcGF5bWVudFBheWxvYWQgPSB0aGlzLl9nZXRQYXltZW50UGF5bG9hZChtZXRob2RJZCwgY2xpZW50VG9rZW4gfHwgJycpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChwYXltZW50UGF5bG9hZCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9wcm9jZXNzQWRkaXRpb25hbEFjdGlvbihlcnJvciwgbWV0aG9kSWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmluYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yKCkpO1xuICAgIH1cblxuICAgIGRlaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgcGF5bWVudEVsZW1lbnQgPSB0aGlzLnN0cmlwZUVsZW1lbnRzPy5nZXRFbGVtZW50KFN0cmlwZUVsZW1lbnRUeXBlLlBBWU1FTlQpO1xuXG4gICAgICAgIHBheW1lbnRFbGVtZW50Py51bm1vdW50KCk7XG4gICAgICAgIHBheW1lbnRFbGVtZW50Py5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLmRlaW5pdGlhbGl6ZSgpO1xuICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnRzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0cmlwZUNsaWVudCA9IHVuZGVmaW5lZDtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfaW5pdGlhbGl6ZVN0cmlwZUVsZW1lbnQoXG4gICAgICAgIHN0cmlwZTogU3RyaXBlT0NTUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgICAgICBnYXRld2F5SWQ6IHN0cmluZyxcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICApIHtcbiAgICAgICAgbGV0IHBheW1lbnRNZXRob2QgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2VcbiAgICAgICAgICAgIC5nZXRTdGF0ZSgpXG4gICAgICAgICAgICAuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuXG4gICAgICAgIGlmICghcGF5bWVudE1ldGhvZD8uY2xpZW50VG9rZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRQYXltZW50TWV0aG9kKGdhdGV3YXlJZCwge1xuICAgICAgICAgICAgICAgIHBhcmFtczogeyBtZXRob2Q6IG1ldGhvZElkIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNTdHJpcGVQYXltZW50TWV0aG9kTGlrZShwYXltZW50TWV0aG9kKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBjbGllbnRUb2tlbiwgaW5pdGlhbGl6YXRpb25EYXRhIH0gPSBwYXltZW50TWV0aG9kO1xuICAgICAgICBjb25zdCB7IHNob3BwZXJMYW5ndWFnZSwgY3VzdG9tZXJTZXNzaW9uVG9rZW4sIGVuYWJsZUxpbmsgfSA9IGluaXRpYWxpemF0aW9uRGF0YTtcblxuICAgICAgICBpZiAoIWNsaWVudFRva2VuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0cmlwZUNsaWVudCA9IGF3YWl0IHRoaXMuX2xvYWRTdHJpcGVKcyhpbml0aWFsaXphdGlvbkRhdGEpO1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGFwcGVhcmFuY2UsXG4gICAgICAgICAgICBjb250YWluZXJJZCxcbiAgICAgICAgICAgIGZvbnRzLFxuICAgICAgICAgICAgbGF5b3V0LFxuICAgICAgICAgICAgcmVuZGVyLFxuICAgICAgICAgICAgcGF5bWVudE1ldGhvZFNlbGVjdCxcbiAgICAgICAgICAgIGhhbmRsZUNsb3NlUGF5bWVudE1ldGhvZCxcbiAgICAgICAgICAgIHRvZ2dsZVByZWxvYWRlcixcbiAgICAgICAgfSA9IHN0cmlwZTtcblxuICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnRzID0gYXdhaXQgdGhpcy5zY3JpcHRMb2FkZXIuZ2V0RWxlbWVudHModGhpcy5zdHJpcGVDbGllbnQsIHtcbiAgICAgICAgICAgIGNsaWVudFNlY3JldDogY2xpZW50VG9rZW4sXG4gICAgICAgICAgICBjdXN0b21lclNlc3Npb25DbGllbnRTZWNyZXQ6IGN1c3RvbWVyU2Vzc2lvblRva2VuLFxuICAgICAgICAgICAgbG9jYWxlOiBmb3JtYXRTdHJpcGVMb2NhbGUoc2hvcHBlckxhbmd1YWdlKSxcbiAgICAgICAgICAgIGFwcGVhcmFuY2UsXG4gICAgICAgICAgICBmb250cyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgeyBnZXRCaWxsaW5nQWRkcmVzcywgZ2V0U2hpcHBpbmdBZGRyZXNzIH0gPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgYmlsbGluZ0FkZHJlc3MgPSBnZXRCaWxsaW5nQWRkcmVzcygpO1xuICAgICAgICBjb25zdCB7IHBvc3RhbENvZGUgfSA9IGdldFNoaXBwaW5nQWRkcmVzcygpIHx8IGJpbGxpbmdBZGRyZXNzIHx8IHt9O1xuXG4gICAgICAgIGNvbnN0IHN0cmlwZUVsZW1lbnQ6IFN0cmlwZUVsZW1lbnQgPVxuICAgICAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50cy5nZXRFbGVtZW50KFN0cmlwZUVsZW1lbnRUeXBlLlBBWU1FTlQpIHx8XG4gICAgICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnRzLmNyZWF0ZShTdHJpcGVFbGVtZW50VHlwZS5QQVlNRU5ULCB7XG4gICAgICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgICAgIGJpbGxpbmdEZXRhaWxzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50cnk6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXR5OiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogcG9zdGFsQ29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5BVVRPLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHdhbGxldHM6IHtcbiAgICAgICAgICAgICAgICAgICAgYXBwbGVQYXk6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUixcbiAgICAgICAgICAgICAgICAgICAgZ29vZ2xlUGF5OiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVIsXG4gICAgICAgICAgICAgICAgICAgIGxpbms6IGVuYWJsZUxpbmsgPyBTdHJpcGVTdHJpbmdDb25zdGFudHMuQVVUTyA6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGxheW91dCxcbiAgICAgICAgICAgICAgICBzYXZlUGF5bWVudE1ldGhvZDoge1xuICAgICAgICAgICAgICAgICAgICBtYXhWaXNpYmxlUGF5bWVudE1ldGhvZHM6IDIwLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlczoge1xuICAgICAgICAgICAgICAgICAgICBiaWxsaW5nRGV0YWlsczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGJpbGxpbmdBZGRyZXNzPy5lbWFpbCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UubW91bnRFbGVtZW50KHN0cmlwZUVsZW1lbnQsIGNvbnRhaW5lcklkKTtcblxuICAgICAgICBzdHJpcGVFbGVtZW50Lm9uKFN0cmlwZUVsZW1lbnRFdmVudC5MT0FERVJfU1RBUlQsICgpID0+IHtcbiAgICAgICAgICAgIHRvZ2dsZVByZWxvYWRlcj8uKGZhbHNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3RyaXBlRWxlbWVudC5vbihTdHJpcGVFbGVtZW50RXZlbnQuUkVBRFksICgpID0+IHtcbiAgICAgICAgICAgIHJlbmRlcigpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzdHJpcGVFbGVtZW50Lm9uKFN0cmlwZUVsZW1lbnRFdmVudC5DSEFOR0UsIChldmVudDogU3RyaXBlRXZlbnRUeXBlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vblN0cmlwZUVsZW1lbnRDaGFuZ2UoZXZlbnQsIGdhdGV3YXlJZCwgbWV0aG9kSWQsIHBheW1lbnRNZXRob2RTZWxlY3QpO1xuICAgICAgICB9KTtcblxuICAgICAgICBoYW5kbGVDbG9zZVBheW1lbnRNZXRob2Q/Lih0aGlzLl9jb2xsYXBzZVN0cmlwZUVsZW1lbnQuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfbG9hZFN0cmlwZUpzKFxuICAgICAgICBpbml0aWFsaXphdGlvbkRhdGE6IFN0cmlwZUluaXRpYWxpemF0aW9uRGF0YSxcbiAgICApOiBQcm9taXNlPFN0cmlwZUNsaWVudD4ge1xuICAgICAgICBpZiAodGhpcy5zdHJpcGVDbGllbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cmlwZUNsaWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnNjcmlwdExvYWRlci5nZXRTdHJpcGVDbGllbnQoaW5pdGlhbGl6YXRpb25EYXRhKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jb2xsYXBzZVN0cmlwZUVsZW1lbnQoKSB7XG4gICAgICAgIGNvbnN0IHN0cmlwZUVsZW1lbnQgPSB0aGlzLnN0cmlwZUVsZW1lbnRzPy5nZXRFbGVtZW50KFN0cmlwZUVsZW1lbnRUeXBlLlBBWU1FTlQpO1xuXG4gICAgICAgIHN0cmlwZUVsZW1lbnQ/LmNvbGxhcHNlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0UGF5bWVudFBheWxvYWQoXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgICAgIHRva2VuOiBzdHJpbmcsXG4gICAgICAgIHBheW1lbnRNZXRob2RPcHRpb25zPzogU3RyaXBlUElQYXltZW50TWV0aG9kT3B0aW9ucyxcbiAgICApOiBQYXltZW50IHtcbiAgICAgICAgY29uc3QgY2FydElkID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0Q2FydCgpPy5pZCB8fCAnJztcbiAgICAgICAgY29uc3QgeyBjYXJkLCB1c19iYW5rX2FjY291bnQgfSA9IHBheW1lbnRNZXRob2RPcHRpb25zIHx8IHt9O1xuICAgICAgICBjb25zdCBzaG91bGRTYXZlSW5zdHJ1bWVudCA9XG4gICAgICAgICAgICB0aGlzLl9zaG91bGRTYXZlSW5zdHJ1bWVudChjYXJkKSB8fCB0aGlzLl9zaG91bGRTYXZlSW5zdHJ1bWVudCh1c19iYW5rX2FjY291bnQpO1xuICAgICAgICBjb25zdCB0b2tlbml6ZWRPcHRpb25zID0gdGhpcy5fZ2V0VG9rZW5pemVkT3B0aW9ucyh0b2tlbiwgcGF5bWVudE1ldGhvZE9wdGlvbnMpO1xuXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZFBheWxvYWQgPSB7XG4gICAgICAgICAgICBjYXJ0X2lkOiBjYXJ0SWQsXG4gICAgICAgICAgICBjb25maXJtOiBmYWxzZSxcbiAgICAgICAgICAgIG1ldGhvZDogdGhpcy5zZWxlY3RlZE1ldGhvZElkLFxuICAgICAgICAgICAgdmF1bHRfcGF5bWVudF9pbnN0cnVtZW50OiBzaG91bGRTYXZlSW5zdHJ1bWVudCxcbiAgICAgICAgICAgIC4uLnRva2VuaXplZE9wdGlvbnMsXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgcGF5bWVudERhdGE6IHtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9wcm9jZXNzQWRkaXRpb25hbEFjdGlvbihcbiAgICAgICAgZXJyb3I6IHVua25vd24sXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxQYXltZW50SW50ZWdyYXRpb25TZWxlY3RvcnMgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWlzUmVxdWVzdEVycm9yKGVycm9yKSB8fFxuICAgICAgICAgICAgIXRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLmlzQWRkaXRpb25hbEFjdGlvbkVycm9yKGVycm9yLmJvZHkuZXJyb3JzKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnN0cmlwZUNsaWVudCB8fCAhdGhpcy5zdHJpcGVFbGVtZW50cykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgZGF0YTogYWRkaXRpb25hbEFjdGlvbkRhdGEgfSA9IGVycm9yLmJvZHkuYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ7XG4gICAgICAgIGNvbnN0IHsgdG9rZW4gfSA9IGFkZGl0aW9uYWxBY3Rpb25EYXRhO1xuXG4gICAgICAgIGNvbnN0IHsgcGF5bWVudEludGVudCB9ID0gYXdhaXQgdGhpcy5fY29uZmlybVN0cmlwZVBheW1lbnRPclRocm93KFxuICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICBhZGRpdGlvbmFsQWN0aW9uRGF0YSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY2xpZW50X3NlY3JldDogcGF5bWVudEludGVudENsaWVudFNlY3JldCxcbiAgICAgICAgICAgIHBheW1lbnRfbWV0aG9kX29wdGlvbnM6IHBheW1lbnRNZXRob2RPcHRpb25zLFxuICAgICAgICB9ID0gcGF5bWVudEludGVudCB8fCB7fTtcblxuICAgICAgICBjb25zdCBwYXltZW50UGF5bG9hZCA9IHRoaXMuX2dldFBheW1lbnRQYXlsb2FkKFxuICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICBwYXltZW50SW50ZW50Q2xpZW50U2VjcmV0IHx8IHRva2VuLFxuICAgICAgICAgICAgcGF5bWVudE1ldGhvZE9wdGlvbnMsXG4gICAgICAgICk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChwYXltZW50UGF5bG9hZCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS50aHJvd1BheW1lbnRDb25maXJtYXRpb25Qcm9jZWVkTWVzc2FnZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfY29uZmlybVN0cmlwZVBheW1lbnRPclRocm93KFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICBhZGRpdGlvbmFsQWN0aW9uRGF0YTogU3RyaXBlQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkWydkYXRhJ10sXG4gICAgKTogUHJvbWlzZTxTdHJpcGVSZXN1bHQgfCBuZXZlcj4ge1xuICAgICAgICBjb25zdCB7IHRva2VuLCByZWRpcmVjdF91cmwgfSA9IGFkZGl0aW9uYWxBY3Rpb25EYXRhO1xuICAgICAgICBjb25zdCBzdHJpcGVQYXltZW50RGF0YSA9IHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLm1hcFN0cmlwZVBheW1lbnREYXRhKFxuICAgICAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50cyxcbiAgICAgICAgICAgIHJlZGlyZWN0X3VybCxcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IHN0cmlwZUVycm9yOiBTdHJpcGVFcnJvciB8IHVuZGVmaW5lZDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaXNQYXltZW50Q29tcGxldGVkID0gYXdhaXQgdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UuaXNQYXltZW50Q29tcGxldGVkKFxuICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgIHRoaXMuc3RyaXBlQ2xpZW50LFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgY29uZmlybWF0aW9uUmVzdWx0ID0gIWlzUGF5bWVudENvbXBsZXRlZFxuICAgICAgICAgICAgICAgID8gYXdhaXQgdGhpcy5zdHJpcGVDbGllbnQ/LmNvbmZpcm1QYXltZW50KHN0cmlwZVBheW1lbnREYXRhKVxuICAgICAgICAgICAgICAgIDogYXdhaXQgdGhpcy5zdHJpcGVDbGllbnQ/LnJldHJpZXZlUGF5bWVudEludGVudCh0b2tlbiB8fCAnJyk7XG5cbiAgICAgICAgICAgIHN0cmlwZUVycm9yID0gY29uZmlybWF0aW9uUmVzdWx0Py5lcnJvcjtcblxuICAgICAgICAgICAgaWYgKHN0cmlwZUVycm9yIHx8ICFjb25maXJtYXRpb25SZXN1bHQ/LnBheW1lbnRJbnRlbnQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjb25maXJtYXRpb25SZXN1bHQ7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UudGhyb3dTdHJpcGVFcnJvcihzdHJpcGVFcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9vblN0cmlwZUVsZW1lbnRDaGFuZ2UoXG4gICAgICAgIGV2ZW50OiBTdHJpcGVFdmVudFR5cGUsXG4gICAgICAgIGdhdGV3YXlJZDogc3RyaW5nLFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICBwYXltZW50TWV0aG9kU2VsZWN0PzogKGlkOiBzdHJpbmcpID0+IHZvaWQsXG4gICAgKSB7XG4gICAgICAgIGlmICghaXNTdHJpcGVQYXltZW50RXZlbnQoZXZlbnQpIHx8IGV2ZW50LmNvbGxhcHNlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZWxlY3RlZE1ldGhvZElkID0gZXZlbnQudmFsdWUudHlwZTtcbiAgICAgICAgcGF5bWVudE1ldGhvZFNlbGVjdD8uKGAke2dhdGV3YXlJZH0tJHttZXRob2RJZH1gKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9zaG91bGRTYXZlSW5zdHJ1bWVudChwYXltZW50TWV0aG9kT3B0aW9ucz86IFN0cmlwZVBJUGF5bWVudE1ldGhvZFNhdmluZ09wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc2V0dXBGdXR1cmVVc2FnZSA9IHBheW1lbnRNZXRob2RPcHRpb25zPy5zZXR1cF9mdXR1cmVfdXNhZ2U7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHNldHVwRnV0dXJlVXNhZ2UgPT09IFN0cmlwZUluc3RydW1lbnRTZXR1cEZ1dHVyZVVzYWdlLk9OX1NFU1NJT04gfHxcbiAgICAgICAgICAgIHNldHVwRnV0dXJlVXNhZ2UgPT09IFN0cmlwZUluc3RydW1lbnRTZXR1cEZ1dHVyZVVzYWdlLk9GRl9TRVNTSU9OXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0VG9rZW5pemVkT3B0aW9ucyhcbiAgICAgICAgdG9rZW46IHN0cmluZyxcbiAgICAgICAgcGF5bWVudE1ldGhvZE9wdGlvbnM/OiBTdHJpcGVQSVBheW1lbnRNZXRob2RPcHRpb25zLFxuICAgICkge1xuICAgICAgICBpZiAodGhpcy5fc2hvdWxkU2F2ZUluc3RydW1lbnQocGF5bWVudE1ldGhvZE9wdGlvbnM/LnVzX2JhbmtfYWNjb3VudCkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHRva2VuaXplZF9hY2g6IHsgdG9rZW4gfSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgY3JlZGl0X2NhcmRfdG9rZW46IHsgdG9rZW4gfSB9O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFN0cmlwZVBheW1lbnRFdmVudCB9IGZyb20gJy4vc3RyaXBlJztcblxuZXhwb3J0IGNvbnN0IGlzU3RyaXBlUGF5bWVudEV2ZW50ID0gKGV2ZW50OiB1bmtub3duKTogZXZlbnQgaXMgU3RyaXBlUGF5bWVudEV2ZW50ID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIGV2ZW50ID09PSAnb2JqZWN0JyAmJiBldmVudCAhPT0gbnVsbCAmJiAndmFsdWUnIGluIGV2ZW50ICYmICdjb2xsYXBzZWQnIGluIGV2ZW50O1xufTtcbiIsImltcG9ydCB7IGdldFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHtcbiAgICBQYXltZW50U3RyYXRlZ3lGYWN0b3J5LFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5pbXBvcnQge1xuICAgIFN0cmlwZUludGVncmF0aW9uU2VydmljZSxcbiAgICBTdHJpcGVTY3JpcHRMb2FkZXIsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvc3RyaXBlLXV0aWxzJztcblxuaW1wb3J0IFN0cmlwZU9DU1BheW1lbnRTdHJhdGVneSBmcm9tICcuL3N0cmlwZS1vY3MtcGF5bWVudC1zdHJhdGVneSc7XG5cbmNvbnN0IGNyZWF0ZVN0cmlwZU9DU1BheW1lbnRTdHJhdGVneTogUGF5bWVudFN0cmF0ZWd5RmFjdG9yeTxTdHJpcGVPQ1NQYXltZW50U3RyYXRlZ3k+ID0gKFxuICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4pID0+IHtcbiAgICBjb25zdCBzdHJpcGVTY3JpcHRMb2FkZXIgPSBuZXcgU3RyaXBlU2NyaXB0TG9hZGVyKGdldFNjcmlwdExvYWRlcigpKTtcblxuICAgIHJldHVybiBuZXcgU3RyaXBlT0NTUGF5bWVudFN0cmF0ZWd5KFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBzdHJpcGVTY3JpcHRMb2FkZXIsXG4gICAgICAgIG5ldyBTdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UocGF5bWVudEludGVncmF0aW9uU2VydmljZSwgc3RyaXBlU2NyaXB0TG9hZGVyKSxcbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZVN0cmlwZU9DU1BheW1lbnRTdHJhdGVneSwgW1xuICAgIHsgZ2F0ZXdheTogJ3N0cmlwZW9jcycsIGlkOiAnb3B0aW1pemVkX2NoZWNrb3V0JyB9LFxuXSk7XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsInRvUmVzb2x2YWJsZU1vZHVsZSIsIm1vZHVsZSIsInJlc29sdmVJZHMiLCJjb25zb2xlIiwibG9nIiwiT2JqZWN0IiwiYXNzaWduIiwiZCIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTdGFuZGFyZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJzdXBlciIsIm5hbWUiLCJ0eXBlIiwic2V0UHJvdG90eXBlT2YiLCJ0aGlzIiwiX19wcm90b19fIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJzdGFjayIsIlBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yIiwiTWlzc2luZ0RhdGFFcnJvclR5cGUiLCJTdHJpcGVTY3JpcHRMb2FkZXIiLCJzY3JpcHRMb2FkZXIiLCJzdHJpcGVXaW5kb3ciLCJ3aW5kb3ciLCJnZXRTdHJpcGVDbGllbnQiLCJpbml0aWFsaXphdGlvbkRhdGEiLCJiZXRhcyIsImFwaVZlcnNpb24iLCJiY1N0cmlwZUNsaWVudCIsInN0cmlwZSIsImxvYWQiLCJzdHJpcGVQdWJsaXNoYWJsZUtleSIsInN0cmlwZUNvbm5lY3RlZEFjY291bnQiLCJzdHJpcGVDbGllbnQiLCJzdHJpcGVBY2NvdW50IiwiZ2V0RWxlbWVudHMiLCJvcHRpb25zIiwic3RyaXBlRWxlbWVudHMiLCJiY1N0cmlwZUVsZW1lbnRzIiwidXBkYXRlU3RyaXBlRWxlbWVudHMiLCJlbGVtZW50cyIsInVwZGF0ZSIsImZldGNoVXBkYXRlcyIsIlN0cmlwZSIsImxvYWRTY3JpcHQiLCJJbnZhbGlkQXJndW1lbnRFcnJvciIsIk1pc3NpbmdEYXRhRXJyb3IiLCJzdWJ0eXBlIiwiTWlzc2luZ0JpbGxpbmdBZGRyZXNzIiwiTWlzc2luZ0NhcnQiLCJNaXNzaW5nQ29uc2lnbm1lbnRzIiwiTWlzc2luZ0NoZWNrb3V0IiwiTWlzc2luZ0N1c3RvbWVyIiwiTWlzc2luZ0NoZWNrb3V0Q29uZmlnIiwiTWlzc2luZ09yZGVyQ29uZmlnIiwiTWlzc2luZ09yZGVyIiwiTWlzc2luZ09yZGVySWQiLCJNaXNzaW5nUGF5bWVudCIsIk1pc3NpbmdQYXltZW50VG9rZW4iLCJNaXNzaW5nUGF5bWVudE1ldGhvZCIsIk1pc3NpbmdTaGlwcGluZ0FkZHJlc3MiLCJnZXRFcnJvck1lc3NhZ2UiLCJpc1N0cmlwZVBheW1lbnRNZXRob2RMaWtlIiwicGF5bWVudE1ldGhvZCIsInVuZGVmaW5lZCIsInNob3BwZXJMYW5ndWFnZSIsIlNUUklQRV9VUEVfQ0xJRU5UX0JFVEFTIiwiU1RSSVBFX1VQRV9DTElFTlRfQVBJX1ZFUlNJT04iLCJTdHJpcGVGb3JtTW9kZSIsIlN0cmlwZURpc3BsYXlOYW1lIiwiU3RyaXBlUGF5bWVudE1ldGhvZFR5cGUiLCJTdHJpcGVTdHJpbmdDb25zdGFudHMiLCJTdHJpcGVFbGVtZW50VHlwZSIsIlN0cmlwZVBheW1lbnRJbnRlbnRTdGF0dXMiLCJTdHJpcGVFbGVtZW50RXZlbnQiLCJTdHJpcGVJbnN0cnVtZW50U2V0dXBGdXR1cmVVc2FnZSIsImlzU3RyaXBlQWNjZWxlcmF0ZWRDaGVja291dEN1c3RvbWVyIiwiY3VzdG9tZXIiLCJTdHJpcGVVUEVDdXN0b21lclN0cmF0ZWd5IiwicGF5bWVudEludGVncmF0aW9uU2VydmljZSIsImluaXRpYWxpemUiLCJzdHJpcGVVUEVDbGllbnQiLCJzdHJpcGV1cGUiLCJjb250YWluZXIiLCJnYXRld2F5SWQiLCJtZXRob2RJZCIsIm9uRW1haWxDaGFuZ2UiLCJnZXRTdHlsZXMiLCJpc0xvYWRpbmciLCJlbnRyaWVzIiwiZm9yRWFjaCIsInZhbHVlIiwibG9hZFBheW1lbnRNZXRob2QiLCJwYXJhbXMiLCJtZXRob2QiLCJzdGF0ZSIsImdldFN0YXRlIiwiZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3ciLCJjbGllbnRUb2tlbiIsImVtYWlsIiwiZ2V0Q3VzdG9tZXJPclRocm93IiwicGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIiLCJnZXRQYXltZW50UHJvdmlkZXJDdXN0b21lck9yVGhyb3ciLCJzdHJpcGVMaW5rQXV0aGVudGljYXRpb25TdGF0ZSIsImFwcGVhcmFuY2UiLCJzdHlsZXMiLCJ2YXJpYWJsZXMiLCJjb2xvclByaW1hcnkiLCJmaWVsZElubmVyU2hhZG93IiwiY29sb3JCYWNrZ3JvdW5kIiwiZmllbGRCYWNrZ3JvdW5kIiwiY29sb3JUZXh0IiwibGFiZWxUZXh0IiwiY29sb3JEYW5nZXIiLCJmaWVsZEVycm9yVGV4dCIsImNvbG9yVGV4dFNlY29uZGFyeSIsImNvbG9yVGV4dFBsYWNlaG9sZGVyIiwiZmllbGRQbGFjZWhvbGRlclRleHQiLCJydWxlcyIsImJvcmRlckNvbG9yIiwiZmllbGRCb3JkZXIiLCJjb2xvciIsImZpZWxkVGV4dCIsImJveFNoYWRvdyIsIl9zdHJpcGVFbGVtZW50cyIsImNsaWVudFNlY3JldCIsImdldEJpbGxpbmdBZGRyZXNzIiwiZ2V0Q29uc2lnbm1lbnRzIiwiY29uc2lnbm1lbnRzIiwiaWQiLCJiaWxsaW5nRW1haWwiLCJkZWZhdWx0VmFsdWVzIiwibW9kZSIsIlNISVBQSU5HIiwibGlua0F1dGhlbnRpY2F0aW9uRWxlbWVudCIsImdldEVsZW1lbnQiLCJBVVRIRU5USUNBVElPTiIsImNyZWF0ZSIsIm9uIiwiQ0hBTkdFIiwiZXZlbnQiLCJ1cGRhdGVQYXltZW50UHJvdmlkZXJDdXN0b21lciIsImF1dGhlbnRpY2F0ZWQiLCJjb21wbGV0ZSIsImRlbGV0ZUNvbnNpZ25tZW50IiwibW91bnQiLCJkZWluaXRpYWxpemUiLCJ1bm1vdW50IiwiUHJvbWlzZSIsInJlc29sdmUiLCJzaWduSW4iLCJjcmVkZW50aWFscyIsInNpZ25JbkN1c3RvbWVyIiwic2lnbk91dCIsInNpZ25PdXRDdXN0b21lciIsImV4ZWN1dGVQYXltZW50TWV0aG9kQ2hlY2tvdXQiLCJjb250aW51ZVdpdGhDaGVja291dENhbGxiYWNrIiwiZ2V0U2NyaXB0TG9hZGVyIiwiUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yIiwiUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yIiwiTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUiLCJOb3RJbml0aWFsaXplZEVycm9yIiwiQ3VzdG9tZXJOb3RJbml0aWFsaXplZCIsIlBheW1lbnROb3RJbml0aWFsaXplZCIsIlNoaXBwaW5nTm90SW5pdGlhbGl6ZWQiLCJTcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkIiwiU3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlIiwiaXNNb3VudGVkIiwiY2hlY2tvdXRFdmVudHNVbnN1YnNjcmliZSIsImluaXRDaGVja291dEV2ZW50c1N1YnNjcmlwdGlvbiIsInN0cmlwZUluaXRpYWxpemF0aW9uT3B0aW9ucyIsInN1YnNjcmliZSIsInBheW1lbnRFbGVtZW50IiwiUEFZTUVOVCIsInVwZGF0ZVN0cmlwZVBheW1lbnRJbnRlbnQiLCJlcnJvciIsIm9uRXJyb3IiLCJtb3VudEVsZW1lbnQiLCJjb250YWluZXJJZCIsImdldENoZWNrb3V0Iiwib3V0c3RhbmRpbmdCYWxhbmNlIiwiY291cG9ucyIsInN0cmlwZUVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwibWFwQXBwZWFyYW5jZVZhcmlhYmxlcyIsImNvbG9ySWNvbiIsIm1hcElucHV0QXBwZWFyYW5jZVJ1bGVzIiwidGhyb3dTdHJpcGVFcnJvciIsInN0cmlwZUVycm9yIiwidGhyb3dEaXNwbGF5YWJsZVN0cmlwZUVycm9yIiwiaXNDYW5jZWxsYXRpb25FcnJvciIsImluY2x1ZGVzIiwiZXJyb3JNZXNzYWdlIiwicGF5bWVudF9pbnRlbnQiLCJsYXN0X3BheW1lbnRfZXJyb3IiLCJpbmRleE9mIiwidGhyb3dQYXltZW50Q29uZmlybWF0aW9uUHJvY2VlZE1lc3NhZ2UiLCJpc1BheW1lbnRDb21wbGV0ZWQiLCJmZWF0dXJlcyIsImdldFN0b3JlQ29uZmlnT3JUaHJvdyIsImNoZWNrb3V0U2V0dGluZ3MiLCJwYXltZW50SW50ZW50IiwicmV0cmlldmVQYXltZW50SW50ZW50Iiwic3RhdHVzIiwiU1VDQ0VFREVEIiwibWFwU3RyaXBlUGF5bWVudERhdGEiLCJyZXR1cm5VcmwiLCJzaG91bGRBbGxvd1JlZGlzcGxheSIsImJpbGxpbmdBZGRyZXNzIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJhZGRyZXNzIiwiX21hcFN0cmlwZUFkZHJlc3MiLCJjaXR5IiwiY291bnRyeSIsInJlZGlyZWN0IiwiSUZfUkVRVUlSRUQiLCJjb25maXJtUGFyYW1zIiwicGF5bWVudF9tZXRob2RfZGF0YSIsImFsbG93X3JlZGlzcGxheSIsImJpbGxpbmdfZGV0YWlscyIsInJldHVybl91cmwiLCJpc0FkZGl0aW9uYWxBY3Rpb25FcnJvciIsImVycm9ycyIsInNvbWUiLCJjb2RlIiwiaXNSZWRpcmVjdEFjdGlvbiIsImFkZGl0aW9uYWxBY3Rpb24iLCJkYXRhIiwicmVkaXJlY3RfdXJsIiwiaXNPblBhZ2VBZGRpdGlvbmFsQWN0aW9uIiwidG9rZW4iLCJhZGRyZXNzMSIsImFkZHJlc3MyIiwiY291bnRyeUNvZGUiLCJwb3N0YWxDb2RlIiwic3RhdGVPclByb3ZpbmNlQ29kZSIsInBvc3RhbF9jb2RlIiwibGluZTEiLCJsaW5lMiIsIkRFRkFVTFRfU1RZTEVTIiwic2l6ZSIsImJhY2tncm91bmRDb2xvciIsIkRFRkFVTFRfQ09OVEFJTkVSX1NUWUxFUyIsInBvc2l0aW9uIiwiUk9UQVRJT05fQU5JTUFUSU9OIiwiTG9hZGluZ0luZGljYXRvciIsImNvbnRhaW5lclN0eWxlcyIsImRlZmluZUFuaW1hdGlvbiIsImJ1aWxkQ29udGFpbmVyIiwiaW5kaWNhdG9yIiwiYnVpbGRJbmRpY2F0b3IiLCJhcHBlbmRDaGlsZCIsInNob3ciLCJwYXJlbnRJZCIsInBhcmVudCIsInN0eWxlIiwidmlzaWJpbGl0eSIsIm9wYWNpdHkiLCJoaWRlIiwiaGFuZGxlVHJhbnNpdGlvbkVuZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiY3JlYXRlRWxlbWVudCIsImRpc3BsYXkiLCJib3R0b20iLCJsZWZ0IiwiaGVpZ2h0Iiwid2lkdGgiLCJyaWdodCIsInRvcCIsInRyYW5zaXRpb24iLCJzZXRTdHlsZUF0dHJpYnV0ZSIsImJvcmRlclJhZGl1cyIsImJvcmRlciIsIm1hcmdpbiIsInRyYW5zZm9ybSIsInRyYW5zZm9ybVN0eWxlIiwiYW5pbWF0aW9uIiwiZWxlbWVudCIsImF0dHJzIiwia2V5cyIsImsiLCJzZXRQcm9wZXJ0eSIsImhlYWQiLCJzaGVldCIsIkNTU1N0eWxlU2hlZXQiLCJpbnNlcnRSdWxlIiwiQW1vdW50VHJhbnNmb3JtZXIiLCJfZGVjaW1hbFBsYWNlcyIsInRvSW50ZWdlciIsImFtb3VudCIsIk1hdGgiLCJyb3VuZCIsImV4cHJlc3NDaGVja291dEFsbG93ZWRDb3VudHJ5Q29kZXMiLCJTdHJpcGVMaW5rVjJDdXN0b21lclN0cmF0ZWd5Iiwic3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlIiwibG9hZGluZ0luZGljYXRvciIsInN0cmlwZW9jcyIsImxvYWRpbmdDb250YWluZXJJZCIsImJ1dHRvbkhlaWdodCIsIm9uQ29tcGxldGUiLCJfbG9hZGluZ0luZGljYXRvckNvbnRhaW5lciIsIl9vbkNvbXBsZXRlIiwiY2FwdHVyZU1ldGhvZCIsIl9jYXB0dXJlTWV0aG9kIiwiX3N0cmlwZUNsaWVudCIsIl9tb3VudEV4cHJlc3NDaGVja291dEVsZW1lbnQiLCJzdHJpcGVFeHByZXNzQ2hlY2tvdXRDbGllbnQiLCJzaG91bGRSZXF1aXJlU2hpcHBpbmdBZGRyZXNzIiwiX3Nob3VsZFJlcXVpcmVTaGlwcGluZ0FkZHJlc3MiLCJleHByZXNzQ2hlY2tvdXRPcHRpb25zIiwic2hpcHBpbmdBZGRyZXNzUmVxdWlyZWQiLCJhbGxvd2VkU2hpcHBpbmdDb3VudHJpZXMiLCJfZ2V0QXZhaWxhYmxlQ291bnRyaWVzIiwic2hpcHBpbmdSYXRlcyIsImRpc3BsYXlOYW1lIiwiYmlsbGluZ0FkZHJlc3NSZXF1aXJlZCIsImVtYWlsUmVxdWlyZWQiLCJwaG9uZU51bWJlclJlcXVpcmVkIiwicGF5bWVudE1ldGhvZHMiLCJsaW5rIiwiQVVUTyIsImFwcGxlUGF5IiwiTkVWRVIiLCJnb29nbGVQYXkiLCJhbWF6b25QYXkiLCJwYXlwYWwiLCJrbGFybmEiLCJjYXJ0QW1vdW50IiwiZ2V0Q2FydE9yVGhyb3ciLCJlbGVtZW50c09wdGlvbnMiLCJfdG9DZW50cyIsImN1cnJlbmN5IiwiX2dldEN1cnJlbmN5IiwiX2xpbmtWMkVsZW1lbnQiLCJFWFBSRVNTX0NIRUNLT1VUIiwiX2luaXRpYWxpemVFdmVudHMiLCJleHByZXNzQ2hlY2tvdXRFbGVtZW50IiwiU0hJUFBJTkdfQUREUkVTU19DSEFOR0UiLCJfb25TaGlwcGluZ0FkZHJlc3NDaGFuZ2UiLCJTSElQUElOR19SQVRFX0NIQU5HRSIsIl9vblNoaXBwaW5nUmF0ZUNoYW5nZSIsIkNPTkZJUk0iLCJfb25Db25maXJtIiwiQ0FOQ0VMIiwiX29uQ2FuY2VsIiwic2hpcHBpbmdBZGRyZXNzIiwicmVzdWx0IiwicGhvbmUiLCJjb21wYW55Iiwic3RhdGVPclByb3ZpbmNlIiwiY3VzdG9tRmllbGRzIiwidXBkYXRlU2hpcHBpbmdBZGRyZXNzIiwiX2dldEF2YWlsYWJsZVNoaXBwaW5nT3B0aW9ucyIsIl91cGRhdGVEaXNwbGF5ZWRQcmljZSIsInNoaXBwaW5nUmF0ZSIsIl9oYW5kbGVTaGlwcGluZ09wdGlvbkNoYW5nZSIsIl91cGRhdGVTaGlwcGluZ0FuZEJpbGxpbmdBZGRyZXNzIiwic3VibWl0T3JkZXIiLCJfZ2V0UGF5bWVudFBheWxvYWQiLCJzdWJtaXRQYXltZW50IiwiX3Byb2Nlc3NBZGRpdGlvbmFsQWN0aW9uIiwic3BsaXQiLCJiaWxsaW5nRGV0YWlscyIsIl9tYXBTaGlwcGluZ0FkZHJlc3MiLCJfbWFwQmlsbGluZ0FkZHJlc3MiLCJ1cGRhdGVCaWxsaW5nQWRkcmVzcyIsImJvZHkiLCJhZGRpdGlvbmFsQWN0aW9uRGF0YSIsImFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkIiwiX2NvbmZpcm1TdHJpcGVQYXltZW50T3JUaHJvdyIsInBheW1lbnRQYXlsb2FkIiwiX3RvZ2dsZUxvYWRpbmdJbmRpY2F0b3IiLCJfY29tcGxldGVDaGVja291dEZsb3ciLCJzdHJpcGVQYXltZW50RGF0YSIsImNvbmZpcm1hdGlvblJlc3VsdCIsImNvbmZpcm1QYXltZW50IiwibG9jYXRpb24iLCJyZXBsYWNlIiwiY2FydElkIiwiZ2V0Q2FydCIsInBheW1lbnREYXRhIiwiZm9ybWF0dGVkUGF5bG9hZCIsImNhcnRfaWQiLCJjcmVkaXRfY2FyZF90b2tlbiIsImNvbmZpcm0iLCJwYXltZW50X21ldGhvZF9pZCIsIkxpbmsiLCJsaW5lSXRlbXMiLCJwaHlzaWNhbEl0ZW1zIiwibGVuZ3RoIiwiX2dldFRvdGFsUHJpY2UiLCJfY3VycmVuY3lDb2RlIiwiY3VycmVuY3lDb2RlIiwidG9Mb3dlckNhc2UiLCJsb2FkQ2hlY2tvdXQiLCJnZXRDaGVja291dE9yVGhyb3ciLCJkZWNpbWFsUGxhY2VzIiwidG90YWxQcmljZSIsInRvRml4ZWQiLCJjb3VudHJpZXMiLCJsb2FkU2hpcHBpbmdDb3VudHJpZXMiLCJnZXRTaGlwcGluZ0NvdW50cmllcyIsIm1hcCIsImZpbHRlciIsImNvbnNpZ25tZW50IiwiYXZhaWxhYmxlU2hpcHBpbmdPcHRpb25zIiwiX2dldFN0cmlwZVNoaXBwaW5nT3B0aW9uIiwiYmluZCIsInNlbGVjdGVkSWQiLCJzZWxlY3RlZFNoaXBwaW5nT3B0aW9uIiwic29ydCIsIm9wdGlvbiIsImNvc3QiLCJkZXNjcmlwdGlvbiIsIm9wdGlvbklkIiwic2VsZWN0U2hpcHBpbmdPcHRpb24iLCJfZ2V0QW1vdW50VHJhbnNmb3JtZXIiLCJfYW1vdW50VHJhbnNmb3JtZXIiLCJmYWxsYmFja1ZhbHVlIiwiYW1vdW50VHJhbnNmb3JtZXIiLCJzdHJpcGVTY3JpcHRMb2FkZXIiLCJQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IiLCJpbnZhbGlkRmllbGRzIiwiam9pbiIsImlzSG9zdGVkSW5zdHJ1bWVudExpa2UiLCJpbnN0cnVtZW50Iiwic2hvdWxkU2F2ZUluc3RydW1lbnQiLCJzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50IiwiaXNWYXVsdGVkSW5zdHJ1bWVudCIsIkJvb2xlYW4iLCJpbnN0cnVtZW50SWQiLCJPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IiLCJpc0luZGl2aWR1YWxDYXJkRWxlbWVudE9wdGlvbnMiLCJpbmRpdmlkdWFsQ2FyZEVsZW1lbnRPcHRpb25zIiwiY2FyZE51bWJlckVsZW1lbnRPcHRpb25zIiwiY2FyZEN2Y0VsZW1lbnRPcHRpb25zIiwiY2FyZEV4cGlyeUVsZW1lbnRPcHRpb25zIiwiSWNvblN0eWxlIiwiU3RyaXBlVjNFcnJvclR5cGUiLCJTdHJpcGVWM0Vycm9yIiwiQXV0aEZhaWx1cmUiLCJBUE1fUkVESVJFQ1QiLCJBbGlwYXkiLCJJREVBTCIsIlN0cmlwZVYzUGF5bWVudFN0cmF0ZWd5Iiwic3RyaXBldjMiLCJpbml0aWFsaXplT3B0aW9ucyIsImlzRGVpbml0aWFsaXplIiwidXNlSW5kaXZpZHVhbENhcmRGaWVsZHMiLCJhbGxvd1JlZGlzcGxheUZvclN0b3JlZEluc3RydW1lbnRzIiwiX2FsbG93UmVkaXNwbGF5Rm9yU3RvcmVkSW5zdHJ1bWVudHMiLCJmb3JtIiwiZ2V0SW5pdGlhbGl6ZU9wdGlvbnMiLCJzdHJpcGVWM0NsaWVudCIsImxvYWRTdHJpcGVKcyIsImlzQ3JlZGl0Q2FyZCIsInNob3VsZFNob3dUU1ZIb3N0ZWRGb3JtIiwiaG9zdGVkRm9ybSIsIm1vdW50Q2FyZFZlcmlmaWNhdGlvbkZpZWxkcyIsIm1vdW50Q2FyZEZpZWxkcyIsImV4ZWN1dGUiLCJvcmRlclJlcXVlc3QiLCJwYXltZW50Iiwib3JkZXIiLCJzaG91bGRTdWJtaXRPcmRlckJlZm9yZUxvYWRpbmdBUE0iLCJpc1N0b3JlQ3JlZGl0QXBwbGllZCIsInVzZVN0b3JlQ3JlZGl0IiwiYXBwbHlTdG9yZUNyZWRpdCIsImV4ZWN1dGVXaXRoVmF1bHRlZCIsImNvbmZpcm1TdHJpcGVQYXltZW50IiwidmF1bHRfcGF5bWVudF9pbnN0cnVtZW50Iiwic2V0X2FzX2RlZmF1bHRfc3RvcmVkX2luc3RydW1lbnQiLCJDcmVkaXRDYXJkIiwiY2xpZW50X3Rva2VuIiwiYnVpbGRQYXltZW50UGF5bG9hZCIsInByb2Nlc3NBZGRpdGlvbmFsQWN0aW9uIiwiaGFuZGxlRW1wdHlQYXltZW50SW50ZW50RXJyb3IiLCJmaW5hbGl6ZSIsInJlamVjdCIsImRldGFjaCIsInVubW91bnRFbGVtZW50IiwiaXNBdXRoRXJyb3IiLCJpc0hvc3RlZEZpZWxkQXZhaWxhYmxlIiwiZGVmaW5lZEZpZWxkcyIsIm9taXRCeSIsImZpZWxkcyIsImlzRW1wdHkiLCJpc0hvc3RlZFBheW1lbnRGb3JtRW5hYmxlZCIsImNvbmZpZyIsImlzSG9zdGVkRm9ybUVuYWJsZWQiLCJnZXRTdHJpcGVKcyIsImNvbmZpcm1BbGlwYXlQYXltZW50IiwiaGFuZGxlQWN0aW9ucyIsImNvbmZpcm1JZGVhbFBheW1lbnQiLCJTZXBhIiwiY29uZmlybVNlcGFEZWJpdFBheW1lbnQiLCJjYXJkIiwiZ2V0U3RyaXBlQ2FyZEVsZW1lbnRzIiwiZ2V0U3RyaXBlRWxlbWVudCIsIm1hcFN0cmlwZUJpbGxpbmdEZXRhaWxzIiwiZ2V0Q3VzdG9tZXIiLCJjcmVhdGVQYXltZW50TWV0aG9kIiwiYmlncGF5X3Rva2VuIiwiSlNPTiIsInN0cmluZ2lmeSIsInZhbGlkYXRlIiwic3VibWl0IiwibG9hZEN1cnJlbnRPcmRlciIsInN0cmlwZUNhcmRFbGVtZW50cyIsImdldExvY2FsZSIsIm1hcFN0cmlwZUFkZHJlc3MiLCJ0cmltIiwiemlwQ29kZUVsZW1lbnRPcHRpb25zIiwiYWRkcmVzc2VzIiwiaXNCaWxsaW5nQWRkcmVzc0xpa2UiLCJjdXN0b21lckFkZHJlc3MiLCJzdHJpcGVQYXltZW50TWV0aG9kVHlwZSIsInBheW1lbnRfbWV0aG9kIiwiY2FyZE51bWJlckVsZW1lbnQiLCJDYXJkTnVtYmVyIiwiY2FyZEV4cGlyeUVsZW1lbnQiLCJDYXJkRXhwaXJ5IiwiY2FyZEN2Y0VsZW1lbnQiLCJDYXJkQ3ZjIiwiZm9ybU9wdGlvbnMiLCJzdG9yZUNvbmZpZyIsImdldFN0b3JlQ29uZmlnIiwiYmlncGF5QmFzZVVybCIsInBheW1lbnRTZXR0aW5ncyIsImNyZWF0ZUhvc3RlZEZvcm0iLCJhdHRhY2giLCJpc1RocmVlRFNlY3VyZVJlcXVpcmVkRXJyb3IiLCJhY3Rpb24iLCJ0aHJlZV9kc19yZXN1bHQiLCJuZWVkc0NvbmZpcm0iLCJjYXRjaGVkQ29uZmlybUVycm9yIiwiY29uZmlybUNhcmRQYXltZW50IiwiZ2V0UGF5bWVudFRva2VuIiwiU3RyaXBlVjNTY3JpcHRMb2FkZXIiLCJsb2NhbGUiLCJ0aGVuIiwiZ2F0ZXdheSIsIkRFRkFVTFRfUkVTUE9OU0UiLCJoZWFkZXJzIiwiUmVxdWVzdEVycm9yIiwicmVzcG9uc2UiLCJzdXBwb3J0ZWRMb2NhbGVzIiwiYXIiLCJiZyIsImNzIiwiZGEiLCJkZSIsImVsIiwiZW4iLCJlcyIsImV0IiwiZmkiLCJmaWwiLCJmciIsImhlIiwiaHIiLCJodSIsIml0IiwiamEiLCJrbyIsImx0IiwibHYiLCJtcyIsIm10IiwibmIiLCJubCIsInBsIiwicHQiLCJybyIsInJ1Iiwic2siLCJzbCIsInN2IiwidGgiLCJ0ciIsInZpIiwiemgiLCJmb3JtYXRMb2NhbGUiLCJsb2NhbGVMYW5ndWFnZSIsImxhbmd1YWdlIiwiY291bnRyeUxvY2FsZXMiLCJmb3JtYXR0ZWRMb2NhbGUiLCJ0b1VwcGVyQ2FzZSIsIlN0cmlwZVVQRVBheW1lbnRTdHJhdGVneSIsIl9sb2FkU3RyaXBlRWxlbWVudCIsImNhdGNoIiwiX3N0cmlwZVVQRUNsaWVudCIsImdldEJpbGxpbmdBZGRyZXNzT3JUaHJvdyIsIl9leGVjdXRlV2l0aFZhdWx0ZWQiLCJfZXhlY3V0ZVdpdGhTdHJpcGVDb25maXJtYXRpb24iLCJfcHJvY2Vzc0FkZGl0aW9uYWxBY3Rpb25XaXRoU3RyaXBlQ29uZmlybWF0aW9uIiwiX3Byb2Nlc3NWYXVsdGVkQWRkaXRpb25hbEFjdGlvbiIsInJlbmRlciIsImluaXRTdHJpcGVFbGVtZW50VXBkYXRlVHJpZ2dlciIsIl9sb2FkU3RyaXBlSnMiLCJfaXNTdHJpcGVFbGVtZW50VXBkYXRlRW5hYmxlZCIsImdldFNoaXBwaW5nQWRkcmVzcyIsIndhbGxldHMiLCJfZ2V0U3RyaXBlRWxlbWVudFRlcm1zIiwiUkVBRFkiLCJfdXBkYXRlU3RyaXBlTGlua1N0YXRlQnlFbGVtZW50VHlwZSIsIl91cGRhdGVTdHJpcGVFbGVtZW50Iiwic2hvdWxkU2hvd1Rlcm1zIiwidGVybXMiLCJwYXltZW50RWxlbWVudFR5cGUiLCJpc1N0cmlwZUxpbmtFbGVtZW50VHlwZSIsIlN0cmlwZU9DU1BheW1lbnRTdHJhdGVneSIsIl9pbml0aWFsaXplU3RyaXBlRWxlbWVudCIsImRlc3Ryb3kiLCJjdXN0b21lclNlc3Npb25Ub2tlbiIsImVuYWJsZUxpbmsiLCJmb250cyIsImxheW91dCIsInBheW1lbnRNZXRob2RTZWxlY3QiLCJoYW5kbGVDbG9zZVBheW1lbnRNZXRob2QiLCJ0b2dnbGVQcmVsb2FkZXIiLCJjdXN0b21lclNlc3Npb25DbGllbnRTZWNyZXQiLCJzYXZlUGF5bWVudE1ldGhvZCIsIm1heFZpc2libGVQYXltZW50TWV0aG9kcyIsIkxPQURFUl9TVEFSVCIsIl9vblN0cmlwZUVsZW1lbnRDaGFuZ2UiLCJfY29sbGFwc2VTdHJpcGVFbGVtZW50IiwiY29sbGFwc2UiLCJwYXltZW50TWV0aG9kT3B0aW9ucyIsInVzX2JhbmtfYWNjb3VudCIsIl9zaG91bGRTYXZlSW5zdHJ1bWVudCIsInRva2VuaXplZE9wdGlvbnMiLCJfZ2V0VG9rZW5pemVkT3B0aW9ucyIsInNlbGVjdGVkTWV0aG9kSWQiLCJjbGllbnRfc2VjcmV0IiwicGF5bWVudEludGVudENsaWVudFNlY3JldCIsInBheW1lbnRfbWV0aG9kX29wdGlvbnMiLCJpc1N0cmlwZVBheW1lbnRFdmVudCIsImNvbGxhcHNlZCIsInNldHVwRnV0dXJlVXNhZ2UiLCJzZXR1cF9mdXR1cmVfdXNhZ2UiLCJPTl9TRVNTSU9OIiwiT0ZGX1NFU1NJT04iLCJ0b2tlbml6ZWRfYWNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/stripe.js\n\n}");

/***/ })

}]);