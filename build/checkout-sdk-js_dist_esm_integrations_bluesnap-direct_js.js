"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["checkout-sdk-js_dist_esm_integrations_bluesnap-direct_js"],{

/***/ "../checkout-sdk-js/dist/esm/integrations/bluesnap-direct.js":
/*!*******************************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/bluesnap-direct.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createBlueSnapDirectAPMPaymentStrategy: () => (/* binding */ V),\n/* harmony export */   createBlueSnapDirectCreditCardPaymentStrategy: () => (/* binding */ F),\n/* harmony export */   createBlueSnapV2PaymentStrategy: () => (/* binding */ K)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"../checkout-sdk-js/node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"../checkout-sdk-js/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\nvar i,a={};function r(e,t){return Object.assign(e,{resolveIds:t})}a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);class s extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class o extends s{constructor(e){super(e||\"Unable to proceed because the client library of a payment method has thrown an unexpected error.\"),this.name=\"PaymentMethodFailedError\",this.type=\"payment_method_client_invalid\"}}function d(e,t){if(null==e)throw t?t():new Error(\"An unexpected error has occurred.\");return e}!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(i||(i={}));class c extends s{constructor(e){super(function(e){switch(e){case i.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case i.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case i.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case i.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}var u,l;class p{initialize(e){this._blueSnapSdk=e}initialize3ds(e,t){return n=this,i=void 0,r=function*(){const n=this._getBlueSnapSdk();return new Promise((i,a)=>{n.threeDsPaymentsSetup(e,e=>\"1\"===e.code?i(e.threeDSecure.threeDSecureReferenceId):a(new o)),n.threeDsPaymentsSubmitData(t)})},new((a=void 0)||(a=Promise))(function(e,t){function s(e){try{d(r.next(e))}catch(e){t(e)}}function o(e){try{d(r.throw(e))}catch(e){t(e)}}function d(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a(function(e){e(n)})).then(s,o)}d((r=r.apply(n,i||[])).next())});// removed by dead control flow\n var n, i, a, r; }_getBlueSnapSdk(){return d(this._blueSnapSdk,()=>new c(i.PaymentNotInitialized))}}class m extends s{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}class h extends m{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}function y(e){return!(\"object\"!=typeof e||null===e||void 0!==e.shouldSaveInstrument&&\"boolean\"!=typeof e.shouldSaveInstrument||void 0!==e.shouldSetAsDefaultInstrument&&\"boolean\"!=typeof e.shouldSetAsDefaultInstrument)}function b(e){return Boolean(e.instrumentId)}class g extends s{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}!function(e){e[e.MissingBillingAddress=0]=\"MissingBillingAddress\",e[e.MissingCart=1]=\"MissingCart\",e[e.MissingCheckout=2]=\"MissingCheckout\",e[e.MissingConsignments=3]=\"MissingConsignments\",e[e.MissingCustomer=4]=\"MissingCustomer\",e[e.MissingCheckoutConfig=5]=\"MissingCheckoutConfig\",e[e.MissingOrder=6]=\"MissingOrder\",e[e.MissingOrderConfig=7]=\"MissingOrderConfig\",e[e.MissingOrderId=8]=\"MissingOrderId\",e[e.MissingPayment=9]=\"MissingPayment\",e[e.MissingPaymentId=10]=\"MissingPaymentId\",e[e.MissingPaymentInstrument=11]=\"MissingPaymentInstrument\",e[e.MissingPaymentMethod=12]=\"MissingPaymentMethod\",e[e.MissingPaymentRedirectUrl=13]=\"MissingPaymentRedirectUrl\",e[e.MissingPaymentStatus=14]=\"MissingPaymentStatus\",e[e.MissingPaymentToken=15]=\"MissingPaymentToken\",e[e.MissingShippingAddress=16]=\"MissingShippingAddress\"}(u||(u={}));class _ extends s{constructor(e){super(function(e){switch(e){case u.MissingBillingAddress:return\"Unable to proceed because billing address data is unavailable.\";case u.MissingCart:return\"Unable to proceed because cart data is unavailable.\";case u.MissingConsignments:return\"Unable to proceed because consignments data is unavailable.\";case u.MissingCheckout:return\"Unable to proceed because checkout data is unavailable.\";case u.MissingCustomer:return\"Unable to proceed because customer data is unavailable.\";case u.MissingCheckoutConfig:case u.MissingOrderConfig:return\"Unable to proceed because configuration data is unavailable.\";case u.MissingOrder:return\"Unable to proceed because order data is unavailable.\";case u.MissingOrderId:return\"Unable to proceed because order ID is unavailable or not generated yet.\";case u.MissingPayment:return\"Unable to proceed because payment data is unavailable.\";case u.MissingPaymentToken:return\"Unable to proceed because the token required to submit a payment is missing.\";case u.MissingPaymentMethod:return\"Unable to proceed because payment method data is unavailable or not properly configured.\";case u.MissingShippingAddress:return\"Unable to proceed because shipping address data is unavailable.\";default:return\"Unable to proceed because the required data is unavailable.\"}}(e)),this.subtype=e,this.name=\"MissingDataError\",this.type=\"missing_data\"}}!function(e){e.CardCode=\"cardCode\",e.CardCodeVerification=\"cardCodeVerification\",e.CardExpiry=\"cardExpiry\",e.CardName=\"cardName\",e.CardNumber=\"cardNumber\",e.CardNumberVerification=\"cardNumberVerification\",e.CardExpiryVerification=\"cardExpiryVerification\"}(l||(l={}));const f=l;function v(e){return f.CardNumber in e}function I(e){return f.CardCodeVerification in e||f.CardNumberVerification in e}var S,C,N,O,E,w=function(e,t,n,i){return new(n||(n=Promise))(function(a,r){function s(e){try{d(i.next(e))}catch(e){r(e)}}function o(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}d((i=i.apply(e,t||[])).next())})};class P{constructor(e,t,n,i){this._scriptLoader=e,this._paymentIntegrationService=t,this._blueSnapDirectHostedForm=n,this._blueSnapDirect3ds=i}initialize(e){return w(this,void 0,void 0,function*(){const{methodId:t,gatewayId:n,creditCard:i}=e;if(!n||!i)throw new m;const a=yield this._paymentIntegrationService.loadPaymentMethod(n,{params:{method:t,bigpayToken:i.bigpayToken}}),{config:{testMode:r,is3dsEnabled:s},clientToken:o}=a.getPaymentMethodOrThrow(t,n);this._blueSnapSdk=yield this._scriptLoader.load(r),this._paymentFieldsToken=o,this._shouldUseHostedFields=v(i.form.fields)||I(i.form.fields)&&!!i.form.fields.cardNumberVerification,this._shouldUseHostedFields&&(this._blueSnapDirectHostedForm.initialize(this._blueSnapSdk,i.form.fields),yield this._blueSnapDirectHostedForm.attach(this._getPaymentFieldsToken(),i,s))})}execute(e){return w(this,void 0,void 0,function*(){if(!e.payment)throw new h([\"payment\"]);if(!this._blueSnapSdk)throw new h([\"payment\"]);const{paymentData:t}=e.payment,{shouldSaveInstrument:n,shouldSetAsDefaultInstrument:i}=y(t)?t:{shouldSaveInstrument:!1,shouldSetAsDefaultInstrument:!1},a=this._getPaymentFieldsToken();let r;const{is3dsEnabled:s}=this._paymentIntegrationService.getState().getPaymentMethodOrThrow(e.payment.methodId,e.payment.gatewayId).config,o=this._shouldUseHostedFields?yield this._blueSnapDirectHostedForm.validate().submit(s?this._getBlueSnapDirectThreeDSecureData():void 0,!(y(t)&&b(t))):void 0;if(yield this._paymentIntegrationService.submitOrder(),y(t)&&b(t)&&this._paymentFieldsToken&&t.instrumentId){if(s){this._blueSnapDirect3ds.initialize(this._blueSnapSdk);const{last4:e,brand:n}=this._paymentIntegrationService.getState().getCardInstrumentOrThrow(t.instrumentId),i=Object.assign({last4Digits:e,ccType:n.toUpperCase()},this._getBlueSnapDirectThreeDSecureData());r=yield this._blueSnapDirect3ds.initialize3ds(this._paymentFieldsToken,i)}yield this._paymentIntegrationService.submitPayment(Object.assign(Object.assign({},e.payment),{paymentData:Object.assign(Object.assign(Object.assign({instrumentId:t.instrumentId},this._shouldUseHostedFields?{nonce:a}:{}),r?{deviceSessionId:r}:{}),{shouldSetAsDefaultInstrument:!!i})}))}else yield this._paymentIntegrationService.submitPayment(Object.assign(Object.assign({},e.payment),{paymentData:{formattedPayload:{credit_card_token:{token:JSON.stringify({pfToken:a,cardHolderName:o&&o.cardHolderName})},vault_payment_instrument:n,set_as_default_stored_instrument:i}}}))})}finalize(){return Promise.reject(new g)}deinitialize(){return this._shouldUseHostedFields&&this._blueSnapDirectHostedForm.detach(),Promise.resolve()}_getBlueSnapDirectThreeDSecureData(){var e;const{getBillingAddress:t,getShippingAddress:n,getCustomer:i,getCheckoutOrThrow:a,getCartOrThrow:r}=this._paymentIntegrationService.getState(),s=t(),o=n(),d=(null===(e=i())||void 0===e?void 0:e.email)||(null==s?void 0:s.email),c=(null==s?void 0:s.phone)||(null==o?void 0:o.phone);return Object.assign(Object.assign(Object.assign(Object.assign({amount:a().outstandingBalance,currency:r().currency.code},d&&{email:d}),c&&{phone:c}),s&&{billingFirstName:s.firstName,billingLastName:s.lastName,billingCountry:s.countryCode,billingCity:s.city,billingAddress:`${s.address1} ${s.address2}`.trim(),billingZip:s.postalCode}),o&&{shippingFirstName:o.firstName,shippingLastName:o.lastName,shippingCountry:o.countryCode,shippingCity:o.city,shippingAddress:`${o.address1} ${o.address2}`.trim(),shippingZip:o.postalCode})}_getPaymentFieldsToken(){return d(this._paymentFieldsToken,()=>new _(u.MissingPaymentToken))}}class D extends s{constructor(e,t){super(t||\"Unable to proceed because the payment form contains invalid data.\"),this.details=e,this.name=\"PaymentInvalidFormError\",this.type=\"payment_invalid_form\"}}!function(e){e.AMEX=\"american-express\",e.CHINA_UNION_PAY=\"unionpay\",e.DINERS=\"diners-club\",e.DISCOVER=\"discover\",e.JCB=\"jcb\",e.MASTERCARD=\"mastercard\",e.UNKNOWN=\"unknown\",e.VISA=\"visa\"}(S||(S={})),function(e){e.ON_BLUR=\"onBlur\",e.ON_SUBMIT=\"onSubmit\"}(C||(C={})),function(e){e.EMPTY=\"empty\",e.INVALID=\"invalid\",e.THREE_DS_NOT_ENABLED=\"3D Secure is not enabled\"}(N||(N={})),function(e){e.CC_NOT_SUPORTED=\"22013\",e.ERROR_403=\"403\",e.ERROR_404=\"404\",e.ERROR_500=\"500\",e.INVALID_OR_EMPTY=\"10\",e.SESSION_EXPIRED=\"400\",e.THREE_DS_AUTH_FAILED=\"14101\",e.THREE_DS_CLIENT_ERROR=\"14103\",e.THREE_DS_MISSING_FIELDS=\"14102\",e.THREE_DS_NOT_ENABLED=\"14100\",e.TOKEN_EXPIRED=\"14040\",e.TOKEN_NOT_ASSOCIATED=\"14042\",e.TOKEN_NOT_FOUND=\"14041\"}(O||(O={})),function(e){e.CardCode=\"cvv\",e.CardExpiry=\"exp\",e.CardName=\"noc\",e.CardNumber=\"ccn\"}(E||(E={}));const M={[E.CardNumber]:f.CardNumber,[E.CardExpiry]:f.CardExpiry,[E.CardName]:f.CardName,[E.CardCode]:f.CardCode},T={empty:{[f.CardNumber]:{fieldType:\"cardNumber\",message:\"Credit card number is required\",type:\"required\"},[f.CardNumberVerification]:{fieldType:\"cardNumber\",message:\"Credit card number is required\",type:\"required\"},[f.CardExpiry]:{fieldType:\"cardExpiry\",message:\"Expiration date is required\",type:\"required\"},[f.CardCode]:{fieldType:\"cardCode\",message:\"CVV is required\",type:\"required\"},[f.CardName]:{fieldType:\"cardName\",message:\"Full name is required\",type:\"required\"}},invalid:{[f.CardNumber]:{fieldType:\"cardNumber\",message:\"Credit card number must be valid\",type:\"invalid_card_number\"},[f.CardNumberVerification]:{fieldType:\"cardNumber\",message:\"Credit card number must be valid\",type:\"invalid_card_number\"},[f.CardExpiry]:{fieldType:\"cardExpiry\",message:\"Expiration date must be a valid future date in MM / YY format\",type:\"invalid_card_expiry\"},[f.CardCode]:{fieldType:\"cardCode\",message:\"CVV must be valid\",type:\"invalid_card_code\"},[f.CardName]:{fieldType:\"cardName\",message:\"Full name is required\",type:\"required\"}}};class j{constructor(e,t){this._nameOnCardInput=e,this._hostedInputValidator=t}initialize(e,t){this._blueSnapSdk=e,t&&(v(t)?this._hostedInputValidator.initialize():I(t)&&t.cardNumberVerification&&this._hostedInputValidator.initializeValidationFields())}attach(e,t,n){var i,a,r,s,o=t.form,{fields:d}=o,c=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n}(o,[\"fields\"]);return void 0===n&&(n=!1),i=this,a=void 0,s=function*(){const t=this._getBlueSnapSdk();if(!v(d)&&!I(d))throw new m(\"Field options must be of type HostedCardFieldOptionsMap\");return this._onValidate=c.onValidate,v(d)&&this._setCustomBlueSnapAttributes(d),I(d)&&this._setCustomStoredCardsBlueSnapAttributes(d),new Promise(i=>{const a=this._getHostedPaymentFieldsOptions(e,d,c,i,n);t.hostedPaymentFieldsCreate(a),v(d)&&this._nameOnCardInput.attach(a,d.cardName.accessibilityLabel,d.cardName.placeholder)})},new((r=void 0)||(r=Promise))(function(e,t){function n(e){try{d(s.next(e))}catch(e){t(e)}}function o(e){try{d(s.throw(e))}catch(e){t(e)}}function d(t){var i;t.done?e(t.value):(i=t.value,i instanceof r?i:new r(function(e){e(i)})).then(n,o)}d((s=s.apply(i,a||[])).next())})}validate(){var e;const t=this._hostedInputValidator.validate();if(null===(e=this._onValidate)||void 0===e||e.call(this,t),!t.isValid){const e=Object.entries(t.errors).reduce((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:n.map(({message:e,type:t})=>({message:e,type:t}))}),{});throw new D(e)}return this}submit(e,t=!1){return new Promise((n,i)=>this._getBlueSnapSdk().hostedPaymentFieldsSubmitData(e=>this._isBlueSnapDirectCallbackError(e)?i(new o(e.statusCode===O.THREE_DS_AUTH_FAILED?e.error[0].errorDescription:`Submission failed with status: ${e.statusCode} and errors: ${JSON.stringify(e.error)}`)):n(Object.assign(Object.assign({},e.cardData),t?{cardHolderName:this._nameOnCardInput.getValue()}:{})),e))}detach(){this._nameOnCardInput.detach()}_isBlueSnapDirectCallbackError(e){return\"error\"in e}_getHostedPaymentFieldsOptions(e,t,{onFocus:n,onBlur:i,onValidate:a,onCardTypeChange:r,onEnter:s,styles:o},d,c){var u;return Object.assign(Object.assign(Object.assign({token:e,onFieldEventHandler:{setupComplete:()=>d(),onFocus:this._usetUiEventCallback(n),onBlur:this._usetUiEventCallback(i),onError:this._handleError(a),onType:(e,t)=>null==r?void 0:r({cardType:S[t]}),onEnter:this._usetUiEventCallback(s),onValid:e=>null==a?void 0:a(this._hostedInputValidator.validate({tagId:e}))}},v(t)&&{ccnPlaceHolder:t.cardNumber.placeholder||\"\",cvvPlaceHolder:(null===(u=t.cardCode)||void 0===u?void 0:u.placeholder)||\"\",expPlaceHolder:t.cardExpiry.placeholder||\"MM / YY\"}),o&&{style:this._mapStyles(o)}),{\"3DS\":c})}_mapStyles({default:e,error:n,focus:i}){return Object.entries(Object.assign(Object.assign(Object.assign({},e&&{input:e}),n&&{\".invalid\":n}),i&&{\":focus\":i})).reduce((e,[n,i])=>Object.assign(Object.assign({},e),{[n]:Object.entries(i).reduce((e,[n,i])=>Object.assign(Object.assign({},e),{[(0,lodash__WEBPACK_IMPORTED_MODULE_1__.kebabCase)(n)]:i}),{})}),{})}_handleError(e){return(t,n,i,a)=>{if(n===O.INVALID_OR_EMPTY&&t&&function(e){return void 0!==e&&[N.EMPTY,N.INVALID].includes(e)}(i))return null==e?void 0:e(this._hostedInputValidator.validate({tagId:t,errorDescription:i}));throw new o(`An unexpected error has occurred: ${JSON.stringify({tagId:t,errorCode:n,errorDescription:i,eventOrigin:a})}`)}}_usetUiEventCallback(e){return t=>{e&&e({fieldType:M[t]})}}_getBlueSnapSdk(){return d(this._blueSnapSdk,()=>new c(i.PaymentNotInitialized))}_setCustomBlueSnapAttributes(e){const{cardNumber:t,cardExpiry:n,cardCode:i,cardName:a}=e,r=document.getElementById(t.containerId),s=document.getElementById(n.containerId),o=i&&document.getElementById(i.containerId),d=document.getElementById(a.containerId);if(!(r&&s&&o&&d))throw new m(\"Unable to create hosted payment fields to invalid HTML container elements.\");r.dataset.bluesnap=E.CardNumber,s.dataset.bluesnap=E.CardExpiry,o.dataset.bluesnap=E.CardCode,d.dataset.bluesnap=E.CardName}_setCustomStoredCardsBlueSnapAttributes(e){const{cardNumberVerification:t,cardCodeVerification:n}=e,i=t&&document.getElementById(t.containerId),a=n&&document.getElementById(n.containerId);(i||a)&&(i&&(i.dataset.bluesnap=E.CardNumber),a&&(a.dataset.bluesnap=E.CardCode))}}class k{constructor(){this._errors={}}initialize(){this._errors={cardNumber:[T.empty.cardNumber],cardExpiry:[T.empty.cardExpiry],cardCode:[T.empty.cardCode],cardName:[T.empty.cardName]}}initializeValidationFields(){this._errors={cardNumberVerification:[T.empty.cardNumber]}}validate(e){return e&&this._updateErrors(e.tagId,e.errorDescription),{isValid:Object.values(this._errors).every(e=>0===e.length),errors:this._errors}}_updateErrors(e,t){const n=this._errors.cardNumberVerification?f.CardNumberVerification:M[e];this._errors[n]=t?[T[t][n]]:[]}}class A{attach({style:e,onFieldEventHandler:{onFocus:t,onBlur:n,onValid:i,onError:a,onEnter:r}={}},s,o){var d;this._style=e,this._create(),this._getInput().addEventListener(\"focus\",this._handleFocus(t)),this._getInput().addEventListener(\"blur\",this._handleBlur(n,i,a)),this._getInput().addEventListener(\"enter\",this._handleEnter(r)),s&&this._getInput().setAttribute(\"aria-label\",s),o&&(this._getInput().placeholder=o),null===(d=document.querySelector('[data-bluesnap=\"noc\"]'))||void 0===d||d.appendChild(this._getInput())}getValue(){return this._getInput().value}detach(){this._input&&(this._input.remove(),this._input=void 0)}_handleFocus(e){return()=>{var t;this._applyStyles(null===(t=this._style)||void 0===t?void 0:t[\":focus\"]),null==e||e(E.CardName)}}_handleBlur(e,t,n){return({target:i})=>{var a,r;null==e||e(E.CardName),i instanceof HTMLInputElement&&(/\\w{1,200}/.test(i.value)?(this._applyStyles(null===(a=this._style)||void 0===a?void 0:a.input),null==t||t(E.CardName)):(this._applyStyles(null===(r=this._style)||void 0===r?void 0:r[\".invalid\"]),null==n||n(E.CardName,O.INVALID_OR_EMPTY,N.EMPTY,C.ON_BLUR)))}}_handleEnter(e){return()=>null==e?void 0:e(E.CardName)}_applyStyles(e={}){const t={color:e.color,fontFamily:e[\"font-family\"],fontSize:e[\"font-size\"],fontWeight:e[\"font-weight\"]},n=Object.keys(t);n.every(e=>[\"color\",\"fontFamily\",\"fontSize\",\"fontWeight\"].includes(e))&&n.forEach(e=>{t[e]&&(this._getInput().style[e]=t[e]||\"\")})}_configureInput(){this._getInput().autocomplete=\"cc-name\",this._getInput().id=E.CardName,this._getInput().inputMode=\"text\",this._getInput().maxLength=200,this._getInput().style.backgroundColor=\"transparent\",this._getInput().style.border=\"0\",this._getInput().style.height=\"100%\",this._getInput().style.margin=\"0\",this._getInput().style.outline=\"none\",this._getInput().style.padding=\"0\",this._getInput().style.width=\"100%\",this._getInput().type=\"text\"}_getInput(){return d(this._input,()=>new c(i.PaymentNotInitialized))}_create(){var e;this._input=document.createElement(\"input\"),this._configureInput(),this._applyStyles(null===(e=this._style)||void 0===e?void 0:e.input)}}class x extends s{constructor(e){super(e||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}var z;!function(e){e.PRODUCTION=\"https://pay.bluesnap.com/web-sdk/5/bluesnap.js\",e.SANDBOX=\"https://sandpay.bluesnap.com/web-sdk/5/bluesnap.js\"}(z||(z={}));class B{constructor(e,t=window){this._scriptLoader=e,this._window=t}load(e=!1){return t=this,n=void 0,a=function*(){if(this._window.bluesnap)return this._window.bluesnap;if(yield this._scriptLoader.loadScript(e?z.SANDBOX:z.PRODUCTION),!this._window.bluesnap)throw new x;return this._window.bluesnap},new((i=void 0)||(i=Promise))(function(e,r){function s(e){try{d(a.next(e))}catch(e){r(e)}}function o(e){try{d(a.throw(e))}catch(e){r(e)}}function d(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i(function(e){e(n)})).then(s,o)}d((a=a.apply(t,n||[])).next())});// removed by dead control flow\n var t, n, i, a; }}const F=r(t=>new P(new B((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)()),t,new j(new A,new k),new p),[{id:\"credit_card\",gateway:\"bluesnapdirect\"}]);class U{constructor(e){this._paymentIntegrationService=e}execute(e){return t=this,n=void 0,a=function*(){const t=this._formatePaymentPayload(e);yield this._paymentIntegrationService.submitOrder();try{yield this._paymentIntegrationService.submitPayment(t)}catch(e){if(this._isBlueSnapDirectRedirectResponse(e)){const t=e.body.provider_data&&JSON.parse(e.body.provider_data);let n=e.body.additional_action_required.data.redirect_url;if(function(e){if(\"object\"!=typeof e||null===e)return!1;const t=e;return!!t.merchantid&&\"string\"==typeof t.merchantid}(t)){const e=new URLSearchParams(t).toString();n=`${n}&${e}`}return new Promise(()=>window.location.replace(n))}return Promise.reject(e)}},new((i=void 0)||(i=Promise))(function(e,r){function s(e){try{d(a.next(e))}catch(e){r(e)}}function o(e){try{d(a.throw(e))}catch(e){r(e)}}function d(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i(function(e){e(n)})).then(s,o)}d((a=a.apply(t,n||[])).next())});// removed by dead control flow\n var t, n, i, a; }initialize(){return Promise.resolve()}finalize(){return Promise.reject(new g)}deinitialize(){return Promise.resolve()}_formatePaymentPayload({payment:e}){if(!e)throw new h([\"payment\"]);return e.paymentData&&b(e.paymentData)&&y(e.paymentData)?Object.assign(Object.assign({},e),{paymentData:{instrumentId:e.paymentData.instrumentId,shouldSetAsDefaultInstrument:!!e.paymentData.shouldSetAsDefaultInstrument}}):(t=e.paymentData,Boolean(\"object\"==typeof t&&null!==t&&\"accountNumber\"in t&&\"accountType\"in t&&\"shopperPermission\"in t&&\"routingNumber\"in t)?Object.assign(Object.assign({},e),{paymentData:{formattedPayload:{ecp:Object.assign({account_number:e.paymentData.accountNumber,account_type:e.paymentData.accountType,shopper_permission:e.paymentData.shopperPermission,routing_number:e.paymentData.routingNumber},e.paymentData.companyName?{company_name:e.paymentData.companyName}:{}),vault_payment_instrument:e.paymentData.shouldSaveInstrument,set_as_default_stored_instrument:e.paymentData.shouldSetAsDefaultInstrument}}}):(n=e.paymentData,Boolean(\"object\"==typeof n&&null!==n&&\"iban\"in n&&\"firstName\"in n&&\"lastName\"in n&&\"shopperPermission\"in n)?Object.assign(Object.assign({},e),{paymentData:{formattedPayload:{sepa_direct_debit:{iban:e.paymentData.iban,first_name:e.paymentData.firstName,last_name:e.paymentData.lastName,shopper_permission:e.paymentData.shopperPermission},vault_payment_instrument:e.paymentData.shouldSaveInstrument,set_as_default_stored_instrument:e.paymentData.shouldSetAsDefaultInstrument}}}):function(e){return Boolean(\"object\"==typeof e&&null!==e&&\"bic\"in e)}(e.paymentData)?Object.assign(Object.assign({},e),{paymentData:{formattedPayload:{ideal:{bic:e.paymentData.bic}}}}):function(e){return Boolean(\"object\"==typeof e&&null!==e&&\"iban\"in e&&!(\"firstName\"in e)&&!(\"lastName\"in e)&&!(\"shopperPermission\"in e))}(e.paymentData)?Object.assign(Object.assign({},e),{paymentData:{formattedPayload:{pay_by_bank:{iban:e.paymentData.iban}}}}):{methodId:e.methodId}));// removed by dead control flow\n var t, n; }_isBlueSnapDirectRedirectResponse(e){var t;if(\"object\"!=typeof e||null===e)return!1;const n=e;if(!n.body)return!1;const i=n.body;return\"additional_action_required\"===i.status&&!!(null===(t=i.additional_action_required)||void 0===t?void 0:t.data.redirect_url)}}const V=r(e=>new U(e),[{gateway:\"bluesnapdirect\"}]);class R{constructor(e){const t=new Promise((e,t)=>{this.cancel=t});this.promise=Promise.race([e,t])}}class L extends s{constructor(e){super(e||\"Payment process was cancelled.\"),this.name=\"PaymentMethodCancelledError\",this.type=\"payment_cancelled\"}}var H;!function(e){e.ACKNOWLEDGE=\"ACKNOWLEDGE\",e.FINALIZE=\"FINALIZE\",e.INITIALIZE=\"INITIALIZE\"}(H||(H={}));const q=H;var Y=function(e,t,n,i){return new(n||(n=Promise))(function(a,r){function s(e){try{d(i.next(e))}catch(e){r(e)}}function o(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}d((i=i.apply(e,t||[])).next())})};class ${constructor(e){this._paymentIntegrationService=e}execute(e,t){return Y(this,void 0,void 0,function*(){const{payment:a}=e;if(!a)throw new h([\"payment\"]);if(!this._initializeOptions)throw new c(i.PaymentNotInitialized);const{onLoad:r,style:s}=this._initializeOptions,o=this._createIframe(\"bluesnapv2_hosted_payment_page\",s),d=new R(new Promise(lodash__WEBPACK_IMPORTED_MODULE_1__.noop));r(o,()=>d.cancel(new L)),yield this._paymentIntegrationService.submitOrder(e,t),yield this._paymentIntegrationService.initializeOffsitePayment({methodId:a.methodId,gatewayId:a.gatewayId,shouldSaveInstrument:!1,target:o.name,promise:d.promise})})}finalize(e){return Y(this,void 0,void 0,function*(){const t=this._paymentIntegrationService.getState(),n=t.getOrder(),i=t.getPaymentStatus();if(!n||i!==q.ACKNOWLEDGE&&i!==q.FINALIZE)return Promise.reject(new g);yield this._paymentIntegrationService.finalizeOrder(e)})}initialize(e){return Y(this,void 0,void 0,function*(){this._initializeOptions=e&&e.bluesnapv2,yield Promise.resolve()})}deinitialize(){return Promise.resolve()}_createIframe(e,t){const n=document.createElement(\"iframe\");if(n.setAttribute(\"sandbox\",\"allow-top-navigation allow-scripts allow-forms allow-same-origin\"),n.name=e,t){const{border:e,height:i,width:a}=t;n.style.border=null!=e?e:\"\",n.style.height=null!=i?i:\"\",n.style.width=null!=a?a:\"\"}return n}}const K=r(e=>new $(e),[{gateway:\"bluesnapv2\"}]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9ibHVlc25hcC1kaXJlY3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ0EsSUNDWUEsRUREUkMsRUFBc0IsQ0FBQyxFRUNaLFNBQVNDLEVBQ3BCQyxFQUNBQyxHQUVBLE9BQU9DLE9BQU9DLE9BQU9ILEVBQVEsQ0FBRUMsY0FDbkMsQ0NOQUgsRUFBb0JNLEVBQUksQ0FBQ0MsRUFBU0MsS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYUixFQUFvQlUsRUFBRUYsRUFBWUMsS0FBU1QsRUFBb0JVLEVBQUVILEVBQVNFLElBQzVFTCxPQUFPTyxlQUFlSixFQUFTRSxFQUFLLENBQUVHLFlBQVksRUFBTUMsSUFBS0wsRUFBV0MsTUNKM0VULEVBQW9CVSxFQUFJLENBQUNJLEVBQUtDLElBQVVYLE9BQU9ZLFVBQVVDLGVBQWVDLEtBQUtKLEVBQUtDLEdDT25FLE1BQWVJLFVBQXNCQyxNQUloRCxXQUFBQyxDQUFZQyxHQ1hELElBQXFDTixFRFk1Q08sTUFBTUQsR0FBVyxxQ0FKckIsS0FBQUUsS0FBTyxnQkFDUCxLQUFBQyxLQUFPLFdDVHlDVCxhRGNaQSxVQ2JoQ1osT0FBT3NCLGVBQ1B0QixPQUFPc0IsZURZUUMsS0NaZVgsR0RZZlcsS0NWUkMsVUFBWVosRURZb0IsbUJBQTVCSSxNQUFNUyxrQkFDYlQsTUFBTVMsa0JBQWtCRixpQkFFeEJBLEtBQUtHLE1BQVEsSUFBSVYsTUFBTU8sS0FBS0wsU0FBU1EsS0FFN0MsRUVkVyxNQUFNQyxVQUFpQ1osRUFDbEQsV0FBQUUsQ0FBWUMsR0FDUkMsTUFDSUQsR0FDSSxvR0FHUkssS0FBS0gsS0FBTywyQkFDWkcsS0FBS0YsS0FBTywrQkFDaEIsRUNoQlcsU0FBU08sRUFBU0MsRUFBVUMsR0FDdkMsR0FBSUQsUUFDQSxNQUFNQyxFQUFlQSxJQUFpQixJQUFJZCxNQUFNLHFDQUdwRCxPQUFPYSxDQUNYLEVQSkEsU0FBWWxDLEdBQ1IsbUVBQ0EsdURBQ0Es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Y2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3dlYnBhY2svYm9vdHN0cmFwP2ZmY2MiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbm90LWluaXRpYWxpemVkLWVycm9yLnRzPzhiNGQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy90by1yZXNvbHZhYmxlLW1vZHVsZS50cz9kNTIwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzPzk5NGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kPzllYTQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvc3RhbmRhcmQtZXJyb3IudHM/OGEwMyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9zZXQtcHJvdG90eXBlLW9mLnRzPzg0NWEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1tZXRob2QtZmFpbGVkLWVycm9yLnRzPzA3ZGQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy91dGlsLXR5cGVzL2d1YXJkLnRzPzZlNjkiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbWlzc2luZy1kYXRhLWVycm9yLnRzP2I3ZGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9ob3N0ZWQtZm9ybS9ob3N0ZWQtZmllbGQtdHlwZS50cz82NWQ4Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9ibHVlc25hcC1kaXJlY3QtaW50ZWdyYXRpb24vc3JjL2JsdWVzbmFwLWRpcmVjdC1jcmVkaXQtY2FyZC9ibHVlc25hcC1kaXJlY3QtM2RzLnRzPzNiNmYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvaW52YWxpZC1hcmd1bWVudC1lcnJvci50cz8zOTIxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3BheW1lbnQtYXJndW1lbnQtaW52YWxpZC1lcnJvci50cz9hNTAxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvcGF5bWVudC9pcy1ob3N0ZWQtaW50cnVtZW50LWxpa2UudHM/ODc2MyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL3BheW1lbnQvaXMtdmF1bHRlZC1pbnN0cnVtZW50LnRzPzE4MGYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvb3JkZXItZmluYWxpemF0aW9uLW5vdC1yZXF1aXJlZC1lcnJvci50cz9iNWExIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9ibHVlc25hcC1kaXJlY3QtaW50ZWdyYXRpb24vc3JjL3V0aWxzL2lzLWhvc3RlZC1jYXJkLWZpZWxkLW9wdGlvbnMtbWFwLnRzPzEyZjEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JsdWVzbmFwLWRpcmVjdC1pbnRlZ3JhdGlvbi9zcmMvdXRpbHMvaXMtaG9zdGVkLXN0b3JlZC1jYXJkLWZpZWxkLW9wdGlvbnMtbWFwLnRzPzRmZjMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JsdWVzbmFwLWRpcmVjdC1pbnRlZ3JhdGlvbi9zcmMvdHlwZXMudHM/YjVjNiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYmx1ZXNuYXAtZGlyZWN0LWludGVncmF0aW9uL3NyYy9ibHVlc25hcC1kaXJlY3QtY3JlZGl0LWNhcmQvYmx1ZXNuYXAtZGlyZWN0LWNyZWRpdC1jYXJkLXBheW1lbnQtc3RyYXRlZ3kudHM/YjYwZSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LWludmFsaWQtZm9ybS1lcnJvci50cz9jMGZiIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9ibHVlc25hcC1kaXJlY3QtaW50ZWdyYXRpb24vc3JjL2JsdWVzbmFwLWRpcmVjdC1jb25zdGFudHMudHM/ZWU2MyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYmx1ZXNuYXAtZGlyZWN0LWludGVncmF0aW9uL3NyYy9ibHVlc25hcC1kaXJlY3QtY3JlZGl0LWNhcmQvYmx1ZXNuYXAtZGlyZWN0LWhvc3RlZC1mb3JtLnRzPzUyM2UiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JsdWVzbmFwLWRpcmVjdC1pbnRlZ3JhdGlvbi9zcmMvdXRpbHMvaXMtYmx1ZXNuYXAtZGlyZWN0LWlucHV0LXZhbGlkYXRpb24tZXJyb3ItZGVzY3JpcHRpb24udHM/Y2ZjMiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYmx1ZXNuYXAtZGlyZWN0LWludGVncmF0aW9uL3NyYy9ibHVlc25hcC1kaXJlY3QtY3JlZGl0LWNhcmQvYmx1ZXNuYXAtZGlyZWN0LWhvc3RlZC1pbnB1dC12YWxpZGF0b3IudHM/ODFlOCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYmx1ZXNuYXAtZGlyZWN0LWludGVncmF0aW9uL3NyYy9ibHVlc25hcC1kaXJlY3QtY3JlZGl0LWNhcmQvYmx1ZXNuYXAtZGlyZWN0LW5hbWUtb24tY2FyZC1pbnB1dC50cz81NjJmIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9ibHVlc25hcC1kaXJlY3QtaW50ZWdyYXRpb24vc3JjL3V0aWxzL2lzLWFycmF5LW9mLWFsbG93ZWQtcHJvcHMudHM/NzEzNyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LW1ldGhvZC1jbGllbnQtdW5hdmFpbGFibGUtZXJyb3IudHM/ZjhlYyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYmx1ZXNuYXAtZGlyZWN0LWludGVncmF0aW9uL3NyYy9ibHVlc25hcC1kaXJlY3QtY3JlZGl0LWNhcmQvYmx1ZXNuYXAtZGlyZWN0LXNjcmlwdC1sb2FkZXIudHM/OTA4ZiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYmx1ZXNuYXAtZGlyZWN0LWludGVncmF0aW9uL3NyYy9ibHVlc25hcC1kaXJlY3QtY3JlZGl0LWNhcmQvY3JlYXRlLWJsdWVzbmFwLWRpcmVjdC1jcmVkaXQtY2FyZC1wYXltZW50LXN0cmF0ZWd5LnRzPzMzZWMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JsdWVzbmFwLWRpcmVjdC1pbnRlZ3JhdGlvbi9zcmMvYmx1ZXNuYXAtZGlyZWN0LWFwbS9ibHVlc25hcC1kaXJlY3QtYXBtLXBheW1lbnQtc3RyYXRlZ3kudHM/OWVmNiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYmx1ZXNuYXAtZGlyZWN0LWludGVncmF0aW9uL3NyYy91dGlscy9pcy1ibHVlc25hcC1kaXJlY3QtcHJvdmlkZXItZGF0YS50cz9kMTQyIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9ibHVlc25hcC1kaXJlY3QtaW50ZWdyYXRpb24vc3JjL3V0aWxzL2lzLWJsdWVzbmFwLWRpcmVjdC1pbnN0cnVtZW50LnRzPzEwNWEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JsdWVzbmFwLWRpcmVjdC1pbnRlZ3JhdGlvbi9zcmMvYmx1ZXNuYXAtZGlyZWN0LWFwbS9jcmVhdGUtYmx1ZXNuYXAtZGlyZWN0LWFwbS1wYXltZW50LXN0cmF0ZWd5LnRzP2QzNjMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9jb21tb24vY2FuY2VsbGFibGUtcHJvbWlzZS9jYW5jZWxsYWJsZS1wcm9taXNlLnRzP2Y3NGEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1tZXRob2QtY2FuY2VsbGVkLWVycm9yLnRzPzA4OTAiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9wYXltZW50L3BheW1lbnQtc3RhdHVzLXR5cGVzLnRzPzBiODAiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JsdWVzbmFwLWRpcmVjdC1pbnRlZ3JhdGlvbi9zcmMvYmx1ZXNuYXB2Mi9ibHVlc25hcHYyLXBheW1lbnQtc3RyYXRlZ3kudHM/ZmRiZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYmx1ZXNuYXAtZGlyZWN0LWludGVncmF0aW9uL3NyYy9ibHVlc25hcHYyL2NyZWF0ZS1ibHVlc25hcHYyLXBheW1lbnQtc3RyYXRlZ3kudHM/MDVlNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbmV4cG9ydCBlbnVtIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlIHtcbiAgICBDaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkLFxuICAgIEN1c3RvbWVyTm90SW5pdGlhbGl6ZWQsXG4gICAgUGF5bWVudE5vdEluaXRpYWxpemVkLFxuICAgIFNoaXBwaW5nTm90SW5pdGlhbGl6ZWQsXG4gICAgU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZCxcbn1cblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIGEgbWV0aG9kIHJlcXVpcmVzIGEgY2VydGFpbiBpbml0aWFsaXphdGlvbiBjYWxsIHRvIGJlXG4gKiBtYWRlIGZpcnN0LiBTb21lIG9iamVjdHMgY2FuIGJlIGNvbnN0cnVjdGVkIGJ1dCB0aGV5IGNhbm5vdCBiZSB1c2VkIHVudGlsIGFcbiAqIHNlcGFyYXRlIGluaXRpYWxpemF0aW9uIGNhbGwgaXMgbWFkZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm90SW5pdGlhbGl6ZWRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdWJ0eXBlOiBOb3RJbml0aWFsaXplZEVycm9yVHlwZSkge1xuICAgICAgICBzdXBlcihnZXRFcnJvck1lc3NhZ2Uoc3VidHlwZSkpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdOb3RJbml0aWFsaXplZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ25vdF9pbml0aWFsaXplZCc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UodHlwZTogTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLkN1c3RvbWVyTm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGN1c3RvbWVyIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHBheW1lbnQgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcblxuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlNoaXBwaW5nTm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHNoaXBwaW5nIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5TcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjaGVja291dCBzcGFtIHByb3RlY3Rpb24gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcmVxdWlyZWQgY29tcG9uZW50IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuICAgIH1cbn1cbiIsImltcG9ydCBSZXNvbHZhYmxlTW9kdWxlIGZyb20gJy4vcmVzb2x2YWJsZS1tb2R1bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b1Jlc29sdmFibGVNb2R1bGU8VE1vZHVsZSwgVElkZW50aWZpZXI+KFxuICAgIG1vZHVsZTogVE1vZHVsZSxcbiAgICByZXNvbHZlSWRzOiBUSWRlbnRpZmllcltdLFxuKTogUmVzb2x2YWJsZU1vZHVsZTxUTW9kdWxlLCBUSWRlbnRpZmllcj4ge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG1vZHVsZSwgeyByZXNvbHZlSWRzIH0pO1xufVxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImltcG9ydCBDdXN0b21FcnJvciBmcm9tICcuL2N1c3RvbS1lcnJvcic7XG5pbXBvcnQgc2V0UHJvdG90eXBlT2YgZnJvbSAnLi9zZXQtcHJvdG90eXBlLW9mJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHR5cGUgc2hvdWxkIG5vdCBiZSBjb25zdHJ1Y3RlZCBkaXJlY3RseS4gSXQgaXMgYSBiYXNlIGNsYXNzIGZvclxuICogYWxsIGN1c3RvbSBlcnJvcnMgdGhyb3duIGluIHRoaXMgbGlicmFyeS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgU3RhbmRhcmRFcnJvciBleHRlbmRzIEVycm9yIGltcGxlbWVudHMgQ3VzdG9tRXJyb3Ige1xuICAgIG5hbWUgPSAnU3RhbmRhcmRFcnJvcic7XG4gICAgdHlwZSA9ICdzdGFuZGFyZCc7XG5cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ0FuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkLicpO1xuXG4gICAgICAgIHNldFByb3RvdHlwZU9mKHRoaXMsIG5ldy50YXJnZXQucHJvdG90eXBlKTtcblxuICAgICAgICBpZiAodHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBuZXcudGFyZ2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhY2sgPSBuZXcgRXJyb3IodGhpcy5tZXNzYWdlKS5zdGFjaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKG9iamVjdDogYW55LCBwcm90b3R5cGU6IG9iamVjdCkge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKG9iamVjdCwgcHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3QuX19wcm90b19fID0gcHJvdG90eXBlO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3Q7XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiBhIHBheW1lbnQgbWV0aG9kIGV4cGVyaWVuY2VzIHNvbWUga2luZCBvZlxuICogZmFpbHVyZSAoaS5lLjogaXRzIGNsaWVudCBsaWJyYXJ5IHJldHVybnMgYSByZWplY3RlZCBwcm9taXNlKS4gQW5kIHRoZXJlIGlzXG4gKiBubyBvdGhlciBlcnJvciB0eXBlIHRoYXQgaXMgbW9yZSBzcGVjaWZpYyB0aGFuIHRoaXMgb25lLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKFxuICAgICAgICAgICAgbWVzc2FnZSB8fFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjbGllbnQgbGlicmFyeSBvZiBhIHBheW1lbnQgbWV0aG9kIGhhcyB0aHJvd24gYW4gdW5leHBlY3RlZCBlcnJvci4nLFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50TWV0aG9kRmFpbGVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAncGF5bWVudF9tZXRob2RfY2xpZW50X2ludmFsaWQnO1xuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGd1YXJkPFQ+KHZhbHVlOiBULCBlcnJvckZhY3Rvcnk/OiAoKSA9PiBFcnJvcik6IE5vbk51bGxhYmxlPFQ+IHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkgPyBlcnJvckZhY3RvcnkoKSA6IG5ldyBFcnJvcignQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWQuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlIGFzIE5vbk51bGxhYmxlPFQ+O1xufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbmV4cG9ydCBlbnVtIE1pc3NpbmdEYXRhRXJyb3JUeXBlIHtcbiAgICBNaXNzaW5nQmlsbGluZ0FkZHJlc3MsXG4gICAgTWlzc2luZ0NhcnQsXG4gICAgTWlzc2luZ0NoZWNrb3V0LFxuICAgIE1pc3NpbmdDb25zaWdubWVudHMsXG4gICAgTWlzc2luZ0N1c3RvbWVyLFxuICAgIE1pc3NpbmdDaGVja291dENvbmZpZyxcbiAgICBNaXNzaW5nT3JkZXIsXG4gICAgTWlzc2luZ09yZGVyQ29uZmlnLFxuICAgIE1pc3NpbmdPcmRlcklkLFxuICAgIE1pc3NpbmdQYXltZW50LFxuICAgIE1pc3NpbmdQYXltZW50SWQsXG4gICAgTWlzc2luZ1BheW1lbnRJbnN0cnVtZW50LFxuICAgIE1pc3NpbmdQYXltZW50TWV0aG9kLFxuICAgIE1pc3NpbmdQYXltZW50UmVkaXJlY3RVcmwsXG4gICAgTWlzc2luZ1BheW1lbnRTdGF0dXMsXG4gICAgTWlzc2luZ1BheW1lbnRUb2tlbixcbiAgICBNaXNzaW5nU2hpcHBpbmdBZGRyZXNzLFxufVxuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3Igd2hlbiBkYXRhIHRoYXQgaXMgZXhwZWN0ZWQgdG8gZXhpc3QgaXMgbWlzc2luZy4gVXN1YWxseSBpdFxuICogaXMgZHVlIHRvIHRoZSBmYWN0IHRoYXQgY2VydGFpbiBkYXRhIGhhcyBub3QgYmVlbiByZXRyaWV2ZWQgZnJvbSBvciBzYXZlZCB0b1xuICogdGhlIHNlcnZlciB5ZXQuIEFuZCBzdWNoIGRhdGEgaXMgcmVxdWlyZWQgdG8gcGVyZm9ybSBjZXJ0YWluIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1pc3NpbmdEYXRhRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3VidHlwZTogTWlzc2luZ0RhdGFFcnJvclR5cGUpIHtcbiAgICAgICAgc3VwZXIoZ2V0RXJyb3JNZXNzYWdlKHN1YnR5cGUpKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnTWlzc2luZ0RhdGFFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdtaXNzaW5nX2RhdGEnO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKHR5cGU6IE1pc3NpbmdEYXRhRXJyb3JUeXBlKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQmlsbGluZ0FkZHJlc3M6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgYmlsbGluZyBhZGRyZXNzIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDYXJ0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNhcnQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NvbnNpZ25tZW50czpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjb25zaWdubWVudHMgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NoZWNrb3V0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNoZWNrb3V0IGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDdXN0b21lcjpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjdXN0b21lciBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ2hlY2tvdXRDb25maWc6XG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ09yZGVyQ29uZmlnOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNvbmZpZ3VyYXRpb24gZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ09yZGVyOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIG9yZGVyIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdPcmRlcklkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIG9yZGVyIElEIGlzIHVuYXZhaWxhYmxlIG9yIG5vdCBnZW5lcmF0ZWQgeWV0Lic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBwYXltZW50IGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50VG9rZW46XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHRva2VuIHJlcXVpcmVkIHRvIHN1Ym1pdCBhIHBheW1lbnQgaXMgbWlzc2luZy4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2Q6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgcGF5bWVudCBtZXRob2QgZGF0YSBpcyB1bmF2YWlsYWJsZSBvciBub3QgcHJvcGVybHkgY29uZmlndXJlZC4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1NoaXBwaW5nQWRkcmVzczpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBzaGlwcGluZyBhZGRyZXNzIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSByZXF1aXJlZCBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG4gICAgfVxufVxuIiwiLy8gY29waWVkIGZyb20gcGFja2FnZXMvY29yZS9zcmMvaG9zdGVkLWZvcm0vaG9zdGVkLWZpZWxkLXR5cGUudHNcblxuZW51bSBIb3N0ZWRGaWVsZFR5cGUge1xuICAgIENhcmRDb2RlID0gJ2NhcmRDb2RlJyxcbiAgICBDYXJkQ29kZVZlcmlmaWNhdGlvbiA9ICdjYXJkQ29kZVZlcmlmaWNhdGlvbicsXG4gICAgQ2FyZEV4cGlyeSA9ICdjYXJkRXhwaXJ5JyxcbiAgICBDYXJkTmFtZSA9ICdjYXJkTmFtZScsXG4gICAgQ2FyZE51bWJlciA9ICdjYXJkTnVtYmVyJyxcbiAgICBDYXJkTnVtYmVyVmVyaWZpY2F0aW9uID0gJ2NhcmROdW1iZXJWZXJpZmljYXRpb24nLFxuICAgIENhcmRFeHBpcnlWZXJpZmljYXRpb24gPSAnY2FyZEV4cGlyeVZlcmlmaWNhdGlvbicsXG59XG5cbmV4cG9ydCBkZWZhdWx0IEhvc3RlZEZpZWxkVHlwZTtcbiIsImltcG9ydCB7XG4gICAgZ3VhcmQsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvcixcbiAgICBOb3RJbml0aWFsaXplZEVycm9yVHlwZSxcbiAgICBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBCbHVlU25hcERpcmVjdFByZXZpb3VzbHlVc2VkQ2FyZCwgQmx1ZVNuYXBEaXJlY3RTZGsgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJsdWVTbmFwRGlyZWN0M2RzIHtcbiAgICBwcml2YXRlIF9ibHVlU25hcFNkaz86IEJsdWVTbmFwRGlyZWN0U2RrO1xuXG4gICAgaW5pdGlhbGl6ZShibHVlU25hcFNkazogQmx1ZVNuYXBEaXJlY3RTZGspIHtcbiAgICAgICAgdGhpcy5fYmx1ZVNuYXBTZGsgPSBibHVlU25hcFNkaztcbiAgICB9XG5cbiAgICBhc3luYyBpbml0aWFsaXplM2RzKFxuICAgICAgICB0b2tlbjogc3RyaW5nLFxuICAgICAgICBjYXJkRGF0YTogQmx1ZVNuYXBEaXJlY3RQcmV2aW91c2x5VXNlZENhcmQsXG4gICAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgY29uc3QgYmx1ZVNuYXBTZGsgPSB0aGlzLl9nZXRCbHVlU25hcFNkaygpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBibHVlU25hcFNkay50aHJlZURzUGF5bWVudHNTZXR1cCh0b2tlbiwgKHNka1Jlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29kZSA9IHNka1Jlc3BvbnNlLmNvZGU7XG5cbiAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gJzEnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHNka1Jlc3BvbnNlLnRocmVlRFNlY3VyZS50aHJlZURTZWN1cmVSZWZlcmVuY2VJZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yKCkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGJsdWVTbmFwU2RrLnRocmVlRHNQYXltZW50c1N1Ym1pdERhdGEoY2FyZERhdGEpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRCbHVlU25hcFNkaygpOiBCbHVlU25hcERpcmVjdFNkayB7XG4gICAgICAgIHJldHVybiBndWFyZChcbiAgICAgICAgICAgIHRoaXMuX2JsdWVTbmFwU2RrLFxuICAgICAgICAgICAgKCkgPT4gbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKSxcbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiBhIG1ldGhvZCBpcyB1bmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZVxuICogY2FsbGVyIGhhcyBub3QgcHJvdmlkZWQgYWxsIHRoZSBhcmd1bWVudHMgYWNjb3JkaW5nIHRvIHRoZWlyIHJlcXVpcmVtZW50cyxcbiAqIGkuZS46IGlmIGFuIGFyZ3VtZW50IGlzIG1pc3Npbmcgb3IgaXQgaXMgbm90IHRoZSBleHBlY3RlZCBkYXRhIHR5cGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludmFsaWRBcmd1bWVudEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdJbnZhbGlkIGFyZ3VtZW50cyBoYXZlIGJlZW4gcHJvdmlkZWQuJyk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ0ludmFsaWRBcmd1bWVudEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ2ludmFsaWRfYXJndW1lbnQnO1xuICAgIH1cbn1cbiIsImltcG9ydCBJbnZhbGlkQXJndW1lbnRFcnJvciBmcm9tICcuL2ludmFsaWQtYXJndW1lbnQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIHdlIGFyZSB1bmFibGUgdG8gc3VibWl0IGEgcGF5bWVudCBiZWNhdXNlXG4gKiB0aGUgY2FsbGVyIGhhcyBub3QgcHJvdmlkZWQgYWxsIHRoZSByZXF1aXJlZCBmaWVsZHMsIGkuZS46IGlmIGFuIGFyZ3VtZW50IGlzXG4gKiBtaXNzaW5nIG9yIGl0IGlzIG5vdCB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IgZXh0ZW5kcyBJbnZhbGlkQXJndW1lbnRFcnJvciB7XG4gICAgY29uc3RydWN0b3IoaW52YWxpZEZpZWxkcz86IHN0cmluZ1tdKSB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gJ1VuYWJsZSB0byBzdWJtaXQgcGF5bWVudCBmb3IgdGhlIG9yZGVyIGJlY2F1c2UgdGhlIHBheWxvYWQgaXMgaW52YWxpZC4nO1xuXG4gICAgICAgIGlmIChpbnZhbGlkRmllbGRzKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gYCR7bWVzc2FnZX0gTWFrZSBzdXJlIHRoZSBmb2xsb3dpbmcgZmllbGRzIGFyZSBwcm92aWRlZCBjb3JyZWN0bHk6ICR7aW52YWxpZEZpZWxkcy5qb2luKFxuICAgICAgICAgICAgICAgICcsICcsXG4gICAgICAgICAgICApfS5gO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ1BheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcic7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSG9zdGVkSW5zdHJ1bWVudCB9IGZyb20gJy4vcGF5bWVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzSG9zdGVkSW5zdHJ1bWVudExpa2UoXG4gICAgaW5zdHJ1bWVudDogdW5rbm93bixcbik6IGluc3RydW1lbnQgaXMgSG9zdGVkSW5zdHJ1bWVudCB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgdHlwZW9mIGluc3RydW1lbnQgPT09ICdvYmplY3QnICYmXG4gICAgICAgIGluc3RydW1lbnQgIT09IG51bGwgJiZcbiAgICAgICAgKHR5cGVvZiAoaW5zdHJ1bWVudCBhcyBIb3N0ZWRJbnN0cnVtZW50KS5zaG91bGRTYXZlSW5zdHJ1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAgIHR5cGVvZiAoaW5zdHJ1bWVudCBhcyBIb3N0ZWRJbnN0cnVtZW50KS5zaG91bGRTYXZlSW5zdHJ1bWVudCA9PT0gJ2Jvb2xlYW4nKSAmJlxuICAgICAgICAodHlwZW9mIChpbnN0cnVtZW50IGFzIEhvc3RlZEluc3RydW1lbnQpLnNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICB0eXBlb2YgKGluc3RydW1lbnQgYXMgSG9zdGVkSW5zdHJ1bWVudCkuc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCA9PT0gJ2Jvb2xlYW4nKVxuICAgICk7XG59XG4iLCJpbXBvcnQge1xuICAgIEZvcm1hdHRlZFBheWxvYWQsXG4gICAgRm9ybWF0dGVkVmF1bHRlZEluc3RydW1lbnQsXG4gICAgSG9zdGVkVmF1bHRlZEluc3RydW1lbnQsXG4gICAgUGF5bWVudEluc3RydW1lbnRQYXlsb2FkLFxuICAgIFZhdWx0ZWRJbnN0cnVtZW50LFxufSBmcm9tICcuL3BheW1lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1ZhdWx0ZWRJbnN0cnVtZW50KFxuICAgIGluc3RydW1lbnQ6IFBheW1lbnRJbnN0cnVtZW50UGF5bG9hZCxcbik6IGluc3RydW1lbnQgaXMgVmF1bHRlZEluc3RydW1lbnQge1xuICAgIHJldHVybiBCb29sZWFuKChpbnN0cnVtZW50IGFzIFZhdWx0ZWRJbnN0cnVtZW50KS5pbnN0cnVtZW50SWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNIb3N0ZWRWYXVsdGVkSW5zdHJ1bWVudChcbiAgICBpbnN0cnVtZW50OiBQYXltZW50SW5zdHJ1bWVudFBheWxvYWQsXG4pOiBpbnN0cnVtZW50IGlzIEhvc3RlZFZhdWx0ZWRJbnN0cnVtZW50IHtcbiAgICByZXR1cm4gKFxuICAgICAgICBCb29sZWFuKChpbnN0cnVtZW50IGFzIEhvc3RlZFZhdWx0ZWRJbnN0cnVtZW50KS5pbnN0cnVtZW50SWQpICYmXG4gICAgICAgICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdHJ1bWVudCwgJ2NjTnVtYmVyJykgJiZcbiAgICAgICAgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnN0cnVtZW50LCAnY2NDdnYnKVxuICAgICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Zvcm1hdHRlZFZhdWx0ZWRJbnN0cnVtZW50KFxuICAgIGluc3RydW1lbnQ6IFBheW1lbnRJbnN0cnVtZW50UGF5bG9hZCxcbik6IGluc3RydW1lbnQgaXMgRm9ybWF0dGVkUGF5bG9hZDxGb3JtYXR0ZWRWYXVsdGVkSW5zdHJ1bWVudD4ge1xuICAgIGNvbnN0IGZvcm1hdHRlZEluc3RydW1lbnQgPSAoaW5zdHJ1bWVudCBhcyBGb3JtYXR0ZWRQYXlsb2FkPEZvcm1hdHRlZFZhdWx0ZWRJbnN0cnVtZW50PilcbiAgICAgICAgLmZvcm1hdHRlZFBheWxvYWQ7XG5cbiAgICBpZiAoIWZvcm1hdHRlZEluc3RydW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIHR5cGVvZiBmb3JtYXR0ZWRJbnN0cnVtZW50LmJpZ3BheV90b2tlbiA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgQm9vbGVhbihmb3JtYXR0ZWRJbnN0cnVtZW50LmJpZ3BheV90b2tlbiAmJiBmb3JtYXR0ZWRJbnN0cnVtZW50LmJpZ3BheV90b2tlbi50b2tlbilcbiAgICApO1xufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciBpZiB3ZSBhcmUgdHJ5aW5nIHRvIG1ha2UgYW4gb3JkZXIgZmluYWxpemF0aW9uIHJlcXVlc3QgZm9yIGFcbiAqIHBheW1lbnQgbWV0aG9kIHRoYXQgZG9lcyBub3QgcmVxdWlyZSBzdWNoIHByb2NlZHVyZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdUaGUgY3VycmVudCBvcmRlciBkb2VzIG5vdCBuZWVkIHRvIGJlIGZpbmFsaXplZCBhdCB0aGlzIHN0YWdlLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnb3JkZXJfZmluYWxpemF0aW9uX25vdF9yZXF1aXJlZCc7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtcbiAgICBIb3N0ZWRDYXJkRmllbGRPcHRpb25zTWFwLFxuICAgIEhvc3RlZEZpZWxkT3B0aW9uc01hcCxcbiAgICBIb3N0ZWRGaWVsZFR5cGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0hvc3RlZENhcmRGaWVsZE9wdGlvbnNNYXAoXG4gICAgZmllbGRzOiBIb3N0ZWRGaWVsZE9wdGlvbnNNYXAsXG4pOiBmaWVsZHMgaXMgSG9zdGVkQ2FyZEZpZWxkT3B0aW9uc01hcCB7XG4gICAgcmV0dXJuIEhvc3RlZEZpZWxkVHlwZS5DYXJkTnVtYmVyIGluIGZpZWxkcztcbn1cbiIsImltcG9ydCB7XG4gICAgSG9zdGVkRmllbGRPcHRpb25zTWFwLFxuICAgIEhvc3RlZEZpZWxkVHlwZSxcbiAgICBIb3N0ZWRTdG9yZWRDYXJkRmllbGRPcHRpb25zTWFwLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNIb3N0ZWRTdG9yZWRDYXJkRmllbGRPcHRpb25zTWFwKFxuICAgIGZpZWxkczogSG9zdGVkRmllbGRPcHRpb25zTWFwLFxuKTogZmllbGRzIGlzIEhvc3RlZFN0b3JlZENhcmRGaWVsZE9wdGlvbnNNYXAge1xuICAgIHJldHVybiAoXG4gICAgICAgIEhvc3RlZEZpZWxkVHlwZS5DYXJkQ29kZVZlcmlmaWNhdGlvbiBpbiBmaWVsZHMgfHxcbiAgICAgICAgSG9zdGVkRmllbGRUeXBlLkNhcmROdW1iZXJWZXJpZmljYXRpb24gaW4gZmllbGRzXG4gICAgKTtcbn1cbiIsImV4cG9ydCB0eXBlIEJsdWVzbmFwRGlyZWN0Tm9jSW5wdXRBbGxvd2VkU3R5bGUgPSBQaWNrPFxuICAgIENTU1N0eWxlRGVjbGFyYXRpb24sXG4gICAgJ2NvbG9yJyB8ICdmb250RmFtaWx5JyB8ICdmb250U2l6ZScgfCAnZm9udFdlaWdodCdcbj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmx1ZVNuYXBEaXJlY3RTdHlsZURlY2xhcmF0aW9uIHtcbiAgICBbazogc3RyaW5nXTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJsdWVTbmFwRGlyZWN0U3R5bGUge1xuICAgICcuaW52YWxpZCc/OiBCbHVlU25hcERpcmVjdFN0eWxlRGVjbGFyYXRpb247XG4gICAgJzpmb2N1cyc/OiBCbHVlU25hcERpcmVjdFN0eWxlRGVjbGFyYXRpb247XG4gICAgaW5wdXQ/OiBCbHVlU25hcERpcmVjdFN0eWxlRGVjbGFyYXRpb247XG59XG5cbmV4cG9ydCBlbnVtIEJsdWVTbmFwRGlyZWN0Q2FyZFR5cGUge1xuICAgIEFNRVggPSAnYW1lcmljYW4tZXhwcmVzcycsXG4gICAgQ0hJTkFfVU5JT05fUEFZID0gJ3VuaW9ucGF5JyxcbiAgICBESU5FUlMgPSAnZGluZXJzLWNsdWInLFxuICAgIERJU0NPVkVSID0gJ2Rpc2NvdmVyJyxcbiAgICBKQ0IgPSAnamNiJyxcbiAgICBNQVNURVJDQVJEID0gJ21hc3RlcmNhcmQnLFxuICAgIFVOS05PV04gPSAndW5rbm93bicsXG4gICAgVklTQSA9ICd2aXNhJyxcbn1cblxuZXhwb3J0IHR5cGUgQmx1ZVNuYXBEaXJlY3RDYXJkVHlwZVZhbHVlcyA9IGtleW9mIHR5cGVvZiBCbHVlU25hcERpcmVjdENhcmRUeXBlO1xuXG5leHBvcnQgZW51bSBCbHVlU25hcERpcmVjdEV2ZW50T3JpZ2luIHtcbiAgICBPTl9CTFVSID0gJ29uQmx1cicsXG4gICAgT05fU1VCTUlUID0gJ29uU3VibWl0Jyxcbn1cblxuZXhwb3J0IGVudW0gQmx1ZVNuYXBEaXJlY3RFcnJvckRlc2NyaXB0aW9uIHtcbiAgICBFTVBUWSA9ICdlbXB0eScsXG4gICAgSU5WQUxJRCA9ICdpbnZhbGlkJyxcbiAgICBUSFJFRV9EU19OT1RfRU5BQkxFRCA9ICczRCBTZWN1cmUgaXMgbm90IGVuYWJsZWQnLFxufVxuXG5leHBvcnQgdHlwZSBCbHVlU25hcERpcmVjdElucHV0VmFsaWRhdGlvbkVycm9yRGVzY3JpcHRpb24gPSBFeHRyYWN0PFxuICAgIEJsdWVTbmFwRGlyZWN0RXJyb3JEZXNjcmlwdGlvbixcbiAgICBCbHVlU25hcERpcmVjdEVycm9yRGVzY3JpcHRpb24uRU1QVFkgfCBCbHVlU25hcERpcmVjdEVycm9yRGVzY3JpcHRpb24uSU5WQUxJRFxuPjtcblxuZXhwb3J0IGVudW0gQmx1ZVNuYXBEaXJlY3RFcnJvckNvZGUge1xuICAgIENDX05PVF9TVVBPUlRFRCA9ICcyMjAxMycsXG4gICAgRVJST1JfNDAzID0gJzQwMycsXG4gICAgRVJST1JfNDA0ID0gJzQwNCcsXG4gICAgRVJST1JfNTAwID0gJzUwMCcsXG4gICAgSU5WQUxJRF9PUl9FTVBUWSA9ICcxMCcsXG4gICAgU0VTU0lPTl9FWFBJUkVEID0gJzQwMCcsXG4gICAgVEhSRUVfRFNfQVVUSF9GQUlMRUQgPSAnMTQxMDEnLFxuICAgIFRIUkVFX0RTX0NMSUVOVF9FUlJPUiA9ICcxNDEwMycsXG4gICAgVEhSRUVfRFNfTUlTU0lOR19GSUVMRFMgPSAnMTQxMDInLFxuICAgIFRIUkVFX0RTX05PVF9FTkFCTEVEID0gJzE0MTAwJyxcbiAgICBUT0tFTl9FWFBJUkVEID0gJzE0MDQwJyxcbiAgICBUT0tFTl9OT1RfQVNTT0NJQVRFRCA9ICcxNDA0MicsXG4gICAgVE9LRU5fTk9UX0ZPVU5EID0gJzE0MDQxJyxcbn1cblxuZXhwb3J0IGVudW0gQmx1ZVNuYXBEaXJlY3RIb3N0ZWRGaWVsZFRhZ0lkIHtcbiAgICBDYXJkQ29kZSA9ICdjdnYnLFxuICAgIENhcmRFeHBpcnkgPSAnZXhwJyxcbiAgICBDYXJkTmFtZSA9ICdub2MnLFxuICAgIENhcmROdW1iZXIgPSAnY2NuJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCbHVlU25hcERpcmVjdEhvc3RlZFBheW1lbnRGaWVsZHNPcHRpb25zIHtcbiAgICB0b2tlbjogc3RyaW5nO1xuICAgIG9uRmllbGRFdmVudEhhbmRsZXI/OiB7XG4gICAgICAgIHNldHVwQ29tcGxldGU/OiAoKSA9PiB2b2lkO1xuICAgICAgICB0aHJlZURzQ2hhbGxlbmdlRXhlY3V0ZWQ/OiAoKSA9PiB2b2lkO1xuICAgICAgICBvbkZvY3VzPzogKHRhZ0lkOiBCbHVlU25hcERpcmVjdEhvc3RlZEZpZWxkVGFnSWQpID0+IHZvaWQ7XG4gICAgICAgIG9uQmx1cj86ICh0YWdJZDogQmx1ZVNuYXBEaXJlY3RIb3N0ZWRGaWVsZFRhZ0lkKSA9PiB2b2lkO1xuICAgICAgICBvbkVycm9yPzogKFxuICAgICAgICAgICAgdGFnSWQ6IEJsdWVTbmFwRGlyZWN0SG9zdGVkRmllbGRUYWdJZCB8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVycm9yQ29kZTogQmx1ZVNuYXBEaXJlY3RFcnJvckNvZGUsXG4gICAgICAgICAgICBlcnJvckRlc2NyaXB0aW9uOiBCbHVlU25hcERpcmVjdEVycm9yRGVzY3JpcHRpb24gfCB1bmRlZmluZWQsXG4gICAgICAgICAgICBldmVudE9yaWdpbjogQmx1ZVNuYXBEaXJlY3RFdmVudE9yaWdpbiB8IHVuZGVmaW5lZCxcbiAgICAgICAgKSA9PiB2b2lkO1xuICAgICAgICBvblR5cGU/OiAoXG4gICAgICAgICAgICB0YWdJZDogQmx1ZVNuYXBEaXJlY3RIb3N0ZWRGaWVsZFRhZ0lkLFxuICAgICAgICAgICAgY2FyZFR5cGU6IEJsdWVTbmFwRGlyZWN0Q2FyZFR5cGVWYWx1ZXMsXG4gICAgICAgICAgICBjYXJkRGF0YTogQmx1ZVNuYXBEaXJlY3RDYXJkRGF0YSB8IHVuZGVmaW5lZCxcbiAgICAgICAgKSA9PiB2b2lkO1xuICAgICAgICBvbkVudGVyPzogKHRhZ0lkOiBCbHVlU25hcERpcmVjdEhvc3RlZEZpZWxkVGFnSWQpID0+IHZvaWQ7XG4gICAgICAgIG9uVmFsaWQ/OiAodGFnSWQ6IEJsdWVTbmFwRGlyZWN0SG9zdGVkRmllbGRUYWdJZCkgPT4gdm9pZDtcbiAgICB9O1xuICAgIGNjblBsYWNlSG9sZGVyPzogc3RyaW5nO1xuICAgIGN2dlBsYWNlSG9sZGVyPzogc3RyaW5nO1xuICAgIGV4cFBsYWNlSG9sZGVyPzogc3RyaW5nO1xuICAgIHN0eWxlPzogQmx1ZVNuYXBEaXJlY3RTdHlsZTtcbiAgICAnM0RTJz86IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBCbHVlU25hcERpcmVjdENhbGxiYWNrIHtcbiAgICBzdGF0dXNDb2RlOiBzdHJpbmc7XG4gICAgdHJhbnNhY3Rpb25GcmF1ZEluZm86IHtcbiAgICAgICAgZnJhdWRTZXNzaW9uSWQ6IHN0cmluZztcbiAgICB9O1xufVxuXG5pbnRlcmZhY2UgQmx1ZVNuYXBEaXJlY3RDYXJkRGF0YSB7XG4gICAgYmluQ2F0ZWdvcnk6IHN0cmluZztcbiAgICBjYXJkU3ViVHlwZTogc3RyaW5nO1xuICAgIGNjQmluOiBzdHJpbmc7XG4gICAgY2NUeXBlOiBzdHJpbmc7XG4gICAgaXNSZWd1bGF0ZWRDYXJkOiBzdHJpbmc7XG4gICAgaXNzdWluZ0NvdW50cnk6IHN0cmluZztcbiAgICBsYXN0NERpZ2l0czogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJsdWVTbmFwRGlyZWN0Q2FsbGJhY2tDYXJkRGF0YSBleHRlbmRzIEJsdWVTbmFwRGlyZWN0Q2FyZERhdGEge1xuICAgIGNhcmRDYXRlZ29yeTogc3RyaW5nO1xuICAgIGV4cDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgQmx1ZVNuYXBEaXJlY3RDYWxsYmFja0RhdGEgZXh0ZW5kcyBCbHVlU25hcERpcmVjdENhbGxiYWNrIHtcbiAgICBjYXJkRGF0YTogQmx1ZVNuYXBEaXJlY3RDYWxsYmFja0NhcmREYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFdpdGhCbHVlU25hcERpcmVjdENhcmRIb2xkZXJOYW1lIHtcbiAgICBjYXJkSG9sZGVyTmFtZT86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEJsdWVTbmFwRGlyZWN0U3VibWl0RXJyb3Ige1xuICAgIGVycm9yQ29kZTogc3RyaW5nO1xuICAgIGVycm9yRGVzY3JpcHRpb246IHN0cmluZztcbiAgICBldmVudFR5cGU6IHN0cmluZztcbiAgICB0YWdJZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJsdWVTbmFwRGlyZWN0Q2FsbGJhY2tFcnJvciBleHRlbmRzIEJsdWVTbmFwRGlyZWN0Q2FsbGJhY2sge1xuICAgIGVycm9yOiBCbHVlU25hcERpcmVjdFN1Ym1pdEVycm9yW107XG59XG5cbmV4cG9ydCB0eXBlIEJsdWVTbmFwRGlyZWN0Q2FsbGJhY2tSZXN1bHRzID1cbiAgICB8IEJsdWVTbmFwRGlyZWN0Q2FsbGJhY2tEYXRhXG4gICAgfCBCbHVlU25hcERpcmVjdENhbGxiYWNrRXJyb3I7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmx1ZVNuYXBEaXJlY3RUaHJlZURTZWN1cmVEYXRhIHtcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgICBjdXJyZW5jeTogc3RyaW5nO1xuICAgIGJpbGxpbmdGaXJzdE5hbWU/OiBzdHJpbmc7XG4gICAgYmlsbGluZ0xhc3ROYW1lPzogc3RyaW5nO1xuICAgIGJpbGxpbmdDb3VudHJ5Pzogc3RyaW5nO1xuICAgIGJpbGxpbmdTdGF0ZT86IHN0cmluZztcbiAgICBiaWxsaW5nQ2l0eT86IHN0cmluZztcbiAgICBiaWxsaW5nQWRkcmVzcz86IHN0cmluZztcbiAgICBiaWxsaW5nWmlwPzogc3RyaW5nO1xuICAgIHNoaXBwaW5nRmlyc3ROYW1lPzogc3RyaW5nO1xuICAgIHNoaXBwaW5nTGFzdE5hbWU/OiBzdHJpbmc7XG4gICAgc2hpcHBpbmdDb3VudHJ5Pzogc3RyaW5nO1xuICAgIHNoaXBwaW5nU3RhdGU/OiBzdHJpbmc7XG4gICAgc2hpcHBpbmdDaXR5Pzogc3RyaW5nO1xuICAgIHNoaXBwaW5nQWRkcmVzcz86IHN0cmluZztcbiAgICBzaGlwcGluZ1ppcD86IHN0cmluZztcbiAgICBlbWFpbD86IHN0cmluZztcbiAgICBwaG9uZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCbHVlU25hcERpcmVjdFNkayB7XG4gICAgaG9zdGVkUGF5bWVudEZpZWxkc0NyZWF0ZShvcHRpb25zOiBCbHVlU25hcERpcmVjdEhvc3RlZFBheW1lbnRGaWVsZHNPcHRpb25zKTogdm9pZDtcbiAgICBob3N0ZWRQYXltZW50RmllbGRzU3VibWl0RGF0YShcbiAgICAgICAgY2FsbGJhY2s6IChyZXN1bHRzOiBCbHVlU25hcERpcmVjdENhbGxiYWNrUmVzdWx0cykgPT4gdm9pZCxcbiAgICAgICAgdGhyZWVEU2VjdXJlRGF0YT86IEJsdWVTbmFwRGlyZWN0VGhyZWVEU2VjdXJlRGF0YSxcbiAgICApOiB2b2lkO1xuICAgIHRocmVlRHNQYXltZW50c1NldHVwKFxuICAgICAgICB0b2tlbjogc3RyaW5nLFxuICAgICAgICBjYWxsYmFjazogKHJlcG9uc2U6IEJsdWVTbmFwRGlyZWN0M2RzQ2FsbGJhY2tSZXNwb25zZSkgPT4gdm9pZCxcbiAgICApOiB2b2lkO1xuICAgIHRocmVlRHNQYXltZW50c1N1Ym1pdERhdGEoY2FyZERhdGE6IEJsdWVTbmFwRGlyZWN0UHJldmlvdXNseVVzZWRDYXJkKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCbHVlU25hcERpcmVjdFByZXZpb3VzbHlVc2VkQ2FyZCB7XG4gICAgbGFzdDREaWdpdHM/OiBzdHJpbmc7XG4gICAgY2NUeXBlPzogc3RyaW5nO1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIGN1cnJlbmN5OiBzdHJpbmc7XG4gICAgYmlsbGluZ0ZpcnN0TmFtZT86IHN0cmluZztcbiAgICBiaWxsaW5nTGFzdE5hbWU/OiBzdHJpbmc7XG4gICAgYmlsbGluZ0NvdW50cnk/OiBzdHJpbmc7XG4gICAgYmlsbGluZ1N0YXRlPzogc3RyaW5nO1xuICAgIGJpbGxpbmdDaXR5Pzogc3RyaW5nO1xuICAgIGJpbGxpbmdBZGRyZXNzPzogc3RyaW5nO1xuICAgIGJpbGxpbmdaaXA/OiBzdHJpbmc7XG4gICAgc2hpcHBpbmdGaXJzdE5hbWU/OiBzdHJpbmc7XG4gICAgc2hpcHBpbmdMYXN0TmFtZT86IHN0cmluZztcbiAgICBzaGlwcGluZ0NvdW50cnk/OiBzdHJpbmc7XG4gICAgc2hpcHBpbmdTdGF0ZT86IHN0cmluZztcbiAgICBzaGlwcGluZ0NpdHk/OiBzdHJpbmc7XG4gICAgc2hpcHBpbmdBZGRyZXNzPzogc3RyaW5nO1xuICAgIHNoaXBwaW5nWmlwPzogc3RyaW5nO1xuICAgIGVtYWlsPzogc3RyaW5nO1xuICAgIHBob25lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJsdWVTbmFwRGlyZWN0M2RzQ2FsbGJhY2tSZXNwb25zZSB7XG4gICAgY29kZTogc3RyaW5nO1xuICAgIGNhcmREYXRhOiBCbHVlU25hcERpcmVjdENhbGxiYWNrQ2FyZERhdGE7XG4gICAgdGhyZWVEU2VjdXJlOiB7XG4gICAgICAgIGF1dGhSZXN1bHQ6IHN0cmluZztcbiAgICAgICAgdGhyZWVEU2VjdXJlUmVmZXJlbmNlSWQ6IHN0cmluZztcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJsdWVTbmFwRGlyZWN0SG9zdFdpbmRvdyBleHRlbmRzIFdpbmRvdyB7XG4gICAgYmx1ZXNuYXA/OiBCbHVlU25hcERpcmVjdFNkaztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCbHVlU25hcERpcmVjdFN0eWxlUHJvcHMge1xuICAgIGJvcmRlcj86IHN0cmluZztcbiAgICBoZWlnaHQ/OiBzdHJpbmc7XG4gICAgd2lkdGg/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmx1ZVNuYXBEaXJlY3RSZWRpcmVjdFJlc3BvbnNlUHJvdmlkZXJEYXRhIHtcbiAgICBba2V5OiBzdHJpbmddOiBzdHJpbmc7XG4gICAgbWVyY2hhbnRpZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJsdWVTbmFwRGlyZWN0UmVkaXJlY3RSZXNwb25zZSB7XG4gICAgYm9keToge1xuICAgICAgICBhZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZDoge1xuICAgICAgICAgICAgdHlwZTogJ29mZnNpdGVfcmVkaXJlY3QnO1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHJlZGlyZWN0X3VybDogc3RyaW5nO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgc3RhdHVzOiBzdHJpbmc7XG4gICAgICAgIHByb3ZpZGVyX2RhdGE/OiBzdHJpbmc7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBBIHNldCBvZiBvcHRpb25zIHRoYXQgYXJlIHJlcXVpcmVkIHRvIGluaXRpYWxpemUgdGhlIEJsdWVTbmFwIFYyIHBheW1lbnRcbiAqIG1ldGhvZC5cbiAqXG4gKiBUaGUgcGF5bWVudCBzdGVwIGlzIGRvbmUgdGhyb3VnaCBhIHdlYiBwYWdlIHZpYSBhbiBpZnJhbWUgcHJvdmlkZWQgYnkgdGhlXG4gKiBzdHJhdGVneS5cbiAqXG4gKiBgYGBodG1sXG4gKiA8IS0tIFRoaXMgaXMgd2hlcmUgdGhlIEJsdWVTbmFwIGlmcmFtZSB3aWxsIGJlIGluc2VydGVkLiBJdCBjYW4gYmUgYW4gaW4tcGFnZSBjb250YWluZXIgb3IgYSBtb2RhbCAtLT5cbiAqIDxkaXYgaWQ9XCJjb250YWluZXJcIj48L2Rpdj5cbiAqXG4gKiA8IS0tIFRoaXMgaXMgYSBjYW5jZWxsYXRpb24gYnV0dG9uIC0tPlxuICogPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJjYW5jZWwtYnV0dG9uXCI+PC9idXR0b24+XG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogc2VydmljZS5pbml0aWFsaXplUGF5bWVudCh7XG4gKiAgICAgbWV0aG9kSWQ6ICdibHVlc25hcERpcmVjdCcsXG4gKiAgICAgYmx1ZXNuYXBEaXJlY3Q6IHtcbiAqICAgICAgICAgb25Mb2FkOiAoaWZyYW1lKSA9PiB7XG4gKiAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJylcbiAqICAgICAgICAgICAgICAgICAuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAqXG4gKiAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FuY2VsLWJ1dHRvbicpXG4gKiAgICAgICAgICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICogICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJykuaW5uZXJIVE1MID0gJyc7XG4gKiAgICAgICAgICAgICAgICAgfSk7XG4gKiAgICAgICAgIH0sXG4gKiAgICAgfSxcbiAqIH0pO1xuICogYGBgXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmx1ZVNuYXBEaXJlY3RBUE1Jbml0aWFsaXplT3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogQSBzZXQgb2YgQ1NTIHByb3BlcnRpZXMgdG8gYXBwbHkgdG8gdGhlIGlmcmFtZS5cbiAgICAgKi9cbiAgICBzdHlsZT86IEJsdWVTbmFwRGlyZWN0U3R5bGVQcm9wcztcblxuICAgIC8qKlxuICAgICAqIEEgY2FsbGJhY2sgdGhhdCBnZXRzIGNhbGxlZCB3aGVuIHRoZSBpZnJhbWUgaXMgcmVhZHkgdG8gYmUgYWRkZWQgdG8gdGhlXG4gICAgICogY3VycmVudCBwYWdlLiBJdCBpcyByZXNwb25zaWJsZSBmb3IgZGV0ZXJtaW5pbmcgd2hlcmUgdGhlIGlmcmFtZSBzaG91bGRcbiAgICAgKiBiZSBpbnNlcnRlZCBpbiB0aGUgRE9NLlxuICAgICAqXG4gICAgICogQHBhcmFtIGlmcmFtZSAtIFRoZSBpZnJhbWUgZWxlbWVudCBjb250YWluaW5nIHRoZSBwYXltZW50IHdlYiBwYWdlXG4gICAgICogcHJvdmlkZWQgYnkgdGhlIHN0cmF0ZWd5LlxuICAgICAqIEBwYXJhbSBjYW5jZWwgLSBBIGZ1bmN0aW9uLCB3aGVuIGNhbGxlZCwgd2lsbCBjYW5jZWwgdGhlIHBheW1lbnRcbiAgICAgKiBwcm9jZXNzIGFuZCByZW1vdmUgdGhlIGlmcmFtZS5cbiAgICAgKi9cbiAgICBvbkxvYWQoaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudCwgY2FuY2VsOiAoKSA9PiB2b2lkKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXaXRoQmx1ZVNuYXBEaXJlY3RBUE1QYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMge1xuICAgIC8qKlxuICAgICAqIFRoZSBvcHRpb25zIHRoYXQgYXJlIHJlcXVpcmVkIHRvIGluaXRpYWxpemUgdGhlIEFwcGxlIFBheSBwYXltZW50XG4gICAgICogbWV0aG9kLiBUaGV5IGNhbiBiZSBvbWl0dGVkIHVubGVzcyB5b3UgbmVlZCB0byBzdXBwb3J0IEFwcGxlIFBheS5cbiAgICAgKi9cbiAgICBibHVlc25hcGRpcmVjdD86IEJsdWVTbmFwRGlyZWN0QVBNSW5pdGlhbGl6ZU9wdGlvbnM7XG59XG4iLCJpbXBvcnQgeyBXaXRoQ3JlZGl0Q2FyZFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvY3JlZGl0LWNhcmQtaW50ZWdyYXRpb24nO1xuaW1wb3J0IHtcbiAgICBndWFyZCxcbiAgICBJbnZhbGlkQXJndW1lbnRFcnJvcixcbiAgICBpc0hvc3RlZEluc3RydW1lbnRMaWtlLFxuICAgIGlzVmF1bHRlZEluc3RydW1lbnQsXG4gICAgTWlzc2luZ0RhdGFFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yVHlwZSxcbiAgICBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IsXG4gICAgT3JkZXJSZXF1ZXN0Qm9keSxcbiAgICBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IsXG4gICAgUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudFN0cmF0ZWd5LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgQmx1ZVNuYXBEaXJlY3RTZGssIEJsdWVTbmFwRGlyZWN0VGhyZWVEU2VjdXJlRGF0YSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCBpc0hvc3RlZENhcmRGaWVsZE9wdGlvbnNNYXAgZnJvbSAnLi4vdXRpbHMvaXMtaG9zdGVkLWNhcmQtZmllbGQtb3B0aW9ucy1tYXAnO1xuaW1wb3J0IGlzSG9zdGVkU3RvcmVkQ2FyZEZpZWxkT3B0aW9uc01hcCBmcm9tICcuLi91dGlscy9pcy1ob3N0ZWQtc3RvcmVkLWNhcmQtZmllbGQtb3B0aW9ucy1tYXAnO1xuXG5pbXBvcnQgQmx1ZVNuYXBEaXJlY3QzZHMgZnJvbSAnLi9ibHVlc25hcC1kaXJlY3QtM2RzJztcbmltcG9ydCBCbHVlU25hcERpcmVjdEhvc3RlZEZvcm0gZnJvbSAnLi9ibHVlc25hcC1kaXJlY3QtaG9zdGVkLWZvcm0nO1xuaW1wb3J0IEJsdWVTbmFwRGlyZWN0U2NyaXB0TG9hZGVyIGZyb20gJy4vYmx1ZXNuYXAtZGlyZWN0LXNjcmlwdC1sb2FkZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCbHVlU25hcERpcmVjdENyZWRpdENhcmRQYXltZW50U3RyYXRlZ3kgaW1wbGVtZW50cyBQYXltZW50U3RyYXRlZ3kge1xuICAgIHByaXZhdGUgX3BheW1lbnRGaWVsZHNUb2tlbj86IHN0cmluZztcbiAgICBwcml2YXRlIF9zaG91bGRVc2VIb3N0ZWRGaWVsZHM/OiBib29sZWFuO1xuICAgIHByaXZhdGUgX2JsdWVTbmFwU2RrPzogQmx1ZVNuYXBEaXJlY3RTZGs7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBfc2NyaXB0TG9hZGVyOiBCbHVlU25hcERpcmVjdFNjcmlwdExvYWRlcixcbiAgICAgICAgcHJpdmF0ZSBfcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBfYmx1ZVNuYXBEaXJlY3RIb3N0ZWRGb3JtOiBCbHVlU25hcERpcmVjdEhvc3RlZEZvcm0sXG4gICAgICAgIHByaXZhdGUgX2JsdWVTbmFwRGlyZWN0M2RzOiBCbHVlU25hcERpcmVjdDNkcyxcbiAgICApIHt9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKFxuICAgICAgICBvcHRpb25zOiBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoQ3JlZGl0Q2FyZFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBtZXRob2RJZCwgZ2F0ZXdheUlkLCBjcmVkaXRDYXJkIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIGlmICghZ2F0ZXdheUlkIHx8ICFjcmVkaXRDYXJkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChnYXRld2F5SWQsIHtcbiAgICAgICAgICAgIHBhcmFtczogeyBtZXRob2Q6IG1ldGhvZElkLCBiaWdwYXlUb2tlbjogY3JlZGl0Q2FyZC5iaWdwYXlUb2tlbiB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjb25maWc6IHsgdGVzdE1vZGUsIGlzM2RzRW5hYmxlZCB9LFxuICAgICAgICAgICAgY2xpZW50VG9rZW4sXG4gICAgICAgIH0gPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCwgZ2F0ZXdheUlkKTtcblxuICAgICAgICB0aGlzLl9ibHVlU25hcFNkayA9IGF3YWl0IHRoaXMuX3NjcmlwdExvYWRlci5sb2FkKHRlc3RNb2RlKTtcblxuICAgICAgICB0aGlzLl9wYXltZW50RmllbGRzVG9rZW4gPSBjbGllbnRUb2tlbjtcbiAgICAgICAgdGhpcy5fc2hvdWxkVXNlSG9zdGVkRmllbGRzID1cbiAgICAgICAgICAgIGlzSG9zdGVkQ2FyZEZpZWxkT3B0aW9uc01hcChjcmVkaXRDYXJkLmZvcm0uZmllbGRzKSB8fFxuICAgICAgICAgICAgKGlzSG9zdGVkU3RvcmVkQ2FyZEZpZWxkT3B0aW9uc01hcChjcmVkaXRDYXJkLmZvcm0uZmllbGRzKSAmJlxuICAgICAgICAgICAgICAgICEhY3JlZGl0Q2FyZC5mb3JtLmZpZWxkcy5jYXJkTnVtYmVyVmVyaWZpY2F0aW9uKTtcblxuICAgICAgICBpZiAodGhpcy5fc2hvdWxkVXNlSG9zdGVkRmllbGRzKSB7XG4gICAgICAgICAgICB0aGlzLl9ibHVlU25hcERpcmVjdEhvc3RlZEZvcm0uaW5pdGlhbGl6ZSh0aGlzLl9ibHVlU25hcFNkaywgY3JlZGl0Q2FyZC5mb3JtLmZpZWxkcyk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9ibHVlU25hcERpcmVjdEhvc3RlZEZvcm0uYXR0YWNoKFxuICAgICAgICAgICAgICAgIHRoaXMuX2dldFBheW1lbnRGaWVsZHNUb2tlbigpLFxuICAgICAgICAgICAgICAgIGNyZWRpdENhcmQsXG4gICAgICAgICAgICAgICAgaXMzZHNFbmFibGVkLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGUocGF5bG9hZDogT3JkZXJSZXF1ZXN0Qm9keSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoIXBheWxvYWQucGF5bWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2JsdWVTbmFwU2RrKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yKFsncGF5bWVudCddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgcGF5bWVudERhdGEgfSA9IHBheWxvYWQucGF5bWVudDtcblxuICAgICAgICBjb25zdCB7IHNob3VsZFNhdmVJbnN0cnVtZW50LCBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50IH0gPSBpc0hvc3RlZEluc3RydW1lbnRMaWtlKFxuICAgICAgICAgICAgcGF5bWVudERhdGEsXG4gICAgICAgIClcbiAgICAgICAgICAgID8gcGF5bWVudERhdGFcbiAgICAgICAgICAgIDogeyBzaG91bGRTYXZlSW5zdHJ1bWVudDogZmFsc2UsIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQ6IGZhbHNlIH07XG5cbiAgICAgICAgY29uc3QgcGZUb2tlbiA9IHRoaXMuX2dldFBheW1lbnRGaWVsZHNUb2tlbigpO1xuICAgICAgICBsZXQgdGhyZWVEU2VjdXJlUmVmZXJlbmNlSWQ7XG5cbiAgICAgICAgY29uc3QgeyBpczNkc0VuYWJsZWQgfSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2VcbiAgICAgICAgICAgIC5nZXRTdGF0ZSgpXG4gICAgICAgICAgICAuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cocGF5bG9hZC5wYXltZW50Lm1ldGhvZElkLCBwYXlsb2FkLnBheW1lbnQuZ2F0ZXdheUlkKS5jb25maWc7XG5cbiAgICAgICAgY29uc3QgYmx1ZXNuYXBTdWJtaXRlZEZvcm0gPSB0aGlzLl9zaG91bGRVc2VIb3N0ZWRGaWVsZHNcbiAgICAgICAgICAgID8gYXdhaXQgdGhpcy5fYmx1ZVNuYXBEaXJlY3RIb3N0ZWRGb3JtXG4gICAgICAgICAgICAgICAgICAudmFsaWRhdGUoKVxuICAgICAgICAgICAgICAgICAgLnN1Ym1pdChcbiAgICAgICAgICAgICAgICAgICAgICBpczNkc0VuYWJsZWQgPyB0aGlzLl9nZXRCbHVlU25hcERpcmVjdFRocmVlRFNlY3VyZURhdGEoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAhKGlzSG9zdGVkSW5zdHJ1bWVudExpa2UocGF5bWVudERhdGEpICYmIGlzVmF1bHRlZEluc3RydW1lbnQocGF5bWVudERhdGEpKSxcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIoKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBpc0hvc3RlZEluc3RydW1lbnRMaWtlKHBheW1lbnREYXRhKSAmJlxuICAgICAgICAgICAgaXNWYXVsdGVkSW5zdHJ1bWVudChwYXltZW50RGF0YSkgJiZcbiAgICAgICAgICAgIHRoaXMuX3BheW1lbnRGaWVsZHNUb2tlbiAmJlxuICAgICAgICAgICAgcGF5bWVudERhdGEuaW5zdHJ1bWVudElkXG4gICAgICAgICkge1xuICAgICAgICAgICAgaWYgKGlzM2RzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JsdWVTbmFwRGlyZWN0M2RzLmluaXRpYWxpemUodGhpcy5fYmx1ZVNuYXBTZGspO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgeyBsYXN0NCwgYnJhbmQgfSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2VcbiAgICAgICAgICAgICAgICAgICAgLmdldFN0YXRlKClcbiAgICAgICAgICAgICAgICAgICAgLmdldENhcmRJbnN0cnVtZW50T3JUaHJvdyhwYXltZW50RGF0YS5pbnN0cnVtZW50SWQpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNseVVzZWRDYXJkID0ge1xuICAgICAgICAgICAgICAgICAgICBsYXN0NERpZ2l0czogbGFzdDQsXG4gICAgICAgICAgICAgICAgICAgIGNjVHlwZTogYnJhbmQudG9VcHBlckNhc2UoKSxcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5fZ2V0Qmx1ZVNuYXBEaXJlY3RUaHJlZURTZWN1cmVEYXRhKCksXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHRocmVlRFNlY3VyZVJlZmVyZW5jZUlkID0gYXdhaXQgdGhpcy5fYmx1ZVNuYXBEaXJlY3QzZHMuaW5pdGlhbGl6ZTNkcyhcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGF5bWVudEZpZWxkc1Rva2VuLFxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c2x5VXNlZENhcmQsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHtcbiAgICAgICAgICAgICAgICAuLi5wYXlsb2FkLnBheW1lbnQsXG4gICAgICAgICAgICAgICAgcGF5bWVudERhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudElkOiBwYXltZW50RGF0YS5pbnN0cnVtZW50SWQsXG4gICAgICAgICAgICAgICAgICAgIC4uLih0aGlzLl9zaG91bGRVc2VIb3N0ZWRGaWVsZHMgPyB7IG5vbmNlOiBwZlRva2VuIH0gOiB7fSksXG4gICAgICAgICAgICAgICAgICAgIC4uLih0aHJlZURTZWN1cmVSZWZlcmVuY2VJZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB7IGRldmljZVNlc3Npb25JZDogdGhyZWVEU2VjdXJlUmVmZXJlbmNlSWQgfVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQ6ICEhc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudCh7XG4gICAgICAgICAgICAuLi5wYXlsb2FkLnBheW1lbnQsXG4gICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgY3JlZGl0X2NhcmRfdG9rZW46IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGZUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkSG9sZGVyTmFtZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmx1ZXNuYXBTdWJtaXRlZEZvcm0gJiYgYmx1ZXNuYXBTdWJtaXRlZEZvcm0uY2FyZEhvbGRlck5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdmF1bHRfcGF5bWVudF9pbnN0cnVtZW50OiBzaG91bGRTYXZlSW5zdHJ1bWVudCxcbiAgICAgICAgICAgICAgICAgICAgc2V0X2FzX2RlZmF1bHRfc3RvcmVkX2luc3RydW1lbnQ6IHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZpbmFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcigpKTtcbiAgICB9XG5cbiAgICBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0aGlzLl9zaG91bGRVc2VIb3N0ZWRGaWVsZHMpIHtcbiAgICAgICAgICAgIHRoaXMuX2JsdWVTbmFwRGlyZWN0SG9zdGVkRm9ybS5kZXRhY2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRCbHVlU25hcERpcmVjdFRocmVlRFNlY3VyZURhdGEoKTogQmx1ZVNuYXBEaXJlY3RUaHJlZURTZWN1cmVEYXRhIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgZ2V0QmlsbGluZ0FkZHJlc3MsXG4gICAgICAgICAgICBnZXRTaGlwcGluZ0FkZHJlc3MsXG4gICAgICAgICAgICBnZXRDdXN0b21lcixcbiAgICAgICAgICAgIGdldENoZWNrb3V0T3JUaHJvdyxcbiAgICAgICAgICAgIGdldENhcnRPclRocm93LFxuICAgICAgICB9ID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBiaWxsaW5nQWRkcmVzcyA9IGdldEJpbGxpbmdBZGRyZXNzKCk7XG4gICAgICAgIGNvbnN0IHNoaXBwaW5nQWRkcmVzcyA9IGdldFNoaXBwaW5nQWRkcmVzcygpO1xuICAgICAgICBjb25zdCBlbWFpbCA9IGdldEN1c3RvbWVyKCk/LmVtYWlsIHx8IGJpbGxpbmdBZGRyZXNzPy5lbWFpbDtcbiAgICAgICAgY29uc3QgcGhvbmUgPSBiaWxsaW5nQWRkcmVzcz8ucGhvbmUgfHwgc2hpcHBpbmdBZGRyZXNzPy5waG9uZTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYW1vdW50OiBnZXRDaGVja291dE9yVGhyb3coKS5vdXRzdGFuZGluZ0JhbGFuY2UsXG4gICAgICAgICAgICBjdXJyZW5jeTogZ2V0Q2FydE9yVGhyb3coKS5jdXJyZW5jeS5jb2RlLFxuICAgICAgICAgICAgLi4uKGVtYWlsICYmIHsgZW1haWwgfSksXG4gICAgICAgICAgICAuLi4ocGhvbmUgJiYgeyBwaG9uZSB9KSxcbiAgICAgICAgICAgIC4uLihiaWxsaW5nQWRkcmVzcyAmJiB7XG4gICAgICAgICAgICAgICAgYmlsbGluZ0ZpcnN0TmFtZTogYmlsbGluZ0FkZHJlc3MuZmlyc3ROYW1lLFxuICAgICAgICAgICAgICAgIGJpbGxpbmdMYXN0TmFtZTogYmlsbGluZ0FkZHJlc3MubGFzdE5hbWUsXG4gICAgICAgICAgICAgICAgYmlsbGluZ0NvdW50cnk6IGJpbGxpbmdBZGRyZXNzLmNvdW50cnlDb2RlLFxuICAgICAgICAgICAgICAgIGJpbGxpbmdDaXR5OiBiaWxsaW5nQWRkcmVzcy5jaXR5LFxuICAgICAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzOiBgJHtiaWxsaW5nQWRkcmVzcy5hZGRyZXNzMX0gJHtiaWxsaW5nQWRkcmVzcy5hZGRyZXNzMn1gLnRyaW0oKSxcbiAgICAgICAgICAgICAgICBiaWxsaW5nWmlwOiBiaWxsaW5nQWRkcmVzcy5wb3N0YWxDb2RlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAuLi4oc2hpcHBpbmdBZGRyZXNzICYmIHtcbiAgICAgICAgICAgICAgICBzaGlwcGluZ0ZpcnN0TmFtZTogc2hpcHBpbmdBZGRyZXNzLmZpcnN0TmFtZSxcbiAgICAgICAgICAgICAgICBzaGlwcGluZ0xhc3ROYW1lOiBzaGlwcGluZ0FkZHJlc3MubGFzdE5hbWUsXG4gICAgICAgICAgICAgICAgc2hpcHBpbmdDb3VudHJ5OiBzaGlwcGluZ0FkZHJlc3MuY291bnRyeUNvZGUsXG4gICAgICAgICAgICAgICAgc2hpcHBpbmdDaXR5OiBzaGlwcGluZ0FkZHJlc3MuY2l0eSxcbiAgICAgICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3M6IGAke3NoaXBwaW5nQWRkcmVzcy5hZGRyZXNzMX0gJHtzaGlwcGluZ0FkZHJlc3MuYWRkcmVzczJ9YC50cmltKCksXG4gICAgICAgICAgICAgICAgc2hpcHBpbmdaaXA6IHNoaXBwaW5nQWRkcmVzcy5wb3N0YWxDb2RlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0UGF5bWVudEZpZWxkc1Rva2VuKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBndWFyZChcbiAgICAgICAgICAgIHRoaXMuX3BheW1lbnRGaWVsZHNUb2tlbixcbiAgICAgICAgICAgICgpID0+IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50VG9rZW4pLFxuICAgICAgICApO1xuICAgIH1cbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBheW1lbnRJbnZhbGlkRm9ybUVycm9yRGV0YWlscyB7XG4gICAgW2tleTogc3RyaW5nXTogQXJyYXk8eyBtZXNzYWdlOiBzdHJpbmc7IHR5cGU6IHN0cmluZyB9Pjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudEludmFsaWRGb3JtRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZGV0YWlsczogUGF5bWVudEludmFsaWRGb3JtRXJyb3JEZXRhaWxzLCBtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHBheW1lbnQgZm9ybSBjb250YWlucyBpbnZhbGlkIGRhdGEuJyk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ1BheW1lbnRJbnZhbGlkRm9ybUVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3BheW1lbnRfaW52YWxpZF9mb3JtJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBIb3N0ZWRGaWVsZFR5cGUgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgQmx1ZVNuYXBEaXJlY3RIb3N0ZWRGaWVsZFRhZ0lkIGFzIEhvc3RlZEZpZWxkVGFnSWQgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IEJsdWVTbmFwSG9zdGVkRmllbGRUeXBlOiB7XG4gICAgW0hvc3RlZEZpZWxkVGFnSWQuQ2FyZE51bWJlcl06IEhvc3RlZEZpZWxkVHlwZS5DYXJkTnVtYmVyO1xuICAgIFtIb3N0ZWRGaWVsZFRhZ0lkLkNhcmRFeHBpcnldOiBIb3N0ZWRGaWVsZFR5cGUuQ2FyZEV4cGlyeTtcbiAgICBbSG9zdGVkRmllbGRUYWdJZC5DYXJkTmFtZV06IEhvc3RlZEZpZWxkVHlwZS5DYXJkTmFtZTtcbiAgICBbSG9zdGVkRmllbGRUYWdJZC5DYXJkQ29kZV06IEhvc3RlZEZpZWxkVHlwZS5DYXJkQ29kZTtcbn0gPSB7XG4gICAgW0hvc3RlZEZpZWxkVGFnSWQuQ2FyZE51bWJlcl06IEhvc3RlZEZpZWxkVHlwZS5DYXJkTnVtYmVyLFxuICAgIFtIb3N0ZWRGaWVsZFRhZ0lkLkNhcmRFeHBpcnldOiBIb3N0ZWRGaWVsZFR5cGUuQ2FyZEV4cGlyeSxcbiAgICBbSG9zdGVkRmllbGRUYWdJZC5DYXJkTmFtZV06IEhvc3RlZEZpZWxkVHlwZS5DYXJkTmFtZSxcbiAgICBbSG9zdGVkRmllbGRUYWdJZC5DYXJkQ29kZV06IEhvc3RlZEZpZWxkVHlwZS5DYXJkQ29kZSxcbn07XG5cbmV4cG9ydCBjb25zdCBDUkVESVRfQ0FSRF9FUlJPUlMgPSB7XG4gICAgZW1wdHk6IHtcbiAgICAgICAgW0hvc3RlZEZpZWxkVHlwZS5DYXJkTnVtYmVyXToge1xuICAgICAgICAgICAgZmllbGRUeXBlOiAnY2FyZE51bWJlcicsXG4gICAgICAgICAgICBtZXNzYWdlOiAnQ3JlZGl0IGNhcmQgbnVtYmVyIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgICAgIHR5cGU6ICdyZXF1aXJlZCcsXG4gICAgICAgIH0sXG4gICAgICAgIFtIb3N0ZWRGaWVsZFR5cGUuQ2FyZE51bWJlclZlcmlmaWNhdGlvbl06IHtcbiAgICAgICAgICAgIGZpZWxkVHlwZTogJ2NhcmROdW1iZXInLFxuICAgICAgICAgICAgbWVzc2FnZTogJ0NyZWRpdCBjYXJkIG51bWJlciBpcyByZXF1aXJlZCcsXG4gICAgICAgICAgICB0eXBlOiAncmVxdWlyZWQnLFxuICAgICAgICB9LFxuICAgICAgICBbSG9zdGVkRmllbGRUeXBlLkNhcmRFeHBpcnldOiB7XG4gICAgICAgICAgICBmaWVsZFR5cGU6ICdjYXJkRXhwaXJ5JyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdFeHBpcmF0aW9uIGRhdGUgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgdHlwZTogJ3JlcXVpcmVkJyxcbiAgICAgICAgfSxcbiAgICAgICAgW0hvc3RlZEZpZWxkVHlwZS5DYXJkQ29kZV06IHtcbiAgICAgICAgICAgIGZpZWxkVHlwZTogJ2NhcmRDb2RlJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdDVlYgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgdHlwZTogJ3JlcXVpcmVkJyxcbiAgICAgICAgfSxcbiAgICAgICAgW0hvc3RlZEZpZWxkVHlwZS5DYXJkTmFtZV06IHtcbiAgICAgICAgICAgIGZpZWxkVHlwZTogJ2NhcmROYW1lJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdGdWxsIG5hbWUgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgdHlwZTogJ3JlcXVpcmVkJyxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGludmFsaWQ6IHtcbiAgICAgICAgW0hvc3RlZEZpZWxkVHlwZS5DYXJkTnVtYmVyXToge1xuICAgICAgICAgICAgZmllbGRUeXBlOiAnY2FyZE51bWJlcicsXG4gICAgICAgICAgICBtZXNzYWdlOiAnQ3JlZGl0IGNhcmQgbnVtYmVyIG11c3QgYmUgdmFsaWQnLFxuICAgICAgICAgICAgdHlwZTogJ2ludmFsaWRfY2FyZF9udW1iZXInLFxuICAgICAgICB9LFxuICAgICAgICBbSG9zdGVkRmllbGRUeXBlLkNhcmROdW1iZXJWZXJpZmljYXRpb25dOiB7XG4gICAgICAgICAgICBmaWVsZFR5cGU6ICdjYXJkTnVtYmVyJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdDcmVkaXQgY2FyZCBudW1iZXIgbXVzdCBiZSB2YWxpZCcsXG4gICAgICAgICAgICB0eXBlOiAnaW52YWxpZF9jYXJkX251bWJlcicsXG4gICAgICAgIH0sXG4gICAgICAgIFtIb3N0ZWRGaWVsZFR5cGUuQ2FyZEV4cGlyeV06IHtcbiAgICAgICAgICAgIGZpZWxkVHlwZTogJ2NhcmRFeHBpcnknLFxuICAgICAgICAgICAgbWVzc2FnZTogJ0V4cGlyYXRpb24gZGF0ZSBtdXN0IGJlIGEgdmFsaWQgZnV0dXJlIGRhdGUgaW4gTU0gLyBZWSBmb3JtYXQnLFxuICAgICAgICAgICAgdHlwZTogJ2ludmFsaWRfY2FyZF9leHBpcnknLFxuICAgICAgICB9LFxuICAgICAgICBbSG9zdGVkRmllbGRUeXBlLkNhcmRDb2RlXToge1xuICAgICAgICAgICAgZmllbGRUeXBlOiAnY2FyZENvZGUnLFxuICAgICAgICAgICAgbWVzc2FnZTogJ0NWViBtdXN0IGJlIHZhbGlkJyxcbiAgICAgICAgICAgIHR5cGU6ICdpbnZhbGlkX2NhcmRfY29kZScsXG4gICAgICAgIH0sXG4gICAgICAgIFtIb3N0ZWRGaWVsZFR5cGUuQ2FyZE5hbWVdOiB7XG4gICAgICAgICAgICBmaWVsZFR5cGU6ICdjYXJkTmFtZScsXG4gICAgICAgICAgICBtZXNzYWdlOiAnRnVsbCBuYW1lIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgICAgIHR5cGU6ICdyZXF1aXJlZCcsXG4gICAgICAgIH0sXG4gICAgfSxcbn07XG4iLCJpbXBvcnQgeyBrZWJhYkNhc2UgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQgeyBDcmVkaXRDYXJkUGF5bWVudEluaXRpYWxpemVPcHRpb25zIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9jcmVkaXQtY2FyZC1pbnRlZ3JhdGlvbic7XG5pbXBvcnQge1xuICAgIGd1YXJkLFxuICAgIEhvc3RlZENhcmRGaWVsZE9wdGlvbnNNYXAsXG4gICAgSG9zdGVkRmllbGRCbHVyRXZlbnREYXRhLFxuICAgIEhvc3RlZEZpZWxkRW50ZXJFdmVudERhdGEsXG4gICAgSG9zdGVkRmllbGRGb2N1c0V2ZW50RGF0YSxcbiAgICBIb3N0ZWRGaWVsZE9wdGlvbnNNYXAsXG4gICAgSG9zdGVkRmllbGRTdHlsZXNNYXAsXG4gICAgSG9zdGVkRm9ybU9wdGlvbnMsXG4gICAgSG9zdGVkSW5wdXRWYWxpZGF0ZUVycm9yRGF0YSxcbiAgICBIb3N0ZWRTdG9yZWRDYXJkRmllbGRPcHRpb25zTWFwLFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgUGF5bWVudEludmFsaWRGb3JtRXJyb3IsXG4gICAgUGF5bWVudEludmFsaWRGb3JtRXJyb3JEZXRhaWxzLFxuICAgIFBheW1lbnRNZXRob2RGYWlsZWRFcnJvcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IEJsdWVTbmFwSG9zdGVkRmllbGRUeXBlIH0gZnJvbSAnLi4vYmx1ZXNuYXAtZGlyZWN0LWNvbnN0YW50cyc7XG5pbXBvcnQge1xuICAgIEJsdWVTbmFwRGlyZWN0U2RrLFxuICAgIEJsdWVTbmFwRGlyZWN0U3R5bGUsXG4gICAgQmx1ZVNuYXBEaXJlY3RDYWxsYmFja0NhcmREYXRhIGFzIENhbGxiYWNrQ2FyZERhdGEsXG4gICAgQmx1ZVNuYXBEaXJlY3RDYWxsYmFja0Vycm9yIGFzIENhbGxiYWNrRXJyb3IsXG4gICAgQmx1ZVNuYXBEaXJlY3RDYWxsYmFja1Jlc3VsdHMgYXMgQ2FsbGJhY2tSZXN1bHRzLFxuICAgIFdpdGhCbHVlU25hcERpcmVjdENhcmRIb2xkZXJOYW1lIGFzIENhcmRIb2xkZXJOYW1lLFxuICAgIEJsdWVTbmFwRGlyZWN0Q2FyZFR5cGUgYXMgQ2FyZFR5cGUsXG4gICAgQmx1ZVNuYXBEaXJlY3RDYXJkVHlwZVZhbHVlcyBhcyBDYXJkVHlwZVZhbHVlcyxcbiAgICBCbHVlU25hcERpcmVjdEVycm9yQ29kZSBhcyBFcnJvckNvZGUsXG4gICAgQmx1ZVNuYXBEaXJlY3RFcnJvckRlc2NyaXB0aW9uIGFzIEVycm9yRGVzY3JpcHRpb24sXG4gICAgQmx1ZVNuYXBEaXJlY3RFdmVudE9yaWdpbiBhcyBFdmVudE9yaWdpbixcbiAgICBCbHVlU25hcERpcmVjdEhvc3RlZEZpZWxkVGFnSWQgYXMgSG9zdGVkRmllbGRUYWdJZCxcbiAgICBCbHVlU25hcERpcmVjdEhvc3RlZFBheW1lbnRGaWVsZHNPcHRpb25zIGFzIEhvc3RlZFBheW1lbnRGaWVsZHNPcHRpb25zLFxuICAgIEJsdWVTbmFwRGlyZWN0VGhyZWVEU2VjdXJlRGF0YSBhcyBUaHJlZURTZWN1cmVEYXRhLFxufSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgaXNWYWxpZGF0aW9uRXJyb3JEZXNjcmlwdGlvbiBmcm9tICcuLi91dGlscy9pcy1ibHVlc25hcC1kaXJlY3QtaW5wdXQtdmFsaWRhdGlvbi1lcnJvci1kZXNjcmlwdGlvbic7XG5pbXBvcnQgaXNIb3N0ZWRDYXJkRmllbGRPcHRpb25zTWFwIGZyb20gJy4uL3V0aWxzL2lzLWhvc3RlZC1jYXJkLWZpZWxkLW9wdGlvbnMtbWFwJztcbmltcG9ydCBpc0hvc3RlZFN0b3JlZENhcmRGaWVsZE9wdGlvbnNNYXAgZnJvbSAnLi4vdXRpbHMvaXMtaG9zdGVkLXN0b3JlZC1jYXJkLWZpZWxkLW9wdGlvbnMtbWFwJztcblxuaW1wb3J0IEJsdWVTbmFwSG9zdGVkSW5wdXRWYWxpZGF0b3IgZnJvbSAnLi9ibHVlc25hcC1kaXJlY3QtaG9zdGVkLWlucHV0LXZhbGlkYXRvcic7XG5pbXBvcnQgQmx1ZXNuYXBEaXJlY3ROYW1lT25DYXJkSW5wdXQgZnJvbSAnLi9ibHVlc25hcC1kaXJlY3QtbmFtZS1vbi1jYXJkLWlucHV0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmx1ZVNuYXBEaXJlY3RIb3N0ZWRGb3JtIHtcbiAgICBwcml2YXRlIF9ibHVlU25hcFNkaz86IEJsdWVTbmFwRGlyZWN0U2RrO1xuICAgIHByaXZhdGUgX29uVmFsaWRhdGU6IEhvc3RlZEZvcm1PcHRpb25zWydvblZhbGlkYXRlJ107XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBfbmFtZU9uQ2FyZElucHV0OiBCbHVlc25hcERpcmVjdE5hbWVPbkNhcmRJbnB1dCxcbiAgICAgICAgcHJpdmF0ZSBfaG9zdGVkSW5wdXRWYWxpZGF0b3I6IEJsdWVTbmFwSG9zdGVkSW5wdXRWYWxpZGF0b3IsXG4gICAgKSB7fVxuXG4gICAgaW5pdGlhbGl6ZShibHVlU25hcFNkazogQmx1ZVNuYXBEaXJlY3RTZGssIGZpZWxkcz86IEhvc3RlZEZpZWxkT3B0aW9uc01hcCkge1xuICAgICAgICB0aGlzLl9ibHVlU25hcFNkayA9IGJsdWVTbmFwU2RrO1xuXG4gICAgICAgIGlmICghZmllbGRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNIb3N0ZWRDYXJkRmllbGRPcHRpb25zTWFwKGZpZWxkcykpIHtcbiAgICAgICAgICAgIHRoaXMuX2hvc3RlZElucHV0VmFsaWRhdG9yLmluaXRpYWxpemUoKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzSG9zdGVkU3RvcmVkQ2FyZEZpZWxkT3B0aW9uc01hcChmaWVsZHMpICYmICEhZmllbGRzLmNhcmROdW1iZXJWZXJpZmljYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2hvc3RlZElucHV0VmFsaWRhdG9yLmluaXRpYWxpemVWYWxpZGF0aW9uRmllbGRzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBhdHRhY2goXG4gICAgICAgIHBheW1lbnRGaWVsZHNUb2tlbjogc3RyaW5nLFxuICAgICAgICB7IGZvcm06IHsgZmllbGRzLCAuLi5jYWxsYmFja3NBbmRTdHlsZXMgfSB9OiBDcmVkaXRDYXJkUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgICAgICBlbmFibGUzRFMgPSBmYWxzZSxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgYmx1ZVNuYXBTZGsgPSB0aGlzLl9nZXRCbHVlU25hcFNkaygpO1xuXG4gICAgICAgIGlmICghaXNIb3N0ZWRDYXJkRmllbGRPcHRpb25zTWFwKGZpZWxkcykgJiYgIWlzSG9zdGVkU3RvcmVkQ2FyZEZpZWxkT3B0aW9uc01hcChmaWVsZHMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ0ZpZWxkIG9wdGlvbnMgbXVzdCBiZSBvZiB0eXBlIEhvc3RlZENhcmRGaWVsZE9wdGlvbnNNYXAnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX29uVmFsaWRhdGUgPSBjYWxsYmFja3NBbmRTdHlsZXMub25WYWxpZGF0ZTtcblxuICAgICAgICBpZiAoaXNIb3N0ZWRDYXJkRmllbGRPcHRpb25zTWFwKGZpZWxkcykpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldEN1c3RvbUJsdWVTbmFwQXR0cmlidXRlcyhmaWVsZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzSG9zdGVkU3RvcmVkQ2FyZEZpZWxkT3B0aW9uc01hcChmaWVsZHMpKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRDdXN0b21TdG9yZWRDYXJkc0JsdWVTbmFwQXR0cmlidXRlcyhmaWVsZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5fZ2V0SG9zdGVkUGF5bWVudEZpZWxkc09wdGlvbnMoXG4gICAgICAgICAgICAgICAgcGF5bWVudEZpZWxkc1Rva2VuLFxuICAgICAgICAgICAgICAgIGZpZWxkcyxcbiAgICAgICAgICAgICAgICBjYWxsYmFja3NBbmRTdHlsZXMsXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICBlbmFibGUzRFMsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBibHVlU25hcFNkay5ob3N0ZWRQYXltZW50RmllbGRzQ3JlYXRlKG9wdGlvbnMpO1xuXG4gICAgICAgICAgICBpZiAoaXNIb3N0ZWRDYXJkRmllbGRPcHRpb25zTWFwKGZpZWxkcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9uYW1lT25DYXJkSW5wdXQuYXR0YWNoKFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZHMuY2FyZE5hbWUuYWNjZXNzaWJpbGl0eUxhYmVsLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZHMuY2FyZE5hbWUucGxhY2Vob2xkZXIsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFsaWRhdGUoKTogdGhpcyB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSB0aGlzLl9ob3N0ZWRJbnB1dFZhbGlkYXRvci52YWxpZGF0ZSgpO1xuXG4gICAgICAgIHRoaXMuX29uVmFsaWRhdGU/LihyZXN1bHRzKTtcblxuICAgICAgICBpZiAoIXJlc3VsdHMuaXNWYWxpZCkge1xuICAgICAgICAgICAgY29uc3QgZGV0YWlscyA9IE9iamVjdC5lbnRyaWVzKHJlc3VsdHMuZXJyb3JzKS5yZWR1Y2U8UGF5bWVudEludmFsaWRGb3JtRXJyb3JEZXRhaWxzPihcbiAgICAgICAgICAgICAgICAocmVzdWx0LCBba2V5LCB2YWx1ZV06IFtzdHJpbmcsIEhvc3RlZElucHV0VmFsaWRhdGVFcnJvckRhdGFbXV0pID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgW2tleV06IHZhbHVlLm1hcCgoeyBtZXNzYWdlLCB0eXBlIH0pID0+ICh7IG1lc3NhZ2UsIHR5cGUgfSkpLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRJbnZhbGlkRm9ybUVycm9yKGRldGFpbHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3VibWl0KFxuICAgICAgICB0aHJlZURTZWN1cmVEYXRhPzogVGhyZWVEU2VjdXJlRGF0YSxcbiAgICAgICAgc2hvdWxkU2VuZE5hbWUgPSBmYWxzZSxcbiAgICApOiBQcm9taXNlPENhbGxiYWNrQ2FyZERhdGEgJiBDYXJkSG9sZGVyTmFtZT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cbiAgICAgICAgICAgIHRoaXMuX2dldEJsdWVTbmFwU2RrKCkuaG9zdGVkUGF5bWVudEZpZWxkc1N1Ym1pdERhdGEoXG4gICAgICAgICAgICAgICAgKGRhdGE6IENhbGxiYWNrUmVzdWx0cykgPT5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNCbHVlU25hcERpcmVjdENhbGxiYWNrRXJyb3IoZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcmVqZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFBheW1lbnRNZXRob2RGYWlsZWRFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnN0YXR1c0NvZGUgPT09IEVycm9yQ29kZS5USFJFRV9EU19BVVRIX0ZBSUxFRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGRhdGEuZXJyb3JbMF0uZXJyb3JEZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGBTdWJtaXNzaW9uIGZhaWxlZCB3aXRoIHN0YXR1czogJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5zdGF0dXNDb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBhbmQgZXJyb3JzOiAke0pTT04uc3RyaW5naWZ5KGRhdGEuZXJyb3IpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZGF0YS5jYXJkRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLihzaG91bGRTZW5kTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geyBjYXJkSG9sZGVyTmFtZTogdGhpcy5fbmFtZU9uQ2FyZElucHV0LmdldFZhbHVlKCkgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB0aHJlZURTZWN1cmVEYXRhLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBkZXRhY2goKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX25hbWVPbkNhcmRJbnB1dC5kZXRhY2goKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9pc0JsdWVTbmFwRGlyZWN0Q2FsbGJhY2tFcnJvcihkYXRhOiBDYWxsYmFja1Jlc3VsdHMpOiBkYXRhIGlzIENhbGxiYWNrRXJyb3Ige1xuICAgICAgICByZXR1cm4gJ2Vycm9yJyBpbiBkYXRhO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldEhvc3RlZFBheW1lbnRGaWVsZHNPcHRpb25zKFxuICAgICAgICB0b2tlbjogc3RyaW5nLFxuICAgICAgICBmaWVsZHM6IEhvc3RlZENhcmRGaWVsZE9wdGlvbnNNYXAgfCBIb3N0ZWRTdG9yZWRDYXJkRmllbGRPcHRpb25zTWFwLFxuICAgICAgICB7XG4gICAgICAgICAgICBvbkZvY3VzLFxuICAgICAgICAgICAgb25CbHVyLFxuICAgICAgICAgICAgb25WYWxpZGF0ZSxcbiAgICAgICAgICAgIG9uQ2FyZFR5cGVDaGFuZ2UsXG4gICAgICAgICAgICBvbkVudGVyLFxuICAgICAgICAgICAgc3R5bGVzLFxuICAgICAgICB9OiBPbWl0PEhvc3RlZEZvcm1PcHRpb25zLCAnZmllbGRzJz4sXG4gICAgICAgIHJlc29sdmU6ICgpID0+IHZvaWQsXG4gICAgICAgIGVuYWJsZTNEUzogYm9vbGVhbixcbiAgICApOiBIb3N0ZWRQYXltZW50RmllbGRzT3B0aW9ucyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b2tlbixcbiAgICAgICAgICAgIG9uRmllbGRFdmVudEhhbmRsZXI6IHtcbiAgICAgICAgICAgICAgICBzZXR1cENvbXBsZXRlOiAoKSA9PiByZXNvbHZlKCksXG4gICAgICAgICAgICAgICAgb25Gb2N1czogdGhpcy5fdXNldFVpRXZlbnRDYWxsYmFjayhvbkZvY3VzKSxcbiAgICAgICAgICAgICAgICBvbkJsdXI6IHRoaXMuX3VzZXRVaUV2ZW50Q2FsbGJhY2sob25CbHVyKSxcbiAgICAgICAgICAgICAgICBvbkVycm9yOiB0aGlzLl9oYW5kbGVFcnJvcihvblZhbGlkYXRlKSxcbiAgICAgICAgICAgICAgICBvblR5cGU6IChfdGFnSWQ6IEhvc3RlZEZpZWxkVGFnSWQsIGNhcmRUeXBlOiBDYXJkVHlwZVZhbHVlcykgPT5cbiAgICAgICAgICAgICAgICAgICAgb25DYXJkVHlwZUNoYW5nZT8uKHsgY2FyZFR5cGU6IENhcmRUeXBlW2NhcmRUeXBlXSB9KSxcbiAgICAgICAgICAgICAgICBvbkVudGVyOiB0aGlzLl91c2V0VWlFdmVudENhbGxiYWNrKG9uRW50ZXIpLFxuICAgICAgICAgICAgICAgIG9uVmFsaWQ6ICh0YWdJZDogSG9zdGVkRmllbGRUYWdJZCkgPT5cbiAgICAgICAgICAgICAgICAgICAgb25WYWxpZGF0ZT8uKHRoaXMuX2hvc3RlZElucHV0VmFsaWRhdG9yLnZhbGlkYXRlKHsgdGFnSWQgfSkpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC4uLihpc0hvc3RlZENhcmRGaWVsZE9wdGlvbnNNYXAoZmllbGRzKSAmJiB7XG4gICAgICAgICAgICAgICAgY2NuUGxhY2VIb2xkZXI6IGZpZWxkcy5jYXJkTnVtYmVyLnBsYWNlaG9sZGVyIHx8ICcnLFxuICAgICAgICAgICAgICAgIGN2dlBsYWNlSG9sZGVyOiBmaWVsZHMuY2FyZENvZGU/LnBsYWNlaG9sZGVyIHx8ICcnLFxuICAgICAgICAgICAgICAgIGV4cFBsYWNlSG9sZGVyOiBmaWVsZHMuY2FyZEV4cGlyeS5wbGFjZWhvbGRlciB8fCAnTU0gLyBZWScsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIC4uLihzdHlsZXMgJiYgeyBzdHlsZTogdGhpcy5fbWFwU3R5bGVzKHN0eWxlcykgfSksXG4gICAgICAgICAgICAnM0RTJzogZW5hYmxlM0RTLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX21hcFN0eWxlcyh7XG4gICAgICAgIGRlZmF1bHQ6IGlucHV0LFxuICAgICAgICBlcnJvcixcbiAgICAgICAgZm9jdXMsXG4gICAgfTogSG9zdGVkRmllbGRTdHlsZXNNYXApOiBCbHVlU25hcERpcmVjdFN0eWxlIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHtcbiAgICAgICAgICAgIC4uLihpbnB1dCAmJiB7IGlucHV0IH0pLFxuICAgICAgICAgICAgLi4uKGVycm9yICYmIHsgJy5pbnZhbGlkJzogZXJyb3IgfSksXG4gICAgICAgICAgICAuLi4oZm9jdXMgJiYgeyAnOmZvY3VzJzogZm9jdXMgfSksXG4gICAgICAgIH0pLnJlZHVjZSgocmVzdWx0LCBbc2VsZWN0b3IsIGRlY2xhcmF0aW9uXSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgICAgICAgICAgW3NlbGVjdG9yXTogT2JqZWN0LmVudHJpZXMoZGVjbGFyYXRpb24pLnJlZHVjZShcbiAgICAgICAgICAgICAgICAgICAgKGRlY2xhcmF0aW9uQmxvY2ssIFtwcm9wZXJ0eSwgdmFsdWVdKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZGVjbGFyYXRpb25CbG9jayxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtrZWJhYkNhc2UocHJvcGVydHkpXTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB7fSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwge30pO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2hhbmRsZUVycm9yKFxuICAgICAgICBvblZhbGlkYXRlOiBIb3N0ZWRGb3JtT3B0aW9uc1snb25WYWxpZGF0ZSddLFxuICAgICk6IChcbiAgICAgICAgdGFnSWQ6IEhvc3RlZEZpZWxkVGFnSWQgfCB1bmRlZmluZWQsXG4gICAgICAgIGVycm9yQ29kZTogRXJyb3JDb2RlLFxuICAgICAgICBlcnJvckRlc2NyaXB0aW9uOiBFcnJvckRlc2NyaXB0aW9uIHwgdW5kZWZpbmVkLFxuICAgICAgICBldmVudE9yaWdpbjogRXZlbnRPcmlnaW4gfCB1bmRlZmluZWQsXG4gICAgKSA9PiB2b2lkIHtcbiAgICAgICAgcmV0dXJuICh0YWdJZCwgZXJyb3JDb2RlLCBlcnJvckRlc2NyaXB0aW9uLCBldmVudE9yaWdpbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycm9yQ29kZSA9PT0gRXJyb3JDb2RlLklOVkFMSURfT1JfRU1QVFkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFnSWQgJiYgaXNWYWxpZGF0aW9uRXJyb3JEZXNjcmlwdGlvbihlcnJvckRlc2NyaXB0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25WYWxpZGF0ZT8uKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faG9zdGVkSW5wdXRWYWxpZGF0b3IudmFsaWRhdGUoeyB0YWdJZCwgZXJyb3JEZXNjcmlwdGlvbiB9KSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IoXG4gICAgICAgICAgICAgICAgYEFuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkOiAke0pTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgdGFnSWQsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JEZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRPcmlnaW4sXG4gICAgICAgICAgICAgICAgfSl9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfdXNldFVpRXZlbnRDYWxsYmFjayhcbiAgICAgICAgY2FsbGJhY2s/OiAoXG4gICAgICAgICAgICBkYXRhOiBIb3N0ZWRGaWVsZEJsdXJFdmVudERhdGEgfCBIb3N0ZWRGaWVsZEVudGVyRXZlbnREYXRhIHwgSG9zdGVkRmllbGRGb2N1c0V2ZW50RGF0YSxcbiAgICAgICAgKSA9PiB2b2lkLFxuICAgICk6ICh0YWdJZDogSG9zdGVkRmllbGRUYWdJZCkgPT4gdm9pZCB7XG4gICAgICAgIHJldHVybiAodGFnSWQpID0+IHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHsgZmllbGRUeXBlOiBCbHVlU25hcEhvc3RlZEZpZWxkVHlwZVt0YWdJZF0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0Qmx1ZVNuYXBTZGsoKTogQmx1ZVNuYXBEaXJlY3RTZGsge1xuICAgICAgICByZXR1cm4gZ3VhcmQoXG4gICAgICAgICAgICB0aGlzLl9ibHVlU25hcFNkayxcbiAgICAgICAgICAgICgpID0+IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfc2V0Q3VzdG9tQmx1ZVNuYXBBdHRyaWJ1dGVzKGZpZWxkczogSG9zdGVkQ2FyZEZpZWxkT3B0aW9uc01hcCk6IHZvaWQge1xuICAgICAgICBjb25zdCB7IGNhcmROdW1iZXIsIGNhcmRFeHBpcnksIGNhcmRDb2RlLCBjYXJkTmFtZSB9ID0gZmllbGRzO1xuXG4gICAgICAgIGNvbnN0IGNhcmROdW1iZXJDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYXJkTnVtYmVyLmNvbnRhaW5lcklkKTtcbiAgICAgICAgY29uc3QgY2FyZEV4cGlyeUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhcmRFeHBpcnkuY29udGFpbmVySWQpO1xuICAgICAgICBjb25zdCBjYXJkQ29kZUNvbnRhaW5lciA9IGNhcmRDb2RlICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhcmRDb2RlLmNvbnRhaW5lcklkKTtcbiAgICAgICAgY29uc3QgY2FyZE5hbWVDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYXJkTmFtZS5jb250YWluZXJJZCk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWNhcmROdW1iZXJDb250YWluZXIgfHxcbiAgICAgICAgICAgICFjYXJkRXhwaXJ5Q29udGFpbmVyIHx8XG4gICAgICAgICAgICAhY2FyZENvZGVDb250YWluZXIgfHxcbiAgICAgICAgICAgICFjYXJkTmFtZUNvbnRhaW5lclxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIGNyZWF0ZSBob3N0ZWQgcGF5bWVudCBmaWVsZHMgdG8gaW52YWxpZCBIVE1MIGNvbnRhaW5lciBlbGVtZW50cy4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhcmROdW1iZXJDb250YWluZXIuZGF0YXNldC5ibHVlc25hcCA9IEhvc3RlZEZpZWxkVGFnSWQuQ2FyZE51bWJlcjtcbiAgICAgICAgY2FyZEV4cGlyeUNvbnRhaW5lci5kYXRhc2V0LmJsdWVzbmFwID0gSG9zdGVkRmllbGRUYWdJZC5DYXJkRXhwaXJ5O1xuICAgICAgICBjYXJkQ29kZUNvbnRhaW5lci5kYXRhc2V0LmJsdWVzbmFwID0gSG9zdGVkRmllbGRUYWdJZC5DYXJkQ29kZTtcbiAgICAgICAgY2FyZE5hbWVDb250YWluZXIuZGF0YXNldC5ibHVlc25hcCA9IEhvc3RlZEZpZWxkVGFnSWQuQ2FyZE5hbWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfc2V0Q3VzdG9tU3RvcmVkQ2FyZHNCbHVlU25hcEF0dHJpYnV0ZXMoZmllbGRzOiBIb3N0ZWRTdG9yZWRDYXJkRmllbGRPcHRpb25zTWFwKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgY2FyZE51bWJlclZlcmlmaWNhdGlvbiwgY2FyZENvZGVWZXJpZmljYXRpb24gfSA9IGZpZWxkcztcblxuICAgICAgICBjb25zdCBjYXJkTnVtYmVyQ29udGFpbmVyID1cbiAgICAgICAgICAgIGNhcmROdW1iZXJWZXJpZmljYXRpb24gJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FyZE51bWJlclZlcmlmaWNhdGlvbi5jb250YWluZXJJZCk7XG4gICAgICAgIGNvbnN0IGNhcmRDb2RlQ29udGFpbmVyID1cbiAgICAgICAgICAgIGNhcmRDb2RlVmVyaWZpY2F0aW9uICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhcmRDb2RlVmVyaWZpY2F0aW9uLmNvbnRhaW5lcklkKTtcblxuICAgICAgICBpZiAoIWNhcmROdW1iZXJDb250YWluZXIgJiYgIWNhcmRDb2RlQ29udGFpbmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2FyZE51bWJlckNvbnRhaW5lcikge1xuICAgICAgICAgICAgY2FyZE51bWJlckNvbnRhaW5lci5kYXRhc2V0LmJsdWVzbmFwID0gSG9zdGVkRmllbGRUYWdJZC5DYXJkTnVtYmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhcmRDb2RlQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBjYXJkQ29kZUNvbnRhaW5lci5kYXRhc2V0LmJsdWVzbmFwID0gSG9zdGVkRmllbGRUYWdJZC5DYXJkQ29kZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgQmx1ZVNuYXBEaXJlY3RFcnJvckRlc2NyaXB0aW9uLFxuICAgIEJsdWVTbmFwRGlyZWN0SW5wdXRWYWxpZGF0aW9uRXJyb3JEZXNjcmlwdGlvbixcbn0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0JsdWVTbmFwRGlyZWN0SW5wdXRWYWxpZGF0aW9uRXJyb3JEZXNjcmlwdGlvbihcbiAgICBlcnJvckRlc2NyaXB0aW9uPzogQmx1ZVNuYXBEaXJlY3RFcnJvckRlc2NyaXB0aW9uLFxuKTogZXJyb3JEZXNjcmlwdGlvbiBpcyBCbHVlU25hcERpcmVjdElucHV0VmFsaWRhdGlvbkVycm9yRGVzY3JpcHRpb24ge1xuICAgIGlmIChlcnJvckRlc2NyaXB0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBbQmx1ZVNuYXBEaXJlY3RFcnJvckRlc2NyaXB0aW9uLkVNUFRZLCBCbHVlU25hcERpcmVjdEVycm9yRGVzY3JpcHRpb24uSU5WQUxJRF0uaW5jbHVkZXMoXG4gICAgICAgIGVycm9yRGVzY3JpcHRpb24sXG4gICAgKTtcbn1cbiIsImltcG9ydCB7XG4gICAgSG9zdGVkRmllbGRUeXBlLFxuICAgIEhvc3RlZElucHV0VmFsaWRhdGVFcnJvckRhdGEsXG4gICAgSG9zdGVkSW5wdXRWYWxpZGF0ZUVycm9yRGF0YU1hcCxcbiAgICBIb3N0ZWRJbnB1dFZhbGlkYXRlUmVzdWx0cyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IEJsdWVTbmFwSG9zdGVkRmllbGRUeXBlLCBDUkVESVRfQ0FSRF9FUlJPUlMgfSBmcm9tICcuLi9ibHVlc25hcC1kaXJlY3QtY29uc3RhbnRzJztcbmltcG9ydCB7XG4gICAgQmx1ZVNuYXBEaXJlY3RJbnB1dFZhbGlkYXRpb25FcnJvckRlc2NyaXB0aW9uIGFzIEVycm9yRGVzY3JpcHRpb24sXG4gICAgQmx1ZVNuYXBEaXJlY3RIb3N0ZWRGaWVsZFRhZ0lkIGFzIEhvc3RlZEZpZWxkVGFnSWQsXG59IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmx1ZVNuYXBIb3N0ZWRJbnB1dFZhbGlkYXRvciB7XG4gICAgcHJpdmF0ZSBfZXJyb3JzOiBIb3N0ZWRJbnB1dFZhbGlkYXRlRXJyb3JEYXRhTWFwID0ge307XG5cbiAgICBpbml0aWFsaXplKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9lcnJvcnMgPSB7XG4gICAgICAgICAgICBjYXJkTnVtYmVyOiBbQ1JFRElUX0NBUkRfRVJST1JTLmVtcHR5LmNhcmROdW1iZXJdLFxuICAgICAgICAgICAgY2FyZEV4cGlyeTogW0NSRURJVF9DQVJEX0VSUk9SUy5lbXB0eS5jYXJkRXhwaXJ5XSxcbiAgICAgICAgICAgIGNhcmRDb2RlOiBbQ1JFRElUX0NBUkRfRVJST1JTLmVtcHR5LmNhcmRDb2RlXSxcbiAgICAgICAgICAgIGNhcmROYW1lOiBbQ1JFRElUX0NBUkRfRVJST1JTLmVtcHR5LmNhcmROYW1lXSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplVmFsaWRhdGlvbkZpZWxkcygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fZXJyb3JzID0ge1xuICAgICAgICAgICAgY2FyZE51bWJlclZlcmlmaWNhdGlvbjogW0NSRURJVF9DQVJEX0VSUk9SUy5lbXB0eS5jYXJkTnVtYmVyXSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YWxpZGF0ZShlcnJvcj86IHtcbiAgICAgICAgdGFnSWQ6IEhvc3RlZEZpZWxkVGFnSWQ7XG4gICAgICAgIGVycm9yRGVzY3JpcHRpb24/OiBFcnJvckRlc2NyaXB0aW9uO1xuICAgIH0pOiBIb3N0ZWRJbnB1dFZhbGlkYXRlUmVzdWx0cyB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlRXJyb3JzKGVycm9yLnRhZ0lkLCBlcnJvci5lcnJvckRlc2NyaXB0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc1ZhbGlkOiBPYmplY3QudmFsdWVzKHRoaXMuX2Vycm9ycykuZXZlcnkoXG4gICAgICAgICAgICAgICAgKGVycm9yRGF0YTogSG9zdGVkSW5wdXRWYWxpZGF0ZUVycm9yRGF0YVtdKSA9PiBlcnJvckRhdGEubGVuZ3RoID09PSAwLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGVycm9yczogdGhpcy5fZXJyb3JzLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX3VwZGF0ZUVycm9ycyh0YWdJZDogSG9zdGVkRmllbGRUYWdJZCwgZXJyb3JEZXNjcmlwdGlvbj86IEVycm9yRGVzY3JpcHRpb24pOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZmllbGRUeXBlID0gdGhpcy5fZXJyb3JzLmNhcmROdW1iZXJWZXJpZmljYXRpb25cbiAgICAgICAgICAgID8gSG9zdGVkRmllbGRUeXBlLkNhcmROdW1iZXJWZXJpZmljYXRpb25cbiAgICAgICAgICAgIDogQmx1ZVNuYXBIb3N0ZWRGaWVsZFR5cGVbdGFnSWRdO1xuXG4gICAgICAgIHRoaXMuX2Vycm9yc1tmaWVsZFR5cGVdID0gZXJyb3JEZXNjcmlwdGlvblxuICAgICAgICAgICAgPyBbQ1JFRElUX0NBUkRfRVJST1JTW2Vycm9yRGVzY3JpcHRpb25dW2ZpZWxkVHlwZV1dXG4gICAgICAgICAgICA6IFtdO1xuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgZ3VhcmQsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvcixcbiAgICBOb3RJbml0aWFsaXplZEVycm9yVHlwZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7XG4gICAgQmx1ZXNuYXBEaXJlY3ROb2NJbnB1dEFsbG93ZWRTdHlsZSBhcyBBbGxvd2VkU3R5bGUsXG4gICAgQmx1ZVNuYXBEaXJlY3RTdHlsZSxcbiAgICBCbHVlU25hcERpcmVjdEVycm9yQ29kZSBhcyBFcnJvckNvZGUsXG4gICAgQmx1ZVNuYXBEaXJlY3RFcnJvckRlc2NyaXB0aW9uIGFzIEVycm9yRGVzY3JpcHRpb24sXG4gICAgQmx1ZVNuYXBEaXJlY3RFdmVudE9yaWdpbiBhcyBFdmVudE9yaWdpbixcbiAgICBCbHVlU25hcERpcmVjdEhvc3RlZEZpZWxkVGFnSWQgYXMgSG9zdGVkRmllbGRUYWdJZCxcbiAgICBCbHVlU25hcERpcmVjdEhvc3RlZFBheW1lbnRGaWVsZHNPcHRpb25zIGFzIEhvc3RlZFBheW1lbnRGaWVsZHNPcHRpb25zLFxuICAgIEJsdWVTbmFwRGlyZWN0U3R5bGVEZWNsYXJhdGlvbiBhcyBTdHlsZURlY2xhcmF0aW9uLFxufSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgaXNBcnJheU9mQWxsb3dlZFByb3BzIGZyb20gJy4uL3V0aWxzL2lzLWFycmF5LW9mLWFsbG93ZWQtcHJvcHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCbHVlc25hcERpcmVjdE5hbWVPbkNhcmRJbnB1dCB7XG4gICAgcHJpdmF0ZSBfaW5wdXQ/OiBIVE1MSW5wdXRFbGVtZW50O1xuICAgIHByaXZhdGUgX3N0eWxlPzogQmx1ZVNuYXBEaXJlY3RTdHlsZTtcblxuICAgIGF0dGFjaChcbiAgICAgICAge1xuICAgICAgICAgICAgc3R5bGUsXG4gICAgICAgICAgICBvbkZpZWxkRXZlbnRIYW5kbGVyOiB7IG9uRm9jdXMsIG9uQmx1ciwgb25WYWxpZCwgb25FcnJvciwgb25FbnRlciB9ID0ge30sXG4gICAgICAgIH06IEhvc3RlZFBheW1lbnRGaWVsZHNPcHRpb25zLFxuICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw/OiBzdHJpbmcsXG4gICAgICAgIHBsYWNlaG9sZGVyPzogc3RyaW5nLFxuICAgICk6IHZvaWQge1xuICAgICAgICB0aGlzLl9zdHlsZSA9IHN0eWxlO1xuXG4gICAgICAgIHRoaXMuX2NyZWF0ZSgpO1xuXG4gICAgICAgIHRoaXMuX2dldElucHV0KCkuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVGb2N1cyhvbkZvY3VzKSk7XG4gICAgICAgIHRoaXMuX2dldElucHV0KCkuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUJsdXIob25CbHVyLCBvblZhbGlkLCBvbkVycm9yKSk7XG4gICAgICAgIHRoaXMuX2dldElucHV0KCkuYWRkRXZlbnRMaXN0ZW5lcignZW50ZXInLCB0aGlzLl9oYW5kbGVFbnRlcihvbkVudGVyKSk7XG5cbiAgICAgICAgaWYgKGFjY2Vzc2liaWxpdHlMYWJlbCkge1xuICAgICAgICAgICAgdGhpcy5fZ2V0SW5wdXQoKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBhY2Nlc3NpYmlsaXR5TGFiZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9nZXRJbnB1dCgpLnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XG4gICAgICAgIH1cblxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibHVlc25hcD1cIm5vY1wiXScpPy5hcHBlbmRDaGlsZCh0aGlzLl9nZXRJbnB1dCgpKTtcbiAgICB9XG5cbiAgICBnZXRWYWx1ZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0SW5wdXQoKS52YWx1ZTtcbiAgICB9XG5cbiAgICBkZXRhY2goKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLl9pbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5faW5wdXQucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX2hhbmRsZUZvY3VzKFxuICAgICAgICBvbkZvY3VzOiBSZXF1aXJlZDxIb3N0ZWRQYXltZW50RmllbGRzT3B0aW9ucz5bJ29uRmllbGRFdmVudEhhbmRsZXInXVsnb25Gb2N1cyddLFxuICAgICk6IChldmVudDogRXZlbnQpID0+IHZvaWQge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fYXBwbHlTdHlsZXModGhpcy5fc3R5bGU/LlsnOmZvY3VzJ10pO1xuXG4gICAgICAgICAgICBvbkZvY3VzPy4oSG9zdGVkRmllbGRUYWdJZC5DYXJkTmFtZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfaGFuZGxlQmx1cihcbiAgICAgICAgb25CbHVyOiBSZXF1aXJlZDxIb3N0ZWRQYXltZW50RmllbGRzT3B0aW9ucz5bJ29uRmllbGRFdmVudEhhbmRsZXInXVsnb25CbHVyJ10sXG4gICAgICAgIG9uVmFsaWQ6IFJlcXVpcmVkPEhvc3RlZFBheW1lbnRGaWVsZHNPcHRpb25zPlsnb25GaWVsZEV2ZW50SGFuZGxlciddWydvblZhbGlkJ10sXG4gICAgICAgIG9uRXJyb3I6IFJlcXVpcmVkPEhvc3RlZFBheW1lbnRGaWVsZHNPcHRpb25zPlsnb25GaWVsZEV2ZW50SGFuZGxlciddWydvbkVycm9yJ10sXG4gICAgKTogKGV2ZW50OiBFdmVudCkgPT4gdm9pZCB7XG4gICAgICAgIHJldHVybiAoeyB0YXJnZXQgfSkgPT4ge1xuICAgICAgICAgICAgb25CbHVyPy4oSG9zdGVkRmllbGRUYWdJZC5DYXJkTmFtZSk7XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKC9cXHd7MSwyMDB9Ly50ZXN0KHRhcmdldC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXBwbHlTdHlsZXModGhpcy5fc3R5bGU/LmlucHV0KTtcblxuICAgICAgICAgICAgICAgICAgICBvblZhbGlkPy4oSG9zdGVkRmllbGRUYWdJZC5DYXJkTmFtZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXBwbHlTdHlsZXModGhpcy5fc3R5bGU/LlsnLmludmFsaWQnXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcj8uKFxuICAgICAgICAgICAgICAgICAgICAgICAgSG9zdGVkRmllbGRUYWdJZC5DYXJkTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEVycm9yQ29kZS5JTlZBTElEX09SX0VNUFRZLFxuICAgICAgICAgICAgICAgICAgICAgICAgRXJyb3JEZXNjcmlwdGlvbi5FTVBUWSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50T3JpZ2luLk9OX0JMVVIsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX2hhbmRsZUVudGVyKFxuICAgICAgICBvbkVudGVyOiBSZXF1aXJlZDxIb3N0ZWRQYXltZW50RmllbGRzT3B0aW9ucz5bJ29uRmllbGRFdmVudEhhbmRsZXInXVsnb25FbnRlciddLFxuICAgICk6IChldmVudDogRXZlbnQpID0+IHZvaWQge1xuICAgICAgICByZXR1cm4gKCkgPT4gb25FbnRlcj8uKEhvc3RlZEZpZWxkVGFnSWQuQ2FyZE5hbWUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2FwcGx5U3R5bGVzKHN0eWxlczogU3R5bGVEZWNsYXJhdGlvbiA9IHt9KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGFsbG93ZWRTdHlsZTogQWxsb3dlZFN0eWxlID0ge1xuICAgICAgICAgICAgY29sb3I6IHN0eWxlcy5jb2xvcixcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6IHN0eWxlc1snZm9udC1mYW1pbHknXSxcbiAgICAgICAgICAgIGZvbnRTaXplOiBzdHlsZXNbJ2ZvbnQtc2l6ZSddLFxuICAgICAgICAgICAgZm9udFdlaWdodDogc3R5bGVzWydmb250LXdlaWdodCddLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzdHlsZUtleXMgPSBPYmplY3Qua2V5cyhhbGxvd2VkU3R5bGUpO1xuXG4gICAgICAgIGlmIChpc0FycmF5T2ZBbGxvd2VkUHJvcHMoc3R5bGVLZXlzKSkge1xuICAgICAgICAgICAgc3R5bGVLZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghYWxsb3dlZFN0eWxlW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2dldElucHV0KCkuc3R5bGVba2V5XSA9IGFsbG93ZWRTdHlsZVtrZXldIHx8ICcnO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9jb25maWd1cmVJbnB1dCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fZ2V0SW5wdXQoKS5hdXRvY29tcGxldGUgPSAnY2MtbmFtZSc7XG4gICAgICAgIHRoaXMuX2dldElucHV0KCkuaWQgPSBIb3N0ZWRGaWVsZFRhZ0lkLkNhcmROYW1lO1xuICAgICAgICB0aGlzLl9nZXRJbnB1dCgpLmlucHV0TW9kZSA9ICd0ZXh0JztcbiAgICAgICAgdGhpcy5fZ2V0SW5wdXQoKS5tYXhMZW5ndGggPSAyMDA7XG4gICAgICAgIHRoaXMuX2dldElucHV0KCkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgdGhpcy5fZ2V0SW5wdXQoKS5zdHlsZS5ib3JkZXIgPSAnMCc7XG4gICAgICAgIHRoaXMuX2dldElucHV0KCkuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICB0aGlzLl9nZXRJbnB1dCgpLnN0eWxlLm1hcmdpbiA9ICcwJztcbiAgICAgICAgdGhpcy5fZ2V0SW5wdXQoKS5zdHlsZS5vdXRsaW5lID0gJ25vbmUnO1xuICAgICAgICB0aGlzLl9nZXRJbnB1dCgpLnN0eWxlLnBhZGRpbmcgPSAnMCc7XG4gICAgICAgIHRoaXMuX2dldElucHV0KCkuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIHRoaXMuX2dldElucHV0KCkudHlwZSA9ICd0ZXh0JztcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRJbnB1dCgpOiBIVE1MSW5wdXRFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIGd1YXJkKFxuICAgICAgICAgICAgdGhpcy5faW5wdXQsXG4gICAgICAgICAgICAoKSA9PiBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NyZWF0ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5faW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICB0aGlzLl9jb25maWd1cmVJbnB1dCgpO1xuICAgICAgICB0aGlzLl9hcHBseVN0eWxlcyh0aGlzLl9zdHlsZT8uaW5wdXQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJsdWVzbmFwRGlyZWN0Tm9jSW5wdXRBbGxvd2VkU3R5bGUgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQXJyYXlPZkFsbG93ZWRQcm9wcyhcbiAgICBmaWVsZHM6IHN0cmluZ1tdLFxuKTogZmllbGRzIGlzIEFycmF5PGtleW9mIEJsdWVzbmFwRGlyZWN0Tm9jSW5wdXRBbGxvd2VkU3R5bGU+IHtcbiAgICByZXR1cm4gZmllbGRzLmV2ZXJ5KChmaWVsZCkgPT5cbiAgICAgICAgWydjb2xvcicsICdmb250RmFtaWx5JywgJ2ZvbnRTaXplJywgJ2ZvbnRXZWlnaHQnXS5pbmNsdWRlcyhmaWVsZCksXG4gICAgKTtcbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIHRoZSBjbGllbnQgbGlicmFyeSBvZiBhIHBheW1lbnQgbWV0aG9kIGZhaWxzXG4gKiB0byBsb2FkLCBvciBmb3Igc29tZSByZWFzb24sIGl0IGlzIGluYWNjZXNzaWJsZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKFxuICAgICAgICAgICAgbWVzc2FnZSB8fFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjbGllbnQgbGlicmFyeSBvZiBhIHBheW1lbnQgbWV0aG9kIGlzIG5vdCBsb2FkZWQgb3IgcmVhZHkgdG8gYmUgdXNlZC4nLFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdwYXltZW50X21ldGhvZF9jbGllbnRfdW5hdmFpbGFibGUnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHsgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgQmx1ZVNuYXBEaXJlY3RIb3N0V2luZG93LCBCbHVlU25hcERpcmVjdFNkayB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGVudW0gQmx1ZVNuYXBEaXJlY3RTZGtFbnYge1xuICAgIFBST0RVQ1RJT04gPSAnaHR0cHM6Ly9wYXkuYmx1ZXNuYXAuY29tL3dlYi1zZGsvNS9ibHVlc25hcC5qcycsXG4gICAgU0FOREJPWCA9ICdodHRwczovL3NhbmRwYXkuYmx1ZXNuYXAuY29tL3dlYi1zZGsvNS9ibHVlc25hcC5qcycsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJsdWVTbmFwRGlyZWN0U2NyaXB0TG9hZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBfc2NyaXB0TG9hZGVyOiBTY3JpcHRMb2FkZXIsXG4gICAgICAgIHByaXZhdGUgX3dpbmRvdzogQmx1ZVNuYXBEaXJlY3RIb3N0V2luZG93ID0gd2luZG93LFxuICAgICkge31cblxuICAgIGFzeW5jIGxvYWQodGVzdE1vZGUgPSBmYWxzZSk6IFByb21pc2U8Qmx1ZVNuYXBEaXJlY3RTZGs+IHtcbiAgICAgICAgaWYgKHRoaXMuX3dpbmRvdy5ibHVlc25hcCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpbmRvdy5ibHVlc25hcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMuX3NjcmlwdExvYWRlci5sb2FkU2NyaXB0KFxuICAgICAgICAgICAgdGVzdE1vZGUgPyBCbHVlU25hcERpcmVjdFNka0Vudi5TQU5EQk9YIDogQmx1ZVNuYXBEaXJlY3RTZGtFbnYuUFJPRFVDVElPTixcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LWNvbmRpdGlvblxuICAgICAgICBpZiAoIXRoaXMuX3dpbmRvdy5ibHVlc25hcCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fd2luZG93LmJsdWVzbmFwO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHtcbiAgICBQYXltZW50U3RyYXRlZ3lGYWN0b3J5LFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBCbHVlU25hcERpcmVjdDNkcyBmcm9tICcuL2JsdWVzbmFwLWRpcmVjdC0zZHMnO1xuaW1wb3J0IEJsdWVTbmFwRGlyZWN0Q3JlZGl0Q2FyZFBheW1lbnRTdHJhdGVneSBmcm9tICcuL2JsdWVzbmFwLWRpcmVjdC1jcmVkaXQtY2FyZC1wYXltZW50LXN0cmF0ZWd5JztcbmltcG9ydCBCbHVlU25hcERpcmVjdEhvc3RlZEZvcm0gZnJvbSAnLi9ibHVlc25hcC1kaXJlY3QtaG9zdGVkLWZvcm0nO1xuaW1wb3J0IEJsdWVTbmFwSG9zdGVkSW5wdXRWYWxpZGF0b3IgZnJvbSAnLi9ibHVlc25hcC1kaXJlY3QtaG9zdGVkLWlucHV0LXZhbGlkYXRvcic7XG5pbXBvcnQgQmx1ZXNuYXBEaXJlY3ROYW1lT25DYXJkSW5wdXQgZnJvbSAnLi9ibHVlc25hcC1kaXJlY3QtbmFtZS1vbi1jYXJkLWlucHV0JztcbmltcG9ydCBCbHVlU25hcERpcmVjdFNjcmlwdExvYWRlciBmcm9tICcuL2JsdWVzbmFwLWRpcmVjdC1zY3JpcHQtbG9hZGVyJztcblxuY29uc3QgY3JlYXRlQmx1ZVNuYXBEaXJlY3RDcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5OiBQYXltZW50U3RyYXRlZ3lGYWN0b3J5PFxuICAgIEJsdWVTbmFwRGlyZWN0Q3JlZGl0Q2FyZFBheW1lbnRTdHJhdGVneVxuPiA9IChwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSA9PlxuICAgIG5ldyBCbHVlU25hcERpcmVjdENyZWRpdENhcmRQYXltZW50U3RyYXRlZ3koXG4gICAgICAgIG5ldyBCbHVlU25hcERpcmVjdFNjcmlwdExvYWRlcihnZXRTY3JpcHRMb2FkZXIoKSksXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIG5ldyBCbHVlU25hcERpcmVjdEhvc3RlZEZvcm0oXG4gICAgICAgICAgICBuZXcgQmx1ZXNuYXBEaXJlY3ROYW1lT25DYXJkSW5wdXQoKSxcbiAgICAgICAgICAgIG5ldyBCbHVlU25hcEhvc3RlZElucHV0VmFsaWRhdG9yKCksXG4gICAgICAgICksXG4gICAgICAgIG5ldyBCbHVlU25hcERpcmVjdDNkcygpLFxuICAgICk7XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVCbHVlU25hcERpcmVjdENyZWRpdENhcmRQYXltZW50U3RyYXRlZ3ksIFtcbiAgICB7IGlkOiAnY3JlZGl0X2NhcmQnLCBnYXRld2F5OiAnYmx1ZXNuYXBkaXJlY3QnIH0sXG5dKTtcbiIsImltcG9ydCB7XG4gICAgaXNIb3N0ZWRJbnN0cnVtZW50TGlrZSxcbiAgICBpc1ZhdWx0ZWRJbnN0cnVtZW50LFxuICAgIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcixcbiAgICBPcmRlclJlcXVlc3RCb2R5LFxuICAgIFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcixcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRTdHJhdGVneSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IEJsdWVTbmFwRGlyZWN0UmVkaXJlY3RSZXNwb25zZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7XG4gICAgaXNFY3BJbnN0cnVtZW50LFxuICAgIGlzSWRlYWxJbnN0cnVtZW50LFxuICAgIGlzUGF5QnlCYW5rSW5zdHJ1bWVudCxcbiAgICBpc1NlcGFJbnN0cnVtZW50LFxufSBmcm9tICcuLi91dGlscy9pcy1ibHVlc25hcC1kaXJlY3QtaW5zdHJ1bWVudCc7XG5pbXBvcnQgaXNCbHVlU25hcERpcmVjdFJlZGlyZWN0UmVzcG9uc2VQcm92aWRlckRhdGEgZnJvbSAnLi4vdXRpbHMvaXMtYmx1ZXNuYXAtZGlyZWN0LXByb3ZpZGVyLWRhdGEnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCbHVlU25hcERpcmVjdEFQTVBheW1lbnRTdHJhdGVneSBpbXBsZW1lbnRzIFBheW1lbnRTdHJhdGVneSB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSkge31cblxuICAgIGFzeW5jIGV4ZWN1dGUocGF5bG9hZDogT3JkZXJSZXF1ZXN0Qm9keSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBwYXltZW50UGF5bG9hZCA9IHRoaXMuX2Zvcm1hdGVQYXltZW50UGF5bG9hZChwYXlsb2FkKTtcblxuICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChwYXltZW50UGF5bG9hZCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNCbHVlU25hcERpcmVjdFJlZGlyZWN0UmVzcG9uc2UoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZXJEYXRhOiB1bmtub3duID1cbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuYm9keS5wcm92aWRlcl9kYXRhICYmIEpTT04ucGFyc2UoZXJyb3IuYm9keS5wcm92aWRlcl9kYXRhKTtcblxuICAgICAgICAgICAgICAgIGxldCBmcmFtZVVybCA9IGVycm9yLmJvZHkuYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQuZGF0YS5yZWRpcmVjdF91cmw7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNCbHVlU25hcERpcmVjdFJlZGlyZWN0UmVzcG9uc2VQcm92aWRlckRhdGEocHJvdmlkZXJEYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm92aWRlckRhdGFRdWVyeSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocHJvdmlkZXJEYXRhKS50b1N0cmluZygpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZyYW1lVXJsID0gYCR7ZnJhbWVVcmx9JiR7cHJvdmlkZXJEYXRhUXVlcnl9YDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKCkgPT4gd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoZnJhbWVVcmwpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBmaW5hbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IoKSk7XG4gICAgfVxuXG4gICAgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZm9ybWF0ZVBheW1lbnRQYXlsb2FkKHsgcGF5bWVudCB9OiBPcmRlclJlcXVlc3RCb2R5KSB7XG4gICAgICAgIGlmICghcGF5bWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBwYXltZW50LnBheW1lbnREYXRhICYmXG4gICAgICAgICAgICBpc1ZhdWx0ZWRJbnN0cnVtZW50KHBheW1lbnQucGF5bWVudERhdGEpICYmXG4gICAgICAgICAgICBpc0hvc3RlZEluc3RydW1lbnRMaWtlKHBheW1lbnQucGF5bWVudERhdGEpXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5wYXltZW50LFxuICAgICAgICAgICAgICAgIHBheW1lbnREYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRJZDogcGF5bWVudC5wYXltZW50RGF0YS5pbnN0cnVtZW50SWQsXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAhIXBheW1lbnQucGF5bWVudERhdGEuc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0VjcEluc3RydW1lbnQocGF5bWVudC5wYXltZW50RGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4ucGF5bWVudCxcbiAgICAgICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlY3A6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50X251bWJlcjogcGF5bWVudC5wYXltZW50RGF0YS5hY2NvdW50TnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRfdHlwZTogcGF5bWVudC5wYXltZW50RGF0YS5hY2NvdW50VHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG9wcGVyX3Blcm1pc3Npb246IHBheW1lbnQucGF5bWVudERhdGEuc2hvcHBlclBlcm1pc3Npb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGluZ19udW1iZXI6IHBheW1lbnQucGF5bWVudERhdGEucm91dGluZ051bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4ocGF5bWVudC5wYXltZW50RGF0YS5jb21wYW55TmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHsgY29tcGFueV9uYW1lOiBwYXltZW50LnBheW1lbnREYXRhLmNvbXBhbnlOYW1lIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmF1bHRfcGF5bWVudF9pbnN0cnVtZW50OiBwYXltZW50LnBheW1lbnREYXRhLnNob3VsZFNhdmVJbnN0cnVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0X2FzX2RlZmF1bHRfc3RvcmVkX2luc3RydW1lbnQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudC5wYXltZW50RGF0YS5zaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzU2VwYUluc3RydW1lbnQocGF5bWVudC5wYXltZW50RGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4ucGF5bWVudCxcbiAgICAgICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXBhX2RpcmVjdF9kZWJpdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGliYW46IHBheW1lbnQucGF5bWVudERhdGEuaWJhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdF9uYW1lOiBwYXltZW50LnBheW1lbnREYXRhLmZpcnN0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0X25hbWU6IHBheW1lbnQucGF5bWVudERhdGEubGFzdE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvcHBlcl9wZXJtaXNzaW9uOiBwYXltZW50LnBheW1lbnREYXRhLnNob3BwZXJQZXJtaXNzaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhdWx0X3BheW1lbnRfaW5zdHJ1bWVudDogcGF5bWVudC5wYXltZW50RGF0YS5zaG91bGRTYXZlSW5zdHJ1bWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldF9hc19kZWZhdWx0X3N0b3JlZF9pbnN0cnVtZW50OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnQucGF5bWVudERhdGEuc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0lkZWFsSW5zdHJ1bWVudChwYXltZW50LnBheW1lbnREYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5wYXltZW50LFxuICAgICAgICAgICAgICAgIHBheW1lbnREYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkZWFsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmljOiBwYXltZW50LnBheW1lbnREYXRhLmJpYyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNQYXlCeUJhbmtJbnN0cnVtZW50KHBheW1lbnQucGF5bWVudERhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnBheW1lbnQsXG4gICAgICAgICAgICAgICAgcGF5bWVudERhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF5X2J5X2Jhbms6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpYmFuOiBwYXltZW50LnBheW1lbnREYXRhLmliYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1ldGhvZElkOiBwYXltZW50Lm1ldGhvZElkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX2lzQmx1ZVNuYXBEaXJlY3RSZWRpcmVjdFJlc3BvbnNlKFxuICAgICAgICByZXNwb25zZTogdW5rbm93bixcbiAgICApOiByZXNwb25zZSBpcyBCbHVlU25hcERpcmVjdFJlZGlyZWN0UmVzcG9uc2Uge1xuICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlICE9PSAnb2JqZWN0JyB8fCByZXNwb25zZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFydGlhbFJlc3BvbnNlOiBQYXJ0aWFsPEJsdWVTbmFwRGlyZWN0UmVkaXJlY3RSZXNwb25zZT4gPSByZXNwb25zZTtcblxuICAgICAgICBpZiAoIXBhcnRpYWxSZXNwb25zZS5ib2R5KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXJ0aWFsQm9keTogUGFydGlhbDxCbHVlU25hcERpcmVjdFJlZGlyZWN0UmVzcG9uc2VbJ2JvZHknXT4gPSBwYXJ0aWFsUmVzcG9uc2UuYm9keTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcGFydGlhbEJvZHkuc3RhdHVzID09PSAnYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQnICYmXG4gICAgICAgICAgICAhIXBhcnRpYWxCb2R5LmFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkPy5kYXRhLnJlZGlyZWN0X3VybFxuICAgICAgICApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJsdWVTbmFwRGlyZWN0UmVkaXJlY3RSZXNwb25zZVByb3ZpZGVyRGF0YSB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNCbHVlU25hcERpcmVjdFJlZGlyZWN0UmVzcG9uc2VQcm92aWRlckRhdGEoXG4gICAgdmFsdWU6IHVua25vd24sXG4pOiB2YWx1ZSBpcyBCbHVlU25hcERpcmVjdFJlZGlyZWN0UmVzcG9uc2VQcm92aWRlckRhdGEge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJ0aWFsVmFsdWU6IFBhcnRpYWw8Qmx1ZVNuYXBEaXJlY3RSZWRpcmVjdFJlc3BvbnNlUHJvdmlkZXJEYXRhPiA9IHZhbHVlO1xuXG4gICAgaWYgKCFwYXJ0aWFsVmFsdWUubWVyY2hhbnRpZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHR5cGVvZiBwYXJ0aWFsVmFsdWUubWVyY2hhbnRpZCA9PT0gJ3N0cmluZyc7XG59XG4iLCJpbXBvcnQge1xuICAgIFdpdGhFY3BJbnN0cnVtZW50LFxuICAgIFdpdGhJZGVhbEluc3RydW1lbnQsXG4gICAgV2l0aFBheUJ5QmFua0luc3RydW1lbnQsXG4gICAgV2l0aFNlcGFJbnN0cnVtZW50LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuZXhwb3J0IGZ1bmN0aW9uIGlzRWNwSW5zdHJ1bWVudChkYXRhOiB1bmtub3duKTogZGF0YSBpcyBXaXRoRWNwSW5zdHJ1bWVudCB7XG4gICAgcmV0dXJuIEJvb2xlYW4oXG4gICAgICAgIHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgZGF0YSAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgJ2FjY291bnROdW1iZXInIGluIGRhdGEgJiZcbiAgICAgICAgICAgICdhY2NvdW50VHlwZScgaW4gZGF0YSAmJlxuICAgICAgICAgICAgJ3Nob3BwZXJQZXJtaXNzaW9uJyBpbiBkYXRhICYmXG4gICAgICAgICAgICAncm91dGluZ051bWJlcicgaW4gZGF0YSxcbiAgICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNJZGVhbEluc3RydW1lbnQocGF5bWVudERhdGE6IHVua25vd24pOiBwYXltZW50RGF0YSBpcyBXaXRoSWRlYWxJbnN0cnVtZW50IHtcbiAgICByZXR1cm4gQm9vbGVhbih0eXBlb2YgcGF5bWVudERhdGEgPT09ICdvYmplY3QnICYmIHBheW1lbnREYXRhICE9PSBudWxsICYmICdiaWMnIGluIHBheW1lbnREYXRhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2VwYUluc3RydW1lbnQocGF5bWVudERhdGE6IHVua25vd24pOiBwYXltZW50RGF0YSBpcyBXaXRoU2VwYUluc3RydW1lbnQge1xuICAgIHJldHVybiBCb29sZWFuKFxuICAgICAgICB0eXBlb2YgcGF5bWVudERhdGEgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBwYXltZW50RGF0YSAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgJ2liYW4nIGluIHBheW1lbnREYXRhICYmXG4gICAgICAgICAgICAnZmlyc3ROYW1lJyBpbiBwYXltZW50RGF0YSAmJlxuICAgICAgICAgICAgJ2xhc3ROYW1lJyBpbiBwYXltZW50RGF0YSAmJlxuICAgICAgICAgICAgJ3Nob3BwZXJQZXJtaXNzaW9uJyBpbiBwYXltZW50RGF0YSxcbiAgICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQYXlCeUJhbmtJbnN0cnVtZW50KFxuICAgIHBheW1lbnREYXRhOiB1bmtub3duLFxuKTogcGF5bWVudERhdGEgaXMgV2l0aFBheUJ5QmFua0luc3RydW1lbnQge1xuICAgIHJldHVybiBCb29sZWFuKFxuICAgICAgICB0eXBlb2YgcGF5bWVudERhdGEgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBwYXltZW50RGF0YSAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgJ2liYW4nIGluIHBheW1lbnREYXRhICYmXG4gICAgICAgICAgICAhKCdmaXJzdE5hbWUnIGluIHBheW1lbnREYXRhKSAmJlxuICAgICAgICAgICAgISgnbGFzdE5hbWUnIGluIHBheW1lbnREYXRhKSAmJlxuICAgICAgICAgICAgISgnc2hvcHBlclBlcm1pc3Npb24nIGluIHBheW1lbnREYXRhKSxcbiAgICApO1xufVxuIiwiaW1wb3J0IHtcbiAgICBQYXltZW50U3RyYXRlZ3lGYWN0b3J5LFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBCbHVlU25hcERpcmVjdEFQTVBheW1lbnRTdHJhdGVneSBmcm9tICcuL2JsdWVzbmFwLWRpcmVjdC1hcG0tcGF5bWVudC1zdHJhdGVneSc7XG5cbmNvbnN0IGNyZWF0ZUJsdWVTbmFwRGlyZWN0QVBNUGF5bWVudFN0cmF0ZWd5OiBQYXltZW50U3RyYXRlZ3lGYWN0b3J5PFxuICAgIEJsdWVTbmFwRGlyZWN0QVBNUGF5bWVudFN0cmF0ZWd5XG4+ID0gKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpID0+IG5ldyBCbHVlU25hcERpcmVjdEFQTVBheW1lbnRTdHJhdGVneShwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZUJsdWVTbmFwRGlyZWN0QVBNUGF5bWVudFN0cmF0ZWd5LCBbXG4gICAgeyBnYXRld2F5OiAnYmx1ZXNuYXBkaXJlY3QnIH0sXG5dKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbmNlbGxhYmxlUHJvbWlzZTxUPiB7XG4gICAgcHJvbWlzZTogUHJvbWlzZTxUPjtcbiAgICBjYW5jZWwhOiAocmVhc29uPzogYW55KSA9PiB2b2lkO1xuXG4gICAgY29uc3RydWN0b3IocHJvbWlzZTogUHJvbWlzZTxUPikge1xuICAgICAgICBjb25zdCBjYW5jZWxsYWJsZSA9IG5ldyBQcm9taXNlPFQ+KChfLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsID0gcmVqZWN0O1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnByb21pc2UgPSBQcm9taXNlLnJhY2UoW3Byb21pc2UsIGNhbmNlbGxhYmxlXSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gdGhlIHBheW1lbnQgZmxvdyBpcyBjYW5jZWxsZWQuIEl0IGNvdWxkIGJlXG4gKiBkdWUgdG8gYSBkZWxpYmVyYXRlIHVzZXIgaW50ZXJhY3Rpb24sIGkuZS46IHRoZSB1c2VyIGNsaWNrcyBvbiBhIGNhbmNlbFxuICogYnV0dG9uIHdoaWNoIGRpc21pc3NlcyB0aGUgcGF5bWVudCBtb2RhbC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdQYXltZW50IHByb2Nlc3Mgd2FzIGNhbmNlbGxlZC4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3BheW1lbnRfY2FuY2VsbGVkJztcbiAgICB9XG59XG4iLCJlbnVtIFBheW1lbnRTdGF0dXNUeXBlcyB7XG4gICAgQUNLTk9XTEVER0UgPSAnQUNLTk9XTEVER0UnLFxuICAgIEZJTkFMSVpFID0gJ0ZJTkFMSVpFJyxcbiAgICBJTklUSUFMSVpFID0gJ0lOSVRJQUxJWkUnLFxufVxuXG5leHBvcnQgZGVmYXVsdCBQYXltZW50U3RhdHVzVHlwZXM7XG4iLCJpbXBvcnQgeyBub29wIH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHtcbiAgICBDYW5jZWxsYWJsZVByb21pc2UsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvcixcbiAgICBOb3RJbml0aWFsaXplZEVycm9yVHlwZSxcbiAgICBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IsXG4gICAgT3JkZXJSZXF1ZXN0Qm9keSxcbiAgICBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IsXG4gICAgUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yLFxuICAgIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICBQYXltZW50U3RhdHVzVHlwZXMsXG4gICAgUGF5bWVudFN0cmF0ZWd5LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgQmx1ZVNuYXBWMlN0eWxlUHJvcHMgfSBmcm9tICcuL2JsdWVzbmFwdjInO1xuaW1wb3J0IHtcbiAgICBCbHVlU25hcFYyUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgIFdpdGhCbHVlU25hcFYyUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxufSBmcm9tICcuL2JsdWVzbmFwdjItcGF5bWVudC1vcHRpb25zJztcblxuY29uc3QgSUZSQU1FX05BTUUgPSAnYmx1ZXNuYXB2Ml9ob3N0ZWRfcGF5bWVudF9wYWdlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmx1ZVNuYXBWMlBheW1lbnRTdHJhdGVneSBpbXBsZW1lbnRzIFBheW1lbnRTdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbGl6ZU9wdGlvbnM/OiBCbHVlU25hcFYyUGF5bWVudEluaXRpYWxpemVPcHRpb25zO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSkge31cblxuICAgIGFzeW5jIGV4ZWN1dGUoXG4gICAgICAgIG9yZGVyUmVxdWVzdDogT3JkZXJSZXF1ZXN0Qm9keSxcbiAgICAgICAgb3B0aW9ucz86IFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhCbHVlU25hcFYyUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IHBheW1lbnQgfSA9IG9yZGVyUmVxdWVzdDtcblxuICAgICAgICBpZiAoIXBheW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IoWydwYXltZW50J10pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplT3B0aW9ucykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgb25Mb2FkLCBzdHlsZSB9ID0gdGhpcy5faW5pdGlhbGl6ZU9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fY3JlYXRlSWZyYW1lKElGUkFNRV9OQU1FLCBzdHlsZSk7XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgQ2FuY2VsbGFibGVQcm9taXNlPHVuZGVmaW5lZD4obmV3IFByb21pc2Uobm9vcCkpO1xuXG4gICAgICAgIG9uTG9hZChmcmFtZSwgKCkgPT4gcHJvbWlzZS5jYW5jZWwobmV3IFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcigpKSk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihvcmRlclJlcXVlc3QsIG9wdGlvbnMpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuaW5pdGlhbGl6ZU9mZnNpdGVQYXltZW50KHtcbiAgICAgICAgICAgIG1ldGhvZElkOiBwYXltZW50Lm1ldGhvZElkLFxuICAgICAgICAgICAgZ2F0ZXdheUlkOiBwYXltZW50LmdhdGV3YXlJZCxcbiAgICAgICAgICAgIHNob3VsZFNhdmVJbnN0cnVtZW50OiBmYWxzZSxcbiAgICAgICAgICAgIHRhcmdldDogZnJhbWUubmFtZSxcbiAgICAgICAgICAgIHByb21pc2U6IHByb21pc2UucHJvbWlzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZmluYWxpemUob3B0aW9ucz86IFBheW1lbnRSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3Qgb3JkZXIgPSBzdGF0ZS5nZXRPcmRlcigpO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBzdGF0ZS5nZXRQYXltZW50U3RhdHVzKCk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgb3JkZXIgJiZcbiAgICAgICAgICAgIChzdGF0dXMgPT09IFBheW1lbnRTdGF0dXNUeXBlcy5BQ0tOT1dMRURHRSB8fCBzdGF0dXMgPT09IFBheW1lbnRTdGF0dXNUeXBlcy5GSU5BTElaRSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmZpbmFsaXplT3JkZXIob3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yKCkpO1xuICAgIH1cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM/OiBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoQmx1ZVNuYXBWMlBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZU9wdGlvbnMgPSBvcHRpb25zICYmIG9wdGlvbnMuYmx1ZXNuYXB2MjtcblxuICAgICAgICBhd2FpdCBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jcmVhdGVJZnJhbWUobmFtZTogc3RyaW5nLCBzdHlsZT86IEJsdWVTbmFwVjJTdHlsZVByb3BzKTogSFRNTElGcmFtZUVsZW1lbnQge1xuICAgICAgICBjb25zdCBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcblxuICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgJ3NhbmRib3gnLFxuICAgICAgICAgICAgJ2FsbG93LXRvcC1uYXZpZ2F0aW9uIGFsbG93LXNjcmlwdHMgYWxsb3ctZm9ybXMgYWxsb3ctc2FtZS1vcmlnaW4nLFxuICAgICAgICApO1xuXG4gICAgICAgIGlmcmFtZS5uYW1lID0gbmFtZTtcblxuICAgICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgYm9yZGVyLCBoZWlnaHQsIHdpZHRoIH0gPSBzdHlsZTtcblxuICAgICAgICAgICAgaWZyYW1lLnN0eWxlLmJvcmRlciA9IGJvcmRlciA/PyAnJztcbiAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgPz8gJyc7XG4gICAgICAgICAgICBpZnJhbWUuc3R5bGUud2lkdGggPSB3aWR0aCA/PyAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpZnJhbWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtcbiAgICBQYXltZW50U3RyYXRlZ3lGYWN0b3J5LFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBCbHVlU25hcFYyUGF5bWVudFN0cmF0ZWd5IGZyb20gJy4vYmx1ZXNuYXB2Mi1wYXltZW50LXN0cmF0ZWd5JztcblxuY29uc3QgY3JlYXRlQmx1ZXNuYXBWMlBheW1lbnRTdHJhdGVneTogUGF5bWVudFN0cmF0ZWd5RmFjdG9yeTxCbHVlU25hcFYyUGF5bWVudFN0cmF0ZWd5PiA9IChcbiAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBCbHVlU25hcFYyUGF5bWVudFN0cmF0ZWd5KHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZUJsdWVzbmFwVjJQYXltZW50U3RyYXRlZ3ksIFt7IGdhdGV3YXk6ICdibHVlc25hcHYyJyB9XSk7XG4iXSwibmFtZXMiOlsiTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwidG9SZXNvbHZhYmxlTW9kdWxlIiwibW9kdWxlIiwicmVzb2x2ZUlkcyIsIk9iamVjdCIsImFzc2lnbiIsImQiLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU3RhbmRhcmRFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwic3VwZXIiLCJuYW1lIiwidHlwZSIsInNldFByb3RvdHlwZU9mIiwidGhpcyIsIl9fcHJvdG9fXyIsImNhcHR1cmVTdGFja1RyYWNlIiwic3RhY2siLCJQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IiLCJndWFyZCIsInZhbHVlIiwiZXJyb3JGYWN0b3J5IiwiTm90SW5pdGlhbGl6ZWRFcnJvciIsInN1YnR5cGUiLCJDdXN0b21lck5vdEluaXRpYWxpemVkIiwiUGF5bWVudE5vdEluaXRpYWxpemVkIiwiU2hpcHBpbmdOb3RJbml0aWFsaXplZCIsIlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQiLCJnZXRFcnJvck1lc3NhZ2UiLCJNaXNzaW5nRGF0YUVycm9yVHlwZSIsIkhvc3RlZEZpZWxkVHlwZSIsIkJsdWVTbmFwRGlyZWN0M2RzIiwiaW5pdGlhbGl6ZSIsImJsdWVTbmFwU2RrIiwiX2JsdWVTbmFwU2RrIiwiaW5pdGlhbGl6ZTNkcyIsInRva2VuIiwiY2FyZERhdGEiLCJfZ2V0Qmx1ZVNuYXBTZGsiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInRocmVlRHNQYXltZW50c1NldHVwIiwic2RrUmVzcG9uc2UiLCJjb2RlIiwidGhyZWVEU2VjdXJlIiwidGhyZWVEU2VjdXJlUmVmZXJlbmNlSWQiLCJ0aHJlZURzUGF5bWVudHNTdWJtaXREYXRhIiwiSW52YWxpZEFyZ3VtZW50RXJyb3IiLCJQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IiLCJpbnZhbGlkRmllbGRzIiwiam9pbiIsImlzSG9zdGVkSW5zdHJ1bWVudExpa2UiLCJpbnN0cnVtZW50Iiwic2hvdWxkU2F2ZUluc3RydW1lbnQiLCJzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50IiwiaXNWYXVsdGVkSW5zdHJ1bWVudCIsIkJvb2xlYW4iLCJpbnN0cnVtZW50SWQiLCJPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IiLCJNaXNzaW5nRGF0YUVycm9yIiwiTWlzc2luZ0JpbGxpbmdBZGRyZXNzIiwiTWlzc2luZ0NhcnQiLCJNaXNzaW5nQ29uc2lnbm1lbnRzIiwiTWlzc2luZ0NoZWNrb3V0IiwiTWlzc2luZ0N1c3RvbWVyIiwiTWlzc2luZ0NoZWNrb3V0Q29uZmlnIiwiTWlzc2luZ09yZGVyQ29uZmlnIiwiTWlzc2luZ09yZGVyIiwiTWlzc2luZ09yZGVySWQiLCJNaXNzaW5nUGF5bWVudCIsIk1pc3NpbmdQYXltZW50VG9rZW4iLCJNaXNzaW5nUGF5bWVudE1ldGhvZCIsIk1pc3NpbmdTaGlwcGluZ0FkZHJlc3MiLCJpc0hvc3RlZENhcmRGaWVsZE9wdGlvbnNNYXAiLCJmaWVsZHMiLCJDYXJkTnVtYmVyIiwiaXNIb3N0ZWRTdG9yZWRDYXJkRmllbGRPcHRpb25zTWFwIiwiQ2FyZENvZGVWZXJpZmljYXRpb24iLCJDYXJkTnVtYmVyVmVyaWZpY2F0aW9uIiwiQmx1ZVNuYXBEaXJlY3RDYXJkVHlwZSIsIkJsdWVTbmFwRGlyZWN0RXZlbnRPcmlnaW4iLCJCbHVlU25hcERpcmVjdEVycm9yRGVzY3JpcHRpb24iLCJCbHVlU25hcERpcmVjdEVycm9yQ29kZSIsIkJsdWVTbmFwRGlyZWN0SG9zdGVkRmllbGRUYWdJZCIsIkJsdWVTbmFwRGlyZWN0Q3JlZGl0Q2FyZFBheW1lbnRTdHJhdGVneSIsIl9zY3JpcHRMb2FkZXIiLCJfcGF5bWVudEludGVncmF0aW9uU2VydmljZSIsIl9ibHVlU25hcERpcmVjdEhvc3RlZEZvcm0iLCJfYmx1ZVNuYXBEaXJlY3QzZHMiLCJvcHRpb25zIiwibWV0aG9kSWQiLCJnYXRld2F5SWQiLCJjcmVkaXRDYXJkIiwic3RhdGUiLCJsb2FkUGF5bWVudE1ldGhvZCIsInBhcmFtcyIsIm1ldGhvZCIsImJpZ3BheVRva2VuIiwiY29uZmlnIiwidGVzdE1vZGUiLCJpczNkc0VuYWJsZWQiLCJjbGllbnRUb2tlbiIsImdldFBheW1lbnRNZXRob2RPclRocm93IiwibG9hZCIsIl9wYXltZW50RmllbGRzVG9rZW4iLCJfc2hvdWxkVXNlSG9zdGVkRmllbGRzIiwiZm9ybSIsImNhcmROdW1iZXJWZXJpZmljYXRpb24iLCJhdHRhY2giLCJfZ2V0UGF5bWVudEZpZWxkc1Rva2VuIiwiZXhlY3V0ZSIsInBheWxvYWQiLCJwYXltZW50IiwicGF5bWVudERhdGEiLCJwZlRva2VuIiwiZ2V0U3RhdGUiLCJibHVlc25hcFN1Ym1pdGVkRm9ybSIsInZhbGlkYXRlIiwic3VibWl0IiwiX2dldEJsdWVTbmFwRGlyZWN0VGhyZWVEU2VjdXJlRGF0YSIsInVuZGVmaW5lZCIsInN1Ym1pdE9yZGVyIiwibGFzdDQiLCJicmFuZCIsImdldENhcmRJbnN0cnVtZW50T3JUaHJvdyIsInByZXZpb3VzbHlVc2VkQ2FyZCIsImxhc3Q0RGlnaXRzIiwiY2NUeXBlIiwidG9VcHBlckNhc2UiLCJzdWJtaXRQYXltZW50Iiwibm9uY2UiLCJkZXZpY2VTZXNzaW9uSWQiLCJmb3JtYXR0ZWRQYXlsb2FkIiwiY3JlZGl0X2NhcmRfdG9rZW4iLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZEhvbGRlck5hbWUiLCJ2YXVsdF9wYXltZW50X2luc3RydW1lbnQiLCJzZXRfYXNfZGVmYXVsdF9zdG9yZWRfaW5zdHJ1bWVudCIsImZpbmFsaXplIiwiZGVpbml0aWFsaXplIiwiZGV0YWNoIiwiZ2V0QmlsbGluZ0FkZHJlc3MiLCJnZXRTaGlwcGluZ0FkZHJlc3MiLCJnZXRDdXN0b21lciIsImdldENoZWNrb3V0T3JUaHJvdyIsImdldENhcnRPclRocm93IiwiYmlsbGluZ0FkZHJlc3MiLCJzaGlwcGluZ0FkZHJlc3MiLCJlbWFpbCIsInBob25lIiwiYW1vdW50Iiwib3V0c3RhbmRpbmdCYWxhbmNlIiwiY3VycmVuY3kiLCJiaWxsaW5nRmlyc3ROYW1lIiwiZmlyc3ROYW1lIiwiYmlsbGluZ0xhc3ROYW1lIiwibGFzdE5hbWUiLCJiaWxsaW5nQ291bnRyeSIsImNvdW50cnlDb2RlIiwiYmlsbGluZ0NpdHkiLCJjaXR5IiwiYWRkcmVzczEiLCJhZGRyZXNzMiIsInRyaW0iLCJiaWxsaW5nWmlwIiwicG9zdGFsQ29kZSIsInNoaXBwaW5nRmlyc3ROYW1lIiwic2hpcHBpbmdMYXN0TmFtZSIsInNoaXBwaW5nQ291bnRyeSIsInNoaXBwaW5nQ2l0eSIsInNoaXBwaW5nWmlwIiwiUGF5bWVudEludmFsaWRGb3JtRXJyb3IiLCJkZXRhaWxzIiwiQmx1ZVNuYXBIb3N0ZWRGaWVsZFR5cGUiLCJDYXJkRXhwaXJ5IiwiQ2FyZE5hbWUiLCJDYXJkQ29kZSIsIkNSRURJVF9DQVJEX0VSUk9SUyIsImVtcHR5IiwiZmllbGRUeXBlIiwiaW52YWxpZCIsIkJsdWVTbmFwRGlyZWN0SG9zdGVkRm9ybSIsIl9uYW1lT25DYXJkSW5wdXQiLCJfaG9zdGVkSW5wdXRWYWxpZGF0b3IiLCJpbml0aWFsaXplVmFsaWRhdGlvbkZpZWxkcyIsInBheW1lbnRGaWVsZHNUb2tlbiIsImVuYWJsZTNEUyIsImNhbGxiYWNrc0FuZFN0eWxlcyIsIl9vblZhbGlkYXRlIiwib25WYWxpZGF0ZSIsIl9zZXRDdXN0b21CbHVlU25hcEF0dHJpYnV0ZXMiLCJfc2V0Q3VzdG9tU3RvcmVkQ2FyZHNCbHVlU25hcEF0dHJpYnV0ZXMiLCJfZ2V0SG9zdGVkUGF5bWVudEZpZWxkc09wdGlvbnMiLCJob3N0ZWRQYXltZW50RmllbGRzQ3JlYXRlIiwiY2FyZE5hbWUiLCJhY2Nlc3NpYmlsaXR5TGFiZWwiLCJwbGFjZWhvbGRlciIsInJlc3VsdHMiLCJpc1ZhbGlkIiwiZW50cmllcyIsImVycm9ycyIsInJlZHVjZSIsInJlc3VsdCIsIm1hcCIsInRocmVlRFNlY3VyZURhdGEiLCJzaG91bGRTZW5kTmFtZSIsImhvc3RlZFBheW1lbnRGaWVsZHNTdWJtaXREYXRhIiwiZGF0YSIsIl9pc0JsdWVTbmFwRGlyZWN0Q2FsbGJhY2tFcnJvciIsInN0YXR1c0NvZGUiLCJUSFJFRV9EU19BVVRIX0ZBSUxFRCIsImVycm9yIiwiZXJyb3JEZXNjcmlwdGlvbiIsImdldFZhbHVlIiwib25Gb2N1cyIsIm9uQmx1ciIsIm9uQ2FyZFR5cGVDaGFuZ2UiLCJvbkVudGVyIiwic3R5bGVzIiwib25GaWVsZEV2ZW50SGFuZGxlciIsInNldHVwQ29tcGxldGUiLCJfdXNldFVpRXZlbnRDYWxsYmFjayIsIm9uRXJyb3IiLCJfaGFuZGxlRXJyb3IiLCJvblR5cGUiLCJfdGFnSWQiLCJjYXJkVHlwZSIsIm9uVmFsaWQiLCJ0YWdJZCIsImNjblBsYWNlSG9sZGVyIiwiY2FyZE51bWJlciIsImN2dlBsYWNlSG9sZGVyIiwiY2FyZENvZGUiLCJleHBQbGFjZUhvbGRlciIsImNhcmRFeHBpcnkiLCJzdHlsZSIsIl9tYXBTdHlsZXMiLCJkZWZhdWx0IiwiaW5wdXQiLCJmb2N1cyIsInNlbGVjdG9yIiwiZGVjbGFyYXRpb24iLCJkZWNsYXJhdGlvbkJsb2NrIiwicHJvcGVydHkiLCJrZWJhYkNhc2UiLCJlcnJvckNvZGUiLCJldmVudE9yaWdpbiIsIklOVkFMSURfT1JfRU1QVFkiLCJFTVBUWSIsIklOVkFMSUQiLCJpbmNsdWRlcyIsImNhbGxiYWNrIiwiY2FyZE51bWJlckNvbnRhaW5lciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb250YWluZXJJZCIsImNhcmRFeHBpcnlDb250YWluZXIiLCJjYXJkQ29kZUNvbnRhaW5lciIsImNhcmROYW1lQ29udGFpbmVyIiwiZGF0YXNldCIsImJsdWVzbmFwIiwiY2FyZENvZGVWZXJpZmljYXRpb24iLCJCbHVlU25hcEhvc3RlZElucHV0VmFsaWRhdG9yIiwiX2Vycm9ycyIsIl91cGRhdGVFcnJvcnMiLCJ2YWx1ZXMiLCJldmVyeSIsImVycm9yRGF0YSIsImxlbmd0aCIsIkJsdWVzbmFwRGlyZWN0TmFtZU9uQ2FyZElucHV0IiwiX3N0eWxlIiwiX2NyZWF0ZSIsIl9nZXRJbnB1dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlRm9jdXMiLCJfaGFuZGxlQmx1ciIsIl9oYW5kbGVFbnRlciIsInNldEF0dHJpYnV0ZSIsInF1ZXJ5U2VsZWN0b3IiLCJhcHBlbmRDaGlsZCIsIl9pbnB1dCIsInJlbW92ZSIsIl9hcHBseVN0eWxlcyIsInRhcmdldCIsIkhUTUxJbnB1dEVsZW1lbnQiLCJ0ZXN0IiwiT05fQkxVUiIsImFsbG93ZWRTdHlsZSIsImNvbG9yIiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsInN0eWxlS2V5cyIsImtleXMiLCJmaWVsZCIsImZvckVhY2giLCJfY29uZmlndXJlSW5wdXQiLCJhdXRvY29tcGxldGUiLCJpZCIsImlucHV0TW9kZSIsIm1heExlbmd0aCIsImJhY2tncm91bmRDb2xvciIsImJvcmRlciIsImhlaWdodCIsIm1hcmdpbiIsIm91dGxpbmUiLCJwYWRkaW5nIiwid2lkdGgiLCJjcmVhdGVFbGVtZW50IiwiUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IiLCJCbHVlU25hcERpcmVjdFNka0VudiIsIkJsdWVTbmFwRGlyZWN0U2NyaXB0TG9hZGVyIiwiX3dpbmRvdyIsIndpbmRvdyIsImxvYWRTY3JpcHQiLCJTQU5EQk9YIiwiUFJPRFVDVElPTiIsInBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UiLCJnZXRTY3JpcHRMb2FkZXIiLCJnYXRld2F5IiwiQmx1ZVNuYXBEaXJlY3RBUE1QYXltZW50U3RyYXRlZ3kiLCJwYXltZW50UGF5bG9hZCIsIl9mb3JtYXRlUGF5bWVudFBheWxvYWQiLCJfaXNCbHVlU25hcERpcmVjdFJlZGlyZWN0UmVzcG9uc2UiLCJwcm92aWRlckRhdGEiLCJib2R5IiwicHJvdmlkZXJfZGF0YSIsInBhcnNlIiwiZnJhbWVVcmwiLCJhZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZCIsInJlZGlyZWN0X3VybCIsInBhcnRpYWxWYWx1ZSIsIm1lcmNoYW50aWQiLCJpc0JsdWVTbmFwRGlyZWN0UmVkaXJlY3RSZXNwb25zZVByb3ZpZGVyRGF0YSIsInByb3ZpZGVyRGF0YVF1ZXJ5IiwiVVJMU2VhcmNoUGFyYW1zIiwidG9TdHJpbmciLCJsb2NhdGlvbiIsInJlcGxhY2UiLCJlY3AiLCJhY2NvdW50X251bWJlciIsImFjY291bnROdW1iZXIiLCJhY2NvdW50X3R5cGUiLCJhY2NvdW50VHlwZSIsInNob3BwZXJfcGVybWlzc2lvbiIsInNob3BwZXJQZXJtaXNzaW9uIiwicm91dGluZ19udW1iZXIiLCJyb3V0aW5nTnVtYmVyIiwiY29tcGFueU5hbWUiLCJjb21wYW55X25hbWUiLCJzZXBhX2RpcmVjdF9kZWJpdCIsImliYW4iLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwiaXNJZGVhbEluc3RydW1lbnQiLCJpZGVhbCIsImJpYyIsImlzUGF5QnlCYW5rSW5zdHJ1bWVudCIsInBheV9ieV9iYW5rIiwicmVzcG9uc2UiLCJwYXJ0aWFsUmVzcG9uc2UiLCJwYXJ0aWFsQm9keSIsInN0YXR1cyIsIkNhbmNlbGxhYmxlUHJvbWlzZSIsInByb21pc2UiLCJjYW5jZWxsYWJsZSIsIl8iLCJjYW5jZWwiLCJyYWNlIiwiUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yIiwiUGF5bWVudFN0YXR1c1R5cGVzIiwiQmx1ZVNuYXBWMlBheW1lbnRTdHJhdGVneSIsIm9yZGVyUmVxdWVzdCIsIl9pbml0aWFsaXplT3B0aW9ucyIsIm9uTG9hZCIsImZyYW1lIiwiX2NyZWF0ZUlmcmFtZSIsIm5vb3AiLCJpbml0aWFsaXplT2Zmc2l0ZVBheW1lbnQiLCJvcmRlciIsImdldE9yZGVyIiwiZ2V0UGF5bWVudFN0YXR1cyIsIkFDS05PV0xFREdFIiwiRklOQUxJWkUiLCJmaW5hbGl6ZU9yZGVyIiwiYmx1ZXNuYXB2MiIsImlmcmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/bluesnap-direct.js\n\n}");

/***/ })

}]);