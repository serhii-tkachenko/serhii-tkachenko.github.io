"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["payment-method-v1"],{

/***/ "../checkout-sdk-js/dist/esm/integrations/no-payment.js":
/*!**************************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/no-payment.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createNoPaymentStrategy: () => (/* binding */ o)\n/* harmony export */ });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ \"../checkout-sdk-js/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\nclass t extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class r extends t{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}class n{constructor(e){this._paymentIntegrationService=e}execute(t,r){return n=this,o=void 0,a=function*(){yield this._paymentIntegrationService.submitOrder((0,lodash__WEBPACK_IMPORTED_MODULE_0__.omit)(t,\"payment\"),r)},new((i=void 0)||(i=Promise))(function(e,t){function r(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i(function(e){e(n)})).then(r,s)}c((a=a.apply(n,o||[])).next())});// removed by dead control flow\n var n, o, i, a; }finalize(){return Promise.reject(new r)}initialize(){return Promise.resolve()}deinitialize(){return Promise.resolve()}}const o=(i=e=>new n(e),a=[{id:\"nopaymentdatarequired\"}],console.log(\"resolveIds\",a),Object.assign(i,{resolveIds:a}));var i,a;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9uby1wYXltZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQU9lLE1BQWVBLFVBQXNCQyxNQUloRCxXQUFBQyxDQUFZQyxHQ1hELElBQXFDQyxFRFk1Q0MsTUFBTUYsR0FBVyxxQ0FKckIsS0FBQUcsS0FBTyxnQkFDUCxLQUFBQyxLQUFPLFdDVHlDSCxhRGNaQSxVQ2JoQ0ksT0FBT0MsZUFDUEQsT0FBT0MsZURZUUMsS0NaZU4sR0RZZk0sS0NWUkMsVUFBWVAsRURZb0IsbUJBQTVCSCxNQUFNVyxrQkFDYlgsTUFBTVcsa0JBQWtCRixpQkFFeEJBLEtBQUtHLE1BQVEsSUFBSVosTUFBTVMsS0FBS1AsU0FBU1UsS0FFN0MsRUVmVyxNQUFNQyxVQUEwQ2QsRUFDM0QsV0FBQUUsR0FDSUcsTUFBTSxrRUFFTkssS0FBS0osS0FBTyxvQ0FDWkksS0FBS0gsS0FBTyxpQ0FDaEIsRUNGVyxNQUFNUSxFQUNqQixXQUFBYixDQUFvQmMsR0FBQSxLQUFBQSwyQkFBQUEsQ0FBd0QsQ0FFdEUsT0FBQUMsQ0FBUUMsRUFBMkJDLEcsMkNBQy9CVCxLQUFLTSwyQkFBMkJJLFlBQVlDLDRDQUFBQSxDQUFLSCxFQUFTLFdBQVlDLEVBQ2hGLEU7a0JBRUEsUUFBQUcsR0FDSSxPQUFPQyxRQUFRQyxPQUFPLElBQUlWLEVBQzlCLENBRUEsVUFBQVcsR0FDSSxPQUFPRixRQUFRRyxTQUNuQixDQUVBLFlBQUFDLEdBQ0ksT0FBT0osUUFBUUcsU0FDbkIsRUNwQkosTUFJQSxHQ1JJRSxFREtBQyxHQUNDLElBQUlkLEVBQXFDYyxHQ0wxQ0MsRURPdUQsQ0FBQyxDQUFFQyxHQUFJLDBCQ0w5REMsUUFBUUMsSUFBSSxhQUFjSCxHQUVuQnRCLE9BQU8wQixPQUFPTixFQUFRLENBQUVFLGdCQU5wQixJQUNYRixFQUNBRSxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvc3RhbmRhcmQtZXJyb3IudHM/OGEwMyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9zZXQtcHJvdG90eXBlLW9mLnRzPzg0NWEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvb3JkZXItZmluYWxpemF0aW9uLW5vdC1yZXF1aXJlZC1lcnJvci50cz9iNWExIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9uby1wYXltZW50LWludGVncmF0aW9uL3NyYy9uby1wYXltZW50LWRhdGEtcmVxdWlyZWQtc3RyYXRlZ3kudHM/MTYxNyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvbm8tcGF5bWVudC1pbnRlZ3JhdGlvbi9zcmMvY3JlYXRlLW5vLXBheW1lbnQtc3RyYXRlZ3kudHM/NTcyYSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL3RvLXJlc29sdmFibGUtbW9kdWxlLnRzP2Q1MjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEN1c3RvbUVycm9yIGZyb20gJy4vY3VzdG9tLWVycm9yJztcbmltcG9ydCBzZXRQcm90b3R5cGVPZiBmcm9tICcuL3NldC1wcm90b3R5cGUtb2YnO1xuXG4vKipcbiAqIFRoaXMgZXJyb3IgdHlwZSBzaG91bGQgbm90IGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5LiBJdCBpcyBhIGJhc2UgY2xhc3MgZm9yXG4gKiBhbGwgY3VzdG9tIGVycm9ycyB0aHJvd24gaW4gdGhpcyBsaWJyYXJ5LlxuICovXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBTdGFuZGFyZEVycm9yIGV4dGVuZHMgRXJyb3IgaW1wbGVtZW50cyBDdXN0b21FcnJvciB7XG4gICAgbmFtZSA9ICdTdGFuZGFyZEVycm9yJztcbiAgICB0eXBlID0gJ3N0YW5kYXJkJztcblxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSB8fCAnQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWQuJyk7XG5cbiAgICAgICAgc2V0UHJvdG90eXBlT2YodGhpcywgbmV3LnRhcmdldC5wcm90b3R5cGUpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIG5ldy50YXJnZXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGFjayA9IG5ldyBFcnJvcih0aGlzLm1lc3NhZ2UpLnN0YWNrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0UHJvdG90eXBlT2Yob2JqZWN0OiBhbnksIHByb3RvdHlwZTogb2JqZWN0KSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2Yob2JqZWN0LCBwcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG9iamVjdC5fX3Byb3RvX18gPSBwcm90b3R5cGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdDtcbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3IgaWYgd2UgYXJlIHRyeWluZyB0byBtYWtlIGFuIG9yZGVyIGZpbmFsaXphdGlvbiByZXF1ZXN0IGZvciBhXG4gKiBwYXltZW50IG1ldGhvZCB0aGF0IGRvZXMgbm90IHJlcXVpcmUgc3VjaCBwcm9jZWR1cmUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignVGhlIGN1cnJlbnQgb3JkZXIgZG9lcyBub3QgbmVlZCB0byBiZSBmaW5hbGl6ZWQgYXQgdGhpcyBzdGFnZS4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ29yZGVyX2ZpbmFsaXphdGlvbl9ub3RfcmVxdWlyZWQnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IG9taXQgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQge1xuICAgIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcixcbiAgICBPcmRlclJlcXVlc3RCb2R5LFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudFJlcXVlc3RPcHRpb25zLFxuICAgIFBheW1lbnRTdHJhdGVneSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vUGF5bWVudERhdGFSZXF1aXJlZFBheW1lbnRTdHJhdGVneSBpbXBsZW1lbnRzIFBheW1lbnRTdHJhdGVneSB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSkge31cblxuICAgIGFzeW5jIGV4ZWN1dGUocGF5bG9hZDogT3JkZXJSZXF1ZXN0Qm9keSwgb3B0aW9ucz86IFBheW1lbnRSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKG9taXQocGF5bG9hZCwgJ3BheW1lbnQnKSwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgZmluYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yKCkpO1xuICAgIH1cblxuICAgIGluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1xuICAgIFBheW1lbnRTdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IE5vUGF5bWVudERhdGFSZXF1aXJlZFBheW1lbnRTdHJhdGVneSBmcm9tICcuL25vLXBheW1lbnQtZGF0YS1yZXF1aXJlZC1zdHJhdGVneSc7XG5cbmNvbnN0IGNyZWF0ZU5vUGF5bWVudFN0cmF0ZWd5OiBQYXltZW50U3RyYXRlZ3lGYWN0b3J5PE5vUGF5bWVudERhdGFSZXF1aXJlZFBheW1lbnRTdHJhdGVneT4gPSAoXG4gICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbikgPT4gbmV3IE5vUGF5bWVudERhdGFSZXF1aXJlZFBheW1lbnRTdHJhdGVneShwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZU5vUGF5bWVudFN0cmF0ZWd5LCBbeyBpZDogJ25vcGF5bWVudGRhdGFyZXF1aXJlZCcgfV0pO1xuIiwiaW1wb3J0IFJlc29sdmFibGVNb2R1bGUgZnJvbSAnLi9yZXNvbHZhYmxlLW1vZHVsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvUmVzb2x2YWJsZU1vZHVsZTxUTW9kdWxlLCBUSWRlbnRpZmllcj4oXG4gICAgbW9kdWxlOiBUTW9kdWxlLFxuICAgIHJlc29sdmVJZHM6IFRJZGVudGlmaWVyW10sXG4pOiBSZXNvbHZhYmxlTW9kdWxlPFRNb2R1bGUsIFRJZGVudGlmaWVyPiB7XG4gICAgY29uc29sZS5sb2coJ3Jlc29sdmVJZHMnLCByZXNvbHZlSWRzKTtcblxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG1vZHVsZSwgeyByZXNvbHZlSWRzIH0pO1xufVxuIl0sIm5hbWVzIjpbIlN0YW5kYXJkRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsInByb3RvdHlwZSIsInN1cGVyIiwibmFtZSIsInR5cGUiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInRoaXMiLCJfX3Byb3RvX18iLCJjYXB0dXJlU3RhY2tUcmFjZSIsInN0YWNrIiwiT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yIiwiTm9QYXltZW50RGF0YVJlcXVpcmVkUGF5bWVudFN0cmF0ZWd5IiwiX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UiLCJleGVjdXRlIiwicGF5bG9hZCIsIm9wdGlvbnMiLCJzdWJtaXRPcmRlciIsIm9taXQiLCJmaW5hbGl6ZSIsIlByb21pc2UiLCJyZWplY3QiLCJpbml0aWFsaXplIiwicmVzb2x2ZSIsImRlaW5pdGlhbGl6ZSIsIm1vZHVsZSIsInBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UiLCJyZXNvbHZlSWRzIiwiaWQiLCJjb25zb2xlIiwibG9nIiwiYXNzaWduIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/no-payment.js\n\n}");

/***/ }),

/***/ "../checkout-sdk-js/dist/esm/integrations/paypal-pro.js":
/*!**************************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/paypal-pro.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createPayPalProPaymentStrategy: () => (/* binding */ F)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"../checkout-sdk-js/node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"../checkout-sdk-js/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\nvar o,d,c=function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function o(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}d((i=i.apply(e,t||[])).next())})};class u{constructor(e,t){this._paymentIntegrationService=e,this._cardinalClient=t}prepare(e){return c(this,void 0,void 0,function*(){yield this._cardinalClient.load(e.id,e.config.testMode),yield this._cardinalClient.configure(yield this._getClientToken(e))})}start(e,t,n,r){return c(this,void 0,void 0,function*(){const{getCardInstrument:s,getPaymentMethodOrThrow:o}=this._paymentIntegrationService.getState(),{payment:{methodId:d=\"\",paymentData:c={}}={}}=t,u=function(e){return Boolean(e.instrumentId)}(c)&&s(c.instrumentId),l=u?u.iin:r&&r.getBin();l&&(yield this._cardinalClient.runBinProcess(l));try{return yield e((0,lodash__WEBPACK_IMPORTED_MODULE_1__.merge)(t,{payment:{paymentData:{threeDSecure:{token:o(d).clientToken}}}}),n)}catch(e){if(!(e=>\"object\"==typeof e&&null!==e&&\"body\"in e)(e)||!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.some)(e.body.errors,{code:\"three_d_secure_required\"}))throw e;const n=yield this._cardinalClient.getThreeDSecureData(e.body.three_ds_result,this._getOrderData());if(!r)return void(yield this._paymentIntegrationService.submitPayment((0,lodash__WEBPACK_IMPORTED_MODULE_1__.merge)(t.payment,{paymentData:{threeDSecure:n}})));yield r.submit((0,lodash__WEBPACK_IMPORTED_MODULE_1__.merge)(t.payment,{paymentData:{threeDSecure:n}}))}})}_getClientToken(e){return c(this,void 0,void 0,function*(){return e.clientToken?e.clientToken:(yield this._paymentIntegrationService.loadPaymentMethod(e.id),this._paymentIntegrationService.getState().getPaymentMethodOrThrow(e.id).clientToken||\"\")})}_getOrderData(){const e=this._paymentIntegrationService.getState(),t=e.getBillingAddressOrThrow(),n=e.getShippingAddress(),i=e.getCheckoutOrThrow(),r=e.getOrderOrThrow();return{billingAddress:t,shippingAddress:n,currencyCode:i.cart.currency.code,id:r.orderId.toString(),amount:i.cart.cartAmount}}}class l extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}!function(e){e[e.MissingBillingAddress=0]=\"MissingBillingAddress\",e[e.MissingCart=1]=\"MissingCart\",e[e.MissingCheckout=2]=\"MissingCheckout\",e[e.MissingConsignments=3]=\"MissingConsignments\",e[e.MissingCustomer=4]=\"MissingCustomer\",e[e.MissingCheckoutConfig=5]=\"MissingCheckoutConfig\",e[e.MissingOrder=6]=\"MissingOrder\",e[e.MissingOrderConfig=7]=\"MissingOrderConfig\",e[e.MissingOrderId=8]=\"MissingOrderId\",e[e.MissingPayment=9]=\"MissingPayment\",e[e.MissingPaymentId=10]=\"MissingPaymentId\",e[e.MissingPaymentInstrument=11]=\"MissingPaymentInstrument\",e[e.MissingPaymentMethod=12]=\"MissingPaymentMethod\",e[e.MissingPaymentRedirectUrl=13]=\"MissingPaymentRedirectUrl\",e[e.MissingPaymentStatus=14]=\"MissingPaymentStatus\",e[e.MissingPaymentToken=15]=\"MissingPaymentToken\",e[e.MissingShippingAddress=16]=\"MissingShippingAddress\"}(o||(o={}));class h extends l{constructor(e){super(function(e){switch(e){case o.MissingBillingAddress:return\"Unable to proceed because billing address data is unavailable.\";case o.MissingCart:return\"Unable to proceed because cart data is unavailable.\";case o.MissingConsignments:return\"Unable to proceed because consignments data is unavailable.\";case o.MissingCheckout:return\"Unable to proceed because checkout data is unavailable.\";case o.MissingCustomer:return\"Unable to proceed because customer data is unavailable.\";case o.MissingCheckoutConfig:case o.MissingOrderConfig:return\"Unable to proceed because configuration data is unavailable.\";case o.MissingOrder:return\"Unable to proceed because order data is unavailable.\";case o.MissingOrderId:return\"Unable to proceed because order ID is unavailable or not generated yet.\";case o.MissingPayment:return\"Unable to proceed because payment data is unavailable.\";case o.MissingPaymentToken:return\"Unable to proceed because the token required to submit a payment is missing.\";case o.MissingPaymentMethod:return\"Unable to proceed because payment method data is unavailable or not properly configured.\";case o.MissingShippingAddress:return\"Unable to proceed because shipping address data is unavailable.\";default:return\"Unable to proceed because the required data is unavailable.\"}}(e)),this.subtype=e,this.name=\"MissingDataError\",this.type=\"missing_data\"}}class m extends l{constructor(e){super(e||\"Unable to proceed because the client library of a payment method has thrown an unexpected error.\"),this.name=\"PaymentMethodFailedError\",this.type=\"payment_method_client_invalid\"}}!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(d||(d={}));class p extends l{constructor(e){super(function(e){switch(e){case d.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case d.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case d.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case d.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}const g=[100004,1010,1011,1020];var y,b,f,v,_,C,I;!function(e){e.SetupCompleted=\"payments.setupComplete\",e.Validated=\"payments.validated\"}(y||(y={})),function(e){e.Init=\"init\",e.Complete=\"complete\",e.Confirm=\"confirm\"}(b||(b={})),function(e){e.Success=\"SUCCESS\",e.NoAction=\"NOACTION\",e.Failure=\"FAILURE\",e.Error=\"ERROR\"}(f||(f={})),function(e){e.CCA=\"CCA\",e.Paypal=\"Paypal\",e.Wallet=\"Wallet\",e.VisaCheckout=\"VisaCheckout\",e.ApplePay=\"ApplePay\",e.DiscoverWallet=\"DiscoverWallet\"}(v||(v={})),function(e){e.BinProcess=\"bin.process\"}(_||(_={})),function(e){e.CCA=\"cca\"}(C||(C={})),function(e){e.Yes=\"Y\",e.No=\"N\"}(I||(I={}));class P{constructor(e){this._scriptLoader=e,this._provider=\"\",this._testMode=!1,this._configurationToken=\"\"}load(e,t=!1){return this._provider=e,this._testMode=t,this._sdk||(this._sdk=this._scriptLoader.load(e,t)),this._sdk.then(lodash__WEBPACK_IMPORTED_MODULE_1__.noop)}configure(e){if(this._configurationToken){if(this._configurationToken===e)return Promise.resolve();this._sdk=this._scriptLoader.load(`${this._provider}.${Date.now()}`,this._testMode)}return this._getClientSDK().then(n=>new Promise((i,r)=>{n.on(y.SetupCompleted,()=>{n.off(y.SetupCompleted),n.off(y.Validated),this._configurationToken=e,i()}),n.on(y.Validated,e=>{n.off(y.SetupCompleted),n.off(y.Validated),e.ActionCode===f.Error&&((0,lodash__WEBPACK_IMPORTED_MODULE_1__.includes)(g,e.ErrorNumber)&&r(new h(o.MissingPaymentMethod)),r(new m(e.ErrorDescription)))}),n.setup(b.Init,{jwt:e})}))}runBinProcess(e){return this._getClientSDK().then(t=>t.trigger(_.BinProcess,e).catch(lodash__WEBPACK_IMPORTED_MODULE_1__.noop)).then(e=>{if(!e||!e.Status)throw new p(d.PaymentNotInitialized)})}getThreeDSecureData(e,t){return this._getClientSDK().then(n=>new Promise((i,r)=>{n.on(y.Validated,(e,t)=>{if(n.off(y.Validated),!t)return r(new m(e.ErrorDescription?e.ErrorDescription:\"An error was encountered while processing the transaction.\"));if(!e.ActionCode)return i({token:t});switch(e.ActionCode){case f.Success:return i({token:t});case f.NoAction:return e.ErrorNumber>0?r(new m(e.ErrorDescription)):e.Payment&&e.Payment.ExtendedData&&e.Payment.ExtendedData.SignatureVerification===I.Yes?i({token:t}):r(new m(\"Transaction signature could not be validated.\"));case f.Failure:return r(new m(\"User failed authentication or an error was encountered while processing the transaction.\"));case f.Error:return r(new m(e.ErrorDescription))}});const a={AcsUrl:e.acs_url,Payload:e.merchant_data},s=this._mapToPartialOrder(t,e.payer_auth_request);n.continue(C.CCA,a,s)}))}_mapToPartialOrder(e,t){const n={BillingAddress:this._mapToCardinalAddress(e.billingAddress)};return e.paymentData&&(n.Account=this._mapToCardinalAccount(e.paymentData)),e.billingAddress.email&&(n.Email1=e.billingAddress.email),e.shippingAddress&&(n.ShippingAddress=this._mapToCardinalAddress(e.shippingAddress)),{Consumer:n,OrderDetails:{OrderNumber:e.id,Amount:e.amount,CurrencyCode:e.currencyCode,OrderChannel:\"S\",TransactionId:t}}}_mapToCardinalAccount(e){return{AccountNumber:Number(e.ccNumber),ExpirationMonth:Number(e.ccExpiry.month),ExpirationYear:Number(e.ccExpiry.year),NameOnAccount:e.ccName,CardCode:Number(e.ccCvv)}}_mapToCardinalAddress(e){const t={FirstName:e.firstName,LastName:e.lastName,Address1:e.address1,City:e.city,State:e.stateOrProvince,PostalCode:e.postalCode,CountryCode:e.countryCode};return e.address2&&(t.Address2=e.address2),e.phone&&(t.Phone1=e.phone),t}_getClientSDK(){if(!this._sdk)throw new p(d.PaymentNotInitialized);return this._sdk}}class w extends l{constructor(e){super(e||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}class S{constructor(e,t=window){this._scriptLoader=e,this._window=t}load(e,t){const n=t?\"https://songbirdstag.cardinalcommerce.com/edge/v1/songbird.js\":\"https://songbird.cardinalcommerce.com/edge/v1/songbird.js\";return this._scriptLoader.loadScript(`${n}?v=${e}`).then(()=>{if(!this._window.Cardinal)throw new w;return this._window.Cardinal})}}class M extends l{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}class O extends l{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}class A extends M{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}var E,N=function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function o(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}d((i=i.apply(e,t||[])).next())})},k=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};class D{constructor(e){this._paymentIntegrationService=e}execute(e,t){var n,i;return this._isHostedPaymentFormEnabled(null===(n=e.payment)||void 0===n?void 0:n.methodId,null===(i=e.payment)||void 0===i?void 0:i.gatewayId)&&this._shouldRenderHostedForm?this._executeWithHostedForm(e,t):this._executeWithoutHostedForm(e,t)}initialize(e){if(!this._isHostedPaymentFormEnabled(null==e?void 0:e.methodId,null==e?void 0:e.gatewayId)||!this._isHostedFieldAvailable(e))return this._shouldRenderHostedForm=!1,Promise.resolve();const t=e&&e.creditCard&&e.creditCard.form,n=this._paymentIntegrationService.getState(),{paymentSettings:{bigpayBaseUrl:i=\"\"}={}}=n.getStoreConfigOrThrow();if(!t)throw new M;const r=this._paymentIntegrationService.createHostedForm(i,t);return r.attach().then(()=>(this._shouldRenderHostedForm=!0,this._hostedForm=r,Promise.resolve()))}deinitialize(){return this._hostedForm&&this._hostedForm.detach(),Promise.resolve()}finalize(){return Promise.reject(new O)}_executeWithoutHostedForm(e,t){return N(this,void 0,void 0,function*(){const{payment:n}=e,i=k(e,[\"payment\"]),r=n&&n.paymentData;if(!n||!r)throw new A([\"payment.paymentData\"]);yield this._paymentIntegrationService.submitOrder(i,t),yield this._paymentIntegrationService.submitPayment(Object.assign(Object.assign({},n),{paymentData:r}))})}_executeWithHostedForm(e,t){return N(this,void 0,void 0,function*(){const{payment:n}=e,i=k(e,[\"payment\"]),r=this._hostedForm;if(!r)throw new p(d.PaymentNotInitialized);if(!n||!n.methodId)throw new A([\"payment.methodId\"]);yield this._paymentIntegrationService.submitOrder(i,t),yield r.validate().then(()=>r.submit(n))})}_isHostedPaymentFormEnabled(e,t){return!!e&&!0===this._paymentIntegrationService.getState().getPaymentMethodOrThrow(e,t).config.isHostedFormEnabled}_isHostedFieldAvailable(e){return!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.values)(e&&e.creditCard&&e.creditCard.form.fields).every(lodash__WEBPACK_IMPORTED_MODULE_1__.isNil)}}!function(e){e.ACKNOWLEDGE=\"ACKNOWLEDGE\",e.FINALIZE=\"FINALIZE\",e.INITIALIZE=\"INITIALIZE\"}(E||(E={}));const T=E;var x=function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function o(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}d((i=i.apply(e,t||[])).next())})};class z extends D{constructor(e,t){super(e),this.paymentIntegrationService=e,this.threeDSecureFlow=t}initialize(e){const t=Object.create(null,{initialize:{get:()=>super.initialize}});return x(this,void 0,void 0,function*(){yield t.initialize.call(this,e);const n=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(e.methodId);n.config.is3dsEnabled&&(yield this.threeDSecureFlow.prepare(n))})}execute(e,t){const n=Object.create(null,{execute:{get:()=>super.execute}});return x(this,void 0,void 0,function*(){const{payment:{methodId:i=\"\"}={}}=e,r=this.paymentIntegrationService.getState();return r.getPaymentStatus()===T.ACKNOWLEDGE?(yield this.paymentIntegrationService.submitOrder(Object.assign(Object.assign({},e),{payment:{methodId:i}}),t),Promise.resolve()):r.getPaymentMethodOrThrow(i).config.is3dsEnabled?this.threeDSecureFlow.start(n.execute.bind(this),e,t,this._hostedForm):n.execute.call(this,e,t)})}}const F=(U=t=>new z(t,new u(t,new P(new S((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)())))),j=[{id:\"paypal\"}],console.log(\"resolveIds\",j),Object.assign(U,{resolveIds:j}));var U,j;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9wYXlwYWwtcHJvLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7SUFFWUEsRUNBQUMsRSxrU0NhRyxNQUFNQyxFQUNqQixXQUFBQyxDQUNZQyxFQUNBQyxHQURBLEtBQUFELDJCQUFBQSxFQUNBLEtBQUFDLGdCQUFBQSxDQUNULENBRUcsT0FBQUMsQ0FBUUMsRyw4Q0FDSkMsS0FBS0gsZ0JBQWdCSSxLQUFLRixFQUFPRyxHQUFJSCxFQUFPSSxPQUFPQyxnQkFDbkRKLEtBQUtILGdCQUFnQlEsZ0JBQWdCTCxLQUFLTSxnQkFBZ0JQLEdBQ3BFLEUsQ0FFTSxLQUFBUSxDQUNGQyxFQUNBQyxFQUNBQyxFQUNBQyxHLHdDQUVBLE1BQU0sa0JBQUVDLEVBQWlCLHdCQUFFQyxHQUN2QmIsS0FBS0osMkJBQTJCa0IsWUFFNUJDLFNBQVMsU0FBRUMsRUFBVyxHQUFFLFlBQUVDLEVBQWMsQ0FBQyxHQUFNLENBQUMsR0FBTVIsRUFDeERTLEVDNUJDLFNBQ1hBLEdBRUEsT0FBT0MsUUFBU0QsRUFBaUNFLGFBQ3JELENEeUJZQyxDQUFvQkosSUFBZ0JMLEVBQWtCSyxFQUFZRyxjQUNoRUUsRUFBTUosRUFBYUEsRUFBV0ssSUFBTVosR0FBY0EsRUFBV2EsU0FFL0RGLFVBQ010QixLQUFLSCxnQkFBZ0I0QixjQUFjSCxJQUc3QyxJQUNJLGFBQWFkLEVBQ1RrQiw2Q0FBQUEsQ0FBTWpCLEVBQVMsQ0FDWE0sUUFBUyxDQUNMRSxZQUFhLENBQ1RVLGFBQWMsQ0FBRUMsTUFBT2YsRUFBd0JHLEdBQVVhLGlCQUlyRW5CLEUsQ0FFTixNQUFPb0IsR0FDTCxJRXJEVyxDQUFDQSxHQUNJLGlCQUFWQSxHQUFnQyxPQUFWQSxHQUFrQixTQUFVQSxFRnFEbkQsQ0FBZUEsS0FDZkMsNENBQUFBLENBQUtELEVBQU1FLEtBQUtDLE9BQVEsQ0FBRUMsS0FBTSw0QkFFakMsTUFBTUosRUFHVixNQUFNSCxRQUFxQjNCLEtBQUtILGdCQUFn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Q3JDLE1BQVFLLFNBQVMsU0FBRUMsRUFBVyxJQUFPLENBQUMsR0FBTVAsRUFFdENnQyxFQUFRekMsS0FBS2tQLDBCQUEwQnBPLFdBRTdDLE9BQUkyQixFQUFNNk0scUJBQXVCLEVBQW1CQyxtQkFDMUN2UCxLQUFLa1AsMEJBQTBCUixZQUFZLE9BQUQsd0JBRXJDak8sR0FBTyxDQUNWTSxRQUFTLENBQUVDLGNBRWZOLEdBR0drRyxRQUFRQyxXQUdmcEUsRUFBTTVCLHdCQUF3QkcsR0FBVWIsT0FBT2tQLGFBQ3hDclAsS0FBS21QLGlCQUFpQjVPLE1BQ3pCLEVBQU1DLFFBQVFnUCxLQUFLeFAsTUFDbkJTLEVBQ0FDLEVBQ0FWLEtBQUtzTyxhQUlOLEVBQU05TixRQUFPLFVBQUNDLEVBQVNDLEVBQ2xDLEUsRUMxQ0osTUFXQSxHQ3RCSStPLEVEWUFQLEdBRUEsSUFBSUQsRUFDQUMsRUFDQSxJQUFJeFAsRUFDQXdQLEVBQ0EsSUFBSS9JLEVBQWUsSUFBSXNHLEVBQXFCaUQsMkVBQUFBLE9DakJwREMsRURxQjhELENBQUMsQ0FBRXpQLEdBQUksV0NuQnJFMFAsUUFBUUMsSUFBSSxhQUFjRixHQUVuQjNMLE9BQU84TCxPQUFPTCxFQUFRLENBQUVFLGdCQU5wQixJQUNYRixFQUNBRSxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbWlzc2luZy1kYXRhLWVycm9yLnRzP2I3ZGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbm90LWluaXRpYWxpemVkLWVycm9yLnRzPzhiNGQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2NhcmRpbmFsLWludGVncmF0aW9uL3NyYy9jYXJkaW5hbC10aHJlZS1kLXNlY3VyZS1mbG93LnRzP2JjMzkiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9wYXltZW50L2lzLXZhdWx0ZWQtaW5zdHJ1bWVudC50cz8xODBmIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL2lzLXJlcXVlc3QtZXJyb3IudHM/YjQzZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9zdGFuZGFyZC1lcnJvci50cz84YTAzIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3NldC1wcm90b3R5cGUtb2YudHM/ODQ1YSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LW1ldGhvZC1mYWlsZWQtZXJyb3IudHM/MDdkZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvY2FyZGluYWwtaW50ZWdyYXRpb24vc3JjL2NhcmRpbmFsLnRzPzViZmMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2NhcmRpbmFsLWludGVncmF0aW9uL3NyYy9jYXJkaW5hbC1jbGllbnQudHM/MjIxNyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LW1ldGhvZC1jbGllbnQtdW5hdmFpbGFibGUtZXJyb3IudHM/ZjhlYyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvY2FyZGluYWwtaW50ZWdyYXRpb24vc3JjL2NhcmRpbmFsLXNjcmlwdC1sb2FkZXIudHM/M2JiMCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9pbnZhbGlkLWFyZ3VtZW50LWVycm9yLnRzPzM5MjEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvb3JkZXItZmluYWxpemF0aW9uLW5vdC1yZXF1aXJlZC1lcnJvci50cz9iNWExIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3BheW1lbnQtYXJndW1lbnQtaW52YWxpZC1lcnJvci50cz9hNTAxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvcGF5bWVudC9wYXltZW50LXN0YXR1cy10eXBlcy50cz8wYjgwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9jcmVkaXQtY2FyZC1pbnRlZ3JhdGlvbi9zcmMvY3JlZGl0LWNhcmQtcGF5bWVudC1zdHJhdGVneS50cz8yODlmIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXlwYWwtcHJvLWludGVncmF0aW9uL3NyYy9wYXlwYWwtcHJvLXBheW1lbnQtc3RyYXRlZ3kudHM/OGIxYSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5cGFsLXByby1pbnRlZ3JhdGlvbi9zcmMvY3JlYXRlLXBheXBhbC1wcm8tcGF5bWVudC1zdHJhdGVneS50cz8zYmJhIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvdG8tcmVzb2x2YWJsZS1tb2R1bGUudHM/ZDUyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuZXhwb3J0IGVudW0gTWlzc2luZ0RhdGFFcnJvclR5cGUge1xuICAgIE1pc3NpbmdCaWxsaW5nQWRkcmVzcyxcbiAgICBNaXNzaW5nQ2FydCxcbiAgICBNaXNzaW5nQ2hlY2tvdXQsXG4gICAgTWlzc2luZ0NvbnNpZ25tZW50cyxcbiAgICBNaXNzaW5nQ3VzdG9tZXIsXG4gICAgTWlzc2luZ0NoZWNrb3V0Q29uZmlnLFxuICAgIE1pc3NpbmdPcmRlcixcbiAgICBNaXNzaW5nT3JkZXJDb25maWcsXG4gICAgTWlzc2luZ09yZGVySWQsXG4gICAgTWlzc2luZ1BheW1lbnQsXG4gICAgTWlzc2luZ1BheW1lbnRJZCxcbiAgICBNaXNzaW5nUGF5bWVudEluc3RydW1lbnQsXG4gICAgTWlzc2luZ1BheW1lbnRNZXRob2QsXG4gICAgTWlzc2luZ1BheW1lbnRSZWRpcmVjdFVybCxcbiAgICBNaXNzaW5nUGF5bWVudFN0YXR1cyxcbiAgICBNaXNzaW5nUGF5bWVudFRva2VuLFxuICAgIE1pc3NpbmdTaGlwcGluZ0FkZHJlc3MsXG59XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciB3aGVuIGRhdGEgdGhhdCBpcyBleHBlY3RlZCB0byBleGlzdCBpcyBtaXNzaW5nLiBVc3VhbGx5IGl0XG4gKiBpcyBkdWUgdG8gdGhlIGZhY3QgdGhhdCBjZXJ0YWluIGRhdGEgaGFzIG5vdCBiZWVuIHJldHJpZXZlZCBmcm9tIG9yIHNhdmVkIHRvXG4gKiB0aGUgc2VydmVyIHlldC4gQW5kIHN1Y2ggZGF0YSBpcyByZXF1aXJlZCB0byBwZXJmb3JtIGNlcnRhaW4gYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWlzc2luZ0RhdGFFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdWJ0eXBlOiBNaXNzaW5nRGF0YUVycm9yVHlwZSkge1xuICAgICAgICBzdXBlcihnZXRFcnJvck1lc3NhZ2Uoc3VidHlwZSkpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdNaXNzaW5nRGF0YUVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ21pc3NpbmdfZGF0YSc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UodHlwZTogTWlzc2luZ0RhdGFFcnJvclR5cGUpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdCaWxsaW5nQWRkcmVzczpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBiaWxsaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NhcnQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY2FydCBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ29uc2lnbm1lbnRzOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNvbnNpZ25tZW50cyBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ2hlY2tvdXQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY2hlY2tvdXQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0N1c3RvbWVyOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGN1c3RvbWVyIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDaGVja291dENvbmZpZzpcbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nT3JkZXJDb25maWc6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY29uZmlndXJhdGlvbiBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nT3JkZXI6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugb3JkZXIgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ09yZGVySWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugb3JkZXIgSUQgaXMgdW5hdmFpbGFibGUgb3Igbm90IGdlbmVyYXRlZCB5ZXQuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHBheW1lbnQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRUb2tlbjpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgdG9rZW4gcmVxdWlyZWQgdG8gc3VibWl0IGEgcGF5bWVudCBpcyBtaXNzaW5nLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBwYXltZW50IG1ldGhvZCBkYXRhIGlzIHVuYXZhaWxhYmxlIG9yIG5vdCBwcm9wZXJseSBjb25maWd1cmVkLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nU2hpcHBpbmdBZGRyZXNzOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHNoaXBwaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHJlcXVpcmVkIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcbiAgICB9XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuZXhwb3J0IGVudW0gTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUge1xuICAgIENoZWNrb3V0QnV0dG9uTm90SW5pdGlhbGl6ZWQsXG4gICAgQ3VzdG9tZXJOb3RJbml0aWFsaXplZCxcbiAgICBQYXltZW50Tm90SW5pdGlhbGl6ZWQsXG4gICAgU2hpcHBpbmdOb3RJbml0aWFsaXplZCxcbiAgICBTcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkLFxufVxuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3IgaWYgYSBtZXRob2QgcmVxdWlyZXMgYSBjZXJ0YWluIGluaXRpYWxpemF0aW9uIGNhbGwgdG8gYmVcbiAqIG1hZGUgZmlyc3QuIFNvbWUgb2JqZWN0cyBjYW4gYmUgY29uc3RydWN0ZWQgYnV0IHRoZXkgY2Fubm90IGJlIHVzZWQgdW50aWwgYVxuICogc2VwYXJhdGUgaW5pdGlhbGl6YXRpb24gY2FsbCBpcyBtYWRlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb3RJbml0aWFsaXplZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IocHVibGljIHN1YnR5cGU6IE5vdEluaXRpYWxpemVkRXJyb3JUeXBlKSB7XG4gICAgICAgIHN1cGVyKGdldEVycm9yTWVzc2FnZShzdWJ0eXBlKSk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ05vdEluaXRpYWxpemVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnbm90X2luaXRpYWxpemVkJztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZSh0eXBlOiBOb3RJbml0aWFsaXplZEVycm9yVHlwZSk6IHN0cmluZyB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuQ3VzdG9tZXJOb3RJbml0aWFsaXplZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY3VzdG9tZXIgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcblxuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcGF5bWVudCBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuXG4gICAgICAgIGNhc2UgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuU2hpcHBpbmdOb3RJbml0aWFsaXplZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgc2hpcHBpbmcgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcblxuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGNoZWNrb3V0IHNwYW0gcHJvdGVjdGlvbiBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSByZXF1aXJlZCBjb21wb25lbnQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgbWVyZ2UsIHNvbWUgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQge1xuICAgIEhvc3RlZEZvcm0sXG4gICAgaXNSZXF1ZXN0RXJyb3IsXG4gICAgaXNWYXVsdGVkSW5zdHJ1bWVudCxcbiAgICBPcmRlclJlcXVlc3RCb2R5LFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZCxcbiAgICBQYXltZW50UmVxdWVzdE9wdGlvbnMsXG4gICAgUGF5bWVudFN0cmF0ZWd5LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IENhcmRpbmFsQ2xpZW50LCB7IENhcmRpbmFsT3JkZXJEYXRhIH0gZnJvbSAnLi9jYXJkaW5hbC1jbGllbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkaW5hbFRocmVlRFNlY3VyZUZsb3cge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIF9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIF9jYXJkaW5hbENsaWVudDogQ2FyZGluYWxDbGllbnQsXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgcHJlcGFyZShtZXRob2Q6IFBheW1lbnRNZXRob2QpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5fY2FyZGluYWxDbGllbnQubG9hZChtZXRob2QuaWQsIG1ldGhvZC5jb25maWcudGVzdE1vZGUpO1xuICAgICAgICBhd2FpdCB0aGlzLl9jYXJkaW5hbENsaWVudC5jb25maWd1cmUoYXdhaXQgdGhpcy5fZ2V0Q2xpZW50VG9rZW4obWV0aG9kKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgc3RhcnQoXG4gICAgICAgIGV4ZWN1dGU6IFBheW1lbnRTdHJhdGVneVsnZXhlY3V0ZSddLFxuICAgICAgICBwYXlsb2FkOiBPcmRlclJlcXVlc3RCb2R5LFxuICAgICAgICBvcHRpb25zPzogUGF5bWVudFJlcXVlc3RPcHRpb25zLFxuICAgICAgICBob3N0ZWRGb3JtPzogSG9zdGVkRm9ybSxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBnZXRDYXJkSW5zdHJ1bWVudCwgZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cgfSA9XG4gICAgICAgICAgICB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG5cbiAgICAgICAgY29uc3QgeyBwYXltZW50OiB7IG1ldGhvZElkID0gJycsIHBheW1lbnREYXRhID0ge30gfSA9IHt9IH0gPSBwYXlsb2FkO1xuICAgICAgICBjb25zdCBpbnN0cnVtZW50ID1cbiAgICAgICAgICAgIGlzVmF1bHRlZEluc3RydW1lbnQocGF5bWVudERhdGEpICYmIGdldENhcmRJbnN0cnVtZW50KHBheW1lbnREYXRhLmluc3RydW1lbnRJZCk7XG4gICAgICAgIGNvbnN0IGJpbiA9IGluc3RydW1lbnQgPyBpbnN0cnVtZW50LmlpbiA6IGhvc3RlZEZvcm0gJiYgaG9zdGVkRm9ybS5nZXRCaW4oKTtcblxuICAgICAgICBpZiAoYmluKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9jYXJkaW5hbENsaWVudC5ydW5CaW5Qcm9jZXNzKGJpbik7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGV4ZWN1dGUoXG4gICAgICAgICAgICAgICAgbWVyZ2UocGF5bG9hZCwge1xuICAgICAgICAgICAgICAgICAgICBwYXltZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVlRFNlY3VyZTogeyB0b2tlbjogZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpLmNsaWVudFRva2VuIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFpc1JlcXVlc3RFcnJvcihlcnJvcikgfHxcbiAgICAgICAgICAgICAgICAhc29tZShlcnJvci5ib2R5LmVycm9ycywgeyBjb2RlOiAndGhyZWVfZF9zZWN1cmVfcmVxdWlyZWQnIH0pXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdGhyZWVEU2VjdXJlID0gYXdhaXQgdGhpcy5fY2FyZGluYWxDbGllbnQuZ2V0VGhyZWVEU2VjdXJlRGF0YShcbiAgICAgICAgICAgICAgICBlcnJvci5ib2R5LnRocmVlX2RzX3Jlc3VsdCxcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRPcmRlckRhdGEoKSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmICghaG9zdGVkRm9ybSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2UocGF5bG9hZC5wYXltZW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50RGF0YTogeyB0aHJlZURTZWN1cmUgfSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXdhaXQgaG9zdGVkRm9ybS5zdWJtaXQoXG4gICAgICAgICAgICAgICAgbWVyZ2UocGF5bG9hZC5wYXltZW50LCB7XG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnREYXRhOiB7IHRocmVlRFNlY3VyZSB9LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2dldENsaWVudFRva2VuKG1ldGhvZDogUGF5bWVudE1ldGhvZCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIGlmIChtZXRob2QuY2xpZW50VG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBtZXRob2QuY2xpZW50VG9rZW47XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRQYXltZW50TWV0aG9kKG1ldGhvZC5pZCk7XG5cbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2VcbiAgICAgICAgICAgIC5nZXRTdGF0ZSgpXG4gICAgICAgICAgICAuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kLmlkKTtcblxuICAgICAgICByZXR1cm4gcGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbiB8fCAnJztcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRPcmRlckRhdGEoKTogQ2FyZGluYWxPcmRlckRhdGEge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgYmlsbGluZ0FkZHJlc3MgPSBzdGF0ZS5nZXRCaWxsaW5nQWRkcmVzc09yVGhyb3coKTtcbiAgICAgICAgY29uc3Qgc2hpcHBpbmdBZGRyZXNzID0gc3RhdGUuZ2V0U2hpcHBpbmdBZGRyZXNzKCk7XG4gICAgICAgIGNvbnN0IGNoZWNrb3V0ID0gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCk7XG4gICAgICAgIGNvbnN0IG9yZGVyID0gc3RhdGUuZ2V0T3JkZXJPclRocm93KCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzLFxuICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzLFxuICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjaGVja291dC5jYXJ0LmN1cnJlbmN5LmNvZGUsXG4gICAgICAgICAgICBpZDogb3JkZXIub3JkZXJJZC50b1N0cmluZygpLFxuICAgICAgICAgICAgYW1vdW50OiBjaGVja291dC5jYXJ0LmNhcnRBbW91bnQsXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwiaW1wb3J0IHtcbiAgICBGb3JtYXR0ZWRQYXlsb2FkLFxuICAgIEZvcm1hdHRlZFZhdWx0ZWRJbnN0cnVtZW50LFxuICAgIEhvc3RlZFZhdWx0ZWRJbnN0cnVtZW50LFxuICAgIFBheW1lbnRJbnN0cnVtZW50UGF5bG9hZCxcbiAgICBWYXVsdGVkSW5zdHJ1bWVudCxcbn0gZnJvbSAnLi9wYXltZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNWYXVsdGVkSW5zdHJ1bWVudChcbiAgICBpbnN0cnVtZW50OiBQYXltZW50SW5zdHJ1bWVudFBheWxvYWQsXG4pOiBpbnN0cnVtZW50IGlzIFZhdWx0ZWRJbnN0cnVtZW50IHtcbiAgICByZXR1cm4gQm9vbGVhbigoaW5zdHJ1bWVudCBhcyBWYXVsdGVkSW5zdHJ1bWVudCkuaW5zdHJ1bWVudElkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSG9zdGVkVmF1bHRlZEluc3RydW1lbnQoXG4gICAgaW5zdHJ1bWVudDogUGF5bWVudEluc3RydW1lbnRQYXlsb2FkLFxuKTogaW5zdHJ1bWVudCBpcyBIb3N0ZWRWYXVsdGVkSW5zdHJ1bWVudCB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgQm9vbGVhbigoaW5zdHJ1bWVudCBhcyBIb3N0ZWRWYXVsdGVkSW5zdHJ1bWVudCkuaW5zdHJ1bWVudElkKSAmJlxuICAgICAgICAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RydW1lbnQsICdjY051bWJlcicpICYmXG4gICAgICAgICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdHJ1bWVudCwgJ2NjQ3Z2JylcbiAgICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGb3JtYXR0ZWRWYXVsdGVkSW5zdHJ1bWVudChcbiAgICBpbnN0cnVtZW50OiBQYXltZW50SW5zdHJ1bWVudFBheWxvYWQsXG4pOiBpbnN0cnVtZW50IGlzIEZvcm1hdHRlZFBheWxvYWQ8Rm9ybWF0dGVkVmF1bHRlZEluc3RydW1lbnQ+IHtcbiAgICBjb25zdCBmb3JtYXR0ZWRJbnN0cnVtZW50ID0gKGluc3RydW1lbnQgYXMgRm9ybWF0dGVkUGF5bG9hZDxGb3JtYXR0ZWRWYXVsdGVkSW5zdHJ1bWVudD4pXG4gICAgICAgIC5mb3JtYXR0ZWRQYXlsb2FkO1xuXG4gICAgaWYgKCFmb3JtYXR0ZWRJbnN0cnVtZW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICB0eXBlb2YgZm9ybWF0dGVkSW5zdHJ1bWVudC5iaWdwYXlfdG9rZW4gPT09ICdzdHJpbmcnIHx8XG4gICAgICAgIEJvb2xlYW4oZm9ybWF0dGVkSW5zdHJ1bWVudC5iaWdwYXlfdG9rZW4gJiYgZm9ybWF0dGVkSW5zdHJ1bWVudC5iaWdwYXlfdG9rZW4udG9rZW4pXG4gICAgKTtcbn1cbiIsImltcG9ydCBSZXF1ZXN0RXJyb3IgZnJvbSAnLi9yZXF1ZXN0LWVycm9yJztcblxuLy8gSGF2ZSB0byB1c2UgYGFzYCBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83Mzk4NzA0NC90eXBlZ3VhcmRpbmctYW4tdW5rbm93bi1uZXN0ZWQtb2JqZWN0IHNob3VsZCBiZSBmaXhlZCBpbiA0LjgrXG5jb25zdCBpc1JlcXVlc3RFcnJvciA9IChlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIFJlcXVlc3RFcnJvciA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgZXJyb3IgIT09IG51bGwgJiYgJ2JvZHknIGluIGVycm9yO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgaXNSZXF1ZXN0RXJyb3I7XG4iLCJpbXBvcnQgQ3VzdG9tRXJyb3IgZnJvbSAnLi9jdXN0b20tZXJyb3InO1xuaW1wb3J0IHNldFByb3RvdHlwZU9mIGZyb20gJy4vc2V0LXByb3RvdHlwZS1vZic7XG5cbi8qKlxuICogVGhpcyBlcnJvciB0eXBlIHNob3VsZCBub3QgYmUgY29uc3RydWN0ZWQgZGlyZWN0bHkuIEl0IGlzIGEgYmFzZSBjbGFzcyBmb3JcbiAqIGFsbCBjdXN0b20gZXJyb3JzIHRocm93biBpbiB0aGlzIGxpYnJhcnkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIFN0YW5kYXJkRXJyb3IgZXh0ZW5kcyBFcnJvciBpbXBsZW1lbnRzIEN1c3RvbUVycm9yIHtcbiAgICBuYW1lID0gJ1N0YW5kYXJkRXJyb3InO1xuICAgIHR5cGUgPSAnc3RhbmRhcmQnO1xuXG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC4nKTtcblxuICAgICAgICBzZXRQcm90b3R5cGVPZih0aGlzLCBuZXcudGFyZ2V0LnByb3RvdHlwZSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgbmV3LnRhcmdldCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKHRoaXMubWVzc2FnZSkuc3RhY2s7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihvYmplY3Q6IGFueSwgcHJvdG90eXBlOiBvYmplY3QpIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihvYmplY3QsIHByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0Ll9fcHJvdG9fXyA9IHByb3RvdHlwZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0O1xufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gYSBwYXltZW50IG1ldGhvZCBleHBlcmllbmNlcyBzb21lIGtpbmQgb2ZcbiAqIGZhaWx1cmUgKGkuZS46IGl0cyBjbGllbnQgbGlicmFyeSByZXR1cm5zIGEgcmVqZWN0ZWQgcHJvbWlzZSkuIEFuZCB0aGVyZSBpc1xuICogbm8gb3RoZXIgZXJyb3IgdHlwZSB0aGF0IGlzIG1vcmUgc3BlY2lmaWMgdGhhbiB0aGlzIG9uZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBoYXMgdGhyb3duIGFuIHVuZXhwZWN0ZWQgZXJyb3IuJyxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3BheW1lbnRfbWV0aG9kX2NsaWVudF9pbnZhbGlkJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUaHJlZURTZWN1cmUsIFRocmVlRFNlY3VyZVRva2VuIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmV4cG9ydCBjb25zdCBDYXJkaW5hbFNpZ25hdHVyZVZhbGlkYXRpb25FcnJvcnMgPSBbMTAwMDA0LCAxMDEwLCAxMDExLCAxMDIwXTtcblxuZXhwb3J0IGludGVyZmFjZSBDYXJkaW5hbFNESyB7XG4gICAgY29uZmlndXJlKHBhcmFtczogQ2FyZGluYWxDb25maWd1cmF0aW9uKTogdm9pZDtcbiAgICBvbihwYXJhbXM6IENhcmRpbmFsRXZlbnRUeXBlLCBjYWxsYmFjazogQ2FyZGluYWxFdmVudE1hcFtDYXJkaW5hbEV2ZW50VHlwZV0pOiB2b2lkO1xuICAgIG9mZihwYXJhbXM6IENhcmRpbmFsRXZlbnRUeXBlKTogdm9pZDtcbiAgICBzZXR1cDxLIGV4dGVuZHMga2V5b2YgQ2FyZGluYWxJbml0aWFsaXphdGlvbkRhdGFNYXA+KFxuICAgICAgICBpbml0aWFsaXphdGlvblR5cGU6IEssXG4gICAgICAgIGluaXRpYWxpemF0aW9uRGF0YTogQ2FyZGluYWxJbml0aWFsaXphdGlvbkRhdGFNYXBbS10sXG4gICAgKTogdm9pZDtcbiAgICB0cmlnZ2VyKFxuICAgICAgICBldmVudDogQ2FyZGluYWxUcmlnZ2VyRXZlbnRzLFxuICAgICAgICBkYXRhPzogc3RyaW5nLFxuICAgICk6IFByb21pc2U8Q2FyZGluYWxCaW5Qcm9jZXNzUmVzcG9uc2UgfCB2b2lkPjtcbiAgICBjb250aW51ZShcbiAgICAgICAgcGF5bWVudEJyYW5kOiBDYXJkaW5hbFBheW1lbnRCcmFuZCxcbiAgICAgICAgY29udGludWVPYmplY3Q6IENhcmRpbmFsQ29udGludWUsXG4gICAgICAgIG9yZGVyOiBDYXJkaW5hbFBhcnRpYWxPcmRlcixcbiAgICApOiB2b2lkO1xuICAgIHN0YXJ0KHBheW1lbnRCcmFuZDogQ2FyZGluYWxQYXltZW50QnJhbmQsIG9yZGVyOiBDYXJkaW5hbFBhcnRpYWxPcmRlciwgand0Pzogc3RyaW5nKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXJkaW5hbFdpbmRvdyBleHRlbmRzIFdpbmRvdyB7XG4gICAgQ2FyZGluYWw/OiBDYXJkaW5hbFNESztcbn1cblxuZXhwb3J0IGVudW0gQ2FyZGluYWxFdmVudFR5cGUge1xuICAgIFNldHVwQ29tcGxldGVkID0gJ3BheW1lbnRzLnNldHVwQ29tcGxldGUnLFxuICAgIFZhbGlkYXRlZCA9ICdwYXltZW50cy52YWxpZGF0ZWQnLFxufVxuXG5leHBvcnQgdHlwZSBzZXR1cENvbXBsZXRlRm4gPSAoc2V0dXBDb21wbGV0ZURhdGE6IENhcmRpbmFsU2V0dXBDb21wbGV0ZWREYXRhKSA9PiB2b2lkO1xuZXhwb3J0IHR5cGUgdmFsaWRhdGVkRm4gPSAoZGF0YTogQ2FyZGluYWxWYWxpZGF0ZWREYXRhLCBqd3Q/OiBzdHJpbmcpID0+IHZvaWQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZGluYWxFdmVudE1hcCB7XG4gICAgW0NhcmRpbmFsRXZlbnRUeXBlLlNldHVwQ29tcGxldGVkXTogc2V0dXBDb21wbGV0ZUZuO1xuICAgIFtDYXJkaW5hbEV2ZW50VHlwZS5WYWxpZGF0ZWRdOiB2YWxpZGF0ZWRGbjtcbn1cblxuZXhwb3J0IHR5cGUgQ2FyZGluYWxDb25maWd1cmF0aW9uID0gUGFydGlhbDx7XG4gICAgbG9nZ2luZzoge1xuICAgICAgICBsZXZlbDogc3RyaW5nO1xuICAgIH07XG4gICAgcGF5bWVudDoge1xuICAgICAgICB2aWV3OiBzdHJpbmc7XG4gICAgICAgIGZyYW1ld29yazogc3RyaW5nO1xuICAgICAgICBkaXNwbGF5TG9hZGluZzogYm9vbGVhbjtcbiAgICB9O1xufT47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZGluYWxTZXR1cENvbXBsZXRlZERhdGEge1xuICAgIHNlc3Npb25JZDogc3RyaW5nO1xuICAgIG1vZHVsZXM6IENhcmRpbmFsTW9kdWxlU3RhdGVbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXJkaW5hbE1vZHVsZVN0YXRlIHtcbiAgICBsb2FkZWQ6IGJvb2xlYW47XG4gICAgbW9kdWxlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBlbnVtIENhcmRpbmFsSW5pdGlhbGl6YXRpb25UeXBlIHtcbiAgICBJbml0ID0gJ2luaXQnLFxuICAgIENvbXBsZXRlID0gJ2NvbXBsZXRlJyxcbiAgICBDb25maXJtID0gJ2NvbmZpcm0nLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRpbmFsSW5pdGlhbGl6YXRpb25EYXRhTWFwIHtcbiAgICBbQ2FyZGluYWxJbml0aWFsaXphdGlvblR5cGUuSW5pdF06IENhcmRpbmFsSW5pdFR5cGVEYXRhO1xuICAgIFtDYXJkaW5hbEluaXRpYWxpemF0aW9uVHlwZS5Db21wbGV0ZV06IENhcmRpbmFsQ29tcGxldGVUeXBlRGF0YTtcbiAgICBbQ2FyZGluYWxJbml0aWFsaXphdGlvblR5cGUuQ29uZmlybV06IENhcmRpbmFsQ29uZmlybVR5cGVEYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRpbmFsSW5pdFR5cGVEYXRhIHtcbiAgICBqd3Q6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXJkaW5hbENvbXBsZXRlVHlwZURhdGEge1xuICAgIFN0YXR1czogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRpbmFsQ29uZmlybVR5cGVEYXRhIHtcbiAgICBqd3Q6IHN0cmluZztcbiAgICBjYXJkaW5hbFJlc3BvbnNlSnd0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZGluYWxWYWxpZGF0ZWREYXRhIHtcbiAgICBBY3Rpb25Db2RlPzogQ2FyZGluYWxWYWxpZGF0ZWRBY3Rpb247XG4gICAgRXJyb3JEZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIEVycm9yTnVtYmVyOiBudW1iZXI7XG4gICAgVmFsaWRhdGVkPzogYm9vbGVhbjtcbiAgICBQYXltZW50PzogQ2FyZGluYWxQYXltZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRpbmFsUGF5bWVudCB7XG4gICAgRXh0ZW5kZWREYXRhPzogQ2FyZGluYWxDQ0FFeHRlbmRlZERhdGE7XG4gICAgUHJvY2Vzc29yVHJhbnNhY3Rpb25JZDogc3RyaW5nO1xuICAgIFR5cGU6IENhcmRpbmFsUGF5bWVudFR5cGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZGluYWxCaW5Qcm9jZXNzUmVzcG9uc2Uge1xuICAgIFN0YXR1czogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXJkaW5hbENvbnRpbnVlIHtcbiAgICBBY3NVcmw6IHN0cmluZztcbiAgICBQYXlsb2FkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZGluYWxQYXJ0aWFsT3JkZXIge1xuICAgIE9yZGVyRGV0YWlsczogQ2FyZGluYWxPcmRlckRldGFpbHM7XG4gICAgQ29uc3VtZXI/OiBDYXJkaW5hbENvbnN1bWVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRpbmFsQ29uc3VtZXIge1xuICAgIEVtYWlsMT86IHN0cmluZztcbiAgICBFbWFpbDI/OiBzdHJpbmc7XG4gICAgU2hpcHBpbmdBZGRyZXNzPzogQ2FyZGluYWxBZGRyZXNzO1xuICAgIEJpbGxpbmdBZGRyZXNzPzogQ2FyZGluYWxBZGRyZXNzO1xuICAgIEFjY291bnQ/OiBDYXJkaW5hbEFjY291bnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZGluYWxBY2NvdW50IHtcbiAgICBBY2NvdW50TnVtYmVyOiBudW1iZXI7XG4gICAgRXhwaXJhdGlvbk1vbnRoOiBudW1iZXI7XG4gICAgRXhwaXJhdGlvblllYXI6IG51bWJlcjtcbiAgICBOYW1lT25BY2NvdW50OiBzdHJpbmc7XG4gICAgQ2FyZENvZGU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXJkaW5hbEFkZHJlc3Mge1xuICAgIEZ1bGxOYW1lPzogc3RyaW5nO1xuICAgIEZpcnN0TmFtZTogc3RyaW5nO1xuICAgIE1pZGRsZU5hbWU/OiBzdHJpbmc7XG4gICAgTGFzdE5hbWU6IHN0cmluZztcbiAgICBBZGRyZXNzMTogc3RyaW5nO1xuICAgIEFkZHJlc3MyPzogc3RyaW5nO1xuICAgIEFkZHJlc3MzPzogc3RyaW5nO1xuICAgIENpdHk6IHN0cmluZztcbiAgICBTdGF0ZTogc3RyaW5nO1xuICAgIFBvc3RhbENvZGU6IHN0cmluZztcbiAgICBDb3VudHJ5Q29kZTogc3RyaW5nO1xuICAgIFBob25lMT86IHN0cmluZztcbiAgICBQaG9uZTI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZGluYWxPcmRlckRldGFpbHMge1xuICAgIE9yZGVyTnVtYmVyOiBzdHJpbmc7XG4gICAgQW1vdW50OiBudW1iZXI7XG4gICAgQ3VycmVuY3lDb2RlOiBzdHJpbmc7XG4gICAgT3JkZXJEZXNjcmlwdGlvbj86IHN0cmluZztcbiAgICBPcmRlckNoYW5uZWw6IHN0cmluZztcbiAgICBUcmFuc2FjdGlvbklkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBDYXJkaW5hbENDQUV4dGVuZGVkRGF0YSA9IFBhcnRpYWw8e1xuICAgIENBVlY6IHN0cmluZztcbiAgICBFQ0lGbGFnOiBzdHJpbmc7XG4gICAgUEFSZXNTdGF0dXM6IHN0cmluZztcbiAgICBTaWduYXR1cmVWZXJpZmljYXRpb246IHN0cmluZztcbiAgICBYSUQ6IHN0cmluZztcbiAgICBVQ0FGSW5kaWNhdG9yOiBzdHJpbmc7XG4gICAgQ2hhbGxlbmdlQ2FuY2VsOiBzdHJpbmc7XG59PjtcblxuZXhwb3J0IGVudW0gQ2FyZGluYWxWYWxpZGF0ZWRBY3Rpb24ge1xuICAgIFN1Y2Nlc3MgPSAnU1VDQ0VTUycsXG4gICAgTm9BY3Rpb24gPSAnTk9BQ1RJT04nLFxuICAgIEZhaWx1cmUgPSAnRkFJTFVSRScsXG4gICAgRXJyb3IgPSAnRVJST1InLFxufVxuXG5leHBvcnQgZW51bSBDYXJkaW5hbFBheW1lbnRUeXBlIHtcbiAgICBDQ0EgPSAnQ0NBJyxcbiAgICBQYXlwYWwgPSAnUGF5cGFsJyxcbiAgICBXYWxsZXQgPSAnV2FsbGV0JyxcbiAgICBWaXNhQ2hlY2tvdXQgPSAnVmlzYUNoZWNrb3V0JyxcbiAgICBBcHBsZVBheSA9ICdBcHBsZVBheScsXG4gICAgRGlzY292ZXJXYWxsZXQgPSAnRGlzY292ZXJXYWxsZXQnLFxufVxuXG5leHBvcnQgZW51bSBDYXJkaW5hbFRyaWdnZXJFdmVudHMge1xuICAgIEJpblByb2Nlc3MgPSAnYmluLnByb2Nlc3MnLFxufVxuXG5leHBvcnQgZW51bSBDYXJkaW5hbFBheW1lbnRCcmFuZCB7XG4gICAgQ0NBID0gJ2NjYScsXG59XG5cbmV4cG9ydCBlbnVtIENhcmRpbmFsU2lnbmF0dXJlVmVyaWZpY2F0aW9uIHtcbiAgICBZZXMgPSAnWScsXG4gICAgTm8gPSAnTicsXG59XG5cbmV4cG9ydCB0eXBlIENhcmRpbmFsVGhyZWVEU2VjdXJlVG9rZW4gPSBQaWNrPFRocmVlRFNlY3VyZSwgJ3hpZCc+IHwgVGhyZWVEU2VjdXJlVG9rZW47XG4iLCJpbXBvcnQgeyBpbmNsdWRlcywgbm9vcCB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7XG4gICAgQWRkcmVzcyxcbiAgICBCaWxsaW5nQWRkcmVzcyxcbiAgICBDcmVkaXRDYXJkSW5zdHJ1bWVudCxcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yLFxuICAgIFRocmVlRFNlY3VyZVRva2VuLFxuICAgIFRocmVlRHNSZXN1bHQsXG4gICAgVmF1bHRlZEluc3RydW1lbnQsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQge1xuICAgIENhcmRpbmFsQWNjb3VudCxcbiAgICBDYXJkaW5hbEFkZHJlc3MsXG4gICAgQ2FyZGluYWxDb25zdW1lcixcbiAgICBDYXJkaW5hbEV2ZW50VHlwZSxcbiAgICBDYXJkaW5hbEluaXRpYWxpemF0aW9uVHlwZSxcbiAgICBDYXJkaW5hbFBhcnRpYWxPcmRlcixcbiAgICBDYXJkaW5hbFBheW1lbnRCcmFuZCxcbiAgICBDYXJkaW5hbFNESyxcbiAgICBDYXJkaW5hbFNpZ25hdHVyZVZhbGlkYXRpb25FcnJvcnMsXG4gICAgQ2FyZGluYWxTaWduYXR1cmVWZXJpZmljYXRpb24sXG4gICAgQ2FyZGluYWxUcmlnZ2VyRXZlbnRzLFxuICAgIENhcmRpbmFsVmFsaWRhdGVkQWN0aW9uLFxuICAgIENhcmRpbmFsVmFsaWRhdGVkRGF0YSxcbn0gZnJvbSAnLi9jYXJkaW5hbCc7XG5pbXBvcnQgQ2FyZGluYWxTY3JpcHRMb2FkZXIgZnJvbSAnLi9jYXJkaW5hbC1zY3JpcHQtbG9hZGVyJztcblxuZXhwb3J0IHR5cGUgQ2FyZGluYWxTdXBwb3J0ZWRQYXltZW50SW5zdHJ1bWVudCA9IENyZWRpdENhcmRJbnN0cnVtZW50IHwgVmF1bHRlZEluc3RydW1lbnQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZGluYWxPcmRlckRhdGEge1xuICAgIGJpbGxpbmdBZGRyZXNzOiBCaWxsaW5nQWRkcmVzcztcbiAgICBzaGlwcGluZ0FkZHJlc3M/OiBBZGRyZXNzO1xuICAgIGN1cnJlbmN5Q29kZTogc3RyaW5nO1xuICAgIGlkOiBzdHJpbmc7XG4gICAgYW1vdW50OiBudW1iZXI7XG4gICAgcGF5bWVudERhdGE/OiBDcmVkaXRDYXJkSW5zdHJ1bWVudDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZGluYWxDbGllbnQge1xuICAgIHByaXZhdGUgX3Byb3ZpZGVyID0gJyc7XG4gICAgcHJpdmF0ZSBfdGVzdE1vZGUgPSBmYWxzZTtcbiAgICBwcml2YXRlIF9zZGs/OiBQcm9taXNlPENhcmRpbmFsU0RLPjtcbiAgICBwcml2YXRlIF9jb25maWd1cmF0aW9uVG9rZW4gPSAnJztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX3NjcmlwdExvYWRlcjogQ2FyZGluYWxTY3JpcHRMb2FkZXIpIHt9XG5cbiAgICBsb2FkKHByb3ZpZGVyOiBzdHJpbmcsIHRlc3RNb2RlID0gZmFsc2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5fcHJvdmlkZXIgPSBwcm92aWRlcjtcbiAgICAgICAgdGhpcy5fdGVzdE1vZGUgPSB0ZXN0TW9kZTtcblxuICAgICAgICBpZiAoIXRoaXMuX3Nkaykge1xuICAgICAgICAgICAgdGhpcy5fc2RrID0gdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWQocHJvdmlkZXIsIHRlc3RNb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9zZGsudGhlbihub29wKTtcbiAgICB9XG5cbiAgICBjb25maWd1cmUoY2xpZW50VG9rZW46IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5fY29uZmlndXJhdGlvblRva2VuKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fY29uZmlndXJhdGlvblRva2VuID09PSBjbGllbnRUb2tlbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc2RrID0gdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWQoYCR7dGhpcy5fcHJvdmlkZXJ9LiR7RGF0ZS5ub3coKX1gLCB0aGlzLl90ZXN0TW9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q2xpZW50U0RLKCkudGhlbihcbiAgICAgICAgICAgIChjbGllbnQpID0+XG4gICAgICAgICAgICAgICAgbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjbGllbnQub24oQ2FyZGluYWxFdmVudFR5cGUuU2V0dXBDb21wbGV0ZWQsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudC5vZmYoQ2FyZGluYWxFdmVudFR5cGUuU2V0dXBDb21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50Lm9mZihDYXJkaW5hbEV2ZW50VHlwZS5WYWxpZGF0ZWQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25maWd1cmF0aW9uVG9rZW4gPSBjbGllbnRUb2tlbjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBjbGllbnQub24oQ2FyZGluYWxFdmVudFR5cGUuVmFsaWRhdGVkLCAoZGF0YTogQ2FyZGluYWxWYWxpZGF0ZWREYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnQub2ZmKENhcmRpbmFsRXZlbnRUeXBlLlNldHVwQ29tcGxldGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudC5vZmYoQ2FyZGluYWxFdmVudFR5cGUuVmFsaWRhdGVkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkYXRhLkFjdGlvbkNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENhcmRpbmFsVmFsaWRhdGVkQWN0aW9uLkVycm9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZXMoQ2FyZGluYWxTaWduYXR1cmVWYWxpZGF0aW9uRXJyb3JzLCBkYXRhLkVycm9yTnVtYmVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNaXNzaW5nRGF0YUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yKGRhdGEuRXJyb3JEZXNjcmlwdGlvbikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2xpZW50LnNldHVwKENhcmRpbmFsSW5pdGlhbGl6YXRpb25UeXBlLkluaXQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGp3dDogY2xpZW50VG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJ1bkJpblByb2Nlc3MoYmluTnVtYmVyOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldENsaWVudFNESygpXG4gICAgICAgICAgICAudGhlbigoY2xpZW50KSA9PlxuICAgICAgICAgICAgICAgIGNsaWVudC50cmlnZ2VyKENhcmRpbmFsVHJpZ2dlckV2ZW50cy5CaW5Qcm9jZXNzLCBiaW5OdW1iZXIpLmNhdGNoKG5vb3ApLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0IHx8ICFyZXN1bHQuU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0VGhyZWVEU2VjdXJlRGF0YShcbiAgICAgICAgdGhyZWVEU2VjdXJlRGF0YTogVGhyZWVEc1Jlc3VsdCxcbiAgICAgICAgb3JkZXJEYXRhOiBDYXJkaW5hbE9yZGVyRGF0YSxcbiAgICApOiBQcm9taXNlPFRocmVlRFNlY3VyZVRva2VuPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDbGllbnRTREsoKS50aGVuKChjbGllbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxUaHJlZURTZWN1cmVUb2tlbj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNsaWVudC5vbihcbiAgICAgICAgICAgICAgICAgICAgQ2FyZGluYWxFdmVudFR5cGUuVmFsaWRhdGVkLFxuICAgICAgICAgICAgICAgICAgICAoZGF0YTogQ2FyZGluYWxWYWxpZGF0ZWREYXRhLCBqd3Q/OiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudC5vZmYoQ2FyZGluYWxFdmVudFR5cGUuVmFsaWRhdGVkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFqd3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5FcnJvckRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBkYXRhLkVycm9yRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdBbiBlcnJvciB3YXMgZW5jb3VudGVyZWQgd2hpbGUgcHJvY2Vzc2luZyB0aGUgdHJhbnNhY3Rpb24uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEuQWN0aW9uQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHsgdG9rZW46IGp3dCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkYXRhLkFjdGlvbkNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENhcmRpbmFsVmFsaWRhdGVkQWN0aW9uLlN1Y2Nlc3M6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHsgdG9rZW46IGp3dCB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ2FyZGluYWxWYWxpZGF0ZWRBY3Rpb24uTm9BY3Rpb246XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLkVycm9yTnVtYmVyID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yKGRhdGEuRXJyb3JEZXNjcmlwdGlvbiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWRhdGEuUGF5bWVudCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWRhdGEuUGF5bWVudC5FeHRlbmRlZERhdGEgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuUGF5bWVudC5FeHRlbmRlZERhdGEuU2lnbmF0dXJlVmVyaWZpY2F0aW9uICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhcmRpbmFsU2lnbmF0dXJlVmVyaWZpY2F0aW9uLlllc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFBheW1lbnRNZXRob2RGYWlsZWRFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RyYW5zYWN0aW9uIHNpZ25hdHVyZSBjb3VsZCBub3QgYmUgdmFsaWRhdGVkLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7IHRva2VuOiBqd3QgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENhcmRpbmFsVmFsaWRhdGVkQWN0aW9uLkZhaWx1cmU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdVc2VyIGZhaWxlZCBhdXRoZW50aWNhdGlvbiBvciBhbiBlcnJvciB3YXMgZW5jb3VudGVyZWQgd2hpbGUgcHJvY2Vzc2luZyB0aGUgdHJhbnNhY3Rpb24uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENhcmRpbmFsVmFsaWRhdGVkQWN0aW9uLkVycm9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KG5ldyBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IoZGF0YS5FcnJvckRlc2NyaXB0aW9uKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRpbnVlT2JqZWN0ID0ge1xuICAgICAgICAgICAgICAgICAgICBBY3NVcmw6IHRocmVlRFNlY3VyZURhdGEuYWNzX3VybCxcbiAgICAgICAgICAgICAgICAgICAgUGF5bG9hZDogdGhyZWVEU2VjdXJlRGF0YS5tZXJjaGFudF9kYXRhLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0aWFsT3JkZXIgPSB0aGlzLl9tYXBUb1BhcnRpYWxPcmRlcihcbiAgICAgICAgICAgICAgICAgICAgb3JkZXJEYXRhLFxuICAgICAgICAgICAgICAgICAgICB0aHJlZURTZWN1cmVEYXRhLnBheWVyX2F1dGhfcmVxdWVzdCxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgY2xpZW50LmNvbnRpbnVlKENhcmRpbmFsUGF5bWVudEJyYW5kLkNDQSwgY29udGludWVPYmplY3QsIHBhcnRpYWxPcmRlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfbWFwVG9QYXJ0aWFsT3JkZXIoXG4gICAgICAgIG9yZGVyRGF0YTogQ2FyZGluYWxPcmRlckRhdGEsXG4gICAgICAgIHRyYW5zYWN0aW9uSWQ6IHN0cmluZyxcbiAgICApOiBDYXJkaW5hbFBhcnRpYWxPcmRlciB7XG4gICAgICAgIGNvbnN0IGNvbnN1bWVyOiBDYXJkaW5hbENvbnN1bWVyID0ge1xuICAgICAgICAgICAgQmlsbGluZ0FkZHJlc3M6IHRoaXMuX21hcFRvQ2FyZGluYWxBZGRyZXNzKG9yZGVyRGF0YS5iaWxsaW5nQWRkcmVzcyksXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG9yZGVyRGF0YS5wYXltZW50RGF0YSkge1xuICAgICAgICAgICAgY29uc3VtZXIuQWNjb3VudCA9IHRoaXMuX21hcFRvQ2FyZGluYWxBY2NvdW50KG9yZGVyRGF0YS5wYXltZW50RGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3JkZXJEYXRhLmJpbGxpbmdBZGRyZXNzLmVtYWlsKSB7XG4gICAgICAgICAgICBjb25zdW1lci5FbWFpbDEgPSBvcmRlckRhdGEuYmlsbGluZ0FkZHJlc3MuZW1haWw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3JkZXJEYXRhLnNoaXBwaW5nQWRkcmVzcykge1xuICAgICAgICAgICAgY29uc3VtZXIuU2hpcHBpbmdBZGRyZXNzID0gdGhpcy5fbWFwVG9DYXJkaW5hbEFkZHJlc3Mob3JkZXJEYXRhLnNoaXBwaW5nQWRkcmVzcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgQ29uc3VtZXI6IGNvbnN1bWVyLFxuICAgICAgICAgICAgT3JkZXJEZXRhaWxzOiB7XG4gICAgICAgICAgICAgICAgT3JkZXJOdW1iZXI6IG9yZGVyRGF0YS5pZCxcbiAgICAgICAgICAgICAgICBBbW91bnQ6IG9yZGVyRGF0YS5hbW91bnQsXG4gICAgICAgICAgICAgICAgQ3VycmVuY3lDb2RlOiBvcmRlckRhdGEuY3VycmVuY3lDb2RlLFxuICAgICAgICAgICAgICAgIE9yZGVyQ2hhbm5lbDogJ1MnLFxuICAgICAgICAgICAgICAgIFRyYW5zYWN0aW9uSWQ6IHRyYW5zYWN0aW9uSWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX21hcFRvQ2FyZGluYWxBY2NvdW50KHBheW1lbnREYXRhOiBDcmVkaXRDYXJkSW5zdHJ1bWVudCk6IENhcmRpbmFsQWNjb3VudCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBBY2NvdW50TnVtYmVyOiBOdW1iZXIocGF5bWVudERhdGEuY2NOdW1iZXIpLFxuICAgICAgICAgICAgRXhwaXJhdGlvbk1vbnRoOiBOdW1iZXIocGF5bWVudERhdGEuY2NFeHBpcnkubW9udGgpLFxuICAgICAgICAgICAgRXhwaXJhdGlvblllYXI6IE51bWJlcihwYXltZW50RGF0YS5jY0V4cGlyeS55ZWFyKSxcbiAgICAgICAgICAgIE5hbWVPbkFjY291bnQ6IHBheW1lbnREYXRhLmNjTmFtZSxcbiAgICAgICAgICAgIENhcmRDb2RlOiBOdW1iZXIocGF5bWVudERhdGEuY2NDdnYpLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX21hcFRvQ2FyZGluYWxBZGRyZXNzKGFkZHJlc3M6IEFkZHJlc3MpOiBDYXJkaW5hbEFkZHJlc3Mge1xuICAgICAgICBjb25zdCBjYXJkaW5hbEFkZHJlc3M6IENhcmRpbmFsQWRkcmVzcyA9IHtcbiAgICAgICAgICAgIEZpcnN0TmFtZTogYWRkcmVzcy5maXJzdE5hbWUsXG4gICAgICAgICAgICBMYXN0TmFtZTogYWRkcmVzcy5sYXN0TmFtZSxcbiAgICAgICAgICAgIEFkZHJlc3MxOiBhZGRyZXNzLmFkZHJlc3MxLFxuICAgICAgICAgICAgQ2l0eTogYWRkcmVzcy5jaXR5LFxuICAgICAgICAgICAgU3RhdGU6IGFkZHJlc3Muc3RhdGVPclByb3ZpbmNlLFxuICAgICAgICAgICAgUG9zdGFsQ29kZTogYWRkcmVzcy5wb3N0YWxDb2RlLFxuICAgICAgICAgICAgQ291bnRyeUNvZGU6IGFkZHJlc3MuY291bnRyeUNvZGUsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGFkZHJlc3MuYWRkcmVzczIpIHtcbiAgICAgICAgICAgIGNhcmRpbmFsQWRkcmVzcy5BZGRyZXNzMiA9IGFkZHJlc3MuYWRkcmVzczI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWRkcmVzcy5waG9uZSkge1xuICAgICAgICAgICAgY2FyZGluYWxBZGRyZXNzLlBob25lMSA9IGFkZHJlc3MucGhvbmU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2FyZGluYWxBZGRyZXNzO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldENsaWVudFNESygpOiBQcm9taXNlPENhcmRpbmFsU0RLPiB7XG4gICAgICAgIGlmICghdGhpcy5fc2RrKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NkaztcbiAgICB9XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBmYWlsc1xuICogdG8gbG9hZCwgb3IgZm9yIHNvbWUgcmVhc29uLCBpdCBpcyBpbmFjY2Vzc2libGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBpcyBub3QgbG9hZGVkIG9yIHJlYWR5IHRvIGJlIHVzZWQuJyxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAncGF5bWVudF9tZXRob2RfY2xpZW50X3VuYXZhaWxhYmxlJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7IFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IENhcmRpbmFsU0RLLCBDYXJkaW5hbFdpbmRvdyB9IGZyb20gJy4vY2FyZGluYWwnO1xuXG5jb25zdCBTREtfVEVTVF9VUkwgPSAnaHR0cHM6Ly9zb25nYmlyZHN0YWcuY2FyZGluYWxjb21tZXJjZS5jb20vZWRnZS92MS9zb25nYmlyZC5qcyc7XG5jb25zdCBTREtfUFJPRF9VUkwgPSAnaHR0cHM6Ly9zb25nYmlyZC5jYXJkaW5hbGNvbW1lcmNlLmNvbS9lZGdlL3YxL3NvbmdiaXJkLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZGluYWxTY3JpcHRMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX3NjcmlwdExvYWRlcjogU2NyaXB0TG9hZGVyLCBwcml2YXRlIF93aW5kb3c6IENhcmRpbmFsV2luZG93ID0gd2luZG93KSB7fVxuXG4gICAgbG9hZChwcm92aWRlcjogc3RyaW5nLCB0ZXN0TW9kZT86IGJvb2xlYW4pOiBQcm9taXNlPENhcmRpbmFsU0RLPiB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRlc3RNb2RlID8gU0RLX1RFU1RfVVJMIDogU0RLX1BST0RfVVJMO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChgJHt1cmx9P3Y9JHtwcm92aWRlcn1gKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fd2luZG93LkNhcmRpbmFsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aW5kb3cuQ2FyZGluYWw7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIGEgbWV0aG9kIGlzIHVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlXG4gKiBjYWxsZXIgaGFzIG5vdCBwcm92aWRlZCBhbGwgdGhlIGFyZ3VtZW50cyBhY2NvcmRpbmcgdG8gdGhlaXIgcmVxdWlyZW1lbnRzLFxuICogaS5lLjogaWYgYW4gYXJndW1lbnQgaXMgbWlzc2luZyBvciBpdCBpcyBub3QgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW52YWxpZEFyZ3VtZW50RXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ0ludmFsaWQgYXJndW1lbnRzIGhhdmUgYmVlbiBwcm92aWRlZC4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnSW52YWxpZEFyZ3VtZW50RXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnaW52YWxpZF9hcmd1bWVudCc7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciBpZiB3ZSBhcmUgdHJ5aW5nIHRvIG1ha2UgYW4gb3JkZXIgZmluYWxpemF0aW9uIHJlcXVlc3QgZm9yIGFcbiAqIHBheW1lbnQgbWV0aG9kIHRoYXQgZG9lcyBub3QgcmVxdWlyZSBzdWNoIHByb2NlZHVyZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdUaGUgY3VycmVudCBvcmRlciBkb2VzIG5vdCBuZWVkIHRvIGJlIGZpbmFsaXplZCBhdCB0aGlzIHN0YWdlLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnb3JkZXJfZmluYWxpemF0aW9uX25vdF9yZXF1aXJlZCc7XG4gICAgfVxufVxuIiwiaW1wb3J0IEludmFsaWRBcmd1bWVudEVycm9yIGZyb20gJy4vaW52YWxpZC1hcmd1bWVudC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gd2UgYXJlIHVuYWJsZSB0byBzdWJtaXQgYSBwYXltZW50IGJlY2F1c2VcbiAqIHRoZSBjYWxsZXIgaGFzIG5vdCBwcm92aWRlZCBhbGwgdGhlIHJlcXVpcmVkIGZpZWxkcywgaS5lLjogaWYgYW4gYXJndW1lbnQgaXNcbiAqIG1pc3Npbmcgb3IgaXQgaXMgbm90IHRoZSBleHBlY3RlZCBkYXRhIHR5cGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvciBleHRlbmRzIEludmFsaWRBcmd1bWVudEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihpbnZhbGlkRmllbGRzPzogc3RyaW5nW10pIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSAnVW5hYmxlIHRvIHN1Ym1pdCBwYXltZW50IGZvciB0aGUgb3JkZXIgYmVjYXVzZSB0aGUgcGF5bG9hZCBpcyBpbnZhbGlkLic7XG5cbiAgICAgICAgaWYgKGludmFsaWRGaWVsZHMpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgJHttZXNzYWdlfSBNYWtlIHN1cmUgdGhlIGZvbGxvd2luZyBmaWVsZHMgYXJlIHByb3ZpZGVkIGNvcnJlY3RseTogJHtpbnZhbGlkRmllbGRzLmpvaW4oXG4gICAgICAgICAgICAgICAgJywgJyxcbiAgICAgICAgICAgICl9LmA7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yJztcbiAgICB9XG59XG4iLCJlbnVtIFBheW1lbnRTdGF0dXNUeXBlcyB7XG4gICAgQUNLTk9XTEVER0UgPSAnQUNLTk9XTEVER0UnLFxuICAgIEZJTkFMSVpFID0gJ0ZJTkFMSVpFJyxcbiAgICBJTklUSUFMSVpFID0gJ0lOSVRJQUxJWkUnLFxufVxuXG5leHBvcnQgZGVmYXVsdCBQYXltZW50U3RhdHVzVHlwZXM7XG4iLCJpbXBvcnQgeyBpc05pbCwgdmFsdWVzIH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHtcbiAgICBIb3N0ZWRGb3JtLFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yLFxuICAgIFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICBQYXltZW50U3RyYXRlZ3ksXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBXaXRoQ3JlZGl0Q2FyZFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyB9IGZyb20gJy4vY3JlZGl0LWNhcmQtcGF5bWVudC1pbml0aWFsaXplLW9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5IGltcGxlbWVudHMgUGF5bWVudFN0cmF0ZWd5IHtcbiAgICBwcm90ZWN0ZWQgX2hvc3RlZEZvcm0/OiBIb3N0ZWRGb3JtO1xuICAgIHByb3RlY3RlZCBfc2hvdWxkUmVuZGVySG9zdGVkRm9ybT86IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpIHt9XG5cbiAgICBleGVjdXRlKHBheWxvYWQ6IE9yZGVyUmVxdWVzdEJvZHksIG9wdGlvbnM/OiBQYXltZW50UmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzSG9zdGVkUGF5bWVudEZvcm1FbmFibGVkKFxuICAgICAgICAgICAgcGF5bG9hZC5wYXltZW50Py5tZXRob2RJZCxcbiAgICAgICAgICAgIHBheWxvYWQucGF5bWVudD8uZ2F0ZXdheUlkLFxuICAgICAgICApICYmIHRoaXMuX3Nob3VsZFJlbmRlckhvc3RlZEZvcm1cbiAgICAgICAgICAgID8gdGhpcy5fZXhlY3V0ZVdpdGhIb3N0ZWRGb3JtKHBheWxvYWQsIG9wdGlvbnMpXG4gICAgICAgICAgICA6IHRoaXMuX2V4ZWN1dGVXaXRob3V0SG9zdGVkRm9ybShwYXlsb2FkLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplKFxuICAgICAgICBvcHRpb25zPzogUGF5bWVudEluaXRpYWxpemVPcHRpb25zICYgV2l0aENyZWRpdENhcmRQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICF0aGlzLl9pc0hvc3RlZFBheW1lbnRGb3JtRW5hYmxlZChvcHRpb25zPy5tZXRob2RJZCwgb3B0aW9ucz8uZ2F0ZXdheUlkKSB8fFxuICAgICAgICAgICAgIXRoaXMuX2lzSG9zdGVkRmllbGRBdmFpbGFibGUob3B0aW9ucylcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLl9zaG91bGRSZW5kZXJIb3N0ZWRGb3JtID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZvcm1PcHRpb25zID0gb3B0aW9ucyAmJiBvcHRpb25zLmNyZWRpdENhcmQgJiYgb3B0aW9ucy5jcmVkaXRDYXJkLmZvcm07XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB7IHBheW1lbnRTZXR0aW5nczogeyBiaWdwYXlCYXNlVXJsOiBob3N0ID0gJycgfSA9IHt9IH0gPVxuICAgICAgICAgICAgc3RhdGUuZ2V0U3RvcmVDb25maWdPclRocm93KCk7XG5cbiAgICAgICAgaWYgKCFmb3JtT3B0aW9ucykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmb3JtID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5jcmVhdGVIb3N0ZWRGb3JtKGhvc3QsIGZvcm1PcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gZm9ybS5hdHRhY2goKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3Nob3VsZFJlbmRlckhvc3RlZEZvcm0gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5faG9zdGVkRm9ybSA9IGZvcm07XG5cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5faG9zdGVkRm9ybSkge1xuICAgICAgICAgICAgdGhpcy5faG9zdGVkRm9ybS5kZXRhY2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBmaW5hbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IoKSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIF9leGVjdXRlV2l0aG91dEhvc3RlZEZvcm0oXG4gICAgICAgIHBheWxvYWQ6IE9yZGVyUmVxdWVzdEJvZHksXG4gICAgICAgIG9wdGlvbnM/OiBQYXltZW50UmVxdWVzdE9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudCwgLi4ub3JkZXIgfSA9IHBheWxvYWQ7XG4gICAgICAgIGNvbnN0IHBheW1lbnREYXRhID0gcGF5bWVudCAmJiBwYXltZW50LnBheW1lbnREYXRhO1xuXG4gICAgICAgIGlmICghcGF5bWVudCB8fCAhcGF5bWVudERhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IoWydwYXltZW50LnBheW1lbnREYXRhJ10pO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihvcmRlciwgb3B0aW9ucyk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHsgLi4ucGF5bWVudCwgcGF5bWVudERhdGEgfSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIF9leGVjdXRlV2l0aEhvc3RlZEZvcm0oXG4gICAgICAgIHBheWxvYWQ6IE9yZGVyUmVxdWVzdEJvZHksXG4gICAgICAgIG9wdGlvbnM/OiBQYXltZW50UmVxdWVzdE9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudCwgLi4ub3JkZXIgfSA9IHBheWxvYWQ7XG4gICAgICAgIGNvbnN0IGZvcm0gPSB0aGlzLl9ob3N0ZWRGb3JtO1xuXG4gICAgICAgIGlmICghZm9ybSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcGF5bWVudCB8fCAhcGF5bWVudC5tZXRob2RJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQubWV0aG9kSWQnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKG9yZGVyLCBvcHRpb25zKTtcblxuICAgICAgICBhd2FpdCBmb3JtLnZhbGlkYXRlKCkudGhlbigoKSA9PiBmb3JtLnN1Ym1pdChwYXltZW50KSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9pc0hvc3RlZFBheW1lbnRGb3JtRW5hYmxlZChtZXRob2RJZD86IHN0cmluZywgZ2F0ZXdheUlkPzogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghbWV0aG9kSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQsIGdhdGV3YXlJZCk7XG5cbiAgICAgICAgcmV0dXJuIHBheW1lbnRNZXRob2QuY29uZmlnLmlzSG9zdGVkRm9ybUVuYWJsZWQgPT09IHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfaXNIb3N0ZWRGaWVsZEF2YWlsYWJsZShcbiAgICAgICAgb3B0aW9ucz86IFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhDcmVkaXRDYXJkUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gIXZhbHVlcyhvcHRpb25zICYmIG9wdGlvbnMuY3JlZGl0Q2FyZCAmJiBvcHRpb25zLmNyZWRpdENhcmQuZm9ybS5maWVsZHMpLmV2ZXJ5KFxuICAgICAgICAgICAgaXNOaWwsXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ2FyZGluYWxUaHJlZURTZWN1cmVGbG93IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9jYXJkaW5hbC1pbnRlZ3JhdGlvbic7XG5pbXBvcnQgeyBDcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9jcmVkaXQtY2FyZC1pbnRlZ3JhdGlvbic7XG5pbXBvcnQge1xuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudFJlcXVlc3RPcHRpb25zLFxuICAgIFBheW1lbnRTdGF0dXNUeXBlcyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheXBhbFByb1BheW1lbnRTdHJhdGVneSBleHRlbmRzIENyZWRpdENhcmRQYXltZW50U3RyYXRlZ3kge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSB0aHJlZURTZWN1cmVGbG93OiBDYXJkaW5hbFRocmVlRFNlY3VyZUZsb3csXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpO1xuICAgIH1cblxuICAgIGFzeW5jIGluaXRpYWxpemUob3B0aW9uczogUGF5bWVudEluaXRpYWxpemVPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHN1cGVyLmluaXRpYWxpemUob3B0aW9ucyk7XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG9wdGlvbnMubWV0aG9kSWQpO1xuXG4gICAgICAgIGlmIChwYXltZW50TWV0aG9kLmNvbmZpZy5pczNkc0VuYWJsZWQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudGhyZWVEU2VjdXJlRmxvdy5wcmVwYXJlKHBheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZXhlY3V0ZShwYXlsb2FkOiBPcmRlclJlcXVlc3RCb2R5LCBvcHRpb25zPzogUGF5bWVudFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudDogeyBtZXRob2RJZCA9ICcnIH0gPSB7fSB9ID0gcGF5bG9hZDtcblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuXG4gICAgICAgIGlmIChzdGF0ZS5nZXRQYXltZW50U3RhdHVzKCkgPT09IFBheW1lbnRTdGF0dXNUeXBlcy5BQ0tOT1dMRURHRSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgcGF5bWVudDogeyBtZXRob2RJZCB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCkuY29uZmlnLmlzM2RzRW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGhyZWVEU2VjdXJlRmxvdy5zdGFydChcbiAgICAgICAgICAgICAgICBzdXBlci5leGVjdXRlLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICAgIHRoaXMuX2hvc3RlZEZvcm0sXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmV4ZWN1dGUocGF5bG9hZCwgb3B0aW9ucyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIENhcmRpbmFsQ2xpZW50LFxuICAgIENhcmRpbmFsU2NyaXB0TG9hZGVyLFxuICAgIENhcmRpbmFsVGhyZWVEU2VjdXJlRmxvdyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9jYXJkaW5hbC1pbnRlZ3JhdGlvbic7XG5pbXBvcnQge1xuICAgIENoZWNrb3V0QnV0dG9uU3RyYXRlZ3lGYWN0b3J5LFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBQYXlwYWxQcm9QYXltZW50U3RyYXRlZ3kgZnJvbSAnLi9wYXlwYWwtcHJvLXBheW1lbnQtc3RyYXRlZ3knO1xuXG5jb25zdCBjcmVhdGVQYXlQYWxQcm9QYXltZW50U3RyYXRlZ3k6IENoZWNrb3V0QnV0dG9uU3RyYXRlZ3lGYWN0b3J5PFBheXBhbFByb1BheW1lbnRTdHJhdGVneT4gPSAoXG4gICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbikgPT5cbiAgICBuZXcgUGF5cGFsUHJvUGF5bWVudFN0cmF0ZWd5KFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBuZXcgQ2FyZGluYWxUaHJlZURTZWN1cmVGbG93KFxuICAgICAgICAgICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgICAgIG5ldyBDYXJkaW5hbENsaWVudChuZXcgQ2FyZGluYWxTY3JpcHRMb2FkZXIoZ2V0U2NyaXB0TG9hZGVyKCkpKSxcbiAgICAgICAgKSxcbiAgICApO1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlUGF5UGFsUHJvUGF5bWVudFN0cmF0ZWd5LCBbeyBpZDogJ3BheXBhbCcgfV0pO1xuIiwiaW1wb3J0IFJlc29sdmFibGVNb2R1bGUgZnJvbSAnLi9yZXNvbHZhYmxlLW1vZHVsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvUmVzb2x2YWJsZU1vZHVsZTxUTW9kdWxlLCBUSWRlbnRpZmllcj4oXG4gICAgbW9kdWxlOiBUTW9kdWxlLFxuICAgIHJlc29sdmVJZHM6IFRJZGVudGlmaWVyW10sXG4pOiBSZXNvbHZhYmxlTW9kdWxlPFRNb2R1bGUsIFRJZGVudGlmaWVyPiB7XG4gICAgY29uc29sZS5sb2coJ3Jlc29sdmVJZHMnLCByZXNvbHZlSWRzKTtcblxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG1vZHVsZSwgeyByZXNvbHZlSWRzIH0pO1xufVxuIl0sIm5hbWVzIjpbIk1pc3NpbmdEYXRhRXJyb3JUeXBlIiwiTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUiLCJDYXJkaW5hbFRocmVlRFNlY3VyZUZsb3ciLCJjb25zdHJ1Y3RvciIsIl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlIiwiX2NhcmRpbmFsQ2xpZW50IiwicHJlcGFyZSIsIm1ldGhvZCIsInRoaXMiLCJsb2FkIiwiaWQiLCJjb25maWciLCJ0ZXN0TW9kZSIsImNvbmZpZ3VyZSIsIl9nZXRDbGllbnRUb2tlbiIsInN0YXJ0IiwiZXhlY3V0ZSIsInBheWxvYWQiLCJvcHRpb25zIiwiaG9zdGVkRm9ybSIsImdldENhcmRJbnN0cnVtZW50IiwiZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3ciLCJnZXRTdGF0ZSIsInBheW1lbnQiLCJtZXRob2RJZCIsInBheW1lbnREYXRhIiwiaW5zdHJ1bWVudCIsIkJvb2xlYW4iLCJpbnN0cnVtZW50SWQiLCJpc1ZhdWx0ZWRJbnN0cnVtZW50IiwiYmluIiwiaWluIiwiZ2V0QmluIiwicnVuQmluUHJvY2VzcyIsIm1lcmdlIiwidGhyZWVEU2VjdXJlIiwidG9rZW4iLCJjbGllbnRUb2tlbiIsImVycm9yIiwic29tZSIsImJvZHkiLCJlcnJvcnMiLCJjb2RlIiwiZ2V0VGhyZWVEU2VjdXJlRGF0YSIsInRocmVlX2RzX3Jlc3VsdCIsIl9nZXRPcmRlckRhdGEiLCJzdWJtaXRQYXltZW50Iiwic3VibWl0IiwibG9hZFBheW1lbnRNZXRob2QiLCJzdGF0ZSIsImJpbGxpbmdBZGRyZXNzIiwiZ2V0QmlsbGluZ0FkZHJlc3NPclRocm93Iiwic2hpcHBpbmdBZGRyZXNzIiwiZ2V0U2hpcHBpbmdBZGRyZXNzIiwiY2hlY2tvdXQiLCJnZXRDaGVja291dE9yVGhyb3ciLCJvcmRlciIsImdldE9yZGVyT3JUaHJvdyIsImN1cnJlbmN5Q29kZSIsImNhcnQiLCJjdXJyZW5jeSIsIm9yZGVySWQiLCJ0b1N0cmluZyIsImFtb3VudCIsImNhcnRBbW91bnQiLCJTdGFuZGFyZEVycm9yIiwiRXJyb3IiLCJtZXNzYWdlIiwicHJvdG90eXBlIiwic3VwZXIiLCJuYW1lIiwidHlwZSIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJzdGFjayIsIk1pc3NpbmdEYXRhRXJyb3IiLCJzdWJ0eXBlIiwiTWlzc2luZ0JpbGxpbmdBZGRyZXNzIiwiTWlzc2luZ0NhcnQiLCJNaXNzaW5nQ29uc2lnbm1lbnRzIiwiTWlzc2luZ0NoZWNrb3V0IiwiTWlzc2luZ0N1c3RvbWVyIiwiTWlzc2luZ0NoZWNrb3V0Q29uZmlnIiwiTWlzc2luZ09yZGVyQ29uZmlnIiwiTWlzc2luZ09yZGVyIiwiTWlzc2luZ09yZGVySWQiLCJNaXNzaW5nUGF5bWVudCIsIk1pc3NpbmdQYXltZW50VG9rZW4iLCJNaXNzaW5nUGF5bWVudE1ldGhvZCIsIk1pc3NpbmdTaGlwcGluZ0FkZHJlc3MiLCJnZXRFcnJvck1lc3NhZ2UiLCJQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IiLCJOb3RJbml0aWFsaXplZEVycm9yIiwiQ3VzdG9tZXJOb3RJbml0aWFsaXplZCIsIlBheW1lbnROb3RJbml0aWFsaXplZCIsIlNoaXBwaW5nTm90SW5pdGlhbGl6ZWQiLCJTcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkIiwiQ2FyZGluYWxTaWduYXR1cmVWYWxpZGF0aW9uRXJyb3JzIiwiQ2FyZGluYWxFdmVudFR5cGUiLCJDYXJkaW5hbEluaXRpYWxpemF0aW9uVHlwZSIsIkNhcmRpbmFsVmFsaWRhdGVkQWN0aW9uIiwiQ2FyZGluYWxQYXltZW50VHlwZSIsIkNhcmRpbmFsVHJpZ2dlckV2ZW50cyIsIkNhcmRpbmFsUGF5bWVudEJyYW5kIiwiQ2FyZGluYWxTaWduYXR1cmVWZXJpZmljYXRpb24iLCJDYXJkaW5hbENsaWVudCIsIl9zY3JpcHRMb2FkZXIiLCJfcHJvdmlkZXIiLCJfdGVzdE1vZGUiLCJfY29uZmlndXJhdGlvblRva2VuIiwicHJvdmlkZXIiLCJfc2RrIiwidGhlbiIsIm5vb3AiLCJQcm9taXNlIiwicmVzb2x2ZSIsIkRhdGUiLCJub3ciLCJfZ2V0Q2xpZW50U0RLIiwiY2xpZW50IiwicmVqZWN0Iiwib24iLCJTZXR1cENvbXBsZXRlZCIsIm9mZiIsIlZhbGlkYXRlZCIsImRhdGEiLCJBY3Rpb25Db2RlIiwiaW5jbHVkZXMiLCJFcnJvck51bWJlciIsIkVycm9yRGVzY3JpcHRpb24iLCJzZXR1cCIsIkluaXQiLCJqd3QiLCJiaW5OdW1iZXIiLCJ0cmlnZ2VyIiwiQmluUHJvY2VzcyIsImNhdGNoIiwicmVzdWx0IiwiU3RhdHVzIiwidGhyZWVEU2VjdXJlRGF0YSIsIm9yZGVyRGF0YSIsIlN1Y2Nlc3MiLCJOb0FjdGlvbiIsIlBheW1lbnQiLCJFeHRlbmRlZERhdGEiLCJTaWduYXR1cmVWZXJpZmljYXRpb24iLCJZZXMiLCJGYWlsdXJlIiwiY29udGludWVPYmplY3QiLCJBY3NVcmwiLCJhY3NfdXJsIiwiUGF5bG9hZCIsIm1lcmNoYW50X2RhdGEiLCJwYXJ0aWFsT3JkZXIiLCJfbWFwVG9QYXJ0aWFsT3JkZXIiLCJwYXllcl9hdXRoX3JlcXVlc3QiLCJjb250aW51ZSIsIkNDQSIsInRyYW5zYWN0aW9uSWQiLCJjb25zdW1lciIsIkJpbGxpbmdBZGRyZXNzIiwiX21hcFRvQ2FyZGluYWxBZGRyZXNzIiwiQWNjb3VudCIsIl9tYXBUb0NhcmRpbmFsQWNjb3VudCIsImVtYWlsIiwiRW1haWwxIiwiU2hpcHBpbmdBZGRyZXNzIiwiQ29uc3VtZXIiLCJPcmRlckRldGFpbHMiLCJPcmRlck51bWJlciIsIkFtb3VudCIsIkN1cnJlbmN5Q29kZSIsIk9yZGVyQ2hhbm5lbCIsIlRyYW5zYWN0aW9uSWQiLCJBY2NvdW50TnVtYmVyIiwiTnVtYmVyIiwiY2NOdW1iZXIiLCJFeHBpcmF0aW9uTW9udGgiLCJjY0V4cGlyeSIsIm1vbnRoIiwiRXhwaXJhdGlvblllYXIiLCJ5ZWFyIiwiTmFtZU9uQWNjb3VudCIsImNjTmFtZSIsIkNhcmRDb2RlIiwiY2NDdnYiLCJhZGRyZXNzIiwiY2FyZGluYWxBZGRyZXNzIiwiRmlyc3ROYW1lIiwiZmlyc3ROYW1lIiwiTGFzdE5hbWUiLCJsYXN0TmFtZSIsIkFkZHJlc3MxIiwiYWRkcmVzczEiLCJDaXR5IiwiY2l0eSIsIlN0YXRlIiwic3RhdGVPclByb3ZpbmNlIiwiUG9zdGFsQ29kZSIsInBvc3RhbENvZGUiLCJDb3VudHJ5Q29kZSIsImNvdW50cnlDb2RlIiwiYWRkcmVzczIiLCJBZGRyZXNzMiIsInBob25lIiwiUGhvbmUxIiwiUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IiLCJDYXJkaW5hbFNjcmlwdExvYWRlciIsIl93aW5kb3ciLCJ3aW5kb3ciLCJ1cmwiLCJsb2FkU2NyaXB0IiwiQ2FyZGluYWwiLCJJbnZhbGlkQXJndW1lbnRFcnJvciIsIk9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvciIsIlBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvciIsImludmFsaWRGaWVsZHMiLCJqb2luIiwiUGF5bWVudFN0YXR1c1R5cGVzIiwiQ3JlZGl0Q2FyZFBheW1lbnRTdHJhdGVneSIsIl9pc0hvc3RlZFBheW1lbnRGb3JtRW5hYmxlZCIsImdhdGV3YXlJZCIsIl9zaG91bGRSZW5kZXJIb3N0ZWRGb3JtIiwiX2V4ZWN1dGVXaXRoSG9zdGVkRm9ybSIsIl9leGVjdXRlV2l0aG91dEhvc3RlZEZvcm0iLCJpbml0aWFsaXplIiwiX2lzSG9zdGVkRmllbGRBdmFpbGFibGUiLCJmb3JtT3B0aW9ucyIsImNyZWRpdENhcmQiLCJmb3JtIiwicGF5bWVudFNldHRpbmdzIiwiYmlncGF5QmFzZVVybCIsImhvc3QiLCJnZXRTdG9yZUNvbmZpZ09yVGhyb3ciLCJjcmVhdGVIb3N0ZWRGb3JtIiwiYXR0YWNoIiwiX2hvc3RlZEZvcm0iLCJkZWluaXRpYWxpemUiLCJkZXRhY2giLCJmaW5hbGl6ZSIsInN1Ym1pdE9yZGVyIiwidmFsaWRhdGUiLCJpc0hvc3RlZEZvcm1FbmFibGVkIiwidmFsdWVzIiwiZmllbGRzIiwiZXZlcnkiLCJpc05pbCIsIlBheXBhbFByb1BheW1lbnRTdHJhdGVneSIsInBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UiLCJ0aHJlZURTZWN1cmVGbG93IiwicGF5bWVudE1ldGhvZCIsImlzM2RzRW5hYmxlZCIsImdldFBheW1lbnRTdGF0dXMiLCJBQ0tOT1dMRURHRSIsImJpbmQiLCJtb2R1bGUiLCJnZXRTY3JpcHRMb2FkZXIiLCJyZXNvbHZlSWRzIiwiY29uc29sZSIsImxvZyIsImFzc2lnbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/paypal-pro.js\n\n}");

/***/ }),

/***/ "../checkout-sdk-js/dist/esm/integrations/sezzle.js":
/*!**********************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/sezzle.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSezzlePaymentStrategy: () => (/* binding */ s)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/form-poster */ \"../checkout-sdk-js/node_modules/@bigcommerce/form-poster/lib/index.js\");\nclass t extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class r extends t{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}class n extends r{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}class o extends t{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}class i{constructor(e,t){this._formPoster=e,this._paymentIntegrationService=t}execute(e,t){return r=this,o=void 0,a=function*(){const{payment:r}=e,o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,[\"payment\"]),i=r&&r.paymentData;if(!r||!i)throw new n([\"payment.paymentData\"]);yield this._paymentIntegrationService.submitOrder(o,t);try{yield this._paymentIntegrationService.submitPayment(Object.assign(Object.assign({},r),{paymentData:i}))}catch(e){if(!(e=>\"object\"==typeof e&&null!==e&&\"body\"in e)(e)||\"object\"!=typeof(a=e.body)||null===a||!(\"additional_action_required\"in a)||!this._isAdditionalActionRequired(e.body))return Promise.reject(e);const{body:{additional_action_required:{data:{redirect_url:t}}}}=e;return new Promise(()=>{this.redirectUrl(t)})}var a},new((i=void 0)||(i=Promise))(function(e,t){function n(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i(function(e){e(r)})).then(n,s)}c((a=a.apply(r,o||[])).next())});// removed by dead control flow\n var r, o, i, a; }finalize(){return Promise.reject(new o)}initialize(){return Promise.resolve()}deinitialize(){return Promise.resolve()}redirectUrl(e){return this._formPoster.postForm(e,{})}_isAdditionalActionRequired(e){const{additional_action_required:t,status:r}=e;return\"additional_action_required\"===r&&t&&\"offsite_redirect\"===t.type}}class a extends i{redirectUrl(e){window.location.replace(e)}}const s=(c=t=>new a((0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)(),t),d=[{id:\"sezzle\"}],console.log(\"resolveIds\",d),Object.assign(c,{resolveIds:d}));var c,d;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9zZXp6bGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFPZSxNQUFlQSxVQUFzQkMsTUFJaEQsV0FBQUMsQ0FBWUMsR0NYRCxJQUFxQ0MsRURZNUNDLE1BQU1GLEdBQVcscUNBSnJCLEtBQUFHLEtBQU8sZ0JBQ1AsS0FBQUMsS0FBTyxXQ1R5Q0gsYURjWkEsVUNiaENJLE9BQU9DLGVBQ1BELE9BQU9DLGVEWVFDLEtDWmVOLEdEWWZNLEtDVlJDLFVBQVlQLEVEWW9CLG1CQUE1QkgsTUFBTVcsa0JBQ2JYLE1BQU1XLGtCQUFrQkYsaUJBRXhCQSxLQUFLRyxNQUFRLElBQUlaLE1BQU1TLEtBQUtQLFNBQVNVLEtBRTdDLEVFZFcsTUFBTUMsVUFBNkJkLEVBQzlDLFdBQUFFLENBQVlDLEdBQ1JFLE1BQU1GLEdBQVcseUNBRWpCTyxLQUFLSixLQUFPLHVCQUNaSSxLQUFLSCxLQUFPLGtCQUNoQixFQ05XLE1BQU1RLFVBQW9DRCxFQUNyRCxXQUFBWixDQUFZYyxHQUNSLElBQUliLEVBQVUseUVBRVZhLElBQ0FiLEVBQVUsR0FBR0EsNERBQWtFYSxFQUFjQyxLQUN6RixVQUlSWixNQUFNRixHQUVOTyxLQUFLSixLQUFPLDZCQUNoQixFQ2RXLE1BQU1ZLFVBQTBDbEIsRUFDM0QsV0FBQUUsR0FDSUcsTUFBTSxrRUFFTkssS0FBS0osS0FBTyxvQ0FDWkksS0FBS0gsS0FBTyxpQ0FDaEIsRUNFVyxNQUFNWSxFQUNqQixXQUFBakIsQ0FDWWtCLEVBQ0FDLEdBREEsS0FBQUQsWUFBQUEsRUFDQSxLQUFBQywyQkFBQUEsQ0FDVCxDQUVHLE9BQUFDLENBQVFDLEVBQTJCQyxHLHFDQUNyQyxNQUFNLFFBQUVDLEdBQXNCRixFQUFWRyxFLHlVQUFLLENBQUtILEVBQXhCLGFBQ0FJLEVBQWNGLEdBQVdBLEVBQVFFLFlBRXZDLElBQUtGLElBQVlFLEVBQ2IsTUFBTSxJQUFJWixFQUE0QixDQUFDLDhCQUdyQ0wsS0FBS1csMkJBQTJCTyxZQUFZRixFQUFPRixHQUV6RCxVQUNVZCxLQUFLVywyQkFBMkJRLGNBQWMsT0FBRCx3QkFBTUosR0FBTyxDQUFFRSxnQixDQUNwRSxNQUFPRyxHQUNMLElDOUJXLENBQUNBLEdBQ0ksaUJBQVZBLEdBQWdDLE9BQVZBLEdBQWtCLFNBQVVBLEVEOEJuRCxDQUFlQSxJRXZCSixpQkFEZUMsRUZ5QkNELEVBQU1FLE9FeEJBLE9BQVZELEtBQWtCLCtCQUFnQ0EsS0Z5QnpFckIsS0FBS3VCLDRCQUE0QkgsRUFBTUUsTUFFeEMsT0FBT0UsUUFBUUMsT0FBT0wsR0FHMUIsTUFDSUUsTUFDSUksNEJBQ0lDLE1BQU0sYUFBRUMsTUFHaEJSLEVBR0osT0FBTyxJQUFJSSxRQUFRLEtBQ2Z4QixLQUFLNkIsWUFBWUQsSSxDRXpDMUIsSUFBb0NQLENGNkN2QyxFO2tCQUVBLFFBQUFTLEdBQ0ksT0FBT04sUUFBUUMsT0FBTyxJQUFJakIsRUFDOUIsQ0FFQSxVQUFBdUIsR0FDSSxPQUFPUCxRQUFRUSxTQUNuQixDQUVBLFlBQUFDLEdBQ0ksT0FBT1QsUUFBUVEsU0FDbkIsQ0FFVSxXQUFBSCxDQUFZRCxHQUNsQixPQUFPNUIsS0FBS1UsWUFBWXdCLFNBQVNOLEVBQWMsQ0FBQyxFQUNwRCxDQUVRLDJCQUFBTCxDQUE0QkQsR0FDaEMsTUFBTSwyQkFBRUksRUFBMEIsT0FBRVMsR0FBV2IsRUFFL0MsTUFDZSwrQkFBWGEsR0FDQVQsR0FDb0MscUJBQXBDQSxFQUEyQjdCLElBRW5DLEVHL0VXLE1BQU11QyxVQUE4QjNCLEVBQ3JDLFdBQUFvQixDQUFZUSxHQUNsQkMsT0FBT0MsU0FBU0MsUUFBUUgsRUFDNUIsRUNJSixNQUlBLEdDVklJLEVET0FDLEdBQ0MsSUFBSU4sRUFBc0JPLDBFQUFBQSxHQUFvQkQsR0NQL0NFLEVEUzJELENBQUMsQ0FBRUMsR0FBSSxXQ1BsRUMsUUFBUUMsSUFBSSxhQUFjSCxHQUVuQjlDLE9BQU9rRCxPQUFPUCxFQUFRLENBQUVHLGdCQU5wQixJQUNYSCxFQUNBRyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvc3RhbmRhcmQtZXJyb3IudHM/OGEwMyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9zZXQtcHJvdG90eXBlLW9mLnRzPzg0NWEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvaW52YWxpZC1hcmd1bWVudC1lcnJvci50cz8zOTIxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3BheW1lbnQtYXJndW1lbnQtaW52YWxpZC1lcnJvci50cz9hNTAxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL29yZGVyLWZpbmFsaXphdGlvbi1ub3QtcmVxdWlyZWQtZXJyb3IudHM/YjVhMSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvZXh0ZXJuYWwtaW50ZWdyYXRpb24vc3JjL2V4dGVybmFsLXBheW1lbnQtc3RyYXRlZ3kudHM/MWI5MSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9pcy1yZXF1ZXN0LWVycm9yLnRzP2I0M2QiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2V4dGVybmFsLWludGVncmF0aW9uL3NyYy9pcy1hZGRpdGlvbmFsLWFjdGlvbi50cz9mZWE0Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zZXp6bGUtaW50ZWdyYXRpb24vc3JjL3NlenpsZS1wYXltZW50LXN0cmF0ZWd5LnRzPzA4NDQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3NlenpsZS1pbnRlZ3JhdGlvbi9zcmMvY3JlYXRlLXNlenpsZS1wYXltZW50LXN0cmF0ZWd5LnRzP2QxYTUiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy90by1yZXNvbHZhYmxlLW1vZHVsZS50cz9kNTIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDdXN0b21FcnJvciBmcm9tICcuL2N1c3RvbS1lcnJvcic7XG5pbXBvcnQgc2V0UHJvdG90eXBlT2YgZnJvbSAnLi9zZXQtcHJvdG90eXBlLW9mJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHR5cGUgc2hvdWxkIG5vdCBiZSBjb25zdHJ1Y3RlZCBkaXJlY3RseS4gSXQgaXMgYSBiYXNlIGNsYXNzIGZvclxuICogYWxsIGN1c3RvbSBlcnJvcnMgdGhyb3duIGluIHRoaXMgbGlicmFyeS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgU3RhbmRhcmRFcnJvciBleHRlbmRzIEVycm9yIGltcGxlbWVudHMgQ3VzdG9tRXJyb3Ige1xuICAgIG5hbWUgPSAnU3RhbmRhcmRFcnJvcic7XG4gICAgdHlwZSA9ICdzdGFuZGFyZCc7XG5cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ0FuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkLicpO1xuXG4gICAgICAgIHNldFByb3RvdHlwZU9mKHRoaXMsIG5ldy50YXJnZXQucHJvdG90eXBlKTtcblxuICAgICAgICBpZiAodHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBuZXcudGFyZ2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhY2sgPSBuZXcgRXJyb3IodGhpcy5tZXNzYWdlKS5zdGFjaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKG9iamVjdDogYW55LCBwcm90b3R5cGU6IG9iamVjdCkge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKG9iamVjdCwgcHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3QuX19wcm90b19fID0gcHJvdG90eXBlO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3Q7XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiBhIG1ldGhvZCBpcyB1bmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZVxuICogY2FsbGVyIGhhcyBub3QgcHJvdmlkZWQgYWxsIHRoZSBhcmd1bWVudHMgYWNjb3JkaW5nIHRvIHRoZWlyIHJlcXVpcmVtZW50cyxcbiAqIGkuZS46IGlmIGFuIGFyZ3VtZW50IGlzIG1pc3Npbmcgb3IgaXQgaXMgbm90IHRoZSBleHBlY3RlZCBkYXRhIHR5cGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludmFsaWRBcmd1bWVudEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdJbnZhbGlkIGFyZ3VtZW50cyBoYXZlIGJlZW4gcHJvdmlkZWQuJyk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ0ludmFsaWRBcmd1bWVudEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ2ludmFsaWRfYXJndW1lbnQnO1xuICAgIH1cbn1cbiIsImltcG9ydCBJbnZhbGlkQXJndW1lbnRFcnJvciBmcm9tICcuL2ludmFsaWQtYXJndW1lbnQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIHdlIGFyZSB1bmFibGUgdG8gc3VibWl0IGEgcGF5bWVudCBiZWNhdXNlXG4gKiB0aGUgY2FsbGVyIGhhcyBub3QgcHJvdmlkZWQgYWxsIHRoZSByZXF1aXJlZCBmaWVsZHMsIGkuZS46IGlmIGFuIGFyZ3VtZW50IGlzXG4gKiBtaXNzaW5nIG9yIGl0IGlzIG5vdCB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IgZXh0ZW5kcyBJbnZhbGlkQXJndW1lbnRFcnJvciB7XG4gICAgY29uc3RydWN0b3IoaW52YWxpZEZpZWxkcz86IHN0cmluZ1tdKSB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gJ1VuYWJsZSB0byBzdWJtaXQgcGF5bWVudCBmb3IgdGhlIG9yZGVyIGJlY2F1c2UgdGhlIHBheWxvYWQgaXMgaW52YWxpZC4nO1xuXG4gICAgICAgIGlmIChpbnZhbGlkRmllbGRzKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gYCR7bWVzc2FnZX0gTWFrZSBzdXJlIHRoZSBmb2xsb3dpbmcgZmllbGRzIGFyZSBwcm92aWRlZCBjb3JyZWN0bHk6ICR7aW52YWxpZEZpZWxkcy5qb2luKFxuICAgICAgICAgICAgICAgICcsICcsXG4gICAgICAgICAgICApfS5gO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ1BheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcic7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciBpZiB3ZSBhcmUgdHJ5aW5nIHRvIG1ha2UgYW4gb3JkZXIgZmluYWxpemF0aW9uIHJlcXVlc3QgZm9yIGFcbiAqIHBheW1lbnQgbWV0aG9kIHRoYXQgZG9lcyBub3QgcmVxdWlyZSBzdWNoIHByb2NlZHVyZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdUaGUgY3VycmVudCBvcmRlciBkb2VzIG5vdCBuZWVkIHRvIGJlIGZpbmFsaXplZCBhdCB0aGlzIHN0YWdlLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnb3JkZXJfZmluYWxpemF0aW9uX25vdF9yZXF1aXJlZCc7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRm9ybVBvc3RlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9mb3JtLXBvc3Rlcic7XG5cbmltcG9ydCB7XG4gICAgaXNSZXF1ZXN0RXJyb3IsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudFJlcXVlc3RPcHRpb25zLFxuICAgIFBheW1lbnRTdHJhdGVneSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IEFkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZCwgaXNBZGRpdGlvbmFsQWN0aW9uUmVxdWlyZWQgfSBmcm9tICcuL2lzLWFkZGl0aW9uYWwtYWN0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXh0ZXJuYWxQYXltZW50U3RyYXRlZ3kgaW1wbGVtZW50cyBQYXltZW50U3RyYXRlZ3kge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIF9mb3JtUG9zdGVyOiBGb3JtUG9zdGVyLFxuICAgICAgICBwcml2YXRlIF9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICkge31cblxuICAgIGFzeW5jIGV4ZWN1dGUocGF5bG9hZDogT3JkZXJSZXF1ZXN0Qm9keSwgb3B0aW9ucz86IFBheW1lbnRSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IHBheW1lbnQsIC4uLm9yZGVyIH0gPSBwYXlsb2FkO1xuICAgICAgICBjb25zdCBwYXltZW50RGF0YSA9IHBheW1lbnQgJiYgcGF5bWVudC5wYXltZW50RGF0YTtcblxuICAgICAgICBpZiAoIXBheW1lbnQgfHwgIXBheW1lbnREYXRhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yKFsncGF5bWVudC5wYXltZW50RGF0YSddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIob3JkZXIsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQoeyAuLi5wYXltZW50LCBwYXltZW50RGF0YSB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhaXNSZXF1ZXN0RXJyb3IoZXJyb3IpIHx8XG4gICAgICAgICAgICAgICAgIWlzQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkKGVycm9yLmJvZHkpIHx8XG4gICAgICAgICAgICAgICAgIXRoaXMuX2lzQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkKGVycm9yLmJvZHkpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyByZWRpcmVjdF91cmwgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSA9IGVycm9yO1xuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2NvbnNpc3RlbnQtdHlwZS1hc3NlcnRpb25zXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVkaXJlY3RVcmwocmVkaXJlY3RfdXJsKTtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgfSkgYXMgYW55O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmluYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yKCkpO1xuICAgIH1cblxuICAgIGluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgcmVkaXJlY3RVcmwocmVkaXJlY3RfdXJsOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zvcm1Qb3N0ZXIucG9zdEZvcm0ocmVkaXJlY3RfdXJsLCB7fSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfaXNBZGRpdGlvbmFsQWN0aW9uUmVxdWlyZWQoYm9keTogQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHsgYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQsIHN0YXR1cyB9ID0gYm9keTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgc3RhdHVzID09PSAnYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQnICYmXG4gICAgICAgICAgICBhZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZCAmJlxuICAgICAgICAgICAgYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQudHlwZSA9PT0gJ29mZnNpdGVfcmVkaXJlY3QnXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFJlcXVlc3RFcnJvciBmcm9tICcuL3JlcXVlc3QtZXJyb3InO1xuXG4vLyBIYXZlIHRvIHVzZSBgYXNgIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzczOTg3MDQ0L3R5cGVndWFyZGluZy1hbi11bmtub3duLW5lc3RlZC1vYmplY3Qgc2hvdWxkIGJlIGZpeGVkIGluIDQuOCtcbmNvbnN0IGlzUmVxdWVzdEVycm9yID0gKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgUmVxdWVzdEVycm9yID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJiBlcnJvciAhPT0gbnVsbCAmJiAnYm9keScgaW4gZXJyb3I7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpc1JlcXVlc3RFcnJvcjtcbiIsImV4cG9ydCBpbnRlcmZhY2UgQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkIHtcbiAgICBhZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZDoge1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICByZWRpcmVjdF91cmw6IHN0cmluZztcbiAgICAgICAgfTtcbiAgICAgICAgdHlwZTogc3RyaW5nO1xuICAgIH07XG4gICAgc3RhdHVzOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0FkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZCh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIEFkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZCB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwgJiYgJ2FkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkJyBpbiB2YWx1ZTtcbn1cbiIsImltcG9ydCB7IEV4dGVybmFsUGF5bWVudFN0cmF0ZWd5IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9leHRlcm5hbC1pbnRlZ3JhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlenpsZVBheW1lbnRTdHJhdGVneSBleHRlbmRzIEV4dGVybmFsUGF5bWVudFN0cmF0ZWd5IHtcbiAgICBwcm90ZWN0ZWQgcmVkaXJlY3RVcmwodXJsOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UodXJsKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVGb3JtUG9zdGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2Zvcm0tcG9zdGVyJztcblxuaW1wb3J0IHtcbiAgICBQYXltZW50U3RyYXRlZ3lGYWN0b3J5LFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBTZXp6bGVQYXltZW50U3RyYXRlZ3kgZnJvbSAnLi9zZXp6bGUtcGF5bWVudC1zdHJhdGVneSc7XG5cbmNvbnN0IGNyZWF0ZVNlenpsZVBheW1lbnRTdHJhdGVneTogUGF5bWVudFN0cmF0ZWd5RmFjdG9yeTxTZXp6bGVQYXltZW50U3RyYXRlZ3k+ID0gKFxuICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4pID0+IG5ldyBTZXp6bGVQYXltZW50U3RyYXRlZ3koY3JlYXRlRm9ybVBvc3RlcigpLCBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZVNlenpsZVBheW1lbnRTdHJhdGVneSwgW3sgaWQ6ICdzZXp6bGUnIH1dKTtcbiIsImltcG9ydCBSZXNvbHZhYmxlTW9kdWxlIGZyb20gJy4vcmVzb2x2YWJsZS1tb2R1bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b1Jlc29sdmFibGVNb2R1bGU8VE1vZHVsZSwgVElkZW50aWZpZXI+KFxuICAgIG1vZHVsZTogVE1vZHVsZSxcbiAgICByZXNvbHZlSWRzOiBUSWRlbnRpZmllcltdLFxuKTogUmVzb2x2YWJsZU1vZHVsZTxUTW9kdWxlLCBUSWRlbnRpZmllcj4ge1xuICAgIGNvbnNvbGUubG9nKCdyZXNvbHZlSWRzJywgcmVzb2x2ZUlkcyk7XG5cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihtb2R1bGUsIHsgcmVzb2x2ZUlkcyB9KTtcbn1cbiJdLCJuYW1lcyI6WyJTdGFuZGFyZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJwcm90b3R5cGUiLCJzdXBlciIsIm5hbWUiLCJ0eXBlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJ0aGlzIiwiX19wcm90b19fIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJzdGFjayIsIkludmFsaWRBcmd1bWVudEVycm9yIiwiUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yIiwiaW52YWxpZEZpZWxkcyIsImpvaW4iLCJPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IiLCJFeHRlcm5hbFBheW1lbnRTdHJhdGVneSIsIl9mb3JtUG9zdGVyIiwiX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UiLCJleGVjdXRlIiwicGF5bG9hZCIsIm9wdGlvbnMiLCJwYXltZW50Iiwib3JkZXIiLCJwYXltZW50RGF0YSIsInN1Ym1pdE9yZGVyIiwic3VibWl0UGF5bWVudCIsImVycm9yIiwidmFsdWUiLCJib2R5IiwiX2lzQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkIiwiUHJvbWlzZSIsInJlamVjdCIsImFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkIiwiZGF0YSIsInJlZGlyZWN0X3VybCIsInJlZGlyZWN0VXJsIiwiZmluYWxpemUiLCJpbml0aWFsaXplIiwicmVzb2x2ZSIsImRlaW5pdGlhbGl6ZSIsInBvc3RGb3JtIiwic3RhdHVzIiwiU2V6emxlUGF5bWVudFN0cmF0ZWd5IiwidXJsIiwid2luZG93IiwibG9jYXRpb24iLCJyZXBsYWNlIiwibW9kdWxlIiwicGF5bWVudEludGVncmF0aW9uU2VydmljZSIsImNyZWF0ZUZvcm1Qb3N0ZXIiLCJyZXNvbHZlSWRzIiwiaWQiLCJjb25zb2xlIiwibG9nIiwiYXNzaWduIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/sezzle.js\n\n}");

/***/ }),

/***/ "../checkout-sdk-js/dist/esm/integrations/zip.js":
/*!*******************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/zip.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createZipPaymentStrategy: () => (/* binding */ g)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/request-sender */ \"../checkout-sdk-js/node_modules/@bigcommerce/request-sender/esm/index.js\");\nvar t;(function(e){e.Json=\"application/json\",e.JsonV1=\"application/vnd.bc.v1+json\"})(t||(t={}));const n=t,i={\"X-Checkout-SDK-Version\":\"1.820.0\"};var s;class r{constructor(e){this._requestSender=e}saveExternalId(e,t){return s=this,r=void 0,o=function*(){const s=`/api/storefront/payment/${e}/save-external-id`,r={headers:Object.assign({Accept:n.JsonV1,\"X-API-INTERNAL\":\"This API endpoint is for internal use only and may change in the future\"},i),body:{externalId:t,provider:e}};yield this._requestSender.post(s,r)},new((a=void 0)||(a=Promise))(function(e,t){function n(e){try{c(o.next(e))}catch(e){t(e)}}function i(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var s;t.done?e(t.value):(s=t.value,s instanceof a?s:new a(function(e){e(s)})).then(n,i)}c((o=o.apply(s,r||[])).next())});// removed by dead control flow\n var s, r, a, o; }}class a extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class o extends a{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}class c extends o{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}!function(e){e[e.MissingBillingAddress=0]=\"MissingBillingAddress\",e[e.MissingCart=1]=\"MissingCart\",e[e.MissingCheckout=2]=\"MissingCheckout\",e[e.MissingConsignments=3]=\"MissingConsignments\",e[e.MissingCustomer=4]=\"MissingCustomer\",e[e.MissingCheckoutConfig=5]=\"MissingCheckoutConfig\",e[e.MissingOrder=6]=\"MissingOrder\",e[e.MissingOrderConfig=7]=\"MissingOrderConfig\",e[e.MissingOrderId=8]=\"MissingOrderId\",e[e.MissingPayment=9]=\"MissingPayment\",e[e.MissingPaymentId=10]=\"MissingPaymentId\",e[e.MissingPaymentInstrument=11]=\"MissingPaymentInstrument\",e[e.MissingPaymentMethod=12]=\"MissingPaymentMethod\",e[e.MissingPaymentRedirectUrl=13]=\"MissingPaymentRedirectUrl\",e[e.MissingPaymentStatus=14]=\"MissingPaymentStatus\",e[e.MissingPaymentToken=15]=\"MissingPaymentToken\",e[e.MissingShippingAddress=16]=\"MissingShippingAddress\"}(s||(s={}));class d extends a{constructor(e){super(function(e){switch(e){case s.MissingBillingAddress:return\"Unable to proceed because billing address data is unavailable.\";case s.MissingCart:return\"Unable to proceed because cart data is unavailable.\";case s.MissingConsignments:return\"Unable to proceed because consignments data is unavailable.\";case s.MissingCheckout:return\"Unable to proceed because checkout data is unavailable.\";case s.MissingCustomer:return\"Unable to proceed because customer data is unavailable.\";case s.MissingCheckoutConfig:case s.MissingOrderConfig:return\"Unable to proceed because configuration data is unavailable.\";case s.MissingOrder:return\"Unable to proceed because order data is unavailable.\";case s.MissingOrderId:return\"Unable to proceed because order ID is unavailable or not generated yet.\";case s.MissingPayment:return\"Unable to proceed because payment data is unavailable.\";case s.MissingPaymentToken:return\"Unable to proceed because the token required to submit a payment is missing.\";case s.MissingPaymentMethod:return\"Unable to proceed because payment method data is unavailable or not properly configured.\";case s.MissingShippingAddress:return\"Unable to proceed because shipping address data is unavailable.\";default:return\"Unable to proceed because the required data is unavailable.\"}}(e)),this.subtype=e,this.name=\"MissingDataError\",this.type=\"missing_data\"}}class u extends a{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}class l{constructor(e,t){this.paymentIntegrationService=e,this.storefrontPaymentRequestSender=t}initialize(){return Promise.resolve()}execute(e,t){return n=this,i=void 0,a=function*(){const{payment:n}=e,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n}(e,[\"payment\"]);if(!n)throw new c([\"payment\"]);const{methodId:r}=n,{getPaymentMethodOrThrow:a}=yield this.paymentIntegrationService.loadPaymentMethod(r,t),{clientToken:o,initializationData:u}=a(r),l=null==u?void 0:u.redirectUrl;if(!o||!l)throw new d(s.MissingPaymentMethod);const{id:g}=JSON.parse(o);if(!g)throw new d(s.MissingPaymentToken);const{isStoreCreditApplied:p}=this.paymentIntegrationService.getState().getCheckoutOrThrow();yield this.paymentIntegrationService.applyStoreCredit(p),yield this.paymentIntegrationService.initializePayment(r,{useStoreCredit:p}),yield this.paymentIntegrationService.submitOrder(i,t),yield this._prepareForReferredRegistration(r,g);try{yield this.paymentIntegrationService.submitPayment({methodId:r,paymentData:{nonce:g}})}catch(e){if((e=>\"object\"==typeof e&&null!==e&&\"body\"in e)(e)&&\"additional_action_required\"===e.body.status)return new Promise(()=>window.location.replace(l));throw e}},new((r=void 0)||(r=Promise))(function(e,t){function s(e){try{c(a.next(e))}catch(e){t(e)}}function o(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r(function(e){e(n)})).then(s,o)}c((a=a.apply(n,i||[])).next())});// removed by dead control flow\n var n, i, r, a; }finalize(){return Promise.reject(new u)}deinitialize(){return Promise.resolve()}_prepareForReferredRegistration(e,t){return this.storefrontPaymentRequestSender.saveExternalId(e,t)}}const g=(p=t=>{const{getHost:n}=t.getState(),i=(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_0__.createRequestSender)({host:n()}),s=new r(i);return new l(t,s)},y=[{id:\"zip\"},{id:\"quadpay\"}],console.log(\"resolveIds\",y),Object.assign(p,{resolveIds:y}));var p,y;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy96aXAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSxJQ0RLQSxHQUFMLFNBQUtBLEdBQ0QsMEJBQ0EscUNBQ0gsRUFIRCxDQUFLQSxJQUFBQSxFQUFXLEtBS2hCLFVDTGFDLEVBQXNCLENBQUUseUJBQTBCLFcsSUNFbkRDLEVDRUcsTUFBTUMsRUFDakIsV0FBQUMsQ0FBb0JDLEdBQUEsS0FBQUEsZUFBQUEsQ0FBZ0MsQ0FFOUMsY0FBQUMsQ0FBZUMsRUFBa0JDLEcscUNBQ25DLE1BQU1DLEVBQU0sMkJBQTJCRixxQkFDakNHLEVBQVUsQ0FDWkMsUUFBUyxPQUFGLFFBQ0hDLE9BQVEsRUFBWUMsT0FDcEIsaUJDWFosMkVEWWVaLEdBRVBhLEtBQU0sQ0FDRkMsV0FBWVAsRUFDWlEsU0FBVVQsVUFJWlUsS0FBS1osZUFBZWEsS0FBV1QsRUFBS0MsRUFDOUMsRTttQkVmVyxNQUFlUyxVQUFzQkMsTUFJaEQsV0FBQWhCLENBQVlpQixHQ1hELElBQXFDQyxFRFk1Q0MsTUFBTUYsR0FBVyxxQ0FKckIsS0FBQUcsS0FBTyxnQkFDUCxLQUFBQyxLQUFPLFdDVHlDSCxhRGNaQSxVQ2JoQ0ksT0FBT0MsZUFDUEQsT0FBT0MsZURZUVYsS0NaZUssR0RZZkwsS0NWUlcsVUFBWU4sRURZb0IsbUJBQTVCRixNQUFNUyxrQkFDYlQsTUFBTVMsa0JBQWtCWixpQkFFeEJBLEtBQUthLE1BQVEsSUFBSVYsTUFBTUgsS0FBS0ksU0FBU1MsS0FFN0MsRUVkVyxNQUFNQyxVQUE2QlosRUFDOUMsV0FBQWYsQ0FBWWlCLEdBQ1JFLE1BQU1GLEdBQVcseUNBRWpCSixLQUFLTyxLQUFPLHVCQUNaUCxLQUFLUSxLQUFPLGtCQUNoQixFQ05XLE1BQU1PLFVBQW9DRCxFQUNyRCxXQUFBM0IsQ0FBWTZCLEdBQ1IsSUFBSVosRUFBVSx5RUFFVlksSUFDQVosRUFBVSxHQUFHQSw0REFBa0VZLEVBQWNDLEtBQ3pGLFVBSVJYLE1BQU1G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R0FDSSxPQUFPOUIsUUFBUStCLE9BQU8sSUFBSXBDLEVBQzlCLENBRUEsWUFBQXFDLEdBQ0ksT0FBT2hDLFFBQVFDLFNBQ25CLENBRVEsK0JBQUFxQixDQUFnQ3ZFLEVBQWtCUSxHQUN0RCxPQUFPRSxLQUFLcUMsK0JBQStCaEQsZUFBZUMsRUFBVVEsRUFDeEUsRUU3RUosTUFVQSxHQ2pCSTBFLEVEUUFwQyxJQUVBLE1BQU0sUUFBRXFDLEdBQVlyQyxFQUEwQm9CLFdBQ3hDa0IsRUFBZ0JDLGdGQUFBQSxDQUFvQixDQUFFQyxLQUFNSCxNQUM1Q3BDLEVBQWlDLElBQUluRCxFQUErQndGLEdBRTFFLE9BQU8sSUFBSXZDLEVBQW1CQyxFQUEyQkMsSUNiekR3QyxFRGdCd0QsQ0FBQyxDQUFFM0IsR0FBSSxPQUFTLENBQUVBLEdBQUksWUNkOUU0QixRQUFRQyxJQUFJLGFBQWNGLEdBRW5CcEUsT0FBT3VFLE9BQU9SLEVBQVEsQ0FBRUssZ0JBTnBCLElBQ1hMLEVBQ0FLLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3dlYnBhY2svYm9vdHN0cmFwP2ZmY2MiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9jb21tb24vaHR0cC1yZXF1ZXN0L2NvbnRlbnQtdHlwZS50cz81MDRkIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvY29tbW9uL2h0dHAtcmVxdWVzdC9zZGstdmVyc2lvbi1oZWFkZXJzLnRzPzdiZjAiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbWlzc2luZy1kYXRhLWVycm9yLnRzP2I3ZGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9wYXltZW50L3N0b3JlZnJvbnQtcGF5bWVudC1yZXF1ZXN0LXNlbmRlci50cz8zMmZhIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvY29tbW9uL2h0dHAtcmVxdWVzdC9pbnRlcm5hbC1hcGktaGVhZGVycy50cz80MTExIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3N0YW5kYXJkLWVycm9yLnRzPzhhMDMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvc2V0LXByb3RvdHlwZS1vZi50cz84NDVhIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL2ludmFsaWQtYXJndW1lbnQtZXJyb3IudHM/MzkyMSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LWFyZ3VtZW50LWludmFsaWQtZXJyb3IudHM/YTUwMSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9vcmRlci1maW5hbGl6YXRpb24tbm90LXJlcXVpcmVkLWVycm9yLnRzP2I1YTEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3ppcC1pbnRlZ3JhdGlvbi9zcmMvemlwLXBheW1lbnQtc3RyYXRlZ3kudHM/NDJhOSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9pcy1yZXF1ZXN0LWVycm9yLnRzP2I0M2QiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3ppcC1pbnRlZ3JhdGlvbi9zcmMvY3JlYXRlLXppcC1wYXltZW50LXN0cmF0ZWd5LnRzPzcyMjYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy90by1yZXNvbHZhYmxlLW1vZHVsZS50cz9kNTIwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJlbnVtIENvbnRlbnRUeXBlIHtcbiAgICBKc29uID0gJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIEpzb25WMSA9ICdhcHBsaWNhdGlvbi92bmQuYmMudjEranNvbicsXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRlbnRUeXBlO1xuIiwiZXhwb3J0IGNvbnN0IFNES19WRVJTSU9OX0hFQURFUlMgPSB7ICdYLUNoZWNrb3V0LVNESy1WZXJzaW9uJzogTElCUkFSWV9WRVJTSU9OIH07XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuZXhwb3J0IGVudW0gTWlzc2luZ0RhdGFFcnJvclR5cGUge1xuICAgIE1pc3NpbmdCaWxsaW5nQWRkcmVzcyxcbiAgICBNaXNzaW5nQ2FydCxcbiAgICBNaXNzaW5nQ2hlY2tvdXQsXG4gICAgTWlzc2luZ0NvbnNpZ25tZW50cyxcbiAgICBNaXNzaW5nQ3VzdG9tZXIsXG4gICAgTWlzc2luZ0NoZWNrb3V0Q29uZmlnLFxuICAgIE1pc3NpbmdPcmRlcixcbiAgICBNaXNzaW5nT3JkZXJDb25maWcsXG4gICAgTWlzc2luZ09yZGVySWQsXG4gICAgTWlzc2luZ1BheW1lbnQsXG4gICAgTWlzc2luZ1BheW1lbnRJZCxcbiAgICBNaXNzaW5nUGF5bWVudEluc3RydW1lbnQsXG4gICAgTWlzc2luZ1BheW1lbnRNZXRob2QsXG4gICAgTWlzc2luZ1BheW1lbnRSZWRpcmVjdFVybCxcbiAgICBNaXNzaW5nUGF5bWVudFN0YXR1cyxcbiAgICBNaXNzaW5nUGF5bWVudFRva2VuLFxuICAgIE1pc3NpbmdTaGlwcGluZ0FkZHJlc3MsXG59XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciB3aGVuIGRhdGEgdGhhdCBpcyBleHBlY3RlZCB0byBleGlzdCBpcyBtaXNzaW5nLiBVc3VhbGx5IGl0XG4gKiBpcyBkdWUgdG8gdGhlIGZhY3QgdGhhdCBjZXJ0YWluIGRhdGEgaGFzIG5vdCBiZWVuIHJldHJpZXZlZCBmcm9tIG9yIHNhdmVkIHRvXG4gKiB0aGUgc2VydmVyIHlldC4gQW5kIHN1Y2ggZGF0YSBpcyByZXF1aXJlZCB0byBwZXJmb3JtIGNlcnRhaW4gYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWlzc2luZ0RhdGFFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdWJ0eXBlOiBNaXNzaW5nRGF0YUVycm9yVHlwZSkge1xuICAgICAgICBzdXBlcihnZXRFcnJvck1lc3NhZ2Uoc3VidHlwZSkpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdNaXNzaW5nRGF0YUVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ21pc3NpbmdfZGF0YSc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UodHlwZTogTWlzc2luZ0RhdGFFcnJvclR5cGUpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdCaWxsaW5nQWRkcmVzczpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBiaWxsaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NhcnQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY2FydCBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ29uc2lnbm1lbnRzOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNvbnNpZ25tZW50cyBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ2hlY2tvdXQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY2hlY2tvdXQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0N1c3RvbWVyOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGN1c3RvbWVyIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDaGVja291dENvbmZpZzpcbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nT3JkZXJDb25maWc6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY29uZmlndXJhdGlvbiBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nT3JkZXI6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugb3JkZXIgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ09yZGVySWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugb3JkZXIgSUQgaXMgdW5hdmFpbGFibGUgb3Igbm90IGdlbmVyYXRlZCB5ZXQuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHBheW1lbnQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRUb2tlbjpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgdG9rZW4gcmVxdWlyZWQgdG8gc3VibWl0IGEgcGF5bWVudCBpcyBtaXNzaW5nLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBwYXltZW50IG1ldGhvZCBkYXRhIGlzIHVuYXZhaWxhYmxlIG9yIG5vdCBwcm9wZXJseSBjb25maWd1cmVkLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nU2hpcHBpbmdBZGRyZXNzOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHNoaXBwaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHJlcXVpcmVkIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZXF1ZXN0U2VuZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyJztcblxuaW1wb3J0IHsgQ29udGVudFR5cGUsIElOVEVSTkFMX1VTRV9PTkxZLCBTREtfVkVSU0lPTl9IRUFERVJTIH0gZnJvbSAnLi4vY29tbW9uL2h0dHAtcmVxdWVzdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0b3JlZnJvbnRQYXltZW50UmVxdWVzdFNlbmRlciB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfcmVxdWVzdFNlbmRlcjogUmVxdWVzdFNlbmRlcikge31cblxuICAgIGFzeW5jIHNhdmVFeHRlcm5hbElkKG1ldGhvZElkOiBzdHJpbmcsIHRva2VuOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgdXJsID0gYC9hcGkvc3RvcmVmcm9udC9wYXltZW50LyR7bWV0aG9kSWR9L3NhdmUtZXh0ZXJuYWwtaWRgO1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEFjY2VwdDogQ29udGVudFR5cGUuSnNvblYxLFxuICAgICAgICAgICAgICAgICdYLUFQSS1JTlRFUk5BTCc6IElOVEVSTkFMX1VTRV9PTkxZLFxuICAgICAgICAgICAgICAgIC4uLlNES19WRVJTSU9OX0hFQURFUlMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgIGV4dGVybmFsSWQ6IHRva2VuLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyOiBtZXRob2RJZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgYXdhaXQgdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0PHZvaWQ+KHVybCwgb3B0aW9ucyk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IElOVEVSTkFMX1VTRV9PTkxZID1cbiAgICAnVGhpcyBBUEkgZW5kcG9pbnQgaXMgZm9yIGludGVybmFsIHVzZSBvbmx5IGFuZCBtYXkgY2hhbmdlIGluIHRoZSBmdXR1cmUnO1xuIiwiaW1wb3J0IEN1c3RvbUVycm9yIGZyb20gJy4vY3VzdG9tLWVycm9yJztcbmltcG9ydCBzZXRQcm90b3R5cGVPZiBmcm9tICcuL3NldC1wcm90b3R5cGUtb2YnO1xuXG4vKipcbiAqIFRoaXMgZXJyb3IgdHlwZSBzaG91bGQgbm90IGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5LiBJdCBpcyBhIGJhc2UgY2xhc3MgZm9yXG4gKiBhbGwgY3VzdG9tIGVycm9ycyB0aHJvd24gaW4gdGhpcyBsaWJyYXJ5LlxuICovXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBTdGFuZGFyZEVycm9yIGV4dGVuZHMgRXJyb3IgaW1wbGVtZW50cyBDdXN0b21FcnJvciB7XG4gICAgbmFtZSA9ICdTdGFuZGFyZEVycm9yJztcbiAgICB0eXBlID0gJ3N0YW5kYXJkJztcblxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSB8fCAnQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWQuJyk7XG5cbiAgICAgICAgc2V0UHJvdG90eXBlT2YodGhpcywgbmV3LnRhcmdldC5wcm90b3R5cGUpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIG5ldy50YXJnZXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGFjayA9IG5ldyBFcnJvcih0aGlzLm1lc3NhZ2UpLnN0YWNrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0UHJvdG90eXBlT2Yob2JqZWN0OiBhbnksIHByb3RvdHlwZTogb2JqZWN0KSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2Yob2JqZWN0LCBwcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG9iamVjdC5fX3Byb3RvX18gPSBwcm90b3R5cGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdDtcbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIGEgbWV0aG9kIGlzIHVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlXG4gKiBjYWxsZXIgaGFzIG5vdCBwcm92aWRlZCBhbGwgdGhlIGFyZ3VtZW50cyBhY2NvcmRpbmcgdG8gdGhlaXIgcmVxdWlyZW1lbnRzLFxuICogaS5lLjogaWYgYW4gYXJndW1lbnQgaXMgbWlzc2luZyBvciBpdCBpcyBub3QgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW52YWxpZEFyZ3VtZW50RXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ0ludmFsaWQgYXJndW1lbnRzIGhhdmUgYmVlbiBwcm92aWRlZC4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnSW52YWxpZEFyZ3VtZW50RXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnaW52YWxpZF9hcmd1bWVudCc7XG4gICAgfVxufVxuIiwiaW1wb3J0IEludmFsaWRBcmd1bWVudEVycm9yIGZyb20gJy4vaW52YWxpZC1hcmd1bWVudC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gd2UgYXJlIHVuYWJsZSB0byBzdWJtaXQgYSBwYXltZW50IGJlY2F1c2VcbiAqIHRoZSBjYWxsZXIgaGFzIG5vdCBwcm92aWRlZCBhbGwgdGhlIHJlcXVpcmVkIGZpZWxkcywgaS5lLjogaWYgYW4gYXJndW1lbnQgaXNcbiAqIG1pc3Npbmcgb3IgaXQgaXMgbm90IHRoZSBleHBlY3RlZCBkYXRhIHR5cGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvciBleHRlbmRzIEludmFsaWRBcmd1bWVudEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihpbnZhbGlkRmllbGRzPzogc3RyaW5nW10pIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSAnVW5hYmxlIHRvIHN1Ym1pdCBwYXltZW50IGZvciB0aGUgb3JkZXIgYmVjYXVzZSB0aGUgcGF5bG9hZCBpcyBpbnZhbGlkLic7XG5cbiAgICAgICAgaWYgKGludmFsaWRGaWVsZHMpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgJHttZXNzYWdlfSBNYWtlIHN1cmUgdGhlIGZvbGxvd2luZyBmaWVsZHMgYXJlIHByb3ZpZGVkIGNvcnJlY3RseTogJHtpbnZhbGlkRmllbGRzLmpvaW4oXG4gICAgICAgICAgICAgICAgJywgJyxcbiAgICAgICAgICAgICl9LmA7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yJztcbiAgICB9XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIHdlIGFyZSB0cnlpbmcgdG8gbWFrZSBhbiBvcmRlciBmaW5hbGl6YXRpb24gcmVxdWVzdCBmb3IgYVxuICogcGF5bWVudCBtZXRob2QgdGhhdCBkb2VzIG5vdCByZXF1aXJlIHN1Y2ggcHJvY2VkdXJlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ1RoZSBjdXJyZW50IG9yZGVyIGRvZXMgbm90IG5lZWQgdG8gYmUgZmluYWxpemVkIGF0IHRoaXMgc3RhZ2UuJyk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ09yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdvcmRlcl9maW5hbGl6YXRpb25fbm90X3JlcXVpcmVkJztcbiAgICB9XG59XG4iLCJpbXBvcnQge1xuICAgIGlzUmVxdWVzdEVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudFJlcXVlc3RPcHRpb25zLFxuICAgIFBheW1lbnRTdHJhdGVneSxcbiAgICBTdG9yZWZyb250UGF5bWVudFJlcXVlc3RTZW5kZXIsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBaaXBQYXltZW50U3RyYXRlZ3kgaW1wbGVtZW50cyBQYXltZW50U3RyYXRlZ3kge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgc3RvcmVmcm9udFBheW1lbnRSZXF1ZXN0U2VuZGVyOiBTdG9yZWZyb250UGF5bWVudFJlcXVlc3RTZW5kZXIsXG4gICAgKSB7fVxuXG4gICAgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGUocGF5bG9hZDogT3JkZXJSZXF1ZXN0Qm9keSwgb3B0aW9ucz86IFBheW1lbnRSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IHBheW1lbnQsIC4uLm9yZGVyIH0gPSBwYXlsb2FkO1xuXG4gICAgICAgIGlmICghcGF5bWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IG1ldGhvZElkIH0gPSBwYXltZW50O1xuICAgICAgICBjb25zdCB7IGdldFBheW1lbnRNZXRob2RPclRocm93IH0gPSBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QoXG4gICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY2xpZW50VG9rZW4sXG4gICAgICAgICAgICBpbml0aWFsaXphdGlvbkRhdGEsXG4gICAgICAgIH06IHsgY2xpZW50VG9rZW4/OiBzdHJpbmc7IGluaXRpYWxpemF0aW9uRGF0YT86IHsgcmVkaXJlY3RVcmw/OiBzdHJpbmcgfSB9ID1cbiAgICAgICAgICAgIGdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcbiAgICAgICAgY29uc3QgcmVkaXJlY3RVcmwgPSBpbml0aWFsaXphdGlvbkRhdGE/LnJlZGlyZWN0VXJsO1xuXG4gICAgICAgIGlmICghY2xpZW50VG9rZW4gfHwgIXJlZGlyZWN0VXJsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGlkOiBub25jZSB9ID0gSlNPTi5wYXJzZShjbGllbnRUb2tlbik7XG5cbiAgICAgICAgaWYgKCFub25jZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRUb2tlbik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGlzU3RvcmVDcmVkaXRBcHBsaWVkOiB1c2VTdG9yZUNyZWRpdCB9ID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlXG4gICAgICAgICAgICAuZ2V0U3RhdGUoKVxuICAgICAgICAgICAgLmdldENoZWNrb3V0T3JUaHJvdygpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5hcHBseVN0b3JlQ3JlZGl0KHVzZVN0b3JlQ3JlZGl0KTtcbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmluaXRpYWxpemVQYXltZW50KG1ldGhvZElkLCB7IHVzZVN0b3JlQ3JlZGl0IH0pO1xuXG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihvcmRlciwgb3B0aW9ucyk7XG4gICAgICAgIGF3YWl0IHRoaXMuX3ByZXBhcmVGb3JSZWZlcnJlZFJlZ2lzdHJhdGlvbihtZXRob2RJZCwgbm9uY2UpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgcGF5bWVudERhdGE6IHsgbm9uY2UgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzUmVxdWVzdEVycm9yKGVycm9yKSAmJiBlcnJvci5ib2R5LnN0YXR1cyA9PT0gJ2FkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoKSA9PiB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShyZWRpcmVjdFVybCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbmFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcigpKTtcbiAgICB9XG5cbiAgICBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9wcmVwYXJlRm9yUmVmZXJyZWRSZWdpc3RyYXRpb24obWV0aG9kSWQ6IHN0cmluZywgZXh0ZXJuYWxJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlZnJvbnRQYXltZW50UmVxdWVzdFNlbmRlci5zYXZlRXh0ZXJuYWxJZChtZXRob2RJZCwgZXh0ZXJuYWxJZCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFJlcXVlc3RFcnJvciBmcm9tICcuL3JlcXVlc3QtZXJyb3InO1xuXG4vLyBIYXZlIHRvIHVzZSBgYXNgIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzczOTg3MDQ0L3R5cGVndWFyZGluZy1hbi11bmtub3duLW5lc3RlZC1vYmplY3Qgc2hvdWxkIGJlIGZpeGVkIGluIDQuOCtcbmNvbnN0IGlzUmVxdWVzdEVycm9yID0gKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgUmVxdWVzdEVycm9yID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJiBlcnJvciAhPT0gbnVsbCAmJiAnYm9keScgaW4gZXJyb3I7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpc1JlcXVlc3RFcnJvcjtcbiIsImltcG9ydCB7IGNyZWF0ZVJlcXVlc3RTZW5kZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXInO1xuXG5pbXBvcnQge1xuICAgIFBheW1lbnRTdHJhdGVneUZhY3RvcnksXG4gICAgU3RvcmVmcm9udFBheW1lbnRSZXF1ZXN0U2VuZGVyLFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBaaXBQYXltZW50U3RyYXRlZ3kgZnJvbSAnLi96aXAtcGF5bWVudC1zdHJhdGVneSc7XG5cbmNvbnN0IGNyZWF0ZVppcFBheW1lbnRTdHJhdGVneTogUGF5bWVudFN0cmF0ZWd5RmFjdG9yeTxaaXBQYXltZW50U3RyYXRlZ3k+ID0gKFxuICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4pID0+IHtcbiAgICBjb25zdCB7IGdldEhvc3QgfSA9IHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCByZXF1ZXN0U2VuZGVyID0gY3JlYXRlUmVxdWVzdFNlbmRlcih7IGhvc3Q6IGdldEhvc3QoKSB9KTtcbiAgICBjb25zdCBzdG9yZWZyb250UGF5bWVudFJlcXVlc3RTZW5kZXIgPSBuZXcgU3RvcmVmcm9udFBheW1lbnRSZXF1ZXN0U2VuZGVyKHJlcXVlc3RTZW5kZXIpO1xuXG4gICAgcmV0dXJuIG5ldyBaaXBQYXltZW50U3RyYXRlZ3kocGF5bWVudEludGVncmF0aW9uU2VydmljZSwgc3RvcmVmcm9udFBheW1lbnRSZXF1ZXN0U2VuZGVyKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVaaXBQYXltZW50U3RyYXRlZ3ksIFt7IGlkOiAnemlwJyB9LCB7IGlkOiAncXVhZHBheScgfV0pO1xuIiwiaW1wb3J0IFJlc29sdmFibGVNb2R1bGUgZnJvbSAnLi9yZXNvbHZhYmxlLW1vZHVsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvUmVzb2x2YWJsZU1vZHVsZTxUTW9kdWxlLCBUSWRlbnRpZmllcj4oXG4gICAgbW9kdWxlOiBUTW9kdWxlLFxuICAgIHJlc29sdmVJZHM6IFRJZGVudGlmaWVyW10sXG4pOiBSZXNvbHZhYmxlTW9kdWxlPFRNb2R1bGUsIFRJZGVudGlmaWVyPiB7XG4gICAgY29uc29sZS5sb2coJ3Jlc29sdmVJZHMnLCByZXNvbHZlSWRzKTtcblxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG1vZHVsZSwgeyByZXNvbHZlSWRzIH0pO1xufVxuIl0sIm5hbWVzIjpbIkNvbnRlbnRUeXBlIiwiU0RLX1ZFUlNJT05fSEVBREVSUyIsIk1pc3NpbmdEYXRhRXJyb3JUeXBlIiwiU3RvcmVmcm9udFBheW1lbnRSZXF1ZXN0U2VuZGVyIiwiY29uc3RydWN0b3IiLCJfcmVxdWVzdFNlbmRlciIsInNhdmVFeHRlcm5hbElkIiwibWV0aG9kSWQiLCJ0b2tlbiIsInVybCIsIm9wdGlvbnMiLCJoZWFkZXJzIiwiQWNjZXB0IiwiSnNvblYxIiwiYm9keSIsImV4dGVybmFsSWQiLCJwcm92aWRlciIsInRoaXMiLCJwb3N0IiwiU3RhbmRhcmRFcnJvciIsIkVycm9yIiwibWVzc2FnZSIsInByb3RvdHlwZSIsInN1cGVyIiwibmFtZSIsInR5cGUiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImNhcHR1cmVTdGFja1RyYWNlIiwic3RhY2siLCJJbnZhbGlkQXJndW1lbnRFcnJvciIsIlBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvciIsImludmFsaWRGaWVsZHMiLCJqb2luIiwiTWlzc2luZ0RhdGFFcnJvciIsInN1YnR5cGUiLCJNaXNzaW5nQmlsbGluZ0FkZHJlc3MiLCJNaXNzaW5nQ2FydCIsIk1pc3NpbmdDb25zaWdubWVudHMiLCJNaXNzaW5nQ2hlY2tvdXQiLCJNaXNzaW5nQ3VzdG9tZXIiLCJNaXNzaW5nQ2hlY2tvdXRDb25maWciLCJNaXNzaW5nT3JkZXJDb25maWciLCJNaXNzaW5nT3JkZXIiLCJNaXNzaW5nT3JkZXJJZCIsIk1pc3NpbmdQYXltZW50IiwiTWlzc2luZ1BheW1lbnRUb2tlbiIsIk1pc3NpbmdQYXltZW50TWV0aG9kIiwiTWlzc2luZ1NoaXBwaW5nQWRkcmVzcyIsImdldEVycm9yTWVzc2FnZSIsIk9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvciIsIlppcFBheW1lbnRTdHJhdGVneSIsInBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UiLCJzdG9yZWZyb250UGF5bWVudFJlcXVlc3RTZW5kZXIiLCJpbml0aWFsaXplIiwiUHJvbWlzZSIsInJlc29sdmUiLCJleGVjdXRlIiwicGF5bG9hZCIsInBheW1lbnQiLCJvcmRlciIsImdldFBheW1lbnRNZXRob2RPclRocm93IiwibG9hZFBheW1lbnRNZXRob2QiLCJjbGllbnRUb2tlbiIsImluaXRpYWxpemF0aW9uRGF0YSIsInJlZGlyZWN0VXJsIiwiaWQiLCJub25jZSIsIkpTT04iLCJwYXJzZSIsImlzU3RvcmVDcmVkaXRBcHBsaWVkIiwidXNlU3RvcmVDcmVkaXQiLCJnZXRTdGF0ZSIsImdldENoZWNrb3V0T3JUaHJvdyIsImFwcGx5U3RvcmVDcmVkaXQiLCJpbml0aWFsaXplUGF5bWVudCIsInN1Ym1pdE9yZGVyIiwiX3ByZXBhcmVGb3JSZWZlcnJlZFJlZ2lzdHJhdGlvbiIsInN1Ym1pdFBheW1lbnQiLCJwYXltZW50RGF0YSIsImVycm9yIiwic3RhdHVzIiwid2luZG93IiwibG9jYXRpb24iLCJyZXBsYWNlIiwiZmluYWxpemUiLCJyZWplY3QiLCJkZWluaXRpYWxpemUiLCJtb2R1bGUiLCJnZXRIb3N0IiwicmVxdWVzdFNlbmRlciIsImNyZWF0ZVJlcXVlc3RTZW5kZXIiLCJob3N0IiwicmVzb2x2ZUlkcyIsImNvbnNvbGUiLCJsb2ciLCJhc3NpZ24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/zip.js\n\n}");

/***/ }),

/***/ "./packages/core/src/app/payment/paymentMethod/PaymentMethod.tsx":
/*!***********************************************************************!*\
  !*** ./packages/core/src/app/payment/paymentMethod/PaymentMethod.tsx ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_no_payment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/no-payment */ \"../checkout-sdk-js/dist/esm/integrations/no-payment.js\");\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_paypal_pro__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/paypal-pro */ \"../checkout-sdk-js/dist/esm/integrations/paypal-pro.js\");\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_sezzle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/sezzle */ \"../checkout-sdk-js/dist/esm/integrations/sezzle.js\");\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_td_bank__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/td-bank */ \"../checkout-sdk-js/dist/esm/integrations/td-bank.js\");\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_zip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/zip */ \"../checkout-sdk-js/dist/esm/integrations/zip.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/CaptureMessageComponent.tsx\");\n/* harmony import */ var _checkout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../checkout */ \"./packages/core/src/app/checkout/withCheckout.tsx\");\n/* harmony import */ var _PaymentMethodId__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./PaymentMethodId */ \"./packages/core/src/app/payment/paymentMethod/PaymentMethodId.ts\");\n/* harmony import */ var _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./PaymentMethodProviderType */ \"./packages/core/src/app/payment/paymentMethod/PaymentMethodProviderType.ts\");\n/* harmony import */ var _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./PaymentMethodType */ \"./packages/core/src/app/payment/paymentMethod/PaymentMethodType.ts\");\n\n\n\n\n\n\n\n\nconst BraintreeCreditCardPaymentMethod = (0,react__WEBPACK_IMPORTED_MODULE_5__.lazy)(() => Promise.all(/*! import() | braintree-credit-card-payment-method */[__webpack_require__.e(\"packages_core_src_app_payment_StoreInstrumentFieldset_StoreInstrumentFieldset_tsx-packages_co-39091b\"), __webpack_require__.e(\"packages_core_src_app_payment_hostedCreditCard_withHostedCreditCardFieldset_tsx-packages_core-49f577\"), __webpack_require__.e(\"braintree-credit-card-payment-method\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./BraintreeCreditCardPaymentMethod */ \"./packages/core/src/app/payment/paymentMethod/BraintreeCreditCardPaymentMethod.tsx\")));\nconst HostedCreditCardPaymentMethod = (0,react__WEBPACK_IMPORTED_MODULE_5__.lazy)(() => Promise.all(/*! import() | hosted-credit-card-payment-method */[__webpack_require__.e(\"packages_payment-integration-api_src_CheckoutRootWrapperIds_ts-packages_ui_src_alert_Alert_ts-514bbe\"), __webpack_require__.e(\"packages_instrument-utils_src_storedInstrument_ManageInstrumentsModal_ManageInstrumentsModal_-149597\"), __webpack_require__.e(\"packages_instrument-utils_src_guards_isInstrumentCardCodeRequiredSelector_ts-packages_instrum-8e6504\"), __webpack_require__.e(\"packages_instrument-utils_src_creditCard_CreditCardCodeTooltip_tsx-packages_ui_src_form_FormF-efc464\"), __webpack_require__.e(\"packages_credit-card-integration_src_CreditCardPaymentMethodContainer_tsx\"), __webpack_require__.e(\"packages_hosted-credit-card-integration_src_components_HostedCreditCardFieldset_HostedCreditC-cf449c\"), __webpack_require__.e(\"checkout-sdk-js_dist_esm_integrations_bluesnap-direct_js\"), __webpack_require__.e(\"checkout-sdk-js_dist_esm_integrations_td-bank_js\"), __webpack_require__.e(\"packages_core_src_app_payment_StoreInstrumentFieldset_StoreInstrumentFieldset_tsx-packages_co-39091b\"), __webpack_require__.e(\"packages_hosted-credit-card-integration_src_components_HostedCreditCardComponent_tsx\"), __webpack_require__.e(\"packages_core_src_app_payment_hostedCreditCard_withHostedCreditCardFieldset_tsx-packages_core-49f577\"), __webpack_require__.e(\"hosted-credit-card-payment-method\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./HostedCreditCardPaymentMethod */ \"./packages/core/src/app/payment/paymentMethod/HostedCreditCardPaymentMethod.tsx\")));\nconst HostedPaymentMethod = (0,react__WEBPACK_IMPORTED_MODULE_5__.lazy)(() => Promise.all(/*! import() | hosted-payment-method */[__webpack_require__.e(\"packages_payment-integration-api_src_CheckoutRootWrapperIds_ts-packages_ui_src_alert_Alert_ts-514bbe\"), __webpack_require__.e(\"packages_instrument-utils_src_storedInstrument_ManageInstrumentsModal_ManageInstrumentsModal_-149597\"), __webpack_require__.e(\"packages_instrument-utils_src_storedInstrument_AccountInstrumentFieldset_AccountInstrumentFie-0292a0\"), __webpack_require__.e(\"packages_core_src_app_payment_StoreInstrumentFieldset_StoreInstrumentFieldset_tsx-packages_co-39091b\"), __webpack_require__.e(\"hosted-payment-method\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./HostedPaymentMethod */ \"./packages/core/src/app/payment/paymentMethod/HostedPaymentMethod.tsx\")));\n\n\n\n/**\n * If possible, try to avoid having components that are specific to a specific\n * payment provider or method. Instead, try to generalise the requirements and\n * use components that can are reusable for multiple payment methods. i.e.:\n * CreditCardPaymentMethod, HostedPaymentMethod etc... If it is really necessary\n * for a particular payment method, you may write a method-specific component for\n * the purpose of configuring a general-purpose component in order to fulfill\n * its specific product or technical requirements.\n */\nconst PaymentMethodComponent = (props) => {\n    const { method } = props;\n    if (method.id === _PaymentMethodId__WEBPACK_IMPORTED_MODULE_8__[\"default\"].Braintree) {\n        return react__WEBPACK_IMPORTED_MODULE_5___default().createElement(react__WEBPACK_IMPORTED_MODULE_5__.Suspense, null,\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(BraintreeCreditCardPaymentMethod, Object.assign({}, props)));\n    }\n    if (method.id === _PaymentMethodId__WEBPACK_IMPORTED_MODULE_8__[\"default\"].Humm ||\n        method.id === _PaymentMethodId__WEBPACK_IMPORTED_MODULE_8__[\"default\"].Laybuy ||\n        method.method === _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].Paypal ||\n        method.method === _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].PaypalCredit ||\n        method.type === _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Hosted) {\n        const knownMethods = [\n            { id: \"braintreepaypalcredit\", gateway: null, method: \"paypal-credit\", type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n        ];\n        let sentryMessage;\n        if (knownMethods.some(knownMethod => knownMethod.id === method.id &&\n            knownMethod.gateway === method.gateway &&\n            knownMethod.method === method.method &&\n            knownMethod.type === method.type)) {\n            sentryMessage = '';\n        }\n        else {\n            sentryMessage = `DataHostedPaymentMethod ${JSON.stringify(method)}`;\n        }\n        return react__WEBPACK_IMPORTED_MODULE_5___default().createElement((react__WEBPACK_IMPORTED_MODULE_5___default().Fragment), null,\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_6__.CaptureMessageComponent, { message: sentryMessage }),\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(react__WEBPACK_IMPORTED_MODULE_5__.Suspense, null,\n                react__WEBPACK_IMPORTED_MODULE_5___default().createElement(HostedPaymentMethod, Object.assign({}, props))));\n    }\n    // NOTE: Some payment methods have `method` as `credit-card` but they are\n    // actually not. Therefore, as a workaround, we are doing the following\n    // check last.\n    if (method.method === _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard ||\n        method.type === _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api) {\n        const knownMethods = [\n            { id: 'authorizenet', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'clover', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'cba_mpgs', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'cybersourcev2', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'ewayrapid', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'hps', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'nmi', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'quickbooks', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'sagepay', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'stripe', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'usaepay', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'vantiv', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'orbital', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'elavon', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'firstdatae4v14', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'cybersource', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'migs', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'vantivcore', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'bnz', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'shopkeep', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'paymetric', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'googlepay', gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].GooglePay, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: \"eway\", gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: \"wepay\", gateway: null, method: _PaymentMethodType__WEBPACK_IMPORTED_MODULE_10__[\"default\"].CreditCard, type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: \"stripev3\", gateway: null, method: \"multi-option\", type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'bigpaypay', gateway: null, method: 'zzzblackhole', type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'testgateway', gateway: null, method: 'zzzblackhole', type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n            { id: 'afterpay', gateway: null, method: 'pay_by_installment', type: _PaymentMethodProviderType__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Api },\n        ];\n        let sentryMessage;\n        if (knownMethods.some(knownMethod => knownMethod.id === method.id &&\n            knownMethod.gateway === method.gateway &&\n            knownMethod.method === method.method &&\n            knownMethod.type === method.type)) {\n            sentryMessage = '';\n        }\n        else {\n            sentryMessage = `DataHostedCreditCardPaymentMethodUpdated ${JSON.stringify(method)}`;\n        }\n        return react__WEBPACK_IMPORTED_MODULE_5___default().createElement((react__WEBPACK_IMPORTED_MODULE_5___default().Fragment), null,\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_6__.CaptureMessageComponent, { message: sentryMessage }),\n            react__WEBPACK_IMPORTED_MODULE_5___default().createElement(react__WEBPACK_IMPORTED_MODULE_5__.Suspense, null,\n                react__WEBPACK_IMPORTED_MODULE_5___default().createElement(HostedCreditCardPaymentMethod, Object.assign({}, props))));\n    }\n    return null;\n};\nfunction mapToWithCheckoutPaymentMethodProps({ checkoutService, checkoutState }, { method }) {\n    const { statuses: { isInitializingPayment }, } = checkoutState;\n    return {\n        deinitializeCustomer: checkoutService.deinitializeCustomer,\n        deinitializePayment: checkoutService.deinitializePayment,\n        initializeCustomer: checkoutService.initializeCustomer,\n        initializePayment: (options) => {\n            var _a;\n            return checkoutService.initializePayment(Object.assign(Object.assign({}, options), { integrations: [\n                    ...(_a = options.integrations) !== null && _a !== void 0 ? _a : [],\n                    // The strategies below don’t appear to correspond to any existing component,\n                    // so they are initialized globally at the root level.\n                    _bigcommerce_checkout_sdk_integrations_no_payment__WEBPACK_IMPORTED_MODULE_0__.createNoPaymentStrategy,\n                    _bigcommerce_checkout_sdk_integrations_paypal_pro__WEBPACK_IMPORTED_MODULE_1__.createPayPalProPaymentStrategy,\n                    _bigcommerce_checkout_sdk_integrations_sezzle__WEBPACK_IMPORTED_MODULE_2__.createSezzlePaymentStrategy,\n                    _bigcommerce_checkout_sdk_integrations_td_bank__WEBPACK_IMPORTED_MODULE_3__.createTDOnlineMartPaymentStrategy,\n                    _bigcommerce_checkout_sdk_integrations_zip__WEBPACK_IMPORTED_MODULE_4__.createZipPaymentStrategy,\n                ] }));\n        },\n        isInitializing: isInitializingPayment(method.id),\n    };\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_checkout__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(mapToWithCheckoutPaymentMethodProps)((0,react__WEBPACK_IMPORTED_MODULE_5__.memo)(PaymentMethodComponent)));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9jb3JlL3NyYy9hcHAvcGF5bWVudC9wYXltZW50TWV0aG9kL1BheW1lbnRNZXRob2QudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRNkY7QUFDTTtBQUNQO0FBQ087QUFDYjtBQUNWO0FBRXVDO0FBRXJFO0FBRTlDLE1BQU0sZ0NBQWdDLEdBQUcsMkNBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxvakJBQTBHLENBQUMsQ0FBQztBQUNoSyxNQUFNLDZCQUE2QixHQUFHLDJDQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsb2hEQUFvRyxDQUFDLENBQUM7QUFDdkosTUFBTSxtQkFBbUIsR0FBRywyQ0FBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLDB2QkFBOEUsQ0FBQyxDQUFDO0FBRXZFO0FBQ29CO0FBQ2hCO0FBa0JwRDs7Ozs7Ozs7R0FRRztBQUNILE1BQU0sc0JBQXNCLEdBRXhCLENBQUMsS0FBSyxFQUFFLEVBQUU7SUFDVixNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsS0FBSyxDQUFDO0lBRXpCLElBQUksTUFBTSxDQUFDLEVBQUUsS0FBSyx3REFBZSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQzFDLE9BQU8sMkRBQUMsMkNBQVE7WUFBQywyREFBQyxnQ0FBZ0Msb0JBQUssS0FBSyxFQUFJLENBQVcsQ0FBQztJQUNoRixDQUFDO0lBRUQsSUFDSSxNQUFNLENBQUMsRUFBRSxLQUFLLHdEQUFlLENBQUMsSUFBSTtRQUNsQyxNQUFNLENBQUMsRUFBRSxLQUFLLHdEQUFlLENBQUMsTUFBTTtRQUNwQyxNQUFNLENBQUMsTUFBTSxLQUFLLDJEQUFpQixDQUFDLE1BQU07UUFDMUMsTUFBTSxDQUFDLE1BQU0sS0FBSywyREFBaUIsQ0FBQyxZQUFZO1FBQ2hELE1BQU0sQ0FBQyxJQUFJLEtBQUssa0VBQXlCLENBQUMsTUFBTSxFQUNsRCxDQUFDO1FBQ0MsTUFBTSxZQUFZLEdBQUc7WUFDakIsRUFBRSxFQUFFLEVBQUUsdUJBQXVCLEVBQUUsT0FBTyxF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QixFQUN4RCxFQUFFLE1BQU0sRUFBc0I7SUFFOUIsTUFBTSxFQUNGLFFBQVEsRUFBRSxFQUFFLHFCQUFxQixFQUFFLEdBQ3RDLEdBQUcsYUFBYSxDQUFDO0lBRWxCLE9BQU87UUFDSCxvQkFBb0IsRUFBRSxlQUFlLENBQUMsb0JBQW9CO1FBQzFELG1CQUFtQixFQUFFLGVBQWUsQ0FBQyxtQkFBbUI7UUFDeEQsa0JBQWtCLEVBQUUsZUFBZSxDQUFDLGtCQUFrQjtRQUN0RCxpQkFBaUIsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFOztZQUMzQixPQUFPLGVBQWUsQ0FBQyxpQkFBaUIsaUNBQ2pDLE9BQU8sS0FDVixZQUFZLEVBQUU7b0JBQ1YsR0FBRyxhQUFPLENBQUMsWUFBWSxtQ0FBSSxFQUFFO29CQUM3Qiw2RUFBNkU7b0JBQzdFLHNEQUFzRDtvQkFDdEQsc0dBQXVCO29CQUN2Qiw2R0FBOEI7b0JBQzlCLHNHQUEyQjtvQkFDM0IsNkdBQWlDO29CQUNqQyxnR0FBd0I7aUJBQzNCLElBQ0gsQ0FBQztRQUNQLENBQUM7UUFDRCxjQUFjLEVBQUUscUJBQXFCLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQztLQUNuRCxDQUFDO0FBQ04sQ0FBQztBQUVELGlFQUFlLHFEQUFZLENBQUMsbUNBQW1DLENBQUMsQ0FBQywyQ0FBSSxDQUFDLHNCQUFzQixDQUFDLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vcGFja2FnZXMvY29yZS9zcmMvYXBwL3BheW1lbnQvcGF5bWVudE1ldGhvZC9QYXltZW50TWV0aG9kLnRzeD83ZjQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgdHlwZSBDaGVja291dFNlbGVjdG9ycyxcbiAgICB0eXBlIEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgdHlwZSBDdXN0b21lclJlcXVlc3RPcHRpb25zLFxuICAgIHR5cGUgUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgIHR5cGUgUGF5bWVudE1ldGhvZCxcbiAgICB0eXBlIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkayc7XG5pbXBvcnQgeyBjcmVhdGVOb1BheW1lbnRTdHJhdGVneSwgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2ludGVncmF0aW9ucy9uby1wYXltZW50JztcbmltcG9ydCB7IGNyZWF0ZVBheVBhbFByb1BheW1lbnRTdHJhdGVneSB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvaW50ZWdyYXRpb25zL3BheXBhbC1wcm8nO1xuaW1wb3J0IHsgY3JlYXRlU2V6emxlUGF5bWVudFN0cmF0ZWd5IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9pbnRlZ3JhdGlvbnMvc2V6emxlJztcbmltcG9ydCB7IGNyZWF0ZVRET25saW5lTWFydFBheW1lbnRTdHJhdGVneSB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvaW50ZWdyYXRpb25zL3RkLWJhbmsnO1xuaW1wb3J0IHsgY3JlYXRlWmlwUGF5bWVudFN0cmF0ZWd5IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9pbnRlZ3JhdGlvbnMvemlwJztcbmltcG9ydCBSZWFjdCwgeyB0eXBlIEZ1bmN0aW9uQ29tcG9uZW50LCBsYXp5LCBtZW1vLCBTdXNwZW5zZSB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgQ2FwdHVyZU1lc3NhZ2VDb21wb25lbnQsIHR5cGUgQ2hlY2tvdXRDb250ZXh0UHJvcHMgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyB3aXRoQ2hlY2tvdXQgfSBmcm9tICcuLi8uLi9jaGVja291dCc7XG5cbmNvbnN0IEJyYWludHJlZUNyZWRpdENhcmRQYXltZW50TWV0aG9kID0gbGF6eSgoKSA9PiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJicmFpbnRyZWUtY3JlZGl0LWNhcmQtcGF5bWVudC1tZXRob2RcIiAqLycuL0JyYWludHJlZUNyZWRpdENhcmRQYXltZW50TWV0aG9kJykpO1xuY29uc3QgSG9zdGVkQ3JlZGl0Q2FyZFBheW1lbnRNZXRob2QgPSBsYXp5KCgpID0+IGltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcImhvc3RlZC1jcmVkaXQtY2FyZC1wYXltZW50LW1ldGhvZFwiICovJy4vSG9zdGVkQ3JlZGl0Q2FyZFBheW1lbnRNZXRob2QnKSk7XG5jb25zdCBIb3N0ZWRQYXltZW50TWV0aG9kID0gbGF6eSgoKSA9PiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJob3N0ZWQtcGF5bWVudC1tZXRob2RcIiAqLycuL0hvc3RlZFBheW1lbnRNZXRob2QnKSk7XG5cbmltcG9ydCBQYXltZW50TWV0aG9kSWQgZnJvbSAnLi9QYXltZW50TWV0aG9kSWQnO1xuaW1wb3J0IFBheW1lbnRNZXRob2RQcm92aWRlclR5cGUgZnJvbSAnLi9QYXltZW50TWV0aG9kUHJvdmlkZXJUeXBlJztcbmltcG9ydCBQYXltZW50TWV0aG9kVHlwZSBmcm9tICcuL1BheW1lbnRNZXRob2RUeXBlJztcblxuZXhwb3J0IGludGVyZmFjZSBQYXltZW50TWV0aG9kUHJvcHMge1xuICAgIG1ldGhvZDogUGF5bWVudE1ldGhvZDtcbiAgICBpc0VtYmVkZGVkPzogYm9vbGVhbjtcbiAgICBpc1VzaW5nTXVsdGlTaGlwcGluZz86IGJvb2xlYW47XG4gICAgb25VbmhhbmRsZWRFcnJvcj8oZXJyb3I6IEVycm9yKTogdm9pZDtcbiAgICBzdWJtaXRGb3JtPygpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFdpdGhDaGVja291dFBheW1lbnRNZXRob2RQcm9wcyB7XG4gICAgaXNJbml0aWFsaXppbmc6IGJvb2xlYW47XG4gICAgZGVpbml0aWFsaXplQ3VzdG9tZXIob3B0aW9uczogQ3VzdG9tZXJSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8Q2hlY2tvdXRTZWxlY3RvcnM+O1xuICAgIGRlaW5pdGlhbGl6ZVBheW1lbnQob3B0aW9uczogUGF5bWVudFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTxDaGVja291dFNlbGVjdG9ycz47XG4gICAgaW5pdGlhbGl6ZUN1c3RvbWVyKG9wdGlvbnM6IEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMpOiBQcm9taXNlPENoZWNrb3V0U2VsZWN0b3JzPjtcbiAgICBpbml0aWFsaXplUGF5bWVudChvcHRpb25zOiBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMpOiBQcm9taXNlPENoZWNrb3V0U2VsZWN0b3JzPjtcbn1cblxuLyoqXG4gKiBJZiBwb3NzaWJsZSwgdHJ5IHRvIGF2b2lkIGhhdmluZyBjb21wb25lbnRzIHRoYXQgYXJlIHNwZWNpZmljIHRvIGEgc3BlY2lmaWNcbiAqIHBheW1lbnQgcHJvdmlkZXIgb3IgbWV0aG9kLiBJbnN0ZWFkLCB0cnkgdG8gZ2VuZXJhbGlzZSB0aGUgcmVxdWlyZW1lbnRzIGFuZFxuICogdXNlIGNvbXBvbmVudHMgdGhhdCBjYW4gYXJlIHJldXNhYmxlIGZvciBtdWx0aXBsZSBwYXltZW50IG1ldGhvZHMuIGkuZS46XG4gKiBDcmVkaXRDYXJkUGF5bWVudE1ldGhvZCwgSG9zdGVkUGF5bWVudE1ldGhvZCBldGMuLi4gSWYgaXQgaXMgcmVhbGx5IG5lY2Vzc2FyeVxuICogZm9yIGEgcGFydGljdWxhciBwYXltZW50IG1ldGhvZCwgeW91IG1heSB3cml0ZSBhIG1ldGhvZC1zcGVjaWZpYyBjb21wb25lbnQgZm9yXG4gKiB0aGUgcHVycG9zZSBvZiBjb25maWd1cmluZyBhIGdlbmVyYWwtcHVycG9zZSBjb21wb25lbnQgaW4gb3JkZXIgdG8gZnVsZmlsbFxuICogaXRzIHNwZWNpZmljIHByb2R1Y3Qgb3IgdGVjaG5pY2FsIHJlcXVpcmVtZW50cy5cbiAqL1xuY29uc3QgUGF5bWVudE1ldGhvZENvbXBvbmVudDogRnVuY3Rpb25Db21wb25lbnQ8XG4gICAgUGF5bWVudE1ldGhvZFByb3BzICYgV2l0aENoZWNrb3V0UGF5bWVudE1ldGhvZFByb3BzXG4+ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBtZXRob2QgfSA9IHByb3BzO1xuXG4gICAgaWYgKG1ldGhvZC5pZCA9PT0gUGF5bWVudE1ldGhvZElkLkJyYWludHJlZSkge1xuICAgICAgICByZXR1cm4gPFN1c3BlbnNlPjxCcmFpbnRyZWVDcmVkaXRDYXJkUGF5bWVudE1ldGhvZCB7Li4ucHJvcHN9IC8+PC9TdXNwZW5zZT47XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgICBtZXRob2QuaWQgPT09IFBheW1lbnRNZXRob2RJZC5IdW1tIHx8XG4gICAgICAgIG1ldGhvZC5pZCA9PT0gUGF5bWVudE1ldGhvZElkLkxheWJ1eSB8fFxuICAgICAgICBtZXRob2QubWV0aG9kID09PSBQYXltZW50TWV0aG9kVHlwZS5QYXlwYWwgfHxcbiAgICAgICAgbWV0aG9kLm1ldGhvZCA9PT0gUGF5bWVudE1ldGhvZFR5cGUuUGF5cGFsQ3JlZGl0IHx8XG4gICAgICAgIG1ldGhvZC50eXBlID09PSBQYXltZW50TWV0aG9kUHJvdmlkZXJUeXBlLkhvc3RlZFxuICAgICkge1xuICAgICAgICBjb25zdCBrbm93bk1ldGhvZHMgPSBbXG4gICAgICAgICAgICB7IGlkOiBcImJyYWludHJlZXBheXBhbGNyZWRpdFwiLCBnYXRld2F5OiBudWxsLCBtZXRob2Q6IFwicGF5cGFsLWNyZWRpdFwiLCB0eXBlOiBQYXltZW50TWV0aG9kUHJvdmlkZXJUeXBlLkFwaSB9LFxuICAgICAgICBdO1xuXG4gICAgICAgIGxldCBzZW50cnlNZXNzYWdlOiBzdHJpbmc7XG5cbiAgICAgICAgaWYgKGtub3duTWV0aG9kcy5zb21lKGtub3duTWV0aG9kID0+XG4gICAgICAgICAgICBrbm93bk1ldGhvZC5pZCA9PT0gbWV0aG9kLmlkICYmXG4gICAgICAgICAgICBrbm93bk1ldGhvZC5nYXRld2F5ID09PSBtZXRob2QuZ2F0ZXdheSAmJlxuICAgICAgICAgICAga25vd25NZXRob2QubWV0aG9kID09PSBtZXRob2QubWV0aG9kICYmXG4gICAgICAgICAgICBrbm93bk1ldGhvZC50eXBlID09PSBtZXRob2QudHlwZVxuICAgICAgICApKSB7XG4gICAgICAgICAgICBzZW50cnlNZXNzYWdlID0gJyc7XG4gICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgIHNlbnRyeU1lc3NhZ2UgPSBgRGF0YUhvc3RlZFBheW1lbnRNZXRob2QgJHtKU09OLnN0cmluZ2lmeShtZXRob2QpfWA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gPD5cbiAgICAgICAgICAgICAgICA8Q2FwdHVyZU1lc3NhZ2VDb21wb25lbnQgbWVzc2FnZT17c2VudHJ5TWVzc2FnZX0gLz5cbiAgICAgICAgICAgICAgICA8U3VzcGVuc2U+PEhvc3RlZFBheW1lbnRNZXRob2Qgey4uLnByb3BzfSAvPjwvU3VzcGVuc2U+XG4gICAgICAgICAgICA8Lz47XG4gICAgfVxuXG4gICAgLy8gTk9URTogU29tZSBwYXltZW50IG1ldGhvZHMgaGF2ZSBgbWV0aG9kYCBhcyBgY3JlZGl0LWNhcmRgIGJ1dCB0aGV5IGFyZVxuICAgIC8vIGFjdHVhbGx5IG5vdC4gVGhlcmVmb3JlLCBhcyBhIHdvcmthcm91bmQsIHdlIGFyZSBkb2luZyB0aGUgZm9sbG93aW5nXG4gICAgLy8gY2hlY2sgbGFzdC5cbiAgICBpZiAoXG4gICAgICAgIG1ldGhvZC5tZXRob2QgPT09IFBheW1lbnRNZXRob2RUeXBlLkNyZWRpdENhcmQgfHxcbiAgICAgICAgbWV0aG9kLnR5cGUgPT09IFBheW1lbnRNZXRob2RQcm92aWRlclR5cGUuQXBpXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGtub3duTWV0aG9kcyA9IFtcbiAgICAgICAgICAgIHsgaWQ6ICdhdXRob3JpemVuZXQnLCBnYXRld2F5OiBudWxsLCBtZXRob2Q6IFBheW1lbnRNZXRob2RUeXBlLkNyZWRpdENhcmQsIHR5cGU6IFBheW1lbnRNZXRob2RQcm92aWRlclR5cGUuQXBpIH0sXG4gICAgICAgICAgICB7IGlkOiAnY2xvdmVyJywgZ2F0ZXdheTogbnVsbCwgbWV0aG9kOiBQYXltZW50TWV0aG9kVHlwZS5DcmVkaXRDYXJkLCB0eXBlOiBQYXltZW50TWV0aG9kUHJvdmlkZXJUeXBlLkFwaSB9LFxuICAgICAgICAgICAgeyBpZDogJ2NiYV9tcGdzJywgZ2F0ZXdheTogbnVsbCwgbWV0aG9kOiBQYXltZW50TWV0aG9kVHlwZS5DcmVkaXRDYXJkLCB0eXBlOiBQYXltZW50TWV0aG9kUHJvdmlkZXJUeXBlLkFwaSB9LFxuICAgICAgICAgICAgeyBpZDogJ2N5YmVyc291cmNldjInLCBnYXRld2F5OiBudWxsLCBtZXRob2Q6IFBheW1lbnRNZXRob2RUeXBlLkNyZWRpdENhcmQsIHR5cGU6IFBheW1lbnRNZXRob2RQcm92aWRlclR5cGUuQXBpIH0sXG4gICAgICAgICAgICB7IGlkOiAnZXdheXJhcGlkJywgZ2F0ZXdheTogbnVsbCwgbWV0aG9kOiBQYXltZW50TWV0aG9kVHlwZS5DcmVkaXRDYXJkLCB0eXBlOiBQYXltZW50TWV0aG9kUHJvdmlkZXJUeXBlLkFwaSB9LFxuICAgICAgICAgICAgeyBpZDogJ2hwcycsIGdhdGV3YXk6IG51bGwsIG1ldGhvZDogUGF5bWVudE1ldGhvZFR5cGUuQ3JlZGl0Q2FyZCwgdHlwZTogUGF5bWVudE1ldGhvZFByb3ZpZGVyVHlwZS5BcGkgfSxcbiAgICAgICAgICAgIHsgaWQ6ICdubWknLCBnYXRld2F5OiBudWxsLCBtZXRob2Q6IFBheW1lbnRNZXRob2RUeXBlLkNyZWRpdENhcmQsIHR5cGU6IFBheW1lbnRNZXRob2RQcm92aWRlclR5cGUuQXBpIH0sXG4gICAgICAgICAgICB7IGlkOiAncXVpY2tib29rcycsIGdhdGV3YXk6IG51bGwsIG1ldGhvZDogUGF5bWVudE1ldGhvZFR5cGUuQ3JlZGl0Q2FyZCwgdHlwZTogUGF5bWVudE1ldGhvZFByb3ZpZGVyVHlwZS5BcGkgfSxcbiAgICAgICAgICAgIHsgaWQ6ICdzYWdlcGF5JywgZ2F0ZXdheTogbnVsbCwgbWV0aG9kOiBQYXltZW50TWV0aG9kVHlwZS5DcmVkaXRDYXJkLCB0eXBlOiBQYXltZW50TWV0aG9kUHJvdmlkZXJUeXBlLkFwaSB9LFxuICAgICAgICAgICAgeyBpZDogJ3N0cmlwZScsIGdhdGV3YXk6IG51bGwsIG1ldGhvZDogUGF5bWVudE1ldGhvZFR5cGUuQ3JlZGl0Q2FyZCwgdHlwZTogUGF5bWVudE1ldGhvZFByb3ZpZGVyVHlwZS5BcGkgfSxcbiAgICAgICAgICAgIHsgaWQ6ICd1c2FlcGF5JywgZ2F0ZXdheTogbnVsbCwgbWV0aG9kOiBQYXltZW50TWV0aG9kVHlwZS5DcmVkaXRDYXJkLCB0eXBlOiBQYXltZW50TWV0aG9kUHJvdmlkZXJUeXBlLkFwaSB9LFxuICAgICAgICAgICAgeyBpZDogJ3ZhbnRpdicsIGdhdGV3YXk6IG51bGwsIG1ldGhvZDogUGF5bWVudE1ldGhvZFR5cGUuQ3JlZGl0Q2FyZCwgdHlwZTogUGF5bWVudE1ldGhvZFByb3ZpZGVyVHlwZS5BcGkgfSxcbiAgICAgICAgICAgIHsgaWQ6ICdvcmJpdGFsJywgZ2F0ZXdheTogbnVsbCwgbWV0aG9kOiBQYXltZW50TWV0aG9kVHlwZS5DcmVkaXRDYXJkLCB0eXBlOiBQYXltZW50TWV0aG9kUHJvdmlkZXJUeXBlLkFwaSB9LFxuICAgICAgICAgICAgeyBpZDogJ2VsYXZvbicsIGdhdGV3YXk6IG51bGwsIG1ldGhvZDogUGF5bWVudE1ldGhvZFR5cGUuQ3JlZGl0Q2FyZCwgdHlwZTogUGF5bWVudE1ldGhvZFByb3ZpZGVyVHlwZS5BcGkgfSxcbiAgICAgICAgICAgIHsgaWQ6ICdmaXJzdGRhdGFlNHYxNCcsIGdhdGV3YXk6IG51bGwsIG1ldGhvZDogUGF5bWVudE1ldGhvZFR5cGUuQ3JlZGl0Q2FyZCwgdHlwZTogUGF5bWVudE1ldGhvZFByb3ZpZGVyVHlwZS5BcGkgfSxcbiAgICAgICAgICAgIHsgaWQ6ICdjeWJlcnNvdXJjZScsIGdhdGV3YXk6IG51bGwsIG1ldGhvZDogUGF5bWVudE1ldGhvZFR5cGUuQ3JlZGl0Q2FyZCwgdHlwZTogUGF5bWVudE1ldGhvZFByb3ZpZGVyVHlwZS5BcGkgfSxcbiAgICAgICAgICAgIHsgaWQ6ICdtaWdzJywgZ2F0ZXdheTogbnVsbCwgbWV0aG9kOiBQYXltZW50TWV0aG9kVHlwZS5DcmVkaXRDYXJkLCB0eXBlOiBQYXltZW50TWV0aG9kUHJvdmlkZXJUeXBlLkFwaSB9LFxuICAgICAgICAgICAgeyBpZDogJ3ZhbnRpdmNvcmUnLCBnYXRld2F5OiBudWxsLCBtZXRob2Q6IFBheW1lbnRNZXRob2RUeXBlLkNyZWRpdENhcmQsIHR5cGU6IFBheW1lbnRNZXRob2RQcm92aWRlclR5cGUuQXBpIH0sXG4gICAgICAgICAgICB7IGlkOiAnYm56JywgZ2F0ZXdheTogbnVsbCwgbWV0aG9kOiBQYXltZW50TWV0aG9kVHlwZS5DcmVkaXRDYXJkLCB0eXBlOiBQYXltZW50TWV0aG9kUHJvdmlkZXJUeXBlLkFwaSB9LFxuICAgICAgICAgICAgeyBpZDogJ3Nob3BrZWVwJywgZ2F0ZXdheTogbnVsbCwgbWV0aG9kOiBQYXltZW50TWV0aG9kVHlwZS5DcmVkaXRDYXJkLCB0eXBlOiBQYXltZW50TWV0aG9kUHJvdmlkZXJUeXBlLkFwaSB9LFxuICAgICAgICAgICAgeyBpZDogJ3BheW1ldHJpYycsIGdhdGV3YXk6IG51bGwsIG1ldGhvZDogUGF5bWVudE1ldGhvZFR5cGUuQ3JlZGl0Q2FyZCwgdHlwZTogUGF5bWVudE1ldGhvZFByb3ZpZGVyVHlwZS5BcGkgfSxcbiAgICAgICAgICAgIHsgaWQ6ICdnb29nbGVwYXknLCBnYXRld2F5OiBudWxsLCBtZXRob2Q6IFBheW1lbnRNZXRob2RUeXBlLkdvb2dsZVBheSwgdHlwZTogUGF5bWVudE1ldGhvZFByb3ZpZGVyVHlwZS5BcGkgfSxcbiAgICAgICAgICAgIHsgaWQ6IFwiZXdheVwiLCBnYXRld2F5Om51bGwsIG1ldGhvZDpQYXltZW50TWV0aG9kVHlwZS5DcmVkaXRDYXJkLCB0eXBlOlBheW1lbnRNZXRob2RQcm92aWRlclR5cGUuQXBpIH0sXG4gICAgICAgICAgICB7IGlkOiBcIndlcGF5XCIsIGdhdGV3YXk6IG51bGwsIG1ldGhvZDogUGF5bWVudE1ldGhvZFR5cGUuQ3JlZGl0Q2FyZCwgdHlwZTogUGF5bWVudE1ldGhvZFByb3ZpZGVyVHlwZS5BcGkgfSxcbiAgICAgICAgICAgIHsgaWQ6IFwic3RyaXBldjNcIiwgZ2F0ZXdheTogbnVsbCwgbWV0aG9kOiBcIm11bHRpLW9wdGlvblwiLCB0eXBlOiBQYXltZW50TWV0aG9kUHJvdmlkZXJUeXBlLkFwaSB9LFxuICAgICAgICAgICAgeyBpZDogJ2JpZ3BheXBheScsIGdhdGV3YXk6IG51bGwsIG1ldGhvZDogJ3p6emJsYWNraG9sZScsIHR5cGU6IFBheW1lbnRNZXRob2RQcm92aWRlclR5cGUuQXBpIH0sXG4gICAgICAgICAgICB7IGlkOiAndGVzdGdhdGV3YXknLCBnYXRld2F5OiBudWxsLCBtZXRob2Q6ICd6enpibGFja2hvbGUnLCB0eXBlOiBQYXltZW50TWV0aG9kUHJvdmlkZXJUeXBlLkFwaSB9LFxuICAgICAgICAgICAgeyBpZDogJ2FmdGVycGF5JywgZ2F0ZXdheTogbnVsbCwgbWV0aG9kOiAncGF5X2J5X2luc3RhbGxtZW50JywgdHlwZTogUGF5bWVudE1ldGhvZFByb3ZpZGVyVHlwZS5BcGkgfSxcbiAgICAgICAgXTtcblxuICAgICAgICBsZXQgc2VudHJ5TWVzc2FnZTogc3RyaW5nO1xuXG4gICAgICAgIGlmIChrbm93bk1ldGhvZHMuc29tZShrbm93bk1ldGhvZCA9PlxuICAgICAgICAgICAga25vd25NZXRob2QuaWQgPT09IG1ldGhvZC5pZCAmJlxuICAgICAgICAgICAga25vd25NZXRob2QuZ2F0ZXdheSA9PT0gbWV0aG9kLmdhdGV3YXkgJiZcbiAgICAgICAgICAgIGtub3duTWV0aG9kLm1ldGhvZCA9PT0gbWV0aG9kLm1ldGhvZCAmJlxuICAgICAgICAgICAga25vd25NZXRob2QudHlwZSA9PT0gbWV0aG9kLnR5cGVcbiAgICAgICAgKSkge1xuICAgICAgICAgICAgc2VudHJ5TWVzc2FnZSA9ICcnO1xuICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICBzZW50cnlNZXNzYWdlID0gYERhdGFIb3N0ZWRDcmVkaXRDYXJkUGF5bWVudE1ldGhvZFVwZGF0ZWQgJHtKU09OLnN0cmluZ2lmeShtZXRob2QpfWA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gPD5cbiAgICAgICAgICAgICAgICA8Q2FwdHVyZU1lc3NhZ2VDb21wb25lbnQgbWVzc2FnZT17c2VudHJ5TWVzc2FnZX0gLz5cbiAgICAgICAgICAgICAgICA8U3VzcGVuc2U+PEhvc3RlZENyZWRpdENhcmRQYXltZW50TWV0aG9kIHsuLi5wcm9wc30gLz48L1N1c3BlbnNlPlxuICAgICAgICAgICAgPC8+O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufTtcblxuZnVuY3Rpb24gbWFwVG9XaXRoQ2hlY2tvdXRQYXltZW50TWV0aG9kUHJvcHMoXG4gICAgeyBjaGVja291dFNlcnZpY2UsIGNoZWNrb3V0U3RhdGUgfTogQ2hlY2tvdXRDb250ZXh0UHJvcHMsXG4gICAgeyBtZXRob2QgfTogUGF5bWVudE1ldGhvZFByb3BzLFxuKTogV2l0aENoZWNrb3V0UGF5bWVudE1ldGhvZFByb3BzIHtcbiAgICBjb25zdCB7XG4gICAgICAgIHN0YXR1c2VzOiB7IGlzSW5pdGlhbGl6aW5nUGF5bWVudCB9LFxuICAgIH0gPSBjaGVja291dFN0YXRlO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVpbml0aWFsaXplQ3VzdG9tZXI6IGNoZWNrb3V0U2VydmljZS5kZWluaXRpYWxpemVDdXN0b21lcixcbiAgICAgICAgZGVpbml0aWFsaXplUGF5bWVudDogY2hlY2tvdXRTZXJ2aWNlLmRlaW5pdGlhbGl6ZVBheW1lbnQsXG4gICAgICAgIGluaXRpYWxpemVDdXN0b21lcjogY2hlY2tvdXRTZXJ2aWNlLmluaXRpYWxpemVDdXN0b21lcixcbiAgICAgICAgaW5pdGlhbGl6ZVBheW1lbnQ6IChvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2hlY2tvdXRTZXJ2aWNlLmluaXRpYWxpemVQYXltZW50KHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGludGVncmF0aW9uczogW1xuICAgICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLmludGVncmF0aW9ucyA/PyBbXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHN0cmF0ZWdpZXMgYmVsb3cgZG9u4oCZdCBhcHBlYXIgdG8gY29ycmVzcG9uZCB0byBhbnkgZXhpc3RpbmcgY29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyB0aGV5IGFyZSBpbml0aWFsaXplZCBnbG9iYWxseSBhdCB0aGUgcm9vdCBsZXZlbC5cbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTm9QYXltZW50U3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVBheVBhbFByb1BheW1lbnRTdHJhdGVneSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2V6emxlUGF5bWVudFN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVURE9ubGluZU1hcnRQYXltZW50U3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVppcFBheW1lbnRTdHJhdGVneSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGlzSW5pdGlhbGl6aW5nOiBpc0luaXRpYWxpemluZ1BheW1lbnQobWV0aG9kLmlkKSxcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCB3aXRoQ2hlY2tvdXQobWFwVG9XaXRoQ2hlY2tvdXRQYXltZW50TWV0aG9kUHJvcHMpKG1lbW8oUGF5bWVudE1ldGhvZENvbXBvbmVudCkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/core/src/app/payment/paymentMethod/PaymentMethod.tsx\n\n}");

/***/ }),

/***/ "./packages/payment-integration-api/src/CaptureMessageComponent.tsx":
/*!**************************************************************************!*\
  !*** ./packages/payment-integration-api/src/CaptureMessageComponent.tsx ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CaptureMessageComponent: () => (/* binding */ CaptureMessageComponent)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ */ \"./packages/payment-integration-api/src/contexts/checkout-context/CheckoutContext.tsx\");\n\n\nconst CaptureMessageComponent = ({ message }) => {\n    const { errorLogger } = (0,___WEBPACK_IMPORTED_MODULE_1__.useCheckout)();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (!message || !errorLogger) {\n            return;\n        }\n        if (errorLogger.logMessage) {\n            errorLogger.logMessage(message);\n        }\n        else {\n            // eslint-disable-next-line no-console\n            console.log(`checkout-js attempted to log the following message: \"${message}\", but no Sentry logger is configured.`);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [message]);\n    return null;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvQ2FwdHVyZU1lc3NhZ2VDb21wb25lbnQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBa0Q7QUFFakI7QUFNMUIsTUFBTSx1QkFBdUIsR0FBRyxDQUFDLEVBQUUsT0FBTyxFQUFnQyxFQUFhLEVBQUU7SUFDNUYsTUFBTSxFQUFFLFdBQVcsRUFBRSxHQUFHLDhDQUFXLEVBQUUsQ0FBQztJQUV0QyxnREFBUyxDQUFDLEdBQUcsRUFBRTtRQUNYLElBQUksQ0FBQyxPQUFPLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUMzQixPQUFPO1FBQ1gsQ0FBQztRQUVELElBQUksV0FBVyxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ3pCLFdBQVcsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDcEMsQ0FBQzthQUFNLENBQUM7WUFDSixzQ0FBc0M7WUFDdEMsT0FBTyxDQUFDLEdBQUcsQ0FDUCx3REFBd0QsT0FBTyx3Q0FBd0MsQ0FDMUcsQ0FBQztRQUNOLENBQUM7UUFDRCx1REFBdUQ7SUFDM0QsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUVkLE9BQU8sSUFBSSxDQUFDO0FBQ2hCLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL0NhcHR1cmVNZXNzYWdlQ29tcG9uZW50LnRzeD8wNGZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGUgUmVhY3ROb2RlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IHVzZUNoZWNrb3V0IH0gZnJvbSAnLi8nO1xuXG5pbnRlcmZhY2UgQ2FwdHVyZU1lc3NhZ2VDb21wb25lbnRQcm9wcyB7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgQ2FwdHVyZU1lc3NhZ2VDb21wb25lbnQgPSAoeyBtZXNzYWdlIH06IENhcHR1cmVNZXNzYWdlQ29tcG9uZW50UHJvcHMpOiBSZWFjdE5vZGUgPT4ge1xuICAgIGNvbnN0IHsgZXJyb3JMb2dnZXIgfSA9IHVzZUNoZWNrb3V0KCk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIW1lc3NhZ2UgfHwgIWVycm9yTG9nZ2VyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3JMb2dnZXIubG9nTWVzc2FnZSkge1xuICAgICAgICAgICAgZXJyb3JMb2dnZXIubG9nTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICBgY2hlY2tvdXQtanMgYXR0ZW1wdGVkIHRvIGxvZyB0aGUgZm9sbG93aW5nIG1lc3NhZ2U6IFwiJHttZXNzYWdlfVwiLCBidXQgbm8gU2VudHJ5IGxvZ2dlciBpcyBjb25maWd1cmVkLmAsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICB9LCBbbWVzc2FnZV0pO1xuXG4gICAgcmV0dXJuIG51bGw7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/payment-integration-api/src/CaptureMessageComponent.tsx\n\n}");

/***/ })

}]);