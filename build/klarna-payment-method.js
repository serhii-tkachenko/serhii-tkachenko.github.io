"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["klarna-payment-method"],{

/***/ "../checkout-sdk-js/dist/esm/integrations/klarna.js":
/*!**********************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/klarna.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createKlarnaPaymentStrategy: () => (/* binding */ k),\n/* harmony export */   createKlarnaV2PaymentStrategy: () => (/* binding */ U)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"../checkout-sdk-js/node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"../checkout-sdk-js/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bigcommerce/request-sender */ \"../checkout-sdk-js/node_modules/@bigcommerce/request-sender/esm/index.js\");\nvar i,a,r={};function o(e,t){return Object.assign(e,{resolveIds:t})}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);class s extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class d extends s{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}class c extends s{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}!function(e){e[e.MissingBillingAddress=0]=\"MissingBillingAddress\",e[e.MissingCart=1]=\"MissingCart\",e[e.MissingCheckout=2]=\"MissingCheckout\",e[e.MissingConsignments=3]=\"MissingConsignments\",e[e.MissingCustomer=4]=\"MissingCustomer\",e[e.MissingCheckoutConfig=5]=\"MissingCheckoutConfig\",e[e.MissingOrder=6]=\"MissingOrder\",e[e.MissingOrderConfig=7]=\"MissingOrderConfig\",e[e.MissingOrderId=8]=\"MissingOrderId\",e[e.MissingPayment=9]=\"MissingPayment\",e[e.MissingPaymentId=10]=\"MissingPaymentId\",e[e.MissingPaymentInstrument=11]=\"MissingPaymentInstrument\",e[e.MissingPaymentMethod=12]=\"MissingPaymentMethod\",e[e.MissingPaymentRedirectUrl=13]=\"MissingPaymentRedirectUrl\",e[e.MissingPaymentStatus=14]=\"MissingPaymentStatus\",e[e.MissingPaymentToken=15]=\"MissingPaymentToken\",e[e.MissingShippingAddress=16]=\"MissingShippingAddress\"}(i||(i={}));class l extends s{constructor(e){super(function(e){switch(e){case i.MissingBillingAddress:return\"Unable to proceed because billing address data is unavailable.\";case i.MissingCart:return\"Unable to proceed because cart data is unavailable.\";case i.MissingConsignments:return\"Unable to proceed because consignments data is unavailable.\";case i.MissingCheckout:return\"Unable to proceed because checkout data is unavailable.\";case i.MissingCustomer:return\"Unable to proceed because customer data is unavailable.\";case i.MissingCheckoutConfig:case i.MissingOrderConfig:return\"Unable to proceed because configuration data is unavailable.\";case i.MissingOrder:return\"Unable to proceed because order data is unavailable.\";case i.MissingOrderId:return\"Unable to proceed because order ID is unavailable or not generated yet.\";case i.MissingPayment:return\"Unable to proceed because payment data is unavailable.\";case i.MissingPaymentToken:return\"Unable to proceed because the token required to submit a payment is missing.\";case i.MissingPaymentMethod:return\"Unable to proceed because payment method data is unavailable or not properly configured.\";case i.MissingShippingAddress:return\"Unable to proceed because shipping address data is unavailable.\";default:return\"Unable to proceed because the required data is unavailable.\"}}(e)),this.subtype=e,this.name=\"MissingDataError\",this.type=\"missing_data\"}}!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(a||(a={}));class u extends s{constructor(e){super(function(e){switch(e){case a.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case a.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case a.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case a.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}class h extends s{constructor(e){super(e||\"Payment process was cancelled.\"),this.name=\"PaymentMethodCancelledError\",this.type=\"payment_cancelled\"}}const p={body:{},headers:{},status:0};class m extends s{constructor(e,{message:t,errors:n}={}){const{body:i,headers:a,status:r}=e||p;super(t||\"An unexpected error has occurred.\"),this.name=\"RequestError\",this.type=\"request\",this.body=i,this.headers=a,this.status=r,this.errors=n||[]}}class y extends m{constructor(e){super(e,{message:\"There is a problem processing your payment. Please try again later.\"}),this.name=\"PaymentMethodInvalidError\",this.type=\"payment_method_invalid\"}}const g=[\"AT\",\"BE\",\"CA\",\"CH\",\"CZ\",\"DE\",\"DK\",\"ES\",\"FI\",\"FR\",\"GB\",\"GR\",\"IE\",\"IT\",\"NL\",\"NO\",\"NZ\",\"PL\",\"PT\",\"SE\"],b=[\"AU\"];var v=function(e,t,n,i){return new(n||(n=Promise))(function(a,r){function o(e){try{d(i.next(e))}catch(e){r(e)}}function s(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}d((i=i.apply(e,t||[])).next())})};class f{constructor(e,t){this.paymentIntegrationService=e,this.klarnaScriptLoader=t}initialize(e){return v(this,void 0,void 0,function*(){this.klarnaCredit=yield this.klarnaScriptLoader.load(),this.unsubscribe=this.paymentIntegrationService.subscribe(t=>{t.isPaymentMethodInitialized({methodId:e.methodId,gatewayId:e.gatewayId})&&this.loadWidget(e)},e=>{const t=e.getCheckout();return t&&t.outstandingBalance},e=>{const t=e.getCheckout();return t&&t.coupons}),yield this.loadWidget(e)})}deinitialize(){return this.unsubscribe&&this.unsubscribe(),Promise.resolve()}execute(e,t){return v(this,void 0,void 0,function*(){if(!e.payment)throw new d('Unable to proceed because \"payload.payment\" argument is not provided.');const n=e.payment,{paymentData:i}=n,a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n}(n,[\"paymentData\"]),{authorization_token:r}=yield this.authorize();yield this.paymentIntegrationService.initializePayment(a.methodId,{authorizationToken:r}),yield this.paymentIntegrationService.submitOrder(Object.assign(Object.assign({},e),{payment:a,useStoreCredit:e.useStoreCredit}),t)})}finalize(){return Promise.reject(new c)}loadWidget(e){return v(this,void 0,void 0,function*(){if(!e.klarna)throw new d('Unable to load widget because \"options.klarna\" argument is not provided.');const{methodId:t,klarna:{container:n,onLoad:r}}=e;return yield this.paymentIntegrationService.loadPaymentMethod(t),new Promise(e=>{const o=this.paymentIntegrationService.getState().getPaymentMethod(t);if(!o)throw new l(i.MissingPaymentMethod);if(!this.klarnaCredit||!o.clientToken)throw new u(a.PaymentNotInitialized);this.klarnaCredit.init({client_token:o.clientToken}),this.klarnaCredit.load({container:n},t=>{r&&r(t),e(t)})})})}getUpdateSessionData(e,n){if(!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.includes)([...g,...b],e.countryCode))return{};const i={billing_address:this.mapToKlarnaAddress(e,e.email)};return n&&(i.shipping_address=this.mapToKlarnaAddress(n,e.email)),i}needsStateCode(e){return (0,lodash__WEBPACK_IMPORTED_MODULE_1__.includes)(b,e)}mapToKlarnaAddress(e,t){const n={street_address:e.address1,city:e.city,country:e.countryCode,given_name:e.firstName,family_name:e.lastName,postal_code:e.postalCode,region:this.needsStateCode(e.countryCode)?e.stateOrProvinceCode:e.stateOrProvince,email:t};return e.address2&&(n.street_address2=e.address2),e.phone&&(n.phone=e.phone),n}authorize(){return new Promise((e,t)=>{const n=this.paymentIntegrationService.getState(),r=n.getBillingAddress(),o=n.getShippingAddress();if(!r)throw new l(i.MissingBillingAddress);if(!this.klarnaCredit)throw new u(a.PaymentNotInitialized);const s=this.getUpdateSessionData(r,o);this.klarnaCredit.authorize(s,n=>n.approved?e(n):n.show_form?t(new h):void t(new y))})}}class w extends s{constructor(e){super(e||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}class P{constructor(e,t=window){this.scriptLoader=e,this.klarnaWindow=t}load(){var e,t,n,i,a,r;return n=this,i=void 0,r=function*(){if((null===(e=this.klarnaWindow.Klarna)||void 0===e?void 0:e.Credit)||(yield this.scriptLoader.loadScript(\"//credit.klarnacdn.net/lib/v1/api.js\")),!(null===(t=this.klarnaWindow.Klarna)||void 0===t?void 0:t.Credit))throw new w;return this.klarnaWindow.Klarna.Credit},new((a=void 0)||(a=Promise))(function(e,t){function o(e){try{d(r.next(e))}catch(e){t(e)}}function s(e){try{d(r.throw(e))}catch(e){t(e)}}function d(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a(function(e){e(n)})).then(o,s)}d((r=r.apply(n,i||[])).next())})}}const k=o(t=>new f(t,new P((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)())),[{id:\"klarna\"}]);var I=function(e,t,n,i){return new(n||(n=Promise))(function(a,r){function o(e){try{d(i.next(e))}catch(e){r(e)}}function s(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}d((i=i.apply(e,t||[])).next())})};class S{constructor(e,t,n){this.paymentIntegrationService=e,this.klarnav2ScriptLoader=t,this.klarnav2TokenUpdater=n}initialize(e){return I(this,void 0,void 0,function*(){this.klarnaPayments=yield this.klarnav2ScriptLoader.load(),this.unsubscribe=this.paymentIntegrationService.subscribe(t=>{t.isPaymentMethodInitialized({methodId:e.methodId,gatewayId:e.gatewayId})&&this.loadPaymentsWidget(e)},e=>{const t=e.getCheckout();return t&&t.outstandingBalance},e=>{const t=e.getCheckout();return t&&t.coupons}),yield this.loadPaymentsWidget(e)})}deinitialize(){return this.unsubscribe&&this.unsubscribe(),Promise.resolve()}execute(e,t){return I(this,void 0,void 0,function*(){if(!e.payment)throw new d('Unable to proceed because \"payload.payment\" argument is not provided.');const n=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n}(e.payment,[]),{gatewayId:i,methodId:a}=n;if(!i)throw new d('Unable to proceed because \"payload.payment.gatewayId\" argument is not provided.');const r=this.paymentIntegrationService.getState(),{id:o}=r.getCartOrThrow(),{clientToken:s}=r.getPaymentMethodOrThrow(a);yield this.klarnav2TokenUpdater.klarnaOrderInitialization(o,s);const c=this.isKlarnaSingleRadioButtonEnabled()?i:a,{authorization_token:l}=yield this.authorizeOrThrow(c,a);yield this.paymentIntegrationService.initializePayment(i,{authorizationToken:l}),yield this.paymentIntegrationService.submitOrder(Object.assign(Object.assign({},e),{payment:n,useStoreCredit:e.useStoreCredit}),t)})}finalize(){return Promise.reject(new c)}loadPaymentsWidget(e){return I(this,void 0,void 0,function*(){if(!e.klarnav2)throw new d('Unable to load widget because \"options.klarnav2\" argument is not provided.');const{methodId:t,gatewayId:n,klarnav2:{container:r,onLoad:o}}=e;if(!n)throw new d('Unable to proceed because \"payload.payment.gatewayId\" argument is not provided.');const s=this.paymentIntegrationService.getState(),c={params:s.getCartOrThrow().id};return yield this.klarnav2TokenUpdater.updateClientToken(n,{params:c}).catch(()=>{throw new l(i.MissingPaymentMethod)}),new Promise(e=>{const n=s.getPaymentMethodOrThrow(t);if(!this.klarnaPayments||!n.clientToken)throw new u(a.PaymentNotInitialized);this.klarnaPayments.init({client_token:n.clientToken}),this.klarnaPayments.load({container:r,payment_method_category:this.isKlarnaSingleRadioButtonEnabled()?n.gateway:t},t=>{o&&o(t),e(t)})})})}getUpdateSessionData(e,n,i){if(!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.includes)([...g,...b],n.countryCode))return{};const a={billing_address:this.mapToKlarnaAddress(e,n,n.email)};return i&&(a.shipping_address=this.mapToKlarnaAddress(e,i,n.email)),a}needsStateCode(e){return (0,lodash__WEBPACK_IMPORTED_MODULE_1__.includes)(b,e)}mapToKlarnaAddress(e,t,n){const i=this.paymentIntegrationService.getState(),{checkoutSettings:a}=i.getStoreConfigOrThrow(),r=i.getPaymentMethodOrThrow(e),{enableBillie:o}=r.initializationData||{},s={street_address:t.address1,city:t.city,country:t.countryCode,given_name:t.firstName,family_name:t.lastName,postal_code:t.postalCode,region:this.needsStateCode(t.countryCode)?t.stateOrProvinceCode:t.stateOrProvince,email:n};return t.address2&&(s.street_address2=t.address2),t.phone&&(s.phone=t.phone),t.company&&o&&function(e,t,n=!0){var i;return null!==(i=e[\"PI-3915.b2b_payment_session_for_klarna\"])&&void 0!==i?i:n}(a.features)&&(s.organization_name=t.company),s}authorizeOrThrow(e,t){return I(this,void 0,void 0,function*(){yield this.paymentIntegrationService.loadCheckout();const n=this.paymentIntegrationService.getState(),i=n.getBillingAddressOrThrow(),r=n.getShippingAddress(),o=this.getUpdateSessionData(t,i,r);return new Promise((t,n)=>{if(!this.klarnaPayments)return n(new u(a.PaymentNotInitialized));this.klarnaPayments.authorize({payment_method_category:e},o,e=>e.approved?t(e):e.show_form?n(new h):void n(new y))})})}isKlarnaSingleRadioButtonEnabled(){const{features:e}=this.paymentIntegrationService.getState().getStoreConfigOrThrow().checkoutSettings;return e[\"PI-4025.klarna_single_radio_button\"]}}var C;class M{constructor(e,t=window){this.scriptLoader=e,this.klarnaWindow=t}load(){var e,t,n,i,a,r;return n=this,i=void 0,r=function*(){if((null===(e=this.klarnaWindow.Klarna)||void 0===e?void 0:e.Payments)||(yield this.scriptLoader.loadScript(\"https://x.klarnacdn.net/kp/lib/v1/api.js\")),!(null===(t=this.klarnaWindow.Klarna)||void 0===t?void 0:t.Payments))throw new w;return this.klarnaWindow.Klarna.Payments},new((a=void 0)||(a=Promise))(function(e,t){function o(e){try{d(r.next(e))}catch(e){t(e)}}function s(e){try{d(r.throw(e))}catch(e){t(e)}}function d(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a(function(e){e(n)})).then(o,s)}d((r=r.apply(n,i||[])).next())})}}!function(e){e.Json=\"application/json\",e.JsonV1=\"application/vnd.bc.v1+json\"}(C||(C={}));const O=C,z=\"This API endpoint is for internal use only and may change in the future\",_={\"X-Checkout-SDK-Version\":\"1.808.0\"};class T{constructor(e){this.requestSender=e}updateClientToken(e,{timeout:t,params:n}={}){const i=`/api/storefront/payments/${e}`;return this.requestSender.get(i,{timeout:t,headers:Object.assign({Accept:O.JsonV1,\"X-API-INTERNAL\":z},_),params:n})}klarnaOrderInitialization(e,t){return n=this,i=void 0,r=function*(){const n={headers:Object.assign({Accept:O.JsonV1,\"X-API-INTERNAL\":z},_),body:{cartId:e,clientToken:t}};yield this.requestSender.put(\"/api/storefront/initialization/klarna\",n)},new((a=void 0)||(a=Promise))(function(e,t){function o(e){try{d(r.next(e))}catch(e){t(e)}}function s(e){try{d(r.throw(e))}catch(e){t(e)}}function d(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a(function(e){e(n)})).then(o,s)}d((r=r.apply(n,i||[])).next())});// removed by dead control flow\n var n, i, a, r; }}const U=o(t=>{const{getHost:i}=t.getState(),a=(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_2__.createRequestSender)({host:i()});return new S(t,new M((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)()),new T(a))},[{gateway:\"klarna\"}]);\n//# sourceMappingURL=klarna.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9rbGFybmEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWlLLGFBQWEsZ0JBQWdCLHdCQUF3QixhQUFhLEVBQUUsWUFBWSwrREFBK0QsdUJBQXVCLEVBQUUsc0RBQXNELHNCQUFzQixlQUFlLE1BQU0sdVRBQXVULGtCQUFrQixlQUFlLGlIQUFpSCxrQkFBa0IsY0FBYyxtS0FBbUssYUFBYSxzeUJBQXN5QixTQUFTLEdBQUcsa0JBQWtCLGVBQWUsa0JBQWtCLFVBQVUsb0dBQW9HLCtFQUErRSwrRkFBK0YsdUZBQXVGLHVGQUF1Riw0SEFBNEgsaUZBQWlGLHNHQUFzRyxxRkFBcUYsZ0hBQWdILDZIQUE2SCxzR0FBc0csNkVBQTZFLDJFQUEyRSxhQUFhLHlTQUF5UyxTQUFTLEdBQUcsa0JBQWtCLGVBQWUsa0JBQWtCLFVBQVUsd0hBQXdILHNIQUFzSCx3SEFBd0gsNkhBQTZILDRGQUE0RixpRkFBaUYsa0JBQWtCLGVBQWUsa0hBQWtILFNBQVMsT0FBTyxXQUFXLFdBQVcsa0JBQWtCLGVBQWUsbUJBQW1CLEdBQUcsRUFBRSxNQUFNLDBCQUEwQixNQUFNLHVKQUF1SixrQkFBa0IsZUFBZSxTQUFTLDhFQUE4RSw0RUFBNEUsdUhBQXVILHdCQUF3Qix5Q0FBeUMsY0FBYyxJQUFJLGFBQWEsU0FBUyxNQUFNLGNBQWMsSUFBSSxjQUFjLFNBQVMsTUFBTSxjQUFjLE1BQU0sZ0VBQWdFLEtBQUssYUFBYSwrQkFBK0IsR0FBRyxRQUFRLGlCQUFpQiwyREFBMkQsY0FBYyx3Q0FBd0MscUhBQXFILDhCQUE4QiwwQ0FBMEMsc0JBQXNCLEtBQUssd0JBQXdCLCtCQUErQixLQUFLLHdCQUF3QixvQkFBb0IsMkJBQTJCLEVBQUUsZUFBZSw4REFBOEQsYUFBYSx3Q0FBd0MsbUdBQW1HLG1CQUFtQixjQUFjLG1CQUFtQixTQUFTLHNGQUFzRiw2REFBNkQsUUFBUSxzQ0FBc0MsV0FBVyw2RkFBNkYsU0FBUyxxQkFBcUIsc0JBQXNCLHdCQUF3QixtRUFBbUUscUJBQXFCLGlGQUFpRixLQUFLLDBDQUEwQyxLQUFLLEVBQUUsV0FBVyw2QkFBNkIsY0FBYyx3Q0FBd0MscUdBQXFHLE1BQU0sbUJBQW1CLHNCQUFzQixHQUFHLGlGQUFpRixzRUFBc0UsMENBQTBDLDJFQUEyRSx3QkFBd0IsMkJBQTJCLDBCQUEwQixZQUFZLEtBQUssYUFBYSxFQUFFLEVBQUUsRUFBRSwwQkFBMEIsSUFBSSxnREFBQyxxQ0FBcUMsU0FBUyxvREFBb0Qsb0VBQW9FLGtCQUFrQixPQUFPLGdEQUFDLE1BQU0sd0JBQXdCLFNBQVMsOE5BQThOLCtFQUErRSxZQUFZLDJCQUEyQixtR0FBbUcsMkNBQTJDLDJEQUEyRCx1Q0FBdUMscUZBQXFGLEdBQUcsa0JBQWtCLGVBQWUsK01BQStNLFFBQVEsd0JBQXdCLHdDQUF3QyxPQUFPLGdCQUFnQixxQ0FBcUMsa09BQWtPLHVDQUF1Qyw0Q0FBNEMsY0FBYyxJQUFJLGFBQWEsU0FBUyxNQUFNLGNBQWMsSUFBSSxjQUFjLFNBQVMsTUFBTSxjQUFjLE1BQU0sZ0VBQWdFLEtBQUssYUFBYSwrQkFBK0IsR0FBRywyQkFBMkIsMkVBQUMsT0FBTyxZQUFZLEdBQUcsd0JBQXdCLHlDQUF5QyxjQUFjLElBQUksYUFBYSxTQUFTLE1BQU0sY0FBYyxJQUFJLGNBQWMsU0FBUyxNQUFNLGNBQWMsTUFBTSxnRUFBZ0UsS0FBSyxhQUFhLCtCQUErQixHQUFHLFFBQVEsbUJBQW1CLHlGQUF5RixjQUFjLHdDQUF3Qyx5SEFBeUgsOEJBQThCLDBDQUEwQyw4QkFBOEIsS0FBSyx3QkFBd0IsK0JBQStCLEtBQUssd0JBQXdCLG9CQUFvQixtQ0FBbUMsRUFBRSxlQUFlLDhEQUE4RCxhQUFhLHdDQUF3QyxtR0FBbUcsc0JBQXNCLFNBQVMsc0ZBQXNGLDZEQUE2RCxRQUFRLHNDQUFzQyxXQUFXLDZGQUE2RixTQUFTLGdCQUFnQix1QkFBdUIsR0FBRyxxR0FBcUcsbURBQW1ELEtBQUsscUJBQXFCLGNBQWMsOEJBQThCLCtEQUErRCxxREFBcUQsc0JBQXNCLGtDQUFrQywwREFBMEQscUJBQXFCLGlGQUFpRixLQUFLLDBDQUEwQyxLQUFLLEVBQUUsV0FBVyw2QkFBNkIsc0JBQXNCLHdDQUF3Qyx5R0FBeUcsTUFBTSxpQ0FBaUMsc0JBQXNCLEdBQUcscUdBQXFHLHFEQUFxRCw4QkFBOEIsNERBQTRELFNBQVMsYUFBYSxvQ0FBb0Msa0JBQWtCLHFDQUFxQyw2RUFBNkUsMEJBQTBCLDJCQUEyQiw0QkFBNEIsd0ZBQXdGLEtBQUssYUFBYSxFQUFFLEVBQUUsRUFBRSw0QkFBNEIsSUFBSSxnREFBQyxxQ0FBcUMsU0FBUyxzREFBc0Qsc0VBQXNFLGtCQUFrQixPQUFPLGdEQUFDLE1BQU0sMEJBQTBCLG1EQUFtRCxtQkFBbUIsMkRBQTJELGVBQWUseUJBQXlCLElBQUksOE5BQThOLDhHQUE4RyxNQUFNLDhFQUE4RSxnREFBZ0Qsc0JBQXNCLHdDQUF3QyxvREFBb0QsNklBQTZJLDJCQUEyQixpRUFBaUUsK0JBQStCLDBCQUEwQiwwREFBMEQsRUFBRSxFQUFFLG1DQUFtQyxNQUFNLFdBQVcsb0ZBQW9GLGdEQUFnRCxNQUFNLFFBQVEsd0JBQXdCLHdDQUF3QyxPQUFPLGdCQUFnQixxQ0FBcUMsME9BQTBPLHlDQUF5Qyw0Q0FBNEMsY0FBYyxJQUFJLGFBQWEsU0FBUyxNQUFNLGNBQWMsSUFBSSxjQUFjLFNBQVMsTUFBTSxjQUFjLE1BQU0sZ0VBQWdFLEtBQUssYUFBYSwrQkFBK0IsR0FBRyxhQUFhLGdFQUFnRSxTQUFTLEdBQUcseUZBQXlGLG9DQUFvQyxRQUFRLGVBQWUscUJBQXFCLHFCQUFxQixtQkFBbUIsR0FBRyxFQUFFLG9DQUFvQyxFQUFFLEVBQUUsaUNBQWlDLGlDQUFpQyxtQ0FBbUMsYUFBYSxFQUFFLCtCQUErQixxQ0FBcUMsU0FBUyx1QkFBdUIsbUNBQW1DLFVBQVUseUJBQXlCLHdFQUF3RSw0Q0FBNEMsY0FBYyxJQUFJLGFBQWEsU0FBUyxNQUFNLGNBQWMsSUFBSSxjQUFjLFNBQVMsTUFBTSxjQUFjLE1BQU0sZ0VBQWdFLEtBQUssYUFBYSwrQkFBK0IsRUFBRTtBQUFBLGlCQUFXLEVBQUUsY0FBYyxNQUFNLFVBQVUsZ0JBQWdCLGdGQUFDLEVBQUUsU0FBUyxFQUFFLHFCQUFxQiwyRUFBQyxjQUFjLEdBQUcsaUJBQWlCLEdBQStFO0FBQy93ZSIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4uL2NoZWNrb3V0LXNkay1qcy9kaXN0L2VzbS9pbnRlZ3JhdGlvbnMva2xhcm5hLmpzPzUwYWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e2dldFNjcmlwdExvYWRlciBhcyBlfWZyb21cIkBiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyXCI7aW1wb3J0e2luY2x1ZGVzIGFzIHR9ZnJvbVwibG9kYXNoXCI7aW1wb3J0e2NyZWF0ZVJlcXVlc3RTZW5kZXIgYXMgbn1mcm9tXCJAYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXJcIjt2YXIgaSxhLHI9e307ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBPYmplY3QuYXNzaWduKGUse3Jlc29sdmVJZHM6dH0pfXIuZD0oZSx0KT0+e2Zvcih2YXIgbiBpbiB0KXIubyh0LG4pJiYhci5vKGUsbikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4se2VudW1lcmFibGU6ITAsZ2V0OnRbbl19KX0sci5vPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KTtjbGFzcyBzIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSl7dmFyIHQ7c3VwZXIoZXx8XCJBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC5cIiksdGhpcy5uYW1lPVwiU3RhbmRhcmRFcnJvclwiLHRoaXMudHlwZT1cInN0YW5kYXJkXCIsdD1uZXcudGFyZ2V0LnByb3RvdHlwZSxPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdCk6dGhpcy5fX3Byb3RvX189dCxcImZ1bmN0aW9uXCI9PXR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLG5ldy50YXJnZXQpOnRoaXMuc3RhY2s9bmV3IEVycm9yKHRoaXMubWVzc2FnZSkuc3RhY2t9fWNsYXNzIGQgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGV8fFwiSW52YWxpZCBhcmd1bWVudHMgaGF2ZSBiZWVuIHByb3ZpZGVkLlwiKSx0aGlzLm5hbWU9XCJJbnZhbGlkQXJndW1lbnRFcnJvclwiLHRoaXMudHlwZT1cImludmFsaWRfYXJndW1lbnRcIn19Y2xhc3MgYyBleHRlbmRzIHN7Y29uc3RydWN0b3IoKXtzdXBlcihcIlRoZSBjdXJyZW50IG9yZGVyIGRvZXMgbm90IG5lZWQgdG8gYmUgZmluYWxpemVkIGF0IHRoaXMgc3RhZ2UuXCIpLHRoaXMubmFtZT1cIk9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvclwiLHRoaXMudHlwZT1cIm9yZGVyX2ZpbmFsaXphdGlvbl9ub3RfcmVxdWlyZWRcIn19IWZ1bmN0aW9uKGUpe2VbZS5NaXNzaW5nQmlsbGluZ0FkZHJlc3M9MF09XCJNaXNzaW5nQmlsbGluZ0FkZHJlc3NcIixlW2UuTWlzc2luZ0NhcnQ9MV09XCJNaXNzaW5nQ2FydFwiLGVbZS5NaXNzaW5nQ2hlY2tvdXQ9Ml09XCJNaXNzaW5nQ2hlY2tvdXRcIixlW2UuTWlzc2luZ0NvbnNpZ25tZW50cz0zXT1cIk1pc3NpbmdDb25zaWdubWVudHNcIixlW2UuTWlzc2luZ0N1c3RvbWVyPTRdPVwiTWlzc2luZ0N1c3RvbWVyXCIsZVtlLk1pc3NpbmdDaGVja291dENvbmZpZz01XT1cIk1pc3NpbmdDaGVja291dENvbmZpZ1wiLGVbZS5NaXNzaW5nT3JkZXI9Nl09XCJNaXNzaW5nT3JkZXJcIixlW2UuTWlzc2luZ09yZGVyQ29uZmlnPTddPVwiTWlzc2luZ09yZGVyQ29uZmlnXCIsZVtlLk1pc3NpbmdPcmRlcklkPThdPVwiTWlzc2luZ09yZGVySWRcIixlW2UuTWlzc2luZ1BheW1lbnQ9OV09XCJNaXNzaW5nUGF5bWVudFwiLGVbZS5NaXNzaW5nUGF5bWVudElkPTEwXT1cIk1pc3NpbmdQYXltZW50SWRcIixlW2UuTWlzc2luZ1BheW1lbnRJbnN0cnVtZW50PTExXT1cIk1pc3NpbmdQYXltZW50SW5zdHJ1bWVudFwiLGVbZS5NaXNzaW5nUGF5bWVudE1ldGhvZD0xMl09XCJNaXNzaW5nUGF5bWVudE1ldGhvZFwiLGVbZS5NaXNzaW5nUGF5bWVudFJlZGlyZWN0VXJsPTEzXT1cIk1pc3NpbmdQYXltZW50UmVkaXJlY3RVcmxcIixlW2UuTWlzc2luZ1BheW1lbnRTdGF0dXM9MTRdPVwiTWlzc2luZ1BheW1lbnRTdGF0dXNcIixlW2UuTWlzc2luZ1BheW1lbnRUb2tlbj0xNV09XCJNaXNzaW5nUGF5bWVudFRva2VuXCIsZVtlLk1pc3NpbmdTaGlwcGluZ0FkZHJlc3M9MTZdPVwiTWlzc2luZ1NoaXBwaW5nQWRkcmVzc1wifShpfHwoaT17fSkpO2NsYXNzIGwgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIGkuTWlzc2luZ0JpbGxpbmdBZGRyZXNzOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBiaWxsaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtjYXNlIGkuTWlzc2luZ0NhcnQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNhcnQgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtjYXNlIGkuTWlzc2luZ0NvbnNpZ25tZW50czpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY29uc2lnbm1lbnRzIGRhdGEgaXMgdW5hdmFpbGFibGUuXCI7Y2FzZSBpLk1pc3NpbmdDaGVja291dDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY2hlY2tvdXQgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtjYXNlIGkuTWlzc2luZ0N1c3RvbWVyOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjdXN0b21lciBkYXRhIGlzIHVuYXZhaWxhYmxlLlwiO2Nhc2UgaS5NaXNzaW5nQ2hlY2tvdXRDb25maWc6Y2FzZSBpLk1pc3NpbmdPcmRlckNvbmZpZzpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY29uZmlndXJhdGlvbiBkYXRhIGlzIHVuYXZhaWxhYmxlLlwiO2Nhc2UgaS5NaXNzaW5nT3JkZXI6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIG9yZGVyIGRhdGEgaXMgdW5hdmFpbGFibGUuXCI7Y2FzZSBpLk1pc3NpbmdPcmRlcklkOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBvcmRlciBJRCBpcyB1bmF2YWlsYWJsZSBvciBub3QgZ2VuZXJhdGVkIHlldC5cIjtjYXNlIGkuTWlzc2luZ1BheW1lbnQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHBheW1lbnQgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtjYXNlIGkuTWlzc2luZ1BheW1lbnRUb2tlbjpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHRva2VuIHJlcXVpcmVkIHRvIHN1Ym1pdCBhIHBheW1lbnQgaXMgbWlzc2luZy5cIjtjYXNlIGkuTWlzc2luZ1BheW1lbnRNZXRob2Q6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHBheW1lbnQgbWV0aG9kIGRhdGEgaXMgdW5hdmFpbGFibGUgb3Igbm90IHByb3Blcmx5IGNvbmZpZ3VyZWQuXCI7Y2FzZSBpLk1pc3NpbmdTaGlwcGluZ0FkZHJlc3M6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHNoaXBwaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtkZWZhdWx0OnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcmVxdWlyZWQgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIn19KGUpKSx0aGlzLnN1YnR5cGU9ZSx0aGlzLm5hbWU9XCJNaXNzaW5nRGF0YUVycm9yXCIsdGhpcy50eXBlPVwibWlzc2luZ19kYXRhXCJ9fSFmdW5jdGlvbihlKXtlW2UuQ2hlY2tvdXRCdXR0b25Ob3RJbml0aWFsaXplZD0wXT1cIkNoZWNrb3V0QnV0dG9uTm90SW5pdGlhbGl6ZWRcIixlW2UuQ3VzdG9tZXJOb3RJbml0aWFsaXplZD0xXT1cIkN1c3RvbWVyTm90SW5pdGlhbGl6ZWRcIixlW2UuUGF5bWVudE5vdEluaXRpYWxpemVkPTJdPVwiUGF5bWVudE5vdEluaXRpYWxpemVkXCIsZVtlLlNoaXBwaW5nTm90SW5pdGlhbGl6ZWQ9M109XCJTaGlwcGluZ05vdEluaXRpYWxpemVkXCIsZVtlLlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQ9NF09XCJTcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkXCJ9KGF8fChhPXt9KSk7Y2xhc3MgdSBleHRlbmRzIHN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgYS5DdXN0b21lck5vdEluaXRpYWxpemVkOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY3VzdG9tZXIgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuXCI7Y2FzZSBhLlBheW1lbnROb3RJbml0aWFsaXplZDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHBheW1lbnQgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuXCI7Y2FzZSBhLlNoaXBwaW5nTm90SW5pdGlhbGl6ZWQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBzaGlwcGluZyBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC5cIjtjYXNlIGEuU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGNoZWNrb3V0IHNwYW0gcHJvdGVjdGlvbiBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuXCI7ZGVmYXVsdDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHJlcXVpcmVkIGNvbXBvbmVudCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuXCJ9fShlKSksdGhpcy5zdWJ0eXBlPWUsdGhpcy5uYW1lPVwiTm90SW5pdGlhbGl6ZWRFcnJvclwiLHRoaXMudHlwZT1cIm5vdF9pbml0aWFsaXplZFwifX1jbGFzcyBoIGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlfHxcIlBheW1lbnQgcHJvY2VzcyB3YXMgY2FuY2VsbGVkLlwiKSx0aGlzLm5hbWU9XCJQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3JcIix0aGlzLnR5cGU9XCJwYXltZW50X2NhbmNlbGxlZFwifX1jb25zdCBwPXtib2R5Ont9LGhlYWRlcnM6e30sc3RhdHVzOjB9O2NsYXNzIG0gZXh0ZW5kcyBze2NvbnN0cnVjdG9yKGUse21lc3NhZ2U6dCxlcnJvcnM6bn09e30pe2NvbnN0e2JvZHk6aSxoZWFkZXJzOmEsc3RhdHVzOnJ9PWV8fHA7c3VwZXIodHx8XCJBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC5cIiksdGhpcy5uYW1lPVwiUmVxdWVzdEVycm9yXCIsdGhpcy50eXBlPVwicmVxdWVzdFwiLHRoaXMuYm9keT1pLHRoaXMuaGVhZGVycz1hLHRoaXMuc3RhdHVzPXIsdGhpcy5lcnJvcnM9bnx8W119fWNsYXNzIHkgZXh0ZW5kcyBte2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUse21lc3NhZ2U6XCJUaGVyZSBpcyBhIHByb2JsZW0gcHJvY2Vzc2luZyB5b3VyIHBheW1lbnQuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXCJ9KSx0aGlzLm5hbWU9XCJQYXltZW50TWV0aG9kSW52YWxpZEVycm9yXCIsdGhpcy50eXBlPVwicGF5bWVudF9tZXRob2RfaW52YWxpZFwifX1jb25zdCBnPVtcIkFUXCIsXCJCRVwiLFwiQ0FcIixcIkNIXCIsXCJDWlwiLFwiREVcIixcIkRLXCIsXCJFU1wiLFwiRklcIixcIkZSXCIsXCJHQlwiLFwiR1JcIixcIklFXCIsXCJJVFwiLFwiTkxcIixcIk5PXCIsXCJOWlwiLFwiUExcIixcIlBUXCIsXCJTRVwiXSxiPVtcIkFVXCJdO3ZhciB2PWZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKGZ1bmN0aW9uKGEscil7ZnVuY3Rpb24gbyhlKXt0cnl7ZChpLm5leHQoZSkpfWNhdGNoKGUpe3IoZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2QoaS50aHJvdyhlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gZChlKXt2YXIgdDtlLmRvbmU/YShlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oZnVuY3Rpb24oZSl7ZSh0KX0pKS50aGVuKG8scyl9ZCgoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSl9O2NsYXNzIGZ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U9ZSx0aGlzLmtsYXJuYVNjcmlwdExvYWRlcj10fWluaXRpYWxpemUoZSl7cmV0dXJuIHYodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3RoaXMua2xhcm5hQ3JlZGl0PXlpZWxkIHRoaXMua2xhcm5hU2NyaXB0TG9hZGVyLmxvYWQoKSx0aGlzLnVuc3Vic2NyaWJlPXRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJzY3JpYmUodD0+e3QuaXNQYXltZW50TWV0aG9kSW5pdGlhbGl6ZWQoe21ldGhvZElkOmUubWV0aG9kSWQsZ2F0ZXdheUlkOmUuZ2F0ZXdheUlkfSkmJnRoaXMubG9hZFdpZGdldChlKX0sZT0+e2NvbnN0IHQ9ZS5nZXRDaGVja291dCgpO3JldHVybiB0JiZ0Lm91dHN0YW5kaW5nQmFsYW5jZX0sZT0+e2NvbnN0IHQ9ZS5nZXRDaGVja291dCgpO3JldHVybiB0JiZ0LmNvdXBvbnN9KSx5aWVsZCB0aGlzLmxvYWRXaWRnZXQoZSl9KX1kZWluaXRpYWxpemUoKXtyZXR1cm4gdGhpcy51bnN1YnNjcmliZSYmdGhpcy51bnN1YnNjcmliZSgpLFByb21pc2UucmVzb2x2ZSgpfWV4ZWN1dGUoZSx0KXtyZXR1cm4gdih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7aWYoIWUucGF5bWVudCl0aHJvdyBuZXcgZCgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcInBheWxvYWQucGF5bWVudFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTtjb25zdCBuPWUucGF5bWVudCx7cGF5bWVudERhdGE6aX09bixhPWZ1bmN0aW9uKGUsdCl7dmFyIG49e307Zm9yKHZhciBpIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkmJnQuaW5kZXhPZihpKTwwJiYobltpXT1lW2ldKTtpZihudWxsIT1lJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgYT0wO2ZvcihpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7YTxpLmxlbmd0aDthKyspdC5pbmRleE9mKGlbYV0pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLGlbYV0pJiYobltpW2FdXT1lW2lbYV1dKX1yZXR1cm4gbn0obixbXCJwYXltZW50RGF0YVwiXSkse2F1dGhvcml6YXRpb25fdG9rZW46cn09eWllbGQgdGhpcy5hdXRob3JpemUoKTt5aWVsZCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuaW5pdGlhbGl6ZVBheW1lbnQoYS5tZXRob2RJZCx7YXV0aG9yaXphdGlvblRva2VuOnJ9KSx5aWVsZCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHtwYXltZW50OmEsdXNlU3RvcmVDcmVkaXQ6ZS51c2VTdG9yZUNyZWRpdH0pLHQpfSl9ZmluYWxpemUoKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IGMpfWxvYWRXaWRnZXQoZSl7cmV0dXJuIHYodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2lmKCFlLmtsYXJuYSl0aHJvdyBuZXcgZCgnVW5hYmxlIHRvIGxvYWQgd2lkZ2V0IGJlY2F1c2UgXCJvcHRpb25zLmtsYXJuYVwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTtjb25zdHttZXRob2RJZDp0LGtsYXJuYTp7Y29udGFpbmVyOm4sb25Mb2FkOnJ9fT1lO3JldHVybiB5aWVsZCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QodCksbmV3IFByb21pc2UoZT0+e2NvbnN0IG89dGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0UGF5bWVudE1ldGhvZCh0KTtpZighbyl0aHJvdyBuZXcgbChpLk1pc3NpbmdQYXltZW50TWV0aG9kKTtpZighdGhpcy5rbGFybmFDcmVkaXR8fCFvLmNsaWVudFRva2VuKXRocm93IG5ldyB1KGEuUGF5bWVudE5vdEluaXRpYWxpemVkKTt0aGlzLmtsYXJuYUNyZWRpdC5pbml0KHtjbGllbnRfdG9rZW46by5jbGllbnRUb2tlbn0pLHRoaXMua2xhcm5hQ3JlZGl0LmxvYWQoe2NvbnRhaW5lcjpufSx0PT57ciYmcih0KSxlKHQpfSl9KX0pfWdldFVwZGF0ZVNlc3Npb25EYXRhKGUsbil7aWYoIXQoWy4uLmcsLi4uYl0sZS5jb3VudHJ5Q29kZSkpcmV0dXJue307Y29uc3QgaT17YmlsbGluZ19hZGRyZXNzOnRoaXMubWFwVG9LbGFybmFBZGRyZXNzKGUsZS5lbWFpbCl9O3JldHVybiBuJiYoaS5zaGlwcGluZ19hZGRyZXNzPXRoaXMubWFwVG9LbGFybmFBZGRyZXNzKG4sZS5lbWFpbCkpLGl9bmVlZHNTdGF0ZUNvZGUoZSl7cmV0dXJuIHQoYixlKX1tYXBUb0tsYXJuYUFkZHJlc3MoZSx0KXtjb25zdCBuPXtzdHJlZXRfYWRkcmVzczplLmFkZHJlc3MxLGNpdHk6ZS5jaXR5LGNvdW50cnk6ZS5jb3VudHJ5Q29kZSxnaXZlbl9uYW1lOmUuZmlyc3ROYW1lLGZhbWlseV9uYW1lOmUubGFzdE5hbWUscG9zdGFsX2NvZGU6ZS5wb3N0YWxDb2RlLHJlZ2lvbjp0aGlzLm5lZWRzU3RhdGVDb2RlKGUuY291bnRyeUNvZGUpP2Uuc3RhdGVPclByb3ZpbmNlQ29kZTplLnN0YXRlT3JQcm92aW5jZSxlbWFpbDp0fTtyZXR1cm4gZS5hZGRyZXNzMiYmKG4uc3RyZWV0X2FkZHJlc3MyPWUuYWRkcmVzczIpLGUucGhvbmUmJihuLnBob25lPWUucGhvbmUpLG59YXV0aG9yaXplKCl7cmV0dXJuIG5ldyBQcm9taXNlKChlLHQpPT57Y29uc3Qgbj10aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKSxyPW4uZ2V0QmlsbGluZ0FkZHJlc3MoKSxvPW4uZ2V0U2hpcHBpbmdBZGRyZXNzKCk7aWYoIXIpdGhyb3cgbmV3IGwoaS5NaXNzaW5nQmlsbGluZ0FkZHJlc3MpO2lmKCF0aGlzLmtsYXJuYUNyZWRpdCl0aHJvdyBuZXcgdShhLlBheW1lbnROb3RJbml0aWFsaXplZCk7Y29uc3Qgcz10aGlzLmdldFVwZGF0ZVNlc3Npb25EYXRhKHIsbyk7dGhpcy5rbGFybmFDcmVkaXQuYXV0aG9yaXplKHMsbj0+bi5hcHByb3ZlZD9lKG4pOm4uc2hvd19mb3JtP3QobmV3IGgpOnZvaWQgdChuZXcgeSkpfSl9fWNsYXNzIHcgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGV8fFwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBpcyBub3QgbG9hZGVkIG9yIHJlYWR5IHRvIGJlIHVzZWQuXCIpLHRoaXMubmFtZT1cIlBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yXCIsdGhpcy50eXBlPVwicGF5bWVudF9tZXRob2RfY2xpZW50X3VuYXZhaWxhYmxlXCJ9fWNsYXNzIFB7Y29uc3RydWN0b3IoZSx0PXdpbmRvdyl7dGhpcy5zY3JpcHRMb2FkZXI9ZSx0aGlzLmtsYXJuYVdpbmRvdz10fWxvYWQoKXt2YXIgZSx0LG4saSxhLHI7cmV0dXJuIG49dGhpcyxpPXZvaWQgMCxyPWZ1bmN0aW9uKigpe2lmKChudWxsPT09KGU9dGhpcy5rbGFybmFXaW5kb3cuS2xhcm5hKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5DcmVkaXQpfHwoeWllbGQgdGhpcy5zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcIi8vY3JlZGl0LmtsYXJuYWNkbi5uZXQvbGliL3YxL2FwaS5qc1wiKSksIShudWxsPT09KHQ9dGhpcy5rbGFybmFXaW5kb3cuS2xhcm5hKXx8dm9pZCAwPT09dD92b2lkIDA6dC5DcmVkaXQpKXRocm93IG5ldyB3O3JldHVybiB0aGlzLmtsYXJuYVdpbmRvdy5LbGFybmEuQ3JlZGl0fSxuZXcoKGE9dm9pZCAwKXx8KGE9UHJvbWlzZSkpKGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbyhlKXt0cnl7ZChyLm5leHQoZSkpfWNhdGNoKGUpe3QoZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Qoci50aHJvdyhlKSl9Y2F0Y2goZSl7dChlKX19ZnVuY3Rpb24gZCh0KXt2YXIgbjt0LmRvbmU/ZSh0LnZhbHVlKToobj10LnZhbHVlLG4gaW5zdGFuY2VvZiBhP246bmV3IGEoZnVuY3Rpb24oZSl7ZShuKX0pKS50aGVuKG8scyl9ZCgocj1yLmFwcGx5KG4saXx8W10pKS5uZXh0KCkpfSl9fWNvbnN0IGs9byh0PT5uZXcgZih0LG5ldyBQKGUoKSkpLFt7aWQ6XCJrbGFybmFcIn1dKTt2YXIgST1mdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKShmdW5jdGlvbihhLHIpe2Z1bmN0aW9uIG8oZSl7dHJ5e2QoaS5uZXh0KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtkKGkudGhyb3coZSkpfWNhdGNoKGUpe3IoZSl9fWZ1bmN0aW9uIGQoZSl7dmFyIHQ7ZS5kb25lP2EoZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKGZ1bmN0aW9uKGUpe2UodCl9KSkudGhlbihvLHMpfWQoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pfTtjbGFzcyBTe2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U9ZSx0aGlzLmtsYXJuYXYyU2NyaXB0TG9hZGVyPXQsdGhpcy5rbGFybmF2MlRva2VuVXBkYXRlcj1ufWluaXRpYWxpemUoZSl7cmV0dXJuIEkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3RoaXMua2xhcm5hUGF5bWVudHM9eWllbGQgdGhpcy5rbGFybmF2MlNjcmlwdExvYWRlci5sb2FkKCksdGhpcy51bnN1YnNjcmliZT10aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3Vic2NyaWJlKHQ9Pnt0LmlzUGF5bWVudE1ldGhvZEluaXRpYWxpemVkKHttZXRob2RJZDplLm1ldGhvZElkLGdhdGV3YXlJZDplLmdhdGV3YXlJZH0pJiZ0aGlzLmxvYWRQYXltZW50c1dpZGdldChlKX0sZT0+e2NvbnN0IHQ9ZS5nZXRDaGVja291dCgpO3JldHVybiB0JiZ0Lm91dHN0YW5kaW5nQmFsYW5jZX0sZT0+e2NvbnN0IHQ9ZS5nZXRDaGVja291dCgpO3JldHVybiB0JiZ0LmNvdXBvbnN9KSx5aWVsZCB0aGlzLmxvYWRQYXltZW50c1dpZGdldChlKX0pfWRlaW5pdGlhbGl6ZSgpe3JldHVybiB0aGlzLnVuc3Vic2NyaWJlJiZ0aGlzLnVuc3Vic2NyaWJlKCksUHJvbWlzZS5yZXNvbHZlKCl9ZXhlY3V0ZShlLHQpe3JldHVybiBJKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtpZighZS5wYXltZW50KXRocm93IG5ldyBkKCdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwicGF5bG9hZC5wYXltZW50XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO2NvbnN0IG49ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtmb3IodmFyIGkgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxpKSYmdC5pbmRleE9mKGkpPDAmJihuW2ldPWVbaV0pO2lmKG51bGwhPWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBhPTA7Zm9yKGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTthPGkubGVuZ3RoO2ErKyl0LmluZGV4T2YoaVthXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsaVthXSkmJihuW2lbYV1dPWVbaVthXV0pfXJldHVybiBufShlLnBheW1lbnQsW10pLHtnYXRld2F5SWQ6aSxtZXRob2RJZDphfT1uO2lmKCFpKXRocm93IG5ldyBkKCdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwicGF5bG9hZC5wYXltZW50LmdhdGV3YXlJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nKTtjb25zdCByPXRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLHtpZDpvfT1yLmdldENhcnRPclRocm93KCkse2NsaWVudFRva2VuOnN9PXIuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3coYSk7eWllbGQgdGhpcy5rbGFybmF2MlRva2VuVXBkYXRlci5rbGFybmFPcmRlckluaXRpYWxpemF0aW9uKG8scyk7Y29uc3QgYz10aGlzLmlzS2xhcm5hU2luZ2xlUmFkaW9CdXR0b25FbmFibGVkKCk/aTphLHthdXRob3JpemF0aW9uX3Rva2VuOmx9PXlpZWxkIHRoaXMuYXV0aG9yaXplT3JUaHJvdyhjLGEpO3lpZWxkIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5pbml0aWFsaXplUGF5bWVudChpLHthdXRob3JpemF0aW9uVG9rZW46bH0pLHlpZWxkIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse3BheW1lbnQ6bix1c2VTdG9yZUNyZWRpdDplLnVzZVN0b3JlQ3JlZGl0fSksdCl9KX1maW5hbGl6ZSgpe3JldHVybiBQcm9taXNlLnJlamVjdChuZXcgYyl9bG9hZFBheW1lbnRzV2lkZ2V0KGUpe3JldHVybiBJKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtpZighZS5rbGFybmF2Mil0aHJvdyBuZXcgZCgnVW5hYmxlIHRvIGxvYWQgd2lkZ2V0IGJlY2F1c2UgXCJvcHRpb25zLmtsYXJuYXYyXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO2NvbnN0e21ldGhvZElkOnQsZ2F0ZXdheUlkOm4sa2xhcm5hdjI6e2NvbnRhaW5lcjpyLG9uTG9hZDpvfX09ZTtpZighbil0aHJvdyBuZXcgZCgnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcInBheWxvYWQucGF5bWVudC5nYXRld2F5SWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7Y29uc3Qgcz10aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKSxjPXtwYXJhbXM6cy5nZXRDYXJ0T3JUaHJvdygpLmlkfTtyZXR1cm4geWllbGQgdGhpcy5rbGFybmF2MlRva2VuVXBkYXRlci51cGRhdGVDbGllbnRUb2tlbihuLHtwYXJhbXM6Y30pLmNhdGNoKCgpPT57dGhyb3cgbmV3IGwoaS5NaXNzaW5nUGF5bWVudE1ldGhvZCl9KSxuZXcgUHJvbWlzZShlPT57Y29uc3Qgbj1zLmdldFBheW1lbnRNZXRob2RPclRocm93KHQpO2lmKCF0aGlzLmtsYXJuYVBheW1lbnRzfHwhbi5jbGllbnRUb2tlbil0aHJvdyBuZXcgdShhLlBheW1lbnROb3RJbml0aWFsaXplZCk7dGhpcy5rbGFybmFQYXltZW50cy5pbml0KHtjbGllbnRfdG9rZW46bi5jbGllbnRUb2tlbn0pLHRoaXMua2xhcm5hUGF5bWVudHMubG9hZCh7Y29udGFpbmVyOnIscGF5bWVudF9tZXRob2RfY2F0ZWdvcnk6dGhpcy5pc0tsYXJuYVNpbmdsZVJhZGlvQnV0dG9uRW5hYmxlZCgpP24uZ2F0ZXdheTp0fSx0PT57byYmbyh0KSxlKHQpfSl9KX0pfWdldFVwZGF0ZVNlc3Npb25EYXRhKGUsbixpKXtpZighdChbLi4uZywuLi5iXSxuLmNvdW50cnlDb2RlKSlyZXR1cm57fTtjb25zdCBhPXtiaWxsaW5nX2FkZHJlc3M6dGhpcy5tYXBUb0tsYXJuYUFkZHJlc3MoZSxuLG4uZW1haWwpfTtyZXR1cm4gaSYmKGEuc2hpcHBpbmdfYWRkcmVzcz10aGlzLm1hcFRvS2xhcm5hQWRkcmVzcyhlLGksbi5lbWFpbCkpLGF9bmVlZHNTdGF0ZUNvZGUoZSl7cmV0dXJuIHQoYixlKX1tYXBUb0tsYXJuYUFkZHJlc3MoZSx0LG4pe2NvbnN0IGk9dGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkse2NoZWNrb3V0U2V0dGluZ3M6YX09aS5nZXRTdG9yZUNvbmZpZ09yVGhyb3coKSxyPWkuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3coZSkse2VuYWJsZUJpbGxpZTpvfT1yLmluaXRpYWxpemF0aW9uRGF0YXx8e30scz17c3RyZWV0X2FkZHJlc3M6dC5hZGRyZXNzMSxjaXR5OnQuY2l0eSxjb3VudHJ5OnQuY291bnRyeUNvZGUsZ2l2ZW5fbmFtZTp0LmZpcnN0TmFtZSxmYW1pbHlfbmFtZTp0Lmxhc3ROYW1lLHBvc3RhbF9jb2RlOnQucG9zdGFsQ29kZSxyZWdpb246dGhpcy5uZWVkc1N0YXRlQ29kZSh0LmNvdW50cnlDb2RlKT90LnN0YXRlT3JQcm92aW5jZUNvZGU6dC5zdGF0ZU9yUHJvdmluY2UsZW1haWw6bn07cmV0dXJuIHQuYWRkcmVzczImJihzLnN0cmVldF9hZGRyZXNzMj10LmFkZHJlc3MyKSx0LnBob25lJiYocy5waG9uZT10LnBob25lKSx0LmNvbXBhbnkmJm8mJmZ1bmN0aW9uKGUsdCxuPSEwKXt2YXIgaTtyZXR1cm4gbnVsbCE9PShpPWVbXCJQSS0zOTE1LmIyYl9wYXltZW50X3Nlc3Npb25fZm9yX2tsYXJuYVwiXSkmJnZvaWQgMCE9PWk/aTpufShhLmZlYXR1cmVzKSYmKHMub3JnYW5pemF0aW9uX25hbWU9dC5jb21wYW55KSxzfWF1dGhvcml6ZU9yVGhyb3coZSx0KXtyZXR1cm4gSSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRDaGVja291dCgpO2NvbnN0IG49dGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCksaT1uLmdldEJpbGxpbmdBZGRyZXNzT3JUaHJvdygpLHI9bi5nZXRTaGlwcGluZ0FkZHJlc3MoKSxvPXRoaXMuZ2V0VXBkYXRlU2Vzc2lvbkRhdGEodCxpLHIpO3JldHVybiBuZXcgUHJvbWlzZSgodCxuKT0+e2lmKCF0aGlzLmtsYXJuYVBheW1lbnRzKXJldHVybiBuKG5ldyB1KGEuUGF5bWVudE5vdEluaXRpYWxpemVkKSk7dGhpcy5rbGFybmFQYXltZW50cy5hdXRob3JpemUoe3BheW1lbnRfbWV0aG9kX2NhdGVnb3J5OmV9LG8sZT0+ZS5hcHByb3ZlZD90KGUpOmUuc2hvd19mb3JtP24obmV3IGgpOnZvaWQgbihuZXcgeSkpfSl9KX1pc0tsYXJuYVNpbmdsZVJhZGlvQnV0dG9uRW5hYmxlZCgpe2NvbnN0e2ZlYXR1cmVzOmV9PXRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldFN0b3JlQ29uZmlnT3JUaHJvdygpLmNoZWNrb3V0U2V0dGluZ3M7cmV0dXJuIGVbXCJQSS00MDI1LmtsYXJuYV9zaW5nbGVfcmFkaW9fYnV0dG9uXCJdfX12YXIgQztjbGFzcyBNe2NvbnN0cnVjdG9yKGUsdD13aW5kb3cpe3RoaXMuc2NyaXB0TG9hZGVyPWUsdGhpcy5rbGFybmFXaW5kb3c9dH1sb2FkKCl7dmFyIGUsdCxuLGksYSxyO3JldHVybiBuPXRoaXMsaT12b2lkIDAscj1mdW5jdGlvbiooKXtpZigobnVsbD09PShlPXRoaXMua2xhcm5hV2luZG93LktsYXJuYSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuUGF5bWVudHMpfHwoeWllbGQgdGhpcy5zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcImh0dHBzOi8veC5rbGFybmFjZG4ubmV0L2twL2xpYi92MS9hcGkuanNcIikpLCEobnVsbD09PSh0PXRoaXMua2xhcm5hV2luZG93LktsYXJuYSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuUGF5bWVudHMpKXRocm93IG5ldyB3O3JldHVybiB0aGlzLmtsYXJuYVdpbmRvdy5LbGFybmEuUGF5bWVudHN9LG5ldygoYT12b2lkIDApfHwoYT1Qcm9taXNlKSkoZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBvKGUpe3RyeXtkKHIubmV4dChlKSl9Y2F0Y2goZSl7dChlKX19ZnVuY3Rpb24gcyhlKXt0cnl7ZChyLnRocm93KGUpKX1jYXRjaChlKXt0KGUpfX1mdW5jdGlvbiBkKHQpe3ZhciBuO3QuZG9uZT9lKHQudmFsdWUpOihuPXQudmFsdWUsbiBpbnN0YW5jZW9mIGE/bjpuZXcgYShmdW5jdGlvbihlKXtlKG4pfSkpLnRoZW4obyxzKX1kKChyPXIuYXBwbHkobixpfHxbXSkpLm5leHQoKSl9KX19IWZ1bmN0aW9uKGUpe2UuSnNvbj1cImFwcGxpY2F0aW9uL2pzb25cIixlLkpzb25WMT1cImFwcGxpY2F0aW9uL3ZuZC5iYy52MStqc29uXCJ9KEN8fChDPXt9KSk7Y29uc3QgTz1DLHo9XCJUaGlzIEFQSSBlbmRwb2ludCBpcyBmb3IgaW50ZXJuYWwgdXNlIG9ubHkgYW5kIG1heSBjaGFuZ2UgaW4gdGhlIGZ1dHVyZVwiLF89e1wiWC1DaGVja291dC1TREstVmVyc2lvblwiOlwiMS44MDguMFwifTtjbGFzcyBUe2NvbnN0cnVjdG9yKGUpe3RoaXMucmVxdWVzdFNlbmRlcj1lfXVwZGF0ZUNsaWVudFRva2VuKGUse3RpbWVvdXQ6dCxwYXJhbXM6bn09e30pe2NvbnN0IGk9YC9hcGkvc3RvcmVmcm9udC9wYXltZW50cy8ke2V9YDtyZXR1cm4gdGhpcy5yZXF1ZXN0U2VuZGVyLmdldChpLHt0aW1lb3V0OnQsaGVhZGVyczpPYmplY3QuYXNzaWduKHtBY2NlcHQ6Ty5Kc29uVjEsXCJYLUFQSS1JTlRFUk5BTFwiOnp9LF8pLHBhcmFtczpufSl9a2xhcm5hT3JkZXJJbml0aWFsaXphdGlvbihlLHQpe3JldHVybiBuPXRoaXMsaT12b2lkIDAscj1mdW5jdGlvbiooKXtjb25zdCBuPXtoZWFkZXJzOk9iamVjdC5hc3NpZ24oe0FjY2VwdDpPLkpzb25WMSxcIlgtQVBJLUlOVEVSTkFMXCI6en0sXyksYm9keTp7Y2FydElkOmUsY2xpZW50VG9rZW46dH19O3lpZWxkIHRoaXMucmVxdWVzdFNlbmRlci5wdXQoXCIvYXBpL3N0b3JlZnJvbnQvaW5pdGlhbGl6YXRpb24va2xhcm5hXCIsbil9LG5ldygoYT12b2lkIDApfHwoYT1Qcm9taXNlKSkoZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBvKGUpe3RyeXtkKHIubmV4dChlKSl9Y2F0Y2goZSl7dChlKX19ZnVuY3Rpb24gcyhlKXt0cnl7ZChyLnRocm93KGUpKX1jYXRjaChlKXt0KGUpfX1mdW5jdGlvbiBkKHQpe3ZhciBuO3QuZG9uZT9lKHQudmFsdWUpOihuPXQudmFsdWUsbiBpbnN0YW5jZW9mIGE/bjpuZXcgYShmdW5jdGlvbihlKXtlKG4pfSkpLnRoZW4obyxzKX1kKChyPXIuYXBwbHkobixpfHxbXSkpLm5leHQoKSl9KTt2YXIgbixpLGEscn19Y29uc3QgVT1vKHQ9Pntjb25zdHtnZXRIb3N0Oml9PXQuZ2V0U3RhdGUoKSxhPW4oe2hvc3Q6aSgpfSk7cmV0dXJuIG5ldyBTKHQsbmV3IE0oZSgpKSxuZXcgVChhKSl9LFt7Z2F0ZXdheTpcImtsYXJuYVwifV0pO2V4cG9ydHtrIGFzIGNyZWF0ZUtsYXJuYVBheW1lbnRTdHJhdGVneSxVIGFzIGNyZWF0ZUtsYXJuYVYyUGF5bWVudFN0cmF0ZWd5fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtsYXJuYS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/klarna.js\n\n}");

/***/ }),

/***/ "./packages/klarna-integration/src/index.ts":
/*!**************************************************!*\
  !*** ./packages/klarna-integration/src/index.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KlarnaPaymentMethod: () => (/* reexport safe */ _klarna_KlarnaPaymentMethod__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   KlarnaV2PaymentMethod: () => (/* reexport safe */ _klarnav2_KlarnaV2PaymentMethod__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _klarna_KlarnaPaymentMethod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./klarna/KlarnaPaymentMethod */ \"./packages/klarna-integration/src/klarna/KlarnaPaymentMethod.tsx\");\n/* harmony import */ var _klarnav2_KlarnaV2PaymentMethod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./klarnav2/KlarnaV2PaymentMethod */ \"./packages/klarna-integration/src/klarnav2/KlarnaV2PaymentMethod.tsx\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9rbGFybmEtaW50ZWdyYXRpb24vc3JjL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEU7QUFDTSIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vcGFja2FnZXMva2xhcm5hLWludGVncmF0aW9uL3NyYy9pbmRleC50cz84OWNmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGRlZmF1bHQgYXMgS2xhcm5hUGF5bWVudE1ldGhvZCB9IGZyb20gJy4va2xhcm5hL0tsYXJuYVBheW1lbnRNZXRob2QnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBLbGFybmFWMlBheW1lbnRNZXRob2QgfSBmcm9tICcuL2tsYXJuYXYyL0tsYXJuYVYyUGF5bWVudE1ldGhvZCc7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/klarna-integration/src/index.ts\n\n}");

/***/ }),

/***/ "./packages/klarna-integration/src/klarna/KlarnaPaymentMethod.tsx":
/*!************************************************************************!*\
  !*** ./packages/klarna-integration/src/klarna/KlarnaPaymentMethod.tsx ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_klarna__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/klarna */ \"../checkout-sdk-js/dist/esm/integrations/klarna.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _bigcommerce_checkout_hosted_widget_integration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bigcommerce/checkout/hosted-widget-integration */ \"./packages/hosted-widget-integration/src/HostedWidgetPaymentComponent.tsx\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/guards/isInstrumentCardCodeRequiredSelector.ts\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/guards/isInstrumentCardNumberRequiredSelector.ts\");\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/toResolvableComponent.tsx\");\n\n\n\n\n\n\n\nconst KlarnaPaymentMethod = (_a) => {\n    var { checkoutService, checkoutState, method, paymentForm } = _a, rest = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__rest)(_a, [\"checkoutService\", \"checkoutState\", \"method\", \"paymentForm\"]);\n    const initializeKlarnaPayment = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((options) => \n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    checkoutService.initializePayment(Object.assign(Object.assign({}, options), { integrations: [_bigcommerce_checkout_sdk_integrations_klarna__WEBPACK_IMPORTED_MODULE_1__.createKlarnaPaymentStrategy], klarna: {\n            container: `#${options.methodId}Widget`,\n        } })), [checkoutService]);\n    const { hidePaymentSubmitButton, disableSubmit, setFieldValue, setSubmit, setValidationSchema, } = paymentForm;\n    const instruments = checkoutState.data.getInstruments(method) || [];\n    const { data: { getCheckout, isPaymentDataRequired }, statuses: { isLoadingInstruments }, } = checkoutState;\n    const checkout = getCheckout();\n    const customer = checkoutState.data.getCustomer();\n    const isGuestCustomer = customer === null || customer === void 0 ? void 0 : customer.isGuest;\n    const isInstrumentFeatureAvailable = !isGuestCustomer && Boolean(method.config.isVaultingEnabled);\n    return (react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_bigcommerce_checkout_hosted_widget_integration__WEBPACK_IMPORTED_MODULE_4__[\"default\"], Object.assign({ containerId: `${method.id}Widget`, deinitializePayment: checkoutService.deinitializePayment, disableSubmit: disableSubmit, hidePaymentSubmitButton: hidePaymentSubmitButton, initializePayment: initializeKlarnaPayment, instruments: instruments, isInstrumentCardCodeRequired: (0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(checkoutState), isInstrumentCardNumberRequired: (0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(checkoutState), isInstrumentFeatureAvailable: isInstrumentFeatureAvailable, isLoadingInstruments: isLoadingInstruments(), isPaymentDataRequired: isPaymentDataRequired(), isSignedIn: (0,lodash__WEBPACK_IMPORTED_MODULE_2__.some)(checkout === null || checkout === void 0 ? void 0 : checkout.payments, { providerId: method.id }), loadInstruments: checkoutService.loadInstruments, method: method, setFieldValue: setFieldValue, setSubmit: setSubmit, setValidationSchema: setValidationSchema, signOut: checkoutService.signOutCustomer }, rest)));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(KlarnaPaymentMethod, [{ id: 'klarna' }]));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9rbGFybmEtaW50ZWdyYXRpb24vc3JjL2tsYXJuYS9LbGFybmFQYXltZW50TWV0aG9kLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBNEY7QUFDOUQ7QUFDcUM7QUFFNEI7QUFJL0M7QUFLTztBQUV2RCxNQUFNLG1CQUFtQixHQUEwQyxDQUFDLEVBTW5FLEVBQUUsRUFBRTtRQU4rRCxFQUNoRSxlQUFlLEVBQ2YsYUFBYSxFQUNiLE1BQU0sRUFDTixXQUFXLE9BRWQsRUFETSxJQUFJLHFEQUx5RCw2REFNbkUsQ0FEVTtJQUVQLE1BQU0sdUJBQXVCLEdBQUcsa0RBQVcsQ0FDdkMsQ0FBQyxPQUFZLEVBQUUsRUFBRTtJQUNiLGlFQUFpRTtJQUNqRSxlQUFlLENBQUMsaUJBQWlCLGlDQUMxQixPQUFPLEtBQ1YsWUFBWSxFQUFFLENBQUMsc0dBQTJCLENBQUMsRUFDM0MsTUFBTSxFQUFFO1lBQ0osU0FBUyxFQUFFLElBQUksT0FBTyxDQUFDLFFBQVEsUUFBUTtTQUMxQyxJQUNILEVBQ04sQ0FBQyxlQUFlLENBQUMsQ0FDcEIsQ0FBQztJQUVGLE1BQU0sRUFDRix1QkFBdUIsRUFDdkIsYUFBYSxFQUNiLGFBQWEsRUFDYixTQUFTLEVBQ1QsbUJBQW1CLEdBQ3RCLEdBQUcsV0FBVyxDQUFDO0lBRWhCLE1BQU0sV0FBVyxHQUFHLGFBQWEsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUVwRSxNQUFNLEVBQ0YsSUFBSSxFQUFFLEVBQUUsV0FBVyxFQUFFLHFCQUFxQixFQUFFLEVBQzVDLFFBQVEsRUFBRSxFQUFFLG9CQUFvQixFQUFFLEdBQ3JDLEdBQUcsYUFBYSxDQUFDO0lBRWxCLE1BQU0sUUFBUSxHQUFHLFdBQVcsRUFBRSxDQUFDO0lBQy9CLE1BQU0sUUFBUSxHQUFHLGFBQWEsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDbEQsTUFBTSxlQUFlLEdBQUcsUUFBUSxhQUFSLFFBQVEsdUJBQVIsUUFBUSxDQUFFLE9BQU8sQ0FBQztJQUMxQyxNQUFNLDRCQUE0QixHQUM5QixDQUFDLGVBQWUsSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBRWpFLE9BQU8sQ0FDSCwyREFBQyx1RkFBNEIsa0JBQ3pCLFdBQVcsRUFBRSxHQUFHLE1BQU0sQ0FBQyxFQUFFLFFBQVEsRUFDakMsbUJBQW1CLEVBQUUsZUFBZSxDQUFDLG1CQUFtQixFQUN4RCxhQUFhLEVBQUUsYUFBYSxFQUM1Qix1QkFBdUIsRUFBRSx1QkFBdUIsRUFDaEQsaUJBQWlCLEVBQUUsdUJBQXVCLEVBQzFDLFdBQVcsRUFBRSxXQUFXLEVBQ3hCLDRCQUE0QixFQUFFLGtGQUFvQyxDQUFDLGFBQWEsQ0FBQyxFQUNqRiw4QkFBOEIsRUFBRSxrRkFBc0MsQ0FBQyxhQUFhLENBQUMsRUFDckYsNEJBQTRCLEVBQUUsNEJBQTRCLEVBQzFELG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLEVBQzVDLHFCQUFxQixFQUFFLHFCQUFxQixFQUFFLEVBQzlDLFVBQVUsRUFBRSw0Q0FBSSxDQUFDLFFBQVEsYUFBUixRQUFRLHVCQUFSLFFBQVEsQ0FBRSxRQUFRLEVBQUUsRUFBRSxVQUFVLEVBQUUsTUFBTSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQy9ELGVBQWUsRUFBRSxlQUFlLENBQUMsZUFBZSxFQUNoRCxNQUFNLEVBQUUsTUFBTSxFQUNkLGFBQWEsRUFBRSxhQUFhLEVBQzVCLFNBQVMsRUFBRSxTQUFTLEVBQ3BCLG1CQUFtQixFQUFFLG1CQUFtQixFQUN4QyxPQUFPLEVBQUUsZUFBZSxDQUFDLGVBQWUsSUFDcEMsSUFBSSxFQUNWLENBQ0wsQ0FBQztBQUNOLENBQUMsQ0FBQztBQUVGLGlFQUFlLHlGQUFxQixDQUNoQyxtQkFBbUIsRUFDbkIsQ0FBQyxFQUFFLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUNyQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvLi9wYWNrYWdlcy9rbGFybmEtaW50ZWdyYXRpb24vc3JjL2tsYXJuYS9LbGFybmFQYXltZW50TWV0aG9kLnRzeD9iMGVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUtsYXJuYVBheW1lbnRTdHJhdGVneSB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvaW50ZWdyYXRpb25zL2tsYXJuYSc7XG5pbXBvcnQgeyBzb21lIH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBSZWFjdCwgeyB0eXBlIEZ1bmN0aW9uQ29tcG9uZW50LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgSG9zdGVkV2lkZ2V0UGF5bWVudENvbXBvbmVudCB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC9ob3N0ZWQtd2lkZ2V0LWludGVncmF0aW9uJztcbmltcG9ydCB7XG4gICAgaXNJbnN0cnVtZW50Q2FyZENvZGVSZXF1aXJlZFNlbGVjdG9yLFxuICAgIGlzSW5zdHJ1bWVudENhcmROdW1iZXJSZXF1aXJlZFNlbGVjdG9yLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQvaW5zdHJ1bWVudC11dGlscyc7XG5pbXBvcnQge1xuICAgIHR5cGUgUGF5bWVudE1ldGhvZFByb3BzLFxuICAgIHR5cGUgUGF5bWVudE1ldGhvZFJlc29sdmVJZCxcbiAgICB0b1Jlc29sdmFibGVDb21wb25lbnQsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmNvbnN0IEtsYXJuYVBheW1lbnRNZXRob2Q6IEZ1bmN0aW9uQ29tcG9uZW50PFBheW1lbnRNZXRob2RQcm9wcz4gPSAoe1xuICAgIGNoZWNrb3V0U2VydmljZSxcbiAgICBjaGVja291dFN0YXRlLFxuICAgIG1ldGhvZCxcbiAgICBwYXltZW50Rm9ybSxcbiAgICAuLi5yZXN0XG59KSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbGl6ZUtsYXJuYVBheW1lbnQgPSB1c2VDYWxsYmFjayhcbiAgICAgICAgKG9wdGlvbnM6IGFueSkgPT5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFyZ3VtZW50XG4gICAgICAgICAgICBjaGVja291dFNlcnZpY2UuaW5pdGlhbGl6ZVBheW1lbnQoe1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgaW50ZWdyYXRpb25zOiBbY3JlYXRlS2xhcm5hUGF5bWVudFN0cmF0ZWd5XSxcbiAgICAgICAgICAgICAgICBrbGFybmE6IHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiBgIyR7b3B0aW9ucy5tZXRob2RJZH1XaWRnZXRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgW2NoZWNrb3V0U2VydmljZV0sXG4gICAgKTtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgaGlkZVBheW1lbnRTdWJtaXRCdXR0b24sXG4gICAgICAgIGRpc2FibGVTdWJtaXQsXG4gICAgICAgIHNldEZpZWxkVmFsdWUsXG4gICAgICAgIHNldFN1Ym1pdCxcbiAgICAgICAgc2V0VmFsaWRhdGlvblNjaGVtYSxcbiAgICB9ID0gcGF5bWVudEZvcm07XG5cbiAgICBjb25zdCBpbnN0cnVtZW50cyA9IGNoZWNrb3V0U3RhdGUuZGF0YS5nZXRJbnN0cnVtZW50cyhtZXRob2QpIHx8IFtdO1xuXG4gICAgY29uc3Qge1xuICAgICAgICBkYXRhOiB7IGdldENoZWNrb3V0LCBpc1BheW1lbnREYXRhUmVxdWlyZWQgfSxcbiAgICAgICAgc3RhdHVzZXM6IHsgaXNMb2FkaW5nSW5zdHJ1bWVudHMgfSxcbiAgICB9ID0gY2hlY2tvdXRTdGF0ZTtcblxuICAgIGNvbnN0IGNoZWNrb3V0ID0gZ2V0Q2hlY2tvdXQoKTtcbiAgICBjb25zdCBjdXN0b21lciA9IGNoZWNrb3V0U3RhdGUuZGF0YS5nZXRDdXN0b21lcigpO1xuICAgIGNvbnN0IGlzR3Vlc3RDdXN0b21lciA9IGN1c3RvbWVyPy5pc0d1ZXN0O1xuICAgIGNvbnN0IGlzSW5zdHJ1bWVudEZlYXR1cmVBdmFpbGFibGUgPVxuICAgICAgICAhaXNHdWVzdEN1c3RvbWVyICYmIEJvb2xlYW4obWV0aG9kLmNvbmZpZy5pc1ZhdWx0aW5nRW5hYmxlZCk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8SG9zdGVkV2lkZ2V0UGF5bWVudENvbXBvbmVudFxuICAgICAgICAgICAgY29udGFpbmVySWQ9e2Ake21ldGhvZC5pZH1XaWRnZXRgfVxuICAgICAgICAgICAgZGVpbml0aWFsaXplUGF5bWVudD17Y2hlY2tvdXRTZXJ2aWNlLmRlaW5pdGlhbGl6ZVBheW1lbnR9XG4gICAgICAgICAgICBkaXNhYmxlU3VibWl0PXtkaXNhYmxlU3VibWl0fVxuICAgICAgICAgICAgaGlkZVBheW1lbnRTdWJtaXRCdXR0b249e2hpZGVQYXltZW50U3VibWl0QnV0dG9ufVxuICAgICAgICAgICAgaW5pdGlhbGl6ZVBheW1lbnQ9e2luaXRpYWxpemVLbGFybmFQYXltZW50fVxuICAgICAgICAgICAgaW5zdHJ1bWVudHM9e2luc3RydW1lbnRzfVxuICAgICAgICAgICAgaXNJbnN0cnVtZW50Q2FyZENvZGVSZXF1aXJlZD17aXNJbnN0cnVtZW50Q2FyZENvZGVSZXF1aXJlZFNlbGVjdG9yKGNoZWNrb3V0U3RhdGUpfVxuICAgICAgICAgICAgaXNJbnN0cnVtZW50Q2FyZE51bWJlclJlcXVpcmVkPXtpc0luc3RydW1lbnRDYXJkTnVtYmVyUmVxdWlyZWRTZWxlY3RvcihjaGVja291dFN0YXRlKX1cbiAgICAgICAgICAgIGlzSW5zdHJ1bWVudEZlYXR1cmVBdmFpbGFibGU9e2lzSW5zdHJ1bWVudEZlYXR1cmVBdmFpbGFibGV9XG4gICAgICAgICAgICBpc0xvYWRpbmdJbnN0cnVtZW50cz17aXNMb2FkaW5nSW5zdHJ1bWVudHMoKX1cbiAgICAgICAgICAgIGlzUGF5bWVudERhdGFSZXF1aXJlZD17aXNQYXltZW50RGF0YVJlcXVpcmVkKCl9XG4gICAgICAgICAgICBpc1NpZ25lZEluPXtzb21lKGNoZWNrb3V0Py5wYXltZW50cywgeyBwcm92aWRlcklkOiBtZXRob2QuaWQgfSl9XG4gICAgICAgICAgICBsb2FkSW5zdHJ1bWVudHM9e2NoZWNrb3V0U2VydmljZS5sb2FkSW5zdHJ1bWVudHN9XG4gICAgICAgICAgICBtZXRob2Q9e21ldGhvZH1cbiAgICAgICAgICAgIHNldEZpZWxkVmFsdWU9e3NldEZpZWxkVmFsdWV9XG4gICAgICAgICAgICBzZXRTdWJtaXQ9e3NldFN1Ym1pdH1cbiAgICAgICAgICAgIHNldFZhbGlkYXRpb25TY2hlbWE9e3NldFZhbGlkYXRpb25TY2hlbWF9XG4gICAgICAgICAgICBzaWduT3V0PXtjaGVja291dFNlcnZpY2Uuc2lnbk91dEN1c3RvbWVyfVxuICAgICAgICAgICAgey4uLnJlc3R9XG4gICAgICAgIC8+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZUNvbXBvbmVudDxQYXltZW50TWV0aG9kUHJvcHMsIFBheW1lbnRNZXRob2RSZXNvbHZlSWQ+KFxuICAgIEtsYXJuYVBheW1lbnRNZXRob2QsXG4gICAgW3sgaWQ6ICdrbGFybmEnIH1dLFxuKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./packages/klarna-integration/src/klarna/KlarnaPaymentMethod.tsx\n\n}");

/***/ }),

/***/ "./packages/klarna-integration/src/klarnav2/KlarnaV2PaymentMethod.tsx":
/*!****************************************************************************!*\
  !*** ./packages/klarna-integration/src/klarnav2/KlarnaV2PaymentMethod.tsx ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_klarna__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/klarna */ \"../checkout-sdk-js/dist/esm/integrations/klarna.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _bigcommerce_checkout_hosted_widget_integration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bigcommerce/checkout/hosted-widget-integration */ \"./packages/hosted-widget-integration/src/HostedWidgetPaymentComponent.tsx\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/guards/isInstrumentCardCodeRequiredSelector.ts\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/guards/isInstrumentCardNumberRequiredSelector.ts\");\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/toResolvableComponent.tsx\");\n\n\n\n\n\n\n\nconst KlarnaV2PaymentMethod = (_a) => {\n    var { checkoutService, checkoutState, method, paymentForm } = _a, rest = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__rest)(_a, [\"checkoutService\", \"checkoutState\", \"method\", \"paymentForm\"]);\n    const initializeKlarnaV2Payment = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((options) => \n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    checkoutService.initializePayment(Object.assign(Object.assign({}, options), { integrations: [_bigcommerce_checkout_sdk_integrations_klarna__WEBPACK_IMPORTED_MODULE_1__.createKlarnaV2PaymentStrategy], klarnav2: {\n            container: `#${options.methodId}Widget`,\n        } })), [checkoutService]);\n    const { hidePaymentSubmitButton, disableSubmit, setFieldValue, setSubmit, setValidationSchema, } = paymentForm;\n    const instruments = checkoutState.data.getInstruments(method) || [];\n    const { data: { getCheckout, isPaymentDataRequired }, statuses: { isLoadingInstruments }, } = checkoutState;\n    const checkout = getCheckout();\n    const customer = checkoutState.data.getCustomer();\n    const isGuestCustomer = customer === null || customer === void 0 ? void 0 : customer.isGuest;\n    const isInstrumentFeatureAvailable = !isGuestCustomer && Boolean(method.config.isVaultingEnabled);\n    return (react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_bigcommerce_checkout_hosted_widget_integration__WEBPACK_IMPORTED_MODULE_4__[\"default\"], Object.assign({ containerId: `${method.id}Widget`, deinitializePayment: checkoutService.deinitializePayment, disableSubmit: disableSubmit, hidePaymentSubmitButton: hidePaymentSubmitButton, initializePayment: initializeKlarnaV2Payment, instruments: instruments, isInstrumentCardCodeRequired: (0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(checkoutState), isInstrumentCardNumberRequired: (0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(checkoutState), isInstrumentFeatureAvailable: isInstrumentFeatureAvailable, isLoadingInstruments: isLoadingInstruments(), isPaymentDataRequired: isPaymentDataRequired(), isSignedIn: (0,lodash__WEBPACK_IMPORTED_MODULE_2__.some)(checkout === null || checkout === void 0 ? void 0 : checkout.payments, { providerId: method.id }), loadInstruments: checkoutService.loadInstruments, method: method, setFieldValue: setFieldValue, setSubmit: setSubmit, setValidationSchema: setValidationSchema, signOut: checkoutService.signOutCustomer }, rest)));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(KlarnaV2PaymentMethod, [{ gateway: 'klarna' }]));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9rbGFybmEtaW50ZWdyYXRpb24vc3JjL2tsYXJuYXYyL0tsYXJuYVYyUGF5bWVudE1ldGhvZC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQThGO0FBQ2hFO0FBQ3FDO0FBRTRCO0FBSS9DO0FBS087QUFFdkQsTUFBTSxxQkFBcUIsR0FBMEMsQ0FBQyxFQU1yRSxFQUFFLEVBQUU7UUFOaUUsRUFDbEUsZUFBZSxFQUNmLGFBQWEsRUFDYixNQUFNLEVBQ04sV0FBVyxPQUVkLEVBRE0sSUFBSSxxREFMMkQsNkRBTXJFLENBRFU7SUFFUCxNQUFNLHlCQUF5QixHQUFHLGtEQUFXLENBQ3pDLENBQUMsT0FBWSxFQUFFLEVBQUU7SUFDYixpRUFBaUU7SUFDakUsZUFBZSxDQUFDLGlCQUFpQixpQ0FDMUIsT0FBTyxLQUNWLFlBQVksRUFBRSxDQUFDLHdHQUE2QixDQUFDLEVBQzdDLFFBQVEsRUFBRTtZQUNOLFNBQVMsRUFBRSxJQUFJLE9BQU8sQ0FBQyxRQUFRLFFBQVE7U0FDMUMsSUFDSCxFQUNOLENBQUMsZUFBZSxDQUFDLENBQ3BCLENBQUM7SUFFRixNQUFNLEVBQ0YsdUJBQXVCLEVBQ3ZCLGFBQWEsRUFDYixhQUFhLEVBQ2IsU0FBUyxFQUNULG1CQUFtQixHQUN0QixHQUFHLFdBQVcsQ0FBQztJQUVoQixNQUFNLFdBQVcsR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7SUFFcEUsTUFBTSxFQUNGLElBQUksRUFBRSxFQUFFLFdBQVcsRUFBRSxxQkFBcUIsRUFBRSxFQUM1QyxRQUFRLEVBQUUsRUFBRSxvQkFBb0IsRUFBRSxHQUNyQyxHQUFHLGFBQWEsQ0FBQztJQUVsQixNQUFNLFFBQVEsR0FBRyxXQUFXLEVBQUUsQ0FBQztJQUMvQixNQUFNLFFBQVEsR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ2xELE1BQU0sZUFBZSxHQUFHLFFBQVEsYUFBUixRQUFRLHVCQUFSLFFBQVEsQ0FBRSxPQUFPLENBQUM7SUFDMUMsTUFBTSw0QkFBNEIsR0FDOUIsQ0FBQyxlQUFlLElBQUksT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUVqRSxPQUFPLENBQ0gsMkRBQUMsdUZBQTRCLGtCQUN6QixXQUFXLEVBQUUsR0FBRyxNQUFNLENBQUMsRUFBRSxRQUFRLEVBQ2pDLG1CQUFtQixFQUFFLGVBQWUsQ0FBQyxtQkFBbUIsRUFDeEQsYUFBYSxFQUFFLGFBQWEsRUFDNUIsdUJBQXVCLEVBQUUsdUJBQXVCLEVBQ2hELGlCQUFpQixFQUFFLHlCQUF5QixFQUM1QyxXQUFXLEVBQUUsV0FBVyxFQUN4Qiw0QkFBNEIsRUFBRSxrRkFBb0MsQ0FBQyxhQUFhLENBQUMsRUFDakYsOEJBQThCLEVBQUUsa0ZBQXNDLENBQUMsYUFBYSxDQUFDLEVBQ3JGLDRCQUE0QixFQUFFLDRCQUE0QixFQUMxRCxvQkFBb0IsRUFBRSxvQkFBb0IsRUFBRSxFQUM1QyxxQkFBcUIsRUFBRSxxQkFBcUIsRUFBRSxFQUM5QyxVQUFVLEVBQUUsNENBQUksQ0FBQyxRQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsUUFBUSxFQUFFLEVBQUUsVUFBVSxFQUFFLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUMvRCxlQUFlLEVBQUUsZUFBZSxDQUFDLGVBQWUsRUFDaEQsTUFBTSxFQUFFLE1BQU0sRUFDZCxhQUFhLEVBQUUsYUFBYSxFQUM1QixTQUFTLEVBQUUsU0FBUyxFQUNwQixtQkFBbUIsRUFBRSxtQkFBbUIsRUFDeEMsT0FBTyxFQUFFLGVBQWUsQ0FBQyxlQUFlLElBQ3BDLElBQUksRUFDVixDQUNMLENBQUM7QUFDTixDQUFDLENBQUM7QUFFRixpRUFBZSx5RkFBcUIsQ0FDaEMscUJBQXFCLEVBQ3JCLENBQUMsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FDMUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vcGFja2FnZXMva2xhcm5hLWludGVncmF0aW9uL3NyYy9rbGFybmF2Mi9LbGFybmFWMlBheW1lbnRNZXRob2QudHN4P2IyYmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlS2xhcm5hVjJQYXltZW50U3RyYXRlZ3kgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2ludGVncmF0aW9ucy9rbGFybmEnO1xuaW1wb3J0IHsgc29tZSB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUmVhY3QsIHsgdHlwZSBGdW5jdGlvbkNvbXBvbmVudCwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IEhvc3RlZFdpZGdldFBheW1lbnRDb21wb25lbnQgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQvaG9zdGVkLXdpZGdldC1pbnRlZ3JhdGlvbic7XG5pbXBvcnQge1xuICAgIGlzSW5zdHJ1bWVudENhcmRDb2RlUmVxdWlyZWRTZWxlY3RvcixcbiAgICBpc0luc3RydW1lbnRDYXJkTnVtYmVyUmVxdWlyZWRTZWxlY3Rvcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L2luc3RydW1lbnQtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICB0eXBlIFBheW1lbnRNZXRob2RQcm9wcyxcbiAgICB0eXBlIFBheW1lbnRNZXRob2RSZXNvbHZlSWQsXG4gICAgdG9SZXNvbHZhYmxlQ29tcG9uZW50LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5jb25zdCBLbGFybmFWMlBheW1lbnRNZXRob2Q6IEZ1bmN0aW9uQ29tcG9uZW50PFBheW1lbnRNZXRob2RQcm9wcz4gPSAoe1xuICAgIGNoZWNrb3V0U2VydmljZSxcbiAgICBjaGVja291dFN0YXRlLFxuICAgIG1ldGhvZCxcbiAgICBwYXltZW50Rm9ybSxcbiAgICAuLi5yZXN0XG59KSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbGl6ZUtsYXJuYVYyUGF5bWVudCA9IHVzZUNhbGxiYWNrKFxuICAgICAgICAob3B0aW9uczogYW55KSA9PlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXJndW1lbnRcbiAgICAgICAgICAgIGNoZWNrb3V0U2VydmljZS5pbml0aWFsaXplUGF5bWVudCh7XG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBpbnRlZ3JhdGlvbnM6IFtjcmVhdGVLbGFybmFWMlBheW1lbnRTdHJhdGVneV0sXG4gICAgICAgICAgICAgICAga2xhcm5hdjI6IHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiBgIyR7b3B0aW9ucy5tZXRob2RJZH1XaWRnZXRgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgW2NoZWNrb3V0U2VydmljZV0sXG4gICAgKTtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgaGlkZVBheW1lbnRTdWJtaXRCdXR0b24sXG4gICAgICAgIGRpc2FibGVTdWJtaXQsXG4gICAgICAgIHNldEZpZWxkVmFsdWUsXG4gICAgICAgIHNldFN1Ym1pdCxcbiAgICAgICAgc2V0VmFsaWRhdGlvblNjaGVtYSxcbiAgICB9ID0gcGF5bWVudEZvcm07XG5cbiAgICBjb25zdCBpbnN0cnVtZW50cyA9IGNoZWNrb3V0U3RhdGUuZGF0YS5nZXRJbnN0cnVtZW50cyhtZXRob2QpIHx8IFtdO1xuXG4gICAgY29uc3Qge1xuICAgICAgICBkYXRhOiB7IGdldENoZWNrb3V0LCBpc1BheW1lbnREYXRhUmVxdWlyZWQgfSxcbiAgICAgICAgc3RhdHVzZXM6IHsgaXNMb2FkaW5nSW5zdHJ1bWVudHMgfSxcbiAgICB9ID0gY2hlY2tvdXRTdGF0ZTtcblxuICAgIGNvbnN0IGNoZWNrb3V0ID0gZ2V0Q2hlY2tvdXQoKTtcbiAgICBjb25zdCBjdXN0b21lciA9IGNoZWNrb3V0U3RhdGUuZGF0YS5nZXRDdXN0b21lcigpO1xuICAgIGNvbnN0IGlzR3Vlc3RDdXN0b21lciA9IGN1c3RvbWVyPy5pc0d1ZXN0O1xuICAgIGNvbnN0IGlzSW5zdHJ1bWVudEZlYXR1cmVBdmFpbGFibGUgPVxuICAgICAgICAhaXNHdWVzdEN1c3RvbWVyICYmIEJvb2xlYW4obWV0aG9kLmNvbmZpZy5pc1ZhdWx0aW5nRW5hYmxlZCk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8SG9zdGVkV2lkZ2V0UGF5bWVudENvbXBvbmVudFxuICAgICAgICAgICAgY29udGFpbmVySWQ9e2Ake21ldGhvZC5pZH1XaWRnZXRgfVxuICAgICAgICAgICAgZGVpbml0aWFsaXplUGF5bWVudD17Y2hlY2tvdXRTZXJ2aWNlLmRlaW5pdGlhbGl6ZVBheW1lbnR9XG4gICAgICAgICAgICBkaXNhYmxlU3VibWl0PXtkaXNhYmxlU3VibWl0fVxuICAgICAgICAgICAgaGlkZVBheW1lbnRTdWJtaXRCdXR0b249e2hpZGVQYXltZW50U3VibWl0QnV0dG9ufVxuICAgICAgICAgICAgaW5pdGlhbGl6ZVBheW1lbnQ9e2luaXRpYWxpemVLbGFybmFWMlBheW1lbnR9XG4gICAgICAgICAgICBpbnN0cnVtZW50cz17aW5zdHJ1bWVudHN9XG4gICAgICAgICAgICBpc0luc3RydW1lbnRDYXJkQ29kZVJlcXVpcmVkPXtpc0luc3RydW1lbnRDYXJkQ29kZVJlcXVpcmVkU2VsZWN0b3IoY2hlY2tvdXRTdGF0ZSl9XG4gICAgICAgICAgICBpc0luc3RydW1lbnRDYXJkTnVtYmVyUmVxdWlyZWQ9e2lzSW5zdHJ1bWVudENhcmROdW1iZXJSZXF1aXJlZFNlbGVjdG9yKGNoZWNrb3V0U3RhdGUpfVxuICAgICAgICAgICAgaXNJbnN0cnVtZW50RmVhdHVyZUF2YWlsYWJsZT17aXNJbnN0cnVtZW50RmVhdHVyZUF2YWlsYWJsZX1cbiAgICAgICAgICAgIGlzTG9hZGluZ0luc3RydW1lbnRzPXtpc0xvYWRpbmdJbnN0cnVtZW50cygpfVxuICAgICAgICAgICAgaXNQYXltZW50RGF0YVJlcXVpcmVkPXtpc1BheW1lbnREYXRhUmVxdWlyZWQoKX1cbiAgICAgICAgICAgIGlzU2lnbmVkSW49e3NvbWUoY2hlY2tvdXQ/LnBheW1lbnRzLCB7IHByb3ZpZGVySWQ6IG1ldGhvZC5pZCB9KX1cbiAgICAgICAgICAgIGxvYWRJbnN0cnVtZW50cz17Y2hlY2tvdXRTZXJ2aWNlLmxvYWRJbnN0cnVtZW50c31cbiAgICAgICAgICAgIG1ldGhvZD17bWV0aG9kfVxuICAgICAgICAgICAgc2V0RmllbGRWYWx1ZT17c2V0RmllbGRWYWx1ZX1cbiAgICAgICAgICAgIHNldFN1Ym1pdD17c2V0U3VibWl0fVxuICAgICAgICAgICAgc2V0VmFsaWRhdGlvblNjaGVtYT17c2V0VmFsaWRhdGlvblNjaGVtYX1cbiAgICAgICAgICAgIHNpZ25PdXQ9e2NoZWNrb3V0U2VydmljZS5zaWduT3V0Q3VzdG9tZXJ9XG4gICAgICAgICAgICB7Li4ucmVzdH1cbiAgICAgICAgLz5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlQ29tcG9uZW50PFBheW1lbnRNZXRob2RQcm9wcywgUGF5bWVudE1ldGhvZFJlc29sdmVJZD4oXG4gICAgS2xhcm5hVjJQYXltZW50TWV0aG9kLFxuICAgIFt7IGdhdGV3YXk6ICdrbGFybmEnIH1dLFxuKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./packages/klarna-integration/src/klarnav2/KlarnaV2PaymentMethod.tsx\n\n}");

/***/ })

}]);