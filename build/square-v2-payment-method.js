"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["square-v2-payment-method"],{

/***/ "../checkout-sdk-js/dist/esm/integrations/squarev2.js":
/*!************************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/squarev2.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSquareV2PaymentStrategy: () => (/* binding */ w)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"../checkout-sdk-js/node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ \"../checkout-sdk-js/node_modules/rxjs/_esm5/internal/observable/fromEvent.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ \"../checkout-sdk-js/node_modules/rxjs/_esm5/internal/observable/merge.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ \"../checkout-sdk-js/node_modules/rxjs/_esm5/internal/operators/distinctUntilChanged.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ \"../checkout-sdk-js/node_modules/rxjs/_esm5/internal/operators/map.js\");\nvar o,a;class s extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class d extends s{constructor(e,t,i){super(i||\"Payment cannot be processed for this order, please select another payment method\"),this.type=\"custom_provider_execute_error\",this.name=t,this.subtype=e}}function c(e,t){if(null==e)throw t?t():new Error(\"An unexpected error has occurred.\");return e}!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(o||(o={}));class u extends s{constructor(e){super(function(e){switch(e){case o.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case o.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case o.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case o.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}!function(e){e.CHARGE=\"CHARGE\",e.STORE=\"STORE\"}(a||(a={}));var l=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class h{constructor(e,t){this._scriptLoader=e,this._paymentIntegrationService=t}initialize({testMode:e,applicationId:t,locationId:i}){return l(this,void 0,void 0,function*(){const n=yield this._scriptLoader.load(e);this._payments=n.payments(t,i)})}deinitialize(){return l(this,void 0,void 0,function*(){this._formValidationSubscription&&this._formValidationSubscription.unsubscribe(),this._card&&(yield this._card.destroy()),this._formValidationSubscription=void 0,this._card=void 0,this._payments=void 0})}initializeCard({containerId:e,style:t,onValidationChange:i}){return l(this,void 0,void 0,function*(){const{postalCode:n}=this._paymentIntegrationService.getState().getBillingAddress()||{};this._card=yield this._getPayments().card(),yield this._card.attach(`#${e}`);try{yield this._card.configure({postalCode:n,style:t})}catch(e){}i&&(this._formValidationSubscription=this._subscribeToFormValidation(this._card,i))})}tokenize(){return l(this,void 0,void 0,function*(){const e=yield this._getCard().tokenize();if(\"OK\"!==e.status||!e.token){let t=`Tokenization failed with status: ${e.status}`;throw e.errors&&(t+=` and errors: ${JSON.stringify(e.errors)}`),new d(\"payment.errors.card_error\",\"SquareV2TokenizationError\",t)}return e.token})}verifyBuyer(e,t){return l(this,void 0,void 0,function*(){return t===a.CHARGE?this._chargeVerifyBuyer(e):this._storeVerifyBuyer(e)})}_getPayments(){return c(this._payments,()=>new u(o.PaymentNotInitialized))}_subscribeToFormValidation(e,o){const a=[\"cardNumber\",\"cvv\"],s=new Set(a),d=[\"focusClassAdded\",\"focusClassRemoved\",\"errorClassAdded\",\"errorClassRemoved\",\"cardBrandChanged\",\"postalCodeChanged\"].map(i=>(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.fromEvent)(e,i));return (0,rxjs__WEBPACK_IMPORTED_MODULE_2__.merge)(...d).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(e=>{const{detail:{field:t,currentState:{isCompletelyValid:i}}}=e;return a.includes(t)&&s[i?\"delete\":\"add\"](t),0===s.size}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.distinctUntilChanged)()).subscribe(o)}_getCard(){return c(this._card,()=>new u(o.PaymentNotInitialized))}_mapToSquareBillingContact({firstName:e,lastName:t,address1:i,address2:n,city:r,stateOrProvinceCode:o,postalCode:a,countryCode:s,email:d,phone:c}){return{givenName:e,familyName:t,addressLines:[i,n],city:r,state:o,postalCode:a,countryCode:s,email:d,phone:c}}_chargeVerifyBuyer(e){return l(this,void 0,void 0,function*(){const{getCheckoutOrThrow:t,getBillingAddressOrThrow:i}=this._paymentIntegrationService.getState(),{outstandingBalance:n,cart:r}=t(),o={amount:n.toString(),billingContact:this._mapToSquareBillingContact(i()),currencyCode:r.currency.code,intent:a.CHARGE},s=yield this._getPayments().verifyBuyer(e,o);return s?s.token:\"\"})}_storeVerifyBuyer(e){return l(this,void 0,void 0,function*(){const{getBillingAddressOrThrow:t}=this._paymentIntegrationService.getState(),i={billingContact:this._mapToSquareBillingContact(t()),intent:a.STORE},n=yield this._getPayments().verifyBuyer(e,i);return n?n.token:\"\"})}}class y extends s{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}const m={body:{},headers:{},status:0};class p extends s{constructor(e,{message:t,errors:i}={}){const{body:n,headers:r,status:o}=e||m;super(t||\"An unexpected error has occurred.\"),this.name=\"RequestError\",this.type=\"request\",this.body=n,this.headers=r,this.status=o,this.errors=i||[]}}class f extends p{constructor(e){super(e,{message:\"There is a problem processing your payment. Please try again later.\"}),this.name=\"PaymentMethodInvalidError\",this.type=\"payment_method_invalid\"}}class v extends y{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}class _ extends s{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}var g=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,s)}d((n=n.apply(e,t||[])).next())})};class b{constructor(e,t){this._paymentIntegrationService=e,this._squareV2PaymentProcessor=t}initialize(e){var t;return g(this,void 0,void 0,function*(){if(!(null===(t=null==e?void 0:e.squarev2)||void 0===t?void 0:t.containerId))throw new y('Unable to proceed because \"containerId\" argument is not provided.');const{methodId:i,squarev2:n}=e,{config:{testMode:r},initializationData:o}=this._paymentIntegrationService.getState().getPaymentMethodOrThrow(i),{applicationId:a,locationId:s}=o||{};if(!a)throw new f;yield this._squareV2PaymentProcessor.initialize({applicationId:a,locationId:s,testMode:r}),yield this._squareV2PaymentProcessor.initializeCard(n)})}execute({payment:e}){return g(this,void 0,void 0,function*(){if(!e)throw new v([\"payment\"]);const{methodId:t,paymentData:i}=e,{shouldSaveInstrument:n,shouldSetAsDefaultInstrument:r}=\"object\"!=typeof(o=i)||null===o||void 0!==o.shouldSaveInstrument&&\"boolean\"!=typeof o.shouldSaveInstrument||void 0!==o.shouldSetAsDefaultInstrument&&\"boolean\"!=typeof o.shouldSetAsDefaultInstrument?{shouldSaveInstrument:!1,shouldSetAsDefaultInstrument:!1}:i;var o;yield this._paymentIntegrationService.submitOrder();const a=i&&function(e){return Boolean(e.instrumentId)}(i)?yield this._getVaultedInstrumentPayload(t,i):yield this._getCardPayload(t,n);yield this._paymentIntegrationService.submitPayment(Object.assign(Object.assign({},e),{paymentData:{formattedPayload:Object.assign(Object.assign({},a),{vault_payment_instrument:n||!1,set_as_default_stored_instrument:r||!1})}}))})}finalize(){return Promise.reject(new _)}deinitialize(){return this._squareV2PaymentProcessor.deinitialize()}shouldVerify(){const{features:e}=this._paymentIntegrationService.getState().getStoreConfigOrThrow().checkoutSettings;return e[\"PROJECT-3828.add_3ds_support_on_squarev2\"]}_getCardPayload(e,t){return g(this,void 0,void 0,function*(){const{getPaymentMethodOrThrow:i}=this._paymentIntegrationService.getState(),{initializationData:n}=i(e),r=yield this._squareV2PaymentProcessor.tokenize();if(n&&\"isSquareV2ApiV2Enabled\"in n?!n.isSquareV2ApiV2Enabled:!this.shouldVerify())return{credit_card_token:{token:r}};let o={nonce:r,token:yield this._squareV2PaymentProcessor.verifyBuyer(r,a.CHARGE)};if(t){const e=yield this._squareV2PaymentProcessor.tokenize();o=Object.assign(Object.assign({},o),{store_card_nonce:e,store_card_token:yield this._squareV2PaymentProcessor.verifyBuyer(e,a.STORE)})}return{credit_card_token:{token:JSON.stringify(o)}}})}_getVaultedInstrumentPayload(e,t){return g(this,void 0,void 0,function*(){const{getPaymentMethodOrThrow:i}=this._paymentIntegrationService.getState(),{initializationData:n}=i(e),{instrumentId:r}=t,o=(n&&\"isSquareV2ApiV2Enabled\"in n?n.isSquareV2ApiV2Enabled:this.shouldVerify())?yield this._squareV2PaymentProcessor.verifyBuyer(yield this._getSquareCardIdOrThrow(e,r),a.CHARGE):void 0;return{bigpay_token:Object.assign({token:r},o&&{three_d_secure:{token:o}})}})}_getSquareCardIdOrThrow(e,t){return g(this,void 0,void 0,function*(){const i=yield this._paymentIntegrationService.loadPaymentMethod(e,{params:{method:e,bigpayToken:t}}),{initializationData:n}=i.getPaymentMethodOrThrow(e),{cardId:r}=n||{};if(!r)throw new v([\"cardId\"]);return r})}}class S extends s{constructor(e){super(e||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}var I;!function(e){e.LIVE=\"https://web.squarecdn.com/v1/square.js\",e.SANDBOX=\"https://sandbox.web.squarecdn.com/v1/square.js\"}(I||(I={}));class P{constructor(e){this._scriptLoader=e}load(e=!1){return t=this,i=void 0,r=function*(){return yield this._scriptLoader.loadScript(e?I.SANDBOX:I.LIVE),function(e){if(!function(e){return\"Square\"in e}(e))throw new S}(window),window.Square},new((n=void 0)||(n=Promise))(function(e,o){function a(e){try{d(r.next(e))}catch(e){o(e)}}function s(e){try{d(r.throw(e))}catch(e){o(e)}}function d(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n(function(e){e(i)})).then(a,s)}d((r=r.apply(t,i||[])).next())});// removed by dead control flow\n var t, i, n, r; }}const w=(z=t=>new b(t,new h(new P((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)()),t)),C=[{id:\"squarev2\"}],console.log(\"resolveIds\",C),Object.assign(z,{resolveIds:C}));var z,C;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9zcXVhcmV2Mi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDQSxJQ0NZQSxFQ0ZBQyxFQ09HLE1BQWVDLFVBQXNCQyxNQUloRCxXQUFBQyxDQUFZQyxHQ1hELElBQXFDQyxFRFk1Q0MsTUFBTUYsR0FBVyxxQ0FKckIsS0FBQUcsS0FBTyxnQkFDUCxLQUFBQyxLQUFPLFdDVHlDSCxhRGNaQSxVQ2JoQ0ksT0FBT0MsZUFDUEQsT0FBT0MsZURZUUMsS0NaZU4sR0RZZk0sS0NWUkMsVUFBWVAsRURZb0IsbUJBQTVCSCxNQUFNVyxrQkFDYlgsTUFBTVcsa0JBQWtCRixpQkFFeEJBLEtBQUtHLE1BQVEsSUFBSVosTUFBTVMsS0FBS1AsU0FBU1UsS0FFN0MsRUVoQlcsTUFBTUMsVUFBNEJkLEVBSTdDLFdBQUFFLENBQVlhLEVBQWlCVCxFQUFjSCxHQUN2Q0UsTUFBTUYsR0FQVixvRkFHQSxLQUFBSSxLQUFPLGdDQU1IRyxLQUFLSixLQUFPQSxFQUNaSSxLQUFLSyxRQUFVQSxDQUNuQixFQ2RXLFNBQVNDLEVBQVNDLEVBQVVDLEdBQ3ZDLEdBQUlELFFBQ0EsTUFBTUMsRUFBZUEsSUFBaUIsSUFBSWpCLE1BQU0scUNBR3BELE9BQU9nQixDQUNYLEVMSkEsU0FBWW5CLEdBQ1IsbUVBQ0EsdURBQ0EscURBQ0EsdURBQ0Esa0VBQ0gsQ0FORCxDQUFZQSxJQUFBQSxFQUF1QixLQWFwQixNQUFNcUIsVUFBNEJuQixFQUM3QyxXQUFBRSxDQUFtQmEsR0FDZlYsTUFPUixTQUF5QkUsR0FDckIsT0FBUUEsR0FDSixLQUFLVCxFQUF3QnNCLHVCQUN6QixNQUFPLG9GQUVYLEtBQUt0QixFQUF3QnVCLHNCQUN6QixNQUFPLG1GQUVYLEtBQUt2QixFQUF3QndCLHVCQUN6QixNQUFPLG9GQUVYLEtBQUt4QixFQUF3QnlCLDZCQUN6QixNQUFPLG1GQUVYLFFBQ0ksTUFBTyw2RUFFbkIsQ0F4QmNDLENBQWdCVCxJQURQ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QixDQUFDLEVBRTFDLElBQUswQyxFQUNELE1BQU0sSUFBSW5ELEVBQTRCLENBQUMsV0FHM0MsT0FBT21ELENBQ1gsRSxFRzlMVyxNQUFNQyxVQUE0QzdLLEVBQzdELFdBQUFFLENBQVlDLEdBQ1JFLE1BQ0lGLEdBQ0ksdUdBR1JPLEtBQUtKLEtBQU8sc0NBQ1pJLEtBQUtILEtBQU8sbUNBQ2hCLEUsSUNWUXVLLEdBQVosU0FBWUEsR0FDUixnREFDQSwwREFDSCxDQUhELENBQVlBLElBQUFBLEVBQXlCLEtBS3RCLE1BQU1DLEVBQ2pCLFdBQUE3SyxDQUFvQndCLEdBQUEsS0FBQUEsY0FBQUEsQ0FBOEIsQ0FFNUMsSUFBQU8sQ0FBS0osR0FBVyxHLHFDQU9sQixhQU5NbkIsS0FBS2dCLGNBQWNzSixXQUNyQm5KLEVBQVdpSixFQUEwQkcsUUFBVUgsRUFBMEJJLE1DSHRFLFNBQThCQyxHQUN6QyxJQUxKLFNBQTBCQSxHQUN0QixNQUFPLFdBQVlBLENBQ3ZCLENBR1NDLENBQWlCRCxHQUNsQixNQUFNLElBQUlOLENBRWxCLENERVFRLENBQXFCRixRQUVkQSxPQUFPRyxNQUNsQixFO21CRVRKLE1BWUEsR0NyQklDLEVEVUFDLEdBRU8sSUFBSTVELEVBQ1A0RCxFQUNBLElBQUkvSixFQUNBLElBQUlzSixFQUFxQlUsMkVBQUFBLElBQ3pCRCxJQ2ZSRSxFRG9CNkQsQ0FBQyxDQUFFQyxHQUFJLGFDbEJwRUMsUUFBUUMsSUFBSSxhQUFjSCxHQUVuQmxMLE9BQU9zTCxPQUFPUCxFQUFRLENBQUVHLGdCQU5wQixJQUNYSCxFQUNBRyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay93ZWJwYWNrL2Jvb3RzdHJhcD9mZmNjIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL25vdC1pbml0aWFsaXplZC1lcnJvci50cz84YjRkIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zcXVhcmV2Mi1pbnRlZ3JhdGlvbi9zcmMvZW51bXMudHM/YWEzZiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9zdGFuZGFyZC1lcnJvci50cz84YTAzIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3NldC1wcm90b3R5cGUtb2YudHM/ODQ1YSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LWV4ZWN1dGUtZXJyb3IudHM/YmI4MCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL3V0aWwtdHlwZXMvZ3VhcmQudHM/NmU2OSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvc3F1YXJldjItaW50ZWdyYXRpb24vc3JjL3NxdWFyZXYyLXBheW1lbnQtcHJvY2Vzc29yLnRzP2E2MmEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvaW52YWxpZC1hcmd1bWVudC1lcnJvci50cz8zOTIxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3JlcXVlc3QtZXJyb3IudHM/Yzg0MCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LW1ldGhvZC1pbnZhbGlkLWVycm9yLnRzPzNhZGYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1hcmd1bWVudC1pbnZhbGlkLWVycm9yLnRzP2E1MDEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvb3JkZXItZmluYWxpemF0aW9uLW5vdC1yZXF1aXJlZC1lcnJvci50cz9iNWExIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zcXVhcmV2Mi1pbnRlZ3JhdGlvbi9zcmMvc3F1YXJldjItcGF5bWVudC1zdHJhdGVneS50cz8wNzIzIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvcGF5bWVudC9pcy1ob3N0ZWQtaW50cnVtZW50LWxpa2UudHM/ODc2MyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL3BheW1lbnQvaXMtdmF1bHRlZC1pbnN0cnVtZW50LnRzPzE4MGYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1tZXRob2QtY2xpZW50LXVuYXZhaWxhYmxlLWVycm9yLnRzP2Y4ZWMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3NxdWFyZXYyLWludGVncmF0aW9uL3NyYy9zcXVhcmV2Mi1zY3JpcHQtbG9hZGVyLnRzPzBjMGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3NxdWFyZXYyLWludGVncmF0aW9uL3NyYy9pcy1zcXVhcmV2Mi13aW5kb3cudHM/MmZkNiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvc3F1YXJldjItaW50ZWdyYXRpb24vc3JjL2NyZWF0ZS1zcXVhcmV2Mi1wYXltZW50LXN0cmF0ZWd5LnRzP2M0ZGQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy90by1yZXNvbHZhYmxlLW1vZHVsZS50cz9kNTIwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuZXhwb3J0IGVudW0gTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUge1xuICAgIENoZWNrb3V0QnV0dG9uTm90SW5pdGlhbGl6ZWQsXG4gICAgQ3VzdG9tZXJOb3RJbml0aWFsaXplZCxcbiAgICBQYXltZW50Tm90SW5pdGlhbGl6ZWQsXG4gICAgU2hpcHBpbmdOb3RJbml0aWFsaXplZCxcbiAgICBTcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkLFxufVxuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3IgaWYgYSBtZXRob2QgcmVxdWlyZXMgYSBjZXJ0YWluIGluaXRpYWxpemF0aW9uIGNhbGwgdG8gYmVcbiAqIG1hZGUgZmlyc3QuIFNvbWUgb2JqZWN0cyBjYW4gYmUgY29uc3RydWN0ZWQgYnV0IHRoZXkgY2Fubm90IGJlIHVzZWQgdW50aWwgYVxuICogc2VwYXJhdGUgaW5pdGlhbGl6YXRpb24gY2FsbCBpcyBtYWRlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb3RJbml0aWFsaXplZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IocHVibGljIHN1YnR5cGU6IE5vdEluaXRpYWxpemVkRXJyb3JUeXBlKSB7XG4gICAgICAgIHN1cGVyKGdldEVycm9yTWVzc2FnZShzdWJ0eXBlKSk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ05vdEluaXRpYWxpemVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnbm90X2luaXRpYWxpemVkJztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZSh0eXBlOiBOb3RJbml0aWFsaXplZEVycm9yVHlwZSk6IHN0cmluZyB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuQ3VzdG9tZXJOb3RJbml0aWFsaXplZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY3VzdG9tZXIgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcblxuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcGF5bWVudCBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuXG4gICAgICAgIGNhc2UgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuU2hpcHBpbmdOb3RJbml0aWFsaXplZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgc2hpcHBpbmcgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcblxuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGNoZWNrb3V0IHNwYW0gcHJvdGVjdGlvbiBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSByZXF1aXJlZCBjb21wb25lbnQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG4gICAgfVxufVxuIiwiZXhwb3J0IGVudW0gU3F1YXJlSW50ZW50IHtcbiAgICBDSEFSR0UgPSAnQ0hBUkdFJyxcbiAgICBTVE9SRSA9ICdTVE9SRScsXG59XG4iLCJpbXBvcnQgQ3VzdG9tRXJyb3IgZnJvbSAnLi9jdXN0b20tZXJyb3InO1xuaW1wb3J0IHNldFByb3RvdHlwZU9mIGZyb20gJy4vc2V0LXByb3RvdHlwZS1vZic7XG5cbi8qKlxuICogVGhpcyBlcnJvciB0eXBlIHNob3VsZCBub3QgYmUgY29uc3RydWN0ZWQgZGlyZWN0bHkuIEl0IGlzIGEgYmFzZSBjbGFzcyBmb3JcbiAqIGFsbCBjdXN0b20gZXJyb3JzIHRocm93biBpbiB0aGlzIGxpYnJhcnkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIFN0YW5kYXJkRXJyb3IgZXh0ZW5kcyBFcnJvciBpbXBsZW1lbnRzIEN1c3RvbUVycm9yIHtcbiAgICBuYW1lID0gJ1N0YW5kYXJkRXJyb3InO1xuICAgIHR5cGUgPSAnc3RhbmRhcmQnO1xuXG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC4nKTtcblxuICAgICAgICBzZXRQcm90b3R5cGVPZih0aGlzLCBuZXcudGFyZ2V0LnByb3RvdHlwZSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgbmV3LnRhcmdldCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKHRoaXMubWVzc2FnZSkuc3RhY2s7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihvYmplY3Q6IGFueSwgcHJvdG90eXBlOiBvYmplY3QpIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihvYmplY3QsIHByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0Ll9fcHJvdG9fXyA9IHByb3RvdHlwZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0O1xufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbmNvbnN0IGRlZmF1bHRNZXNzYWdlID1cbiAgICAnUGF5bWVudCBjYW5ub3QgYmUgcHJvY2Vzc2VkIGZvciB0aGlzIG9yZGVyLCBwbGVhc2Ugc2VsZWN0IGFub3RoZXIgcGF5bWVudCBtZXRob2QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50RXhlY3V0ZUVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgdHlwZSA9ICdjdXN0b21fcHJvdmlkZXJfZXhlY3V0ZV9lcnJvcic7XG4gICAgc3VidHlwZTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3Ioc3VidHlwZTogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSB8fCBkZWZhdWx0TWVzc2FnZSk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5zdWJ0eXBlID0gc3VidHlwZTtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBndWFyZDxUPih2YWx1ZTogVCwgZXJyb3JGYWN0b3J5PzogKCkgPT4gRXJyb3IpOiBOb25OdWxsYWJsZTxUPiB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgZXJyb3JGYWN0b3J5ID8gZXJyb3JGYWN0b3J5KCkgOiBuZXcgRXJyb3IoJ0FuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkLicpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZSBhcyBOb25OdWxsYWJsZTxUPjtcbn1cbiIsImltcG9ydCB7IGZyb21FdmVudCwgbWVyZ2UsIFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgZGlzdGluY3RVbnRpbENoYW5nZWQsIG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuaW1wb3J0IHtcbiAgICBCaWxsaW5nQWRkcmVzcyxcbiAgICBndWFyZCxcbiAgICBOb3RJbml0aWFsaXplZEVycm9yLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLFxuICAgIFBheW1lbnRFeGVjdXRlRXJyb3IsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IFNxdWFyZUludGVudCB9IGZyb20gJy4vZW51bXMnO1xuaW1wb3J0IFNxdWFyZVYyUGF5bWVudEluaXRpYWxpemVPcHRpb25zIGZyb20gJy4vc3F1YXJldjItcGF5bWVudC1pbml0aWFsaXplLW9wdGlvbnMnO1xuaW1wb3J0IFNxdWFyZVYyU2NyaXB0TG9hZGVyIGZyb20gJy4vc3F1YXJldjItc2NyaXB0LWxvYWRlcic7XG5pbXBvcnQge1xuICAgIEJpbGxpbmdDb250YWN0LFxuICAgIENhcmQsXG4gICAgQ2FyZElucHV0RXZlbnQsXG4gICAgQ2FyZElucHV0RXZlbnRUeXBlcyxcbiAgICBDaGFyZ2VWZXJpZnlCdXllckRldGFpbHMsXG4gICAgUGF5bWVudHMsXG4gICAgU3FFdmVudCxcbiAgICBTdG9yZVZlcmlmeUJ1eWVyRGV0YWlscyxcbn0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3F1YXJlVjJQYXltZW50UHJvY2Vzc29yT3B0aW9ucyB7XG4gICAgYXBwbGljYXRpb25JZDogc3RyaW5nO1xuICAgIGxvY2F0aW9uSWQ/OiBzdHJpbmc7XG4gICAgdGVzdE1vZGU/OiBib29sZWFuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcXVhcmVWMlBheW1lbnRQcm9jZXNzb3Ige1xuICAgIHByaXZhdGUgX3BheW1lbnRzPzogUGF5bWVudHM7XG4gICAgcHJpdmF0ZSBfY2FyZD86IENhcmQ7XG4gICAgcHJpdmF0ZSBfZm9ybVZhbGlkYXRpb25TdWJzY3JpcHRpb24/OiBTdWJzY3JpcHRpb247XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBfc2NyaXB0TG9hZGVyOiBTcXVhcmVWMlNjcmlwdExvYWRlcixcbiAgICAgICAgcHJpdmF0ZSBfcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICApIHt9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKHtcbiAgICAgICAgdGVzdE1vZGUsXG4gICAgICAgIGFwcGxpY2F0aW9uSWQsXG4gICAgICAgIGxvY2F0aW9uSWQsXG4gICAgfTogU3F1YXJlVjJQYXltZW50UHJvY2Vzc29yT3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBzcXVhcmUgPSBhd2FpdCB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZCh0ZXN0TW9kZSk7XG5cbiAgICAgICAgdGhpcy5fcGF5bWVudHMgPSBzcXVhcmUucGF5bWVudHMoYXBwbGljYXRpb25JZCwgbG9jYXRpb25JZCk7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5fZm9ybVZhbGlkYXRpb25TdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1WYWxpZGF0aW9uU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY2FyZCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fY2FyZC5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9mb3JtVmFsaWRhdGlvblN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fY2FyZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fcGF5bWVudHMgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZUNhcmQoe1xuICAgICAgICBjb250YWluZXJJZCxcbiAgICAgICAgc3R5bGUsXG4gICAgICAgIG9uVmFsaWRhdGlvbkNoYW5nZSxcbiAgICB9OiBTcXVhcmVWMlBheW1lbnRJbml0aWFsaXplT3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IHBvc3RhbENvZGUgfSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRCaWxsaW5nQWRkcmVzcygpIHx8IHt9O1xuXG4gICAgICAgIHRoaXMuX2NhcmQgPSBhd2FpdCB0aGlzLl9nZXRQYXltZW50cygpLmNhcmQoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fY2FyZC5hdHRhY2goYCMke2NvbnRhaW5lcklkfWApO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9jYXJkLmNvbmZpZ3VyZSh7IHBvc3RhbENvZGUsIHN0eWxlIH0pO1xuICAgICAgICB9IGNhdGNoIChfZXJyb3IpIHtcbiAgICAgICAgICAgIC8qIERvIG5vdGhpbmc6IHdlIHNob3VsZCBub3QgYmxvY2sgc2hvcHBlcnMgZnJvbSBidXlpbmcuICovXG4gICAgICAgIH1cblxuICAgICAgICBpZiAob25WYWxpZGF0aW9uQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLl9mb3JtVmFsaWRhdGlvblN1YnNjcmlwdGlvbiA9IHRoaXMuX3N1YnNjcmliZVRvRm9ybVZhbGlkYXRpb24oXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FyZCxcbiAgICAgICAgICAgICAgICBvblZhbGlkYXRpb25DaGFuZ2UsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgdG9rZW5pemUoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5fZ2V0Q2FyZCgpLnRva2VuaXplKCk7XG5cbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT09ICdPSycgfHwgIXJlc3VsdC50b2tlbikge1xuICAgICAgICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IGBUb2tlbml6YXRpb24gZmFpbGVkIHdpdGggc3RhdHVzOiAke3Jlc3VsdC5zdGF0dXN9YDtcblxuICAgICAgICAgICAgaWYgKHJlc3VsdC5lcnJvcnMpIHtcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgKz0gYCBhbmQgZXJyb3JzOiAke0pTT04uc3RyaW5naWZ5KHJlc3VsdC5lcnJvcnMpfWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50RXhlY3V0ZUVycm9yKFxuICAgICAgICAgICAgICAgICdwYXltZW50LmVycm9ycy5jYXJkX2Vycm9yJyxcbiAgICAgICAgICAgICAgICAnU3F1YXJlVjJUb2tlbml6YXRpb25FcnJvcicsXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQudG9rZW47XG4gICAgfVxuXG4gICAgYXN5bmMgdmVyaWZ5QnV5ZXIodG9rZW46IHN0cmluZywgaW50ZW50OiBTcXVhcmVJbnRlbnQpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICByZXR1cm4gaW50ZW50ID09PSBTcXVhcmVJbnRlbnQuQ0hBUkdFXG4gICAgICAgICAgICA/IHRoaXMuX2NoYXJnZVZlcmlmeUJ1eWVyKHRva2VuKVxuICAgICAgICAgICAgOiB0aGlzLl9zdG9yZVZlcmlmeUJ1eWVyKHRva2VuKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRQYXltZW50cygpOiBQYXltZW50cyB7XG4gICAgICAgIHJldHVybiBndWFyZChcbiAgICAgICAgICAgIHRoaXMuX3BheW1lbnRzLFxuICAgICAgICAgICAgKCkgPT4gbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9zdWJzY3JpYmVUb0Zvcm1WYWxpZGF0aW9uKFxuICAgICAgICBjYXJkOiBDYXJkLFxuICAgICAgICBvYnNlcnZlcjogUmVxdWlyZWQ8U3F1YXJlVjJQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnM+WydvblZhbGlkYXRpb25DaGFuZ2UnXSxcbiAgICApOiBTdWJzY3JpcHRpb24ge1xuICAgICAgICBjb25zdCBibGFja2xpc3QgPSBbJ2NhcmROdW1iZXInLCAnY3Z2J107XG4gICAgICAgIGNvbnN0IGludmFsaWRGaWVsZHMgPSBuZXcgU2V0PHN0cmluZz4oYmxhY2tsaXN0KTtcbiAgICAgICAgY29uc3QgZXZlbnRPYnNlcnZhYmxlcyA9IFtcbiAgICAgICAgICAgICdmb2N1c0NsYXNzQWRkZWQnLFxuICAgICAgICAgICAgJ2ZvY3VzQ2xhc3NSZW1vdmVkJyxcbiAgICAgICAgICAgICdlcnJvckNsYXNzQWRkZWQnLFxuICAgICAgICAgICAgJ2Vycm9yQ2xhc3NSZW1vdmVkJyxcbiAgICAgICAgICAgICdjYXJkQnJhbmRDaGFuZ2VkJyxcbiAgICAgICAgICAgICdwb3N0YWxDb2RlQ2hhbmdlZCcsXG4gICAgICAgIF0ubWFwKChldmVudFR5cGUpID0+IGZyb21FdmVudChjYXJkLCBldmVudFR5cGUgYXMgQ2FyZElucHV0RXZlbnRUeXBlcykpO1xuXG4gICAgICAgIHJldHVybiBtZXJnZSguLi5ldmVudE9ic2VydmFibGVzKVxuICAgICAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICAgICAgbWFwKChldmVudDogU3FFdmVudDxDYXJkSW5wdXRFdmVudD4pOiBib29sZWFuID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlOiB7IGlzQ29tcGxldGVseVZhbGlkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9ID0gZXZlbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJsYWNrbGlzdC5pbmNsdWRlcyhmaWVsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRGaWVsZHNbaXNDb21wbGV0ZWx5VmFsaWQgPyAnZGVsZXRlJyA6ICdhZGQnXShmaWVsZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW52YWxpZEZpZWxkcy5zaXplID09PSAwO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuc3Vic2NyaWJlKG9ic2VydmVyKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRDYXJkKCk6IENhcmQge1xuICAgICAgICByZXR1cm4gZ3VhcmQoXG4gICAgICAgICAgICB0aGlzLl9jYXJkLFxuICAgICAgICAgICAgKCkgPT4gbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9tYXBUb1NxdWFyZUJpbGxpbmdDb250YWN0KHtcbiAgICAgICAgZmlyc3ROYW1lOiBnaXZlbk5hbWUsXG4gICAgICAgIGxhc3ROYW1lOiBmYW1pbHlOYW1lLFxuICAgICAgICBhZGRyZXNzMSxcbiAgICAgICAgYWRkcmVzczIsXG4gICAgICAgIGNpdHksXG4gICAgICAgIHN0YXRlT3JQcm92aW5jZUNvZGU6IHN0YXRlLFxuICAgICAgICBwb3N0YWxDb2RlLFxuICAgICAgICBjb3VudHJ5Q29kZSxcbiAgICAgICAgZW1haWwsXG4gICAgICAgIHBob25lLFxuICAgIH06IEJpbGxpbmdBZGRyZXNzKTogQmlsbGluZ0NvbnRhY3Qge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2l2ZW5OYW1lLFxuICAgICAgICAgICAgZmFtaWx5TmFtZSxcbiAgICAgICAgICAgIGFkZHJlc3NMaW5lczogW2FkZHJlc3MxLCBhZGRyZXNzMl0sXG4gICAgICAgICAgICBjaXR5LFxuICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICBwb3N0YWxDb2RlLFxuICAgICAgICAgICAgY291bnRyeUNvZGUsXG4gICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgIHBob25lLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2NoYXJnZVZlcmlmeUJ1eWVyKHRva2VuOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICBjb25zdCB7IGdldENoZWNrb3V0T3JUaHJvdywgZ2V0QmlsbGluZ0FkZHJlc3NPclRocm93IH0gPVxuICAgICAgICAgICAgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB7IG91dHN0YW5kaW5nQmFsYW5jZSwgY2FydCB9ID0gZ2V0Q2hlY2tvdXRPclRocm93KCk7XG5cbiAgICAgICAgY29uc3QgZGV0YWlsczogQ2hhcmdlVmVyaWZ5QnV5ZXJEZXRhaWxzID0ge1xuICAgICAgICAgICAgYW1vdW50OiBvdXRzdGFuZGluZ0JhbGFuY2UudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIGJpbGxpbmdDb250YWN0OiB0aGlzLl9tYXBUb1NxdWFyZUJpbGxpbmdDb250YWN0KGdldEJpbGxpbmdBZGRyZXNzT3JUaHJvdygpKSxcbiAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY2FydC5jdXJyZW5jeS5jb2RlLFxuICAgICAgICAgICAgaW50ZW50OiBTcXVhcmVJbnRlbnQuQ0hBUkdFLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5fZ2V0UGF5bWVudHMoKS52ZXJpZnlCdXllcih0b2tlbiwgZGV0YWlscyk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlID8gcmVzcG9uc2UudG9rZW4gOiAnJztcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9zdG9yZVZlcmlmeUJ1eWVyKHRva2VuOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICBjb25zdCB7IGdldEJpbGxpbmdBZGRyZXNzT3JUaHJvdyB9ID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IGRldGFpbHM6IFN0b3JlVmVyaWZ5QnV5ZXJEZXRhaWxzID0ge1xuICAgICAgICAgICAgYmlsbGluZ0NvbnRhY3Q6IHRoaXMuX21hcFRvU3F1YXJlQmlsbGluZ0NvbnRhY3QoZ2V0QmlsbGluZ0FkZHJlc3NPclRocm93KCkpLFxuICAgICAgICAgICAgaW50ZW50OiBTcXVhcmVJbnRlbnQuU1RPUkUsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl9nZXRQYXltZW50cygpLnZlcmlmeUJ1eWVyKHRva2VuLCBkZXRhaWxzKTtcblxuICAgICAgICByZXR1cm4gcmVzcG9uc2UgPyByZXNwb25zZS50b2tlbiA6ICcnO1xuICAgIH1cbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIGEgbWV0aG9kIGlzIHVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlXG4gKiBjYWxsZXIgaGFzIG5vdCBwcm92aWRlZCBhbGwgdGhlIGFyZ3VtZW50cyBhY2NvcmRpbmcgdG8gdGhlaXIgcmVxdWlyZW1lbnRzLFxuICogaS5lLjogaWYgYW4gYXJndW1lbnQgaXMgbWlzc2luZyBvciBpdCBpcyBub3QgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW52YWxpZEFyZ3VtZW50RXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ0ludmFsaWQgYXJndW1lbnRzIGhhdmUgYmVlbiBwcm92aWRlZC4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnSW52YWxpZEFyZ3VtZW50RXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnaW52YWxpZF9hcmd1bWVudCc7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVzcG9uc2UgfSBmcm9tICdAYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXInO1xuXG5pbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuY29uc3QgREVGQVVMVF9SRVNQT05TRSA9IHtcbiAgICBib2R5OiB7fSxcbiAgICBoZWFkZXJzOiB7fSxcbiAgICBzdGF0dXM6IDAsXG59O1xuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3IgaWYgd2UgYXJlIHVuYWJsZSB0byBtYWtlIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyLiBJdCB3cmFwc1xuICogYW55IHNlcnZlciByZXNwb25zZSBpbnRvIGEgSlMgZXJyb3Igb2JqZWN0LlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXF1ZXN0RXJyb3I8VEJvZHkgPSBhbnk+IGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgYm9keTogVEJvZHkgfCB7fTtcbiAgICBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAgIGVycm9yczogQXJyYXk8eyBjb2RlOiBzdHJpbmc7IG1lc3NhZ2U/OiBzdHJpbmcgfT47XG4gICAgc3RhdHVzOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcmVzcG9uc2U/OiBSZXNwb25zZTxUQm9keSB8IHt9PixcbiAgICAgICAge1xuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIGVycm9ycyxcbiAgICAgICAgfToge1xuICAgICAgICAgICAgbWVzc2FnZT86IHN0cmluZztcbiAgICAgICAgICAgIGVycm9ycz86IEFycmF5PHsgY29kZTogc3RyaW5nOyBtZXNzYWdlPzogc3RyaW5nIH0+O1xuICAgICAgICB9ID0ge30sXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHsgYm9keSwgaGVhZGVycywgc3RhdHVzIH0gPSByZXNwb25zZSB8fCBERUZBVUxUX1JFU1BPTlNFO1xuXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ0FuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdSZXF1ZXN0RXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAncmVxdWVzdCc7XG4gICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZXNwb25zZSB9IGZyb20gJ0BiaWdjb21tZXJjZS9yZXF1ZXN0LXNlbmRlcic7XG5cbmltcG9ydCBSZXF1ZXN0RXJyb3IgZnJvbSAnLi9yZXF1ZXN0LWVycm9yJztcblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIHdlIGFyZSB1bmFibGUgdG8gc3VjY2Vzc2Z1bGx5IHN1Ym1pdCBhIHNlcnZlciByZXF1ZXN0XG4gKiB1c2luZyBhIHBheW1lbnQgbWV0aG9kIGJlY2F1c2UgdGhlIG1ldGhvZCBoYXMgaW52YWxpZCBjb25maWd1cmF0aW9uIG9yIGlzIGluXG4gKiBhbiBpbnZhbGlkIHN0YXRlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50TWV0aG9kSW52YWxpZEVycm9yPFQgPSBhbnk+IGV4dGVuZHMgUmVxdWVzdEVycm9yPFQ+IHtcbiAgICBjb25zdHJ1Y3RvcihyZXNwb25zZT86IFJlc3BvbnNlPFQ+KSB7XG4gICAgICAgIHN1cGVyKHJlc3BvbnNlLCB7XG4gICAgICAgICAgICBtZXNzYWdlOiAnVGhlcmUgaXMgYSBwcm9ibGVtIHByb2Nlc3NpbmcgeW91ciBwYXltZW50LiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50TWV0aG9kSW52YWxpZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3BheW1lbnRfbWV0aG9kX2ludmFsaWQnO1xuICAgIH1cbn1cbiIsImltcG9ydCBJbnZhbGlkQXJndW1lbnRFcnJvciBmcm9tICcuL2ludmFsaWQtYXJndW1lbnQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIHdlIGFyZSB1bmFibGUgdG8gc3VibWl0IGEgcGF5bWVudCBiZWNhdXNlXG4gKiB0aGUgY2FsbGVyIGhhcyBub3QgcHJvdmlkZWQgYWxsIHRoZSByZXF1aXJlZCBmaWVsZHMsIGkuZS46IGlmIGFuIGFyZ3VtZW50IGlzXG4gKiBtaXNzaW5nIG9yIGl0IGlzIG5vdCB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IgZXh0ZW5kcyBJbnZhbGlkQXJndW1lbnRFcnJvciB7XG4gICAgY29uc3RydWN0b3IoaW52YWxpZEZpZWxkcz86IHN0cmluZ1tdKSB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gJ1VuYWJsZSB0byBzdWJtaXQgcGF5bWVudCBmb3IgdGhlIG9yZGVyIGJlY2F1c2UgdGhlIHBheWxvYWQgaXMgaW52YWxpZC4nO1xuXG4gICAgICAgIGlmIChpbnZhbGlkRmllbGRzKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gYCR7bWVzc2FnZX0gTWFrZSBzdXJlIHRoZSBmb2xsb3dpbmcgZmllbGRzIGFyZSBwcm92aWRlZCBjb3JyZWN0bHk6ICR7aW52YWxpZEZpZWxkcy5qb2luKFxuICAgICAgICAgICAgICAgICcsICcsXG4gICAgICAgICAgICApfS5gO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ1BheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcic7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciBpZiB3ZSBhcmUgdHJ5aW5nIHRvIG1ha2UgYW4gb3JkZXIgZmluYWxpemF0aW9uIHJlcXVlc3QgZm9yIGFcbiAqIHBheW1lbnQgbWV0aG9kIHRoYXQgZG9lcyBub3QgcmVxdWlyZSBzdWNoIHByb2NlZHVyZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdUaGUgY3VycmVudCBvcmRlciBkb2VzIG5vdCBuZWVkIHRvIGJlIGZpbmFsaXplZCBhdCB0aGlzIHN0YWdlLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnb3JkZXJfZmluYWxpemF0aW9uX25vdF9yZXF1aXJlZCc7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtcbiAgICBJbnZhbGlkQXJndW1lbnRFcnJvcixcbiAgICBpc0hvc3RlZEluc3RydW1lbnRMaWtlLFxuICAgIGlzVmF1bHRlZEluc3RydW1lbnQsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yLFxuICAgIFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2RJbnZhbGlkRXJyb3IsXG4gICAgUGF5bWVudFN0cmF0ZWd5LFxuICAgIFZhdWx0ZWRJbnN0cnVtZW50LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgU3F1YXJlSW50ZW50IH0gZnJvbSAnLi9lbnVtcyc7XG5pbXBvcnQgeyBXaXRoU3F1YXJlVjJQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMgfSBmcm9tICcuL3NxdWFyZXYyLXBheW1lbnQtaW5pdGlhbGl6ZS1vcHRpb25zJztcbmltcG9ydCBTcXVhcmVWMlBheW1lbnRQcm9jZXNzb3IgZnJvbSAnLi9zcXVhcmV2Mi1wYXltZW50LXByb2Nlc3Nvcic7XG5pbXBvcnQge1xuICAgIFNxdWFyZUNyZWRpdENhcmRUb2tlbnMsXG4gICAgU3F1YXJlRm9ybWF0dGVkVmF1bHRlZEluc3RydW1lbnQsXG4gICAgU3F1YXJlSW5pdGlhbGl6YXRpb25EYXRhLFxuICAgIFNxdWFyZVBheW1lbnRNZXRob2RJbml0aWFsaXphdGlvbkRhdGEsXG59IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcXVhcmVWMlBheW1lbnRTdHJhdGVneSBpbXBsZW1lbnRzIFBheW1lbnRTdHJhdGVneSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgX3NxdWFyZVYyUGF5bWVudFByb2Nlc3NvcjogU3F1YXJlVjJQYXltZW50UHJvY2Vzc29yLFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM/OiBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoU3F1YXJlVjJQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICghb3B0aW9ucz8uc3F1YXJldjI/LmNvbnRhaW5lcklkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJjb250YWluZXJJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgbWV0aG9kSWQsIHNxdWFyZXYyIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjb25maWc6IHsgdGVzdE1vZGUgfSxcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uRGF0YSxcbiAgICAgICAgfSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2VcbiAgICAgICAgICAgIC5nZXRTdGF0ZSgpXG4gICAgICAgICAgICAuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3c8U3F1YXJlUGF5bWVudE1ldGhvZEluaXRpYWxpemF0aW9uRGF0YT4obWV0aG9kSWQpO1xuICAgICAgICBjb25zdCB7IGFwcGxpY2F0aW9uSWQsIGxvY2F0aW9uSWQgfSA9IGluaXRpYWxpemF0aW9uRGF0YSB8fCB7fTtcblxuICAgICAgICBpZiAoIWFwcGxpY2F0aW9uSWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kSW52YWxpZEVycm9yKCk7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLl9zcXVhcmVWMlBheW1lbnRQcm9jZXNzb3IuaW5pdGlhbGl6ZSh7XG4gICAgICAgICAgICBhcHBsaWNhdGlvbklkLFxuICAgICAgICAgICAgbG9jYXRpb25JZCxcbiAgICAgICAgICAgIHRlc3RNb2RlLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgdGhpcy5fc3F1YXJlVjJQYXltZW50UHJvY2Vzc29yLmluaXRpYWxpemVDYXJkKHNxdWFyZXYyKTtcbiAgICB9XG5cbiAgICBhc3luYyBleGVjdXRlKHsgcGF5bWVudCB9OiBPcmRlclJlcXVlc3RCb2R5KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICghcGF5bWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IG1ldGhvZElkLCBwYXltZW50RGF0YSB9ID0gcGF5bWVudDtcbiAgICAgICAgY29uc3QgeyBzaG91bGRTYXZlSW5zdHJ1bWVudCwgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCB9ID0gaXNIb3N0ZWRJbnN0cnVtZW50TGlrZShcbiAgICAgICAgICAgIHBheW1lbnREYXRhLFxuICAgICAgICApXG4gICAgICAgICAgICA/IHBheW1lbnREYXRhXG4gICAgICAgICAgICA6IHsgc2hvdWxkU2F2ZUluc3RydW1lbnQ6IGZhbHNlLCBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50OiBmYWxzZSB9O1xuXG4gICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIoKTtcblxuICAgICAgICBjb25zdCBzdWJtaXRQYXltZW50UGF5bG9hZCA9XG4gICAgICAgICAgICBwYXltZW50RGF0YSAmJiBpc1ZhdWx0ZWRJbnN0cnVtZW50KHBheW1lbnREYXRhKVxuICAgICAgICAgICAgICAgID8gYXdhaXQgdGhpcy5fZ2V0VmF1bHRlZEluc3RydW1lbnRQYXlsb2FkKG1ldGhvZElkLCBwYXltZW50RGF0YSlcbiAgICAgICAgICAgICAgICA6IGF3YWl0IHRoaXMuX2dldENhcmRQYXlsb2FkKG1ldGhvZElkLCBzaG91bGRTYXZlSW5zdHJ1bWVudCk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHtcbiAgICAgICAgICAgIC4uLnBheW1lbnQsXG4gICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uc3VibWl0UGF5bWVudFBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgIHZhdWx0X3BheW1lbnRfaW5zdHJ1bWVudDogc2hvdWxkU2F2ZUluc3RydW1lbnQgfHwgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHNldF9hc19kZWZhdWx0X3N0b3JlZF9pbnN0cnVtZW50OiBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50IHx8IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmaW5hbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IoKSk7XG4gICAgfVxuXG4gICAgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3F1YXJlVjJQYXltZW50UHJvY2Vzc29yLmRlaW5pdGlhbGl6ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2hvdWxkVmVyaWZ5KCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCB7IGZlYXR1cmVzIH0gPSB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlXG4gICAgICAgICAgICAuZ2V0U3RhdGUoKVxuICAgICAgICAgICAgLmdldFN0b3JlQ29uZmlnT3JUaHJvdygpLmNoZWNrb3V0U2V0dGluZ3M7XG5cbiAgICAgICAgcmV0dXJuIGZlYXR1cmVzWydQUk9KRUNULTM4MjguYWRkXzNkc19zdXBwb3J0X29uX3NxdWFyZXYyJ107XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfZ2V0Q2FyZFBheWxvYWQobWV0aG9kSWQ6IHN0cmluZywgc2hvdWxkU2F2ZUluc3RydW1lbnQ/OiBib29sZWFuKSB7XG4gICAgICAgIGNvbnN0IHsgZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cgfSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgeyBpbml0aWFsaXphdGlvbkRhdGEgfSA9IGdldFBheW1lbnRNZXRob2RPclRocm93PFNxdWFyZUluaXRpYWxpemF0aW9uRGF0YT4obWV0aG9kSWQpO1xuXG4gICAgICAgIGNvbnN0IGNhcmRUb2tlbml6YXRpb25SZXN1bHQgPSBhd2FpdCB0aGlzLl9zcXVhcmVWMlBheW1lbnRQcm9jZXNzb3IudG9rZW5pemUoKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBpbml0aWFsaXphdGlvbkRhdGEgJiYgJ2lzU3F1YXJlVjJBcGlWMkVuYWJsZWQnIGluIGluaXRpYWxpemF0aW9uRGF0YVxuICAgICAgICAgICAgICAgID8gIWluaXRpYWxpemF0aW9uRGF0YS5pc1NxdWFyZVYyQXBpVjJFbmFibGVkXG4gICAgICAgICAgICAgICAgOiAhdGhpcy5zaG91bGRWZXJpZnkoKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY3JlZGl0X2NhcmRfdG9rZW46IHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46IGNhcmRUb2tlbml6YXRpb25SZXN1bHQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdG9rZW5EYXRhOiBTcXVhcmVDcmVkaXRDYXJkVG9rZW5zID0ge1xuICAgICAgICAgICAgbm9uY2U6IGNhcmRUb2tlbml6YXRpb25SZXN1bHQsXG4gICAgICAgICAgICB0b2tlbjogYXdhaXQgdGhpcy5fc3F1YXJlVjJQYXltZW50UHJvY2Vzc29yLnZlcmlmeUJ1eWVyKFxuICAgICAgICAgICAgICAgIGNhcmRUb2tlbml6YXRpb25SZXN1bHQsXG4gICAgICAgICAgICAgICAgU3F1YXJlSW50ZW50LkNIQVJHRSxcbiAgICAgICAgICAgICksXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHNob3VsZFNhdmVJbnN0cnVtZW50KSB7XG4gICAgICAgICAgICAvLyBJTkZPOiBhZGRpdGlvbmFsICd0b2tlbml6ZScgaXMgcmVxdWlyZWQgdG8gdmVyaWZ5IGFuZCBzYXZlIHRoZSBjYXJkXG4gICAgICAgICAgICAvLyBmb3IgZWFjaCAndmVyaWZ5QnV5ZXInIHdlIG5lZWQgdG8gZ2VuZXJhdGUgbmV3IHRva2VuXG4gICAgICAgICAgICBjb25zdCB0b2tlbkZvclNhdmluZ0NhcmQgPSBhd2FpdCB0aGlzLl9zcXVhcmVWMlBheW1lbnRQcm9jZXNzb3IudG9rZW5pemUoKTtcblxuICAgICAgICAgICAgdG9rZW5EYXRhID0ge1xuICAgICAgICAgICAgICAgIC4uLnRva2VuRGF0YSxcbiAgICAgICAgICAgICAgICBzdG9yZV9jYXJkX25vbmNlOiB0b2tlbkZvclNhdmluZ0NhcmQsXG4gICAgICAgICAgICAgICAgc3RvcmVfY2FyZF90b2tlbjogYXdhaXQgdGhpcy5fc3F1YXJlVjJQYXltZW50UHJvY2Vzc29yLnZlcmlmeUJ1eWVyKFxuICAgICAgICAgICAgICAgICAgICB0b2tlbkZvclNhdmluZ0NhcmQsXG4gICAgICAgICAgICAgICAgICAgIFNxdWFyZUludGVudC5TVE9SRSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjcmVkaXRfY2FyZF90b2tlbjoge1xuICAgICAgICAgICAgICAgIHRva2VuOiBKU09OLnN0cmluZ2lmeSh0b2tlbkRhdGEpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9nZXRWYXVsdGVkSW5zdHJ1bWVudFBheWxvYWQoXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgICAgIHBheW1lbnREYXRhOiBWYXVsdGVkSW5zdHJ1bWVudCxcbiAgICApOiBQcm9taXNlPFNxdWFyZUZvcm1hdHRlZFZhdWx0ZWRJbnN0cnVtZW50PiB7XG4gICAgICAgIGNvbnN0IHsgZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cgfSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgeyBpbml0aWFsaXphdGlvbkRhdGEgfSA9IGdldFBheW1lbnRNZXRob2RPclRocm93PFNxdWFyZUluaXRpYWxpemF0aW9uRGF0YT4obWV0aG9kSWQpO1xuXG4gICAgICAgIGNvbnN0IHsgaW5zdHJ1bWVudElkIH0gPSBwYXltZW50RGF0YTtcbiAgICAgICAgY29uc3Qgc2hvdWxkVmVyaWZ5ID1cbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uRGF0YSAmJiAnaXNTcXVhcmVWMkFwaVYyRW5hYmxlZCcgaW4gaW5pdGlhbGl6YXRpb25EYXRhXG4gICAgICAgICAgICAgICAgPyBpbml0aWFsaXphdGlvbkRhdGEuaXNTcXVhcmVWMkFwaVYyRW5hYmxlZFxuICAgICAgICAgICAgICAgIDogdGhpcy5zaG91bGRWZXJpZnkoKTtcbiAgICAgICAgY29uc3QgdmVyaWZpY2F0aW9uVG9rZW4gPSBzaG91bGRWZXJpZnlcbiAgICAgICAgICAgID8gYXdhaXQgdGhpcy5fc3F1YXJlVjJQYXltZW50UHJvY2Vzc29yLnZlcmlmeUJ1eWVyKFxuICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fZ2V0U3F1YXJlQ2FyZElkT3JUaHJvdyhtZXRob2RJZCwgaW5zdHJ1bWVudElkKSxcbiAgICAgICAgICAgICAgICAgIFNxdWFyZUludGVudC5DSEFSR0UsXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiaWdwYXlfdG9rZW46IHtcbiAgICAgICAgICAgICAgICB0b2tlbjogaW5zdHJ1bWVudElkLFxuICAgICAgICAgICAgICAgIC4uLih2ZXJpZmljYXRpb25Ub2tlbiAmJiB7IHRocmVlX2Rfc2VjdXJlOiB7IHRva2VuOiB2ZXJpZmljYXRpb25Ub2tlbiB9IH0pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9nZXRTcXVhcmVDYXJkSWRPclRocm93KG1ldGhvZElkOiBzdHJpbmcsIGluc3RydW1lbnRJZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRQYXltZW50TWV0aG9kKG1ldGhvZElkLCB7XG4gICAgICAgICAgICBwYXJhbXM6IHsgbWV0aG9kOiBtZXRob2RJZCwgYmlncGF5VG9rZW46IGluc3RydW1lbnRJZCB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB7IGluaXRpYWxpemF0aW9uRGF0YSB9ID1cbiAgICAgICAgICAgIHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93PFNxdWFyZUluaXRpYWxpemF0aW9uRGF0YT4obWV0aG9kSWQpO1xuICAgICAgICBjb25zdCB7IGNhcmRJZCB9ID0gaW5pdGlhbGl6YXRpb25EYXRhIHx8IHt9O1xuXG4gICAgICAgIGlmICghY2FyZElkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yKFsnY2FyZElkJ10pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNhcmRJZDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBIb3N0ZWRJbnN0cnVtZW50IH0gZnJvbSAnLi9wYXltZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNIb3N0ZWRJbnN0cnVtZW50TGlrZShcbiAgICBpbnN0cnVtZW50OiB1bmtub3duLFxuKTogaW5zdHJ1bWVudCBpcyBIb3N0ZWRJbnN0cnVtZW50IHtcbiAgICByZXR1cm4gKFxuICAgICAgICB0eXBlb2YgaW5zdHJ1bWVudCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgaW5zdHJ1bWVudCAhPT0gbnVsbCAmJlxuICAgICAgICAodHlwZW9mIChpbnN0cnVtZW50IGFzIEhvc3RlZEluc3RydW1lbnQpLnNob3VsZFNhdmVJbnN0cnVtZW50ID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgdHlwZW9mIChpbnN0cnVtZW50IGFzIEhvc3RlZEluc3RydW1lbnQpLnNob3VsZFNhdmVJbnN0cnVtZW50ID09PSAnYm9vbGVhbicpICYmXG4gICAgICAgICh0eXBlb2YgKGluc3RydW1lbnQgYXMgSG9zdGVkSW5zdHJ1bWVudCkuc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAgIHR5cGVvZiAoaW5zdHJ1bWVudCBhcyBIb3N0ZWRJbnN0cnVtZW50KS5zaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50ID09PSAnYm9vbGVhbicpXG4gICAgKTtcbn1cbiIsImltcG9ydCB7XG4gICAgRm9ybWF0dGVkUGF5bG9hZCxcbiAgICBGb3JtYXR0ZWRWYXVsdGVkSW5zdHJ1bWVudCxcbiAgICBIb3N0ZWRWYXVsdGVkSW5zdHJ1bWVudCxcbiAgICBQYXltZW50SW5zdHJ1bWVudFBheWxvYWQsXG4gICAgVmF1bHRlZEluc3RydW1lbnQsXG59IGZyb20gJy4vcGF5bWVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzVmF1bHRlZEluc3RydW1lbnQoXG4gICAgaW5zdHJ1bWVudDogUGF5bWVudEluc3RydW1lbnRQYXlsb2FkLFxuKTogaW5zdHJ1bWVudCBpcyBWYXVsdGVkSW5zdHJ1bWVudCB7XG4gICAgcmV0dXJuIEJvb2xlYW4oKGluc3RydW1lbnQgYXMgVmF1bHRlZEluc3RydW1lbnQpLmluc3RydW1lbnRJZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0hvc3RlZFZhdWx0ZWRJbnN0cnVtZW50KFxuICAgIGluc3RydW1lbnQ6IFBheW1lbnRJbnN0cnVtZW50UGF5bG9hZCxcbik6IGluc3RydW1lbnQgaXMgSG9zdGVkVmF1bHRlZEluc3RydW1lbnQge1xuICAgIHJldHVybiAoXG4gICAgICAgIEJvb2xlYW4oKGluc3RydW1lbnQgYXMgSG9zdGVkVmF1bHRlZEluc3RydW1lbnQpLmluc3RydW1lbnRJZCkgJiZcbiAgICAgICAgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnN0cnVtZW50LCAnY2NOdW1iZXInKSAmJlxuICAgICAgICAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RydW1lbnQsICdjY0N2dicpXG4gICAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRm9ybWF0dGVkVmF1bHRlZEluc3RydW1lbnQoXG4gICAgaW5zdHJ1bWVudDogUGF5bWVudEluc3RydW1lbnRQYXlsb2FkLFxuKTogaW5zdHJ1bWVudCBpcyBGb3JtYXR0ZWRQYXlsb2FkPEZvcm1hdHRlZFZhdWx0ZWRJbnN0cnVtZW50PiB7XG4gICAgY29uc3QgZm9ybWF0dGVkSW5zdHJ1bWVudCA9IChpbnN0cnVtZW50IGFzIEZvcm1hdHRlZFBheWxvYWQ8Rm9ybWF0dGVkVmF1bHRlZEluc3RydW1lbnQ+KVxuICAgICAgICAuZm9ybWF0dGVkUGF5bG9hZDtcblxuICAgIGlmICghZm9ybWF0dGVkSW5zdHJ1bWVudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgdHlwZW9mIGZvcm1hdHRlZEluc3RydW1lbnQuYmlncGF5X3Rva2VuID09PSAnc3RyaW5nJyB8fFxuICAgICAgICBCb29sZWFuKGZvcm1hdHRlZEluc3RydW1lbnQuYmlncGF5X3Rva2VuICYmIGZvcm1hdHRlZEluc3RydW1lbnQuYmlncGF5X3Rva2VuLnRva2VuKVxuICAgICk7XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBmYWlsc1xuICogdG8gbG9hZCwgb3IgZm9yIHNvbWUgcmVhc29uLCBpdCBpcyBpbmFjY2Vzc2libGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBpcyBub3QgbG9hZGVkIG9yIHJlYWR5IHRvIGJlIHVzZWQuJyxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAncGF5bWVudF9tZXRob2RfY2xpZW50X3VuYXZhaWxhYmxlJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCBhc3NlcnRTcXVhcmVWMldpbmRvdyBmcm9tICcuL2lzLXNxdWFyZXYyLXdpbmRvdyc7XG5pbXBvcnQgeyBTcXVhcmUgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGVudW0gU3F1YXJlVjJXZWJQYXltZW50c1Nka0VudiB7XG4gICAgTElWRSA9ICdodHRwczovL3dlYi5zcXVhcmVjZG4uY29tL3YxL3NxdWFyZS5qcycsXG4gICAgU0FOREJPWCA9ICdodHRwczovL3NhbmRib3gud2ViLnNxdWFyZWNkbi5jb20vdjEvc3F1YXJlLmpzJyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3F1YXJlVjJTY3JpcHRMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX3NjcmlwdExvYWRlcjogU2NyaXB0TG9hZGVyKSB7fVxuXG4gICAgYXN5bmMgbG9hZCh0ZXN0TW9kZSA9IGZhbHNlKTogUHJvbWlzZTxTcXVhcmU+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXG4gICAgICAgICAgICB0ZXN0TW9kZSA/IFNxdWFyZVYyV2ViUGF5bWVudHNTZGtFbnYuU0FOREJPWCA6IFNxdWFyZVYyV2ViUGF5bWVudHNTZGtFbnYuTElWRSxcbiAgICAgICAgKTtcblxuICAgICAgICBhc3NlcnRTcXVhcmVWMldpbmRvdyh3aW5kb3cpO1xuXG4gICAgICAgIHJldHVybiB3aW5kb3cuU3F1YXJlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB0eXBlIHsgU3F1YXJlIH0gZnJvbSAnLi90eXBlcyc7XG5cbmludGVyZmFjZSBTcXVhcmVWMkhvc3RXaW5kb3cgZXh0ZW5kcyBXaW5kb3cge1xuICAgIFNxdWFyZTogU3F1YXJlO1xufVxuXG5mdW5jdGlvbiBpc1NxdWFyZVYyV2luZG93KHdpbmRvdzogV2luZG93KTogd2luZG93IGlzIFNxdWFyZVYySG9zdFdpbmRvdyB7XG4gICAgcmV0dXJuICdTcXVhcmUnIGluIHdpbmRvdztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXNzZXJ0U3F1YXJlVjJXaW5kb3cod2luZG93OiBXaW5kb3cpOiBhc3NlcnRzIHdpbmRvdyBpcyBTcXVhcmVWMkhvc3RXaW5kb3cge1xuICAgIGlmICghaXNTcXVhcmVWMldpbmRvdyh3aW5kb3cpKSB7XG4gICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvcigpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHtcbiAgICBQYXltZW50U3RyYXRlZ3ksXG4gICAgUGF5bWVudFN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgU3F1YXJlVjJQYXltZW50UHJvY2Vzc29yIGZyb20gJy4vc3F1YXJldjItcGF5bWVudC1wcm9jZXNzb3InO1xuaW1wb3J0IFNxdWFyZVYyUGF5bWVudFN0cmF0ZWd5IGZyb20gJy4vc3F1YXJldjItcGF5bWVudC1zdHJhdGVneSc7XG5pbXBvcnQgU3F1YXJlVjJTY3JpcHRMb2FkZXIgZnJvbSAnLi9zcXVhcmV2Mi1zY3JpcHQtbG9hZGVyJztcblxuY29uc3QgY3JlYXRlU3F1YXJlVjJQYXltZW50U3RyYXRlZ3k6IFBheW1lbnRTdHJhdGVneUZhY3Rvcnk8UGF5bWVudFN0cmF0ZWd5PiA9IChcbiAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBTcXVhcmVWMlBheW1lbnRTdHJhdGVneShcbiAgICAgICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgbmV3IFNxdWFyZVYyUGF5bWVudFByb2Nlc3NvcihcbiAgICAgICAgICAgIG5ldyBTcXVhcmVWMlNjcmlwdExvYWRlcihnZXRTY3JpcHRMb2FkZXIoKSksXG4gICAgICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICApLFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlU3F1YXJlVjJQYXltZW50U3RyYXRlZ3ksIFt7IGlkOiAnc3F1YXJldjInIH1dKTtcbiIsImltcG9ydCBSZXNvbHZhYmxlTW9kdWxlIGZyb20gJy4vcmVzb2x2YWJsZS1tb2R1bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b1Jlc29sdmFibGVNb2R1bGU8VE1vZHVsZSwgVElkZW50aWZpZXI+KFxuICAgIG1vZHVsZTogVE1vZHVsZSxcbiAgICByZXNvbHZlSWRzOiBUSWRlbnRpZmllcltdLFxuKTogUmVzb2x2YWJsZU1vZHVsZTxUTW9kdWxlLCBUSWRlbnRpZmllcj4ge1xuICAgIGNvbnNvbGUubG9nKCdyZXNvbHZlSWRzJywgcmVzb2x2ZUlkcyk7XG5cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihtb2R1bGUsIHsgcmVzb2x2ZUlkcyB9KTtcbn1cbiJdLCJuYW1lcyI6WyJOb3RJbml0aWFsaXplZEVycm9yVHlwZSIsIlNxdWFyZUludGVudCIsIlN0YW5kYXJkRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsInByb3RvdHlwZSIsInN1cGVyIiwibmFtZSIsInR5cGUiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInRoaXMiLCJfX3Byb3RvX18iLCJjYXB0dXJlU3RhY2tUcmFjZSIsInN0YWNrIiwiUGF5bWVudEV4ZWN1dGVFcnJvciIsInN1YnR5cGUiLCJndWFyZCIsInZhbHVlIiwiZXJyb3JGYWN0b3J5IiwiTm90SW5pdGlhbGl6ZWRFcnJvciIsIkN1c3RvbWVyTm90SW5pdGlhbGl6ZWQiLCJQYXltZW50Tm90SW5pdGlhbGl6ZWQiLCJTaGlwcGluZ05vdEluaXRpYWxpemVkIiwiU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZCIsImdldEVycm9yTWVzc2FnZSIsIlNxdWFyZVYyUGF5bWVudFByb2Nlc3NvciIsIl9zY3JpcHRMb2FkZXIiLCJfcGF5bWVudEludGVncmF0aW9uU2VydmljZSIsImluaXRpYWxpemUiLCJ0ZXN0TW9kZSIsImFwcGxpY2F0aW9uSWQiLCJsb2NhdGlvbklkIiwic3F1YXJlIiwibG9hZCIsIl9wYXltZW50cyIsInBheW1lbnRzIiwiZGVpbml0aWFsaXplIiwiX2Zvcm1WYWxpZGF0aW9uU3Vic2NyaXB0aW9uIiwidW5zdWJzY3JpYmUiLCJfY2FyZCIsImRlc3Ryb3kiLCJ1bmRlZmluZWQiLCJpbml0aWFsaXplQ2FyZCIsImNvbnRhaW5lcklkIiwic3R5bGUiLCJvblZhbGlkYXRpb25DaGFuZ2UiLCJwb3N0YWxDb2RlIiwiZ2V0U3RhdGUiLCJnZXRCaWxsaW5nQWRkcmVzcyIsIl9nZXRQYXltZW50cyIsImNhcmQiLCJhdHRhY2giLCJjb25maWd1cmUiLCJfZXJyb3IiLCJfc3Vic2NyaWJlVG9Gb3JtVmFsaWRhdGlvbiIsInRva2VuaXplIiwicmVzdWx0IiwiX2dldENhcmQiLCJzdGF0dXMiLCJ0b2tlbiIsImVycm9yTWVzc2FnZSIsImVycm9ycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJ2ZXJpZnlCdXllciIsImludGVudCIsIkNIQVJHRSIsIl9jaGFyZ2VWZXJpZnlCdXllciIsIl9zdG9yZVZlcmlmeUJ1eWVyIiwib2JzZXJ2ZXIiLCJibGFja2xpc3QiLCJpbnZhbGlkRmllbGRzIiwiU2V0IiwiZXZlbnRPYnNlcnZhYmxlcyIsIm1hcCIsImV2ZW50VHlwZSIsImZyb21FdmVudCIsIm1lcmdlIiwicGlwZSIsImV2ZW50IiwiZGV0YWlsIiwiZmllbGQiLCJjdXJyZW50U3RhdGUiLCJpc0NvbXBsZXRlbHlWYWxpZCIsImluY2x1ZGVzIiwic2l6ZSIsImRpc3RpbmN0VW50aWxDaGFuZ2VkIiwic3Vic2NyaWJlIiwiX21hcFRvU3F1YXJlQmlsbGluZ0NvbnRhY3QiLCJmaXJzdE5hbWUiLCJnaXZlbk5hbWUiLCJsYXN0TmFtZSIsImZhbWlseU5hbWUiLCJhZGRyZXNzMSIsImFkZHJlc3MyIiwiY2l0eSIsInN0YXRlT3JQcm92aW5jZUNvZGUiLCJzdGF0ZSIsImNvdW50cnlDb2RlIiwiZW1haWwiLCJwaG9uZSIsImFkZHJlc3NMaW5lcyIsImdldENoZWNrb3V0T3JUaHJvdyIsImdldEJpbGxpbmdBZGRyZXNzT3JUaHJvdyIsIm91dHN0YW5kaW5nQmFsYW5jZSIsImNhcnQiLCJkZXRhaWxzIiwiYW1vdW50IiwidG9TdHJpbmciLCJiaWxsaW5nQ29udGFjdCIsImN1cnJlbmN5Q29kZSIsImN1cnJlbmN5IiwiY29kZSIsInJlc3BvbnNlIiwiU1RPUkUiLCJJbnZhbGlkQXJndW1lbnRFcnJvciIsIkRFRkFVTFRfUkVTUE9OU0UiLCJib2R5IiwiaGVhZGVycyIsIlJlcXVlc3RFcnJvciIsIlBheW1lbnRNZXRob2RJbnZhbGlkRXJyb3IiLCJQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IiLCJqb2luIiwiT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yIiwiU3F1YXJlVjJQYXltZW50U3RyYXRlZ3kiLCJfc3F1YXJlVjJQYXltZW50UHJvY2Vzc29yIiwib3B0aW9ucyIsInNxdWFyZXYyIiwibWV0aG9kSWQiLCJjb25maWciLCJpbml0aWFsaXphdGlvbkRhdGEiLCJnZXRQYXltZW50TWV0aG9kT3JUaHJvdyIsImV4ZWN1dGUiLCJwYXltZW50IiwicGF5bWVudERhdGEiLCJzaG91bGRTYXZlSW5zdHJ1bWVudCIsInNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQiLCJpbnN0cnVtZW50Iiwic3VibWl0T3JkZXIiLCJzdWJtaXRQYXltZW50UGF5bG9hZCIsIkJvb2xlYW4iLCJpbnN0cnVtZW50SWQiLCJpc1ZhdWx0ZWRJbnN0cnVtZW50IiwiX2dldFZhdWx0ZWRJbnN0cnVtZW50UGF5bG9hZCIsIl9nZXRDYXJkUGF5bG9hZCIsInN1Ym1pdFBheW1lbnQiLCJmb3JtYXR0ZWRQYXlsb2FkIiwidmF1bHRfcGF5bWVudF9pbnN0cnVtZW50Iiwic2V0X2FzX2RlZmF1bHRfc3RvcmVkX2luc3RydW1lbnQiLCJmaW5hbGl6ZSIsIlByb21pc2UiLCJyZWplY3QiLCJzaG91bGRWZXJpZnkiLCJmZWF0dXJlcyIsImdldFN0b3JlQ29uZmlnT3JUaHJvdyIsImNoZWNrb3V0U2V0dGluZ3MiLCJjYXJkVG9rZW5pemF0aW9uUmVzdWx0IiwiaXNTcXVhcmVWMkFwaVYyRW5hYmxlZCIsImNyZWRpdF9jYXJkX3Rva2VuIiwidG9rZW5EYXRhIiwibm9uY2UiLCJ0b2tlbkZvclNhdmluZ0NhcmQiLCJzdG9yZV9jYXJkX25vbmNlIiwic3RvcmVfY2FyZF90b2tlbiIsInZlcmlmaWNhdGlvblRva2VuIiwiX2dldFNxdWFyZUNhcmRJZE9yVGhyb3ciLCJiaWdwYXlfdG9rZW4iLCJ0aHJlZV9kX3NlY3VyZSIsImxvYWRQYXltZW50TWV0aG9kIiwicGFyYW1zIiwibWV0aG9kIiwiYmlncGF5VG9rZW4iLCJjYXJkSWQiLCJQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvciIsIlNxdWFyZVYyV2ViUGF5bWVudHNTZGtFbnYiLCJTcXVhcmVWMlNjcmlwdExvYWRlciIsImxvYWRTY3JpcHQiLCJTQU5EQk9YIiwiTElWRSIsIndpbmRvdyIsImlzU3F1YXJlVjJXaW5kb3ciLCJhc3NlcnRTcXVhcmVWMldpbmRvdyIsIlNxdWFyZSIsIm1vZHVsZSIsInBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UiLCJnZXRTY3JpcHRMb2FkZXIiLCJyZXNvbHZlSWRzIiwiaWQiLCJjb25zb2xlIiwibG9nIiwiYXNzaWduIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/squarev2.js\n\n}");

/***/ }),

/***/ "./packages/dom-utils/src/getAppliedStyles.ts":
/*!****************************************************!*\
  !*** ./packages/dom-utils/src/getAppliedStyles.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getAppliedStyles)\n/* harmony export */ });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction getAppliedStyles(element, properties, pseudoElementSelector) {\n    const declaration = window.getComputedStyle(element, pseudoElementSelector);\n    return properties.reduce((result, propertyName) => (Object.assign(Object.assign({}, result), { [propertyName]: declaration.getPropertyValue((0,lodash__WEBPACK_IMPORTED_MODULE_0__.kebabCase)(propertyName)) })), {});\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9kb20tdXRpbHMvc3JjL2dldEFwcGxpZWRTdHlsZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1DO0FBRXBCLFNBQVMsZ0JBQWdCLENBQ3BDLE9BQW9CLEVBQ3BCLFVBQW9CLEVBQ3BCLHFCQUE4QjtJQUU5QixNQUFNLFdBQVcsR0FBRyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLHFCQUFxQixDQUFDLENBQUM7SUFFNUUsT0FBTyxVQUFVLENBQUMsTUFBTSxDQUNwQixDQUFDLE1BQU0sRUFBRSxZQUFZLEVBQUUsRUFBRSxDQUFDLGlDQUNuQixNQUFNLEtBQ1QsQ0FBQyxZQUFZLENBQUMsRUFBRSxXQUFXLENBQUMsZ0JBQWdCLENBQUMsaURBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUN2RSxFQUNGLEVBQUUsQ0FDTCxDQUFDO0FBQ04sQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vcGFja2FnZXMvZG9tLXV0aWxzL3NyYy9nZXRBcHBsaWVkU3R5bGVzLnRzPzdkNTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsga2ViYWJDYXNlIH0gZnJvbSAnbG9kYXNoJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0QXBwbGllZFN0eWxlcyhcbiAgICBlbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgICBwcm9wZXJ0aWVzOiBzdHJpbmdbXSxcbiAgICBwc2V1ZG9FbGVtZW50U2VsZWN0b3I/OiBzdHJpbmcsXG4pOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9IHtcbiAgICBjb25zdCBkZWNsYXJhdGlvbiA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIHBzZXVkb0VsZW1lbnRTZWxlY3Rvcik7XG5cbiAgICByZXR1cm4gcHJvcGVydGllcy5yZWR1Y2UoXG4gICAgICAgIChyZXN1bHQsIHByb3BlcnR5TmFtZSkgPT4gKHtcbiAgICAgICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgICAgIFtwcm9wZXJ0eU5hbWVdOiBkZWNsYXJhdGlvbi5nZXRQcm9wZXJ0eVZhbHVlKGtlYmFiQ2FzZShwcm9wZXJ0eU5hbWUpKSxcbiAgICAgICAgfSksXG4gICAgICAgIHt9LFxuICAgICk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/dom-utils/src/getAppliedStyles.ts\n\n}");

/***/ }),

/***/ "./packages/instrument-utils/src/storedInstrument/CardInstrumentFieldset/CardInstrumentFieldset.tsx":
/*!**********************************************************************************************************!*\
  !*** ./packages/instrument-utils/src/storedInstrument/CardInstrumentFieldset/CardInstrumentFieldset.tsx ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _bigcommerce_checkout_locale__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bigcommerce/checkout/locale */ \"./packages/locale/src/TranslatedString.tsx\");\n/* harmony import */ var _bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bigcommerce/checkout/ui */ \"./packages/ui/src/form/Fieldset/Fieldset.tsx\");\n/* harmony import */ var _bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bigcommerce/checkout/ui */ \"./packages/ui/src/form/Legend/Legend.tsx\");\n/* harmony import */ var _bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bigcommerce/checkout/ui */ \"./packages/ui/src/form/BasicFormField/BasicFormField.tsx\");\n/* harmony import */ var _bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bigcommerce/checkout/ui */ \"./packages/ui/src/modal/ModalTrigger.tsx\");\n/* harmony import */ var _InstrumentSelect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../InstrumentSelect */ \"./packages/instrument-utils/src/storedInstrument/InstrumentSelect/InstrumentSelect.tsx\");\n/* harmony import */ var _ManageInstrumentsModal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ManageInstrumentsModal */ \"./packages/instrument-utils/src/storedInstrument/ManageInstrumentsModal/ManageInstrumentsModal.tsx\");\n\n\n\n\n\nconst CardInstrumentFieldset = ({ instruments, onDeleteInstrument, onSelectInstrument, onUseNewInstrument, selectedInstrumentId, shouldHideExpiryDate = false, validateInstrument = null, }) => {\n    const renderInput = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((field) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_InstrumentSelect__WEBPACK_IMPORTED_MODULE_6__[\"default\"], Object.assign({}, field, { instruments: instruments, onSelectInstrument: onSelectInstrument, onUseNewInstrument: onUseNewInstrument, selectedInstrumentId: selectedInstrumentId, shouldHideExpiryDate: shouldHideExpiryDate }))), [\n        instruments,\n        onSelectInstrument,\n        onUseNewInstrument,\n        selectedInstrumentId,\n        shouldHideExpiryDate,\n    ]);\n    const renderModal = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((props) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ManageInstrumentsModal__WEBPACK_IMPORTED_MODULE_7__[\"default\"], Object.assign({ instruments: instruments, onDeleteInstrument: onDeleteInstrument }, props))), [instruments, onDeleteInstrument]);\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"], { additionalClassName: \"instrumentFieldset\", legend: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_3__[\"default\"], { hidden: true },\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_bigcommerce_checkout_locale__WEBPACK_IMPORTED_MODULE_1__[\"default\"], { id: \"payment.instrument_text\" })) },\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { modal: renderModal }, ({ onClick }) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", { className: \"instrumentModal-trigger\", onClick: onClick, type: \"button\" },\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_bigcommerce_checkout_locale__WEBPACK_IMPORTED_MODULE_1__[\"default\"], { id: \"payment.instrument_manage_button\" })))),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { name: \"instrumentId\", render: renderInput }),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { style: { display: selectedInstrumentId ? undefined : 'none' } }, validateInstrument)));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(CardInstrumentFieldset));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9pbnN0cnVtZW50LXV0aWxzL3NyYy9zdG9yZWRJbnN0cnVtZW50L0NhcmRJbnN0cnVtZW50RmllbGRzZXQvQ2FyZEluc3RydW1lbnRGaWVsZHNldC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUV5RTtBQUVUO0FBTzlCO0FBRXFCO0FBQ1k7QUFZbkUsTUFBTSxzQkFBc0IsR0FBbUQsQ0FBQyxFQUM1RSxXQUFXLEVBQ1gsa0JBQWtCLEVBQ2xCLGtCQUFrQixFQUNsQixrQkFBa0IsRUFDbEIsb0JBQW9CLEVBQ3BCLG9CQUFvQixHQUFHLEtBQUssRUFDNUIsa0JBQWtCLEdBQUcsSUFBSSxHQUM1QixFQUFFLEVBQUU7SUFDRCxNQUFNLFdBQVcsR0FBRyxrREFBVyxDQUMzQixDQUFDLEtBQXlCLEVBQUUsRUFBRSxDQUFDLENBQzNCLDJEQUFDLHlEQUFnQixvQkFDVCxLQUFLLElBQ1QsV0FBVyxFQUFFLFdBQVcsRUFDeEIsa0JBQWtCLEVBQUUsa0JBQWtCLEVBQ3RDLGtCQUFrQixFQUFFLGtCQUFrQixFQUN0QyxvQkFBb0IsRUFBRSxvQkFBb0IsRUFDMUMsb0JBQW9CLEVBQUUsb0JBQW9CLElBQzVDLENBQ0wsRUFDRDtRQUNJLFdBQVc7UUFDWCxrQkFBa0I7UUFDbEIsa0JBQWtCO1FBQ2xCLG9CQUFvQjtRQUNwQixvQkFBb0I7S0FDdkIsQ0FDSixDQUFDO0lBRUYsTUFBTSxXQUFXLEdBQUcsa0RBQVcsQ0FDM0IsQ0FBQyxLQUE2QixFQUFFLEVBQUUsQ0FBQyxDQUMvQiwyREFBQywrREFBc0Isa0JBQ25CLFdBQVcsRUFBRSxXQUFXLEVBQ3hCLGtCQUFrQixFQUFFLGtCQUFrQixJQUNsQyxLQUFLLEVBQ1gsQ0FDTCxFQUNELENBQUMsV0FBVyxFQUFFLGtCQUFrQixDQUFDLENBQ3BDLENBQUM7SUFFRixPQUFPLENBQ0gsMkRBQUMsZ0VBQVEsSUFDTCxtQkFBbUIsRUFBQyxvQkFBb0IsRUFDeEMsTUFBTSxFQUNGLDJEQUFDLGdFQUFNLElBQUMsTUFBTTtZQUNWLDJEQUFDLG9FQUFnQixJQUFDLEVBQUUsRUFBQyx5QkFBeUIsR0FBRyxDQUM1QztRQUdiLDJEQUFDLGdFQUFZLElBQUMsS0FBSyxFQUFFLFdBQVcsSUFDM0IsQ0FBQyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUNkLHVFQUFRLFNBQVMsRUFBQyx5QkFBeUIsRUFBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBQyxRQUFRO1lBQ3ZFLDJEQUFDLG9FQUFnQixJQUFDLEVBQUUsRUFBQyxrQ0FBa0MsR0FBRyxDQUNyRCxDQUNaLENBQ1U7UUFFZiwyREFBQyxnRUFBYyxJQUFDLElBQUksRUFBQyxjQUFjLEVBQUMsTUFBTSxFQUFFLFdBQVcsR0FBSTtRQUUzRCxvRUFBSyxLQUFLLEVBQUUsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLElBQzdELGtCQUFrQixDQUNqQixDQUNDLENBQ2QsQ0FBQztBQUNOLENBQUMsQ0FBQztBQUVGLGlFQUFlLDJDQUFJLENBQUMsc0JBQXNCLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vcGFja2FnZXMvaW5zdHJ1bWVudC11dGlscy9zcmMvc3RvcmVkSW5zdHJ1bWVudC9DYXJkSW5zdHJ1bWVudEZpZWxkc2V0L0NhcmRJbnN0cnVtZW50RmllbGRzZXQudHN4P2U3ZDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBDYXJkSW5zdHJ1bWVudCB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsnO1xuaW1wb3J0IHsgdHlwZSBGaWVsZFByb3BzIH0gZnJvbSAnZm9ybWlrJztcbmltcG9ydCBSZWFjdCwgeyB0eXBlIEZ1bmN0aW9uQ29tcG9uZW50LCBtZW1vLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgVHJhbnNsYXRlZFN0cmluZyB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC9sb2NhbGUnO1xuaW1wb3J0IHtcbiAgICBCYXNpY0Zvcm1GaWVsZCxcbiAgICBGaWVsZHNldCxcbiAgICBMZWdlbmQsXG4gICAgTW9kYWxUcmlnZ2VyLFxuICAgIHR5cGUgTW9kYWxUcmlnZ2VyTW9kYWxQcm9wcyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L3VpJztcblxuaW1wb3J0IHsgSW5zdHJ1bWVudFNlbGVjdCB9IGZyb20gJy4uL0luc3RydW1lbnRTZWxlY3QnO1xuaW1wb3J0IHsgTWFuYWdlSW5zdHJ1bWVudHNNb2RhbCB9IGZyb20gJy4uL01hbmFnZUluc3RydW1lbnRzTW9kYWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRJbnN0cnVtZW50RmllbGRzZXRQcm9wcyB7XG4gICAgaW5zdHJ1bWVudHM6IENhcmRJbnN0cnVtZW50W107XG4gICAgc2VsZWN0ZWRJbnN0cnVtZW50SWQ/OiBzdHJpbmc7XG4gICAgc2hvdWxkSGlkZUV4cGlyeURhdGU/OiBib29sZWFuO1xuICAgIHZhbGlkYXRlSW5zdHJ1bWVudD86IFJlYWN0LlJlYWN0Tm9kZTtcbiAgICBvbkRlbGV0ZUluc3RydW1lbnQ/KGluc3RydW1lbnRJZDogc3RyaW5nKTogdm9pZDtcbiAgICBvblNlbGVjdEluc3RydW1lbnQoaWQ6IHN0cmluZyk6IHZvaWQ7XG4gICAgb25Vc2VOZXdJbnN0cnVtZW50KCk6IHZvaWQ7XG59XG5cbmNvbnN0IENhcmRJbnN0cnVtZW50RmllbGRzZXQ6IEZ1bmN0aW9uQ29tcG9uZW50PENhcmRJbnN0cnVtZW50RmllbGRzZXRQcm9wcz4gPSAoe1xuICAgIGluc3RydW1lbnRzLFxuICAgIG9uRGVsZXRlSW5zdHJ1bWVudCxcbiAgICBvblNlbGVjdEluc3RydW1lbnQsXG4gICAgb25Vc2VOZXdJbnN0cnVtZW50LFxuICAgIHNlbGVjdGVkSW5zdHJ1bWVudElkLFxuICAgIHNob3VsZEhpZGVFeHBpcnlEYXRlID0gZmFsc2UsXG4gICAgdmFsaWRhdGVJbnN0cnVtZW50ID0gbnVsbCxcbn0pID0+IHtcbiAgICBjb25zdCByZW5kZXJJbnB1dCA9IHVzZUNhbGxiYWNrKFxuICAgICAgICAoZmllbGQ6IEZpZWxkUHJvcHM8c3RyaW5nPikgPT4gKFxuICAgICAgICAgICAgPEluc3RydW1lbnRTZWxlY3RcbiAgICAgICAgICAgICAgICB7Li4uZmllbGR9XG4gICAgICAgICAgICAgICAgaW5zdHJ1bWVudHM9e2luc3RydW1lbnRzfVxuICAgICAgICAgICAgICAgIG9uU2VsZWN0SW5zdHJ1bWVudD17b25TZWxlY3RJbnN0cnVtZW50fVxuICAgICAgICAgICAgICAgIG9uVXNlTmV3SW5zdHJ1bWVudD17b25Vc2VOZXdJbnN0cnVtZW50fVxuICAgICAgICAgICAgICAgIHNlbGVjdGVkSW5zdHJ1bWVudElkPXtzZWxlY3RlZEluc3RydW1lbnRJZH1cbiAgICAgICAgICAgICAgICBzaG91bGRIaWRlRXhwaXJ5RGF0ZT17c2hvdWxkSGlkZUV4cGlyeURhdGV9XG4gICAgICAgICAgICAvPlxuICAgICAgICApLFxuICAgICAgICBbXG4gICAgICAgICAgICBpbnN0cnVtZW50cyxcbiAgICAgICAgICAgIG9uU2VsZWN0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgIG9uVXNlTmV3SW5zdHJ1bWVudCxcbiAgICAgICAgICAgIHNlbGVjdGVkSW5zdHJ1bWVudElkLFxuICAgICAgICAgICAgc2hvdWxkSGlkZUV4cGlyeURhdGUsXG4gICAgICAgIF0sXG4gICAgKTtcblxuICAgIGNvbnN0IHJlbmRlck1vZGFsID0gdXNlQ2FsbGJhY2soXG4gICAgICAgIChwcm9wczogTW9kYWxUcmlnZ2VyTW9kYWxQcm9wcykgPT4gKFxuICAgICAgICAgICAgPE1hbmFnZUluc3RydW1lbnRzTW9kYWxcbiAgICAgICAgICAgICAgICBpbnN0cnVtZW50cz17aW5zdHJ1bWVudHN9XG4gICAgICAgICAgICAgICAgb25EZWxldGVJbnN0cnVtZW50PXtvbkRlbGV0ZUluc3RydW1lbnR9XG4gICAgICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgKSxcbiAgICAgICAgW2luc3RydW1lbnRzLCBvbkRlbGV0ZUluc3RydW1lbnRdLFxuICAgICk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8RmllbGRzZXRcbiAgICAgICAgICAgIGFkZGl0aW9uYWxDbGFzc05hbWU9XCJpbnN0cnVtZW50RmllbGRzZXRcIlxuICAgICAgICAgICAgbGVnZW5kPXtcbiAgICAgICAgICAgICAgICA8TGVnZW5kIGhpZGRlbj5cbiAgICAgICAgICAgICAgICAgICAgPFRyYW5zbGF0ZWRTdHJpbmcgaWQ9XCJwYXltZW50Lmluc3RydW1lbnRfdGV4dFwiIC8+XG4gICAgICAgICAgICAgICAgPC9MZWdlbmQ+XG4gICAgICAgICAgICB9XG4gICAgICAgID5cbiAgICAgICAgICAgIDxNb2RhbFRyaWdnZXIgbW9kYWw9e3JlbmRlck1vZGFsfT5cbiAgICAgICAgICAgICAgICB7KHsgb25DbGljayB9KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiaW5zdHJ1bWVudE1vZGFsLXRyaWdnZXJcIiBvbkNsaWNrPXtvbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VHJhbnNsYXRlZFN0cmluZyBpZD1cInBheW1lbnQuaW5zdHJ1bWVudF9tYW5hZ2VfYnV0dG9uXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvTW9kYWxUcmlnZ2VyPlxuXG4gICAgICAgICAgICA8QmFzaWNGb3JtRmllbGQgbmFtZT1cImluc3RydW1lbnRJZFwiIHJlbmRlcj17cmVuZGVySW5wdXR9IC8+XG5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogc2VsZWN0ZWRJbnN0cnVtZW50SWQgPyB1bmRlZmluZWQgOiAnbm9uZScgfX0+XG4gICAgICAgICAgICAgICAge3ZhbGlkYXRlSW5zdHJ1bWVudH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0ZpZWxkc2V0PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBtZW1vKENhcmRJbnN0cnVtZW50RmllbGRzZXQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/instrument-utils/src/storedInstrument/CardInstrumentFieldset/CardInstrumentFieldset.tsx\n\n}");

/***/ }),

/***/ "./packages/instrument-utils/src/storedInstrument/InstrumentSelect/InstrumentSelect.tsx":
/*!**********************************************************************************************!*\
  !*** ./packages/instrument-utils/src/storedInstrument/InstrumentSelect/InstrumentSelect.tsx ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var card_validator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! card-validator */ \"./node_modules/card-validator/index.js\");\n/* harmony import */ var card_validator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(card_validator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var credit_card_type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! credit-card-type */ \"./node_modules/credit-card-type/index.js\");\n/* harmony import */ var credit_card_type__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(credit_card_type__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _bigcommerce_checkout_locale__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bigcommerce/checkout/locale */ \"./packages/locale/src/TranslatedString.tsx\");\n/* harmony import */ var _bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @bigcommerce/checkout/ui */ \"./packages/ui/src/icon/CreditCardIcon.tsx\");\n/* harmony import */ var _bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @bigcommerce/checkout/ui */ \"./packages/ui/src/dropdown/DropdownTrigger.tsx\");\n/* harmony import */ var _mapFromInstrumentCardType__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../mapFromInstrumentCardType */ \"./packages/instrument-utils/src/storedInstrument/mapFromInstrumentCardType/mapFromInstrumentCardType.ts\");\n\n\n\n\n\n\n\n\nconst InstrumentMenuItem = ({ className, instrument, testId, shouldHideExpiryDate = false, onClick, }) => {\n    var _a;\n    const cardType = (0,_mapFromInstrumentCardType__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(instrument.brand);\n    const cardInfo = credit_card_type__WEBPACK_IMPORTED_MODULE_2___default().getTypeInfo(cardType);\n    const isExpired = !(0,card_validator__WEBPACK_IMPORTED_MODULE_0__.expirationDate)({\n        month: instrument.expiryMonth,\n        year: instrument.expiryYear,\n    }).isValid;\n    return (react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"button\", { className: className, \"data-test\": testId, onClick: onClick, type: \"button\" },\n        react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", { className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('instrumentSelect-details', {\n                'instrumentSelect-details--expired': isExpired,\n            }) },\n            react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_6__[\"default\"], { cardType: cardType }),\n            react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", { className: \"instrumentSelect-card\", \"data-test\": `${testId !== null && testId !== void 0 ? testId : ''}-last4` }, cardInfo ? (react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_bigcommerce_checkout_locale__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { data: {\n                    cardTitle: (_a = cardInfo.niceType) !== null && _a !== void 0 ? _a : '',\n                    endingIn: instrument.last4,\n                }, id: \"payment.instrument_ending_in_text\" })) : (react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_bigcommerce_checkout_locale__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { data: { endingIn: instrument.last4 }, id: \"payment.instrument_default_ending_in_text\" }))),\n            !shouldHideExpiryDate && (react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", { className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('instrumentSelect-expiry', {\n                    'instrumentSelect-expiry--expired': isExpired,\n                }), \"data-test\": `${testId || ''}-expiry` }, isExpired ? (react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_bigcommerce_checkout_locale__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { data: {\n                    expiryDate: `${instrument.expiryMonth}/${instrument.expiryYear}`,\n                }, id: \"payment.instrument_expired_text\" })) : (react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_bigcommerce_checkout_locale__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { data: {\n                    expiryDate: `${instrument.expiryMonth}/${instrument.expiryYear}`,\n                }, id: \"payment.instrument_expires_text\" })))))));\n};\nconst InstrumentOption = ({ instrument, shouldHideExpiryDate = false, onClick = lodash__WEBPACK_IMPORTED_MODULE_3__.noop, }) => {\n    const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(() => {\n        onClick(instrument.bigpayToken);\n    }, [onClick, instrument]);\n    return (react__WEBPACK_IMPORTED_MODULE_4___default().createElement(InstrumentMenuItem, { instrument: instrument, onClick: handleClick, shouldHideExpiryDate: shouldHideExpiryDate, testId: \"instrument-select-option\" }));\n};\nconst InstrumentUseNewButton = ({ className, testId, onClick = lodash__WEBPACK_IMPORTED_MODULE_3__.noop, }) => (react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"button\", { className: className, \"data-test\": testId, onClick: onClick, type: \"button\" },\n    react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", { className: \"instrumentSelect-details instrumentSelect-details--addNew\" },\n        react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_6__[\"default\"], null),\n        react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", { className: \"instrumentSelect-card\" },\n            react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_bigcommerce_checkout_locale__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { id: \"payment.instrument_add_card_action\" })))));\nconst InstrumentMenu = ({ instruments, selectedInstrumentId, shouldHideExpiryDate = false, onSelectInstrument, onUseNewInstrument, }) => {\n    return (react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"ul\", { className: \"instrumentSelect-dropdownMenu instrumentSelect-dropdownMenuNext dropdown-menu\", \"data-test\": \"instrument-select-menu\" },\n        instruments.map((instrument) => (react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"li\", { className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('instrumentSelect-option dropdown-menu-item', {\n                'instrumentSelect-option--selected': instrument.bigpayToken === selectedInstrumentId,\n            }), key: instrument.bigpayToken },\n            react__WEBPACK_IMPORTED_MODULE_4___default().createElement(InstrumentOption, { instrument: instrument, onClick: onSelectInstrument, shouldHideExpiryDate: shouldHideExpiryDate, testId: \"instrument-select-option\" })))),\n        react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"li\", { className: \"instrumentSelect-option instrumentSelect-option--addNew dropdown-menu-item\" },\n            react__WEBPACK_IMPORTED_MODULE_4___default().createElement(InstrumentUseNewButton, { onClick: onUseNewInstrument, testId: \"instrument-select-option-use-new\" }))));\n};\nconst InstrumentSelectButton = ({ instrument, shouldHideExpiryDate = false, testId, onClick, }) => {\n    if (!instrument) {\n        return (react__WEBPACK_IMPORTED_MODULE_4___default().createElement(InstrumentUseNewButton, { className: \"instrumentSelect-button optimizedCheckout-form-select dropdown-button form-input\", testId: testId }));\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_4___default().createElement(InstrumentMenuItem, { className: \"instrumentSelect-button optimizedCheckout-form-select dropdown-button form-input\", instrument: instrument, onClick: onClick, shouldHideExpiryDate: shouldHideExpiryDate, testId: testId }));\n};\nconst InstrumentSelect = ({ field, form, instruments, onSelectInstrument, onUseNewInstrument, selectedInstrumentId, shouldHideExpiryDate = false, }) => {\n    const prevSelectedInstrumentIdRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(selectedInstrumentId);\n    const updateFieldValue = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)((instrumentId = '') => {\n        void form.setFieldValue(field.name, instrumentId);\n    }, [form, field.name]);\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(() => {\n        // FIXME: Used setTimeout here because setFieldValue call doesnot set value if called before formik is properly mounted.\n        //        This ensures that update Field value is called after formik has mounted.\n        // See GitHub issue: https://github.com/jaredpalmer/formik/issues/930\n        setTimeout(() => updateFieldValue(selectedInstrumentId));\n        return () => {\n            if (field.value === '' && selectedInstrumentId !== undefined) {\n                updateFieldValue();\n            }\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(() => {\n        if (prevSelectedInstrumentIdRef.current !== selectedInstrumentId) {\n            // FIXME: Used setTimeout here because setFieldValue call doesnot set value if called before formik is properly mounted.\n            //        This ensures that update Field value is called after formik has mounted.\n            // See GitHub issue: https://github.com/jaredpalmer/formik/issues/930\n            setTimeout(() => updateFieldValue(selectedInstrumentId));\n        }\n        prevSelectedInstrumentIdRef.current = selectedInstrumentId;\n    }, [selectedInstrumentId, updateFieldValue]);\n    const selectedInstrument = (0,lodash__WEBPACK_IMPORTED_MODULE_3__.find)(instruments, { bigpayToken: selectedInstrumentId });\n    return (react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", { className: \"instrumentSelect\" },\n        react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { dropdown: react__WEBPACK_IMPORTED_MODULE_4___default().createElement(InstrumentMenu, { instruments: instruments, onSelectInstrument: onSelectInstrument, onUseNewInstrument: onUseNewInstrument, selectedInstrumentId: selectedInstrumentId, shouldHideExpiryDate: shouldHideExpiryDate }) },\n            react__WEBPACK_IMPORTED_MODULE_4___default().createElement(InstrumentSelectButton, { instrument: selectedInstrument, shouldHideExpiryDate: shouldHideExpiryDate, testId: \"instrument-select\" }),\n            react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"input\", Object.assign({ type: \"hidden\" }, field)))));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (InstrumentSelect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9pbnN0cnVtZW50LXV0aWxzL3NyYy9zdG9yZWRJbnN0cnVtZW50L0luc3RydW1lbnRTZWxlY3QvSW5zdHJ1bWVudFNlbGVjdC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ2dEO0FBQ1o7QUFDVTtBQUVWO0FBQ2tEO0FBRXRCO0FBQ1c7QUFFRjtBQXNCekUsTUFBTSxrQkFBa0IsR0FBK0MsQ0FBQyxFQUNwRSxTQUFTLEVBQ1QsVUFBVSxFQUNWLE1BQU0sRUFDTixvQkFBb0IsR0FBRyxLQUFLLEVBQzVCLE9BQU8sR0FDVixFQUFFLEVBQUU7O0lBQ0QsTUFBTSxRQUFRLEdBQUcsc0VBQXlCLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzdELE1BQU0sUUFBUSxHQUFHLG1FQUEwQixDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3RELE1BQU0sU0FBUyxHQUFHLENBQUMsOERBQWMsQ0FBQztRQUM5QixLQUFLLEVBQUUsVUFBVSxDQUFDLFdBQVc7UUFDN0IsSUFBSSxFQUFFLFVBQVUsQ0FBQyxVQUFVO0tBQzlCLENBQUMsQ0FBQyxPQUFPLENBQUM7SUFFWCxPQUFPLENBQ0gsdUVBQVEsU0FBUyxFQUFFLFNBQVMsZUFBYSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUMsUUFBUTtRQUM1RSxvRUFDSSxTQUFTLEVBQUUsaURBQVUsQ0FBQywwQkFBMEIsRUFBRTtnQkFDOUMsbUNBQW1DLEVBQUUsU0FBUzthQUNqRCxDQUFDO1lBRUYsMkRBQUMsZ0VBQWMsSUFBQyxRQUFRLEVBQUUsUUFBUSxHQUFJO1lBRXRDLG9FQUFLLFNBQVMsRUFBQyx1QkFBdUIsZUFBWSxHQUFHLE1BQU0sYUFBTixNQUFNLGNBQU4sTUFBTSxHQUFJLEVBQUUsUUFBUSxJQUNwRSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQ1IsMkRBQUMsb0VBQWdCLElBQ2IsSUFBSSxFQUFFO29CQUNGLFNBQVMsRUFBRSxjQUFRLENBQUMsUUFBUSxt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a0JBQWtCLEVBQ3RDLG9CQUFvQixFQUFFLG9CQUFvQixFQUMxQyxvQkFBb0IsRUFBRSxvQkFBb0IsR0FDNUM7WUFHTiwyREFBQyxzQkFBc0IsSUFDbkIsVUFBVSxFQUFFLGtCQUFrQixFQUM5QixvQkFBb0IsRUFBRSxvQkFBb0IsRUFDMUMsTUFBTSxFQUFDLG1CQUFtQixHQUM1QjtZQUVGLG9GQUFPLElBQUksRUFBQyxRQUFRLElBQUssS0FBSyxFQUFJLENBQ3BCLENBQ2hCLENBQ1QsQ0FBQztBQUNOLENBQUMsQ0FBQztBQUVGLGlFQUFlLGdCQUFnQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvLi9wYWNrYWdlcy9pbnN0cnVtZW50LXV0aWxzL3NyYy9zdG9yZWRJbnN0cnVtZW50L0luc3RydW1lbnRTZWxlY3QvSW5zdHJ1bWVudFNlbGVjdC50c3g/YjlkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIENhcmRJbnN0cnVtZW50IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkayc7XG5pbXBvcnQgeyBleHBpcmF0aW9uRGF0ZSB9IGZyb20gJ2NhcmQtdmFsaWRhdG9yJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IGNyZWRpdENhcmRUeXBlIGZyb20gJ2NyZWRpdC1jYXJkLXR5cGUnO1xuaW1wb3J0IHsgdHlwZSBGaWVsZFByb3BzIH0gZnJvbSAnZm9ybWlrJztcbmltcG9ydCB7IGZpbmQsIG5vb3AgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFJlYWN0LCB7IHR5cGUgRnVuY3Rpb25Db21wb25lbnQsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgVHJhbnNsYXRlZFN0cmluZyB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC9sb2NhbGUnO1xuaW1wb3J0IHsgQ3JlZGl0Q2FyZEljb24sIERyb3Bkb3duVHJpZ2dlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC91aSc7XG5cbmltcG9ydCB7IG1hcEZyb21JbnN0cnVtZW50Q2FyZFR5cGUgfSBmcm9tICcuLi9tYXBGcm9tSW5zdHJ1bWVudENhcmRUeXBlJztcblxuZXhwb3J0IGludGVyZmFjZSBJbnN0cnVtZW50U2VsZWN0UHJvcHMgZXh0ZW5kcyBGaWVsZFByb3BzPHN0cmluZz4ge1xuICAgIGluc3RydW1lbnRzOiBDYXJkSW5zdHJ1bWVudFtdO1xuICAgIHNlbGVjdGVkSW5zdHJ1bWVudElkPzogc3RyaW5nO1xuICAgIHNob3VsZEhpZGVFeHBpcnlEYXRlPzogYm9vbGVhbjtcbiAgICBvblNlbGVjdEluc3RydW1lbnQoaWQ6IHN0cmluZyk6IHZvaWQ7XG4gICAgb25Vc2VOZXdJbnN0cnVtZW50KCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5zdHJ1bWVudFNlbGVjdFZhbHVlcyB7XG4gICAgaW5zdHJ1bWVudElkOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBJbnN0cnVtZW50TWVudUl0ZW1Qcm9wcyB7XG4gICAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICAgIGluc3RydW1lbnQ6IENhcmRJbnN0cnVtZW50O1xuICAgIHRlc3RJZD86IHN0cmluZztcbiAgICBzaG91bGRIaWRlRXhwaXJ5RGF0ZT86IGJvb2xlYW47XG4gICAgb25DbGljaz8oKTogdm9pZDtcbn1cblxuY29uc3QgSW5zdHJ1bWVudE1lbnVJdGVtOiBGdW5jdGlvbkNvbXBvbmVudDxJbnN0cnVtZW50TWVudUl0ZW1Qcm9wcz4gPSAoe1xuICAgIGNsYXNzTmFtZSxcbiAgICBpbnN0cnVtZW50LFxuICAgIHRlc3RJZCxcbiAgICBzaG91bGRIaWRlRXhwaXJ5RGF0ZSA9IGZhbHNlLFxuICAgIG9uQ2xpY2ssXG59KSA9PiB7XG4gICAgY29uc3QgY2FyZFR5cGUgPSBtYXBGcm9tSW5zdHJ1bWVudENhcmRUeXBlKGluc3RydW1lbnQuYnJhbmQpO1xuICAgIGNvbnN0IGNhcmRJbmZvID0gY3JlZGl0Q2FyZFR5cGUuZ2V0VHlwZUluZm8oY2FyZFR5cGUpO1xuICAgIGNvbnN0IGlzRXhwaXJlZCA9ICFleHBpcmF0aW9uRGF0ZSh7XG4gICAgICAgIG1vbnRoOiBpbnN0cnVtZW50LmV4cGlyeU1vbnRoLFxuICAgICAgICB5ZWFyOiBpbnN0cnVtZW50LmV4cGlyeVllYXIsXG4gICAgfSkuaXNWYWxpZDtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPXtjbGFzc05hbWV9IGRhdGEtdGVzdD17dGVzdElkfSBvbkNsaWNrPXtvbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdpbnN0cnVtZW50U2VsZWN0LWRldGFpbHMnLCB7XG4gICAgICAgICAgICAgICAgICAgICdpbnN0cnVtZW50U2VsZWN0LWRldGFpbHMtLWV4cGlyZWQnOiBpc0V4cGlyZWQsXG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPENyZWRpdENhcmRJY29uIGNhcmRUeXBlPXtjYXJkVHlwZX0gLz5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5zdHJ1bWVudFNlbGVjdC1jYXJkXCIgZGF0YS10ZXN0PXtgJHt0ZXN0SWQgPz8gJyd9LWxhc3Q0YH0+XG4gICAgICAgICAgICAgICAgICAgIHtjYXJkSW5mbyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUcmFuc2xhdGVkU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkVGl0bGU6IGNhcmRJbmZvLm5pY2VUeXBlID8/ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRpbmdJbjogaW5zdHJ1bWVudC5sYXN0NCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwicGF5bWVudC5pbnN0cnVtZW50X2VuZGluZ19pbl90ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8VHJhbnNsYXRlZFN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE9e3sgZW5kaW5nSW46IGluc3RydW1lbnQubGFzdDQgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cInBheW1lbnQuaW5zdHJ1bWVudF9kZWZhdWx0X2VuZGluZ19pbl90ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7IXNob3VsZEhpZGVFeHBpcnlEYXRlICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdpbnN0cnVtZW50U2VsZWN0LWV4cGlyeScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5zdHJ1bWVudFNlbGVjdC1leHBpcnktLWV4cGlyZWQnOiBpc0V4cGlyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdD17YCR7dGVzdElkIHx8ICcnfS1leHBpcnlgfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7aXNFeHBpcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUcmFuc2xhdGVkU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeURhdGU6IGAke2luc3RydW1lbnQuZXhwaXJ5TW9udGh9LyR7aW5zdHJ1bWVudC5leHBpcnlZZWFyfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwicGF5bWVudC5pbnN0cnVtZW50X2V4cGlyZWRfdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRyYW5zbGF0ZWRTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJ5RGF0ZTogYCR7aW5zdHJ1bWVudC5leHBpcnlNb250aH0vJHtpbnN0cnVtZW50LmV4cGlyeVllYXJ9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJwYXltZW50Lmluc3RydW1lbnRfZXhwaXJlc190ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2J1dHRvbj5cbiAgICApO1xufTtcblxuaW50ZXJmYWNlIEluc3RydW1lbnRPcHRpb25Qcm9wcyB7XG4gICAgaW5zdHJ1bWVudDogQ2FyZEluc3RydW1lbnQ7XG4gICAgdGVzdElkPzogc3RyaW5nO1xuICAgIHNob3VsZEhpZGVFeHBpcnlEYXRlPzogYm9vbGVhbjtcbiAgICBvbkNsaWNrPyh0b2tlbjogc3RyaW5nKTogdm9pZDtcbn1cblxuY29uc3QgSW5zdHJ1bWVudE9wdGlvbjogRnVuY3Rpb25Db21wb25lbnQ8SW5zdHJ1bWVudE9wdGlvblByb3BzPiA9ICh7XG4gICAgaW5zdHJ1bWVudCxcbiAgICBzaG91bGRIaWRlRXhwaXJ5RGF0ZSA9IGZhbHNlLFxuICAgIG9uQ2xpY2sgPSBub29wLFxufSkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBvbkNsaWNrKGluc3RydW1lbnQuYmlncGF5VG9rZW4pO1xuICAgIH0sIFtvbkNsaWNrLCBpbnN0cnVtZW50XSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8SW5zdHJ1bWVudE1lbnVJdGVtXG4gICAgICAgICAgICBpbnN0cnVtZW50PXtpbnN0cnVtZW50fVxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xpY2t9XG4gICAgICAgICAgICBzaG91bGRIaWRlRXhwaXJ5RGF0ZT17c2hvdWxkSGlkZUV4cGlyeURhdGV9XG4gICAgICAgICAgICB0ZXN0SWQ9XCJpbnN0cnVtZW50LXNlbGVjdC1vcHRpb25cIlxuICAgICAgICAvPlxuICAgICk7XG59O1xuXG5pbnRlcmZhY2UgSW5zdHJ1bWVudFVzZU5ld0J1dHRvblByb3BzIHtcbiAgICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gICAgdGVzdElkPzogc3RyaW5nO1xuICAgIG9uQ2xpY2s/KCk6IHZvaWQ7XG59XG5cbmNvbnN0IEluc3RydW1lbnRVc2VOZXdCdXR0b246IEZ1bmN0aW9uQ29tcG9uZW50PEluc3RydW1lbnRVc2VOZXdCdXR0b25Qcm9wcz4gPSAoe1xuICAgIGNsYXNzTmFtZSxcbiAgICB0ZXN0SWQsXG4gICAgb25DbGljayA9IG5vb3AsXG59KSA9PiAoXG4gICAgPGJ1dHRvbiBjbGFzc05hbWU9e2NsYXNzTmFtZX0gZGF0YS10ZXN0PXt0ZXN0SWR9IG9uQ2xpY2s9e29uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbnN0cnVtZW50U2VsZWN0LWRldGFpbHMgaW5zdHJ1bWVudFNlbGVjdC1kZXRhaWxzLS1hZGROZXdcIj5cbiAgICAgICAgICAgIDxDcmVkaXRDYXJkSWNvbiAvPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluc3RydW1lbnRTZWxlY3QtY2FyZFwiPlxuICAgICAgICAgICAgICAgIDxUcmFuc2xhdGVkU3RyaW5nIGlkPVwicGF5bWVudC5pbnN0cnVtZW50X2FkZF9jYXJkX2FjdGlvblwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9idXR0b24+XG4pO1xuXG5pbnRlcmZhY2UgSW5zdHJ1bWVudE1lbnVQcm9wcyB7XG4gICAgaW5zdHJ1bWVudHM6IENhcmRJbnN0cnVtZW50W107XG4gICAgc2VsZWN0ZWRJbnN0cnVtZW50SWQ/OiBzdHJpbmc7XG4gICAgc2hvdWxkSGlkZUV4cGlyeURhdGU/OiBib29sZWFuO1xuICAgIG9uU2VsZWN0SW5zdHJ1bWVudChpZDogc3RyaW5nKTogdm9pZDtcbiAgICBvblVzZU5ld0luc3RydW1lbnQoKTogdm9pZDtcbn1cblxuY29uc3QgSW5zdHJ1bWVudE1lbnU6IEZ1bmN0aW9uQ29tcG9uZW50PEluc3RydW1lbnRNZW51UHJvcHM+ID0gKHtcbiAgICBpbnN0cnVtZW50cyxcbiAgICBzZWxlY3RlZEluc3RydW1lbnRJZCxcbiAgICBzaG91bGRIaWRlRXhwaXJ5RGF0ZSA9IGZhbHNlLFxuICAgIG9uU2VsZWN0SW5zdHJ1bWVudCxcbiAgICBvblVzZU5ld0luc3RydW1lbnQsXG59KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPHVsXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJpbnN0cnVtZW50U2VsZWN0LWRyb3Bkb3duTWVudSBpbnN0cnVtZW50U2VsZWN0LWRyb3Bkb3duTWVudU5leHQgZHJvcGRvd24tbWVudVwiXG4gICAgICAgICAgICBkYXRhLXRlc3Q9XCJpbnN0cnVtZW50LXNlbGVjdC1tZW51XCJcbiAgICAgICAgPlxuICAgICAgICAgICAge2luc3RydW1lbnRzLm1hcCgoaW5zdHJ1bWVudCkgPT4gKFxuICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2luc3RydW1lbnRTZWxlY3Qtb3B0aW9uIGRyb3Bkb3duLW1lbnUtaXRlbScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdpbnN0cnVtZW50U2VsZWN0LW9wdGlvbi0tc2VsZWN0ZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnQuYmlncGF5VG9rZW4gPT09IHNlbGVjdGVkSW5zdHJ1bWVudElkLFxuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAga2V5PXtpbnN0cnVtZW50LmJpZ3BheVRva2VufVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEluc3RydW1lbnRPcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnQ9e2luc3RydW1lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvblNlbGVjdEluc3RydW1lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRIaWRlRXhwaXJ5RGF0ZT17c2hvdWxkSGlkZUV4cGlyeURhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXN0SWQ9XCJpbnN0cnVtZW50LXNlbGVjdC1vcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApKX1cblxuICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImluc3RydW1lbnRTZWxlY3Qtb3B0aW9uIGluc3RydW1lbnRTZWxlY3Qtb3B0aW9uLS1hZGROZXcgZHJvcGRvd24tbWVudS1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPEluc3RydW1lbnRVc2VOZXdCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17b25Vc2VOZXdJbnN0cnVtZW50fVxuICAgICAgICAgICAgICAgICAgICB0ZXN0SWQ9XCJpbnN0cnVtZW50LXNlbGVjdC1vcHRpb24tdXNlLW5ld1wiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgKTtcbn07XG5cbmludGVyZmFjZSBJbnN0cnVtZW50U2VsZWN0QnV0dG9uUHJvcHMge1xuICAgIGluc3RydW1lbnQ/OiBDYXJkSW5zdHJ1bWVudDtcbiAgICBzaG91bGRIaWRlRXhwaXJ5RGF0ZT86IGJvb2xlYW47XG4gICAgdGVzdElkPzogc3RyaW5nO1xuICAgIG9uQ2xpY2s/KCk6IHZvaWQ7XG59XG5cbmNvbnN0IEluc3RydW1lbnRTZWxlY3RCdXR0b246IEZ1bmN0aW9uQ29tcG9uZW50PEluc3RydW1lbnRTZWxlY3RCdXR0b25Qcm9wcz4gPSAoe1xuICAgIGluc3RydW1lbnQsXG4gICAgc2hvdWxkSGlkZUV4cGlyeURhdGUgPSBmYWxzZSxcbiAgICB0ZXN0SWQsXG4gICAgb25DbGljayxcbn0pID0+IHtcbiAgICBpZiAoIWluc3RydW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxJbnN0cnVtZW50VXNlTmV3QnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW5zdHJ1bWVudFNlbGVjdC1idXR0b24gb3B0aW1pemVkQ2hlY2tvdXQtZm9ybS1zZWxlY3QgZHJvcGRvd24tYnV0dG9uIGZvcm0taW5wdXRcIlxuICAgICAgICAgICAgICAgIHRlc3RJZD17dGVzdElkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8SW5zdHJ1bWVudE1lbnVJdGVtXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJpbnN0cnVtZW50U2VsZWN0LWJ1dHRvbiBvcHRpbWl6ZWRDaGVja291dC1mb3JtLXNlbGVjdCBkcm9wZG93bi1idXR0b24gZm9ybS1pbnB1dFwiXG4gICAgICAgICAgICBpbnN0cnVtZW50PXtpbnN0cnVtZW50fVxuICAgICAgICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgICAgICAgIHNob3VsZEhpZGVFeHBpcnlEYXRlPXtzaG91bGRIaWRlRXhwaXJ5RGF0ZX1cbiAgICAgICAgICAgIHRlc3RJZD17dGVzdElkfVxuICAgICAgICAvPlxuICAgICk7XG59O1xuXG5jb25zdCBJbnN0cnVtZW50U2VsZWN0OiBGdW5jdGlvbkNvbXBvbmVudDxJbnN0cnVtZW50U2VsZWN0UHJvcHM+ID0gKHtcbiAgICBmaWVsZCxcbiAgICBmb3JtLFxuICAgIGluc3RydW1lbnRzLFxuICAgIG9uU2VsZWN0SW5zdHJ1bWVudCxcbiAgICBvblVzZU5ld0luc3RydW1lbnQsXG4gICAgc2VsZWN0ZWRJbnN0cnVtZW50SWQsXG4gICAgc2hvdWxkSGlkZUV4cGlyeURhdGUgPSBmYWxzZSxcbn0pID0+IHtcbiAgICBjb25zdCBwcmV2U2VsZWN0ZWRJbnN0cnVtZW50SWRSZWYgPSB1c2VSZWYoc2VsZWN0ZWRJbnN0cnVtZW50SWQpO1xuXG4gICAgY29uc3QgdXBkYXRlRmllbGRWYWx1ZSA9IHVzZUNhbGxiYWNrKFxuICAgICAgICAoaW5zdHJ1bWVudElkID0gJycpID0+IHtcbiAgICAgICAgICAgIHZvaWQgZm9ybS5zZXRGaWVsZFZhbHVlKGZpZWxkLm5hbWUsIGluc3RydW1lbnRJZCk7XG4gICAgICAgIH0sXG4gICAgICAgIFtmb3JtLCBmaWVsZC5uYW1lXSxcbiAgICApO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gRklYTUU6IFVzZWQgc2V0VGltZW91dCBoZXJlIGJlY2F1c2Ugc2V0RmllbGRWYWx1ZSBjYWxsIGRvZXNub3Qgc2V0IHZhbHVlIGlmIGNhbGxlZCBiZWZvcmUgZm9ybWlrIGlzIHByb3Blcmx5IG1vdW50ZWQuXG4gICAgICAgIC8vICAgICAgICBUaGlzIGVuc3VyZXMgdGhhdCB1cGRhdGUgRmllbGQgdmFsdWUgaXMgY2FsbGVkIGFmdGVyIGZvcm1payBoYXMgbW91bnRlZC5cbiAgICAgICAgLy8gU2VlIEdpdEh1YiBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL2phcmVkcGFsbWVyL2Zvcm1pay9pc3N1ZXMvOTMwXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdXBkYXRlRmllbGRWYWx1ZShzZWxlY3RlZEluc3RydW1lbnRJZCkpO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZmllbGQudmFsdWUgPT09ICcnICYmIHNlbGVjdGVkSW5zdHJ1bWVudElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVGaWVsZFZhbHVlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICB9LCBbXSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAocHJldlNlbGVjdGVkSW5zdHJ1bWVudElkUmVmLmN1cnJlbnQgIT09IHNlbGVjdGVkSW5zdHJ1bWVudElkKSB7XG4gICAgICAgICAgICAvLyBGSVhNRTogVXNlZCBzZXRUaW1lb3V0IGhlcmUgYmVjYXVzZSBzZXRGaWVsZFZhbHVlIGNhbGwgZG9lc25vdCBzZXQgdmFsdWUgaWYgY2FsbGVkIGJlZm9yZSBmb3JtaWsgaXMgcHJvcGVybHkgbW91bnRlZC5cbiAgICAgICAgICAgIC8vICAgICAgICBUaGlzIGVuc3VyZXMgdGhhdCB1cGRhdGUgRmllbGQgdmFsdWUgaXMgY2FsbGVkIGFmdGVyIGZvcm1payBoYXMgbW91bnRlZC5cbiAgICAgICAgICAgIC8vIFNlZSBHaXRIdWIgaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qYXJlZHBhbG1lci9mb3JtaWsvaXNzdWVzLzkzMFxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB1cGRhdGVGaWVsZFZhbHVlKHNlbGVjdGVkSW5zdHJ1bWVudElkKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcmV2U2VsZWN0ZWRJbnN0cnVtZW50SWRSZWYuY3VycmVudCA9IHNlbGVjdGVkSW5zdHJ1bWVudElkO1xuICAgIH0sIFtzZWxlY3RlZEluc3RydW1lbnRJZCwgdXBkYXRlRmllbGRWYWx1ZV0pO1xuXG4gICAgY29uc3Qgc2VsZWN0ZWRJbnN0cnVtZW50ID0gZmluZChpbnN0cnVtZW50cywgeyBiaWdwYXlUb2tlbjogc2VsZWN0ZWRJbnN0cnVtZW50SWQgfSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluc3RydW1lbnRTZWxlY3RcIj5cbiAgICAgICAgICAgIDxEcm9wZG93blRyaWdnZXJcbiAgICAgICAgICAgICAgICBkcm9wZG93bj17XG4gICAgICAgICAgICAgICAgICAgIDxJbnN0cnVtZW50TWVudVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudHM9e2luc3RydW1lbnRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3RJbnN0cnVtZW50PXtvblNlbGVjdEluc3RydW1lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvblVzZU5ld0luc3RydW1lbnQ9e29uVXNlTmV3SW5zdHJ1bWVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSW5zdHJ1bWVudElkPXtzZWxlY3RlZEluc3RydW1lbnRJZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZEhpZGVFeHBpcnlEYXRlPXtzaG91bGRIaWRlRXhwaXJ5RGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEluc3RydW1lbnRTZWxlY3RCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudD17c2VsZWN0ZWRJbnN0cnVtZW50fVxuICAgICAgICAgICAgICAgICAgICBzaG91bGRIaWRlRXhwaXJ5RGF0ZT17c2hvdWxkSGlkZUV4cGlyeURhdGV9XG4gICAgICAgICAgICAgICAgICAgIHRlc3RJZD1cImluc3RydW1lbnQtc2VsZWN0XCJcbiAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiB7Li4uZmllbGR9IC8+XG4gICAgICAgICAgICA8L0Ryb3Bkb3duVHJpZ2dlcj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEluc3RydW1lbnRTZWxlY3Q7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/instrument-utils/src/storedInstrument/InstrumentSelect/InstrumentSelect.tsx\n\n}");

/***/ }),

/***/ "./packages/instrument-utils/src/storedInstrument/mapFromInstrumentCardType/mapFromInstrumentCardType.ts":
/*!***************************************************************************************************************!*\
  !*** ./packages/instrument-utils/src/storedInstrument/mapFromInstrumentCardType/mapFromInstrumentCardType.ts ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ mapFromInstrumentCardType)\n/* harmony export */ });\nfunction mapFromInstrumentCardType(type) {\n    switch (type) {\n        case 'amex':\n        case 'american_express':\n            return 'american-express';\n        case 'diners':\n        case 'diners_club':\n            return 'diners-club';\n        default:\n            return type;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9pbnN0cnVtZW50LXV0aWxzL3NyYy9zdG9yZWRJbnN0cnVtZW50L21hcEZyb21JbnN0cnVtZW50Q2FyZFR5cGUvbWFwRnJvbUluc3RydW1lbnRDYXJkVHlwZS50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQWUsU0FBUyx5QkFBeUIsQ0FBQyxJQUFZO0lBQzFELFFBQVEsSUFBSSxFQUFFLENBQUM7UUFDWCxLQUFLLE1BQU0sQ0FBQztRQUNaLEtBQUssa0JBQWtCO1lBQ25CLE9BQU8sa0JBQWtCLENBQUM7UUFFOUIsS0FBSyxRQUFRLENBQUM7UUFDZCxLQUFLLGFBQWE7WUFDZCxPQUFPLGFBQWEsQ0FBQztRQUV6QjtZQUNJLE9BQU8sSUFBSSxDQUFDO0lBQ3BCLENBQUM7QUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvLi9wYWNrYWdlcy9pbnN0cnVtZW50LXV0aWxzL3NyYy9zdG9yZWRJbnN0cnVtZW50L21hcEZyb21JbnN0cnVtZW50Q2FyZFR5cGUvbWFwRnJvbUluc3RydW1lbnRDYXJkVHlwZS50cz8yNWQ2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1hcEZyb21JbnN0cnVtZW50Q2FyZFR5cGUodHlwZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnYW1leCc6XG4gICAgICAgIGNhc2UgJ2FtZXJpY2FuX2V4cHJlc3MnOlxuICAgICAgICAgICAgcmV0dXJuICdhbWVyaWNhbi1leHByZXNzJztcblxuICAgICAgICBjYXNlICdkaW5lcnMnOlxuICAgICAgICBjYXNlICdkaW5lcnNfY2x1Yic6XG4gICAgICAgICAgICByZXR1cm4gJ2RpbmVycy1jbHViJztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/instrument-utils/src/storedInstrument/mapFromInstrumentCardType/mapFromInstrumentCardType.ts\n\n}");

/***/ }),

/***/ "./packages/squarev2-integration/src/SquareV2Form.tsx":
/*!************************************************************!*\
  !*** ./packages/squarev2-integration/src/SquareV2Form.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/storedInstrument/CardInstrumentFieldset/CardInstrumentFieldset.tsx\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/storedInstrument/StoreInstrumentFieldset/StoreInstrumentFieldset.tsx\");\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/contexts/payment-form-context/PaymentFormContext.tsx\");\n/* harmony import */ var _bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bigcommerce/checkout/ui */ \"./packages/ui/src/loading/LoadingOverlay.tsx\");\n\n\n\n\n\nconst SquareV2Form = ({ checkoutService, checkoutState, containerId, deinitializePayment, initializePayment, method, }) => {\n    var _a;\n    const [isAddingNewCard, setIsAddingNewCard] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedInstrumentId, setSelectedInstrumentId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(undefined);\n    const { getCustomer, getInstruments } = checkoutState.data;\n    const isSignedIn = (_a = getCustomer()) === null || _a === void 0 ? void 0 : _a.isGuest;\n    const isInstrumentFeatureAvailable = !isSignedIn && Boolean(method.config.isVaultingEnabled);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        if (isInstrumentFeatureAvailable) {\n            void checkoutService.loadInstruments();\n        }\n    }, [checkoutService, isInstrumentFeatureAvailable]);\n    const instruments = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => getInstruments(method) || [], [getInstruments, method]);\n    const shouldShowInstrumentFieldset = isInstrumentFeatureAvailable && instruments.length > 0;\n    const shouldShowCreditCardFieldset = !shouldShowInstrumentFieldset || isAddingNewCard;\n    const getDefaultInstrumentId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n        if (isAddingNewCard) {\n            return;\n        }\n        if (instruments.length > 0) {\n            const defaultInstrument = instruments.find((instrument) => instrument.defaultInstrument) || instruments[0];\n            return defaultInstrument.bigpayToken;\n        }\n    }, [instruments, isAddingNewCard]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        const defaultInstrumentId = getDefaultInstrumentId() || undefined;\n        setSelectedInstrumentId(defaultInstrumentId);\n    }, [getDefaultInstrumentId, instruments]);\n    const { setFieldValue } = (0,_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_4__.usePaymentFormContext)().paymentForm;\n    const handleSelectInstrument = (id) => {\n        setIsAddingNewCard(false);\n        setSelectedInstrumentId(id);\n    };\n    const handleDeleteInstrument = (id) => {\n        if (instruments.length === 0) {\n            setIsAddingNewCard(true);\n            setSelectedInstrumentId(undefined);\n            setFieldValue('instrumentId', '');\n        }\n        else if (selectedInstrumentId === id) {\n            setSelectedInstrumentId(getDefaultInstrumentId());\n            setFieldValue('instrumentId', getDefaultInstrumentId());\n        }\n    };\n    const handleUseNewCard = () => {\n        setIsAddingNewCard(true);\n        setSelectedInstrumentId(undefined);\n        void deinitializePayment();\n        void initializePayment();\n    };\n    const renderPlaceholderFields = () => {\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { \"data-test\": \"squarev2_placeholder_form\", style: { display: 'none' } },\n            react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"form-field\" },\n                react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"form-label optimizedCheckout-form-label\", id: \"messageIsDefault\" }),\n                react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"form-input optimizedCheckout-form-input\", id: \"inputIsDefault\" })),\n            react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"form-field\" },\n                react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"form-input optimizedCheckout-form-input form-input--focus optimizedCheckout-form-input--focus\", id: \"inputIsFocus\" })),\n            react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"form-field form-field--error\" },\n                react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"form-inlineMessage\", id: \"messageIsError\" }),\n                react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"form-input optimizedCheckout-form-input\", id: \"inputIsError\" }))));\n    };\n    const { isLoadingInstruments } = checkoutState.statuses;\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { \"data-test\": \"squarev2_loading_overlay\", hideContentWhenLoading: true, isLoading: isLoadingInstruments() },\n        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"paymentMethod--hosted\" },\n            shouldShowInstrumentFieldset && (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n            // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n            , { \n                // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n                instruments: instruments, onDeleteInstrument: handleDeleteInstrument, onSelectInstrument: handleSelectInstrument, onUseNewInstrument: handleUseNewCard, selectedInstrumentId: selectedInstrumentId || getDefaultInstrumentId() })),\n            react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: classnames__WEBPACK_IMPORTED_MODULE_0___default()('widget', `widget--${method.id}`, 'payment-widget'), \"data-test\": containerId, style: {\n                    display: !shouldShowCreditCardFieldset ? 'none' : undefined,\n                }, tabIndex: -1 },\n                renderPlaceholderFields(),\n                react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { id: containerId })),\n            isInstrumentFeatureAvailable && (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_3__[\"default\"], { instrumentId: selectedInstrumentId, instruments: instruments })))));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SquareV2Form);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9zcXVhcmV2Mi1pbnRlZ3JhdGlvbi9zcmMvU3F1YXJlVjJGb3JtLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFNb0M7QUFDNkQ7QUFLakQ7QUFDc0M7QUFDNUI7QUFXMUQsTUFBTSxZQUFZLEdBQXlDLENBQUMsRUFDeEQsZUFBZSxFQUNmLGFBQWEsRUFDYixXQUFXLEVBQ1gsbUJBQW1CLEVBQ25CLGlCQUFpQixFQUNqQixNQUFNLEdBQ1QsRUFBRSxFQUFFOztJQUNELE1BQU0sQ0FBQyxlQUFlLEVBQUUsa0JBQWtCLENBQUMsR0FBRywrQ0FBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzlELE1BQU0sQ0FBQyxvQkFBb0IsRUFBRSx1QkFBdUIsQ0FBQyxHQUFHLCtDQUFRLENBQXFCLFNBQVMsQ0FBQyxDQUFDO0lBRWhHLE1BQU0sRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLEdBQUcsYUFBYSxDQUFDLElBQUksQ0FBQztJQUMzRCxNQUFNLFVBQVUsR0FBRyxpQkFBVyxFQUFFLDBDQUFFLE9BQU8sQ0FBQztJQUMxQyxNQUFNLDRCQUE0QixHQUFHLENBQUMsVUFBVSxJQUFJLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFFN0YsZ0RBQVMsQ0FBQyxHQUFHLEVBQUU7UUFDWCxJQUFJLDRCQUE0QixFQUFFLENBQUM7WUFDL0IsS0FBSyxlQUFlLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDM0MsQ0FBQztJQUNMLENBQUMsRUFBRSxDQUFDLGVBQWUsRUFBRSw0QkFBNEIsQ0FBQyxDQUFDLENBQUM7SUFFcEQsTUFBTSxXQUFXLEdBQUcsOENBQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsY0FBYyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDMUYsTUFBTSw0QkFBNEIsR0FBRyw0QkFBNEIsSUFBSSxXQUFXLENBQUMsTUFBTSxHQUFHLENB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RUYsTUFBTSxFQUFFLG9CQUFvQixFQUFFLEdBQUcsYUFBYSxDQUFDLFFBQVEsQ0FBQztJQUV4RCxPQUFPLENBQ0gsMkRBQUMsZ0VBQWMsaUJBQ0QsMEJBQTBCLEVBQ3BDLHNCQUFzQixRQUN0QixTQUFTLEVBQUUsb0JBQW9CLEVBQUU7UUFFakMsb0VBQUssU0FBUyxFQUFDLHVCQUF1QjtZQUNqQyw0QkFBNEIsSUFBSSxDQUM3QiwyREFBQyw4RUFBc0I7WUFDbkIseUVBQXlFOztnQkFBekUseUVBQXlFO2dCQUN6RSxXQUFXLEVBQUUsV0FBK0IsRUFDNUMsa0JBQWtCLEVBQUUsc0JBQXNCLEVBQzFDLGtCQUFrQixFQUFFLHNCQUFzQixFQUMxQyxrQkFBa0IsRUFBRSxnQkFBZ0IsRUFDcEMsb0JBQW9CLEVBQUUsb0JBQW9CLElBQUksc0JBQXNCLEVBQUUsR0FDeEUsQ0FDTDtZQUNELG9FQUNJLFNBQVMsRUFBRSxpREFBVSxDQUFDLFFBQVEsRUFBRSxXQUFXLE1BQU0sQ0FBQyxFQUFFLEVBQUUsRUFBRSxnQkFBZ0IsQ0FBQyxlQUM5RCxXQUFXLEVBQ3RCLEtBQUssRUFBRTtvQkFDSCxPQUFPLEVBQUUsQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxTQUFTO2lCQUM5RCxFQUNELFFBQVEsRUFBRSxDQUFDLENBQUM7Z0JBRVgsdUJBQXVCLEVBQUU7Z0JBQzFCLG9FQUFLLEVBQUUsRUFBRSxXQUFXLEdBQUksQ0FDdEI7WUFFTCw0QkFBNEIsSUFBSSxDQUM3QiwyREFBQyw4RUFBdUIsSUFDcEIsWUFBWSxFQUFFLG9CQUFvQixFQUNsQyxXQUFXLEVBQUUsV0FBVyxHQUMxQixDQUNMLENBQ0MsQ0FDTyxDQUNwQixDQUFDO0FBQ04sQ0FBQyxDQUFDO0FBRUYsaUVBQWUsWUFBWSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvLi9wYWNrYWdlcy9zcXVhcmV2Mi1pbnRlZ3JhdGlvbi9zcmMvU3F1YXJlVjJGb3JtLnRzeD9kODk1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgdHlwZSBDYXJkSW5zdHJ1bWVudCxcbiAgICB0eXBlIENoZWNrb3V0U2VsZWN0b3JzLFxuICAgIHR5cGUgQ2hlY2tvdXRTZXJ2aWNlLFxuICAgIHR5cGUgUGF5bWVudE1ldGhvZCxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkayc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBSZWFjdCwgeyB0eXBlIEZ1bmN0aW9uQ29tcG9uZW50LCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtcbiAgICBDYXJkSW5zdHJ1bWVudEZpZWxkc2V0LFxuICAgIFN0b3JlSW5zdHJ1bWVudEZpZWxkc2V0LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQvaW5zdHJ1bWVudC11dGlscyc7XG5pbXBvcnQgeyB1c2VQYXltZW50Rm9ybUNvbnRleHQgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuaW1wb3J0IHsgTG9hZGluZ092ZXJsYXkgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQvdWknO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNxdWFyZVYyRm9ybVByb3BzIHtcbiAgICBjaGVja291dFNlcnZpY2U6IENoZWNrb3V0U2VydmljZTtcbiAgICBjaGVja291dFN0YXRlOiBDaGVja291dFNlbGVjdG9ycztcbiAgICBjb250YWluZXJJZDogc3RyaW5nO1xuICAgIGRlaW5pdGlhbGl6ZVBheW1lbnQ6ICgpID0+IFByb21pc2U8dm9pZD47XG4gICAgaW5pdGlhbGl6ZVBheW1lbnQ6ICgpID0+IFByb21pc2U8dm9pZD47XG4gICAgbWV0aG9kOiBQYXltZW50TWV0aG9kO1xufVxuXG5jb25zdCBTcXVhcmVWMkZvcm06IEZ1bmN0aW9uQ29tcG9uZW50PFNxdWFyZVYyRm9ybVByb3BzPiA9ICh7XG4gICAgY2hlY2tvdXRTZXJ2aWNlLFxuICAgIGNoZWNrb3V0U3RhdGUsXG4gICAgY29udGFpbmVySWQsXG4gICAgZGVpbml0aWFsaXplUGF5bWVudCxcbiAgICBpbml0aWFsaXplUGF5bWVudCxcbiAgICBtZXRob2QsXG59KSA9PiB7XG4gICAgY29uc3QgW2lzQWRkaW5nTmV3Q2FyZCwgc2V0SXNBZGRpbmdOZXdDYXJkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbc2VsZWN0ZWRJbnN0cnVtZW50SWQsIHNldFNlbGVjdGVkSW5zdHJ1bWVudElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcblxuICAgIGNvbnN0IHsgZ2V0Q3VzdG9tZXIsIGdldEluc3RydW1lbnRzIH0gPSBjaGVja291dFN0YXRlLmRhdGE7XG4gICAgY29uc3QgaXNTaWduZWRJbiA9IGdldEN1c3RvbWVyKCk/LmlzR3Vlc3Q7XG4gICAgY29uc3QgaXNJbnN0cnVtZW50RmVhdHVyZUF2YWlsYWJsZSA9ICFpc1NpZ25lZEluICYmIEJvb2xlYW4obWV0aG9kLmNvbmZpZy5pc1ZhdWx0aW5nRW5hYmxlZCk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNJbnN0cnVtZW50RmVhdHVyZUF2YWlsYWJsZSkge1xuICAgICAgICAgICAgdm9pZCBjaGVja291dFNlcnZpY2UubG9hZEluc3RydW1lbnRzKCk7XG4gICAgICAgIH1cbiAgICB9LCBbY2hlY2tvdXRTZXJ2aWNlLCBpc0luc3RydW1lbnRGZWF0dXJlQXZhaWxhYmxlXSk7XG5cbiAgICBjb25zdCBpbnN0cnVtZW50cyA9IHVzZU1lbW8oKCkgPT4gZ2V0SW5zdHJ1bWVudHMobWV0aG9kKSB8fCBbXSwgW2dldEluc3RydW1lbnRzLCBtZXRob2RdKTtcbiAgICBjb25zdCBzaG91bGRTaG93SW5zdHJ1bWVudEZpZWxkc2V0ID0gaXNJbnN0cnVtZW50RmVhdHVyZUF2YWlsYWJsZSAmJiBpbnN0cnVtZW50cy5sZW5ndGggPiAwO1xuICAgIGNvbnN0IHNob3VsZFNob3dDcmVkaXRDYXJkRmllbGRzZXQgPSAhc2hvdWxkU2hvd0luc3RydW1lbnRGaWVsZHNldCB8fCBpc0FkZGluZ05ld0NhcmQ7XG5cbiAgICBjb25zdCBnZXREZWZhdWx0SW5zdHJ1bWVudElkID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoaXNBZGRpbmdOZXdDYXJkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5zdHJ1bWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdEluc3RydW1lbnQgPVxuICAgICAgICAgICAgICAgIGluc3RydW1lbnRzLmZpbmQoKGluc3RydW1lbnQpID0+IGluc3RydW1lbnQuZGVmYXVsdEluc3RydW1lbnQpIHx8IGluc3RydW1lbnRzWzBdO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdEluc3RydW1lbnQuYmlncGF5VG9rZW47XG4gICAgICAgIH1cbiAgICB9LCBbaW5zdHJ1bWVudHMsIGlzQWRkaW5nTmV3Q2FyZF0pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgZGVmYXVsdEluc3RydW1lbnRJZCA9IGdldERlZmF1bHRJbnN0cnVtZW50SWQoKSB8fCB1bmRlZmluZWQ7XG5cbiAgICAgICAgc2V0U2VsZWN0ZWRJbnN0cnVtZW50SWQoZGVmYXVsdEluc3RydW1lbnRJZCk7XG4gICAgfSwgW2dldERlZmF1bHRJbnN0cnVtZW50SWQsIGluc3RydW1lbnRzXSk7XG5cbiAgICBjb25zdCB7IHNldEZpZWxkVmFsdWUgfSA9IHVzZVBheW1lbnRGb3JtQ29udGV4dCgpLnBheW1lbnRGb3JtO1xuXG4gICAgY29uc3QgaGFuZGxlU2VsZWN0SW5zdHJ1bWVudDogKGlkOiBzdHJpbmcpID0+IHZvaWQgPSAoaWQpID0+IHtcbiAgICAgICAgc2V0SXNBZGRpbmdOZXdDYXJkKGZhbHNlKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRJbnN0cnVtZW50SWQoaWQpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVEZWxldGVJbnN0cnVtZW50OiAoaWQ6IHN0cmluZykgPT4gdm9pZCA9IChpZCkgPT4ge1xuICAgICAgICBpZiAoaW5zdHJ1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBzZXRJc0FkZGluZ05ld0NhcmQodHJ1ZSk7XG4gICAgICAgICAgICBzZXRTZWxlY3RlZEluc3RydW1lbnRJZCh1bmRlZmluZWQpO1xuXG4gICAgICAgICAgICBzZXRGaWVsZFZhbHVlKCdpbnN0cnVtZW50SWQnLCAnJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRJbnN0cnVtZW50SWQgPT09IGlkKSB7XG4gICAgICAgICAgICBzZXRTZWxlY3RlZEluc3RydW1lbnRJZChnZXREZWZhdWx0SW5zdHJ1bWVudElkKCkpO1xuXG4gICAgICAgICAgICBzZXRGaWVsZFZhbHVlKCdpbnN0cnVtZW50SWQnLCBnZXREZWZhdWx0SW5zdHJ1bWVudElkKCkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVVzZU5ld0NhcmQ6ICgpID0+IHZvaWQgPSAoKSA9PiB7XG4gICAgICAgIHNldElzQWRkaW5nTmV3Q2FyZCh0cnVlKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRJbnN0cnVtZW50SWQodW5kZWZpbmVkKTtcblxuICAgICAgICB2b2lkIGRlaW5pdGlhbGl6ZVBheW1lbnQoKTtcblxuICAgICAgICB2b2lkIGluaXRpYWxpemVQYXltZW50KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlclBsYWNlaG9sZGVyRmllbGRzID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBkYXRhLXRlc3Q9XCJzcXVhcmV2Ml9wbGFjZWhvbGRlcl9mb3JtXCIgc3R5bGU9e3sgZGlzcGxheTogJ25vbmUnIH19PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1maWVsZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWxhYmVsIG9wdGltaXplZENoZWNrb3V0LWZvcm0tbGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJtZXNzYWdlSXNEZWZhdWx0XCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWlucHV0IG9wdGltaXplZENoZWNrb3V0LWZvcm0taW5wdXRcIiBpZD1cImlucHV0SXNEZWZhdWx0XCIgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZmllbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1pbnB1dCBvcHRpbWl6ZWRDaGVja291dC1mb3JtLWlucHV0IGZvcm0taW5wdXQtLWZvY3VzIG9wdGltaXplZENoZWNrb3V0LWZvcm0taW5wdXQtLWZvY3VzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwiaW5wdXRJc0ZvY3VzXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZmllbGQgZm9ybS1maWVsZC0tZXJyb3JcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWlubGluZU1lc3NhZ2VcIiBpZD1cIm1lc3NhZ2VJc0Vycm9yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWlucHV0IG9wdGltaXplZENoZWNrb3V0LWZvcm0taW5wdXRcIiBpZD1cImlucHV0SXNFcnJvclwiIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgY29uc3QgeyBpc0xvYWRpbmdJbnN0cnVtZW50cyB9ID0gY2hlY2tvdXRTdGF0ZS5zdGF0dXNlcztcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxMb2FkaW5nT3ZlcmxheVxuICAgICAgICAgICAgZGF0YS10ZXN0PVwic3F1YXJldjJfbG9hZGluZ19vdmVybGF5XCJcbiAgICAgICAgICAgIGhpZGVDb250ZW50V2hlbkxvYWRpbmdcbiAgICAgICAgICAgIGlzTG9hZGluZz17aXNMb2FkaW5nSW5zdHJ1bWVudHMoKX1cbiAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYXltZW50TWV0aG9kLS1ob3N0ZWRcIj5cbiAgICAgICAgICAgICAgICB7c2hvdWxkU2hvd0luc3RydW1lbnRGaWVsZHNldCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxDYXJkSW5zdHJ1bWVudEZpZWxkc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2NvbnNpc3RlbnQtdHlwZS1hc3NlcnRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50cz17aW5zdHJ1bWVudHMgYXMgQ2FyZEluc3RydW1lbnRbXX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRGVsZXRlSW5zdHJ1bWVudD17aGFuZGxlRGVsZXRlSW5zdHJ1bWVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0SW5zdHJ1bWVudD17aGFuZGxlU2VsZWN0SW5zdHJ1bWVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVXNlTmV3SW5zdHJ1bWVudD17aGFuZGxlVXNlTmV3Q2FyZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSW5zdHJ1bWVudElkPXtzZWxlY3RlZEluc3RydW1lbnRJZCB8fCBnZXREZWZhdWx0SW5zdHJ1bWVudElkKCl9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnd2lkZ2V0JywgYHdpZGdldC0tJHttZXRob2QuaWR9YCwgJ3BheW1lbnQtd2lkZ2V0Jyl9XG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdD17Y29udGFpbmVySWR9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAhc2hvdWxkU2hvd0NyZWRpdENhcmRGaWVsZHNldCA/ICdub25lJyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgdGFiSW5kZXg9ey0xfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge3JlbmRlclBsYWNlaG9sZGVyRmllbGRzKCl9XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9e2NvbnRhaW5lcklkfSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAge2lzSW5zdHJ1bWVudEZlYXR1cmVBdmFpbGFibGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8U3RvcmVJbnN0cnVtZW50RmllbGRzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRJZD17c2VsZWN0ZWRJbnN0cnVtZW50SWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50cz17aW5zdHJ1bWVudHN9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0xvYWRpbmdPdmVybGF5PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTcXVhcmVWMkZvcm07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/squarev2-integration/src/SquareV2Form.tsx\n\n}");

/***/ }),

/***/ "./packages/squarev2-integration/src/SquareV2PaymentMethod.tsx":
/*!*********************************************************************!*\
  !*** ./packages/squarev2-integration/src/SquareV2PaymentMethod.tsx ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_squarev2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/squarev2 */ \"../checkout-sdk-js/dist/esm/integrations/squarev2.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _bigcommerce_checkout_dom_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bigcommerce/checkout/dom-utils */ \"./packages/dom-utils/src/getAppliedStyles.ts\");\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/toResolvableComponent.tsx\");\n/* harmony import */ var _SquareV2Form__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SquareV2Form */ \"./packages/squarev2-integration/src/SquareV2Form.tsx\");\n\n\n\n\n\n\n\nconst SquareV2PaymentMethod = ({ method, checkoutService, checkoutState, }) => {\n    const getStylesFromElement = (id, properties) => {\n        const container = document.querySelector(`#${id}`);\n        if (!container) {\n            throw new Error(`Unable to retrieve input styles as the provided container ID \"${id}\" is not valid.`);\n        }\n        return (0,_bigcommerce_checkout_dom_utils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(container, properties);\n    };\n    const copyStylesFromDummyFormFields = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n        const styleProps = [\n            'backgroundColor',\n            'borderColor',\n            'borderRadius',\n            'borderWidth',\n            'color',\n            'fontSize',\n            'fontWeight',\n        ];\n        return {\n            default: {\n                message: getStylesFromElement('messageIsDefault', ['color']),\n                input: getStylesFromElement('inputIsDefault', styleProps),\n            },\n            focus: {\n                input: getStylesFromElement('inputIsFocus', (0,lodash__WEBPACK_IMPORTED_MODULE_2__.difference)(styleProps, ['borderRadius'])),\n            },\n            error: {\n                message: getStylesFromElement('messageIsError', ['color']),\n                input: getStylesFromElement('inputIsError', [\n                    'borderColor',\n                    'borderWidth',\n                    'color',\n                ]),\n            },\n        };\n    }, []);\n    const mapToSquareStyles = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((styles) => {\n        const _a = styles.default.input, { borderColor, borderRadius, borderWidth } = _a, input = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__rest)(_a, [\"borderColor\", \"borderRadius\", \"borderWidth\"]);\n        const _b = styles.focus.input, { borderColor: borderColorIsFocus, borderWidth: borderWidthIsFocus } = _b, inputIsFocus = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__rest)(_b, [\"borderColor\", \"borderWidth\"]);\n        const { borderColor: borderColorIsError, borderWidth: borderWidthIsError, color: colorIsError, } = styles.error.input;\n        return {\n            input,\n            'input.is-focus': Object.assign({}, inputIsFocus),\n            'input.is-error': {\n                color: colorIsError,\n            },\n            '.input-container': {\n                borderColor,\n                borderRadius,\n                borderWidth,\n            },\n            '.input-container.is-focus': {\n                borderColor: borderColorIsFocus,\n                borderWidth: borderWidthIsFocus,\n            },\n            '.input-container.is-error': {\n                borderColor: borderColorIsError,\n                borderWidth: borderWidthIsError,\n            },\n            '.message-text': {\n                color: styles.default.message.color,\n            },\n            '.message-icon': {\n                color: styles.default.message.color,\n            },\n            '.message-text.is-error': {\n                color: styles.error.message.color,\n            },\n            '.message-icon.is-error': {\n                color: styles.error.message.color,\n            },\n        };\n    }, []);\n    const containerId = 'squarev2_payment_element_container';\n    const initializePayment = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n        let style;\n        try {\n            style = mapToSquareStyles(copyStylesFromDummyFormFields());\n        }\n        catch (_a) {\n            /* Do nothing: we should not block shoppers from buying. */\n        }\n        yield checkoutService.initializePayment({\n            gatewayId: method.gateway,\n            methodId: method.id,\n            integrations: [_bigcommerce_checkout_sdk_integrations_squarev2__WEBPACK_IMPORTED_MODULE_1__.createSquareV2PaymentStrategy],\n            squarev2: {\n                containerId,\n                style,\n            },\n        });\n    }), [\n        checkoutService,\n        copyStylesFromDummyFormFields,\n        mapToSquareStyles,\n        method.gateway,\n        method.id,\n    ]);\n    const deinitializePayment = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n        yield checkoutService.deinitializePayment({\n            gatewayId: method.gateway,\n            methodId: method.id,\n        });\n    }), [checkoutService, method.gateway, method.id]);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        void initializePayment();\n        return () => {\n            void deinitializePayment();\n        };\n    }, [deinitializePayment, initializePayment]);\n    return (react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_SquareV2Form__WEBPACK_IMPORTED_MODULE_6__[\"default\"], { checkoutService: checkoutService, checkoutState: checkoutState, containerId: containerId, deinitializePayment: deinitializePayment, initializePayment: initializePayment, method: method }));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(SquareV2PaymentMethod, [{ id: 'squarev2' }]));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9zcXVhcmV2Mi1pbnRlZ3JhdGlvbi9zcmMvU3F1YXJlVjJQYXltZW50TWV0aG9kLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFnRztBQUM1RDtBQUMwQztBQUVYO0FBS1o7QUFFYjtBQUUxQyxNQUFNLHFCQUFxQixHQUEwQyxDQUFDLEVBQ2xFLE1BQU0sRUFDTixlQUFlLEVBQ2YsYUFBYSxHQUNoQixFQUFFLEVBQUU7SUFDRCxNQUFNLG9CQUFvQixHQUFHLENBQUMsRUFBVSxFQUFFLFVBQW9CLEVBQUUsRUFBRTtRQUM5RCxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFpQixJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFbkUsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ2IsTUFBTSxJQUFJLEtBQUssQ0FDWCxpRUFBaUUsRUFBRSxpQkFBaUIsQ0FDdkYsQ0FBQztRQUNOLENBQUM7UUFFRCxPQUFPLDJFQUFnQixDQUFDLFNBQVMsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUNuRCxDQUFDLENBQUM7SUFFRixNQUFNLDZCQUE2QixHQUFHLGtEQUFXLENBQUMsR0FBRyxFQUFFO1FBQ25ELE1BQU0sVUFBVSxHQUFHO1lBQ2YsaUJBQWlCO1lBQ2pCLGFBQWE7WUFDYixjQUFjO1lBQ2QsYUFBYTtZQUNiLE9BQU87WUFDUCxVQUFVO1lBQ1YsWUFBWTtTQUNmLENBQUM7UUFFRixPQUFPO1lBQ0gsT0FBTyxFQUFFO2dCQUNMLE9BQU8sRUFBRSxvQkFBb0IsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUM1RCxLQUFLLEVBQUUsb0JBQW9CLENBQUMsZ0JBQWdCLEVBQUUsVUFBVSxDQUFDO2FBQzVEO1lBQ0QsS0FBSyxFQUFFO2dCQUNILEtBQUssRUFBRSxvQkFBb0IsQ0FDdkIsY0FBYyxFQUNkLGtEQUFVLENBQUMsVUFBVSxFQUFFLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FDM0M7YUFDSjtZQUNELEtB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UUFDaEQsTUFBTSxlQUFlLENBQUMsbUJBQW1CLENBQUM7WUFDdEMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxPQUFPO1lBQ3pCLFFBQVEsRUFBRSxNQUFNLENBQUMsRUFBRTtTQUN0QixDQUFDLENBQUM7SUFDUCxDQUFDLEdBQUUsQ0FBQyxlQUFlLEVBQUUsTUFBTSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUVqRCxnREFBUyxDQUFDLEdBQUcsRUFBRTtRQUNYLEtBQUssaUJBQWlCLEVBQUUsQ0FBQztRQUV6QixPQUFPLEdBQUcsRUFBRTtZQUNSLEtBQUssbUJBQW1CLEVBQUUsQ0FBQztRQUMvQixDQUFDLENBQUM7SUFDTixDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7SUFFN0MsT0FBTyxDQUNILDJEQUFDLHFEQUFZLElBQ1QsZUFBZSxFQUFFLGVBQWUsRUFDaEMsYUFBYSxFQUFFLGFBQWEsRUFDNUIsV0FBVyxFQUFFLFdBQVcsRUFDeEIsbUJBQW1CLEVBQUUsbUJBQW1CLEVBQ3hDLGlCQUFpQixFQUFFLGlCQUFpQixFQUNwQyxNQUFNLEVBQUUsTUFBTSxHQUNoQixDQUNMLENBQUM7QUFDTixDQUFDLENBQUM7QUFFRixpRUFBZSx5RkFBcUIsQ0FDaEMscUJBQXFCLEVBQ3JCLENBQUMsRUFBRSxFQUFFLEVBQUUsVUFBVSxFQUFFLENBQUMsQ0FDdkIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vcGFja2FnZXMvc3F1YXJldjItaW50ZWdyYXRpb24vc3JjL1NxdWFyZVYyUGF5bWVudE1ldGhvZC50c3g/YjIzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVTcXVhcmVWMlBheW1lbnRTdHJhdGVneSB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvaW50ZWdyYXRpb25zL3NxdWFyZXYyJztcbmltcG9ydCB7IGRpZmZlcmVuY2UgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFJlYWN0LCB7IHR5cGUgRnVuY3Rpb25Db21wb25lbnQsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IGdldEFwcGxpZWRTdHlsZXMgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQvZG9tLXV0aWxzJztcbmltcG9ydCB7XG4gICAgdHlwZSBQYXltZW50TWV0aG9kUHJvcHMsXG4gICAgdHlwZSBQYXltZW50TWV0aG9kUmVzb2x2ZUlkLFxuICAgIHRvUmVzb2x2YWJsZUNvbXBvbmVudCxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IFNxdWFyZVYyRm9ybSBmcm9tICcuL1NxdWFyZVYyRm9ybSc7XG5cbmNvbnN0IFNxdWFyZVYyUGF5bWVudE1ldGhvZDogRnVuY3Rpb25Db21wb25lbnQ8UGF5bWVudE1ldGhvZFByb3BzPiA9ICh7XG4gICAgbWV0aG9kLFxuICAgIGNoZWNrb3V0U2VydmljZSxcbiAgICBjaGVja291dFN0YXRlLFxufSkgPT4ge1xuICAgIGNvbnN0IGdldFN0eWxlc0Zyb21FbGVtZW50ID0gKGlkOiBzdHJpbmcsIHByb3BlcnRpZXM6IHN0cmluZ1tdKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTERpdkVsZW1lbnQ+KGAjJHtpZH1gKTtcblxuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gcmV0cmlldmUgaW5wdXQgc3R5bGVzIGFzIHRoZSBwcm92aWRlZCBjb250YWluZXIgSUQgXCIke2lkfVwiIGlzIG5vdCB2YWxpZC5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnZXRBcHBsaWVkU3R5bGVzKGNvbnRhaW5lciwgcHJvcGVydGllcyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNvcHlTdHlsZXNGcm9tRHVtbXlGb3JtRmllbGRzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBjb25zdCBzdHlsZVByb3BzID0gW1xuICAgICAgICAgICAgJ2JhY2tncm91bmRDb2xvcicsXG4gICAgICAgICAgICAnYm9yZGVyQ29sb3InLFxuICAgICAgICAgICAgJ2JvcmRlclJhZGl1cycsXG4gICAgICAgICAgICAnYm9yZGVyV2lkdGgnLFxuICAgICAgICAgICAgJ2NvbG9yJyxcbiAgICAgICAgICAgICdmb250U2l6ZScsXG4gICAgICAgICAgICAnZm9udFdlaWdodCcsXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBnZXRTdHlsZXNGcm9tRWxlbWVudCgnbWVzc2FnZUlzRGVmYXVsdCcsIFsnY29sb3InXSksXG4gICAgICAgICAgICAgICAgaW5wdXQ6IGdldFN0eWxlc0Zyb21FbGVtZW50KCdpbnB1dElzRGVmYXVsdCcsIHN0eWxlUHJvcHMpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvY3VzOiB7XG4gICAgICAgICAgICAgICAgaW5wdXQ6IGdldFN0eWxlc0Zyb21FbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnaW5wdXRJc0ZvY3VzJyxcbiAgICAgICAgICAgICAgICAgICAgZGlmZmVyZW5jZShzdHlsZVByb3BzLCBbJ2JvcmRlclJhZGl1cyddKSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZ2V0U3R5bGVzRnJvbUVsZW1lbnQoJ21lc3NhZ2VJc0Vycm9yJywgWydjb2xvciddKSxcbiAgICAgICAgICAgICAgICBpbnB1dDogZ2V0U3R5bGVzRnJvbUVsZW1lbnQoJ2lucHV0SXNFcnJvcicsIFtcbiAgICAgICAgICAgICAgICAgICAgJ2JvcmRlckNvbG9yJyxcbiAgICAgICAgICAgICAgICAgICAgJ2JvcmRlcldpZHRoJyxcbiAgICAgICAgICAgICAgICAgICAgJ2NvbG9yJyxcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgbWFwVG9TcXVhcmVTdHlsZXMgPSB1c2VDYWxsYmFjayhcbiAgICAgICAgKHN0eWxlczogUmV0dXJuVHlwZTx0eXBlb2YgY29weVN0eWxlc0Zyb21EdW1teUZvcm1GaWVsZHM+KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGJvcmRlckNvbG9yLCBib3JkZXJSYWRpdXMsIGJvcmRlcldpZHRoLCAuLi5pbnB1dCB9ID0gc3R5bGVzLmRlZmF1bHQuaW5wdXQ7XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGJvcmRlckNvbG9ySXNGb2N1cyxcbiAgICAgICAgICAgICAgICBib3JkZXJXaWR0aDogYm9yZGVyV2lkdGhJc0ZvY3VzLFxuICAgICAgICAgICAgICAgIC4uLmlucHV0SXNGb2N1c1xuICAgICAgICAgICAgfSA9IHN0eWxlcy5mb2N1cy5pbnB1dDtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogYm9yZGVyQ29sb3JJc0Vycm9yLFxuICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiBib3JkZXJXaWR0aElzRXJyb3IsXG4gICAgICAgICAgICAgICAgY29sb3I6IGNvbG9ySXNFcnJvcixcbiAgICAgICAgICAgIH0gPSBzdHlsZXMuZXJyb3IuaW5wdXQ7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgJ2lucHV0LmlzLWZvY3VzJzoge1xuICAgICAgICAgICAgICAgICAgICAuLi5pbnB1dElzRm9jdXMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnaW5wdXQuaXMtZXJyb3InOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvcklzRXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnLmlucHV0LWNvbnRhaW5lcic6IHtcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1cyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyV2lkdGgsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnLmlucHV0LWNvbnRhaW5lci5pcy1mb2N1cyc6IHtcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGJvcmRlckNvbG9ySXNGb2N1cyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6IGJvcmRlcldpZHRoSXNGb2N1cyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICcuaW5wdXQtY29udGFpbmVyLmlzLWVycm9yJzoge1xuICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogYm9yZGVyQ29sb3JJc0Vycm9yLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJXaWR0aDogYm9yZGVyV2lkdGhJc0Vycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJy5tZXNzYWdlLXRleHQnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBzdHlsZXMuZGVmYXVsdC5tZXNzYWdlLmNvbG9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJy5tZXNzYWdlLWljb24nOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBzdHlsZXMuZGVmYXVsdC5tZXNzYWdlLmNvbG9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJy5tZXNzYWdlLXRleHQuaXMtZXJyb3InOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBzdHlsZXMuZXJyb3IubWVzc2FnZS5jb2xvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICcubWVzc2FnZS1pY29uLmlzLWVycm9yJzoge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogc3R5bGVzLmVycm9yLm1lc3NhZ2UuY29sb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIFtdLFxuICAgICk7XG5cbiAgICBjb25zdCBjb250YWluZXJJZCA9ICdzcXVhcmV2Ml9wYXltZW50X2VsZW1lbnRfY29udGFpbmVyJztcblxuICAgIGNvbnN0IGluaXRpYWxpemVQYXltZW50ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZXQgc3R5bGU7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN0eWxlID0gbWFwVG9TcXVhcmVTdHlsZXMoY29weVN0eWxlc0Zyb21EdW1teUZvcm1GaWVsZHMoKSk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgLyogRG8gbm90aGluZzogd2Ugc2hvdWxkIG5vdCBibG9jayBzaG9wcGVycyBmcm9tIGJ1eWluZy4gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IGNoZWNrb3V0U2VydmljZS5pbml0aWFsaXplUGF5bWVudCh7XG4gICAgICAgICAgICBnYXRld2F5SWQ6IG1ldGhvZC5nYXRld2F5LFxuICAgICAgICAgICAgbWV0aG9kSWQ6IG1ldGhvZC5pZCxcbiAgICAgICAgICAgIGludGVncmF0aW9uczogW2NyZWF0ZVNxdWFyZVYyUGF5bWVudFN0cmF0ZWd5XSxcbiAgICAgICAgICAgIHNxdWFyZXYyOiB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVySWQsXG4gICAgICAgICAgICAgICAgc3R5bGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9LCBbXG4gICAgICAgIGNoZWNrb3V0U2VydmljZSxcbiAgICAgICAgY29weVN0eWxlc0Zyb21EdW1teUZvcm1GaWVsZHMsXG4gICAgICAgIG1hcFRvU3F1YXJlU3R5bGVzLFxuICAgICAgICBtZXRob2QuZ2F0ZXdheSxcbiAgICAgICAgbWV0aG9kLmlkLFxuICAgIF0pO1xuXG4gICAgY29uc3QgZGVpbml0aWFsaXplUGF5bWVudCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgY2hlY2tvdXRTZXJ2aWNlLmRlaW5pdGlhbGl6ZVBheW1lbnQoe1xuICAgICAgICAgICAgZ2F0ZXdheUlkOiBtZXRob2QuZ2F0ZXdheSxcbiAgICAgICAgICAgIG1ldGhvZElkOiBtZXRob2QuaWQsXG4gICAgICAgIH0pO1xuICAgIH0sIFtjaGVja291dFNlcnZpY2UsIG1ldGhvZC5nYXRld2F5LCBtZXRob2QuaWRdKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZvaWQgaW5pdGlhbGl6ZVBheW1lbnQoKTtcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdm9pZCBkZWluaXRpYWxpemVQYXltZW50KCk7XG4gICAgICAgIH07XG4gICAgfSwgW2RlaW5pdGlhbGl6ZVBheW1lbnQsIGluaXRpYWxpemVQYXltZW50XSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8U3F1YXJlVjJGb3JtXG4gICAgICAgICAgICBjaGVja291dFNlcnZpY2U9e2NoZWNrb3V0U2VydmljZX1cbiAgICAgICAgICAgIGNoZWNrb3V0U3RhdGU9e2NoZWNrb3V0U3RhdGV9XG4gICAgICAgICAgICBjb250YWluZXJJZD17Y29udGFpbmVySWR9XG4gICAgICAgICAgICBkZWluaXRpYWxpemVQYXltZW50PXtkZWluaXRpYWxpemVQYXltZW50fVxuICAgICAgICAgICAgaW5pdGlhbGl6ZVBheW1lbnQ9e2luaXRpYWxpemVQYXltZW50fVxuICAgICAgICAgICAgbWV0aG9kPXttZXRob2R9XG4gICAgICAgIC8+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZUNvbXBvbmVudDxQYXltZW50TWV0aG9kUHJvcHMsIFBheW1lbnRNZXRob2RSZXNvbHZlSWQ+KFxuICAgIFNxdWFyZVYyUGF5bWVudE1ldGhvZCxcbiAgICBbeyBpZDogJ3NxdWFyZXYyJyB9XSxcbik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/squarev2-integration/src/SquareV2PaymentMethod.tsx\n\n}");

/***/ }),

/***/ "./packages/squarev2-integration/src/index.ts":
/*!****************************************************!*\
  !*** ./packages/squarev2-integration/src/index.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SquareV2PaymentMethod: () => (/* reexport safe */ _SquareV2PaymentMethod__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _SquareV2PaymentMethod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SquareV2PaymentMethod */ \"./packages/squarev2-integration/src/SquareV2PaymentMethod.tsx\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9zcXVhcmV2Mi1pbnRlZ3JhdGlvbi9zcmMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMkUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uL3BhY2thZ2VzL3NxdWFyZXYyLWludGVncmF0aW9uL3NyYy9pbmRleC50cz8xY2ZhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGRlZmF1bHQgYXMgU3F1YXJlVjJQYXltZW50TWV0aG9kIH0gZnJvbSAnLi9TcXVhcmVWMlBheW1lbnRNZXRob2QnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/squarev2-integration/src/index.ts\n\n}");

/***/ })

}]);