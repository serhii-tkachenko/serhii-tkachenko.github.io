"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["checkout-sdk-js_dist_esm_integrations_stripe_js"],{

/***/ "../checkout-sdk-js/dist/esm/integrations/stripe.js":
/*!**********************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/stripe.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createStripeLinkV2CustomerStrategy: () => (/* binding */ H),\n/* harmony export */   createStripeOCSPaymentStrategy: () => (/* binding */ ye),\n/* harmony export */   createStripeUPECustomerStrategy: () => (/* binding */ O),\n/* harmony export */   createStripeUPEPaymentStrategy: () => (/* binding */ he),\n/* harmony export */   createStripeV3PaymentStrategy: () => (/* binding */ oe)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"../checkout-sdk-js/node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"../checkout-sdk-js/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\nvar s={};function a(e,t){return Object.assign(e,{resolveIds:t})}s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);class d extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class l extends d{constructor(e){super(e||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}var c,u=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})};class h{constructor(e,t=window){this.scriptLoader=e,this.stripeWindow=t}getStripeClient(e,t,i){return u(this,void 0,void 0,function*(){if(this.stripeWindow.bcStripeClient)return this.stripeWindow.bcStripeClient;const n=yield this.load(),{stripePublishableKey:r,stripeConnectedAccount:o}=e,s=n(r,Object.assign(Object.assign(Object.assign({},o?{stripeAccount:o}:{}),t?{betas:t}:{}),i?{apiVersion:i}:{}));return Object.assign(this.stripeWindow,{bcStripeClient:s}),s})}getElements(e,t){return u(this,void 0,void 0,function*(){let i=this.stripeWindow.bcStripeElements;return i?yield this.updateStripeElements(t):(i=e.elements(t),Object.assign(this.stripeWindow,{bcStripeElements:i})),i})}updateStripeElements(e){return u(this,void 0,void 0,function*(){const t=this.stripeWindow.bcStripeElements;t&&(t.update(e),yield t.fetchUpdates())})}load(){return u(this,void 0,void 0,function*(){if(!this.stripeWindow.Stripe&&(yield this.scriptLoader.loadScript(\"https://js.stripe.com/v3/\"),!this.stripeWindow.Stripe))throw new l;return this.stripeWindow.Stripe})}}class p extends d{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}!function(e){e[e.MissingBillingAddress=0]=\"MissingBillingAddress\",e[e.MissingCart=1]=\"MissingCart\",e[e.MissingCheckout=2]=\"MissingCheckout\",e[e.MissingConsignments=3]=\"MissingConsignments\",e[e.MissingCustomer=4]=\"MissingCustomer\",e[e.MissingCheckoutConfig=5]=\"MissingCheckoutConfig\",e[e.MissingOrder=6]=\"MissingOrder\",e[e.MissingOrderConfig=7]=\"MissingOrderConfig\",e[e.MissingOrderId=8]=\"MissingOrderId\",e[e.MissingPayment=9]=\"MissingPayment\",e[e.MissingPaymentId=10]=\"MissingPaymentId\",e[e.MissingPaymentInstrument=11]=\"MissingPaymentInstrument\",e[e.MissingPaymentMethod=12]=\"MissingPaymentMethod\",e[e.MissingPaymentRedirectUrl=13]=\"MissingPaymentRedirectUrl\",e[e.MissingPaymentStatus=14]=\"MissingPaymentStatus\",e[e.MissingPaymentToken=15]=\"MissingPaymentToken\",e[e.MissingShippingAddress=16]=\"MissingShippingAddress\"}(c||(c={}));class m extends d{constructor(e){super(function(e){switch(e){case c.MissingBillingAddress:return\"Unable to proceed because billing address data is unavailable.\";case c.MissingCart:return\"Unable to proceed because cart data is unavailable.\";case c.MissingConsignments:return\"Unable to proceed because consignments data is unavailable.\";case c.MissingCheckout:return\"Unable to proceed because checkout data is unavailable.\";case c.MissingCustomer:return\"Unable to proceed because customer data is unavailable.\";case c.MissingCheckoutConfig:case c.MissingOrderConfig:return\"Unable to proceed because configuration data is unavailable.\";case c.MissingOrder:return\"Unable to proceed because order data is unavailable.\";case c.MissingOrderId:return\"Unable to proceed because order ID is unavailable or not generated yet.\";case c.MissingPayment:return\"Unable to proceed because payment data is unavailable.\";case c.MissingPaymentToken:return\"Unable to proceed because the token required to submit a payment is missing.\";case c.MissingPaymentMethod:return\"Unable to proceed because payment method data is unavailable or not properly configured.\";case c.MissingShippingAddress:return\"Unable to proceed because shipping address data is unavailable.\";default:return\"Unable to proceed because the required data is unavailable.\"}}(e)),this.subtype=e,this.name=\"MissingDataError\",this.type=\"missing_data\"}}function y(e){return\"object\"==typeof e&&null!==e&&\"initializationData\"in e&&void 0!==e.initializationData&&null!==e.initializationData&&\"object\"==typeof e.initializationData&&\"stripePublishableKey\"in e.initializationData&&\"stripeConnectedAccount\"in e.initializationData&&\"shopperLanguage\"in e.initializationData&&void 0!==e.initializationData.stripePublishableKey&&void 0!==e.initializationData.stripeConnectedAccount&&void 0!==e.initializationData.shopperLanguage}const g=[\"payment_element_beta_2\",\"alipay_pm_beta_1\",\"link_default_integration_beta_1\",\"shipping_address_element_beta_1\",\"address_element_beta_1\"],v=\"2020-03-02;alipay_beta=v1;link_beta=v1\";var S,f,_,I,E,b,P,C;function w(e){return\"stripeLinkAuthenticationState\"in e}!function(e){e.SHIPPING=\"shipping\",e.BILLING=\"billing\"}(S||(S={})),function(e){e.SPLIT=\"split\",e.FULL=\"full\",e.ORGANIZATION=\"organization\"}(f||(f={})),function(e){e.CreditCard=\"card\",e.Link=\"link\",e.EPS=\"eps\",e.GRABPAY=\"grabpay\",e.BANCONTACT=\"bancontact\",e.IDEAL=\"ideal\",e.ALIPAY=\"alipay\",e.KLARNA=\"klarna\",e.OCS=\"optimized_checkout\"}(_||(_={})),function(e){e.NEVER=\"never\",e.AUTO=\"auto\",e.ALWAYS=\"always\",e.PAYMENT=\"payment\",e.IF_REQUIRED=\"if_required\"}(I||(I={})),function(e){e.PAYMENT=\"payment\",e.AUTHENTICATION=\"linkAuthentication\",e.SHIPPING=\"address\",e.EXPRESS_CHECKOUT=\"expressCheckout\"}(E||(E={})),function(e){e.REQUIRES_PAYMENT_METHOD=\"requires_payment_method\",e.REQUIRES_CONFIRMATION=\"requires_confirmation\",e.REQUIRES_ACTION=\"requires_action\",e.PROCESSING=\"processing\",e.SUCCEEDED=\"succeeded\",e.CANCELED=\"canceled\"}(b||(b={})),function(e){e.CLICK=\"click\",e.CHANGE=\"change\",e.READY=\"ready\",e.SHIPPING_ADDRESS_CHANGE=\"shippingaddresschange\",e.SHIPPING_RATE_CHANGE=\"shippingratechange\",e.CONFIRM=\"confirm\",e.CANCEL=\"cancel\",e.LOADER_START=\"loaderstart\"}(P||(P={})),function(e){e.ON_SESSION=\"on_session\",e.OFF_SESSION=\"off_session\"}(C||(C={}));class A{constructor(e,t){this.paymentIntegrationService=e,this.scriptLoader=t}initialize(e){var t,i,n,r,o;return i=this,n=void 0,o=function*(){let i;if(!e.stripeupe)throw new p('Unable to proceed because \"options\" argument is not provided.');const{container:n,gatewayId:r,methodId:o,onEmailChange:s,getStyles:a,isLoading:d}=e.stripeupe;Object.entries(e.stripeupe).forEach(([e,t])=>{if(!t)throw new p(`Unable to proceed because \"${e}\" argument is not provided.`)}),yield this.paymentIntegrationService.loadPaymentMethod(r,{params:{method:o}});const l=this.paymentIntegrationService.getState(),u=l.getPaymentMethodOrThrow(o,r),{clientToken:h}=u;if(!y(u)||!h)throw new m(c.MissingPaymentToken);const{email:f}=l.getCustomerOrThrow(),_=l.getPaymentProviderCustomerOrThrow(),I=(w(_)?_:{}).stripeLinkAuthenticationState;if(!f){let e;const r=\"function\"==typeof a&&a();e=r?{variables:{colorPrimary:r.fieldInnerShadow,colorBackground:r.fieldBackground,colorText:r.labelText,colorDanger:r.fieldErrorText,colorTextSecondary:r.labelText,colorTextPlaceholder:r.fieldPlaceholderText},rules:{\".Input\":{borderColor:r.fieldBorder,color:r.fieldText,boxShadow:r.fieldInnerShadow}}}:{},i=yield this.scriptLoader.getStripeClient(u.initializationData,g,v),this._stripeElements=yield this.scriptLoader.getElements(i,{clientSecret:h,appearance:e});const{getBillingAddress:o,getConsignments:l}=this.paymentIntegrationService.getState(),p=l(),y=null===(t=null==p?void 0:p[0])||void 0===t?void 0:t.id,{email:f}=o()||{},_=f?{defaultValues:{mode:S.SHIPPING,email:f}}:{},b=this._stripeElements.getElement(E.AUTHENTICATION)||this._stripeElements.create(E.AUTHENTICATION,_);b.on(P.CHANGE,e=>{if(!(\"authenticated\"in e))throw new m(c.MissingCustomer);this.paymentIntegrationService.updatePaymentProviderCustomer({stripeLinkAuthenticationState:e.authenticated}),e.complete?s(e.authenticated,e.value.email):s(!1,\"\"),d&&d(!1),void 0===I&&e.authenticated&&y&&this.paymentIntegrationService.deleteConsignment(y)}),b.mount(`#${n}`)}},new((r=void 0)||(r=Promise))(function(e,t){function s(e){try{d(o.next(e))}catch(e){t(e)}}function a(e){try{d(o.throw(e))}catch(e){t(e)}}function d(t){var i;t.done?e(t.value):(i=t.value,i instanceof r?i:new r(function(e){e(i)})).then(s,a)}d((o=o.apply(i,n||[])).next())})}deinitialize(){var e,t;return null===(t=null===(e=this._stripeElements)||void 0===e?void 0:e.getElement(E.AUTHENTICATION))||void 0===t||t.unmount(),Promise.resolve()}signIn(e,t){return this.paymentIntegrationService.signInCustomer(e,t),Promise.resolve()}signOut(e){return this.paymentIntegrationService.signOutCustomer(e),Promise.resolve()}executePaymentMethodCheckout(e){var t;return null===(t=null==e?void 0:e.continueWithCheckoutCallback)||void 0===t||t.call(e),Promise.resolve()}}const O=a(t=>new A(t,new h((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)())),[{id:\"stripeupe\"}]);class M extends d{constructor(e){super(e||\"Payment process was cancelled.\"),this.name=\"PaymentMethodCancelledError\",this.type=\"payment_cancelled\"}}class T extends d{constructor(e){super(e||\"Unable to proceed because the client library of a payment method has thrown an unexpected error.\"),this.name=\"PaymentMethodFailedError\",this.type=\"payment_method_client_invalid\"}}var N;!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(N||(N={}));class k extends d{constructor(e){super(function(e){switch(e){case N.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case N.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case N.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case N.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}var D=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})};class z{constructor(e,t){this.paymentIntegrationService=e,this.scriptLoader=t,this.isMounted=!1}deinitialize(){var e;null===(e=this.checkoutEventsUnsubscribe)||void 0===e||e.call(this),this.isMounted=!1}initCheckoutEventsSubscription(e,t,i,n){this.checkoutEventsUnsubscribe=this.paymentIntegrationService.subscribe(()=>D(this,void 0,void 0,function*(){var r;const o=null==n?void 0:n.getElement(E.PAYMENT);if(o){try{yield this.updateStripePaymentIntent(e,t)}catch(e){return this.isMounted&&(o.unmount(),this.isMounted=!1),void(e instanceof Error&&(null===(r=i.onError)||void 0===r||r.call(i,e)))}this.isMounted||(yield null==n?void 0:n.fetchUpdates(),this.mountElement(o,i.containerId))}}),e=>{var t;return null===(t=e.getCheckout())||void 0===t?void 0:t.outstandingBalance},e=>{var t;return null===(t=e.getCheckout())||void 0===t?void 0:t.coupons})}mountElement(e,t){document.getElementById(t)&&(e.mount(`#${t}`),this.isMounted=!0)}mapAppearanceVariables(e){return{colorPrimary:e.fieldInnerShadow,colorBackground:e.fieldBackground,colorText:e.labelText,colorDanger:e.fieldErrorText,colorTextSecondary:e.labelText,colorTextPlaceholder:e.fieldPlaceholderText,colorIcon:e.fieldPlaceholderText}}mapInputAppearanceRules(e){return{borderColor:e.fieldBorder,color:e.fieldText,boxShadow:e.fieldInnerShadow}}throwStripeError(e){if(\"object\"==typeof(t=e)&&null!==t&&\"type\"in t&&(this.throwDisplayableStripeError(e),this.isCancellationError(e)))throw new M;var t;throw new T}throwDisplayableStripeError(e){if((0,lodash__WEBPACK_IMPORTED_MODULE_1__.includes)([\"card_error\",\"invalid_request_error\",\"validation_error\"],e.type))throw new Error(e.message)}isCancellationError(e){var t;const i=null===(t=null==e?void 0:e.payment_intent.last_payment_error)||void 0===t?void 0:t.message;return!!i&&-1!==i.indexOf(\"canceled\")}throwPaymentConfirmationProceedMessage(){throw new T(\"We've received your order and are processing your payment. Once the payment is verified, your order will be completed. We will send you an email when it's completed. Please note, this process may take a few minutes depending on the processing times of your chosen method.\")}isPaymentCompleted(e,t){return D(this,void 0,void 0,function*(){const i=this.paymentIntegrationService.getState(),n=i.getPaymentMethodOrThrow(e),{features:r}=i.getStoreConfigOrThrow().checkoutSettings;if(!n.clientToken||!t||!r[\"PI-626.Block_unnecessary_payment_confirmation_for_StripeUPE\"])return!1;const{paymentIntent:o}=yield t.retrievePaymentIntent(n.clientToken);return(null==o?void 0:o.status)===b.SUCCEEDED})}mapStripePaymentData(e,t,i=!1){const n=this.paymentIntegrationService.getState().getBillingAddress(),{firstName:r=\"\",lastName:o=\"\",email:s=\"\"}=n||{},a=this._mapStripeAddress(n);if(!e)throw new k(N.PaymentNotInitialized);if(!(s&&a&&a.city&&a.country&&r&&o))throw new m(c.MissingBillingAddress);return{elements:e,redirect:I.IF_REQUIRED,confirmParams:Object.assign({payment_method_data:Object.assign(Object.assign({},i?{allow_redisplay:\"always\"}:{}),{billing_details:{email:s,address:a,name:`${r} ${o}`}})},t&&{return_url:t})}}isAdditionalActionError(e){return (0,lodash__WEBPACK_IMPORTED_MODULE_1__.some)(e,{code:\"additional_action_required\"})}isRedirectAction(e){const{type:t,data:{redirect_url:i}}=e;return\"redirect_to_url\"===t&&!!i}isOnPageAdditionalAction(e){const{type:t,data:{token:i}}=e;return\"additional_action_requires_payment_method\"===t&&!!i}updateStripePaymentIntent(e,t){return D(this,void 0,void 0,function*(){const i=yield this.paymentIntegrationService.loadPaymentMethod(e,{params:{method:t}}),{clientToken:n}=i.getPaymentMethodOrThrow(t);if(!n)throw new m(c.MissingPaymentMethod);this.scriptLoader.updateStripeElements({clientSecret:n})})}_mapStripeAddress(e){if(e){const{city:t,address1:i,address2:n,countryCode:r,postalCode:o,stateOrProvinceCode:s}=e;return Object.assign({city:t,country:r,postal_code:o,line1:i,line2:n},s?{state:s}:{})}throw new m(c.MissingBillingAddress)}}const R={size:70,color:\"#d9d9d9\",backgroundColor:\"#ffffff\"},U={position:\"fixed\",\"background-color\":\"rgba(0, 0, 0, 0.4)\",\"z-index\":\"1000\"},L=\"embedded-checkout-loading-indicator-rotation\";class x{constructor(e){this.styles=Object.assign(Object.assign({},R),e&&e.styles),this.containerStyles=Object.assign({},e&&e.containerStyles),this.defineAnimation(),this.container=this.buildContainer(),this.indicator=this.buildIndicator(),this.container.appendChild(this.indicator)}show(e){if(e){const t=document.getElementById(e);if(!t)throw new Error(\"Unable to attach the loading indicator because the parent ID is not valid.\");t.appendChild(this.container)}this.container.style.visibility=\"visible\",this.container.style.opacity=\"1\"}hide(){const e=()=>{this.container.style.visibility=\"hidden\",this.container.removeEventListener(\"transitionend\",e)};this.container.addEventListener(\"transitionend\",e),this.container.style.opacity=\"0\"}buildContainer(){const e=document.createElement(\"div\");return e.style.display=\"block\",e.style.bottom=\"0\",e.style.left=\"0\",e.style.height=\"100%\",e.style.width=\"100%\",e.style.position=\"absolute\",e.style.right=\"0\",e.style.top=\"0\",e.style.transition=\"all 250ms ease-out\",e.style.opacity=\"0\",this.setStyleAttribute(e,this.containerStyles),e}buildIndicator(){const e=document.createElement(\"div\");return e.style.display=\"block\",e.style.width=`${this.styles.size}px`,e.style.height=`${this.styles.size}px`,e.style.borderRadius=`${this.styles.size}px`,e.style.border=\"solid 1px\",e.style.borderColor=`${this.styles.backgroundColor} ${this.styles.backgroundColor} ${this.styles.color} ${this.styles.color}`,e.style.margin=\"0 auto\",e.style.position=\"absolute\",e.style.left=\"0\",e.style.right=\"0\",e.style.top=\"50%\",e.style.transform=\"translateY(-50%) rotate(0deg)\",e.style.transformStyle=\"preserve-3d\",e.style.animation=`${L} 500ms infinite cubic-bezier(0.69, 0.31, 0.56, 0.83)`,e}setStyleAttribute(e,t){Object.keys(t).forEach(i=>{e.style.setProperty(i,t[i])})}defineAnimation(){var e;if(document.getElementById(L))return;const t=document.createElement(\"style\");t.id=L,null===(e=document.head)||void 0===e||e.appendChild(t),t.sheet instanceof CSSStyleSheet&&t.sheet.insertRule(`\\n                @keyframes ${L} {\\n                    0% { transform: translateY(-50%) rotate(0deg); }\\n                    100% { transform: translateY(-50%) rotate(360deg); }\\n                }\\n            `,0)}}const j=e=>\"object\"==typeof e&&null!==e&&\"body\"in e;class B{constructor(e){this._decimalPlaces=e}toInteger(e){return Math.round(e*Math.pow(10,this._decimalPlaces))}}const F=[\"AC\",\"AD\",\"AE\",\"AF\",\"AG\",\"AI\",\"AL\",\"AM\",\"AO\",\"AQ\",\"AR\",\"AT\",\"AU\",\"AW\",\"AX\",\"AZ\",\"BA\",\"BB\",\"BD\",\"BE\",\"BF\",\"BG\",\"BH\",\"BI\",\"BJ\",\"BL\",\"BM\",\"BN\",\"BO\",\"BQ\",\"BR\",\"BS\",\"BT\",\"BV\",\"BW\",\"BY\",\"BZ\",\"CA\",\"CD\",\"CF\",\"CG\",\"CH\",\"CI\",\"CK\",\"CL\",\"CM\",\"CN\",\"CO\",\"CR\",\"CV\",\"CW\",\"CY\",\"CZ\",\"DE\",\"DJ\",\"DK\",\"DM\",\"DO\",\"DZ\",\"EC\",\"EE\",\"EG\",\"EH\",\"ER\",\"ES\",\"ET\",\"FI\",\"FJ\",\"FK\",\"FO\",\"FR\",\"GA\",\"GB\",\"GD\",\"GE\",\"GF\",\"GG\",\"GH\",\"GI\",\"GL\",\"GM\",\"GN\",\"GP\",\"GQ\",\"GR\",\"GS\",\"GT\",\"GU\",\"GW\",\"GY\",\"HK\",\"HN\",\"HR\",\"HT\",\"HU\",\"ID\",\"IE\",\"IL\",\"IM\",\"IN\",\"IO\",\"IQ\",\"IS\",\"IT\",\"JE\",\"JM\",\"JO\",\"JP\",\"KE\",\"KG\",\"KH\",\"KI\",\"KM\",\"KN\",\"KR\",\"KW\",\"KY\",\"KZ\",\"LA\",\"LB\",\"LC\",\"LI\",\"LK\",\"LR\",\"LS\",\"LT\",\"LU\",\"LV\",\"LY\",\"MA\",\"MC\",\"MD\",\"ME\",\"MF\",\"MG\",\"MK\",\"ML\",\"MM\",\"MN\",\"MO\",\"MQ\",\"MR\",\"MS\",\"MT\",\"MU\",\"MV\",\"MW\",\"MX\",\"MY\",\"MZ\",\"NA\",\"NC\",\"NE\",\"NG\",\"NI\",\"NL\",\"NO\",\"NP\",\"NR\",\"NU\",\"NZ\",\"OM\",\"PA\",\"PE\",\"PF\",\"PG\",\"PH\",\"PK\",\"PL\",\"PM\",\"PN\",\"PR\",\"PS\",\"PT\",\"PY\",\"QA\",\"RE\",\"RO\",\"RS\",\"RU\",\"RW\",\"SA\",\"SB\",\"SC\",\"SD\",\"SE\",\"SG\",\"SH\",\"SI\",\"SJ\",\"SK\",\"SL\",\"SM\",\"SN\",\"SO\",\"SR\",\"SS\",\"ST\",\"SV\",\"SX\",\"SZ\",\"TA\",\"TC\",\"TD\",\"TF\",\"TG\",\"TH\",\"TJ\",\"TK\",\"TL\",\"TM\",\"TN\",\"TO\",\"TR\",\"TT\",\"TV\",\"TW\",\"TZ\",\"UA\",\"UG\",\"US\",\"UY\",\"UZ\",\"VA\",\"VC\",\"VE\",\"VG\",\"VN\",\"VU\",\"WF\",\"WS\",\"XK\",\"YE\",\"YT\",\"ZA\",\"ZM\",\"ZW\",\"ZZ\"];var V=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})};class G{constructor(e,t,i,n){this.paymentIntegrationService=e,this.scriptLoader=t,this.stripeIntegrationService=i,this.loadingIndicator=n}initialize(e){return V(this,void 0,void 0,function*(){const{stripeocs:t}=e||{};if(!t)throw new p('Unable to proceed because \"options\" argument is not provided.');const{methodId:i,gatewayId:n,container:r}=t;if(!r||!i||!n)throw new k(N.PaymentNotInitialized);const o=(yield this.paymentIntegrationService.loadPaymentMethod(n,{params:{method:i}})).getPaymentMethodOrThrow(i,n),{loadingContainerId:s,buttonHeight:a,onComplete:d}=t;if(this._loadingIndicatorContainer=s,this._onComplete=d,!y(o))throw new m(c.MissingPaymentMethod);const{initializationData:l}=o,{captureMethod:u}=l;return this._captureMethod=u,this._stripeClient=yield this.scriptLoader.getStripeClient(l),yield this._mountExpressCheckoutElement(i,r,this._stripeClient,a),Promise.resolve()})}signIn(){return Promise.resolve()}signOut(){return Promise.resolve()}executePaymentMethodCheckout(){return Promise.resolve()}deinitialize(){return Promise.resolve()}_mountExpressCheckoutElement(e,t,i,n=40){return V(this,void 0,void 0,function*(){const r=this._shouldRequireShippingAddress(),o=Object.assign(Object.assign(Object.assign({shippingAddressRequired:r},r?{allowedShippingCountries:yield this._getAvailableCountries()}:{}),r?{shippingRates:[{id:\"_\",amount:0,displayName:\"Pending rates\"}]}:{}),{billingAddressRequired:!0,emailRequired:!0,phoneNumberRequired:!0,paymentMethods:{link:I.AUTO,applePay:I.NEVER,googlePay:I.NEVER,amazonPay:I.NEVER,paypal:I.NEVER,klarna:I.NEVER},buttonHeight:n}),{cartAmount:s}=this.paymentIntegrationService.getState().getCartOrThrow(),a=Object.assign({mode:\"payment\",amount:this._toCents(s),currency:this._getCurrency()},this._captureMethod?{captureMethod:this._captureMethod}:{});this._stripeElements=i.elements(a),this._linkV2Element=this._stripeElements.create(E.EXPRESS_CHECKOUT,o),this._linkV2Element.mount(`#${t}`),this._initializeEvents(this._linkV2Element,e)})}_initializeEvents(e,t){this._shouldRequireShippingAddress()&&(e.on(P.SHIPPING_ADDRESS_CHANGE,e=>V(this,void 0,void 0,function*(){return this._onShippingAddressChange(e)})),e.on(P.SHIPPING_RATE_CHANGE,e=>V(this,void 0,void 0,function*(){return this._onShippingRateChange(e)}))),e.on(P.CONFIRM,e=>V(this,void 0,void 0,function*(){return this._onConfirm(e,t)})),e.on(P.CANCEL,this._onCancel)}_onShippingAddressChange(e){return V(this,void 0,void 0,function*(){if(\"address\"in e){const t=e.address,i={firstName:\"\",lastName:\"\",phone:\"\",company:\"\",address1:\"\",address2:\"\",city:(null==t?void 0:t.city)||\"\",countryCode:(null==t?void 0:t.country)||\"\",postalCode:(null==t?void 0:t.postal_code)||\"\",stateOrProvince:(null==t?void 0:t.state)||\"\",stateOrProvinceCode:\"\",customFields:[]};yield this.paymentIntegrationService.updateShippingAddress(i);const n=yield this._getAvailableShippingOptions();yield this._updateDisplayedPrice(),e.resolve({shippingRates:n})}})}_onCancel(){throw new M}_onShippingRateChange(e){return V(this,void 0,void 0,function*(){if(\"shippingRate\"in e){const{shippingRate:t}=e;yield this._handleShippingOptionChange(null==t?void 0:t.id),yield this._updateDisplayedPrice(),e.resolve({})}})}_onConfirm(e,t){return V(this,void 0,void 0,function*(){if(\"billingDetails\"in e&&\"shippingAddress\"in e&&this._stripeClient&&this._stripeElements){yield this._updateShippingAndBillingAddress(e),yield this.paymentIntegrationService.submitOrder();const i=this._getPaymentPayload(t);try{yield this.paymentIntegrationService.submitPayment(i)}catch(e){yield this._processAdditionalAction(e,t)}}return Promise.resolve()})}_updateShippingAndBillingAddress(e){var t,i,n,r,o,s,a,d;return V(this,void 0,void 0,function*(){const l=this._shouldRequireShippingAddress(),c=(null===(i=null===(t=e.shippingAddress)||void 0===t?void 0:t.name)||void 0===i?void 0:i.split(\" \")[0])||(null===(r=null===(n=e.billingDetails)||void 0===n?void 0:n.name)||void 0===r?void 0:r.split(\" \")[0])||\"\",u=(null===(s=null===(o=e.shippingAddress)||void 0===o?void 0:o.name)||void 0===s?void 0:s.split(\" \")[1])||(null===(d=null===(a=e.billingDetails)||void 0===a?void 0:a.name)||void 0===d?void 0:d.split(\" \")[1])||\"\";if(l){const t=this._mapShippingAddress(e.shippingAddress,e.billingDetails,c,u);yield this.paymentIntegrationService.updateShippingAddress(t)}const h=this._mapBillingAddress(e.shippingAddress,e.billingDetails,c,u);yield this.paymentIntegrationService.updateBillingAddress(h)})}_mapShippingAddress(e,t,i,n){var r,o,s,a,d,l,c;return{firstName:i,lastName:n,phone:(null==t?void 0:t.phone)||\"\",company:\"\",address1:(null===(r=null==e?void 0:e.address)||void 0===r?void 0:r.line1)||\"\",address2:(null===(o=null==e?void 0:e.address)||void 0===o?void 0:o.line2)||\"\",city:(null===(s=null==e?void 0:e.address)||void 0===s?void 0:s.city)||\"\",countryCode:(null===(a=null==e?void 0:e.address)||void 0===a?void 0:a.country)||\"\",postalCode:(null===(d=null==e?void 0:e.address)||void 0===d?void 0:d.postal_code)||\"\",stateOrProvince:(null===(l=null==e?void 0:e.address)||void 0===l?void 0:l.state)||\"\",stateOrProvinceCode:(null===(c=null==e?void 0:e.address)||void 0===c?void 0:c.state)||\"\",customFields:[]}}_mapBillingAddress(e,t,i,n){var r,o,s,a,d,l;return{email:(null==t?void 0:t.email)||\"\",firstName:i,lastName:n,phone:(null==t?void 0:t.phone)||\"\",company:\"\",address1:(null===(r=null==t?void 0:t.address)||void 0===r?void 0:r.line1)||\"\",address2:\"\",city:(null===(o=null==t?void 0:t.address)||void 0===o?void 0:o.city)||\"\",countryCode:(null===(s=null==t?void 0:t.address)||void 0===s?void 0:s.country)||\"\",postalCode:(null===(a=null==t?void 0:t.address)||void 0===a?void 0:a.postal_code)||\"\",stateOrProvince:(null===(d=null==t?void 0:t.address)||void 0===d?void 0:d.state)||\"\",stateOrProvinceCode:(null===(l=null==e?void 0:e.address)||void 0===l?void 0:l.state)||\"\",customFields:[]}}_processAdditionalAction(e,t){return V(this,void 0,void 0,function*(){if(!j(e)||!this.stripeIntegrationService.isAdditionalActionError(e.body.errors))throw e;if(!this._stripeClient||!this._stripeElements)throw new k(N.PaymentNotInitialized);const{data:i}=e.body.additional_action_required,{token:n}=i,{paymentIntent:r}=yield this._confirmStripePaymentOrThrow(i,t),o=this._getPaymentPayload(t,(null==r?void 0:r.id)||n);try{this._toggleLoadingIndicator(!0),yield this.paymentIntegrationService.submitPayment(o),yield this._completeCheckoutFlow()}catch(e){this.stripeIntegrationService.throwPaymentConfirmationProceedMessage()}finally{this._toggleLoadingIndicator(!1)}})}_confirmStripePaymentOrThrow(e,t){var i,n,r;return V(this,void 0,void 0,function*(){const{token:o,redirect_url:s}=e,a=this.stripeIntegrationService.mapStripePaymentData(this._stripeElements,s);let d;try{const e=(yield this.stripeIntegrationService.isPaymentCompleted(t,this._stripeClient))?yield null===(r=this._stripeClient)||void 0===r?void 0:r.retrievePaymentIntent(o||\"\"):yield null===(i=this._stripeClient)||void 0===i?void 0:i.confirmPayment({elements:a.elements,clientSecret:o,redirect:I.IF_REQUIRED,confirmParams:{return_url:null===(n=a.confirmParams)||void 0===n?void 0:n.return_url}});if(d=null==e?void 0:e.error,d||!(null==e?void 0:e.paymentIntent))throw new T;return e}catch(e){return this.stripeIntegrationService.throwStripeError(d)}})}_completeCheckoutFlow(){return V(this,void 0,void 0,function*(){return\"function\"==typeof this._onComplete?this._onComplete():(window.location.replace(\"/order-confirmation\"),Promise.resolve())})}_getPaymentPayload(e,t){var i;const n=(null===(i=this.paymentIntegrationService.getState().getCart())||void 0===i?void 0:i.id)||\"\";return{methodId:e,paymentData:{formattedPayload:Object.assign(Object.assign({cart_id:n},t?{credit_card_token:{token:t}}:{}),{confirm:!1,payment_method_id:_.Link})}}}_shouldRequireShippingAddress(){const{getCartOrThrow:e}=this.paymentIntegrationService.getState(),{lineItems:t}=e();return!!t.physicalItems.length}_updateDisplayedPrice(){return V(this,void 0,void 0,function*(){this._stripeElements&&this._stripeElements.update({currency:this._getCurrency(),mode:\"payment\",amount:yield this._getTotalPrice()})})}_getCurrency(){if(!this._currencyCode){const{code:e}=this.paymentIntegrationService.getState().getCartOrThrow().currency;this._currencyCode=e.toLowerCase()}return this._currencyCode}_getTotalPrice(){return V(this,void 0,void 0,function*(){yield this.paymentIntegrationService.loadCheckout();const{getCheckoutOrThrow:e,getCartOrThrow:t}=this.paymentIntegrationService.getState(),{decimalPlaces:i}=t().currency,n=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.round)(e().outstandingBalance,i).toFixed(i);return this._toCents(+n)})}_getAvailableCountries(){var e;return V(this,void 0,void 0,function*(){const t=yield this.paymentIntegrationService.loadShippingCountries();return((null===(e=t.getShippingCountries())||void 0===e?void 0:e.map(e=>e.code))||[]).filter(e=>F.includes(e))})}_getAvailableShippingOptions(){var e,t;return V(this,void 0,void 0,function*(){const i=this.paymentIntegrationService.getState().getConsignments();if(!(null==i?void 0:i[0]))return;const n=i[0],r=(n.availableShippingOptions||[]).map(this._getStripeShippingOption.bind(this)),o=null===(e=n.selectedShippingOption)||void 0===e?void 0:e.id;return o?r.sort(e=>e.id===o?-1:0):yield this._handleShippingOptionChange(null===(t=r[0])||void 0===t?void 0:t.id),r})}_getStripeShippingOption({id:e,cost:t,description:i}){return{id:e,displayName:i,amount:this._toCents(t)}}_handleShippingOptionChange(e){return V(this,void 0,void 0,function*(){if(e&&\"shipping_option_unselected\"!==e)return this.paymentIntegrationService.selectShippingOption(e)})}_getAmountTransformer(){if(this._amountTransformer)return this._amountTransformer;const{getCart:e}=this.paymentIntegrationService.getState(),{currency:t}=e()||{};return t?new B(t.decimalPlaces):void 0}_toCents(e){const t=Math.round(100*e),i=this._getAmountTransformer();return i?i.toInteger(e):t}_toggleLoadingIndicator(e){e&&this._loadingIndicatorContainer?this.loadingIndicator.show(this._loadingIndicatorContainer):this.loadingIndicator.hide()}}const H=a(t=>{const i=new h((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)()),n=new x({containerStyles:U});return new G(t,i,new z(t,i),n)},[{id:\"stripeocs\"}]);class W extends p{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}function Y(e){return!(\"object\"!=typeof e||null===e||void 0!==e.shouldSaveInstrument&&\"boolean\"!=typeof e.shouldSaveInstrument||void 0!==e.shouldSetAsDefaultInstrument&&\"boolean\"!=typeof e.shouldSetAsDefaultInstrument)}function q(e){return Boolean(e.instrumentId)}class K extends d{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}function $(e){return null!==e&&\"object\"==typeof e&&\"cardNumberElementOptions\"in e&&\"cardCvcElementOptions\"in e&&\"cardExpiryElementOptions\"in e&&void 0!==e.cardNumberElementOptions&&void 0!==e.cardCvcElementOptions&&void 0!==e.cardExpiryElementOptions}var J,Z,Q,X;!function(e){e.Solid=\"solid\",e.Default=\"default\"}(J||(J={})),function(e){e.Alipay=\"alipay\",e.CardCvc=\"cardCvc\",e.CardExpiry=\"cardExpiry\",e.CardNumber=\"cardNumber\",e.CreditCard=\"card\",e.IDEAL=\"idealBank\",e.Sepa=\"iban\"}(Z||(Z={})),function(e){e.Alipay=\"alipay\",e.CreditCard=\"card\",e.IDEAL=\"ideal\",e.Sepa=\"sepa_debit\"}(Q||(Q={})),function(e){e.AuthFailure=\"auth_failure\"}(X||(X={}));class ee extends d{constructor(e){super(e===X.AuthFailure?\"User did not authenticate\":\"There was an error while processing your payment. Please try again or contact us.\"),this.type=\"stripev3_error\",this.subtype=e}}var te=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})};const ie=[Z.Alipay,Z.IDEAL];class ne{constructor(e,t){this.paymentIntegrationService=e,this.scriptLoader=t}initialize(e){return te(this,void 0,void 0,function*(){const{stripev3:t,methodId:i,gatewayId:n}=e;if(!n)throw new p('Unable to initialize payment because \"gatewayId\" argument is not provided.');this.initializeOptions=t,this.isDeinitialize=!1;const r=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(i),{initializationData:{stripePublishableKey:o,stripeConnectedAccount:s,useIndividualCardFields:a,allowRedisplayForStoredInstruments:d}}=r;this._allowRedisplayForStoredInstruments=d;const l=this.getInitializeOptions().form;this.useIndividualCardFields=a,this.stripeV3Client=yield this.loadStripeJs(o,s),this.isCreditCard(i)&&this.shouldShowTSVHostedForm(i,n)&&l?this.hostedForm=yield this.mountCardVerificationFields(l):this.stripeElement=yield this.mountCardFields(i)})}execute(e,i){var n,r;return te(this,void 0,void 0,function*(){const{payment:o}=e,s=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]);let a,d;if(!o||!o.paymentData)throw new W([\"payment.paymentData\"]);const{paymentData:l,gatewayId:u,methodId:h}=o,{shouldSaveInstrument:p,shouldSetAsDefaultInstrument:y}=Y(l)?l:{shouldSaveInstrument:!1,shouldSetAsDefaultInstrument:!1},g=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.includes)(ie,h),{isStoreCreditApplied:v}=this.paymentIntegrationService.getState().getCheckoutOrThrow();v&&(yield this.paymentIntegrationService.applyStoreCredit(v));try{g&&(yield this.paymentIntegrationService.submitOrder(s,i)),u&&(yield this.paymentIntegrationService.loadPaymentMethod(u,{params:{method:h}}));const e=this.paymentIntegrationService.getState();if(q(l)){yield this.paymentIntegrationService.submitOrder(s,i);const{instrumentId:t}=l,n=e.getPaymentMethodOrThrow(o.methodId).clientToken;if(!n)throw new m(c.MissingPaymentMethod);return yield this.executeWithVaulted(o,t,y,n)}const t=e.getPaymentMethodOrThrow(h),v=yield this.confirmStripePayment(t),{clientToken:S,method:f}=t,{id:_}=null!==(r=null!==(n=v.paymentIntent)&&void 0!==n?n:v.paymentMethod)&&void 0!==r?r:{id:\"\"};d=v.error,a={credit_card_token:{token:_},vault_payment_instrument:p,confirm:!1,set_as_default_stored_instrument:y},f===Z.CreditCard&&(a.client_token=S),g||(yield this.paymentIntegrationService.submitOrder(s,i));const I=this.buildPaymentPayload(h,a,y);yield this.paymentIntegrationService.submitPayment(I)}catch(e){yield this.processAdditionalAction(this.handleEmptyPaymentIntentError(e,d),h,p,y)}})}finalize(){return Promise.reject(new K)}deinitialize(){return this.hostedForm&&this.hostedForm.detach(),this.isDeinitialize=!0,this.unmountElement(),Promise.resolve()}buildPaymentPayload(e,t,i){return{methodId:e,paymentData:i?{formattedPayload:Object.assign(Object.assign({},t),{set_as_default_stored_instrument:i})}:{formattedPayload:t}}}isCancellationError(e){var t,i;return e&&-1!==(null===(i=null===(t=e.payment_intent.last_payment_error)||void 0===t?void 0:t.message)||void 0===i?void 0:i.indexOf(\"canceled\"))}isAuthError(e){return\"payment_intent_authentication_failure\"===(null==e?void 0:e.code)}isCreditCard(e){return e===Q.CreditCard}isHostedFieldAvailable(){var e;const t=this.getInitializeOptions(),r=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.omitBy)(null===(e=t.form)||void 0===e?void 0:e.fields,lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty);return!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty)(r)}isHostedPaymentFormEnabled(e,t){const{getPaymentMethodOrThrow:i}=this.paymentIntegrationService.getState(),n=i(e,t);return Boolean(n.config.isHostedFormEnabled)}confirmStripePayment(e){return te(this,void 0,void 0,function*(){const{clientToken:t,method:i,returnUrl:n}=e;if(!t)throw new m(c.MissingPaymentMethod);switch(i){case Z.Alipay:return this.getStripeJs().confirmAlipayPayment(t,{return_url:n},{handleActions:!1});case Z.IDEAL:{const e=this.mapStripePaymentData(Q.IDEAL,n);return this.getStripeJs().confirmIdealPayment(t,e,{handleActions:!1})}case Z.Sepa:{const e=this.mapStripePaymentData(Q.Sepa);return this.getStripeJs().confirmSepaDebitPayment(t,e)}default:{const e=this.useIndividualCardFields?this.getStripeCardElements()[0]:this.getStripeElement(),t=this.mapStripeBillingDetails(this.paymentIntegrationService.getState().getBillingAddress(),this.paymentIntegrationService.getState().getCustomer()),i=this._allowRedisplayForStoredInstruments;return this.getStripeJs().createPaymentMethod(Object.assign({type:Q.CreditCard,card:e,billing_details:t},i?{allow_redisplay:\"always\"}:{}))}}})}executeWithVaulted(e,t,i,n){var r;return te(this,void 0,void 0,function*(){const o={bigpay_token:{token:t},confirm:!0,client_token:n,set_as_default_stored_instrument:i};if(this.isHostedPaymentFormEnabled(e.methodId,e.gatewayId)&&this.hostedForm){const t=this.hostedForm;return e.paymentData&&q(e.paymentData)&&(e.paymentData=Object.assign(Object.assign({},e.paymentData),{instrumentId:JSON.stringify({token:(null===(r=e.paymentData)||void 0===r?void 0:r.instrumentId)||\"\",client_token:n})})),yield t.validate(),yield t.submit(e),this.paymentIntegrationService.loadCurrentOrder()}const s=this.buildPaymentPayload(e.methodId,o,i);return this.paymentIntegrationService.submitPayment(s)})}getInitializeOptions(){if(!this.initializeOptions)throw new k(N.PaymentNotInitialized);return this.initializeOptions}getStripeCardElements(){if(!this.stripeCardElements)throw new k(N.PaymentNotInitialized);return this.stripeCardElements}getStripeElement(){if(!this.stripeElement)throw new k(N.PaymentNotInitialized);return this.stripeElement}getStripeJs(){if(!this.stripeV3Client)throw new k(N.PaymentNotInitialized);return this.stripeV3Client}handleEmptyPaymentIntentError(e,t){return j(e)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.some)(e.body.errors,{code:\"required_field\"})&&t?new Error(t.message):e}loadStripeJs(e,t){return te(this,void 0,void 0,function*(){return this.stripeV3Client?Promise.resolve(this.stripeV3Client):this.scriptLoader.load(e,t,this.paymentIntegrationService.getState().getLocale())})}mapStripeAddress(e){if(e){const{city:t,countryCode:i,address1:n,address2:r,postalCode:o,stateOrProvinceCode:s}=e;return{city:t,country:i,line1:n,line2:r,postal_code:o,state:s}}return{line1:\"\"}}mapStripeBillingDetails(e,t){const{firstName:i,lastName:n}=e||t||{firstName:\"Guest\",lastName:\"\"},r=`${i} ${n}`.trim(),{options:o}=this.getInitializeOptions();if(this.useIndividualCardFields&&$(o)){const{zipCodeElementOptions:t}=o;if(t){const i=document.getElementById(t.containerId)?document.getElementById(t.containerId).value:\"\";i&&e&&(e=Object.assign(Object.assign({},e),{postalCode:i}))}}const s={address:this.mapStripeAddress(e)};if(t&&t.addresses[0]&&function(e){return\"object\"==typeof e&&null!==e&&\"id\"in e&&void 0!==e.id}(t.addresses[0])){const e=t.addresses[0],{email:i}=t,{phone:n}=e;return n?Object.assign(Object.assign({},s),{email:i,name:r,phone:n}):Object.assign(Object.assign({},s),{email:i,name:r})}if(e){const{email:t,phone:i}=e;return i?Object.assign(Object.assign({},s),{email:t,name:r,phone:i}):Object.assign(Object.assign({},s),{email:t,name:r})}return Object.assign(Object.assign({},s),{name:r})}mapStripePaymentData(e,t){const i=this.paymentIntegrationService.getState().getCustomer(),n=this.paymentIntegrationService.getState().getBillingAddress(),r={payment_method:{[e]:this.getStripeElement(),billing_details:this.mapStripeBillingDetails(n,i)}};return e===Q.IDEAL?Object.assign(Object.assign({},r),{return_url:t}):r}mountCardFields(e){const{options:t,containerId:i}=this.getInitializeOptions();let n;return new Promise((r,o)=>{switch(this.stripeElements||(this.stripeElements=this.getStripeJs().elements()),e){case Z.CreditCard:if(this.useIndividualCardFields&&$(t)){const{cardNumberElementOptions:e,cardExpiryElementOptions:i,cardCvcElementOptions:r}=t,s=this.stripeElements.getElement(Z.CardNumber)||this.stripeElements.create(Z.CardNumber,e),a=this.stripeElements.getElement(Z.CardExpiry)||this.stripeElements.create(Z.CardExpiry,i),d=this.stripeElements.getElement(Z.CardCvc)||this.stripeElements.create(Z.CardCvc,r);this.stripeCardElements=[s,a,d],n=this.stripeCardElements[0];try{s.mount(`#${e.containerId}`),a.mount(`#${i.containerId}`),d.mount(`#${r.containerId}`)}catch(e){this.isDeinitialize||o(new p(\"Unable to mount Stripe component without valid container ID.\"))}}else{n=this.stripeElements.getElement(e)||this.stripeElements.create(e,t);try{n.mount(`#${i}`)}catch(e){this.isDeinitialize||o(new p(\"Unable to mount Stripe component without valid container ID.\"))}}break;case Z.IDEAL:case Z.Sepa:n=this.stripeElements.getElement(e)||this.stripeElements.create(e,t);try{n.mount(`#${i}`)}catch(e){this.isDeinitialize||o(new p(\"Unable to mount Stripe component without valid container ID.\"))}case Z.Alipay:}r(n)})}mountCardVerificationFields(e){return te(this,void 0,void 0,function*(){const t=this.paymentIntegrationService.getState().getStoreConfig();if(!t)throw new m(c.MissingCheckoutConfig);const i=t.paymentSettings.bigpayBaseUrl,n=this.paymentIntegrationService.createHostedForm(i,e);return yield n.attach(),n})}processAdditionalAction(e,t,i=!1,n=!1){return te(this,void 0,void 0,function*(){if(!j(e))throw e;const r=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.some)(e.body.errors,{code:\"additional_action_required\"}),s=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.some)(e.body.errors,{code:\"three_d_secure_required\"});if(r){const t=e.body.additional_action_required;if(t&&\"redirect_to_url\"===t.type)return new Promise(()=>{t.data.redirect_url&&window.location.replace(t.data.redirect_url)})}if(s){const r=e.body.three_ds_result.token,o=!1;let s,a=!1;try{s=yield this.getStripeJs().confirmCardPayment(r)}catch(e){a=!0}if(null==s?void 0:s.error){if(this.isCancellationError(s.error))throw new M;if(this.isAuthError(s.error))throw new ee(X.AuthFailure);throw new Error(s.error.message)}const d={credit_card_token:{token:this.getPaymentToken(null==s?void 0:s.paymentIntent,r,a)},vault_payment_instrument:i,confirm:o},l=this.buildPaymentPayload(t,d,n);try{return yield this.paymentIntegrationService.submitPayment(l)}catch(e){throw this.handleEmptyPaymentIntentError(e,null==s?void 0:s.error)}}throw e})}getPaymentToken(e,t,i){return!e||i?t:e.id}shouldShowTSVHostedForm(e,t){return this.isHostedFieldAvailable()&&this.isHostedPaymentFormEnabled(e,t)}unmountElement(){this.stripeElement&&(this.stripeElement.unmount(),this.stripeElement=void 0)}}class re{constructor(e,t=window){this.scriptLoader=e,this.stripeWindow=t}load(e,t,i){return this.scriptLoader.loadScript(\"https://js.stripe.com/v3/\").then(()=>{if(!this.stripeWindow.Stripe)throw new l;return this.stripeWindow.Stripe(e,{stripeAccount:t,locale:i,betas:[\"payment_intent_beta_3\",\"alipay_pm_beta_1\"],apiVersion:\"2020-03-02;alipay_beta=v1\"})})}}const oe=a(t=>new ne(t,new re((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)())),[{gateway:\"stripev3\"}]),se={body:{},headers:{},status:0};class ae extends d{constructor(e,{message:t,errors:i}={}){const{body:n,headers:r,status:o}=e||se;super(t||\"An unexpected error has occurred.\"),this.name=\"RequestError\",this.type=\"request\",this.body=n,this.headers=r,this.status=o,this.errors=i||[]}}const de={ar:[\"ar\"],bg:[\"bg\"],cs:[\"cs\"],da:[\"da\"],de:[\"de\"],el:[\"el\"],en:[\"en\",\"en-GB\"],es:[\"es\",\"es-419\"],et:[\"et\"],fi:[\"fi\"],fil:[\"fil\"],fr:[\"fr\",\"fr-CA\"],he:[\"he\"],hr:[\"hr\"],hu:[\"hu\"],id:[\"id\"],it:[\"it\"],ja:[\"ja\"],ko:[\"ko\"],lt:[\"lt\"],lv:[\"lv\"],ms:[\"ms\"],mt:[\"mt\"],nb:[\"nb\"],nl:[\"nl\"],pl:[\"pl\"],pt:[\"pt\",\"pt-BR\"],ro:[\"ro\"],ru:[\"ru\"],sk:[\"sk\"],sl:[\"sl\"],sv:[\"sv\"],th:[\"th\"],tr:[\"tr\"],vi:[\"vi\"],zh:[\"zh\",\"zh-HK\",\"zh-TW\"]};function le(e){const[t,i]=e.replace(/_/g,\"-\").toLowerCase().split(\"-\"),n=de[t];if(!n)return\"auto\";const r=i?`${t}-${i.toUpperCase()}`:t;return n.indexOf(r)>-1?r:n[0]}var ce=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})};class ue{constructor(e,t,i){this.paymentIntegrationService=e,this.scriptLoader=t,this.stripeIntegrationService=i}initialize(e){return ce(this,void 0,void 0,function*(){const{stripeupe:t,methodId:i,gatewayId:n}=e;if(!(null==t?void 0:t.containerId))throw new k(N.PaymentNotInitialized);if(!n)throw new p('Unable to initialize payment because \"gatewayId\" argument is not provided.');return this._loadStripeElement(t,n,i).catch(e=>{var i;return null===(i=t.onError)||void 0===i?void 0:i.call(t,e)}),this.stripeIntegrationService.initCheckoutEventsSubscription(n,i,t,this._stripeElements),Promise.resolve()})}execute(e,t){return ce(this,void 0,void 0,function*(){const{payment:i}=e,n=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]);if(!i||!i.paymentData)throw new W([\"payment.paymentData\"]);if(!this._stripeUPEClient)throw new k(N.PaymentNotInitialized);const{paymentData:r,methodId:o,gatewayId:s}=i,{shouldSaveInstrument:a=!1,shouldSetAsDefaultInstrument:d=!1}=Y(r)?r:{},l=this.paymentIntegrationService.getState(),{isStoreCreditApplied:c}=l.getCheckoutOrThrow(),u=l.getPaymentProviderCustomerOrThrow(),h=(w(u)?u:{}).stripeLinkAuthenticationState;if(c&&(yield this.paymentIntegrationService.applyStoreCredit(c)),s){yield this.stripeIntegrationService.updateStripePaymentIntent(s,o);const{email:e}=l.getCustomerOrThrow();if(void 0!==h&&!e){const e=l.getBillingAddressOrThrow();yield this.paymentIntegrationService.updateBillingAddress(e)}}if(yield this.paymentIntegrationService.submitOrder(n,t),q(r)){const{instrumentId:e}=r;return void(yield this._executeWithVaulted(i.methodId,e,d))}yield this._executeWithStripeConfirmation(i.methodId,!h&&a,d)})}finalize(){return Promise.reject(new K)}deinitialize(){var e,t;return null===(t=null===(e=this._stripeElements)||void 0===e?void 0:e.getElement(E.PAYMENT))||void 0===t||t.unmount(),this.stripeIntegrationService.deinitialize(),this._stripeElements=void 0,this._stripeUPEClient=void 0,Promise.resolve()}_executeWithStripeConfirmation(e,t,i){return ce(this,void 0,void 0,function*(){const n=this.paymentIntegrationService.getState(),{clientToken:r}=n.getPaymentMethodOrThrow(e),o=this._getPaymentPayload(e,r||\"\",t,i);try{yield this.paymentIntegrationService.submitPayment(o)}catch(n){yield this._processAdditionalActionWithStripeConfirmation(n,e,t,i)}})}_executeWithVaulted(e,t,i){var n;return ce(this,void 0,void 0,function*(){const r=this.paymentIntegrationService.getState(),o=r.getPaymentMethodOrThrow(e),s=null===(n=r.getCart())||void 0===n?void 0:n.id;try{const n={methodId:e,paymentData:{formattedPayload:{cart_id:s,bigpay_token:{token:t},confirm:!1,client_token:o.clientToken,set_as_default_stored_instrument:i}}};return yield this.paymentIntegrationService.submitPayment(n)}catch(t){return this._processVaultedAdditionalAction(t,e,i)}})}_loadStripeElement(e,t,i){return ce(this,void 0,void 0,function*(){const{containerId:n,style:r,render:o,initStripeElementUpdateTrigger:s}=e,a=yield this.paymentIntegrationService.loadPaymentMethod(t,{params:{method:i}}),d=a.getPaymentMethodOrThrow(i),{checkoutSettings:l}=a.getStoreConfigOrThrow();if(!y(d))throw new m(c.MissingPaymentMethod);const{clientToken:u,initializationData:h}=d,{shopperLanguage:p,allowRedisplayForStoredInstruments:g=!1}=h;if(this._allowRedisplayForStoredInstruments=g,!u)throw new m(c.MissingPaymentMethod);let v;if(this._stripeUPEClient=yield this._loadStripeJs(h),this._isStripeElementUpdateEnabled=!!l.features[\"PI-1679.trigger_update_stripe_payment_element\"]&&\"function\"==typeof s,r){const e=r;v={variables:this.stripeIntegrationService.mapAppearanceVariables(r),rules:{\".Input\":this.stripeIntegrationService.mapInputAppearanceRules(e)}}}this._stripeElements=yield this.scriptLoader.getElements(this._stripeUPEClient,{clientSecret:u,locale:le(p),appearance:v});const{getBillingAddress:S,getShippingAddress:f}=a,{postalCode:_}=f()||S()||{},b=this._stripeElements.getElement(E.PAYMENT)||this._stripeElements.create(E.PAYMENT,Object.assign({fields:{billingDetails:{email:I.NEVER,address:{country:I.NEVER,city:I.NEVER,postalCode:_?I.NEVER:I.AUTO}}},wallets:{applePay:I.NEVER,googlePay:I.NEVER}},this._getStripeElementTerms()));this.stripeIntegrationService.mountElement(b,n),b.on(P.READY,()=>{o()}),b.on(P.CHANGE,e=>{(null==e?void 0:e.value)&&\"type\"in e.value&&this._updateStripeLinkStateByElementType(e.value.type)}),this._isStripeElementUpdateEnabled&&(null==s||s(this._updateStripeElement.bind(this)))})}_processAdditionalActionWithStripeConfirmation(e,t,i=!1,n=!1){return ce(this,void 0,void 0,function*(){if(!j(e)||!this.stripeIntegrationService.isAdditionalActionError(e.body.errors))throw e;if(!this._stripeUPEClient||!this._stripeElements)throw new k(N.PaymentNotInitialized);const{data:r}=e.body.additional_action_required,{token:o}=r,{paymentIntent:s}=yield this._confirmStripePaymentOrThrow(t,r),a=this._getPaymentPayload(t,(null==s?void 0:s.id)||o,i,n);try{yield this.paymentIntegrationService.submitPayment(a)}catch(e){this.stripeIntegrationService.throwPaymentConfirmationProceedMessage()}})}_confirmStripePaymentOrThrow(e,t){var i,n;return ce(this,void 0,void 0,function*(){const{token:r,redirect_url:o}=t,s=this.stripeIntegrationService.mapStripePaymentData(this._stripeElements,o,!!this._allowRedisplayForStoredInstruments);let a;try{const t=(yield this.stripeIntegrationService.isPaymentCompleted(e,this._stripeUPEClient))?yield null===(n=this._stripeUPEClient)||void 0===n?void 0:n.retrievePaymentIntent(r||\"\"):yield null===(i=this._stripeUPEClient)||void 0===i?void 0:i.confirmPayment(s);if(a=null==t?void 0:t.error,a||!(null==t?void 0:t.paymentIntent))throw new T;return t}catch(e){this.stripeIntegrationService.throwStripeError(a)}})}_processVaultedAdditionalAction(e,t,i=!1){var n;return ce(this,void 0,void 0,function*(){if(!t||!j(e)||!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.some)(e.body.errors,{code:\"three_d_secure_required\"}))throw e;if(!this._stripeUPEClient||!this._stripeElements)throw new k(N.PaymentNotInitialized);const r=e.body.three_ds_result.token;let s,a=!1;try{s=yield this._stripeUPEClient.confirmCardPayment(r)}catch(e){try{s=yield this._stripeUPEClient.retrievePaymentIntent(r)}catch(e){a=!0}}if((null==s?void 0:s.error)&&this.stripeIntegrationService.throwStripeError(s.error),!(null==s?void 0:s.paymentIntent)&&!a)throw new ae;const d=this._getPaymentPayload(t,a?r:null===(n=null==s?void 0:s.paymentIntent)||void 0===n?void 0:n.id,!1,i);return this.paymentIntegrationService.submitPayment(d)})}_loadStripeJs(e){return ce(this,void 0,void 0,function*(){return this._stripeUPEClient?this._stripeUPEClient:this.scriptLoader.getStripeClient(e,g,v)})}_getPaymentPayload(e,t,i=!1,n=!1){var r;return{methodId:e,paymentData:{formattedPayload:{cart_id:(null===(r=this.paymentIntegrationService.getState().getCart())||void 0===r?void 0:r.id)||\"\",credit_card_token:{token:t},confirm:!1,vault_payment_instrument:i,set_as_default_stored_instrument:n}}}}_updateStripeElement({shouldShowTerms:e}){var t;const i=null===(t=this._stripeElements)||void 0===t?void 0:t.getElement(E.PAYMENT);null==i||i.update(Object.assign({},this._getStripeElementTerms(e)))}_getStripeElementTerms(e){let t=I.AUTO;return this._isStripeElementUpdateEnabled&&(t=e?I.AUTO:I.NEVER),{terms:{card:t}}}_updateStripeLinkStateByElementType(e){const t=this.paymentIntegrationService.getState().getPaymentProviderCustomerOrThrow(),i=e===_.Link;!w(t)&&i&&this.paymentIntegrationService.updatePaymentProviderCustomer({stripeLinkAuthenticationState:i})}}const he=a(t=>{const i=new h((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)());return new ue(t,i,new z(t,i))},[{gateway:\"stripeupe\"},{gateway:\"stripeupe\",id:\"klarna\"}]);var pe=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})};class me{constructor(e,t,i){this.paymentIntegrationService=e,this.scriptLoader=t,this.stripeIntegrationService=i}initialize(e){var t;return pe(this,void 0,void 0,function*(){const{stripeocs:i,methodId:n,gatewayId:r}=e;if(!(null==i?void 0:i.containerId))throw new k(N.PaymentNotInitialized);if(!r)throw new p('Unable to initialize payment because \"gatewayId\" argument is not provided.');try{yield this._initializeStripeElement(i,r,n)}catch(e){e instanceof Error&&(null===(t=i.onError)||void 0===t||t.call(i,e))}this.stripeIntegrationService.initCheckoutEventsSubscription(r,n,i,this.stripeElements)})}execute(e,t){return pe(this,void 0,void 0,function*(){const{payment:i}=e,n=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]),{methodId:r,gatewayId:o}=i||{};if(!this.stripeClient)throw new k(N.PaymentNotInitialized);if(!o||!r)throw new p('Unable to initialize payment because \"gatewayId\" or \"methodId\" argument is not provided.');const s=this.paymentIntegrationService.getState(),{isStoreCreditApplied:a}=s.getCheckoutOrThrow();a&&(yield this.paymentIntegrationService.applyStoreCredit(a)),yield this.stripeIntegrationService.updateStripePaymentIntent(o,r),yield this.paymentIntegrationService.submitOrder(n,t);const{clientToken:d}=s.getPaymentMethodOrThrow(r),l=this._getPaymentPayload(r,d||\"\");try{yield this.paymentIntegrationService.submitPayment(l)}catch(e){yield this._processAdditionalAction(e,r)}})}finalize(){return Promise.reject(new K)}deinitialize(){var e;const t=null===(e=this.stripeElements)||void 0===e?void 0:e.getElement(E.PAYMENT);return null==t||t.unmount(),null==t||t.destroy(),this.stripeIntegrationService.deinitialize(),this.stripeElements=void 0,this.stripeClient=void 0,Promise.resolve()}_initializeStripeElement(e,t,i){return pe(this,void 0,void 0,function*(){let n=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(i);if((null==n?void 0:n.clientToken)||(n=(yield this.paymentIntegrationService.loadPaymentMethod(t,{params:{method:i}})).getPaymentMethodOrThrow(i)),!y(n))throw new m(c.MissingPaymentMethod);const{clientToken:r,initializationData:o}=n,{shopperLanguage:s,customerSessionToken:a,enableLink:d}=o;if(!r)throw new m(c.MissingPaymentMethod);this.stripeClient=yield this._loadStripeJs(o);const{appearance:l,containerId:u,fonts:h,layout:p,render:g,paymentMethodSelect:v,handleClosePaymentMethod:S,togglePreloader:f}=e;this.stripeElements=yield this.scriptLoader.getElements(this.stripeClient,{clientSecret:r,customerSessionClientSecret:a,locale:le(s),appearance:l,fonts:h});const{getBillingAddress:_,getShippingAddress:b}=this.paymentIntegrationService.getState(),C=_(),{postalCode:w}=b()||C||{},A=this.stripeElements.getElement(E.PAYMENT)||this.stripeElements.create(E.PAYMENT,{fields:{billingDetails:{email:I.NEVER,address:{country:I.NEVER,city:I.NEVER,postalCode:w?I.NEVER:I.AUTO}}},wallets:{applePay:I.NEVER,googlePay:I.NEVER,link:d?I.AUTO:I.NEVER},layout:p,savePaymentMethod:{maxVisiblePaymentMethods:20},defaultValues:{billingDetails:{email:(null==C?void 0:C.email)||\"\"}}});this.stripeIntegrationService.mountElement(A,u),A.on(P.LOADER_START,()=>{null==f||f(!1)}),A.on(P.READY,()=>{g()}),A.on(P.CHANGE,e=>{this._onStripeElementChange(e,t,i,v)}),null==S||S(this._collapseStripeElement.bind(this))})}_loadStripeJs(e){return pe(this,void 0,void 0,function*(){return this.stripeClient?this.stripeClient:this.scriptLoader.getStripeClient(e)})}_collapseStripeElement(){var e;const t=null===(e=this.stripeElements)||void 0===e?void 0:e.getElement(E.PAYMENT);null==t||t.collapse()}_getPaymentPayload(e,t,i){var n;const r=(null===(n=this.paymentIntegrationService.getState().getCart())||void 0===n?void 0:n.id)||\"\",{card:o,us_bank_account:s}=i||{},a=this._shouldSaveInstrument(o)||this._shouldSaveInstrument(s),d=this._getTokenizedOptions(t,i);return{methodId:e,paymentData:{formattedPayload:Object.assign({cart_id:r,confirm:!1,method:this.selectedMethodId,vault_payment_instrument:a},d)}}}_processAdditionalAction(e,t){return pe(this,void 0,void 0,function*(){if(!j(e)||!this.stripeIntegrationService.isAdditionalActionError(e.body.errors))throw e;if(!this.stripeClient||!this.stripeElements)throw new k(N.PaymentNotInitialized);const{data:i}=e.body.additional_action_required,{token:n}=i,{paymentIntent:r}=yield this._confirmStripePaymentOrThrow(t,i),{client_secret:o,payment_method_options:s}=r||{},a=this._getPaymentPayload(t,o||n,s);try{return yield this.paymentIntegrationService.submitPayment(a)}catch(e){this.stripeIntegrationService.throwPaymentConfirmationProceedMessage()}})}_confirmStripePaymentOrThrow(e,t){var i,n;return pe(this,void 0,void 0,function*(){const{token:r,redirect_url:o}=t,s=this.stripeIntegrationService.mapStripePaymentData(this.stripeElements,o);let a;try{const t=(yield this.stripeIntegrationService.isPaymentCompleted(e,this.stripeClient))?yield null===(n=this.stripeClient)||void 0===n?void 0:n.retrievePaymentIntent(r||\"\"):yield null===(i=this.stripeClient)||void 0===i?void 0:i.confirmPayment(s);if(a=null==t?void 0:t.error,a||!(null==t?void 0:t.paymentIntent))throw new T;return t}catch(e){return this.stripeIntegrationService.throwStripeError(a)}})}_onStripeElementChange(e,t,i,n){(e=>\"object\"==typeof e&&null!==e&&\"value\"in e&&\"collapsed\"in e)(e)&&!e.collapsed&&(this.selectedMethodId=e.value.type,null==n||n(`${t}-${i}`))}_shouldSaveInstrument(e){const t=null==e?void 0:e.setup_future_usage;return t===C.ON_SESSION||t===C.OFF_SESSION}_getTokenizedOptions(e,t){return this._shouldSaveInstrument(null==t?void 0:t.us_bank_account)?{tokenized_ach:{token:e}}:{credit_card_token:{token:e}}}}const ye=a(t=>{const i=new h((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)());return new me(t,i,new z(t,i))},[{gateway:\"stripeocs\",id:\"optimized_checkout\"}]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9zdHJpcGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDQSxJQUFJQSxFQUFzQixDQUFDLEVDQ1osU0FBU0MsRUFDcEJDLEVBQ0FDLEdBRUEsT0FBT0MsT0FBT0MsT0FBT0gsRUFBUSxDQUFFQyxjQUNuQyxDQ05BSCxFQUFvQk0sRUFBSSxDQUFDQyxFQUFTQyxLQUNqQyxJQUFJLElBQUlDLEtBQU9ELEVBQ1hSLEVBQW9CVSxFQUFFRixFQUFZQyxLQUFTVCxFQUFvQlUsRUFBRUgsRUFBU0UsSUFDNUVMLE9BQU9PLGVBQWVKLEVBQVNFLEVBQUssQ0FBRUcsWUFBWSxFQUFNQyxJQUFLTCxFQUFXQyxNQ0ozRVQsRUFBb0JVLEVBQUksQ0FBQ0ksRUFBS0MsSUFBVVgsT0FBT1ksVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsR0NPbkUsTUFBZUksVUFBc0JDLE1BSWhELFdBQUFDLENBQVlDLEdDWEQsSUFBcUNOLEVEWTVDTyxNQUFNRCxHQUFXLHFDQUpyQixLQUFBRSxLQUFPLGdCQUNQLEtBQUFDLEtBQU8sV0NUeUNULGFEY1pBLFVDYmhDWixPQUFPc0IsZUFDUHRCLE9BQU9zQixlRFlRQyxLQ1plWCxHRFlmVyxLQ1ZSQyxVQUFZWixFRFlvQixtQkFBNUJJLE1BQU1TLGtCQUNiVCxNQUFNUyxrQkFBa0JGLGlCQUV4QkEsS0FBS0csTUFBUSxJQUFJVixNQUFNTyxLQUFLTCxTQUFTUSxLQUU3QyxFRWZXLE1BQU1DLFVBQTRDWixFQUM3RCxXQUFBRSxDQUFZQyxHQUNSQyxNQUNJRCxHQUNJLHVHQUdSSyxLQUFLSCxLQUFPLHNDQUNaRyxLQUFLRixLQUFPLG1DQUNoQixFLElDYlFPLEUsa1NDVUcsTUFBTUMsRUFDakIsV0FBQVosQ0FDWWEsRUFDQUMsRUFBaUNDLFFBRGpDLEtBQUFGLGFBQUFBLEVBQ0EsS0FBQUMsYUFBQUEsQ0FDVCxDQUVHLGVBQUFFLENBQ0ZDLEVBQ0FDLEVBQ0FDLEcsd0NBRUEsR0FBSWIsS0FBS1EsYUFBYU0sZUFDbEIsT0FBT2QsS0FBS1EsYUFBYU0sZUFHN0IsTUFBTUMsUUFBZWYsS0FBS2dCLFFBQ3BCLHFCQUFFQyxFQUFvQix1QkFBRUMsR0FBMkJQLEVBT25EUSxFQUFlSixFQUFxQkUsRUFOMUIsT0FBSCxzQ0FDTEMsRUFBeUIsQ0FBRUUsY0FBZUYsR0FBMkIsQ0FBQyxHQUN0RU4sRUFBUSxDQUFFQSxTQUFVLENBQUMsR0FDckJDLEVBQWEsQ0FBRUEsY0FBZSxDQUFDLElBT3ZDLE9BRkFwQyxPQUFPQyxPQUFPc0IsS0FBS1EsYUFBYyxDQUFFTSxlQUFnQkssSUFFNUNBLENBQ1gsRSxDQUVNLFdBQUFFLENBQ0ZGLEVBQ0FHLEcsd0NBRUEsSUFBSUMsRUFBaUJ2QixLQUFLUSxhQUFhZ0IsaUJBVXZDLE9BUktELFFBS0t2QixLQUFLeUIscUJBQXFCSCxJQUpoQ0MsRUFBaUJKLEVBQWFPLFNBQVNKLEdBRXZDN0MsT0FBT0MsT0FBT3NCLEtBQUtRLGFBQWMsQ0FBRWdCLGlCQUFrQkQsS0FLbERBLENBQ1gsRSxDQUVNLG9CQUFBRSxDQUFxQkgsRyx3Q0FDdkIsTUFBTUMsRUFBaUJ2QixLQUFLUSxhQUFhZ0IsaUJBRXBDRCxJQUlMQSxFQUFlSSxPQUFPTCxTQUNoQkMsRUFBZUssZUFDekIsRSxDQUVjLElBQUFaLEcsd0NBQ1YsSUFBS2hCLEtBQUtRLGFBQWFxQixlQUNiN0IsS0FBS08sYUFBYXVCLFdBQVcsOEJBRTlCOUIsS0FBS1EsYUFBYXFCLFFBQ25CLE1BQU0sSUFBSXpCLEVBSWxCLE9BQU9KLEtBQUtRLGFBQWFxQixNQUM3QixFLEVDekVXLE1BQU1FLFVBQTZCdkMsRUFDOUMsV0FBQUUsQ0FBWUMsR0FDUkMsTUFBTUQsR0FBVyx5Q0FFakJLLEtBQUtILEtBQU8sdUJBQ1pHLEtBQUtGLEtBQU8sa0JBQ2hCLEdGWEosU0FBWU8sR0FDUixxREFDQSxpQ0FDQSx5Q0FDQSxpREFDQSx5Q0FDQSxxREFDQSxtQ0FDQSwrQ0FDQSx1Q0FDQSx1Q0FDQSw0Q0FDQSw0REFDQSxvREFDQSw4REFDQSxvREFDQSxrREFDQSx1REFDSCxDQWxCRCxDQUFZQSxJQUFBQSxFQUFvQixLQXlCakIsTUFBTTJCLFVBQXlCeEMsRUFDMUMsV0FBQUUsQ0FBbUJ1QyxHQUNmckMsTUFPUixTQUF5QkUsR0FDckIsT0FBUUEsR0FDSixLQUFLTyxFQUFxQjZCLHNCQUN0QixNQUFPLGlFQUVYLEtBQUs3QixFQUFxQjhCLFlBQ3RCLE1BQU8sc0RBRVgsS0FBSzlCLEVBQXFCK0Isb0JBQ3RCLE1BQU8sOERBRVgsS0FBSy9CLEVBQXFCZ0MsZ0JBQ3RCLE1BQU8sMERBRVgsS0FBS2hDLEVBQXFCaUMsZ0JBQ3RCLE1BQU8sMERBRVgsS0FBS2pDLEVBQXFCa0Msc0JBQzFCLEtBQUtsQyxFQUFxQm1DLG1CQUN0QixNQUFPLCtEQUVYLEtBQUtuQyxFQUFxQm9DLGFBQ3RCLE1BQU8sdURBRVgsS0FBS3BDLEVBQXFCcUMsZUFDdEIsTUFBTywwRUFFWCxLQUFLckMsRUFBcUJzQyxlQUN0QixNQUFPLHlEQUVYLEtBQUt0QyxFQUFxQnVDLG9CQUN0QixNQUFPLCtFQUVYLEtBQUt2QyxFQUFxQndDLHFCQUN0QixNQUFPLDJGQUVYLEtBQUt4QyxFQUFxQnlDLHVCQUN0QixNQUFPLGtFQUVYLFFBQ0ksTUFBTyw4REFFbkIsQ0FqRGNDLENBQWdCZCxJQURQLEtBQUFBLFFBQUFBLEVBR2ZqQyxLQUFLSCxLQUFPLG1CQUNaRyxLQUFLRixLQUFPLGNBQ2hCLEVHN0JHLFNBQVNrRCxFQUNaQyxHQUVBLE1BQzZCLGlCQUFsQkEsR0FDVyxPQUFsQkEsR0FDQSx1QkFBd0JBLFFBQ3NDQyxJQUE3REQsRUFBc0N0QyxvQkFDdUIsT0FBN0RzQyxFQUFzQ3RDLG9CQUM4QixpQkFBN0RzQyxFQUFzQ3RDLG9CQUM5Qyx5QkFBMkJzQyxFQUFzQ3RDLG9CQUNqRSwyQkFBNkJzQyxFQUFzQ3RDLG9CQUNuRSxvQkFBc0JzQyxFQUFzQ3RDLHlCQUV4RCxJQURJc0MsRUFBc0N0QyxtQkFBbUJNLDJCQUc3RCxJQURJZ0MsRUFBc0N0QyxtQkFBbUJPLDZCQUc3RCxJQURJK0IsRUFBc0N0QyxtQkFBbUJ3QyxlQUd6RSxDQ3hCTyxNQUFNQyxFQUEwQixDQUNuQyx5QkFDQSxtQkFDQSxrQ0FDQSxrQ0FDQSwwQkFHU0MsRUFBZ0MseUNDc1o3QyxJQUFZQyxFQUtBQyxFQTBKQUMsRUFjQUMsRUFRQUMsRUFPQUMsRUEwQ0FDLEVBb0JBQyxFQ25wQkcsU0FBU0MsRUFDcEJDLEdBRUEsTUFBTyxrQ0FBbUNBLENBQzlDLEVEcVpBLFNBQVlULEdBQ1Isc0JBQ0EsbUJBQ0gsQ0FIRCxDQUFZQSxJQUFBQSxFQUFjLEtBSzFCLFNBQVlDLEdBQ1IsZ0JBQ0EsY0FDQSw2QkFDSCxDQUpELENBQVlBLElBQUFBLEVBQWlCLEtBMEo3QixTQUFZQyxHQUNSLG9CQUNBLGNBQ0EsWUFDQSxvQkFDQSwwQkFDQSxnQkFDQSxrQkFDQSxrQkFDQSwwQkFDSCxDQVZELENBQVlBLElBQUFBLEVBQXVCLEtBY25DLFNBQVlDLEdBQ1IsZ0JBQ0EsY0FDQSxrQkFDQSxvQkFDQSwyQkFDSCxDQU5ELENBQVlBLElBQUFBLEVBQXFCLEtBUWpDLFNBQVlDLEdBQ1Isb0JBQ0Esc0NBQ0EscUJBQ0Esb0NBQ0gsQ0FMRCxDQUFZQSxJQUFBQSxFQUFpQixLQU83QixTQUFZQyxHQUNSLG9EQUNBLGdEQUNBLG9DQUNBLDBCQUNBLHdCQUNBLHFCQUNILENBUEQsQ0FBWUEsSUFBQUEsRUFBeUIsS0EwQ3JDLFNBQVlDLEdBQ1IsZ0JBQ0Esa0JBQ0EsZ0JBQ0Esa0RBQ0EsNENBQ0Esb0JBQ0Esa0JBQ0EsNEJBQ0gsQ0FURCxDQUFZQSxJQUFBQSxFQUFrQixLQW9COUIsU0FBWUMsR0FDUiwwQkFDQSwyQkFDSCxDQUhELENBQVlBLElBQUFBLEVBQWdDLEtFNW5CN0IsTUFBTUcsRUFHakIsV0FBQXRFLENBQ1l1RSxFQUNBMUQsR0FEQSxLQUFBMEQsMEJBQUFBLEVBQ0EsS0FBQTFELGFBQUFBLENBQ1QsQ0FFRyxVQUFBMkQsQ0FDRjVDLEcsbURBRUEsSUFBSTZDLEVBRUosSUFBSzdDLEVBQVE4QyxVQUNULE1BQU0sSUFBSXJDLEVBQ04saUVBSVIsTUFBTSxVQUFFc0MsRUFBUyxVQUFFQyxFQUFTLFNBQUVDLEVBQVEsY0FBRUMsRUFBYSxVQUFFQyxFQUFTLFVBQUVDLEdBQzlEcEQsRUFBUThDLFVBRVozRixPQUFPa0csUUFBUXJELEVBQVE4QyxXQUFXUSxRQUFRLEVBQUU5RixFQUFLK0YsTUFDN0MsSUFBS0EsRUFDRCxNQUFNLElBQUk5QyxFQUNOLDhCQUE4QmpELHdDQUtwQ2tCLEtBQUtpRSwwQkFBMEJhLGtCQUFrQlIsRUFBVyxDQUM5RFMsT0FBUSxDQUFFQyxPQUFRVCxLQUd0QixNQUFNVSxFQUFRakYsS0FBS2lFLDBCQUEwQmlCLFdBQ3ZDakMsRUFBZ0JnQyxFQUFNRSx3QkFBd0JaLEVBQVVELElBQ3hELFlBQUVjLEdBQWdCbkMsRUFFeEIsSUFBS0QsRUFBMEJDLEtBQW1CbUMsRUFDOUMsTUFBTSxJQUFJcEQsRUFBaUIzQixFQUFxQnVDLHFCQUdwRCxNQUFNLE1BQUV5QyxHQUFVSixFQUFNSyxxQkFDbEJDLEVBQTBCTixFQUFNTyxvQ0FNaENDLEdBTGdDM0IsRUFDbEN5QixHQUVFQSxFQUNBLENBQUMsR0FFMkJFLDhCQUVsQyxJQUFLSixFQUFPLENBQ1IsSUFBSUssRUFDSixNQUFNQyxFQUE4QixtQkFBZGxCLEdBQTRCQSxJQUc5Q2lCLEVBREFDLEVBQ2EsQ0FDVEMsVUFBVyxDQUNQQyxhQUFjRixFQUFPRyxpQkFDckJDLGdCQUFpQkosRUFBT0ssZ0JBQ3hCQyxVQUFXTixFQUFPTyxVQUNsQkMsWUFBYVIsRUFBT1MsZUFDcEJDLG1CQUFvQlYsRUFBT08sVUFDM0JJLHFCQUFzQlgsRUFBT1ksc0JBRWpDQyxNQUFPLENBQ0gsU0FBVSxDQUNOQyxZQUFhZCxFQUFPZSxZQUNwQkMsTUFBT2hCLEVBQU9pQixVQUNkQyxVQUFXbEIsRUFBT0csb0JBS2pCLENBQUMsRUFHbEIzQixRQUF3Qm5FLEtBQUtPLGFBQWFHLGdCQUN0Q3VDLEVBQWN0QyxtQkFDZHlDLEVBQ0FDLEdBR0pyRCxLQUFLOEcsc0JBQXdCOUcsS0FBS08sYUFBYWMsWUFBWThDLEVBQWlCLENBQ3hFNEMsYUFBYzNCLEVBQ2RNLGVBR0osTUFBTSxrQkFBRXNCLEVBQWlCLGdCQUFFQyxHQUN2QmpILEtBQUtpRSwwQkFBMEJpQixXQUM3QmdDLEVBQWVELElBQ2ZFLEVBQXNCLFFBQWpCLEVBQUFELGFBQVksRUFBWkEsRUFBZSxVQUFFLGVBQUVDLElBQ3RCOUIsTUFBTytCLEdBQWlCSixLQUF1QixDQUFDLEVBQ2xEMUYsRUFBVThGLEVBQ1YsQ0FBRUMsY0FBZSxDQUFFQyxLQUFNaEUsRUFBZWlFLFNBQVVsQyxNQUFPK0IsSUFDekQsQ0FBQyxFQUNESSxFQUNGeEgsS0FBSzhHLGdCQUFnQlcsV0FBVy9ELEVBQWtCZ0UsaUJBQ2xEMUgsS0FBSzhHLGdCQUFnQmEsT0FBT2pFLEVBQWtCZ0UsZUFBZ0JwRyxHQUVsRWtHLEVBQTBCSSxHQUFHaEUsRUFBbUJpRSxPQUFTQyxJQUNyRCxLQUFNLGtCQUFtQkEsR0FDckIsTUFBTSxJQUFJOUYsRUFBaUIzQixFQUFxQmlDLGlCQUdwRHRDLEtBQUtpRSwwQkFBMEI4RCw4QkFBOEIsQ0FDekR0Qyw4QkFBK0JxQyxFQUFNRSxnQkFHckNGLEVBQU1HLFNBQ056RCxFQUFjc0QsRUFBTUUsY0FBZUYsRUFBTWpELE1BQU1RLE9BRS9DYixHQUFjLEVBQU8sSUFHckJFLEdBQ0FBLEdBQVUsUUFHd0J4QixJQUFsQ3VDLEdBQStDcUMsRUFBTUUsZUFBaUJiLEdBQ3RFbkgsS0FBS2lFLDBCQUEwQmlFLGtCQUFrQmYsS0FHekRLLEVBQTBCVyxNQUFNLElBQUk5RCxJLGtSQUk1QyxZQUFBK0QsRyxRQUdJLE9BRmtFLFFBQWxFLEVBQW9CLFFBQXBCLEVBQUFwSSxLQUFLOEcsdUJBQWUsZUFBRVcsV0FBVy9ELEVBQWtCZ0UsdUJBQWUsU0FBRVcsVUFFN0RDLFFBQVFDLFNBQ25CLENBRUEsTUFBQUMsQ0FBT0MsRUFBa0NuSCxHQUdyQyxPQUZBdEIsS0FBS2lFLDBCQUEwQnlFLGVBQWVELEVBQWFuSCxHQUVwRGdILFFBQVFDLFNBQ25CLENBRUEsT0FBQUksQ0FBUXJILEdBR0osT0FGQXRCLEtBQUtpRSwwQkFBMEIyRSxnQkFBZ0J0SCxHQUV4Q2dILFFBQVFDLFNBQ25CLENBRUEsNEJBQUFNLENBQTZCdkgsRyxNQUd6QixPQUZxQyxRQUFyQyxFQUFBQSxhQUFPLEVBQVBBLEVBQVN3SCxvQ0FBNEIsaUJBRTlCUixRQUFRQyxTQUNuQixFQ3hLSixNQVNBLEVBQWVqSyxFQVJYMkYsR0FFTyxJQUFJRCxFQUNQQyxFQUNBLElBQUkzRCxFQUFtQnlJLDJFQUFBQSxLQUlvQyxDQUFDLENBQUU1QixHQUFJLGVDWjNELE1BQU02QixVQUFvQ3hKLEVBQ3JELFdBQUFFLENBQVlDLEdBQ1JDLE1BQU1ELEdBQVcsa0NBRWpCSyxLQUFLSCxLQUFPLDhCQUNaRyxLQUFLRixLQUFPLG1CQUNoQixFQ05XLE1BQU1tSixVQUFpQ3pKLEVBQ2xELFdBQUFFLENBQVlDLEdBQ1JDLE1BQ0lELEdBQ0ksb0dBR1JLLEtBQUtILEtBQU8sMkJBQ1pHLEtBQUtGLEtBQU8sK0JBQ2hCLEVDZEosSUFBWW9KLEdBQVosU0FBWUEsR0FDUixtRUFDQSx1REFDQSxxREFDQSx1REFDQSxrRUFDSCxDQU5ELENBQVlBLElBQUFBLEVBQXVCLEtBYXBCLE1BQU1DLFVBQTRCM0osRUFDN0MsV0FBQUUsQ0FBbUJ1QyxHQUNmckMsTUFPUixTQUF5QkUsR0FDckIsT0FBUUEsR0FDSixLQUFLb0osRUFBd0JFLHVCQUN6QixNQUFPLG9GQUVYLEtBQUtGLEVBQXdCRyxzQkFDekIsTUFBTyxtRkFFWCxLQUFLSCxFQUF3QkksdUJBQ3pCLE1BQU8sb0ZBRVgsS0FBS0osRUFBd0JLLDZCQUN6QixNQUFPLG1GQUVYLFFBQ0ksTUFBTyw2RUFFbkIsQ0F4QmMsQ0FBZ0J0SCxJQURQLEtBQUFBLFFBQUFBLEVBR2ZqQyxLQUFLSCxLQUFPLHNCQUNaRyxLQUFLRixLQUFPLGlCQUNoQixFLHNTQ1FXLE1BQU0wSixFQUlqQixXQUFBOUosQ0FDWXVFLEVBQ0ExRCxHQURBLEtBQUEwRCwwQkFBQUEsRUFDQSxLQUFBMUQsYUFBQUEsRUFMSixLQUFBa0osV0FBWSxDQU1qQixDQUVILFlBQUFyQixHLE1BQ2tDLFFBQTlCLEVBQUFwSSxLQUFLMEosaUNBQXlCLG9CQUM5QjFKLEtBQUt5SixXQUFZLENBQ3JCLENBRUEsOEJBQUFFLENBQ0lyRixFQUNBQyxFQUNBcUYsRUFDQXJJLEdBRUF2QixLQUFLMEosMEJBQTRCMUosS0FBS2lFLDBCQUEwQjRGLFVBQzVELElBQVksaUMsTUFDUixNQUFNQyxFQUFpQnZJLGFBQWMsRUFBZEEsRUFBZ0JrRyxXQUFXL0QsRUFBa0JxRyxTQUVwRSxHQUFLRCxFQUFMLENBSUEsVUFDVTlKLEtBQUtnSywwQkFBMEIxRixFQUFXQyxFLENBQ2xELE1BQU8wRixHQVVMLE9BVElqSyxLQUFLeUosWUFDTEssRUFBZXpCLFVBQ2ZySSxLQUFLeUosV0FBWSxRQUdqQlEsYUFBaUJ4SyxRQUNrQixRQUFuQyxFQUFBbUssRUFBNEJNLGVBQU8sZ0JBQUdELEksQ0FNekNqSyxLQUFLeUosa0JBQ0FsSSxhQUFjLEVBQWRBLEVBQWdCSyxlQUN0QjVCLEtBQUttSyxhQUFhTCxFQUFnQkYsRUFBNEJRLGEsQ0FFdEUsR0FDQ25GLElBQVMsTUFBQyxPQUFtQixRQUFuQixFQUFBQSxFQUFNb0YscUJBQWEsZUFBRUMsb0JBQy9CckYsSUFBUyxNQUFDLE9BQW1CLFFBQW5CLEVBQUFBLEVBQU1vRixxQkFBYSxlQUFFRSxTQUV4QyxDQUVBLFlBQUFKLENBQWFLLEVBQThCSixHQUNsQ0ssU0FBU0MsZUFBZU4sS0FJN0JJLEVBQWNyQyxNQUFNLElBQUlpQyxLQUN4QnBLLEtBQUt5SixXQUFZLEVBQ3JCLENBRUEsc0JBQUFrQixDQUF1QmhGLEdBQ25CLE1BQU8sQ0FDSEUsYUFBY0YsRUFBT0csaUJBQ3JCQyxnQkFBaUJKLEVBQU9LLGdCQUN4QkMsVUFBV04sRUFBT08sVUFDbEJDLFlBQWFSLEVBQU9TLGVBQ3BCQyxtQkFBb0JWLEVBQU9PLFVBQzNCSSxxQkFBc0JYLEVBQU9ZLHFCQUM3QnFFLFVBQVdqRixFQUFPWSxxQkFFMUIsQ0FFQSx1QkFBQXNFLENBQXdCbEYsR0FDcEIsTUFBTyxDQUNIYyxZQUFhZCxFQUFPZSxZQUNwQkMsTUFBT2hCLEVBQU9pQixVQUNkQyxVQUFXbEIsRUFBT0csaUJBRTFCLENBRUEsZ0JBQUFnRixDQUFpQkMsR0FDYixHQzdHb0IsaUJBREVkLEVEOEdKYyxJQzdHd0IsT0FBVmQsR0FBa0IsU0FBVUEsSUQ4R3hEakssS0FBS2dMLDRCQUE0QkQsR0FFN0IvSyxLQUFLaUwsb0JBQW9CRixJQUN6QixNQUFNLElBQUkvQixFQ2xIbkIsSUFBdUJpQixFRHNIdEIsTUFBTSxJQUFJaEIsQ0FDZCxDQUVBLDJCQUFBK0IsQ0FBNEJELEdBQ3hCLEdBQ0lHLGdEQUFBQSxDQUFTLENBQUMsYUFBYyx3QkFBeUIsb0JBQXFCSCxFQUFZakwsTUFFbEYsTUFBTSxJQUFJTCxNQUFNc0wsRUFBWXBMLFFBRXBDLENBRUEsbUJBQUFzTCxDQUFvQkYsRyxNQUNoQixNQUFNSSxFQUE2RCxRQUE5QyxFQUFBSixhQUFXLEVBQVhBLEVBQWFLLGVBQWVDLDBCQUFrQixlQUFFMUwsUUFFckUsUUFBU3dMLElBQXNELElBQXRDQSxFQUFhRyxRQUFRLFdBQ2xELENBRUEsc0NBQUFDLEdBR0ksTUFBTSxJQUFJdEMsRUFDTixrUkFFUixDQUVNLGtCQUFBdUMsQ0FBbUJqSCxFQUFrQkosRyx3Q0FDdkMsTUFBTWMsRUFBUWpGLEtBQUtpRSwwQkFBMEJpQixXQUN2Q2pDLEVBQWdCZ0MsRUFBTUUsd0JBQXdCWixJQUM5QyxTQUFFa0gsR0FBYXhHLEVBQU15Ryx3QkFBd0JDLGlCQUVuRCxJQUNLMUksRUFBY21DLGNBQ2RqQixJQUNBc0gsRUFBUywrREFFVixPQUFPLEVBR1gsTUFBTSxjQUFFRyxTQUF3QnpILEVBQWdCMEgsc0JBQzVDNUksRUFBY21DLGFBR2xCLE9BQU93RyxhQUFhLEVBQWJBLEVBQWVFLFVBQVduSSxFQUEwQm9JLFNBQy9ELEUsQ0FFQSxvQkFBQUMsQ0FDSXpLLEVBQ0EwSyxFQUNBQyxHQUF1QixHQUV2QixNQUFNQyxFQUFpQm5NLEtBQUtpRSwwQkFBMEJpQixXQUFXOEIscUJBQzNELFVBQUVvRixFQUFZLEdBQUUsU0FBRUMsRUFBVyxHQUFFLE1BQUVoSCxFQUFRLElBQU84RyxHQUFrQixDQUFDLEVBQ25FRyxFQUFVdE0sS0FBS3VNLGtCQUFrQkosR0FFdkMsSUFBSzVLLEVBQ0QsTUFBTSxJQUFJNEgsRUFBb0JELEVBQXdCRyx1QkFHMUQsS0FBS2hFLEdBQVVpSCxHQUFZQSxFQUFRRSxNQUFTRixFQUFRRyxTQUFZTCxHQUFjQyxHQUMxRSxNQUFNLElBQUlySyxFQUFpQjNCLEVBQXFCNkIsdUJBR3BELE1BQU8sQ0FDSFIsU0FBVUgsRUFDVm1MLFNBQVVqSixFQUFzQmtKLFlBQ2hDQyxjQUFlLE9BQUYsUUFDVEMsb0JBQXFCLE9BQUYsd0JBQ1hYLEVBQXVCLENBQUVZLGdCQUFpQixVQUFhLENBQUMsR0FBRSxDQUM5REMsZ0JBQWlCLENBQ2IxSCxRQUNBaUgsVUFDQXpNLEtBQU0sR0FBR3VNLEtBQWFDLFFBRzFCSixHQUFhLENBQUVlLFdBQVlmLElBRzNDLENBRUEsdUJBQUFnQixDQUF3QkMsR0FDcEIsT0FBT0MsNENBQUFBLENBQUtELEVBQVEsQ0FBRUUsS0FBTSw4QkFDaEMsQ0FFQSxnQkFBQUMsQ0FBaUJDLEdBQ2IsTUFBTSxLQUNGeE4sRUFDQXlOLE1BQU0sYUFBRUMsSUFDUkYsRUFFSixNQUFnQixvQkFBVHhOLEtBQWdDME4sQ0FDM0MsQ0FFQSx3QkFBQUMsQ0FBeUJILEdBQ3JCLE1BQU0sS0FDRnhOLEVBQ0F5TixNQUFNLE1BQUVHLElBQ1JKLEVBRUosTUFBZ0IsOENBQVR4TixLQUEwRDROLENBQ3JFLENBRU0seUJBQUExRCxDQUEwQjFGLEVBQW1CQyxHLHdDQUUvQyxNQUFNVSxRQUFjakYsS0FBS2lFLDBCQUEwQmEsa0JBQWtCUixFQUFXLENBQzVFUyxPQUFRLENBQUVDLE9BQVFULE1BRWhCLFlBQUVhLEdBQWdCSCxFQUFNRSx3QkFBd0JaLEdBRXRELElBQUthLEVBQ0QsTUFBTSxJQUFJcEQsRUFBaUIzQixFQUFxQndDLHNCQUdwRDdDLEtBQUtPLGFBQWFrQixxQkFBcUIsQ0FBRXNGLGFBQWMzQixHQUMzRCxFLENBRVEsaUJBQUFtSCxDQUFrQkQsR0FDdEIsR0FBSUEsRUFBUyxDQUNULE1BQU0sS0FDRkUsRUFBSSxTQUNKbUIsRUFBUSxTQUNSQyxFQUNBQyxZQUFhcEIsRUFBTyxXQUNwQnFCLEVBQVUsb0JBQ1ZDLEdBQ0F6QixFQUVKLE9BQU8sT0FBUCxRQUNJRSxPQUNBQyxVQUNBdUIsWUFBYUYsRUFDYkcsTUFBT04sRUFDUE8sTUFBT04sR0FDSEcsRUFBc0IsQ0FBRTlJLE1BQU84SSxHQUF3QixDQUFDLEUsQ0FJcEUsTUFBTSxJQUFJL0wsRUFBaUIzQixFQUFxQjZCLHNCQUNwRCxFRTVQSixNQUFNaU0sRUFBeUMsQ0FDM0NDLEtBQU0sR0FDTnpILE1BQU8sVUFDUDBILGdCQUFpQixXQUdSQyxFQUEyQixDQUNwQ0MsU0FBVSxRQUNWLG1CQUFvQixxQkFDcEIsVUFBVyxRQUdUQyxFQUFxQiwrQ0FPWixNQUFNQyxFQU1qQixXQUFBL08sQ0FBWTRCLEdBQ1J0QixLQUFLMkYsT0FBUyxPQUFILHdCQUFRd0ksR0FBb0I3TSxHQUFXQSxFQUFRcUUsUUFDMUQzRixLQUFLME8sZ0JBQWtCLE9BQUgsVUFBU3BOLEdBQVdBLEVBQVFvTixpQkFFaEQxTyxLQUFLMk8sa0JBRUwzTyxLQUFLcUUsVUFBWXJFLEtBQUs0TyxpQkFDdEI1TyxLQUFLNk8sVUFBWTdPLEtBQUs4TyxpQkFFdEI5TyxLQUFLcUUsVUFBVTBLLFlBQVkvTyxLQUFLNk8sVUFDcEMsQ0FFQSxJQUFBRyxDQUFLQyxHQUNELEdBQUlBLEVBQVUsQ0FDVixNQUFNQyxFQUFTekUsU0FBU0MsZUFBZXVFLEdBRXZDLElBQUtDLEVBQ0QsTUFBTSxJQUFJelAsTUFDTiw4RUFJUnlQLEVBQU9ILFlBQVkvTyxLQUFLcUUsVSxDQUc1QnJFLEtBQUtxRSxVQUFVOEssTUFBTUMsV0FBYSxVQUNsQ3BQLEtBQUtxRSxVQUFVOEssTUFBTUUsUUFBVSxHQUNuQyxDQUVBLElBQUFDLEdBQ0ksTUFBTUMsRUFBc0IsS0FDeEJ2UCxLQUFLcUUsVUFBVThLLE1BQU1DLFdBQWEsU0FFbENwUCxLQUFLcUUsVUFBVW1MLG9CQUFvQixnQkFBaUJELElBR3hEdlAsS0FBS3FFLFVBQVVvTCxpQkFBaUIsZ0JBQWlCRixHQUVqRHZQLEtBQUtxRSxVQUFVOEssTUFBTUUsUUFBVSxHQUNuQyxDQUVRLGNBQUFULEdBQ0osTUFBTXZLLEVBQVlvRyxTQUFTaUYsY0FBYyxPQWV6QyxPQWJBckwsRUFBVThLLE1BQU1RLFFBQVUsUUFDMUJ0TCxFQUFVOEssTUFBTVMsT0FBUyxJQUN6QnZMLEVBQVU4SyxNQUFNVSxLQUFPLElBQ3ZCeEwsRUFBVThLLE1BQU1XLE9BQVMsT0FDekJ6TCxFQUFVOEssTUFBTVksTUFBUSxPQUN4QjFMLEVBQVU4SyxNQUFNWixTQUFXLFdBQzNCbEssRUFBVThLLE1BQU1hLE1BQVEsSUFDeEIzTCxFQUFVOEssTUFBTWMsSUFBTSxJQUN0QjVMLEVBQVU4SyxNQUFNZSxXQUFhLHFCQUM3QjdMLEVBQVU4SyxNQUFNRSxRQUFVLElBRTFCclAsS0FBS21RLGtCQUFrQjlMLEVBQVdyRSxLQUFLME8saUJBRWhDckssQ0FDWCxDQUVRLGNBQUF5SyxHQUNKLE1BQU1ELEVBQVlwRSxTQUFTaUYsY0FBYyxPQWlCekMsT0FmQWIsRUFBVU0sTUFBTVEsUUFBVSxRQUMxQmQsRUFBVU0sTUFBTVksTUFBUSxHQUFHL1AsS0FBSzJGLE9BQU95SSxTQUN2Q1MsRUFBVU0sTUFBTVcsT0FBUyxHQUFHOVAsS0FBSzJGLE9BQU95SSxTQUN4Q1MsRUFBVU0sTUFBTWlCLGFBQWUsR0FBR3BRLEtBQUsyRixPQUFPeUksU0FDOUNTLEVBQVVNLE1BQU1rQixPQUFTLFlBQ3pCeEIsRUFBVU0sTUFBTTFJLFlBQWMsR0FBR3pHLEtBQUsyRixPQUFPMEksbUJBQW1Cck8sS0FBSzJGLE9BQU8wSSxtQkFBbUJyTyxLQUFLMkYsT0FBT2dCLFNBQVMzRyxLQUFLMkYsT0FBT2dCLFFBQ2hJa0ksRUFBVU0sTUFBTW1CLE9BQVMsU0FDekJ6QixFQUFVTSxNQUFNWixTQUFXLFdBQzNCTSxFQUFVTSxNQUFNVSxLQUFPLElBQ3ZCaEIsRUFBVU0sTUFBTWEsTUFBUSxJQUN4Qm5CLEVBQVVNLE1BQU1jLElBQU0sTUFDdEJwQixFQUFVTSxNQUFNb0IsVUFBWSxnQ0FDNUIxQixFQUFVTSxNQUFNcUIsZUFBaUIsY0FDakMzQixFQUFVTSxNQUFNc0IsVUFBWSxHQUFHakMsd0RBRXhCSyxDQUNYLENBRVEsaUJBQUFzQixDQUFrQk8sRUFBc0JDLEdBQzVDbFMsT0FBT21TLEtBQUtELEdBQU8vTCxRQUFTaU0sSUFDeEJILEVBQVF2QixNQUFNMkIsWUFBWUQsRUFBR0YsRUFBTUUsS0FFM0MsQ0FFUSxlQUFBbEMsRyxNQUdKLEdBQUlsRSxTQUFTQyxlQUFlOEQsR0FDeEIsT0FHSixNQUFNVyxFQUFRMUUsU0FBU2lGLGNBQWMsU0FFckNQLEVBQU1oSSxHQUFLcUgsRUFHRSxRQUFiLEVBQUEvRCxTQUFTc0csWUFBSSxTQUFFaEMsWUFBWUksR0FFdkJBLEVBQU02QixpQkFBaUJDLGVBR3ZCOUIsRUFBTTZCLE1BQU1FLFdBQ1IsZ0NBQ2ExQyx1TEFLYixFQUdaLEVDN0lKLE1BSUEsRUFKd0J2RSxHQUNJLGlCQUFWQSxHQUFnQyxPQUFWQSxHQUFrQixTQUFVQSxFQ0pyRCxNQUFNa0gsRUFDakIsV0FBQXpSLENBQW9CMFIsR0FBQSxLQUFBQSxlQUFBQSxDQUF5QixDQUU3QyxTQUFBQyxDQUFVQyxHQUNOLE9BQU9DLEtBQUtDLE1BQU1GLEVBQVMsWUFBTXRSLEtBQUtvUixnQkFDMUMsRUNMRyxNQUFNSyxFQUFxQyxDQUM5QyxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0Es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d1YsRUFBcUIsSUFBSW5aLEVBQW1CeUksMkVBQUFBLElBRWxELE9BQU8sSUFBSXljLEdBQ1B2aEIsRUFDQXdWLEVBQ0EsSUFBSWpRLEVBQXlCdkYsRUFBMkJ3VixLQUlFLENBQzlELENBQUV5SCxRQUFTLFlBQWEvWixHQUFJLHdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay93ZWJwYWNrL2Jvb3RzdHJhcD9mZmNjIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvdG8tcmVzb2x2YWJsZS1tb2R1bGUudHM/ZDUyMCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycz85OTRjIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZD85ZWE0Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3N0YW5kYXJkLWVycm9yLnRzPzhhMDMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvc2V0LXByb3RvdHlwZS1vZi50cz84NDVhIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3BheW1lbnQtbWV0aG9kLWNsaWVudC11bmF2YWlsYWJsZS1lcnJvci50cz9mOGVjIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL21pc3NpbmctZGF0YS1lcnJvci50cz9iN2RjIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtdXRpbHMvc3JjL3N0cmlwZS1zY3JpcHQtbG9hZGVyLnRzP2MxMjEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvaW52YWxpZC1hcmd1bWVudC1lcnJvci50cz8zOTIxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtdXRpbHMvc3JjL2lzLXN0cmlwZS1wYXltZW50LW1ldGhvZC1saWtlLnRzPzIwMTkiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS11dGlscy9zcmMvc3RyaXBlLXVwZS9zdHJpcGUtdXBlLWNvbnN0YW50cy50cz9iOTQwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtdXRpbHMvc3JjL3N0cmlwZS50cz80MDkxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZS11cGUvaXMtc3RyaXBlLWFjY2VsZXJhdGVkLWNoZWNrb3V0LWN1c3RvbWVyLnRzP2NlNjciLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS1pbnRlZ3JhdGlvbi9zcmMvc3RyaXBlLXVwZS9zdHJpcGUtdXBlLWN1c3RvbWVyLXN0cmF0ZWd5LnRzP2NjNzQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS1pbnRlZ3JhdGlvbi9zcmMvc3RyaXBlLXVwZS9jcmVhdGUtc3RyaXBlLXVwZS1jdXN0b21lci1zdHJhdGVneS50cz84NjAxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3BheW1lbnQtbWV0aG9kLWNhbmNlbGxlZC1lcnJvci50cz8wODkwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3BheW1lbnQtbWV0aG9kLWZhaWxlZC1lcnJvci50cz8wN2RkIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL25vdC1pbml0aWFsaXplZC1lcnJvci50cz84YjRkIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtdXRpbHMvc3JjL3N0cmlwZS1pbnRlZ3JhdGlvbi1zZXJ2aWNlLnRzPzcxNTIiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS11dGlscy9zcmMvaXMtc3RyaXBlLWVycm9yLnRzPzVlM2EiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3VpL3NyYy9sb2FkaW5nLWluZGljYXRvci9sb2FkaW5nLWluZGljYXRvci50cz9iMDg3Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL2lzLXJlcXVlc3QtZXJyb3IudHM/YjQzZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2NvbW1vbi91dGlsaXR5L2Ftb3VudC10cmFuc2Zvcm1lci50cz8xZDc4Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZS1vY3MvY29uc3RhbnRzLnRzP2VhNzIiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS1pbnRlZ3JhdGlvbi9zcmMvc3RyaXBlLW9jcy9zdHJpcGUtbGluay12Mi1jdXN0b21lci1zdHJhdGVneS50cz81ODlkIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZS1vY3MvY3JlYXRlLXN0cmlwZS1saW5rLXYyLWN1c3RvbWVyLXN0cmF0ZWd5LnRzP2Q1M2MiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1hcmd1bWVudC1pbnZhbGlkLWVycm9yLnRzP2E1MDEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9wYXltZW50L2lzLWhvc3RlZC1pbnRydW1lbnQtbGlrZS50cz84NzYzIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvcGF5bWVudC9pcy12YXVsdGVkLWluc3RydW1lbnQudHM/MTgwZiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9vcmRlci1maW5hbGl6YXRpb24tbm90LXJlcXVpcmVkLWVycm9yLnRzP2I1YTEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS1pbnRlZ3JhdGlvbi9zcmMvc3RyaXBldjMvaXMtaW5kaXZpZHVhbC1jYXJkLWVsZW1lbnQtb3B0aW9ucy50cz8yNjE1Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZXYzL3N0cmlwZXYzLnRzPzBhYjEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS1pbnRlZ3JhdGlvbi9zcmMvc3RyaXBldjMvc3RyaXBldjMtZXJyb3IudHM/MWQ1OSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvc3RyaXBlLWludGVncmF0aW9uL3NyYy9zdHJpcGV2My9zdHJpcGV2My1wYXltZW50LXN0cmF0ZWd5LnRzP2FhMDkiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9iaWxsaW5nL2lzLWJpbGxpbmctYWRkcmVzcy1saWtlLnRzPzg1MzAiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS1pbnRlZ3JhdGlvbi9zcmMvc3RyaXBldjMvc3RyaXBldjMtc2NyaXB0LWxvYWRlci50cz9jODFlIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZXYzL2NyZWF0ZS1zdHJpcGV2My1wYXltZW50LXN0cmF0ZWd5LnRzPzZhYjkiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcmVxdWVzdC1lcnJvci50cz9jODQwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtdXRpbHMvc3JjL3N0cmlwZS1zdXBwb3J0ZWQtbG9jYWxlcy50cz9hM2MxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtdXRpbHMvc3JjL2Zvcm1hdC1sb2NhbGUudHM/ZGI4NSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvc3RyaXBlLWludGVncmF0aW9uL3NyYy9zdHJpcGUtdXBlL3N0cmlwZS11cGUtcGF5bWVudC1zdHJhdGVneS50cz85NjBkIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZS11cGUvY3JlYXRlLXN0cmlwZS11cGUtcGF5bWVudC1zdHJhdGVneS50cz85NTA5Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZS1vY3Mvc3RyaXBlLW9jcy1wYXltZW50LXN0cmF0ZWd5LnRzP2RhNDQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS11dGlscy9zcmMvaXMtc3RyaXBlLXBheW1lbnQtZXZlbnQudHM/ZTRhZSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvc3RyaXBlLWludGVncmF0aW9uL3NyYy9zdHJpcGUtb2NzL2NyZWF0ZS1zdHJpcGUtb2NzLXBheW1lbnQtc3RyYXRlZ3kudHM/MmE0NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiaW1wb3J0IFJlc29sdmFibGVNb2R1bGUgZnJvbSAnLi9yZXNvbHZhYmxlLW1vZHVsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvUmVzb2x2YWJsZU1vZHVsZTxUTW9kdWxlLCBUSWRlbnRpZmllcj4oXG4gICAgbW9kdWxlOiBUTW9kdWxlLFxuICAgIHJlc29sdmVJZHM6IFRJZGVudGlmaWVyW10sXG4pOiBSZXNvbHZhYmxlTW9kdWxlPFRNb2R1bGUsIFRJZGVudGlmaWVyPiB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obW9kdWxlLCB7IHJlc29sdmVJZHMgfSk7XG59XG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiaW1wb3J0IEN1c3RvbUVycm9yIGZyb20gJy4vY3VzdG9tLWVycm9yJztcbmltcG9ydCBzZXRQcm90b3R5cGVPZiBmcm9tICcuL3NldC1wcm90b3R5cGUtb2YnO1xuXG4vKipcbiAqIFRoaXMgZXJyb3IgdHlwZSBzaG91bGQgbm90IGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5LiBJdCBpcyBhIGJhc2UgY2xhc3MgZm9yXG4gKiBhbGwgY3VzdG9tIGVycm9ycyB0aHJvd24gaW4gdGhpcyBsaWJyYXJ5LlxuICovXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBTdGFuZGFyZEVycm9yIGV4dGVuZHMgRXJyb3IgaW1wbGVtZW50cyBDdXN0b21FcnJvciB7XG4gICAgbmFtZSA9ICdTdGFuZGFyZEVycm9yJztcbiAgICB0eXBlID0gJ3N0YW5kYXJkJztcblxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSB8fCAnQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWQuJyk7XG5cbiAgICAgICAgc2V0UHJvdG90eXBlT2YodGhpcywgbmV3LnRhcmdldC5wcm90b3R5cGUpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIG5ldy50YXJnZXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGFjayA9IG5ldyBFcnJvcih0aGlzLm1lc3NhZ2UpLnN0YWNrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0UHJvdG90eXBlT2Yob2JqZWN0OiBhbnksIHByb3RvdHlwZTogb2JqZWN0KSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2Yob2JqZWN0LCBwcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG9iamVjdC5fX3Byb3RvX18gPSBwcm90b3R5cGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdDtcbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIHRoZSBjbGllbnQgbGlicmFyeSBvZiBhIHBheW1lbnQgbWV0aG9kIGZhaWxzXG4gKiB0byBsb2FkLCBvciBmb3Igc29tZSByZWFzb24sIGl0IGlzIGluYWNjZXNzaWJsZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKFxuICAgICAgICAgICAgbWVzc2FnZSB8fFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjbGllbnQgbGlicmFyeSBvZiBhIHBheW1lbnQgbWV0aG9kIGlzIG5vdCBsb2FkZWQgb3IgcmVhZHkgdG8gYmUgdXNlZC4nLFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdwYXltZW50X21ldGhvZF9jbGllbnRfdW5hdmFpbGFibGUnO1xuICAgIH1cbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG5leHBvcnQgZW51bSBNaXNzaW5nRGF0YUVycm9yVHlwZSB7XG4gICAgTWlzc2luZ0JpbGxpbmdBZGRyZXNzLFxuICAgIE1pc3NpbmdDYXJ0LFxuICAgIE1pc3NpbmdDaGVja291dCxcbiAgICBNaXNzaW5nQ29uc2lnbm1lbnRzLFxuICAgIE1pc3NpbmdDdXN0b21lcixcbiAgICBNaXNzaW5nQ2hlY2tvdXRDb25maWcsXG4gICAgTWlzc2luZ09yZGVyLFxuICAgIE1pc3NpbmdPcmRlckNvbmZpZyxcbiAgICBNaXNzaW5nT3JkZXJJZCxcbiAgICBNaXNzaW5nUGF5bWVudCxcbiAgICBNaXNzaW5nUGF5bWVudElkLFxuICAgIE1pc3NpbmdQYXltZW50SW5zdHJ1bWVudCxcbiAgICBNaXNzaW5nUGF5bWVudE1ldGhvZCxcbiAgICBNaXNzaW5nUGF5bWVudFJlZGlyZWN0VXJsLFxuICAgIE1pc3NpbmdQYXltZW50U3RhdHVzLFxuICAgIE1pc3NpbmdQYXltZW50VG9rZW4sXG4gICAgTWlzc2luZ1NoaXBwaW5nQWRkcmVzcyxcbn1cblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIHdoZW4gZGF0YSB0aGF0IGlzIGV4cGVjdGVkIHRvIGV4aXN0IGlzIG1pc3NpbmcuIFVzdWFsbHkgaXRcbiAqIGlzIGR1ZSB0byB0aGUgZmFjdCB0aGF0IGNlcnRhaW4gZGF0YSBoYXMgbm90IGJlZW4gcmV0cmlldmVkIGZyb20gb3Igc2F2ZWQgdG9cbiAqIHRoZSBzZXJ2ZXIgeWV0LiBBbmQgc3VjaCBkYXRhIGlzIHJlcXVpcmVkIHRvIHBlcmZvcm0gY2VydGFpbiBhY3Rpb25zLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNaXNzaW5nRGF0YUVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IocHVibGljIHN1YnR5cGU6IE1pc3NpbmdEYXRhRXJyb3JUeXBlKSB7XG4gICAgICAgIHN1cGVyKGdldEVycm9yTWVzc2FnZShzdWJ0eXBlKSk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ01pc3NpbmdEYXRhRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnbWlzc2luZ19kYXRhJztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZSh0eXBlOiBNaXNzaW5nRGF0YUVycm9yVHlwZSk6IHN0cmluZyB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0JpbGxpbmdBZGRyZXNzOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGJpbGxpbmcgYWRkcmVzcyBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ2FydDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjYXJ0IGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDb25zaWdubWVudHM6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY29uc2lnbm1lbnRzIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDaGVja291dDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjaGVja291dCBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ3VzdG9tZXI6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY3VzdG9tZXIgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NoZWNrb3V0Q29uZmlnOlxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdPcmRlckNvbmZpZzpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjb25maWd1cmF0aW9uIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdPcmRlcjpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBvcmRlciBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nT3JkZXJJZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBvcmRlciBJRCBpcyB1bmF2YWlsYWJsZSBvciBub3QgZ2VuZXJhdGVkIHlldC4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgcGF5bWVudCBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudFRva2VuOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSB0b2tlbiByZXF1aXJlZCB0byBzdWJtaXQgYSBwYXltZW50IGlzIG1pc3NpbmcuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHBheW1lbnQgbWV0aG9kIGRhdGEgaXMgdW5hdmFpbGFibGUgb3Igbm90IHByb3Blcmx5IGNvbmZpZ3VyZWQuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdTaGlwcGluZ0FkZHJlc3M6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugc2hpcHBpbmcgYWRkcmVzcyBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcmVxdWlyZWQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHsgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHtcbiAgICBTdHJpcGVDbGllbnQsXG4gICAgU3RyaXBlRWxlbWVudHMsXG4gICAgU3RyaXBlRWxlbWVudHNPcHRpb25zLFxuICAgIFN0cmlwZUhvc3RXaW5kb3csXG4gICAgU3RyaXBlSW5pdGlhbGl6YXRpb25EYXRhLFxufSBmcm9tICcuL3N0cmlwZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0cmlwZVNjcmlwdExvYWRlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgc2NyaXB0TG9hZGVyOiBTY3JpcHRMb2FkZXIsXG4gICAgICAgIHByaXZhdGUgc3RyaXBlV2luZG93OiBTdHJpcGVIb3N0V2luZG93ID0gd2luZG93LFxuICAgICkge31cblxuICAgIGFzeW5jIGdldFN0cmlwZUNsaWVudChcbiAgICAgICAgaW5pdGlhbGl6YXRpb25EYXRhOiBTdHJpcGVJbml0aWFsaXphdGlvbkRhdGEsXG4gICAgICAgIGJldGFzPzogc3RyaW5nW10sXG4gICAgICAgIGFwaVZlcnNpb24/OiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxTdHJpcGVDbGllbnQ+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RyaXBlV2luZG93LmJjU3RyaXBlQ2xpZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJpcGVXaW5kb3cuYmNTdHJpcGVDbGllbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdHJpcGUgPSBhd2FpdCB0aGlzLmxvYWQoKTtcbiAgICAgICAgY29uc3QgeyBzdHJpcGVQdWJsaXNoYWJsZUtleSwgc3RyaXBlQ29ubmVjdGVkQWNjb3VudCB9ID0gaW5pdGlhbGl6YXRpb25EYXRhO1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgLi4uKHN0cmlwZUNvbm5lY3RlZEFjY291bnQgPyB7IHN0cmlwZUFjY291bnQ6IHN0cmlwZUNvbm5lY3RlZEFjY291bnQgfSA6IHt9KSxcbiAgICAgICAgICAgIC4uLihiZXRhcyA/IHsgYmV0YXMgfSA6IHt9KSxcbiAgICAgICAgICAgIC4uLihhcGlWZXJzaW9uID8geyBhcGlWZXJzaW9uIH0gOiB7fSksXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc3RyaXBlQ2xpZW50ID0gc3RyaXBlPFN0cmlwZUNsaWVudD4oc3RyaXBlUHVibGlzaGFibGVLZXksIG9wdGlvbnMpO1xuXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5zdHJpcGVXaW5kb3csIHsgYmNTdHJpcGVDbGllbnQ6IHN0cmlwZUNsaWVudCB9KTtcblxuICAgICAgICByZXR1cm4gc3RyaXBlQ2xpZW50O1xuICAgIH1cblxuICAgIGFzeW5jIGdldEVsZW1lbnRzKFxuICAgICAgICBzdHJpcGVDbGllbnQ6IFN0cmlwZUNsaWVudCxcbiAgICAgICAgb3B0aW9uczogU3RyaXBlRWxlbWVudHNPcHRpb25zLFxuICAgICk6IFByb21pc2U8U3RyaXBlRWxlbWVudHM+IHtcbiAgICAgICAgbGV0IHN0cmlwZUVsZW1lbnRzID0gdGhpcy5zdHJpcGVXaW5kb3cuYmNTdHJpcGVFbGVtZW50cztcblxuICAgICAgICBpZiAoIXN0cmlwZUVsZW1lbnRzKSB7XG4gICAgICAgICAgICBzdHJpcGVFbGVtZW50cyA9IHN0cmlwZUNsaWVudC5lbGVtZW50cyhvcHRpb25zKTtcblxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnN0cmlwZVdpbmRvdywgeyBiY1N0cmlwZUVsZW1lbnRzOiBzdHJpcGVFbGVtZW50cyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlU3RyaXBlRWxlbWVudHMob3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyaXBlRWxlbWVudHM7XG4gICAgfVxuXG4gICAgYXN5bmMgdXBkYXRlU3RyaXBlRWxlbWVudHMob3B0aW9uczogU3RyaXBlRWxlbWVudHNPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHN0cmlwZUVsZW1lbnRzID0gdGhpcy5zdHJpcGVXaW5kb3cuYmNTdHJpcGVFbGVtZW50cztcblxuICAgICAgICBpZiAoIXN0cmlwZUVsZW1lbnRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzdHJpcGVFbGVtZW50cy51cGRhdGUob3B0aW9ucyk7XG4gICAgICAgIGF3YWl0IHN0cmlwZUVsZW1lbnRzLmZldGNoVXBkYXRlcygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgbG9hZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0cmlwZVdpbmRvdy5TdHJpcGUpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoJ2h0dHBzOi8vanMuc3RyaXBlLmNvbS92My8nKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLnN0cmlwZVdpbmRvdy5TdHJpcGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnN0cmlwZVdpbmRvdy5TdHJpcGU7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gYSBtZXRob2QgaXMgdW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGVcbiAqIGNhbGxlciBoYXMgbm90IHByb3ZpZGVkIGFsbCB0aGUgYXJndW1lbnRzIGFjY29yZGluZyB0byB0aGVpciByZXF1aXJlbWVudHMsXG4gKiBpLmUuOiBpZiBhbiBhcmd1bWVudCBpcyBtaXNzaW5nIG9yIGl0IGlzIG5vdCB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnZhbGlkQXJndW1lbnRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSB8fCAnSW52YWxpZCBhcmd1bWVudHMgaGF2ZSBiZWVuIHByb3ZpZGVkLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdJbnZhbGlkQXJndW1lbnRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdpbnZhbGlkX2FyZ3VtZW50JztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQYXltZW50TWV0aG9kIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IFN0cmlwZVBheW1lbnRNZXRob2QgfSBmcm9tICcuL3N0cmlwZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmlwZVBheW1lbnRNZXRob2RMaWtlKFxuICAgIHBheW1lbnRNZXRob2Q6IFBheW1lbnRNZXRob2QsXG4pOiBwYXltZW50TWV0aG9kIGlzIFN0cmlwZVBheW1lbnRNZXRob2Qge1xuICAgIHJldHVybiAoXG4gICAgICAgIHR5cGVvZiBwYXltZW50TWV0aG9kID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBwYXltZW50TWV0aG9kICE9PSBudWxsICYmXG4gICAgICAgICdpbml0aWFsaXphdGlvbkRhdGEnIGluIHBheW1lbnRNZXRob2QgJiZcbiAgICAgICAgKHBheW1lbnRNZXRob2QgYXMgU3RyaXBlUGF5bWVudE1ldGhvZCkuaW5pdGlhbGl6YXRpb25EYXRhICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgKHBheW1lbnRNZXRob2QgYXMgU3RyaXBlUGF5bWVudE1ldGhvZCkuaW5pdGlhbGl6YXRpb25EYXRhICE9PSBudWxsICYmXG4gICAgICAgIHR5cGVvZiAocGF5bWVudE1ldGhvZCBhcyBTdHJpcGVQYXltZW50TWV0aG9kKS5pbml0aWFsaXphdGlvbkRhdGEgPT09ICdvYmplY3QnICYmXG4gICAgICAgICdzdHJpcGVQdWJsaXNoYWJsZUtleScgaW4gKHBheW1lbnRNZXRob2QgYXMgU3RyaXBlUGF5bWVudE1ldGhvZCkuaW5pdGlhbGl6YXRpb25EYXRhICYmXG4gICAgICAgICdzdHJpcGVDb25uZWN0ZWRBY2NvdW50JyBpbiAocGF5bWVudE1ldGhvZCBhcyBTdHJpcGVQYXltZW50TWV0aG9kKS5pbml0aWFsaXphdGlvbkRhdGEgJiZcbiAgICAgICAgJ3Nob3BwZXJMYW5ndWFnZScgaW4gKHBheW1lbnRNZXRob2QgYXMgU3RyaXBlUGF5bWVudE1ldGhvZCkuaW5pdGlhbGl6YXRpb25EYXRhICYmXG4gICAgICAgIHR5cGVvZiAocGF5bWVudE1ldGhvZCBhcyBTdHJpcGVQYXltZW50TWV0aG9kKS5pbml0aWFsaXphdGlvbkRhdGEuc3RyaXBlUHVibGlzaGFibGVLZXkgIT09XG4gICAgICAgICAgICAndW5kZWZpbmVkJyAmJlxuICAgICAgICB0eXBlb2YgKHBheW1lbnRNZXRob2QgYXMgU3RyaXBlUGF5bWVudE1ldGhvZCkuaW5pdGlhbGl6YXRpb25EYXRhLnN0cmlwZUNvbm5lY3RlZEFjY291bnQgIT09XG4gICAgICAgICAgICAndW5kZWZpbmVkJyAmJlxuICAgICAgICB0eXBlb2YgKHBheW1lbnRNZXRob2QgYXMgU3RyaXBlUGF5bWVudE1ldGhvZCkuaW5pdGlhbGl6YXRpb25EYXRhLnNob3BwZXJMYW5ndWFnZSAhPT1cbiAgICAgICAgICAgICd1bmRlZmluZWQnXG4gICAgKTtcbn1cbiIsImV4cG9ydCBjb25zdCBTVFJJUEVfVVBFX0NMSUVOVF9CRVRBUyA9IFtcbiAgICAncGF5bWVudF9lbGVtZW50X2JldGFfMicsXG4gICAgJ2FsaXBheV9wbV9iZXRhXzEnLFxuICAgICdsaW5rX2RlZmF1bHRfaW50ZWdyYXRpb25fYmV0YV8xJyxcbiAgICAnc2hpcHBpbmdfYWRkcmVzc19lbGVtZW50X2JldGFfMScsXG4gICAgJ2FkZHJlc3NfZWxlbWVudF9iZXRhXzEnLFxuXTtcblxuZXhwb3J0IGNvbnN0IFNUUklQRV9VUEVfQ0xJRU5UX0FQSV9WRVJTSU9OID0gJzIwMjAtMDMtMDI7YWxpcGF5X2JldGE9djE7bGlua19iZXRhPXYxJztcbiIsImltcG9ydCB7IFBheW1lbnRNZXRob2QgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuLyoqXG4gKiBJbml0aWFsaXphdGlvbiBvcHRpb25zLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUNvbmZpZ3VyYXRpb25PcHRpb25zIHtcbiAgICAvKipcbiAgICAgKiBGb3IgdXNhZ2Ugd2l0aCBbQ29ubmVjdF0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvY29ubmVjdCkgb25seS5cbiAgICAgKiBTcGVjaWZ5aW5nIGEgY29ubmVjdGVkIGFjY291bnQgSUQgKGUuZy4sIGFjY3RfMjRCRk1wSjFzdlI1QTg5aykgYWxsb3dzIHlvdSB0byBwZXJmb3JtIGFjdGlvbnMgb24gYmVoYWxmIG9mIHRoYXQgYWNjb3VudC5cbiAgICAgKi9cbiAgICBzdHJpcGVBY2NvdW50Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgeW91ciBhY2NvdW50J3MgW0FQSSB2ZXJzaW9uXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvdmVyc2lvbmluZylcbiAgICAgKi9cbiAgICBhcGlWZXJzaW9uPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQSBsb2NhbGUgdXNlZCB0byBnbG9iYWxseSBjb25maWd1cmUgbG9jYWxpemF0aW9uIGluIFN0cmlwZS4gU2V0dGluZyB0aGUgbG9jYWxlIGhlcmUgd2lsbCBsb2NhbGl6ZSBlcnJvciBzdHJpbmdzIGZvciBhbGwgU3RyaXBlLmpzIG1ldGhvZHMuIEl0IHdpbGwgYWxzbyBjb25maWd1cmUgdGhlIGxvY2FsZSBmb3IgRWxlbWVudHMgYW5kIENoZWNrb3V0LiBEZWZhdWx0IGlzIGF1dG8gKFN0cmlwZSBkZXRlY3RzIHRoZSBsb2NhbGUgb2YgdGhlIGJyb3dzZXIpLlxuICAgICAqIE5vdGUgdGhhdCBDaGVja291dCBzdXBwb3J0cyBhIHNsaWdodGx5IGRpZmZlcmVudCBzZXQgb2YgbG9jYWxlcyB0aGFuIFN0cmlwZS5qcy5cbiAgICAgKi9cbiAgICBsb2NhbGU/OiBzdHJpbmc7XG5cbiAgICBiZXRhcz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUFkZGl0aW9uYWxBY3Rpb25EYXRhIHtcbiAgICByZWRpcmVjdF91cmw/OiBzdHJpbmc7XG4gICAgaW50ZW50Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUFkZGl0aW9uYWxBY3Rpb24ge1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBkYXRhOiBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uRGF0YTtcbn1cblxuLyoqXG4gKiBUaGUgUGF5bWVudEludGVudCBvYmplY3QuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGF5bWVudEludGVudCB7XG4gICAgLyoqXG4gICAgICogVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBvYmplY3QuXG4gICAgICovXG4gICAgaWQ6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBjbGllbnQgc2VjcmV0IG9mIHRoZSBQYXltZW50SW50ZW50LiBVc2VkIGZvciBjbGllbnQtc2lkZSByZXRyaWV2YWwgdXNpbmcgYSBwdWJsaXNoYWJsZSBrZXkuXG4gICAgICovXG4gICAgY2xpZW50X3NlY3JldD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFN0YXR1cyBvZiB0aGlzIFBheW1lbnRJbnRlbnQuIFJlYWQgbW9yZSBhYm91dCBlYWNoIFBheW1lbnRJbnRlbnQgW3N0YXR1c10oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvcGF5bWVudHMvaW50ZW50cyNpbnRlbnQtc3RhdHVzZXMpLlxuICAgICAqL1xuICAgIHN0YXR1czogJ3N1Y2NlZWRlZCcgfCBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGF5bWVudCBlcnJvciBlbmNvdW50ZXJlZCBpbiB0aGUgcHJldmlvdXMgUGF5bWVudEludGVudCBjb25maXJtYXRpb24uIEl0IHdpbGwgYmUgY2xlYXJlZCBpZiB0aGUgUGF5bWVudEludGVudCBpcyBsYXRlciB1cGRhdGVkIGZvciBhbnkgcmVhc29uLlxuICAgICAqL1xuICAgIGxhc3RfcGF5bWVudF9lcnJvcjogTGFzdFBheW1lbnRFcnJvciB8IG51bGw7XG5cbiAgICBwYXltZW50X21ldGhvZF9vcHRpb25zPzogU3RyaXBlUElQYXltZW50TWV0aG9kT3B0aW9ucztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVQSVBheW1lbnRNZXRob2RTYXZpbmdPcHRpb25zIHtcbiAgICBzZXR1cF9mdXR1cmVfdXNhZ2U/OiBTdHJpcGVJbnN0cnVtZW50U2V0dXBGdXR1cmVVc2FnZTtcbiAgICB2ZXJpZmljYXRpb25fbWV0aG9kPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZVBJUGF5bWVudE1ldGhvZE9wdGlvbnMge1xuICAgIGNhcmQ/OiBTdHJpcGVQSVBheW1lbnRNZXRob2RTYXZpbmdPcHRpb25zO1xuICAgIHVzX2JhbmtfYWNjb3VudD86IFN0cmlwZVBJUGF5bWVudE1ldGhvZFNhdmluZ09wdGlvbnM7XG59XG5cbi8qKlxuICogVGhlIHBheW1lbnQgZXJyb3IgZW5jb3VudGVyZWQgaW4gdGhlIHByZXZpb3VzIFBheW1lbnRJbnRlbnQgY29uZmlybWF0aW9uLiBJdCB3aWxsIGJlIGNsZWFyZWQgaWYgdGhlIFBheW1lbnRJbnRlbnQgaXMgbGF0ZXIgdXBkYXRlZCBmb3IgYW55IHJlYXNvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMYXN0UGF5bWVudEVycm9yIHtcbiAgICAvKipcbiAgICAgKiBBIGh1bWFuLXJlYWRhYmxlIG1lc3NhZ2UgcHJvdmlkaW5nIG1vcmUgZGV0YWlscyBhYm91dCB0aGUgZXJyb3IuIEZvciBjYXJkIGVycm9ycywgdGhlc2UgbWVzc2FnZXMgY2FuIGJlIHNob3duIHRvIHlvdXIgdXNlcnMuXG4gICAgICovXG4gICAgbWVzc2FnZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBUaGlzIG9iamVjdCBpcyB1c2VkIHRvIHBhc3MgY3VzdG9tIGZvbnRzIHdoZW4gY3JlYXRpbmcgYW4gW0VsZW1lbnRzXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9lbGVtZW50c19vYmplY3QvY3JlYXRlKSBvYmplY3QuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ3NzRm9udFNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQSByZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgcG9pbnRpbmcgdG8gYSBDU1MgZmlsZSB3aXRoIFtAZm9udC1mYWNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvQGZvbnQtZmFjZSkgZGVmaW5pdGlvbnMsIGZvciBleGFtcGxlOlxuICAgICAqIGBodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9T3BlbitTYW5zYFxuICAgICAqIE5vdGUgdGhhdCBpZiB5b3UgYXJlIHVzaW5nIGEgW2NvbnRlbnQgc2VjdXJpdHkgcG9saWN5XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0hlYWRlcnMvQ29udGVudC1TZWN1cml0eS1Qb2xpY3kpIChDU1ApLFxuICAgICAqIFthZGRpdGlvbmFsIGRpcmVjdGl2ZXNdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3NlY3VyaXR5I2NvbnRlbnQtc2VjdXJpdHktcG9saWN5KSBtYXkgYmUgbmVjZXNzYXJ5LlxuICAgICAqL1xuICAgIGNzc1NyYzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFRoaXMgb2JqZWN0IGlzIHVzZWQgdG8gcGFzcyBjdXN0b20gZm9udHMgd2hlbiBjcmVhdGluZyBhbiBbRWxlbWVudHNdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2VsZW1lbnRzX29iamVjdC9jcmVhdGUpIG9iamVjdC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDdXN0b21Gb250U291cmNlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSB0byBnaXZlIHRoZSBmb250LlxuICAgICAqL1xuICAgIGZhbWlseTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQSB2YWxpZCBbc3JjXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvQGZvbnQtZmFjZS9zcmMpIHZhbHVlIHBvaW50aW5nIHRvIHlvdXJcbiAgICAgKiBjdXN0b20gZm9udCBmaWxlLiBUaGlzIGlzIHVzdWFsbHkgKHRob3VnaCBub3QgYWx3YXlzKSBhIGxpbmsgdG8gYSBmaWxlIHdpdGggYSAud29mZiAsIC5vdGYsIG9yIC5zdmcgc3VmZml4LlxuICAgICAqL1xuICAgIHNyYzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQSB2YWxpZCBbZm9udC1kaXNwbGF5XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvQGZvbnQtZmFjZS9mb250LWRpc3BsYXkpIHZhbHVlLlxuICAgICAqL1xuICAgIGRpc3BsYXk/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBPbmUgb2Ygbm9ybWFsLCBpdGFsaWMsIG9ibGlxdWUuIERlZmF1bHRzIHRvIG5vcm1hbC5cbiAgICAgKi9cbiAgICBzdHlsZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgdmFsaWQgW3VuaWNvZGUtcmFuZ2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9AZm9udC1mYWNlL3VuaWNvZGUtcmFuZ2UpIHZhbHVlLlxuICAgICAqL1xuICAgIHVuaWNvZGVSYW5nZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgdmFsaWQgW2ZvbnQtd2VpZ2h0XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvZm9udC13ZWlnaHQpLiBOb3RlIHRoYXQgdGhpcyBpcyBhIHN0cmluZywgbm90IGEgbnVtYmVyLlxuICAgICAqL1xuICAgIHdlaWdodD86IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgU3RyaXBlQ3VzdG9tRm9udCA9IENzc0ZvbnRTb3VyY2UgfCBDdXN0b21Gb250U291cmNlO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUVycm9yIHtcbiAgICAvKipcbiAgICAgKiB0eXBlIG9mIGVycm9yLiBXaGVuIHRoZSBlcnJvciB0eXBlIGlzIGNhcmRfZXJyb3Igb3IgdmFsaWRhdGlvbl9lcnJvciwgeW91IGNhbiBkaXNwbGF5IHRoZSBlcnJvciBtZXNzYWdlIGluIGVycm9yLm1lc3NhZ2UgZGlyZWN0bHkgdG8geW91ciB1c2VyLlxuICAgICAqL1xuICAgIHR5cGU6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBBIGh1bWFuLXJlYWRhYmxlIG1lc3NhZ2UgcHJvdmlkaW5nIG1vcmUgZGV0YWlscyBhYm91dCB0aGUgZXJyb3IuIEZvciBjYXJkIGVycm9ycywgdGhlc2UgbWVzc2FnZXMgY2FuIGJlIHNob3duIHRvIHlvdXIgdXNlcnMuXG4gICAgICovXG4gICAgbWVzc2FnZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBQYXltZW50SW50ZW50IG9iamVjdC5cbiAgICAgKi9cbiAgICBwYXltZW50X2ludGVudDogUGF5bWVudEludGVudDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVFbGVtZW50IHtcbiAgICAvKipcbiAgICAgKiBUaGUgYGVsZW1lbnQubW91bnRgIG1ldGhvZCBhdHRhY2hlcyB5b3VyIGVsZW1lbnQgdG8gdGhlIERPTS5cbiAgICAgKi9cbiAgICBtb3VudChkb21FbGVtZW50OiBzdHJpbmcgfCBIVE1MRWxlbWVudCk6IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBlbGVtZW50IGZyb20gdGhlIERPTSBhbmQgZGVzdHJveXMgaXQuXG4gICAgICogQSBkZXN0cm95ZWQgZWxlbWVudCBjYW4gbm90IGJlIHJlLWFjdGl2YXRlZCBvciByZS1tb3VudGVkIHRvIHRoZSBET00uXG4gICAgICovXG4gICAgZGVzdHJveSgpOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogVW5tb3VudHMgdGhlIGVsZW1lbnQgZnJvbSB0aGUgRE9NLlxuICAgICAqIENhbGwgYGVsZW1lbnQubW91bnRgIHRvIHJlLWF0dGFjaCBpdCB0byB0aGUgRE9NLlxuICAgICAqL1xuICAgIHVubW91bnQoKTogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjaGFuZ2UgZXZlbnQgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIEVsZW1lbnQncyB2YWx1ZSBjaGFuZ2VzLiBUaGUgZXZlbnQgcGF5bG9hZCBhbHdheXMgY29udGFpbnMgY2VydGFpbiBrZXlzLFxuICAgICAqIGluIGFkZGl0aW9uIHRvIHNvbWUgRWxlbWVudC1zcGVjaWZpYyBrZXlzLlxuICAgICAqIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2VsZW1lbnQvZXZlbnRzL29uX2NoYW5nZT90eXBlPXBheW1lbnRFbGVtZW50XG4gICAgICovXG4gICAgb24oZXZlbnQ6IFN0cmlwZUVsZW1lbnRFdmVudCwgaGFuZGxlcjogKGV2ZW50OiBTdHJpcGVFdmVudFR5cGUpID0+IHZvaWQpOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb3B0aW9ucyB0aGUgUGF5bWVudCBFbGVtZW50IHdhcyBpbml0aWFsaXplZCB3aXRoLiBVcGRhdGVzIGFyZSBtZXJnZWQgaW50byB0aGUgZXhpc3RpbmcgY29uZmlndXJhdGlvbi5cbiAgICAgKiBodHRwczovL2RvY3Muc3RyaXBlLmNvbS9qcy9lbGVtZW50c19vYmplY3QvdXBkYXRlX3BheW1lbnRfZWxlbWVudFxuICAgICAqL1xuICAgIHVwZGF0ZShvcHRpb25zPzogU3RyaXBlRWxlbWVudHNDcmVhdGVPcHRpb25zKTogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGNvbGxhcHNlcyB0aGUgUGF5bWVudCBFbGVtZW50IGludG8gYSByb3cgb2YgcGF5bWVudCBtZXRob2QgdGFicy5cbiAgICAgKiBodHRwczovL2RvY3Muc3RyaXBlLmNvbS9qcy9lbGVtZW50c19vYmplY3QvY29sbGFwc2VfcGF5bWVudF9lbGVtZW50XG4gICAgICovXG4gICAgY29sbGFwc2UoKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVFdmVudCB7XG4gICAgY29tcGxldGU6IGJvb2xlYW47XG4gICAgZWxlbWVudFR5cGU6IHN0cmluZztcbiAgICBlbXB0eTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVDdXN0b21lckV2ZW50IGV4dGVuZHMgU3RyaXBlRXZlbnQge1xuICAgIGNvbGxhcHNlZD86IGJvb2xlYW47XG4gICAgYXV0aGVudGljYXRlZDogYm9vbGVhbjtcbiAgICB2YWx1ZToge1xuICAgICAgICBlbWFpbDogc3RyaW5nO1xuICAgIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlU2hpcHBpbmdFdmVudCBleHRlbmRzIFN0cmlwZUV2ZW50IHtcbiAgICBtb2RlPzogc3RyaW5nO1xuICAgIGlzTmV3QWRkcmVzcz86IGJvb2xlYW47XG4gICAgcGhvbmVGaWVsZFJlcXVpcmVkOiBib29sZWFuO1xuICAgIHZhbHVlOiB7XG4gICAgICAgIGFkZHJlc3M6IEFkZHJlc3M7XG4gICAgICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgICAgIGZpcnN0TmFtZT86IHN0cmluZztcbiAgICAgICAgbGFzdE5hbWU/OiBzdHJpbmc7XG4gICAgICAgIHBob25lPzogc3RyaW5nO1xuICAgIH07XG4gICAgZmllbGRzPzoge1xuICAgICAgICBwaG9uZTogc3RyaW5nO1xuICAgIH07XG4gICAgZGlzcGxheT86IHtcbiAgICAgICAgbmFtZTogc3RyaW5nO1xuICAgIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlUGF5bWVudEV2ZW50IGV4dGVuZHMgU3RyaXBlRXZlbnQge1xuICAgIHZhbHVlOiB7XG4gICAgICAgIHR5cGU6IFN0cmlwZVBheW1lbnRNZXRob2RUeXBlO1xuICAgIH07XG4gICAgY29sbGFwc2VkPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBZGRyZXNzIHtcbiAgICBjaXR5OiBzdHJpbmc7XG4gICAgY291bnRyeTogc3RyaW5nO1xuICAgIGxpbmUxOiBzdHJpbmc7XG4gICAgbGluZTI/OiBzdHJpbmc7XG4gICAgcG9zdGFsX2NvZGU6IHN0cmluZztcbiAgICBzdGF0ZTogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBTdHJpcGVFdmVudFR5cGUgPVxuICAgIHwgU3RyaXBlU2hpcHBpbmdFdmVudFxuICAgIHwgU3RyaXBlQ3VzdG9tZXJFdmVudFxuICAgIHwgU3RyaXBlUGF5bWVudEV2ZW50XG4gICAgfCBTdHJpcGVMaW5rVjJFdmVudDtcblxuLyoqXG4gKiBPYmplY3QgZGVmaW5pdGlvbiBmb3IgcGFydCBvZiB0aGUgZGF0YSBzZW50IHRvIGNvbmZpcm0gdGhlIFBheW1lbnRJbnRlbnQuXG4gKiBodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9pbnRlbnRzL2NvbmZpcm0jY29uZmlybV9wYXltZW50X2ludGVudC1zaGlwcGluZ1xuICovXG5leHBvcnQgdHlwZSBBZGRyZXNzT3B0aW9ucyA9IFBhcnRpYWw8QWRkcmVzcz47XG5cbi8qKlxuICogT2JqZWN0IGRlZmluaXRpb24gZm9yIHBhcnQgb2YgdGhlIGRhdGEgc2VudCB0byBjb25maXJtIHRoZSBQYXltZW50SW50ZW50LlxuICogaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvZWxlbWVudHNfb2JqZWN0L2NyZWF0ZV9wYXltZW50X2VsZW1lbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBZGRyZXNzUHJvcGVydGllcyB7XG4gICAgY2l0eT86IEF1dG9Pck5ldmVyO1xuICAgIGNvdW50cnk/OiBBdXRvT3JOZXZlcjtcbiAgICBzdGF0ZT86IEF1dG9Pck5ldmVyO1xuICAgIHBvc3RhbENvZGU/OiBBdXRvT3JOZXZlcjtcbiAgICBsaW5lMT86IEF1dG9Pck5ldmVyO1xuICAgIGxpbmUyPzogQXV0b09yTmV2ZXI7XG59XG5cbi8qKlxuICogT2JqZWN0IGRlZmluaXRpb24gZm9yIHBhcnQgb2YgdGhlIGRhdGEgc2VudCB0byBjb25maXJtIHRoZSBQYXltZW50SW50ZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJpbGxpbmdEZXRhaWxzT3B0aW9ucyB7XG4gICAgbmFtZT86IHN0cmluZztcbiAgICBlbWFpbD86IHN0cmluZztcbiAgICBhZGRyZXNzPzogQWRkcmVzc09wdGlvbnM7XG4gICAgcGhvbmU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogT2JqZWN0IGRlZmluaXRpb24gZm9yIHBhcnQgb2YgdGhlIGRhdGEgc2VudCB0byBjb25maXJtIHRoZSBQYXltZW50SW50ZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJpbGxpbmdEZXRhaWxzUHJvcGVydGllcyB7XG4gICAgbmFtZT86IEF1dG9Pck5ldmVyO1xuICAgIGVtYWlsPzogQXV0b09yTmV2ZXI7XG4gICAgYWRkcmVzcz86IEF1dG9Pck5ldmVyIHwgQWRkcmVzc1Byb3BlcnRpZXM7XG4gICAgcGhvbmU/OiBBdXRvT3JOZXZlcjtcbn1cblxuLyoqXG4gKiBPYmplY3QgZGVmaW5pdGlvbiBmb3IgcGFydCBvZiB0aGUgZGF0YSBzZW50IHRvIGNvbmZpcm0gdGhlIFBheW1lbnRJbnRlbnQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGF5bWVudE1ldGhvZERhdGFPcHRpb25zIHtcbiAgICBiaWxsaW5nX2RldGFpbHM6IEJpbGxpbmdEZXRhaWxzT3B0aW9ucztcbiAgICBhbGxvd19yZWRpc3BsYXk/OiAnYWx3YXlzJyB8ICdsaW1pdGVkJyB8ICd1bnNwZWNpZmllZCc7XG59XG5cbi8qKlxuICogUGFyYW1ldGVycyB0aGF0IHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSBTdHJpcGUgQVBJIHRvIGNvbmZpcm0gdGhlIFBheW1lbnRJbnRlbnQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQ29uZmlybVBhcmFtcyB7XG4gICAgLypcbiAgICAgKiBJZiB5b3UgYXJlIFtoYW5kbGluZyBuZXh0IGFjdGlvbnMgeW91cnNlbGZdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3BheW1lbnRzL3BheW1lbnQtaW50ZW50cy92ZXJpZnlpbmctc3RhdHVzI25leHQtYWN0aW9ucyksIHBhc3MgaW4gYSByZXR1cm5fdXJsLiBJZiB0aGUgc3Vic2VxdWVudCBhY3Rpb25cbiAgICAgKiBpcyByZWRpcmVjdF90b191cmwsIHRoaXMgVVJMIHdpbGwgYmUgdXNlZCBvbiB0aGUgcmV0dXJuIHBhdGggZm9yIHRoZSByZWRpcmVjdC5cbiAgICAgKlxuICAgICAqIEByZWNvbW1lbmRlZFxuICAgICAqL1xuICAgIHJldHVybl91cmw/OiBzdHJpbmc7XG4gICAgcGF5bWVudF9tZXRob2RfZGF0YT86IFBheW1lbnRNZXRob2REYXRhT3B0aW9ucztcbn1cblxuLyoqXG4gKiBEYXRhIHRvIGJlIHNlbnQgd2l0aCBhIGBzdHJpcGUuY29uZmlybVBheW1lbnRgIHJlcXVlc3QuXG4gKiBSZWZlciB0byB0aGUgW1BheW1lbnQgSW50ZW50cyBBUEldKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL3BheW1lbnRfaW50ZW50cy9jb25maXJtX3BheW1lbnQpIGZvciBhIGZ1bGwgbGlzdCBvZiBwYXJhbWV0ZXJzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUNvbmZpcm1QYXltZW50RGF0YSB7XG4gICAgLyoqXG4gICAgICogVGhlIEVsZW1lbnRzIGluc3RhbmNlIHRoYXQgd2FzIHVzZWQgdG8gY3JlYXRlIHRoZSBQYXltZW50IEVsZW1lbnQuXG4gICAgICovXG4gICAgZWxlbWVudHM6IFN0cmlwZUVsZW1lbnRzO1xuXG4gICAgLyoqXG4gICAgICogUGFyYW1ldGVycyB0aGF0IHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSBTdHJpcGUgQVBJIHRvIGNvbmZpcm0gdGhlIFBheW1lbnRJbnRlbnQuXG4gICAgICovXG4gICAgY29uZmlybVBhcmFtcz86IFN0cmlwZUNvbmZpcm1QYXJhbXM7XG5cbiAgICAvKipcbiAgICAgKiBCeSBkZWZhdWx0LCBjb25maXJtUGF5bWVudCB3aWxsIGFsd2F5cyByZWRpcmVjdCB0byB5b3VyIHJldHVybl91cmwgYWZ0ZXIgYSBzdWNjZXNzZnVsIGNvbmZpcm1hdGlvbi5cbiAgICAgKiBJZiB5b3Ugc2V0IHJlZGlyZWN0OiBcImlmX3JlcXVpcmVkXCIsIHRoZW4gY29uZmlybVBheW1lbnQgd2lsbCBvbmx5IHJlZGlyZWN0IGlmIHlvdXIgdXNlciBjaG9vc2VzIGEgcmVkaXJlY3QtYmFzZWQgcGF5bWVudCBtZXRob2QuXG4gICAgICovXG4gICAgcmVkaXJlY3Q/OiBTdHJpcGVTdHJpbmdDb25zdGFudHMuQUxXQVlTIHwgU3RyaXBlU3RyaW5nQ29uc3RhbnRzLklGX1JFUVVJUkVEO1xuXG4gICAgY2xpZW50U2VjcmV0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpZWxkc09wdGlvbnMge1xuICAgIGJpbGxpbmdEZXRhaWxzPzogQXV0b09yTmV2ZXIgfCBCaWxsaW5nRGV0YWlsc1Byb3BlcnRpZXM7XG4gICAgcGhvbmU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2FsbGV0T3B0aW9ucyB7XG4gICAgYXBwbGVQYXk/OiBBdXRvT3JOZXZlcjtcbiAgICBnb29nbGVQYXk/OiBBdXRvT3JOZXZlcjtcbiAgICBsaW5rPzogQXV0b09yTmV2ZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGVybU9wdGlvbnMge1xuICAgIGNhcmQ/OiBBdXRvT3JOZXZlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVMYXlvdXRPcHRpb25zIHtcbiAgICB0eXBlPzogJ2FjY29yZGlvbicgfCAndGFicyc7XG4gICAgbGlua0luQWNjb3JkaW9uPzogYm9vbGVhbjtcbiAgICBkZWZhdWx0Q29sbGFwc2VkPzogYm9vbGVhbjtcbiAgICByYWRpb3M/OiBib29sZWFuO1xuICAgIHNwYWNlZEFjY29yZGlvbkl0ZW1zPzogYm9vbGVhbjtcbiAgICB2aXNpYmxlQWNjb3JkaW9uSXRlbXNDb3VudD86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBBbGwgYXZhaWxhYmxlIG9wdGlvbnMgYXJlIGhlcmUgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvZWxlbWVudHNfb2JqZWN0L2NyZWF0ZV9wYXltZW50X2VsZW1lbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVFbGVtZW50c0NyZWF0ZU9wdGlvbnMge1xuICAgIG1vZGU/OiBzdHJpbmc7XG4gICAgZmllbGRzPzogRmllbGRzT3B0aW9ucztcbiAgICB3YWxsZXRzPzogV2FsbGV0T3B0aW9ucztcbiAgICBhbGxvd2VkQ291bnRyaWVzPzogc3RyaW5nW107XG4gICAgZGVmYXVsdFZhbHVlcz86IFNoaXBwaW5nRGVmYXVsdFZhbHVlcyB8IEN1c3RvbWVyRGVmYXVsdFZhbHVlcyB8IFBheW1lbnREZWZhdWx0VmFsdWVzO1xuICAgIHZhbGlkYXRpb24/OiB2YWxpZGF0aW9uRWxlbWVudDtcbiAgICBkaXNwbGF5PzogeyBuYW1lOiBTdHJpcGVEaXNwbGF5TmFtZSB9O1xuICAgIHRlcm1zPzogVGVybU9wdGlvbnM7XG4gICAgbGF5b3V0PzogU3RyaXBlTGF5b3V0T3B0aW9ucztcbiAgICBwYXltZW50TWV0aG9kT3JkZXI/OiBzdHJpbmdbXTtcbiAgICAvLyAgTGluayB2MiBvcHRpb25zXG4gICAgbGluZUl0ZW1zPzogTGluZUl0ZW1bXTtcbiAgICBhbGxvd2VkU2hpcHBpbmdDb3VudHJpZXM/OiBzdHJpbmdbXTtcbiAgICBzaGlwcGluZ0FkZHJlc3NSZXF1aXJlZD86IGJvb2xlYW47XG4gICAgc2hpcHBpbmdSYXRlcz86IFN0cmlwZUxpbmtWMlNoaXBwaW5nUmF0ZVtdO1xuICAgIGJpbGxpbmdBZGRyZXNzUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIGVtYWlsUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIHBob25lTnVtYmVyUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIHBheW1lbnRNZXRob2RzPzoge1xuICAgICAgICBsaW5rOiBTdHJpcGVTdHJpbmdDb25zdGFudHMuQVVUTztcbiAgICAgICAgYXBwbGVQYXk6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUjtcbiAgICAgICAgZ29vZ2xlUGF5OiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVI7XG4gICAgICAgIGFtYXpvblBheTogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSO1xuICAgICAgICBwYXlwYWw6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUjtcbiAgICAgICAga2xhcm5hOiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVI7XG4gICAgfTtcbiAgICBidXR0b25IZWlnaHQ/OiBudW1iZXI7XG4gICAgc2F2ZVBheW1lbnRNZXRob2Q/OiBTdHJpcGVTYXZlUGF5bWVudE1ldGhvZDtcbn1cblxuaW50ZXJmYWNlIHZhbGlkYXRpb25FbGVtZW50IHtcbiAgICBwaG9uZT86IHZhbGlkYXRpb25SZXF1aXJlZEVsZW1lbnQ7XG59XG5cbmludGVyZmFjZSB2YWxpZGF0aW9uUmVxdWlyZWRFbGVtZW50IHtcbiAgICByZXF1aXJlZD86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFBheW1lbnREZWZhdWx0VmFsdWVzIHtcbiAgICBzYXZlUGF5bWVudE1ldGhvZD86IGJvb2xlYW47XG4gICAgYmlsbGluZ0RldGFpbHM/OiBCaWxsaW5nRGV0YWlsc09wdGlvbnM7XG59XG5cbmludGVyZmFjZSBTaGlwcGluZ0RlZmF1bHRWYWx1ZXMge1xuICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgZmlyc3ROYW1lPzogc3RyaW5nO1xuICAgIGxhc3ROYW1lPzogc3RyaW5nO1xuICAgIHBob25lOiBzdHJpbmc7XG4gICAgYWRkcmVzczogQWRkcmVzcztcbn1cblxuLypcbkRlY2lkZSB3aGljaCBtb2RlIHlvdSBhcmUgZ29pbmcgdG8gdXNlIHRoZSBBZGRyZXNzIEVsZW1lbnRcblNoaXBwaW5nOiBpcyB1c2VkIHdpdGggdGhlIFBheW1lbnQgRWxlbWVudCBhbmQgTGluayBBdXRoZW50aWNhdGlvbiBFbGVtZW50LCBpdCB3aWxsIGF1dG9tYXRpY2FsbHkgcGFzcyBzaGlwcGluZ1xuaW5mb3JtYXRpb24gd2hlbiBjb25maXJtaW5nIFBheW1lbnQgSW50ZW50IG9yIFNldHVwIEludGVudC5cbkJpbGxpbmc6IGlzIHVzZWQgd2l0aCB0aGUgUGF5bWVudCBFbGVtZW50LCBpdCB3aWxsIGF1dG9tYXRpY2FsbHkgcGFzcyB0aGUgYmlsbGluZyBpbmZvcm1hdGlvbiB3aGVuIGNvbmZpcm1pbmdcblBheW1lbnQgSW50ZW50IG9yIFNldHVwIEludGVudC5cbiAqL1xuZXhwb3J0IGVudW0gU3RyaXBlRm9ybU1vZGUge1xuICAgIFNISVBQSU5HID0gJ3NoaXBwaW5nJyxcbiAgICBCSUxMSU5HID0gJ2JpbGxpbmcnLFxufVxuXG5leHBvcnQgZW51bSBTdHJpcGVEaXNwbGF5TmFtZSB7XG4gICAgU1BMSVQgPSAnc3BsaXQnLFxuICAgIEZVTEwgPSAnZnVsbCcsXG4gICAgT1JHQU5JWkFUSU9OID0gJ29yZ2FuaXphdGlvbicsXG59XG5cbmludGVyZmFjZSBDdXN0b21lckRlZmF1bHRWYWx1ZXMge1xuICAgIG1vZGU6IFN0cmlwZUZvcm1Nb2RlO1xuICAgIGVtYWlsOiBzdHJpbmc7XG4gICAgYWxsb3dlZENvdW50cmllcz86IHN0cmluZ1tdO1xuICAgIGRpc3BsYXk/OiB7XG4gICAgICAgIG5hbWU6IFN0cmlwZURpc3BsYXlOYW1lO1xuICAgIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlRWxlbWVudHMge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gRWxlbWVudHMgaW5zdGFuY2UsIHdoaWNoIG1hbmFnZXMgYSBncm91cCBvZiBlbGVtZW50cy5cbiAgICAgKiBodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9lbGVtZW50c19vYmplY3QvY3JlYXRlXG4gICAgICovXG4gICAgY3JlYXRlKGVsZW1lbnRUeXBlOiBTdHJpcGVFbGVtZW50VHlwZSwgb3B0aW9ucz86IFN0cmlwZUVsZW1lbnRzQ3JlYXRlT3B0aW9ucyk6IFN0cmlwZUVsZW1lbnQ7XG5cbiAgICAvKipcbiAgICAgKiBMb29rcyB1cCBhIHByZXZpb3VzbHkgY3JlYXRlZCBlbGVtZW50LlxuICAgICAqIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2VsZW1lbnRzX29iamVjdC9nZXRfcGF5bWVudF9lbGVtZW50IG9yXG4gICAgICogaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvZWxlbWVudHNfb2JqZWN0L2dldF9saW5rX2F1dGhlbnRpY2F0aW9uX2VsZW1lbnRcbiAgICAgKi9cbiAgICBnZXRFbGVtZW50KGVsZW1lbnRUeXBlOiBTdHJpcGVFbGVtZW50VHlwZSk6IFN0cmlwZUVsZW1lbnQgfCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyBvcHRpb25zIG9uIGFuIGV4aXN0aW5nIGluc3RhbmNlIG9mIEVsZW1lbnRzLlxuICAgICAqIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2VsZW1lbnRzX29iamVjdC91cGRhdGVcbiAgICAgKi9cbiAgICB1cGRhdGUob3B0aW9ucz86IFN0cmlwZVVwZGF0ZUVsZW1lbnRzT3B0aW9ucyk6IFN0cmlwZUVsZW1lbnQ7XG5cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIHVwZGF0ZXMgZnJvbSB0aGUgYXNzb2NpYXRlZCBQYXltZW50SW50ZW50IG9yIFNldHVwSW50ZW50IG9uIGFuIGV4aXN0aW5nIGluc3RhbmNlIG9mIEVsZW1lbnRzLFxuICAgICAqIGFuZCByZWZsZWN0cyB0aGVzZSB1cGRhdGVzIGluIHRoZSBQYXltZW50IEVsZW1lbnQuXG4gICAgICogaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvZWxlbWVudHNfb2JqZWN0L2ZldGNoX3VwZGF0ZXNcbiAgICAgKi9cbiAgICBmZXRjaFVwZGF0ZXMoKTogUHJvbWlzZTx2b2lkPjtcbn1cblxuLyoqXG4gKiBBbGwgYXZhaWxhYmxlIG9wdGlvbnMgYXJlIGhlcmUgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3Mvc3RyaXBlLWpzL2FwcGVhcmFuY2UtYXBpI3N1cHBvcnRlZC1jc3MtcHJvcGVydGllc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUFwcGVhcmFuY2VPcHRpb25zIHtcbiAgICB2YXJpYWJsZXM/OiBSZWNvcmQ8c3RyaW5nLCBTdHJpcGVBcHBlYXJhbmNlVmFsdWVzPjtcblxuICAgIHJ1bGVzPzogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgU3RyaXBlQXBwZWFyYW5jZVZhbHVlcz4+O1xufVxuXG5leHBvcnQgdHlwZSBTdHJpcGVBcHBlYXJhbmNlVmFsdWVzID0gc3RyaW5nIHwgc3RyaW5nW10gfCBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlRWxlbWVudHNPcHRpb25zIHtcbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBjdXN0b20gZm9udHMsIHdoaWNoIGVsZW1lbnRzIGNyZWF0ZWQgZnJvbSB0aGUgRWxlbWVudHMgb2JqZWN0IGNhbiB1c2UuXG4gICAgICogRm9udHMgY2FuIGJlIHNwZWNpZmllZCBhcyBbQ3NzRm9udFNvdXJjZV0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvYXBwZW5kaXgvY3NzX2ZvbnRfc291cmNlX29iamVjdClcbiAgICAgKiBvciBbQ3VzdG9tRm9udFNvdXJjZV0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvYXBwZW5kaXgvY3VzdG9tX2ZvbnRfc291cmNlX29iamVjdCkgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBmb250cz86IFN0cmlwZUN1c3RvbUZvbnRbXTtcblxuICAgIC8qKlxuICAgICAqIEEgW2xvY2FsZV0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvYXBwZW5kaXgvc3VwcG9ydGVkX2xvY2FsZXMpIHRvIGRpc3BsYXkgcGxhY2Vob2xkZXJzIGFuZFxuICAgICAqIGVycm9yIHN0cmluZ3MgaW4uIERlZmF1bHQgaXMgYXV0byAoU3RyaXBlIGRldGVjdHMgdGhlIGxvY2FsZSBvZiB0aGUgYnJvd3NlcikuXG4gICAgICogU2V0dGluZyB0aGUgbG9jYWxlIGRvZXMgbm90IGFmZmVjdCB0aGUgYmVoYXZpb3Igb2YgcG9zdGFsIGNvZGUgdmFsaWRhdGlvbuKAlGEgdmFsaWQgcG9zdGFsIGNvZGVcbiAgICAgKiBmb3IgdGhlIGJpbGxpbmcgY291bnRyeSBvZiB0aGUgY2FyZCBpcyBzdGlsbCByZXF1aXJlZC5cbiAgICAgKi9cbiAgICBsb2NhbGU/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2xpZW50IHNlY3JldCBvZiB0aGlzIFBheW1lbnRJbnRlbnQuIFVzZWQgZm9yIGNsaWVudC1zaWRlIHJldHJpZXZhbCB1c2luZyBhIHB1Ymxpc2hhYmxlIGtleS5cbiAgICAgKiBUaGUgY2xpZW50IHNlY3JldCBjYW4gYmUgdXNlZCB0byBjb21wbGV0ZSBhIHBheW1lbnQgZnJvbSB5b3VyIGZyb250ZW5kLlxuICAgICAqIEl0IHNob3VsZCBub3QgYmUgc3RvcmVkLCBsb2dnZWQsIGVtYmVkZGVkIGluIFVSTHMsIG9yIGV4cG9zZWQgdG8gYW55b25lIG90aGVyIHRoYW4gdGhlIGN1c3RvbWVyLlxuICAgICAqIE1ha2Ugc3VyZSB0aGF0IHlvdSBoYXZlIFRMUyBlbmFibGVkIG9uIGFueSBwYWdlIHRoYXQgaW5jbHVkZXMgdGhlIGNsaWVudCBzZWNyZXQuXG4gICAgICogUmVmZXIgdG8gb3VyIGRvY3MgdG8gYWNjZXB0IGEgcGF5bWVudCBhbmQgbGVhcm4gYWJvdXQgaG93IGNsaWVudF9zZWNyZXQgc2hvdWxkIGJlIGhhbmRsZWQuXG4gICAgICovXG4gICAgY2xpZW50U2VjcmV0Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQSB0b2tlbiB0aGF0IHJlcHJlc2VudHMgdGhlIFN0cmlwZSBjdXN0b21lciBzZXNzaW9uLlxuICAgICAqIFN0cmlwZSBkb2N1bWVudGF0aW9uOiBodHRwczovL2RvY3Muc3RyaXBlLmNvbS9hcGkvY2hlY2tvdXQvc2Vzc2lvbnNcbiAgICAgKi9cbiAgICBjdXN0b21lclNlc3Npb25DbGllbnRTZWNyZXQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBNYXRjaCB0aGUgZGVzaWduIG9mIHlvdXIgc2l0ZSB3aXRoIHRoZSBhcHBlYXJhbmNlIG9wdGlvbi5cbiAgICAgKiBUaGUgbGF5b3V0IG9mIGVhY2ggRWxlbWVudCBzdGF5cyBjb25zaXN0ZW50LCBidXQgeW91IGNhbiBtb2RpZnkgY29sb3JzLCBmb250cywgYm9yZGVycywgcGFkZGluZywgYW5kIG1vcmUuXG4gICAgICovXG4gICAgYXBwZWFyYW5jZT86IFN0cmlwZUFwcGVhcmFuY2VPcHRpb25zO1xuXG4gICAgbW9kZT86IHN0cmluZztcbiAgICBhbW91bnQ/OiBudW1iZXI7XG4gICAgY3VycmVuY3k/OiBzdHJpbmc7XG4gICAgcGF5bWVudE1ldGhvZFR5cGVzPzogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlVXBkYXRlRWxlbWVudHNPcHRpb25zIHtcbiAgICAvKipcbiAgICAgKiBBIFtsb2NhbGVdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2FwcGVuZGl4L3N1cHBvcnRlZF9sb2NhbGVzKSB0byBkaXNwbGF5IHBsYWNlaG9sZGVycyBhbmRcbiAgICAgKiBlcnJvciBzdHJpbmdzIGluLiBEZWZhdWx0IGlzIGF1dG8gKFN0cmlwZSBkZXRlY3RzIHRoZSBsb2NhbGUgb2YgdGhlIGJyb3dzZXIpLlxuICAgICAqIFNldHRpbmcgdGhlIGxvY2FsZSBkb2VzIG5vdCBhZmZlY3QgdGhlIGJlaGF2aW9yIG9mIHBvc3RhbCBjb2RlIHZhbGlkYXRpb27igJRhIHZhbGlkIHBvc3RhbCBjb2RlXG4gICAgICogZm9yIHRoZSBiaWxsaW5nIGNvdW50cnkgb2YgdGhlIGNhcmQgaXMgc3RpbGwgcmVxdWlyZWQuXG4gICAgICovXG4gICAgbG9jYWxlPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogTWF0Y2ggdGhlIGRlc2lnbiBvZiB5b3VyIHNpdGUgd2l0aCB0aGUgYXBwZWFyYW5jZSBvcHRpb24uXG4gICAgICogVGhlIGxheW91dCBvZiBlYWNoIEVsZW1lbnQgc3RheXMgY29uc2lzdGVudCwgYnV0IHlvdSBjYW4gbW9kaWZ5IGNvbG9ycywgZm9udHMsIGJvcmRlcnMsIHBhZGRpbmcsIGFuZCBtb3JlLlxuICAgICAqL1xuICAgIGFwcGVhcmFuY2U/OiBTdHJpcGVBcHBlYXJhbmNlT3B0aW9ucztcbiAgICBtb2RlPzogc3RyaW5nO1xuICAgIGFtb3VudD86IG51bWJlcjtcbiAgICBjdXJyZW5jeT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVDbGllbnQge1xuICAgIC8qKlxuICAgICAqIFVzZSBjb25maXJtUGF5bWVudCB0byBjb25maXJtIGEgUGF5bWVudEludGVudCB1c2luZyBkYXRhIGNvbGxlY3RlZCBieSB0aGUgUGF5bWVudCBFbGVtZW50LlxuICAgICAqIFdoZW4gY2FsbGVkLCBjb25maXJtUGF5bWVudCB3aWxsIGF0dGVtcHQgdG8gY29tcGxldGUgYW55IHJlcXVpcmVkIGFjdGlvbnMsXG4gICAgICogc3VjaCBhcyBhdXRoZW50aWNhdGluZyB5b3VyIHVzZXIgYnkgZGlzcGxheWluZyBhIDNEUyBkaWFsb2cgb3IgcmVkaXJlY3RpbmcgdGhlbSB0byBhIGJhbmsgYXV0aG9yaXphdGlvbiBwYWdlLlxuICAgICAqL1xuICAgIGNvbmZpcm1QYXltZW50KG9wdGlvbnM6IFN0cmlwZUNvbmZpcm1QYXltZW50RGF0YSk6IFByb21pc2U8U3RyaXBlUmVzdWx0PjtcblxuICAgIC8qKlxuICAgICAqIFdoZW4gY2FsbGVkLCBpdCB3aWxsIGNvbmZpcm0gdGhlIFBheW1lbnRJbnRlbnQgd2l0aCBkYXRhIHlvdSBwcm92aWRlIGFuZCBjYXJyeSBvdXQgM0RTIG9yIG90aGVyIG5leHQgYWN0aW9ucyBpZiB0aGV5IGFyZSByZXF1aXJlZC5cbiAgICAgKi9cbiAgICBjb25maXJtQ2FyZFBheW1lbnQoY2xpZW50U2VjcmV0OiBzdHJpbmcpOiBQcm9taXNlPFN0cmlwZVJlc3VsdD47XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSBhIFBheW1lbnRJbnRlbnQgdXNpbmcgaXRzIGNsaWVudCBzZWNyZXQuXG4gICAgICovXG4gICAgcmV0cmlldmVQYXltZW50SW50ZW50KGNsaWVudFNlY3JldDogc3RyaW5nKTogUHJvbWlzZTxTdHJpcGVSZXN1bHQ+O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGBFbGVtZW50c2AgaW5zdGFuY2UsIHdoaWNoIG1hbmFnZXMgYSBncm91cCBvZiBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBlbGVtZW50cyhvcHRpb25zOiBTdHJpcGVFbGVtZW50c09wdGlvbnMpOiBTdHJpcGVFbGVtZW50cztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVSZXN1bHQge1xuICAgIHBheW1lbnRJbnRlbnQ/OiBQYXltZW50SW50ZW50O1xuICAgIGVycm9yPzogU3RyaXBlRXJyb3I7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlSG9zdFdpbmRvdyBleHRlbmRzIFdpbmRvdyB7XG4gICAgYmNTdHJpcGVDbGllbnQ/OiBTdHJpcGVDbGllbnQ7XG4gICAgYmNTdHJpcGVFbGVtZW50cz86IFN0cmlwZUVsZW1lbnRzO1xuICAgIFN0cmlwZT88VCA9IFN0cmlwZUNsaWVudD4oXG4gICAgICAgIHN0cmlwZVB1Ymxpc2hhYmxlS2V5OiBzdHJpbmcsXG4gICAgICAgIG9wdGlvbnM/OiBTdHJpcGVDb25maWd1cmF0aW9uT3B0aW9ucyxcbiAgICApOiBUO1xufVxuXG5leHBvcnQgZW51bSBTdHJpcGVQYXltZW50TWV0aG9kVHlwZSB7XG4gICAgQ3JlZGl0Q2FyZCA9ICdjYXJkJyxcbiAgICBMaW5rID0gJ2xpbmsnLFxuICAgIEVQUyA9ICdlcHMnLFxuICAgIEdSQUJQQVkgPSAnZ3JhYnBheScsXG4gICAgQkFOQ09OVEFDVCA9ICdiYW5jb250YWN0JyxcbiAgICBJREVBTCA9ICdpZGVhbCcsXG4gICAgQUxJUEFZID0gJ2FsaXBheScsXG4gICAgS0xBUk5BID0gJ2tsYXJuYScsXG4gICAgT0NTID0gJ29wdGltaXplZF9jaGVja291dCcsXG59XG5cbnR5cGUgQXV0b09yTmV2ZXIgPSBTdHJpcGVTdHJpbmdDb25zdGFudHMuQVVUTyB8IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUjtcblxuZXhwb3J0IGVudW0gU3RyaXBlU3RyaW5nQ29uc3RhbnRzIHtcbiAgICBORVZFUiA9ICduZXZlcicsXG4gICAgQVVUTyA9ICdhdXRvJyxcbiAgICBBTFdBWVMgPSAnYWx3YXlzJyxcbiAgICBQQVlNRU5UID0gJ3BheW1lbnQnLFxuICAgIElGX1JFUVVJUkVEID0gJ2lmX3JlcXVpcmVkJyxcbn1cblxuZXhwb3J0IGVudW0gU3RyaXBlRWxlbWVudFR5cGUge1xuICAgIFBBWU1FTlQgPSAncGF5bWVudCcsXG4gICAgQVVUSEVOVElDQVRJT04gPSAnbGlua0F1dGhlbnRpY2F0aW9uJyxcbiAgICBTSElQUElORyA9ICdhZGRyZXNzJyxcbiAgICBFWFBSRVNTX0NIRUNLT1VUID0gJ2V4cHJlc3NDaGVja291dCcsXG59XG5cbmV4cG9ydCBlbnVtIFN0cmlwZVBheW1lbnRJbnRlbnRTdGF0dXMge1xuICAgIFJFUVVJUkVTX1BBWU1FTlRfTUVUSE9EID0gJ3JlcXVpcmVzX3BheW1lbnRfbWV0aG9kJyxcbiAgICBSRVFVSVJFU19DT05GSVJNQVRJT04gPSAncmVxdWlyZXNfY29uZmlybWF0aW9uJyxcbiAgICBSRVFVSVJFU19BQ1RJT04gPSAncmVxdWlyZXNfYWN0aW9uJyxcbiAgICBQUk9DRVNTSU5HID0gJ3Byb2Nlc3NpbmcnLFxuICAgIFNVQ0NFRURFRCA9ICdzdWNjZWVkZWQnLFxuICAgIENBTkNFTEVEID0gJ2NhbmNlbGVkJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVQYXltZW50TWV0aG9kIGV4dGVuZHMgUGF5bWVudE1ldGhvZCB7XG4gICAgaW5pdGlhbGl6YXRpb25EYXRhOiBTdHJpcGVJbml0aWFsaXphdGlvbkRhdGE7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlSW5pdGlhbGl6YXRpb25EYXRhIHtcbiAgICBzdHJpcGVQdWJsaXNoYWJsZUtleTogc3RyaW5nO1xuICAgIHN0cmlwZUNvbm5lY3RlZEFjY291bnQ6IHN0cmluZztcbiAgICBzaG9wcGVyTGFuZ3VhZ2U6IHN0cmluZztcbiAgICBjdXN0b21lclNlc3Npb25Ub2tlbj86IHN0cmluZztcbiAgICBlbmFibGVMaW5rPzogYm9vbGVhbjtcbiAgICBhbGxvd1JlZGlzcGxheUZvclN0b3JlZEluc3RydW1lbnRzPzogYm9vbGVhbjtcbiAgICBjYXB0dXJlTWV0aG9kPzogJ2F1dG9tYXRpYycgfCAnbWFudWFsJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVFbGVtZW50VXBkYXRlT3B0aW9ucyB7XG4gICAgc2hvdWxkU2hvd1Rlcm1zPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uUmVxdWlyZWQge1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBkYXRhOiB7XG4gICAgICAgIHRva2VuPzogc3RyaW5nO1xuICAgICAgICByZWRpcmVjdF91cmw/OiBzdHJpbmc7XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uUmVzcG9uc2VCb2R5IHtcbiAgICBhZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZDogU3RyaXBlQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkO1xuICAgIHRocmVlX2RzX3Jlc3VsdDoge1xuICAgICAgICB0b2tlbj86IHN0cmluZztcbiAgICB9O1xufVxuXG5leHBvcnQgZW51bSBTdHJpcGVFbGVtZW50RXZlbnQge1xuICAgIENMSUNLID0gJ2NsaWNrJyxcbiAgICBDSEFOR0UgPSAnY2hhbmdlJyxcbiAgICBSRUFEWSA9ICdyZWFkeScsXG4gICAgU0hJUFBJTkdfQUREUkVTU19DSEFOR0UgPSAnc2hpcHBpbmdhZGRyZXNzY2hhbmdlJyxcbiAgICBTSElQUElOR19SQVRFX0NIQU5HRSA9ICdzaGlwcGluZ3JhdGVjaGFuZ2UnLFxuICAgIENPTkZJUk0gPSAnY29uZmlybScsXG4gICAgQ0FOQ0VMID0gJ2NhbmNlbCcsXG4gICAgTE9BREVSX1NUQVJUID0gJ2xvYWRlcnN0YXJ0Jyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMaW5lSXRlbSB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGFtb3VudDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZVNhdmVQYXltZW50TWV0aG9kIHtcbiAgICBtYXhWaXNpYmxlUGF5bWVudE1ldGhvZHM/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBlbnVtIFN0cmlwZUluc3RydW1lbnRTZXR1cEZ1dHVyZVVzYWdlIHtcbiAgICBPTl9TRVNTSU9OID0gJ29uX3Nlc3Npb24nLFxuICAgIE9GRl9TRVNTSU9OID0gJ29mZl9zZXNzaW9uJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVMaW5rVjJFdmVudCB7XG4gICAgdmFsdWU/OiBudWxsO1xuICAgIGJpbGxpbmdEZXRhaWxzPzoge1xuICAgICAgICBuYW1lPzogc3RyaW5nO1xuICAgICAgICBlbWFpbD86IHN0cmluZztcbiAgICAgICAgcGhvbmU/OiBzdHJpbmc7XG4gICAgICAgIGFkZHJlc3M/OiB7XG4gICAgICAgICAgICBsaW5lMT86IHN0cmluZztcbiAgICAgICAgICAgIGNpdHk/OiBzdHJpbmc7XG4gICAgICAgICAgICBjb3VudHJ5Pzogc3RyaW5nO1xuICAgICAgICAgICAgcG9zdGFsX2NvZGU/OiBzdHJpbmc7XG4gICAgICAgICAgICBzdGF0ZT86IHN0cmluZztcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHNoaXBwaW5nQWRkcmVzcz86IHtcbiAgICAgICAgbmFtZT86IHN0cmluZztcbiAgICAgICAgYWRkcmVzcz86IHtcbiAgICAgICAgICAgIGxpbmUxPzogc3RyaW5nO1xuICAgICAgICAgICAgbGluZTI/OiBzdHJpbmc7XG4gICAgICAgICAgICBjaXR5Pzogc3RyaW5nO1xuICAgICAgICAgICAgY291bnRyeT86IHN0cmluZztcbiAgICAgICAgICAgIHBvc3RhbF9jb2RlPzogc3RyaW5nO1xuICAgICAgICAgICAgc3RhdGU/OiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBhZGRyZXNzPzoge1xuICAgICAgICBsaW5lMT86IHN0cmluZztcbiAgICAgICAgY2l0eT86IHN0cmluZztcbiAgICAgICAgY291bnRyeT86IHN0cmluZztcbiAgICAgICAgcG9zdGFsX2NvZGU/OiBzdHJpbmc7XG4gICAgICAgIHN0YXRlPzogc3RyaW5nO1xuICAgIH07XG4gICAgc2hpcHBpbmdSYXRlPzogU3RyaXBlTGlua1YyU2hpcHBpbmdSYXRlO1xuICAgIGVsZW1lbnRUeXBlOiBzdHJpbmc7XG4gICAgZXhwcmVzc1BheW1lbnRUeXBlOiBzdHJpbmc7XG4gICAgcmVzb2x2ZShkYXRhOiBTdHJpcGVMaW5rVjJFdmVudFJlc29sdmVEYXRhKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVMaW5rVjJFdmVudFJlc29sdmVEYXRhIHtcbiAgICBsaW5lSXRlbXM/OiBMaW5lSXRlbVtdO1xuICAgIGFsbG93ZWRTaGlwcGluZ0NvdW50cmllcz86IHN0cmluZ1tdO1xuICAgIHNoaXBwaW5nQWRkcmVzc1JlcXVpcmVkPzogYm9vbGVhbjtcbiAgICBzaGlwcGluZ1JhdGVzPzogU3RyaXBlTGlua1YyU2hpcHBpbmdSYXRlW107XG4gICAgYmlsbGluZ0FkZHJlc3NSZXF1aXJlZD86IGJvb2xlYW47XG4gICAgZW1haWxSZXF1aXJlZD86IGJvb2xlYW47XG4gICAgcGhvbmVOdW1iZXJSZXF1aXJlZD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlTGlua1YyU2hpcHBpbmdSYXRlIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlTGlua1YyT3B0aW9ucyB7XG4gICAgY2xpZW50U2VjcmV0Pzogc3RyaW5nO1xuICAgIG1vZGU/OiBzdHJpbmc7XG4gICAgY3VycmVuY3k/OiBzdHJpbmc7XG4gICAgY2FwdHVyZU1ldGhvZD86ICdhdXRvbWF0aWMnIHwgJ21hbnVhbCc7XG4gICAgYW1vdW50PzogbnVtYmVyO1xufVxuIiwiaW1wb3J0IHtcbiAgICBQYXltZW50UHJvdmlkZXJDdXN0b21lcixcbiAgICBTdHJpcGVBY2NlbGVyYXRlZENoZWNrb3V0Q3VzdG9tZXIsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1N0cmlwZUFjY2VsZXJhdGVkQ2hlY2tvdXRDdXN0b21lcihcbiAgICBjdXN0b21lcjogUGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIsXG4pOiBjdXN0b21lciBpcyBTdHJpcGVBY2NlbGVyYXRlZENoZWNrb3V0Q3VzdG9tZXIge1xuICAgIHJldHVybiAnc3RyaXBlTGlua0F1dGhlbnRpY2F0aW9uU3RhdGUnIGluIGN1c3RvbWVyO1xufVxuIiwiaW1wb3J0IHtcbiAgICBDdXN0b21lckNyZWRlbnRpYWxzLFxuICAgIEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgQ3VzdG9tZXJTdHJhdGVneSxcbiAgICBFeGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0T3B0aW9ucyxcbiAgICBJbnZhbGlkQXJndW1lbnRFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUmVxdWVzdE9wdGlvbnMsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuaW1wb3J0IHtcbiAgICBpc1N0cmlwZVBheW1lbnRNZXRob2RMaWtlLFxuICAgIFNUUklQRV9VUEVfQ0xJRU5UX0FQSV9WRVJTSU9OLFxuICAgIFNUUklQRV9VUEVfQ0xJRU5UX0JFVEFTLFxuICAgIFN0cmlwZUFwcGVhcmFuY2VPcHRpb25zLFxuICAgIFN0cmlwZUNsaWVudCxcbiAgICBTdHJpcGVFbGVtZW50RXZlbnQsXG4gICAgU3RyaXBlRWxlbWVudHMsXG4gICAgU3RyaXBlRWxlbWVudFR5cGUsXG4gICAgU3RyaXBlRXZlbnRUeXBlLFxuICAgIFN0cmlwZUZvcm1Nb2RlLFxuICAgIFN0cmlwZVNjcmlwdExvYWRlcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9zdHJpcGUtdXRpbHMnO1xuXG5pbXBvcnQgaXNTdHJpcGVBY2NlbGVyYXRlZENoZWNrb3V0Q3VzdG9tZXIgZnJvbSAnLi9pcy1zdHJpcGUtYWNjZWxlcmF0ZWQtY2hlY2tvdXQtY3VzdG9tZXInO1xuaW1wb3J0IHsgV2l0aFN0cmlwZVVQRUN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMgfSBmcm9tICcuL3N0cmlwZXVwZS1jdXN0b21lci1pbml0aWFsaXplLW9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdHJpcGVVUEVDdXN0b21lclN0cmF0ZWd5IGltcGxlbWVudHMgQ3VzdG9tZXJTdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBfc3RyaXBlRWxlbWVudHM/OiBTdHJpcGVFbGVtZW50cztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgc2NyaXB0TG9hZGVyOiBTdHJpcGVTY3JpcHRMb2FkZXIsXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShcbiAgICAgICAgb3B0aW9uczogQ3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhTdHJpcGVVUEVDdXN0b21lckluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBsZXQgc3RyaXBlVVBFQ2xpZW50OiBTdHJpcGVDbGllbnQ7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLnN0cmlwZXVwZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwib3B0aW9uc1wiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVyLCBnYXRld2F5SWQsIG1ldGhvZElkLCBvbkVtYWlsQ2hhbmdlLCBnZXRTdHlsZXMsIGlzTG9hZGluZyB9ID1cbiAgICAgICAgICAgIG9wdGlvbnMuc3RyaXBldXBlO1xuXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG9wdGlvbnMuc3RyaXBldXBlKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwiJHtrZXl9XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLmAsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRQYXltZW50TWV0aG9kKGdhdGV3YXlJZCwge1xuICAgICAgICAgICAgcGFyYW1zOiB7IG1ldGhvZDogbWV0aG9kSWQgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkLCBnYXRld2F5SWQpO1xuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuIH0gPSBwYXltZW50TWV0aG9kO1xuXG4gICAgICAgIGlmICghaXNTdHJpcGVQYXltZW50TWV0aG9kTGlrZShwYXltZW50TWV0aG9kKSB8fCAhY2xpZW50VG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50VG9rZW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBlbWFpbCB9ID0gc3RhdGUuZ2V0Q3VzdG9tZXJPclRocm93KCk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRQcm92aWRlckN1c3RvbWVyID0gc3RhdGUuZ2V0UGF5bWVudFByb3ZpZGVyQ3VzdG9tZXJPclRocm93KCk7XG4gICAgICAgIGNvbnN0IHN0cmlwZVBheW1lbnRQcm92aWRlckN1c3RvbWVyID0gaXNTdHJpcGVBY2NlbGVyYXRlZENoZWNrb3V0Q3VzdG9tZXIoXG4gICAgICAgICAgICBwYXltZW50UHJvdmlkZXJDdXN0b21lcixcbiAgICAgICAgKVxuICAgICAgICAgICAgPyBwYXltZW50UHJvdmlkZXJDdXN0b21lclxuICAgICAgICAgICAgOiB7fTtcbiAgICAgICAgY29uc3Qgc3RyaXBlTGlua0F1dGhlbnRpY2F0aW9uU3RhdGUgPVxuICAgICAgICAgICAgc3RyaXBlUGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIuc3RyaXBlTGlua0F1dGhlbnRpY2F0aW9uU3RhdGU7XG5cbiAgICAgICAgaWYgKCFlbWFpbCkge1xuICAgICAgICAgICAgbGV0IGFwcGVhcmFuY2U6IFN0cmlwZUFwcGVhcmFuY2VPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVzID0gdHlwZW9mIGdldFN0eWxlcyA9PT0gJ2Z1bmN0aW9uJyAmJiBnZXRTdHlsZXMoKTtcblxuICAgICAgICAgICAgaWYgKHN0eWxlcykge1xuICAgICAgICAgICAgICAgIGFwcGVhcmFuY2UgPSB7XG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JQcmltYXJ5OiBzdHlsZXMuZmllbGRJbm5lclNoYWRvdyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yQmFja2dyb3VuZDogc3R5bGVzLmZpZWxkQmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yVGV4dDogc3R5bGVzLmxhYmVsVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yRGFuZ2VyOiBzdHlsZXMuZmllbGRFcnJvclRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvclRleHRTZWNvbmRhcnk6IHN0eWxlcy5sYWJlbFRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvclRleHRQbGFjZWhvbGRlcjogc3R5bGVzLmZpZWxkUGxhY2Vob2xkZXJUZXh0LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBydWxlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJy5JbnB1dCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogc3R5bGVzLmZpZWxkQm9yZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBzdHlsZXMuZmllbGRUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogc3R5bGVzLmZpZWxkSW5uZXJTaGFkb3csXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFwcGVhcmFuY2UgPSB7fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RyaXBlVVBFQ2xpZW50ID0gYXdhaXQgdGhpcy5zY3JpcHRMb2FkZXIuZ2V0U3RyaXBlQ2xpZW50KFxuICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhLFxuICAgICAgICAgICAgICAgIFNUUklQRV9VUEVfQ0xJRU5UX0JFVEFTLFxuICAgICAgICAgICAgICAgIFNUUklQRV9VUEVfQ0xJRU5UX0FQSV9WRVJTSU9OLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdGhpcy5fc3RyaXBlRWxlbWVudHMgPSBhd2FpdCB0aGlzLnNjcmlwdExvYWRlci5nZXRFbGVtZW50cyhzdHJpcGVVUEVDbGllbnQsIHtcbiAgICAgICAgICAgICAgICBjbGllbnRTZWNyZXQ6IGNsaWVudFRva2VuLFxuICAgICAgICAgICAgICAgIGFwcGVhcmFuY2UsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgeyBnZXRCaWxsaW5nQWRkcmVzcywgZ2V0Q29uc2lnbm1lbnRzIH0gPVxuICAgICAgICAgICAgICAgIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgY29uc2lnbm1lbnRzID0gZ2V0Q29uc2lnbm1lbnRzKCk7XG4gICAgICAgICAgICBjb25zdCBpZCA9IGNvbnNpZ25tZW50cz8uWzBdPy5pZDtcbiAgICAgICAgICAgIGNvbnN0IHsgZW1haWw6IGJpbGxpbmdFbWFpbCB9ID0gZ2V0QmlsbGluZ0FkZHJlc3MoKSB8fCB7fTtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBiaWxsaW5nRW1haWxcbiAgICAgICAgICAgICAgICA/IHsgZGVmYXVsdFZhbHVlczogeyBtb2RlOiBTdHJpcGVGb3JtTW9kZS5TSElQUElORywgZW1haWw6IGJpbGxpbmdFbWFpbCB9IH1cbiAgICAgICAgICAgICAgICA6IHt9O1xuICAgICAgICAgICAgY29uc3QgbGlua0F1dGhlbnRpY2F0aW9uRWxlbWVudCA9XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RyaXBlRWxlbWVudHMuZ2V0RWxlbWVudChTdHJpcGVFbGVtZW50VHlwZS5BVVRIRU5USUNBVElPTikgfHxcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJpcGVFbGVtZW50cy5jcmVhdGUoU3RyaXBlRWxlbWVudFR5cGUuQVVUSEVOVElDQVRJT04sIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICBsaW5rQXV0aGVudGljYXRpb25FbGVtZW50Lm9uKFN0cmlwZUVsZW1lbnRFdmVudC5DSEFOR0UsIChldmVudDogU3RyaXBlRXZlbnRUeXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEoJ2F1dGhlbnRpY2F0ZWQnIGluIGV2ZW50KSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ3VzdG9tZXIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVQYXltZW50UHJvdmlkZXJDdXN0b21lcih7XG4gICAgICAgICAgICAgICAgICAgIHN0cmlwZUxpbmtBdXRoZW50aWNhdGlvblN0YXRlOiBldmVudC5hdXRoZW50aWNhdGVkLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uRW1haWxDaGFuZ2UoZXZlbnQuYXV0aGVudGljYXRlZCwgZXZlbnQudmFsdWUuZW1haWwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9uRW1haWxDaGFuZ2UoZmFsc2UsICcnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHN0cmlwZUxpbmtBdXRoZW50aWNhdGlvblN0YXRlID09PSB1bmRlZmluZWQgJiYgZXZlbnQuYXV0aGVudGljYXRlZCAmJiBpZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZGVsZXRlQ29uc2lnbm1lbnQoaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGlua0F1dGhlbnRpY2F0aW9uRWxlbWVudC5tb3VudChgIyR7Y29udGFpbmVyfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLl9zdHJpcGVFbGVtZW50cz8uZ2V0RWxlbWVudChTdHJpcGVFbGVtZW50VHlwZS5BVVRIRU5USUNBVElPTik/LnVubW91bnQoKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgc2lnbkluKGNyZWRlbnRpYWxzOiBDdXN0b21lckNyZWRlbnRpYWxzLCBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnNpZ25JbkN1c3RvbWVyKGNyZWRlbnRpYWxzLCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgc2lnbk91dChvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnNpZ25PdXRDdXN0b21lcihvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgZXhlY3V0ZVBheW1lbnRNZXRob2RDaGVja291dChvcHRpb25zPzogRXhlY3V0ZVBheW1lbnRNZXRob2RDaGVja291dE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgb3B0aW9ucz8uY29udGludWVXaXRoQ2hlY2tvdXRDYWxsYmFjaz8uKCk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHtcbiAgICBDdXN0b21lclN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuaW1wb3J0IHsgU3RyaXBlU2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9zdHJpcGUtdXRpbHMnO1xuXG5pbXBvcnQgU3RyaXBlVVBFQ3VzdG9tZXJTdHJhdGVneSBmcm9tICcuL3N0cmlwZS11cGUtY3VzdG9tZXItc3RyYXRlZ3knO1xuXG5jb25zdCBjcmVhdGVTdHJpcGVVUEVDdXN0b21lclN0cmF0ZWd5OiBDdXN0b21lclN0cmF0ZWd5RmFjdG9yeTxTdHJpcGVVUEVDdXN0b21lclN0cmF0ZWd5PiA9IChcbiAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBTdHJpcGVVUEVDdXN0b21lclN0cmF0ZWd5KFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBuZXcgU3RyaXBlU2NyaXB0TG9hZGVyKGdldFNjcmlwdExvYWRlcigpKSxcbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZVN0cmlwZVVQRUN1c3RvbWVyU3RyYXRlZ3ksIFt7IGlkOiAnc3RyaXBldXBlJyB9XSk7XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiB0aGUgcGF5bWVudCBmbG93IGlzIGNhbmNlbGxlZC4gSXQgY291bGQgYmVcbiAqIGR1ZSB0byBhIGRlbGliZXJhdGUgdXNlciBpbnRlcmFjdGlvbiwgaS5lLjogdGhlIHVzZXIgY2xpY2tzIG9uIGEgY2FuY2VsXG4gKiBidXR0b24gd2hpY2ggZGlzbWlzc2VzIHRoZSBwYXltZW50IG1vZGFsLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ1BheW1lbnQgcHJvY2VzcyB3YXMgY2FuY2VsbGVkLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAncGF5bWVudF9jYW5jZWxsZWQnO1xuICAgIH1cbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIGEgcGF5bWVudCBtZXRob2QgZXhwZXJpZW5jZXMgc29tZSBraW5kIG9mXG4gKiBmYWlsdXJlIChpLmUuOiBpdHMgY2xpZW50IGxpYnJhcnkgcmV0dXJucyBhIHJlamVjdGVkIHByb21pc2UpLiBBbmQgdGhlcmUgaXNcbiAqIG5vIG90aGVyIGVycm9yIHR5cGUgdGhhdCBpcyBtb3JlIHNwZWNpZmljIHRoYW4gdGhpcyBvbmUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRNZXRob2RGYWlsZWRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoXG4gICAgICAgICAgICBtZXNzYWdlIHx8XG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGNsaWVudCBsaWJyYXJ5IG9mIGEgcGF5bWVudCBtZXRob2QgaGFzIHRocm93biBhbiB1bmV4cGVjdGVkIGVycm9yLicsXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ1BheW1lbnRNZXRob2RGYWlsZWRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdwYXltZW50X21ldGhvZF9jbGllbnRfaW52YWxpZCc7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbmV4cG9ydCBlbnVtIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlIHtcbiAgICBDaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkLFxuICAgIEN1c3RvbWVyTm90SW5pdGlhbGl6ZWQsXG4gICAgUGF5bWVudE5vdEluaXRpYWxpemVkLFxuICAgIFNoaXBwaW5nTm90SW5pdGlhbGl6ZWQsXG4gICAgU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZCxcbn1cblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIGEgbWV0aG9kIHJlcXVpcmVzIGEgY2VydGFpbiBpbml0aWFsaXphdGlvbiBjYWxsIHRvIGJlXG4gKiBtYWRlIGZpcnN0LiBTb21lIG9iamVjdHMgY2FuIGJlIGNvbnN0cnVjdGVkIGJ1dCB0aGV5IGNhbm5vdCBiZSB1c2VkIHVudGlsIGFcbiAqIHNlcGFyYXRlIGluaXRpYWxpemF0aW9uIGNhbGwgaXMgbWFkZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm90SW5pdGlhbGl6ZWRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdWJ0eXBlOiBOb3RJbml0aWFsaXplZEVycm9yVHlwZSkge1xuICAgICAgICBzdXBlcihnZXRFcnJvck1lc3NhZ2Uoc3VidHlwZSkpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdOb3RJbml0aWFsaXplZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ25vdF9pbml0aWFsaXplZCc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UodHlwZTogTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLkN1c3RvbWVyTm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGN1c3RvbWVyIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHBheW1lbnQgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcblxuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlNoaXBwaW5nTm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHNoaXBwaW5nIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5TcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjaGVja291dCBzcGFtIHByb3RlY3Rpb24gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcmVxdWlyZWQgY29tcG9uZW50IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGluY2x1ZGVzLCBzb21lIH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHtcbiAgICBBZGRyZXNzLFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvcixcbiAgICBOb3RJbml0aWFsaXplZEVycm9yVHlwZSxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcixcbiAgICBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBpc1N0cmlwZUVycm9yIH0gZnJvbSAnLi9pcy1zdHJpcGUtZXJyb3InO1xuaW1wb3J0IHtcbiAgICBBZGRyZXNzT3B0aW9ucyxcbiAgICBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uUmVxdWlyZWQsXG4gICAgU3RyaXBlQ2xpZW50LFxuICAgIFN0cmlwZUNvbmZpcm1QYXltZW50RGF0YSxcbiAgICBTdHJpcGVFbGVtZW50LFxuICAgIFN0cmlwZUVsZW1lbnRzLFxuICAgIFN0cmlwZUVsZW1lbnRUeXBlLFxuICAgIFN0cmlwZUVycm9yLFxuICAgIFN0cmlwZVBheW1lbnRJbnRlbnRTdGF0dXMsXG4gICAgU3RyaXBlU3RyaW5nQ29uc3RhbnRzLFxufSBmcm9tICcuL3N0cmlwZSc7XG5pbXBvcnQgU3RyaXBlUGF5bWVudEluaXRpYWxpemVPcHRpb25zIGZyb20gJy4vc3RyaXBlLWluaXRpYWxpemUtb3B0aW9ucyc7XG5pbXBvcnQgU3RyaXBlU2NyaXB0TG9hZGVyIGZyb20gJy4vc3RyaXBlLXNjcmlwdC1sb2FkZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2Uge1xuICAgIHByaXZhdGUgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBjaGVja291dEV2ZW50c1Vuc3Vic2NyaWJlPzogKCkgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgc2NyaXB0TG9hZGVyOiBTdHJpcGVTY3JpcHRMb2FkZXIsXG4gICAgKSB7fVxuXG4gICAgZGVpbml0aWFsaXplKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNoZWNrb3V0RXZlbnRzVW5zdWJzY3JpYmU/LigpO1xuICAgICAgICB0aGlzLmlzTW91bnRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGluaXRDaGVja291dEV2ZW50c1N1YnNjcmlwdGlvbihcbiAgICAgICAgZ2F0ZXdheUlkOiBzdHJpbmcsXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgICAgIHN0cmlwZUluaXRpYWxpemF0aW9uT3B0aW9uczogU3RyaXBlUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgICAgICBzdHJpcGVFbGVtZW50cz86IFN0cmlwZUVsZW1lbnRzLFxuICAgICk6IHZvaWQge1xuICAgICAgICB0aGlzLmNoZWNrb3V0RXZlbnRzVW5zdWJzY3JpYmUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3Vic2NyaWJlKFxuICAgICAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBheW1lbnRFbGVtZW50ID0gc3RyaXBlRWxlbWVudHM/LmdldEVsZW1lbnQoU3RyaXBlRWxlbWVudFR5cGUuUEFZTUVOVCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXBheW1lbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZVN0cmlwZVBheW1lbnRJbnRlbnQoZ2F0ZXdheUlkLCBtZXRob2RJZCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNNb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50RWxlbWVudC51bm1vdW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmlwZUluaXRpYWxpemF0aW9uT3B0aW9ucy5vbkVycm9yPy4oZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc01vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3RyaXBlRWxlbWVudHM/LmZldGNoVXBkYXRlcygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdW50RWxlbWVudChwYXltZW50RWxlbWVudCwgc3RyaXBlSW5pdGlhbGl6YXRpb25PcHRpb25zLmNvbnRhaW5lcklkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKHN0YXRlKSA9PiBzdGF0ZS5nZXRDaGVja291dCgpPy5vdXRzdGFuZGluZ0JhbGFuY2UsXG4gICAgICAgICAgICAoc3RhdGUpID0+IHN0YXRlLmdldENoZWNrb3V0KCk/LmNvdXBvbnMsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgbW91bnRFbGVtZW50KHN0cmlwZUVsZW1lbnQ6IFN0cmlwZUVsZW1lbnQsIGNvbnRhaW5lcklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJZCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0cmlwZUVsZW1lbnQubW91bnQoYCMke2NvbnRhaW5lcklkfWApO1xuICAgICAgICB0aGlzLmlzTW91bnRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgbWFwQXBwZWFyYW5jZVZhcmlhYmxlcyhzdHlsZXM6IE5vbk51bGxhYmxlPFN0cmlwZVBheW1lbnRJbml0aWFsaXplT3B0aW9uc1snc3R5bGUnXT4pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbG9yUHJpbWFyeTogc3R5bGVzLmZpZWxkSW5uZXJTaGFkb3csXG4gICAgICAgICAgICBjb2xvckJhY2tncm91bmQ6IHN0eWxlcy5maWVsZEJhY2tncm91bmQsXG4gICAgICAgICAgICBjb2xvclRleHQ6IHN0eWxlcy5sYWJlbFRleHQsXG4gICAgICAgICAgICBjb2xvckRhbmdlcjogc3R5bGVzLmZpZWxkRXJyb3JUZXh0LFxuICAgICAgICAgICAgY29sb3JUZXh0U2Vjb25kYXJ5OiBzdHlsZXMubGFiZWxUZXh0LFxuICAgICAgICAgICAgY29sb3JUZXh0UGxhY2Vob2xkZXI6IHN0eWxlcy5maWVsZFBsYWNlaG9sZGVyVGV4dCxcbiAgICAgICAgICAgIGNvbG9ySWNvbjogc3R5bGVzLmZpZWxkUGxhY2Vob2xkZXJUZXh0LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIG1hcElucHV0QXBwZWFyYW5jZVJ1bGVzKHN0eWxlczogTm9uTnVsbGFibGU8U3RyaXBlUGF5bWVudEluaXRpYWxpemVPcHRpb25zWydzdHlsZSddPikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYm9yZGVyQ29sb3I6IHN0eWxlcy5maWVsZEJvcmRlcixcbiAgICAgICAgICAgIGNvbG9yOiBzdHlsZXMuZmllbGRUZXh0LFxuICAgICAgICAgICAgYm94U2hhZG93OiBzdHlsZXMuZmllbGRJbm5lclNoYWRvdyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB0aHJvd1N0cmlwZUVycm9yKHN0cmlwZUVycm9yPzogdW5rbm93bik6IG5ldmVyIHtcbiAgICAgICAgaWYgKGlzU3RyaXBlRXJyb3Ioc3RyaXBlRXJyb3IpKSB7XG4gICAgICAgICAgICB0aGlzLnRocm93RGlzcGxheWFibGVTdHJpcGVFcnJvcihzdHJpcGVFcnJvcik7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ2FuY2VsbGF0aW9uRXJyb3Ioc3RyaXBlRXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RGYWlsZWRFcnJvcigpO1xuICAgIH1cblxuICAgIHRocm93RGlzcGxheWFibGVTdHJpcGVFcnJvcihzdHJpcGVFcnJvcjogU3RyaXBlRXJyb3IpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgaW5jbHVkZXMoWydjYXJkX2Vycm9yJywgJ2ludmFsaWRfcmVxdWVzdF9lcnJvcicsICd2YWxpZGF0aW9uX2Vycm9yJ10sIHN0cmlwZUVycm9yLnR5cGUpXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHN0cmlwZUVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNDYW5jZWxsYXRpb25FcnJvcihzdHJpcGVFcnJvcj86IFN0cmlwZUVycm9yKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHN0cmlwZUVycm9yPy5wYXltZW50X2ludGVudC5sYXN0X3BheW1lbnRfZXJyb3I/Lm1lc3NhZ2U7XG5cbiAgICAgICAgcmV0dXJuICEhZXJyb3JNZXNzYWdlICYmIGVycm9yTWVzc2FnZS5pbmRleE9mKCdjYW5jZWxlZCcpICE9PSAtMTtcbiAgICB9XG5cbiAgICB0aHJvd1BheW1lbnRDb25maXJtYXRpb25Qcm9jZWVkTWVzc2FnZSgpIHtcbiAgICAgICAgLy8gSU5GTzogZm9yIGNhc2UgaWYgcGF5bWVudCB3YXMgc3VjY2Vzc2Z1bGx5IGNvbmZpcm1lZCBvbiBTdHJpcGUgc2lkZSBidXQgb24gQkMgc2lkZSBzb21ldGhpbmcgZ28gd3JvbmcsIHJlcXVlc3QgZmFpbGVkIGFuZCBvcmRlciBzdGF0dXMgaGFzbid0IGNoYW5nZWQgeWV0XG4gICAgICAgIC8vIEZvciBzaG9wcGVyIHdlIG5lZWQgdG8gc2hvdyBhZGRpdGlvbmFsIG1lc3NhZ2UgdGhhdCBCQyBpcyB3YWl0aW5nIGZvciBzdHJpcGUgY29uZmlybWF0aW9uLCB0byBwcmV2ZW50IGFkZGl0aW9uYWwgcGF5bWVudCBjcmVhdGlvblxuICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yKFxuICAgICAgICAgICAgXCJXZSd2ZSByZWNlaXZlZCB5b3VyIG9yZGVyIGFuZCBhcmUgcHJvY2Vzc2luZyB5b3VyIHBheW1lbnQuIE9uY2UgdGhlIHBheW1lbnQgaXMgdmVyaWZpZWQsIHlvdXIgb3JkZXIgd2lsbCBiZSBjb21wbGV0ZWQuIFdlIHdpbGwgc2VuZCB5b3UgYW4gZW1haWwgd2hlbiBpdCdzIGNvbXBsZXRlZC4gUGxlYXNlIG5vdGUsIHRoaXMgcHJvY2VzcyBtYXkgdGFrZSBhIGZldyBtaW51dGVzIGRlcGVuZGluZyBvbiB0aGUgcHJvY2Vzc2luZyB0aW1lcyBvZiB5b3VyIGNob3NlbiBtZXRob2QuXCIsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgaXNQYXltZW50Q29tcGxldGVkKG1ldGhvZElkOiBzdHJpbmcsIHN0cmlwZVVQRUNsaWVudD86IFN0cmlwZUNsaWVudCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuICAgICAgICBjb25zdCB7IGZlYXR1cmVzIH0gPSBzdGF0ZS5nZXRTdG9yZUNvbmZpZ09yVGhyb3coKS5jaGVja291dFNldHRpbmdzO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFwYXltZW50TWV0aG9kLmNsaWVudFRva2VuIHx8XG4gICAgICAgICAgICAhc3RyaXBlVVBFQ2xpZW50IHx8XG4gICAgICAgICAgICAhZmVhdHVyZXNbJ1BJLTYyNi5CbG9ja191bm5lY2Vzc2FyeV9wYXltZW50X2NvbmZpcm1hdGlvbl9mb3JfU3RyaXBlVVBFJ11cbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHBheW1lbnRJbnRlbnQgfSA9IGF3YWl0IHN0cmlwZVVQRUNsaWVudC5yZXRyaWV2ZVBheW1lbnRJbnRlbnQoXG4gICAgICAgICAgICBwYXltZW50TWV0aG9kLmNsaWVudFRva2VuLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBwYXltZW50SW50ZW50Py5zdGF0dXMgPT09IFN0cmlwZVBheW1lbnRJbnRlbnRTdGF0dXMuU1VDQ0VFREVEO1xuICAgIH1cblxuICAgIG1hcFN0cmlwZVBheW1lbnREYXRhKFxuICAgICAgICBzdHJpcGVFbGVtZW50cz86IFN0cmlwZUVsZW1lbnRzLFxuICAgICAgICByZXR1cm5Vcmw/OiBzdHJpbmcsXG4gICAgICAgIHNob3VsZEFsbG93UmVkaXNwbGF5ID0gZmFsc2UsXG4gICAgKTogU3RyaXBlQ29uZmlybVBheW1lbnREYXRhIHtcbiAgICAgICAgY29uc3QgYmlsbGluZ0FkZHJlc3MgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRCaWxsaW5nQWRkcmVzcygpO1xuICAgICAgICBjb25zdCB7IGZpcnN0TmFtZSA9ICcnLCBsYXN0TmFtZSA9ICcnLCBlbWFpbCA9ICcnIH0gPSBiaWxsaW5nQWRkcmVzcyB8fCB7fTtcbiAgICAgICAgY29uc3QgYWRkcmVzcyA9IHRoaXMuX21hcFN0cmlwZUFkZHJlc3MoYmlsbGluZ0FkZHJlc3MpO1xuXG4gICAgICAgIGlmICghc3RyaXBlRWxlbWVudHMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWVtYWlsIHx8ICFhZGRyZXNzIHx8ICFhZGRyZXNzLmNpdHkgfHwgIWFkZHJlc3MuY291bnRyeSB8fCAhZmlyc3ROYW1lIHx8ICFsYXN0TmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0JpbGxpbmdBZGRyZXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbGVtZW50czogc3RyaXBlRWxlbWVudHMsXG4gICAgICAgICAgICByZWRpcmVjdDogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLklGX1JFUVVJUkVELFxuICAgICAgICAgICAgY29uZmlybVBhcmFtczoge1xuICAgICAgICAgICAgICAgIHBheW1lbnRfbWV0aG9kX2RhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uKHNob3VsZEFsbG93UmVkaXNwbGF5ID8geyBhbGxvd19yZWRpc3BsYXk6ICdhbHdheXMnIH0gOiB7fSksXG4gICAgICAgICAgICAgICAgICAgIGJpbGxpbmdfZGV0YWlsczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYCR7Zmlyc3ROYW1lfSAke2xhc3ROYW1lfWAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAuLi4ocmV0dXJuVXJsICYmIHsgcmV0dXJuX3VybDogcmV0dXJuVXJsIH0pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpc0FkZGl0aW9uYWxBY3Rpb25FcnJvcihlcnJvcnM6IEFycmF5PHsgY29kZTogc3RyaW5nIH0+KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBzb21lKGVycm9ycywgeyBjb2RlOiAnYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQnIH0pO1xuICAgIH1cblxuICAgIGlzUmVkaXJlY3RBY3Rpb24oYWRkaXRpb25hbEFjdGlvbjogU3RyaXBlQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBkYXRhOiB7IHJlZGlyZWN0X3VybCB9LFxuICAgICAgICB9ID0gYWRkaXRpb25hbEFjdGlvbjtcblxuICAgICAgICByZXR1cm4gdHlwZSA9PT0gJ3JlZGlyZWN0X3RvX3VybCcgJiYgISFyZWRpcmVjdF91cmw7XG4gICAgfVxuXG4gICAgaXNPblBhZ2VBZGRpdGlvbmFsQWN0aW9uKGFkZGl0aW9uYWxBY3Rpb246IFN0cmlwZUFkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgZGF0YTogeyB0b2tlbiB9LFxuICAgICAgICB9ID0gYWRkaXRpb25hbEFjdGlvbjtcblxuICAgICAgICByZXR1cm4gdHlwZSA9PT0gJ2FkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVzX3BheW1lbnRfbWV0aG9kJyAmJiAhIXRva2VuO1xuICAgIH1cblxuICAgIGFzeW5jIHVwZGF0ZVN0cmlwZVBheW1lbnRJbnRlbnQoZ2F0ZXdheUlkOiBzdHJpbmcsIG1ldGhvZElkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSU5GTzogdG8gdHJpZ2dlciBwYXltZW50IGludGVudCB1cGRhdGUgb24gdGhlIEJFIHNpZGUgd2UgbmVlZCB0byBtYWtlIHN0cmlwZSBjb25maWcgcmVxdWVzdFxuICAgICAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChnYXRld2F5SWQsIHtcbiAgICAgICAgICAgIHBhcmFtczogeyBtZXRob2Q6IG1ldGhvZElkIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuIH0gPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG5cbiAgICAgICAgaWYgKCFjbGllbnRUb2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zY3JpcHRMb2FkZXIudXBkYXRlU3RyaXBlRWxlbWVudHMoeyBjbGllbnRTZWNyZXQ6IGNsaWVudFRva2VuIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgX21hcFN0cmlwZUFkZHJlc3MoYWRkcmVzcz86IEFkZHJlc3MpOiBBZGRyZXNzT3B0aW9ucyB7XG4gICAgICAgIGlmIChhZGRyZXNzKSB7XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgY2l0eSxcbiAgICAgICAgICAgICAgICBhZGRyZXNzMSxcbiAgICAgICAgICAgICAgICBhZGRyZXNzMixcbiAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZTogY291bnRyeSxcbiAgICAgICAgICAgICAgICBwb3N0YWxDb2RlLFxuICAgICAgICAgICAgICAgIHN0YXRlT3JQcm92aW5jZUNvZGUsXG4gICAgICAgICAgICB9ID0gYWRkcmVzcztcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjaXR5LFxuICAgICAgICAgICAgICAgIGNvdW50cnksXG4gICAgICAgICAgICAgICAgcG9zdGFsX2NvZGU6IHBvc3RhbENvZGUsXG4gICAgICAgICAgICAgICAgbGluZTE6IGFkZHJlc3MxLFxuICAgICAgICAgICAgICAgIGxpbmUyOiBhZGRyZXNzMixcbiAgICAgICAgICAgICAgICAuLi4oc3RhdGVPclByb3ZpbmNlQ29kZSA/IHsgc3RhdGU6IHN0YXRlT3JQcm92aW5jZUNvZGUgfSA6IHt9KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQmlsbGluZ0FkZHJlc3MpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFN0cmlwZUVycm9yIH0gZnJvbSAnLi9zdHJpcGUnO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpcGVFcnJvcihlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIFN0cmlwZUVycm9yIHtcbiAgICByZXR1cm4gdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJiBlcnJvciAhPT0gbnVsbCAmJiAndHlwZScgaW4gZXJyb3I7XG59XG4iLCJpbXBvcnQge1xuICAgIExvYWRpbmdJbmRpY2F0b3JDb250YWluZXJTdHlsZXMsXG4gICAgTG9hZGluZ0luZGljYXRvclN0eWxlcyxcbn0gZnJvbSAnLi9sb2FkaW5nLWluZGljYXRvci1zdHlsZXMnO1xuXG5jb25zdCBERUZBVUxUX1NUWUxFUzogTG9hZGluZ0luZGljYXRvclN0eWxlcyA9IHtcbiAgICBzaXplOiA3MCxcbiAgICBjb2xvcjogJyNkOWQ5ZDknLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmZmZmYnLFxufTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfQ09OVEFJTkVSX1NUWUxFUyA9IHtcbiAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAnYmFja2dyb3VuZC1jb2xvcic6ICdyZ2JhKDAsIDAsIDAsIDAuNCknLFxuICAgICd6LWluZGV4JzogJzEwMDAnLFxufTtcblxuY29uc3QgUk9UQVRJT05fQU5JTUFUSU9OID0gJ2VtYmVkZGVkLWNoZWNrb3V0LWxvYWRpbmctaW5kaWNhdG9yLXJvdGF0aW9uJztcblxuaW50ZXJmYWNlIExvYWRpbmdJbmRpY2F0b3JPcHRpb25zIHtcbiAgICBzdHlsZXM/OiBMb2FkaW5nSW5kaWNhdG9yU3R5bGVzO1xuICAgIGNvbnRhaW5lclN0eWxlcz86IExvYWRpbmdJbmRpY2F0b3JDb250YWluZXJTdHlsZXM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRpbmdJbmRpY2F0b3Ige1xuICAgIHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIGluZGljYXRvcjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBzdHlsZXM6IExvYWRpbmdJbmRpY2F0b3JTdHlsZXM7XG4gICAgcHJpdmF0ZSBjb250YWluZXJTdHlsZXM6IExvYWRpbmdJbmRpY2F0b3JDb250YWluZXJTdHlsZXM7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPzogTG9hZGluZ0luZGljYXRvck9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSB7IC4uLkRFRkFVTFRfU1RZTEVTLCAuLi4ob3B0aW9ucyAmJiBvcHRpb25zLnN0eWxlcykgfTtcbiAgICAgICAgdGhpcy5jb250YWluZXJTdHlsZXMgPSB7IC4uLihvcHRpb25zICYmIG9wdGlvbnMuY29udGFpbmVyU3R5bGVzKSB9O1xuXG4gICAgICAgIHRoaXMuZGVmaW5lQW5pbWF0aW9uKCk7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIgPSB0aGlzLmJ1aWxkQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuaW5kaWNhdG9yID0gdGhpcy5idWlsZEluZGljYXRvcigpO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuaW5kaWNhdG9yKTtcbiAgICB9XG5cbiAgICBzaG93KHBhcmVudElkPzogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFyZW50SWQpO1xuXG4gICAgICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBhdHRhY2ggdGhlIGxvYWRpbmcgaW5kaWNhdG9yIGJlY2F1c2UgdGhlIHBhcmVudCBJRCBpcyBub3QgdmFsaWQuJyxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICB9XG5cbiAgICBoaWRlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBoYW5kbGVUcmFuc2l0aW9uRW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgaGFuZGxlVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGhhbmRsZVRyYW5zaXRpb25FbmQpO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZENvbnRhaW5lcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmJvdHRvbSA9ICcwJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnJpZ2h0ID0gJzAnO1xuICAgICAgICBjb250YWluZXIuc3R5bGUudG9wID0gJzAnO1xuICAgICAgICBjb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9ICdhbGwgMjUwbXMgZWFzZS1vdXQnO1xuICAgICAgICBjb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcwJztcblxuICAgICAgICB0aGlzLnNldFN0eWxlQXR0cmlidXRlKGNvbnRhaW5lciwgdGhpcy5jb250YWluZXJTdHlsZXMpO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZEluZGljYXRvcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGluZGljYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIGluZGljYXRvci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLndpZHRoID0gYCR7dGhpcy5zdHlsZXMuc2l6ZX1weGA7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLnN0eWxlcy5zaXplfXB4YDtcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLmJvcmRlclJhZGl1cyA9IGAke3RoaXMuc3R5bGVzLnNpemV9cHhgO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuYm9yZGVyID0gJ3NvbGlkIDFweCc7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS5ib3JkZXJDb2xvciA9IGAke3RoaXMuc3R5bGVzLmJhY2tncm91bmRDb2xvcn0gJHt0aGlzLnN0eWxlcy5iYWNrZ3JvdW5kQ29sb3J9ICR7dGhpcy5zdHlsZXMuY29sb3J9ICR7dGhpcy5zdHlsZXMuY29sb3J9YDtcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLm1hcmdpbiA9ICcwIGF1dG8nO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUubGVmdCA9ICcwJztcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLnJpZ2h0ID0gJzAnO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUudG9wID0gJzUwJSc7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtNTAlKSByb3RhdGUoMGRlZyknO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUudHJhbnNmb3JtU3R5bGUgPSAncHJlc2VydmUtM2QnO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuYW5pbWF0aW9uID0gYCR7Uk9UQVRJT05fQU5JTUFUSU9OfSA1MDBtcyBpbmZpbml0ZSBjdWJpYy1iZXppZXIoMC42OSwgMC4zMSwgMC41NiwgMC44MylgO1xuXG4gICAgICAgIHJldHVybiBpbmRpY2F0b3I7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRTdHlsZUF0dHJpYnV0ZShlbGVtZW50OiBIVE1MRWxlbWVudCwgYXR0cnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0pOiB2b2lkIHtcbiAgICAgICAgT2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goKGspID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoaywgYXR0cnNba10pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRlZmluZUFuaW1hdGlvbigpOiB2b2lkIHtcbiAgICAgICAgLy8gSW4gb3JkZXIgdG8gZGVmaW5lIENTUyBhbmltYXRpb24sIHdlIG5lZWQgdG8gaW5zZXJ0IGEgc3R5bGVzaGVldCBpbnRvIHRoZSBob3N0IGZyYW1lLlxuICAgICAgICAvLyBXZSBvbmx5IGhhdmUgdG8gZG8gaXQgb25jZS5cbiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFJPVEFUSU9OX0FOSU1BVElPTikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblxuICAgICAgICBzdHlsZS5pZCA9IFJPVEFUSU9OX0FOSU1BVElPTjtcblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LWNvbmRpdGlvblxuICAgICAgICBkb2N1bWVudC5oZWFkPy5hcHBlbmRDaGlsZChzdHlsZSk7XG5cbiAgICAgICAgaWYgKHN0eWxlLnNoZWV0IGluc3RhbmNlb2YgQ1NTU3R5bGVTaGVldCkge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBwcm92aWRlIHRoZSAybmQgcGFyYW1ldGVyIGZvciBJRTExLCBldmVuIHRob3VnaCBpdCBpc1xuICAgICAgICAgICAgLy8gMCBieSBkZWZhdWx0IGZvciBhbGwgb3RoZXIgYnJvd3NlcnMuXG4gICAgICAgICAgICBzdHlsZS5zaGVldC5pbnNlcnRSdWxlKFxuICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICBAa2V5ZnJhbWVzICR7Uk9UQVRJT05fQU5JTUFUSU9OfSB7XG4gICAgICAgICAgICAgICAgICAgIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSgwZGVnKTsgfVxuICAgICAgICAgICAgICAgICAgICAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSgzNjBkZWcpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBSZXF1ZXN0RXJyb3IgZnJvbSAnLi9yZXF1ZXN0LWVycm9yJztcblxuLy8gSGF2ZSB0byB1c2UgYGFzYCBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83Mzk4NzA0NC90eXBlZ3VhcmRpbmctYW4tdW5rbm93bi1uZXN0ZWQtb2JqZWN0IHNob3VsZCBiZSBmaXhlZCBpbiA0LjgrXG5jb25zdCBpc1JlcXVlc3RFcnJvciA9IChlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIFJlcXVlc3RFcnJvciA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgZXJyb3IgIT09IG51bGwgJiYgJ2JvZHknIGluIGVycm9yO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgaXNSZXF1ZXN0RXJyb3I7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBbW91bnRUcmFuc2Zvcm1lciB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfZGVjaW1hbFBsYWNlczogbnVtYmVyKSB7fVxuXG4gICAgdG9JbnRlZ2VyKGFtb3VudDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoYW1vdW50ICogMTAgKiogdGhpcy5fZGVjaW1hbFBsYWNlcyk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGV4cHJlc3NDaGVja291dEFsbG93ZWRDb3VudHJ5Q29kZXMgPSBbXG4gICAgJ0FDJyxcbiAgICAnQUQnLFxuICAgICdBRScsXG4gICAgJ0FGJyxcbiAgICAnQUcnLFxuICAgICdBSScsXG4gICAgJ0FMJyxcbiAgICAnQU0nLFxuICAgICdBTycsXG4gICAgJ0FRJyxcbiAgICAnQVInLFxuICAgICdBVCcsXG4gICAgJ0FVJyxcbiAgICAnQVcnLFxuICAgICdBWCcsXG4gICAgJ0FaJyxcbiAgICAnQkEnLFxuICAgICdCQicsXG4gICAgJ0JEJyxcbiAgICAnQkUnLFxuICAgICdCRicsXG4gICAgJ0JHJyxcbiAgICAnQkgnLFxuICAgICdCSScsXG4gICAgJ0JKJyxcbiAgICAnQkwnLFxuICAgICdCTScsXG4gICAgJ0JOJyxcbiAgICAnQk8nLFxuICAgICdCUScsXG4gICAgJ0JSJyxcbiAgICAnQlMnLFxuICAgICdCVCcsXG4gICAgJ0JWJyxcbiAgICAnQlcnLFxuICAgICdCWScsXG4gICAgJ0JaJyxcbiAgICAnQ0EnLFxuICAgICdDRCcsXG4gICAgJ0NGJyxcbiAgICAnQ0cnLFxuICAgICdDSCcsXG4gICAgJ0NJJyxcbiAgICAnQ0snLFxuICAgICdDTCcsXG4gICAgJ0NNJyxcbiAgICAnQ04nLFxuICAgICdDTycsXG4gICAgJ0NSJyxcbiAgICAnQ1YnLFxuICAgICdDVycsXG4gICAgJ0NZJyxcbiAgICAnQ1onLFxuICAgICdERScsXG4gICAgJ0RKJyxcbiAgICAnREsnLFxuICAgICdETScsXG4gICAgJ0RPJyxcbiAgICAnRFonLFxuICAgICdFQycsXG4gICAgJ0VFJyxcbiAgICAnRUcnLFxuICAgICdFSCcsXG4gICAgJ0VSJyxcbiAgICAnRVMnLFxuICAgICdFVCcsXG4gICAgJ0ZJJyxcbiAgICAnRkonLFxuICAgICdGSycsXG4gICAgJ0ZPJyxcbiAgICAnRlInLFxuICAgICdHQScsXG4gICAgJ0dCJyxcbiAgICAnR0QnLFxuICAgICdHRScsXG4gICAgJ0dGJyxcbiAgICAnR0cnLFxuICAgICdHSCcsXG4gICAgJ0dJJyxcbiAgICAnR0wnLFxuICAgICdHTScsXG4gICAgJ0dOJyxcbiAgICAnR1AnLFxuICAgICdHUScsXG4gICAgJ0dSJyxcbiAgICAnR1MnLFxuICAgICdHVCcsXG4gICAgJ0dVJyxcbiAgICAnR1cnLFxuICAgICdHWScsXG4gICAgJ0hLJyxcbiAgICAnSE4nLFxuICAgICdIUicsXG4gICAgJ0hUJyxcbiAgICAnSFUnLFxuICAgICdJRCcsXG4gICAgJ0lFJyxcbiAgICAnSUwnLFxuICAgICdJTScsXG4gICAgJ0lOJyxcbiAgICAnSU8nLFxuICAgICdJUScsXG4gICAgJ0lTJyxcbiAgICAnSVQnLFxuICAgICdKRScsXG4gICAgJ0pNJyxcbiAgICAnSk8nLFxuICAgICdKUCcsXG4gICAgJ0tFJyxcbiAgICAnS0cnLFxuICAgICdLSCcsXG4gICAgJ0tJJyxcbiAgICAnS00nLFxuICAgICdLTicsXG4gICAgJ0tSJyxcbiAgICAnS1cnLFxuICAgICdLWScsXG4gICAgJ0taJyxcbiAgICAnTEEnLFxuICAgICdMQicsXG4gICAgJ0xDJyxcbiAgICAnTEknLFxuICAgICdMSycsXG4gICAgJ0xSJyxcbiAgICAnTFMnLFxuICAgICdMVCcsXG4gICAgJ0xVJyxcbiAgICAnTFYnLFxuICAgICdMWScsXG4gICAgJ01BJyxcbiAgICAnTUMnLFxuICAgICdNRCcsXG4gICAgJ01FJyxcbiAgICAnTUYnLFxuICAgICdNRycsXG4gICAgJ01LJyxcbiAgICAnTUwnLFxuICAgICdNTScsXG4gICAgJ01OJyxcbiAgICAnTU8nLFxuICAgICdNUScsXG4gICAgJ01SJyxcbiAgICAnTVMnLFxuICAgICdNVCcsXG4gICAgJ01VJyxcbiAgICAnTVYnLFxuICAgICdNVycsXG4gICAgJ01YJyxcbiAgICAnTVknLFxuICAgICdNWicsXG4gICAgJ05BJyxcbiAgICAnTkMnLFxuICAgICdORScsXG4gICAgJ05HJyxcbiAgICAnTkknLFxuICAgICdOTCcsXG4gICAgJ05PJyxcbiAgICAnTlAnLFxuICAgICdOUicsXG4gICAgJ05VJyxcbiAgICAnTlonLFxuICAgICdPTScsXG4gICAgJ1BBJyxcbiAgICAnUEUnLFxuICAgICdQRicsXG4gICAgJ1BHJyxcbiAgICAnUEgnLFxuICAgICdQSycsXG4gICAgJ1BMJyxcbiAgICAnUE0nLFxuICAgICdQTicsXG4gICAgJ1BSJyxcbiAgICAnUFMnLFxuICAgICdQVCcsXG4gICAgJ1BZJyxcbiAgICAnUUEnLFxuICAgICdSRScsXG4gICAgJ1JPJyxcbiAgICAnUlMnLFxuICAgICdSVScsXG4gICAgJ1JXJyxcbiAgICAnU0EnLFxuICAgICdTQicsXG4gICAgJ1NDJyxcbiAgICAnU0QnLFxuICAgICdTRScsXG4gICAgJ1NHJyxcbiAgICAnU0gnLFxuICAgICdTSScsXG4gICAgJ1NKJyxcbiAgICAnU0snLFxuICAgICdTTCcsXG4gICAgJ1NNJyxcbiAgICAnU04nLFxuICAgICdTTycsXG4gICAgJ1NSJyxcbiAgICAnU1MnLFxuICAgICdTVCcsXG4gICAgJ1NWJyxcbiAgICAnU1gnLFxuICAgICdTWicsXG4gICAgJ1RBJyxcbiAgICAnVEMnLFxuICAgICdURCcsXG4gICAgJ1RGJyxcbiAgICAnVEcnLFxuICAgICdUSCcsXG4gICAgJ1RKJyxcbiAgICAnVEsnLFxuICAgICdUTCcsXG4gICAgJ1RNJyxcbiAgICAnVE4nLFxuICAgICdUTycsXG4gICAgJ1RSJyxcbiAgICAnVFQnLFxuICAgICdUVicsXG4gICAgJ1RXJyxcbiAgICAnVFonLFxuICAgICdVQScsXG4gICAgJ1VHJyxcbiAgICAnVVMnLFxuICAgICdVWScsXG4gICAgJ1VaJyxcbiAgICAnVkEnLFxuICAgICdWQycsXG4gICAgJ1ZFJyxcbiAgICAnVkcnLFxuICAgICdWTicsXG4gICAgJ1ZVJyxcbiAgICAnV0YnLFxuICAgICdXUycsXG4gICAgJ1hLJyxcbiAgICAnWUUnLFxuICAgICdZVCcsXG4gICAgJ1pBJyxcbiAgICAnWk0nLFxuICAgICdaVycsXG4gICAgJ1paJyxcbl07XG4iLCJpbXBvcnQgeyByb3VuZCB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7XG4gICAgQW1vdW50VHJhbnNmb3JtZXIsXG4gICAgQ3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyxcbiAgICBDdXN0b21lclN0cmF0ZWd5LFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIGlzUmVxdWVzdEVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvcixcbiAgICBOb3RJbml0aWFsaXplZEVycm9yVHlwZSxcbiAgICBQYXltZW50LFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yLFxuICAgIFBheW1lbnRNZXRob2RGYWlsZWRFcnJvcixcbiAgICBTaGlwcGluZ09wdGlvbixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5pbXBvcnQge1xuICAgIGlzU3RyaXBlUGF5bWVudE1ldGhvZExpa2UsXG4gICAgU3RyaXBlQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkLFxuICAgIFN0cmlwZUNsaWVudCxcbiAgICBTdHJpcGVFbGVtZW50LFxuICAgIFN0cmlwZUVsZW1lbnRFdmVudCxcbiAgICBTdHJpcGVFbGVtZW50cyxcbiAgICBTdHJpcGVFbGVtZW50c0NyZWF0ZU9wdGlvbnMsXG4gICAgU3RyaXBlRWxlbWVudFR5cGUsXG4gICAgU3RyaXBlRXJyb3IsXG4gICAgU3RyaXBlRXZlbnRUeXBlLFxuICAgIFN0cmlwZUludGVncmF0aW9uU2VydmljZSxcbiAgICBTdHJpcGVMaW5rVjJFdmVudCxcbiAgICBTdHJpcGVMaW5rVjJPcHRpb25zLFxuICAgIFN0cmlwZUxpbmtWMlNoaXBwaW5nUmF0ZSxcbiAgICBTdHJpcGVQYXltZW50TWV0aG9kVHlwZSxcbiAgICBTdHJpcGVSZXN1bHQsXG4gICAgU3RyaXBlU2NyaXB0TG9hZGVyLFxuICAgIFN0cmlwZVN0cmluZ0NvbnN0YW50cyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9zdHJpcGUtdXRpbHMnO1xuaW1wb3J0IHsgTG9hZGluZ0luZGljYXRvciB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvdWknO1xuXG5pbXBvcnQgeyBleHByZXNzQ2hlY2tvdXRBbGxvd2VkQ291bnRyeUNvZGVzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgV2l0aFN0cmlwZU9DU0N1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMgfSBmcm9tICcuL3N0cmlwZS1vY3MtY3VzdG9tZXItaW5pdGlhbGl6ZS1vcHRpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RyaXBlTGlua1YyQ3VzdG9tZXJTdHJhdGVneSBpbXBsZW1lbnRzIEN1c3RvbWVyU3RyYXRlZ3kge1xuICAgIHByaXZhdGUgX3N0cmlwZUNsaWVudD86IFN0cmlwZUNsaWVudDtcbiAgICBwcml2YXRlIF9zdHJpcGVFbGVtZW50cz86IFN0cmlwZUVsZW1lbnRzO1xuICAgIHByaXZhdGUgX2xpbmtWMkVsZW1lbnQ/OiBTdHJpcGVFbGVtZW50O1xuICAgIHByaXZhdGUgX2Ftb3VudFRyYW5zZm9ybWVyPzogQW1vdW50VHJhbnNmb3JtZXI7XG4gICAgcHJpdmF0ZSBfb25Db21wbGV0ZT86IChvcmRlcklkPzogbnVtYmVyKSA9PiBQcm9taXNlPG5ldmVyPjtcbiAgICBwcml2YXRlIF9sb2FkaW5nSW5kaWNhdG9yQ29udGFpbmVyPzogc3RyaW5nO1xuICAgIHByaXZhdGUgX2NhcHR1cmVNZXRob2Q/OiAnYXV0b21hdGljJyB8ICdtYW51YWwnO1xuICAgIHByaXZhdGUgX2N1cnJlbmN5Q29kZT86IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgc2NyaXB0TG9hZGVyOiBTdHJpcGVTY3JpcHRMb2FkZXIsXG4gICAgICAgIHByaXZhdGUgc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlOiBTdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgbG9hZGluZ0luZGljYXRvcjogTG9hZGluZ0luZGljYXRvcixcbiAgICApIHt9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKFxuICAgICAgICBvcHRpb25zOiBDdXN0b21lckluaXRpYWxpemVPcHRpb25zICYgV2l0aFN0cmlwZU9DU0N1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgc3RyaXBlb2NzIH0gPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGlmICghc3RyaXBlb2NzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgYFVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJvcHRpb25zXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLmAsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBtZXRob2RJZCwgZ2F0ZXdheUlkLCBjb250YWluZXIgfSA9IHN0cmlwZW9jcztcblxuICAgICAgICBpZiAoIWNvbnRhaW5lciB8fCAhbWV0aG9kSWQgfHwgIWdhdGV3YXlJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRQYXltZW50TWV0aG9kKGdhdGV3YXlJZCwge1xuICAgICAgICAgICAgcGFyYW1zOiB7IG1ldGhvZDogbWV0aG9kSWQgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCwgZ2F0ZXdheUlkKTtcbiAgICAgICAgY29uc3QgeyBsb2FkaW5nQ29udGFpbmVySWQsIGJ1dHRvbkhlaWdodCwgb25Db21wbGV0ZSB9ID0gc3RyaXBlb2NzO1xuXG4gICAgICAgIHRoaXMuX2xvYWRpbmdJbmRpY2F0b3JDb250YWluZXIgPSBsb2FkaW5nQ29udGFpbmVySWQ7XG5cbiAgICAgICAgdGhpcy5fb25Db21wbGV0ZSA9IG9uQ29tcGxldGU7XG5cbiAgICAgICAgaWYgKCFpc1N0cmlwZVBheW1lbnRNZXRob2RMaWtlKHBheW1lbnRNZXRob2QpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGluaXRpYWxpemF0aW9uRGF0YSB9ID0gcGF5bWVudE1ldGhvZDtcbiAgICAgICAgY29uc3QgeyBjYXB0dXJlTWV0aG9kIH0gPSBpbml0aWFsaXphdGlvbkRhdGE7XG5cbiAgICAgICAgdGhpcy5fY2FwdHVyZU1ldGhvZCA9IGNhcHR1cmVNZXRob2Q7XG4gICAgICAgIHRoaXMuX3N0cmlwZUNsaWVudCA9IGF3YWl0IHRoaXMuc2NyaXB0TG9hZGVyLmdldFN0cmlwZUNsaWVudChpbml0aWFsaXphdGlvbkRhdGEpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuX21vdW50RXhwcmVzc0NoZWNrb3V0RWxlbWVudChcbiAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgdGhpcy5fc3RyaXBlQ2xpZW50LFxuICAgICAgICAgICAgYnV0dG9uSGVpZ2h0LFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBzaWduSW4oKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBzaWduT3V0KCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgZXhlY3V0ZVBheW1lbnRNZXRob2RDaGVja291dCgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGRlaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX21vdW50RXhwcmVzc0NoZWNrb3V0RWxlbWVudChcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgY29udGFpbmVyOiBzdHJpbmcsXG4gICAgICAgIHN0cmlwZUV4cHJlc3NDaGVja291dENsaWVudDogU3RyaXBlQ2xpZW50LFxuICAgICAgICBidXR0b25IZWlnaHQgPSA0MCxcbiAgICApIHtcbiAgICAgICAgY29uc3Qgc2hvdWxkUmVxdWlyZVNoaXBwaW5nQWRkcmVzcyA9IHRoaXMuX3Nob3VsZFJlcXVpcmVTaGlwcGluZ0FkZHJlc3MoKTtcbiAgICAgICAgY29uc3QgZXhwcmVzc0NoZWNrb3V0T3B0aW9uczogU3RyaXBlRWxlbWVudHNDcmVhdGVPcHRpb25zID0ge1xuICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzUmVxdWlyZWQ6IHNob3VsZFJlcXVpcmVTaGlwcGluZ0FkZHJlc3MsXG4gICAgICAgICAgICAuLi4oc2hvdWxkUmVxdWlyZVNoaXBwaW5nQWRkcmVzc1xuICAgICAgICAgICAgICAgID8geyBhbGxvd2VkU2hpcHBpbmdDb3VudHJpZXM6IGF3YWl0IHRoaXMuX2dldEF2YWlsYWJsZUNvdW50cmllcygpIH1cbiAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgIC4uLihzaG91bGRSZXF1aXJlU2hpcHBpbmdBZGRyZXNzXG4gICAgICAgICAgICAgICAgPyB7IHNoaXBwaW5nUmF0ZXM6IFt7IGlkOiAnXycsIGFtb3VudDogMCwgZGlzcGxheU5hbWU6ICdQZW5kaW5nIHJhdGVzJyB9XSB9XG4gICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICBiaWxsaW5nQWRkcmVzc1JlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgZW1haWxSZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIHBob25lTnVtYmVyUmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICBwYXltZW50TWV0aG9kczoge1xuICAgICAgICAgICAgICAgIGxpbms6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5BVVRPLFxuICAgICAgICAgICAgICAgIGFwcGxlUGF5OiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVIsXG4gICAgICAgICAgICAgICAgZ29vZ2xlUGF5OiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVIsXG4gICAgICAgICAgICAgICAgYW1hem9uUGF5OiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVIsXG4gICAgICAgICAgICAgICAgcGF5cGFsOiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVIsXG4gICAgICAgICAgICAgICAga2xhcm5hOiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gTWluaW1hbCBidXR0b25IZWlnaHQgdmFsdWUgaXMgNDBcbiAgICAgICAgICAgIGJ1dHRvbkhlaWdodCxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB7IGNhcnRBbW91bnQgfSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldENhcnRPclRocm93KCk7XG5cbiAgICAgICAgY29uc3QgZWxlbWVudHNPcHRpb25zOiBTdHJpcGVMaW5rVjJPcHRpb25zID0ge1xuICAgICAgICAgICAgbW9kZTogJ3BheW1lbnQnLFxuICAgICAgICAgICAgYW1vdW50OiB0aGlzLl90b0NlbnRzKGNhcnRBbW91bnQpLFxuICAgICAgICAgICAgY3VycmVuY3k6IHRoaXMuX2dldEN1cnJlbmN5KCksXG4gICAgICAgICAgICAuLi4odGhpcy5fY2FwdHVyZU1ldGhvZCA/IHsgY2FwdHVyZU1ldGhvZDogdGhpcy5fY2FwdHVyZU1ldGhvZCB9IDoge30pLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX3N0cmlwZUVsZW1lbnRzID0gc3RyaXBlRXhwcmVzc0NoZWNrb3V0Q2xpZW50LmVsZW1lbnRzKGVsZW1lbnRzT3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5fbGlua1YyRWxlbWVudCA9IHRoaXMuX3N0cmlwZUVsZW1lbnRzLmNyZWF0ZShcbiAgICAgICAgICAgIFN0cmlwZUVsZW1lbnRUeXBlLkVYUFJFU1NfQ0hFQ0tPVVQsXG4gICAgICAgICAgICBleHByZXNzQ2hlY2tvdXRPcHRpb25zLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9saW5rVjJFbGVtZW50Lm1vdW50KGAjJHtjb250YWluZXJ9YCk7XG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVFdmVudHModGhpcy5fbGlua1YyRWxlbWVudCwgbWV0aG9kSWQpO1xuICAgIH1cblxuICAgIC8qKiBFdmVudHMgKiAqL1xuXG4gICAgcHJpdmF0ZSBfaW5pdGlhbGl6ZUV2ZW50cyhleHByZXNzQ2hlY2tvdXRFbGVtZW50OiBTdHJpcGVFbGVtZW50LCBtZXRob2RJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHNob3VsZFJlcXVpcmVTaGlwcGluZ0FkZHJlc3MgPSB0aGlzLl9zaG91bGRSZXF1aXJlU2hpcHBpbmdBZGRyZXNzKCk7XG5cbiAgICAgICAgaWYgKHNob3VsZFJlcXVpcmVTaGlwcGluZ0FkZHJlc3MpIHtcbiAgICAgICAgICAgIGV4cHJlc3NDaGVja291dEVsZW1lbnQub24oU3RyaXBlRWxlbWVudEV2ZW50LlNISVBQSU5HX0FERFJFU1NfQ0hBTkdFLCBhc3luYyAoZXZlbnQpID0+XG4gICAgICAgICAgICAgICAgdGhpcy5fb25TaGlwcGluZ0FkZHJlc3NDaGFuZ2UoZXZlbnQpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGV4cHJlc3NDaGVja291dEVsZW1lbnQub24oU3RyaXBlRWxlbWVudEV2ZW50LlNISVBQSU5HX1JBVEVfQ0hBTkdFLCBhc3luYyAoZXZlbnQpID0+XG4gICAgICAgICAgICAgICAgdGhpcy5fb25TaGlwcGluZ1JhdGVDaGFuZ2UoZXZlbnQpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGV4cHJlc3NDaGVja291dEVsZW1lbnQub24oU3RyaXBlRWxlbWVudEV2ZW50LkNPTkZJUk0sIGFzeW5jIChldmVudCkgPT5cbiAgICAgICAgICAgIHRoaXMuX29uQ29uZmlybShldmVudCwgbWV0aG9kSWQpLFxuICAgICAgICApO1xuXG4gICAgICAgIGV4cHJlc3NDaGVja291dEVsZW1lbnQub24oU3RyaXBlRWxlbWVudEV2ZW50LkNBTkNFTCwgdGhpcy5fb25DYW5jZWwpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX29uU2hpcHBpbmdBZGRyZXNzQ2hhbmdlKGV2ZW50OiBTdHJpcGVFdmVudFR5cGUpIHtcbiAgICAgICAgaWYgKCdhZGRyZXNzJyBpbiBldmVudCkge1xuICAgICAgICAgICAgY29uc3Qgc2hpcHBpbmdBZGRyZXNzID0gZXZlbnQuYWRkcmVzcztcbiAgICAgICAgICAgIC8vIERlcGVuZGluZyBvbiB0aGUgY291bnRyeSwgc29tZSBmaWVsZHMgY2FuIGJlIG1pc3Npbmcgb3IgcGFydGlhbGx5IHJlZGFjdGVkLlxuICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGUsIHRoZSBzaGlwcGluZyBhZGRyZXNzIGluIHRoZSBVUyBjYW4gb25seSBjb250YWluIGEgY2l0eSwgc3RhdGUsIGFuZCBaSVAgY29kZS5cbiAgICAgICAgICAgIC8vIFRoZSBmdWxsIHNoaXBwaW5nIGFkZHJlc3MgYXBwZWFycyBpbiB0aGUgY29uZmlybSBldmVudCBvYmplY3QgYWZ0ZXIgdGhlIHB1cmNoYXNlIGlzIGNvbmZpcm1lZCBpbiB0aGUgYnJvd3NlcuKAmXMgcGF5bWVudCBpbnRlcmZhY2UuXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgZmlyc3ROYW1lOiAnJyxcbiAgICAgICAgICAgICAgICBsYXN0TmFtZTogJycsXG4gICAgICAgICAgICAgICAgcGhvbmU6ICcnLFxuICAgICAgICAgICAgICAgIGNvbXBhbnk6ICcnLFxuICAgICAgICAgICAgICAgIGFkZHJlc3MxOiAnJyxcbiAgICAgICAgICAgICAgICBhZGRyZXNzMjogJycsXG4gICAgICAgICAgICAgICAgY2l0eTogc2hpcHBpbmdBZGRyZXNzPy5jaXR5IHx8ICcnLFxuICAgICAgICAgICAgICAgIGNvdW50cnlDb2RlOiBzaGlwcGluZ0FkZHJlc3M/LmNvdW50cnkgfHwgJycsXG4gICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogc2hpcHBpbmdBZGRyZXNzPy5wb3N0YWxfY29kZSB8fCAnJyxcbiAgICAgICAgICAgICAgICBzdGF0ZU9yUHJvdmluY2U6IHNoaXBwaW5nQWRkcmVzcz8uc3RhdGUgfHwgJycsXG4gICAgICAgICAgICAgICAgc3RhdGVPclByb3ZpbmNlQ29kZTogJycsXG4gICAgICAgICAgICAgICAgY3VzdG9tRmllbGRzOiBbXSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVTaGlwcGluZ0FkZHJlc3MocmVzdWx0KTtcblxuICAgICAgICAgICAgY29uc3Qgc2hpcHBpbmdSYXRlcyA9IGF3YWl0IHRoaXMuX2dldEF2YWlsYWJsZVNoaXBwaW5nT3B0aW9ucygpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVEaXNwbGF5ZWRQcmljZSgpO1xuXG4gICAgICAgICAgICBldmVudC5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgICBzaGlwcGluZ1JhdGVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9vbkNhbmNlbCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX29uU2hpcHBpbmdSYXRlQ2hhbmdlKGV2ZW50OiBTdHJpcGVFdmVudFR5cGUpIHtcbiAgICAgICAgaWYgKCdzaGlwcGluZ1JhdGUnIGluIGV2ZW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IHNoaXBwaW5nUmF0ZSB9ID0gZXZlbnQ7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2hhbmRsZVNoaXBwaW5nT3B0aW9uQ2hhbmdlKHNoaXBwaW5nUmF0ZT8uaWQpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVEaXNwbGF5ZWRQcmljZSgpO1xuXG4gICAgICAgICAgICBldmVudC5yZXNvbHZlKHt9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBDb25maXJtIG1ldGhvZHMgKiAqL1xuICAgIHByaXZhdGUgYXN5bmMgX29uQ29uZmlybShldmVudDogU3RyaXBlRXZlbnRUeXBlLCBtZXRob2RJZDogc3RyaW5nKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICdiaWxsaW5nRGV0YWlscycgaW4gZXZlbnQgJiZcbiAgICAgICAgICAgICdzaGlwcGluZ0FkZHJlc3MnIGluIGV2ZW50ICYmXG4gICAgICAgICAgICB0aGlzLl9zdHJpcGVDbGllbnQgJiZcbiAgICAgICAgICAgIHRoaXMuX3N0cmlwZUVsZW1lbnRzXG4gICAgICAgICkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlU2hpcHBpbmdBbmRCaWxsaW5nQWRkcmVzcyhldmVudCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIoKTtcblxuICAgICAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHRoaXMuX2dldFBheW1lbnRQYXlsb2FkKG1ldGhvZElkKTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChwYXltZW50TWV0aG9kKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fcHJvY2Vzc0FkZGl0aW9uYWxBY3Rpb24oZXJyb3IsIG1ldGhvZElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF91cGRhdGVTaGlwcGluZ0FuZEJpbGxpbmdBZGRyZXNzKGV2ZW50OiBTdHJpcGVMaW5rVjJFdmVudCkge1xuICAgICAgICBjb25zdCBzaG91bGRSZXF1aXJlU2hpcHBpbmdBZGRyZXNzID0gdGhpcy5fc2hvdWxkUmVxdWlyZVNoaXBwaW5nQWRkcmVzcygpO1xuXG4gICAgICAgIGNvbnN0IGZpcnN0TmFtZSA9XG4gICAgICAgICAgICBldmVudC5zaGlwcGluZ0FkZHJlc3M/Lm5hbWU/LnNwbGl0KCcgJylbMF0gfHxcbiAgICAgICAgICAgIGV2ZW50LmJpbGxpbmdEZXRhaWxzPy5uYW1lPy5zcGxpdCgnICcpWzBdIHx8XG4gICAgICAgICAgICAnJztcbiAgICAgICAgY29uc3QgbGFzdE5hbWUgPVxuICAgICAgICAgICAgZXZlbnQuc2hpcHBpbmdBZGRyZXNzPy5uYW1lPy5zcGxpdCgnICcpWzFdIHx8XG4gICAgICAgICAgICBldmVudC5iaWxsaW5nRGV0YWlscz8ubmFtZT8uc3BsaXQoJyAnKVsxXSB8fFxuICAgICAgICAgICAgJyc7XG5cbiAgICAgICAgaWYgKHNob3VsZFJlcXVpcmVTaGlwcGluZ0FkZHJlc3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoaXBwaW5nQWRkcmVzcyA9IHRoaXMuX21hcFNoaXBwaW5nQWRkcmVzcyhcbiAgICAgICAgICAgICAgICBldmVudC5zaGlwcGluZ0FkZHJlc3MsXG4gICAgICAgICAgICAgICAgZXZlbnQuYmlsbGluZ0RldGFpbHMsXG4gICAgICAgICAgICAgICAgZmlyc3ROYW1lLFxuICAgICAgICAgICAgICAgIGxhc3ROYW1lLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnVwZGF0ZVNoaXBwaW5nQWRkcmVzcyhzaGlwcGluZ0FkZHJlc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYmlsbGluZ0FkZHJlc3MgPSB0aGlzLl9tYXBCaWxsaW5nQWRkcmVzcyhcbiAgICAgICAgICAgIGV2ZW50LnNoaXBwaW5nQWRkcmVzcyxcbiAgICAgICAgICAgIGV2ZW50LmJpbGxpbmdEZXRhaWxzLFxuICAgICAgICAgICAgZmlyc3ROYW1lLFxuICAgICAgICAgICAgbGFzdE5hbWUsXG4gICAgICAgICk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnVwZGF0ZUJpbGxpbmdBZGRyZXNzKGJpbGxpbmdBZGRyZXNzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9tYXBTaGlwcGluZ0FkZHJlc3MoXG4gICAgICAgIHNoaXBwaW5nQWRkcmVzczogU3RyaXBlTGlua1YyRXZlbnRbJ3NoaXBwaW5nQWRkcmVzcyddLFxuICAgICAgICBiaWxsaW5nRGV0YWlsczogU3RyaXBlTGlua1YyRXZlbnRbJ2JpbGxpbmdEZXRhaWxzJ10sXG4gICAgICAgIGZpcnN0TmFtZTogc3RyaW5nLFxuICAgICAgICBsYXN0TmFtZTogc3RyaW5nLFxuICAgICkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmlyc3ROYW1lLFxuICAgICAgICAgICAgbGFzdE5hbWUsXG4gICAgICAgICAgICBwaG9uZTogYmlsbGluZ0RldGFpbHM/LnBob25lIHx8ICcnLFxuICAgICAgICAgICAgY29tcGFueTogJycsXG4gICAgICAgICAgICBhZGRyZXNzMTogc2hpcHBpbmdBZGRyZXNzPy5hZGRyZXNzPy5saW5lMSB8fCAnJyxcbiAgICAgICAgICAgIGFkZHJlc3MyOiBzaGlwcGluZ0FkZHJlc3M/LmFkZHJlc3M/LmxpbmUyIHx8ICcnLFxuICAgICAgICAgICAgY2l0eTogc2hpcHBpbmdBZGRyZXNzPy5hZGRyZXNzPy5jaXR5IHx8ICcnLFxuICAgICAgICAgICAgY291bnRyeUNvZGU6IHNoaXBwaW5nQWRkcmVzcz8uYWRkcmVzcz8uY291bnRyeSB8fCAnJyxcbiAgICAgICAgICAgIHBvc3RhbENvZGU6IHNoaXBwaW5nQWRkcmVzcz8uYWRkcmVzcz8ucG9zdGFsX2NvZGUgfHwgJycsXG4gICAgICAgICAgICBzdGF0ZU9yUHJvdmluY2U6IHNoaXBwaW5nQWRkcmVzcz8uYWRkcmVzcz8uc3RhdGUgfHwgJycsXG4gICAgICAgICAgICBzdGF0ZU9yUHJvdmluY2VDb2RlOiBzaGlwcGluZ0FkZHJlc3M/LmFkZHJlc3M/LnN0YXRlIHx8ICcnLFxuICAgICAgICAgICAgY3VzdG9tRmllbGRzOiBbXSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9tYXBCaWxsaW5nQWRkcmVzcyhcbiAgICAgICAgc2hpcHBpbmdBZGRyZXNzOiBTdHJpcGVMaW5rVjJFdmVudFsnc2hpcHBpbmdBZGRyZXNzJ10sXG4gICAgICAgIGJpbGxpbmdEZXRhaWxzOiBTdHJpcGVMaW5rVjJFdmVudFsnYmlsbGluZ0RldGFpbHMnXSxcbiAgICAgICAgZmlyc3ROYW1lOiBzdHJpbmcsXG4gICAgICAgIGxhc3ROYW1lOiBzdHJpbmcsXG4gICAgKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbWFpbDogYmlsbGluZ0RldGFpbHM/LmVtYWlsIHx8ICcnLFxuICAgICAgICAgICAgZmlyc3ROYW1lLFxuICAgICAgICAgICAgbGFzdE5hbWUsXG4gICAgICAgICAgICBwaG9uZTogYmlsbGluZ0RldGFpbHM/LnBob25lIHx8ICcnLFxuICAgICAgICAgICAgY29tcGFueTogJycsXG4gICAgICAgICAgICBhZGRyZXNzMTogYmlsbGluZ0RldGFpbHM/LmFkZHJlc3M/LmxpbmUxIHx8ICcnLFxuICAgICAgICAgICAgYWRkcmVzczI6ICcnLFxuICAgICAgICAgICAgY2l0eTogYmlsbGluZ0RldGFpbHM/LmFkZHJlc3M/LmNpdHkgfHwgJycsXG4gICAgICAgICAgICBjb3VudHJ5Q29kZTogYmlsbGluZ0RldGFpbHM/LmFkZHJlc3M/LmNvdW50cnkgfHwgJycsXG4gICAgICAgICAgICBwb3N0YWxDb2RlOiBiaWxsaW5nRGV0YWlscz8uYWRkcmVzcz8ucG9zdGFsX2NvZGUgfHwgJycsXG4gICAgICAgICAgICBzdGF0ZU9yUHJvdmluY2U6IGJpbGxpbmdEZXRhaWxzPy5hZGRyZXNzPy5zdGF0ZSB8fCAnJyxcbiAgICAgICAgICAgIHN0YXRlT3JQcm92aW5jZUNvZGU6IHNoaXBwaW5nQWRkcmVzcz8uYWRkcmVzcz8uc3RhdGUgfHwgJycsXG4gICAgICAgICAgICBjdXN0b21GaWVsZHM6IFtdLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX3Byb2Nlc3NBZGRpdGlvbmFsQWN0aW9uKGVycm9yOiB1bmtub3duLCBtZXRob2RJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFpc1JlcXVlc3RFcnJvcihlcnJvcikgfHxcbiAgICAgICAgICAgICF0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS5pc0FkZGl0aW9uYWxBY3Rpb25FcnJvcihlcnJvci5ib2R5LmVycm9ycylcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fc3RyaXBlQ2xpZW50IHx8ICF0aGlzLl9zdHJpcGVFbGVtZW50cykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgZGF0YTogYWRkaXRpb25hbEFjdGlvbkRhdGEgfSA9IGVycm9yLmJvZHkuYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ7XG4gICAgICAgIGNvbnN0IHsgdG9rZW4gfSA9IGFkZGl0aW9uYWxBY3Rpb25EYXRhO1xuXG4gICAgICAgIGNvbnN0IHsgcGF5bWVudEludGVudCB9ID0gYXdhaXQgdGhpcy5fY29uZmlybVN0cmlwZVBheW1lbnRPclRocm93KFxuICAgICAgICAgICAgYWRkaXRpb25hbEFjdGlvbkRhdGEsXG4gICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBwYXltZW50UGF5bG9hZCA9IHRoaXMuX2dldFBheW1lbnRQYXlsb2FkKG1ldGhvZElkLCBwYXltZW50SW50ZW50Py5pZCB8fCB0b2tlbik7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUxvYWRpbmdJbmRpY2F0b3IodHJ1ZSk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChwYXltZW50UGF5bG9hZCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9jb21wbGV0ZUNoZWNrb3V0RmxvdygpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UudGhyb3dQYXltZW50Q29uZmlybWF0aW9uUHJvY2VlZE1lc3NhZ2UoKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUxvYWRpbmdJbmRpY2F0b3IoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfY29uZmlybVN0cmlwZVBheW1lbnRPclRocm93KFxuICAgICAgICBhZGRpdGlvbmFsQWN0aW9uRGF0YTogU3RyaXBlQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkWydkYXRhJ10sXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxTdHJpcGVSZXN1bHQgfCBuZXZlcj4ge1xuICAgICAgICBjb25zdCB7IHRva2VuLCByZWRpcmVjdF91cmwgfSA9IGFkZGl0aW9uYWxBY3Rpb25EYXRhO1xuICAgICAgICBjb25zdCBzdHJpcGVQYXltZW50RGF0YSA9IHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLm1hcFN0cmlwZVBheW1lbnREYXRhKFxuICAgICAgICAgICAgdGhpcy5fc3RyaXBlRWxlbWVudHMsXG4gICAgICAgICAgICByZWRpcmVjdF91cmwsXG4gICAgICAgICk7XG4gICAgICAgIGxldCBzdHJpcGVFcnJvcjogU3RyaXBlRXJyb3IgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGlzUGF5bWVudENvbXBsZXRlZCA9IGF3YWl0IHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLmlzUGF5bWVudENvbXBsZXRlZChcbiAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJpcGVDbGllbnQsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBjb25maXJtYXRpb25SZXN1bHQgPSAhaXNQYXltZW50Q29tcGxldGVkXG4gICAgICAgICAgICAgICAgPyBhd2FpdCB0aGlzLl9zdHJpcGVDbGllbnQ/LmNvbmZpcm1QYXltZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50czogc3RyaXBlUGF5bWVudERhdGEuZWxlbWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgY2xpZW50U2VjcmV0OiB0b2tlbixcbiAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdDogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLklGX1JFUVVJUkVELFxuICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1QYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuX3VybDogc3RyaXBlUGF5bWVudERhdGEuY29uZmlybVBhcmFtcz8ucmV0dXJuX3VybCxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICA6IGF3YWl0IHRoaXMuX3N0cmlwZUNsaWVudD8ucmV0cmlldmVQYXltZW50SW50ZW50KHRva2VuIHx8ICcnKTtcblxuICAgICAgICAgICAgc3RyaXBlRXJyb3IgPSBjb25maXJtYXRpb25SZXN1bHQ/LmVycm9yO1xuXG4gICAgICAgICAgICBpZiAoc3RyaXBlRXJyb3IgfHwgIWNvbmZpcm1hdGlvblJlc3VsdD8ucGF5bWVudEludGVudCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1hdGlvblJlc3VsdDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS50aHJvd1N0cmlwZUVycm9yKHN0cmlwZUVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2NvbXBsZXRlQ2hlY2tvdXRGbG93KCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX29uQ29tcGxldGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbkNvbXBsZXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnL29yZGVyLWNvbmZpcm1hdGlvbicpO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRQYXltZW50UGF5bG9hZChtZXRob2RJZDogc3RyaW5nLCB0b2tlbj86IHN0cmluZyk6IFBheW1lbnQge1xuICAgICAgICBjb25zdCBjYXJ0SWQgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRDYXJ0KCk/LmlkIHx8ICcnO1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWRQYXlsb2FkID0ge1xuICAgICAgICAgICAgY2FydF9pZDogY2FydElkLFxuICAgICAgICAgICAgLi4uKHRva2VuID8geyBjcmVkaXRfY2FyZF90b2tlbjogeyB0b2tlbiB9IH0gOiB7fSksXG4gICAgICAgICAgICBjb25maXJtOiBmYWxzZSxcbiAgICAgICAgICAgIHBheW1lbnRfbWV0aG9kX2lkOiBTdHJpcGVQYXltZW50TWV0aG9kVHlwZS5MaW5rLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgIHBheW1lbnREYXRhOiB7XG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqIFV0aWxzICogKi9cblxuICAgIHByaXZhdGUgX3Nob3VsZFJlcXVpcmVTaGlwcGluZ0FkZHJlc3MoKSB7XG4gICAgICAgIGNvbnN0IHsgZ2V0Q2FydE9yVGhyb3cgfSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB7IGxpbmVJdGVtcyB9ID0gZ2V0Q2FydE9yVGhyb3coKTtcblxuICAgICAgICByZXR1cm4gISFsaW5lSXRlbXMucGh5c2ljYWxJdGVtcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfdXBkYXRlRGlzcGxheWVkUHJpY2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdHJpcGVFbGVtZW50cykge1xuICAgICAgICAgICAgdGhpcy5fc3RyaXBlRWxlbWVudHMudXBkYXRlKHtcbiAgICAgICAgICAgICAgICBjdXJyZW5jeTogdGhpcy5fZ2V0Q3VycmVuY3koKSxcbiAgICAgICAgICAgICAgICBtb2RlOiAncGF5bWVudCcsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBhd2FpdCB0aGlzLl9nZXRUb3RhbFByaWNlKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX2dldEN1cnJlbmN5KCkge1xuICAgICAgICBpZiAoIXRoaXMuX2N1cnJlbmN5Q29kZSkge1xuICAgICAgICAgICAgY29uc3QgeyBjb2RlOiBjdXJyZW5jeUNvZGUgfSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZVxuICAgICAgICAgICAgICAgIC5nZXRTdGF0ZSgpXG4gICAgICAgICAgICAgICAgLmdldENhcnRPclRocm93KCkuY3VycmVuY3k7XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbmN5Q29kZSA9IGN1cnJlbmN5Q29kZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbmN5Q29kZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9nZXRUb3RhbFByaWNlKCk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkQ2hlY2tvdXQoKTtcblxuICAgICAgICBjb25zdCB7IGdldENoZWNrb3V0T3JUaHJvdywgZ2V0Q2FydE9yVGhyb3cgfSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB7IGRlY2ltYWxQbGFjZXMgfSA9IGdldENhcnRPclRocm93KCkuY3VycmVuY3k7XG4gICAgICAgIGNvbnN0IHRvdGFsUHJpY2UgPSByb3VuZChnZXRDaGVja291dE9yVGhyb3coKS5vdXRzdGFuZGluZ0JhbGFuY2UsIGRlY2ltYWxQbGFjZXMpLnRvRml4ZWQoXG4gICAgICAgICAgICBkZWNpbWFsUGxhY2VzLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl90b0NlbnRzKCt0b3RhbFByaWNlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9nZXRBdmFpbGFibGVDb3VudHJpZXMoKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgICAgICBjb25zdCBjb3VudHJpZXMgPSBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFNoaXBwaW5nQ291bnRyaWVzKCk7XG4gICAgICAgIGNvbnN0IGRlbGl2ZXJhYmxlQ291bnRyaWVzID1cbiAgICAgICAgICAgIGNvdW50cmllcy5nZXRTaGlwcGluZ0NvdW50cmllcygpPy5tYXAoKGNvdW50cnkpID0+IGNvdW50cnkuY29kZSkgfHwgW107XG5cbiAgICAgICAgcmV0dXJuIGRlbGl2ZXJhYmxlQ291bnRyaWVzLmZpbHRlcigoY29kZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGV4cHJlc3NDaGVja291dEFsbG93ZWRDb3VudHJ5Q29kZXMuaW5jbHVkZXMoY29kZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2dldEF2YWlsYWJsZVNoaXBwaW5nT3B0aW9ucygpOiBQcm9taXNlPFN0cmlwZUxpbmtWMlNoaXBwaW5nUmF0ZVtdIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGNvbnNpZ25tZW50cyA9IHN0YXRlLmdldENvbnNpZ25tZW50cygpO1xuXG4gICAgICAgIGlmICghY29uc2lnbm1lbnRzPy5bMF0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbnNpZ25tZW50ID0gY29uc2lnbm1lbnRzWzBdO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gKGNvbnNpZ25tZW50LmF2YWlsYWJsZVNoaXBwaW5nT3B0aW9ucyB8fCBbXSkubWFwKFxuICAgICAgICAgICAgdGhpcy5fZ2V0U3RyaXBlU2hpcHBpbmdPcHRpb24uYmluZCh0aGlzKSxcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBzZWxlY3RlZElkID0gY29uc2lnbm1lbnQuc2VsZWN0ZWRTaGlwcGluZ09wdGlvbj8uaWQ7XG5cbiAgICAgICAgaWYgKCFzZWxlY3RlZElkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9oYW5kbGVTaGlwcGluZ09wdGlvbkNoYW5nZShvcHRpb25zWzBdPy5pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBTZXQgc2VsZWN0ZWQgc2hpcHBpbmcgb3B0aW9uIGZpcnN0IGluIHRoZSBhcnJheSwgYXMgaXQgd2lsbCBiZSBzZWxlY3RlZCBieSBkZWZhdWx0XG4gICAgICAgICAgICBvcHRpb25zLnNvcnQoKG9wdGlvbikgPT4gKG9wdGlvbi5pZCA9PT0gc2VsZWN0ZWRJZCA/IC0xIDogMCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0U3RyaXBlU2hpcHBpbmdPcHRpb24oeyBpZCwgY29zdCwgZGVzY3JpcHRpb24gfTogU2hpcHBpbmdPcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6IGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgYW1vdW50OiB0aGlzLl90b0NlbnRzKGNvc3QpLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2hhbmRsZVNoaXBwaW5nT3B0aW9uQ2hhbmdlKG9wdGlvbklkPzogc3RyaW5nKSB7XG4gICAgICAgIGlmICghb3B0aW9uSWQgfHwgb3B0aW9uSWQgPT09ICdzaGlwcGluZ19vcHRpb25fdW5zZWxlY3RlZCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc2VsZWN0U2hpcHBpbmdPcHRpb24ob3B0aW9uSWQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldEFtb3VudFRyYW5zZm9ybWVyKCkge1xuICAgICAgICBpZiAodGhpcy5fYW1vdW50VHJhbnNmb3JtZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbW91bnRUcmFuc2Zvcm1lcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgZ2V0Q2FydCB9ID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHsgY3VycmVuY3kgfSA9IGdldENhcnQoKSB8fCB7fTtcblxuICAgICAgICBpZiAoY3VycmVuY3kpIHtcbiAgICAgICAgICAgIGNvbnN0IGFtb3VudFRyYW5zZm9ybWVyID0gbmV3IEFtb3VudFRyYW5zZm9ybWVyKGN1cnJlbmN5LmRlY2ltYWxQbGFjZXMpO1xuXG4gICAgICAgICAgICByZXR1cm4gYW1vdW50VHJhbnNmb3JtZXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF90b0NlbnRzKGFtb3VudDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrVmFsdWUgPSBNYXRoLnJvdW5kKGFtb3VudCAqIDEwMCk7XG4gICAgICAgIGNvbnN0IGFtb3VudFRyYW5zZm9ybWVyID0gdGhpcy5fZ2V0QW1vdW50VHJhbnNmb3JtZXIoKTtcblxuICAgICAgICBpZiAoYW1vdW50VHJhbnNmb3JtZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBhbW91bnRUcmFuc2Zvcm1lci50b0ludGVnZXIoYW1vdW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxsYmFja1ZhbHVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3RvZ2dsZUxvYWRpbmdJbmRpY2F0b3IoaXNMb2FkaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGlmIChpc0xvYWRpbmcgJiYgdGhpcy5fbG9hZGluZ0luZGljYXRvckNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5sb2FkaW5nSW5kaWNhdG9yLnNob3codGhpcy5fbG9hZGluZ0luZGljYXRvckNvbnRhaW5lcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRpbmdJbmRpY2F0b3IuaGlkZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIEN1c3RvbWVyU3RyYXRlZ3lGYWN0b3J5LFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5pbXBvcnQge1xuICAgIFN0cmlwZUludGVncmF0aW9uU2VydmljZSxcbiAgICBTdHJpcGVTY3JpcHRMb2FkZXIsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvc3RyaXBlLXV0aWxzJztcbmltcG9ydCB7IERFRkFVTFRfQ09OVEFJTkVSX1NUWUxFUywgTG9hZGluZ0luZGljYXRvciB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvdWknO1xuXG5pbXBvcnQgU3RyaXBlTGlua1YyQ3VzdG9tZXJTdHJhdGVneSBmcm9tICcuL3N0cmlwZS1saW5rLXYyLWN1c3RvbWVyLXN0cmF0ZWd5JztcblxuY29uc3QgY3JlYXRlU3RyaXBlTGlua1YyQ3VzdG9tZXJTdHJhdGVneTogQ3VzdG9tZXJTdHJhdGVneUZhY3Rvcnk8U3RyaXBlTGlua1YyQ3VzdG9tZXJTdHJhdGVneT4gPSAoXG4gICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbikgPT4ge1xuICAgIGNvbnN0IHN0cmlwZVNjcmlwdExvYWRlciA9IG5ldyBTdHJpcGVTY3JpcHRMb2FkZXIoZ2V0U2NyaXB0TG9hZGVyKCkpO1xuICAgIGNvbnN0IGxvYWRpbmdJbmRpY2F0b3IgPSBuZXcgTG9hZGluZ0luZGljYXRvcih7XG4gICAgICAgIGNvbnRhaW5lclN0eWxlczogREVGQVVMVF9DT05UQUlORVJfU1RZTEVTLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5ldyBTdHJpcGVMaW5rVjJDdXN0b21lclN0cmF0ZWd5KFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBzdHJpcGVTY3JpcHRMb2FkZXIsXG4gICAgICAgIG5ldyBTdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UocGF5bWVudEludGVncmF0aW9uU2VydmljZSwgc3RyaXBlU2NyaXB0TG9hZGVyKSxcbiAgICAgICAgbG9hZGluZ0luZGljYXRvcixcbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZVN0cmlwZUxpbmtWMkN1c3RvbWVyU3RyYXRlZ3ksIFt7IGlkOiAnc3RyaXBlb2NzJyB9XSk7XG4iLCJpbXBvcnQgSW52YWxpZEFyZ3VtZW50RXJyb3IgZnJvbSAnLi9pbnZhbGlkLWFyZ3VtZW50LWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiB3ZSBhcmUgdW5hYmxlIHRvIHN1Ym1pdCBhIHBheW1lbnQgYmVjYXVzZVxuICogdGhlIGNhbGxlciBoYXMgbm90IHByb3ZpZGVkIGFsbCB0aGUgcmVxdWlyZWQgZmllbGRzLCBpLmUuOiBpZiBhbiBhcmd1bWVudCBpc1xuICogbWlzc2luZyBvciBpdCBpcyBub3QgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yIGV4dGVuZHMgSW52YWxpZEFyZ3VtZW50RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGludmFsaWRGaWVsZHM/OiBzdHJpbmdbXSkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9ICdVbmFibGUgdG8gc3VibWl0IHBheW1lbnQgZm9yIHRoZSBvcmRlciBiZWNhdXNlIHRoZSBwYXlsb2FkIGlzIGludmFsaWQuJztcblxuICAgICAgICBpZiAoaW52YWxpZEZpZWxkcykge1xuICAgICAgICAgICAgbWVzc2FnZSA9IGAke21lc3NhZ2V9IE1ha2Ugc3VyZSB0aGUgZm9sbG93aW5nIGZpZWxkcyBhcmUgcHJvdmlkZWQgY29ycmVjdGx5OiAke2ludmFsaWRGaWVsZHMuam9pbihcbiAgICAgICAgICAgICAgICAnLCAnLFxuICAgICAgICAgICAgKX0uYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3InO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEhvc3RlZEluc3RydW1lbnQgfSBmcm9tICcuL3BheW1lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0hvc3RlZEluc3RydW1lbnRMaWtlKFxuICAgIGluc3RydW1lbnQ6IHVua25vd24sXG4pOiBpbnN0cnVtZW50IGlzIEhvc3RlZEluc3RydW1lbnQge1xuICAgIHJldHVybiAoXG4gICAgICAgIHR5cGVvZiBpbnN0cnVtZW50ID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBpbnN0cnVtZW50ICE9PSBudWxsICYmXG4gICAgICAgICh0eXBlb2YgKGluc3RydW1lbnQgYXMgSG9zdGVkSW5zdHJ1bWVudCkuc2hvdWxkU2F2ZUluc3RydW1lbnQgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICB0eXBlb2YgKGluc3RydW1lbnQgYXMgSG9zdGVkSW5zdHJ1bWVudCkuc2hvdWxkU2F2ZUluc3RydW1lbnQgPT09ICdib29sZWFuJykgJiZcbiAgICAgICAgKHR5cGVvZiAoaW5zdHJ1bWVudCBhcyBIb3N0ZWRJbnN0cnVtZW50KS5zaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50ID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgdHlwZW9mIChpbnN0cnVtZW50IGFzIEhvc3RlZEluc3RydW1lbnQpLnNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgPT09ICdib29sZWFuJylcbiAgICApO1xufVxuIiwiaW1wb3J0IHtcbiAgICBGb3JtYXR0ZWRQYXlsb2FkLFxuICAgIEZvcm1hdHRlZFZhdWx0ZWRJbnN0cnVtZW50LFxuICAgIEhvc3RlZFZhdWx0ZWRJbnN0cnVtZW50LFxuICAgIFBheW1lbnRJbnN0cnVtZW50UGF5bG9hZCxcbiAgICBWYXVsdGVkSW5zdHJ1bWVudCxcbn0gZnJvbSAnLi9wYXltZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNWYXVsdGVkSW5zdHJ1bWVudChcbiAgICBpbnN0cnVtZW50OiBQYXltZW50SW5zdHJ1bWVudFBheWxvYWQsXG4pOiBpbnN0cnVtZW50IGlzIFZhdWx0ZWRJbnN0cnVtZW50IHtcbiAgICByZXR1cm4gQm9vbGVhbigoaW5zdHJ1bWVudCBhcyBWYXVsdGVkSW5zdHJ1bWVudCkuaW5zdHJ1bWVudElkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSG9zdGVkVmF1bHRlZEluc3RydW1lbnQoXG4gICAgaW5zdHJ1bWVudDogUGF5bWVudEluc3RydW1lbnRQYXlsb2FkLFxuKTogaW5zdHJ1bWVudCBpcyBIb3N0ZWRWYXVsdGVkSW5zdHJ1bWVudCB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgQm9vbGVhbigoaW5zdHJ1bWVudCBhcyBIb3N0ZWRWYXVsdGVkSW5zdHJ1bWVudCkuaW5zdHJ1bWVudElkKSAmJlxuICAgICAgICAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RydW1lbnQsICdjY051bWJlcicpICYmXG4gICAgICAgICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdHJ1bWVudCwgJ2NjQ3Z2JylcbiAgICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGb3JtYXR0ZWRWYXVsdGVkSW5zdHJ1bWVudChcbiAgICBpbnN0cnVtZW50OiBQYXltZW50SW5zdHJ1bWVudFBheWxvYWQsXG4pOiBpbnN0cnVtZW50IGlzIEZvcm1hdHRlZFBheWxvYWQ8Rm9ybWF0dGVkVmF1bHRlZEluc3RydW1lbnQ+IHtcbiAgICBjb25zdCBmb3JtYXR0ZWRJbnN0cnVtZW50ID0gKGluc3RydW1lbnQgYXMgRm9ybWF0dGVkUGF5bG9hZDxGb3JtYXR0ZWRWYXVsdGVkSW5zdHJ1bWVudD4pXG4gICAgICAgIC5mb3JtYXR0ZWRQYXlsb2FkO1xuXG4gICAgaWYgKCFmb3JtYXR0ZWRJbnN0cnVtZW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICB0eXBlb2YgZm9ybWF0dGVkSW5zdHJ1bWVudC5iaWdwYXlfdG9rZW4gPT09ICdzdHJpbmcnIHx8XG4gICAgICAgIEJvb2xlYW4oZm9ybWF0dGVkSW5zdHJ1bWVudC5iaWdwYXlfdG9rZW4gJiYgZm9ybWF0dGVkSW5zdHJ1bWVudC5iaWdwYXlfdG9rZW4udG9rZW4pXG4gICAgKTtcbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3IgaWYgd2UgYXJlIHRyeWluZyB0byBtYWtlIGFuIG9yZGVyIGZpbmFsaXphdGlvbiByZXF1ZXN0IGZvciBhXG4gKiBwYXltZW50IG1ldGhvZCB0aGF0IGRvZXMgbm90IHJlcXVpcmUgc3VjaCBwcm9jZWR1cmUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignVGhlIGN1cnJlbnQgb3JkZXIgZG9lcyBub3QgbmVlZCB0byBiZSBmaW5hbGl6ZWQgYXQgdGhpcyBzdGFnZS4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ29yZGVyX2ZpbmFsaXphdGlvbl9ub3RfcmVxdWlyZWQnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEluZGl2aWR1YWxDYXJkRWxlbWVudE9wdGlvbnMgfSBmcm9tICcuL3N0cmlwZXYzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNJbmRpdmlkdWFsQ2FyZEVsZW1lbnRPcHRpb25zKFxuICAgIGluZGl2aWR1YWxDYXJkRWxlbWVudE9wdGlvbnM6IGFueSxcbik6IGluZGl2aWR1YWxDYXJkRWxlbWVudE9wdGlvbnMgaXMgSW5kaXZpZHVhbENhcmRFbGVtZW50T3B0aW9ucyB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgaW5kaXZpZHVhbENhcmRFbGVtZW50T3B0aW9ucyAhPT0gbnVsbCAmJlxuICAgICAgICB0eXBlb2YgaW5kaXZpZHVhbENhcmRFbGVtZW50T3B0aW9ucyA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgJ2NhcmROdW1iZXJFbGVtZW50T3B0aW9ucycgaW4gaW5kaXZpZHVhbENhcmRFbGVtZW50T3B0aW9ucyAmJlxuICAgICAgICAnY2FyZEN2Y0VsZW1lbnRPcHRpb25zJyBpbiBpbmRpdmlkdWFsQ2FyZEVsZW1lbnRPcHRpb25zICYmXG4gICAgICAgICdjYXJkRXhwaXJ5RWxlbWVudE9wdGlvbnMnIGluIGluZGl2aWR1YWxDYXJkRWxlbWVudE9wdGlvbnMgJiZcbiAgICAgICAgdHlwZW9mIGluZGl2aWR1YWxDYXJkRWxlbWVudE9wdGlvbnMuY2FyZE51bWJlckVsZW1lbnRPcHRpb25zICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICB0eXBlb2YgaW5kaXZpZHVhbENhcmRFbGVtZW50T3B0aW9ucy5jYXJkQ3ZjRWxlbWVudE9wdGlvbnMgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHR5cGVvZiBpbmRpdmlkdWFsQ2FyZEVsZW1lbnRPcHRpb25zLmNhcmRFeHBpcnlFbGVtZW50T3B0aW9ucyAhPT0gJ3VuZGVmaW5lZCdcbiAgICApO1xufVxuIiwiaW50ZXJmYWNlIEJhc2VFbGVtZW50T3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogQ3VzdG9taXplIHRoZSBhcHBlYXJhbmNlIG9mIGFuIGVsZW1lbnQgdXNpbmcgQ1NTIHByb3BlcnRpZXMgcGFzc2VkIGluIGEgW1N0eWxlXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9hcHBlbmRpeC9zdHlsZSkgb2JqZWN0LFxuICAgICAqIHdoaWNoIGNvbnNpc3RzIG9mIENTUyBwcm9wZXJ0aWVzIG5lc3RlZCB1bmRlciBvYmplY3RzIGZvciBlYWNoIHZhcmlhbnQuXG4gICAgICovXG4gICAgc3R5bGU/OiBTdHJpcGVFbGVtZW50U3R5bGU7XG5cbiAgICAvKipcbiAgICAgKiBTZXQgY3VzdG9tIGNsYXNzIG5hbWVzIG9uIHRoZSBjb250YWluZXIgRE9NIGVsZW1lbnQgd2hlbiB0aGUgU3RyaXBlIGVsZW1lbnQgaXMgaW4gYSBwYXJ0aWN1bGFyIHN0YXRlLlxuICAgICAqL1xuICAgIGNsYXNzZXM/OiBTdHJpcGVFbGVtZW50Q2xhc3NlcztcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSBkaXNhYmxlZCBzdGF0ZSB0byB0aGUgRWxlbWVudCBzdWNoIHRoYXQgdXNlciBpbnB1dCBpcyBub3QgYWNjZXB0ZWQuIERlZmF1bHQgaXMgZmFsc2UuXG4gICAgICovXG4gICAgZGlzYWJsZWQ/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVBheW1lbnRNZXRob2RDYXJkRGF0YSBleHRlbmRzIFBheW1lbnRNZXRob2RDcmVhdGVQYXJhbXMge1xuICAgIGNhcmQ/OiBTdHJpcGVFbGVtZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVBheW1lbnRNZXRob2RJZGVhbERhdGEgZXh0ZW5kcyBQYXltZW50TWV0aG9kQ3JlYXRlUGFyYW1zIHtcbiAgICBpZGVhbD86IFN0cmlwZUVsZW1lbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlUGF5bWVudE1ldGhvZFNlcGFEYXRhIGV4dGVuZHMgUGF5bWVudE1ldGhvZENyZWF0ZVBhcmFtcyB7XG4gICAgc2VwYV9kZWJpdD86IFN0cmlwZUVsZW1lbnQ7XG59XG5cbi8qKlxuICogVGhlIFBheW1lbnRJbnRlbnQgb2JqZWN0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBheW1lbnRJbnRlbnQge1xuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgb2JqZWN0LlxuICAgICAqL1xuICAgIGlkOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBTdGF0dXMgb2YgdGhpcyBQYXltZW50SW50ZW50LiBSZWFkIG1vcmUgYWJvdXQgZWFjaCBQYXltZW50SW50ZW50IFtzdGF0dXNdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3BheW1lbnRzL2ludGVudHMjaW50ZW50LXN0YXR1c2VzKS5cbiAgICAgKi9cbiAgICBzdGF0dXM6ICdzdWNjZWVkZWQnIHwgc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBheW1lbnQgZXJyb3IgZW5jb3VudGVyZWQgaW4gdGhlIHByZXZpb3VzIFBheW1lbnRJbnRlbnQgY29uZmlybWF0aW9uLiBJdCB3aWxsIGJlIGNsZWFyZWQgaWYgdGhlIFBheW1lbnRJbnRlbnQgaXMgbGF0ZXIgdXBkYXRlZCBmb3IgYW55IHJlYXNvbi5cbiAgICAgKi9cbiAgICBsYXN0X3BheW1lbnRfZXJyb3I6IExhc3RQYXltZW50RXJyb3IgfCBudWxsO1xufVxuXG4vKipcbiAqIFRoZSBwYXltZW50IGVycm9yIGVuY291bnRlcmVkIGluIHRoZSBwcmV2aW91cyBQYXltZW50SW50ZW50IGNvbmZpcm1hdGlvbi4gSXQgd2lsbCBiZSBjbGVhcmVkIGlmIHRoZSBQYXltZW50SW50ZW50IGlzIGxhdGVyIHVwZGF0ZWQgZm9yIGFueSByZWFzb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGFzdFBheW1lbnRFcnJvciB7XG4gICAgLyoqXG4gICAgICogQSBodW1hbi1yZWFkYWJsZSBtZXNzYWdlIHByb3ZpZGluZyBtb3JlIGRldGFpbHMgYWJvdXQgdGhlIGVycm9yLiBGb3IgY2FyZCBlcnJvcnMsIHRoZXNlIG1lc3NhZ2VzIGNhbiBiZSBzaG93biB0byB5b3VyIHVzZXJzLlxuICAgICAqL1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogVGhlIFBheW1lbnRNZXRob2Qgb2JqZWN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGF5bWVudE1ldGhvZCB7XG4gICAgLyoqXG4gICAgICogVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBvYmplY3QuXG4gICAgICovXG4gICAgaWQ6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBQYXltZW50TWV0aG9kLiBBbiBhZGRpdGlvbmFsIGhhc2ggaXMgaW5jbHVkZWQgb24gdGhlIFBheW1lbnRNZXRob2Qgd2l0aCBhIG5hbWUgbWF0Y2hpbmcgdGhpcyB2YWx1ZS5cbiAgICAgKiBJdCBjb250YWlucyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHNwZWNpZmljIHRvIHRoZSBQYXltZW50TWV0aG9kIHR5cGUuXG4gICAgICovXG4gICAgdHlwZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBheW1lbnRNZXRob2RDcmVhdGVQYXJhbXMge1xuICAgIC8qKlxuICAgICAqIEJpbGxpbmcgaW5mb3JtYXRpb24gYXNzb2NpYXRlZCB3aXRoIHRoZSBQYXltZW50TWV0aG9kIHRoYXQgbWF5IGJlIHVzZWQgb3IgcmVxdWlyZWQgYnkgcGFydGljdWxhciB0eXBlcyBvZiBwYXltZW50IG1ldGhvZHMuXG4gICAgICovXG4gICAgYmlsbGluZ19kZXRhaWxzPzogU3RyaXBlQmlsbGluZ0RldGFpbHM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlRXJyb3Ige1xuICAgIC8qKlxuICAgICAqIEEgaHVtYW4tcmVhZGFibGUgbWVzc2FnZSBwcm92aWRpbmcgbW9yZSBkZXRhaWxzIGFib3V0IHRoZSBlcnJvci4gRm9yIGNhcmQgZXJyb3JzLCB0aGVzZSBtZXNzYWdlcyBjYW4gYmUgc2hvd24gdG8geW91ciB1c2Vycy5cbiAgICAgKi9cbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFBheW1lbnRJbnRlbnQgb2JqZWN0LlxuICAgICAqL1xuICAgIHBheW1lbnRfaW50ZW50OiBQYXltZW50SW50ZW50O1xuXG4gICAgLyoqXG4gICAgICogQSBodW1hbi1yZWFkYWJsZSBjb2RlIGZvciB0aGUgZXJyb3Igb2J0YWluZWRcbiAgICAgKi9cbiAgICBjb2RlPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIENTUyBwcm9wZXJ0aWVzIHN1cHBvcnRlZCBieSBTdHJpcGUuanMuXG4gKi9cbmludGVyZmFjZSBTdHJpcGVFbGVtZW50Q1NTUHJvcGVydGllcyB7XG4gICAgLyoqXG4gICAgICogVGhlIFtiYWNrZ3JvdW5kLWNvbG9yXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvYmFja2dyb3VuZC1jb2xvcikgQ1NTIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogVGhpcyBwcm9wZXJ0eSB3b3JrcyBiZXN0IHdpdGggdGhlIGA6OnNlbGVjdGlvbmAgcHNldWRvLWNsYXNzLlxuICAgICAqIEluIG90aGVyIGNhc2VzLCBjb25zaWRlciBzZXR0aW5nIHRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9uIHRoZSBlbGVtZW50J3MgY29udGFpbmVyIGluc3RhZWQuXG4gICAgICovXG4gICAgYmFja2dyb3VuZENvbG9yPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFtjb2xvcl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2NvbG9yKSBDU1MgcHJvcGVydHkuXG4gICAgICovXG4gICAgY29sb3I/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgW2ZvbnQtZmFtaWx5XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvZm9udC1mYW1pbHkpIENTUyBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBmb250RmFtaWx5Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFtmb250LXNpemVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9mb250LXNpemUpIENTUyBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBmb250U2l6ZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBbZm9udC1zbW9vdGhpbmddKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9mb250LXNtb290aGluZykgQ1NTIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGZvbnRTbW9vdGhpbmc/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgW2ZvbnQtc3R5bGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9mb250LXN0eWxlKSBDU1MgcHJvcGVydHkuXG4gICAgICovXG4gICAgZm9udFN0eWxlPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFtmb250LXZhcmlhbnRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9mb250LXZhcmlhbnQpIENTUyBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBmb250VmFyaWFudD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBbZm9udC13ZWlnaHRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9mb250LXdlaWdodCkgQ1NTIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGZvbnRXZWlnaHQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBIGN1c3RvbSBwcm9wZXJ0eSwgdXNlZCB0byBzZXQgdGhlIGNvbG9yIG9mIHRoZSBpY29ucyB0aGF0IGFyZSByZW5kZXJlZCBpbiBhbiBlbGVtZW50LlxuICAgICAqL1xuICAgIGljb25Db2xvcj86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBbbGluZS1oZWlnaHRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9saW5lLWhlaWdodCkgQ1NTIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogVG8gYXZvaWQgY3Vyc29ycyBiZWluZyByZW5kZXJlZCBpbmNvbnNpc3RlbnRseSBhY3Jvc3MgYnJvd3NlcnMsIGNvbnNpZGVyIHVzaW5nIGEgcGFkZGluZyBvbiB0aGUgZWxlbWVudCdzIGNvbnRhaW5lciBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGxpbmVIZWlnaHQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgW2xldHRlci1zcGFjaW5nXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvbGV0dGVyLXNwYWNpbmcpIENTUyBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBsZXR0ZXJTcGFjaW5nPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFt0ZXh0LWFsaWduXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvdGV4dC1hbGlnbikgQ1NTIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQXZhaWxhYmxlIGZvciB0aGUgYGNhcmROdW1iZXJgLCBgY2FyZEV4cGlyeWAsIGFuZCBgY2FyZEN2Y2AgZWxlbWVudHMuXG4gICAgICovXG4gICAgdGV4dEFsaWduPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFtwYWRkaW5nXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvcGFkZGluZykgQ1NTIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQXZhaWxhYmxlIGZvciB0aGUgYGlkZWFsQmFua2AgZWxlbWVudC5cbiAgICAgKiBBY2NlcHRzIGludGVnZXIgYHB4YCB2YWx1ZXMuXG4gICAgICovXG4gICAgcGFkZGluZz86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBbdGV4dC1kZWNvcmF0aW9uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvdGV4dC1kZWNvcmF0aW9uKSBDU1MgcHJvcGVydHkuXG4gICAgICovXG4gICAgdGV4dERlY29yYXRpb24/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgW3RleHQtc2hhZG93XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvdGV4dC1zaGFkb3cpIENTUyBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICB0ZXh0U2hhZG93Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFt0ZXh0LXRyYW5zZm9ybV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3RleHQtdHJhbnNmb3JtKSBDU1MgcHJvcGVydHkuXG4gICAgICovXG4gICAgdGV4dFRyYW5zZm9ybT86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFN0cmlwZUVsZW1lbnRTdHlsZVZhcmlhbnQgZXh0ZW5kcyBTdHJpcGVFbGVtZW50Q1NTUHJvcGVydGllcyB7XG4gICAgJzpob3Zlcic/OiBTdHJpcGVFbGVtZW50Q1NTUHJvcGVydGllcztcblxuICAgICc6Zm9jdXMnPzogU3RyaXBlRWxlbWVudENTU1Byb3BlcnRpZXM7XG5cbiAgICAnOjpwbGFjZWhvbGRlcic/OiBTdHJpcGVFbGVtZW50Q1NTUHJvcGVydGllcztcblxuICAgICc6OnNlbGVjdGlvbic/OiBTdHJpcGVFbGVtZW50Q1NTUHJvcGVydGllcztcblxuICAgICc6LXdlYmtpdC1hdXRvZmlsbCc/OiBTdHJpcGVFbGVtZW50Q1NTUHJvcGVydGllcztcblxuICAgIC8qKlxuICAgICAqIEF2YWlsYWJsZSBmb3IgYWxsIGVsZW1lbnRzIGV4Y2VwdCB0aGUgYHBheW1lbnRSZXF1ZXN0QnV0dG9uYCBlbGVtZW50XG4gICAgICovXG4gICAgJzpkaXNhYmxlZCc/OiBTdHJpcGVFbGVtZW50Q1NTUHJvcGVydGllcztcblxuICAgIC8qKlxuICAgICAqIEF2YWlsYWJsZSBmb3IgdGhlIGBjYXJkTnVtYmVyYCwgYGNhcmRFeHBpcnlgLCBhbmQgYGNhcmRDdmNgIGVsZW1lbnRzLlxuICAgICAqL1xuICAgICc6Oi1tcy1jbGVhcic/OiBTdHJpcGVFbGVtZW50Q1NTUHJvcGVydGllcyAmIHsgZGlzcGxheTogc3RyaW5nIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZEVsZW1lbnRPcHRpb25zIGV4dGVuZHMgQmFzZUVsZW1lbnRPcHRpb25zIHtcbiAgICAvKipcbiAgICAgKiBBIHByZS1maWxsZWQgc2V0IG9mIHZhbHVlcyB0byBpbmNsdWRlIGluIHRoZSBpbnB1dCAoZS5nLiwge3Bvc3RhbENvZGU6ICc5NDExMCd9KS5cbiAgICAgKiBOb3RlIHRoYXQgc2Vuc2l0aXZlIGNhcmQgaW5mb3JtYXRpb24gKGNhcmQgbnVtYmVyLCBDVkMsIGFuZCBleHBpcmF0aW9uIGRhdGUpXG4gICAgICogY2Fubm90IGJlIHByZS1maWxsZWRcbiAgICAgKi9cbiAgICB2YWx1ZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEhpZGUgdGhlIHBvc3RhbCBjb2RlIGZpZWxkLiBEZWZhdWx0IGlzIGZhbHNlLiBJZiB5b3UgYXJlIGFscmVhZHkgY29sbGVjdGluZyBhXG4gICAgICogZnVsbCBiaWxsaW5nIGFkZHJlc3Mgb3IgcG9zdGFsIGNvZGUgZWxzZXdoZXJlLCBzZXQgdGhpcyB0byB0cnVlLlxuICAgICAqL1xuICAgIGhpZGVQb3N0YWxDb2RlPzogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEFwcGVhcmFuY2Ugb2YgdGhlIGljb24gaW4gdGhlIEVsZW1lbnQuXG4gICAgICovXG4gICAgaWNvblN0eWxlPzogSWNvblN0eWxlO1xuXG4gICAgLypcbiAgICAgKiBIaWRlcyB0aGUgaWNvbiBpbiB0aGUgRWxlbWVudCwgRGVmYXVsdCBpcyBmYWxzZVxuICAgICAqL1xuICAgIGhpZGVJY29uPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIEJhc2VJbmRpdmlkdWFsRWxlbWVudE9wdGlvbnMgZXh0ZW5kcyBCYXNlRWxlbWVudE9wdGlvbnMge1xuICAgIGNvbnRhaW5lcklkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZE51bWJlckVsZW1lbnRPcHRpb25zIGV4dGVuZHMgQmFzZUluZGl2aWR1YWxFbGVtZW50T3B0aW9ucyB7XG4gICAgLypcbiAgICAgKiBQbGFjZWhvbGRlclxuICAgICAqL1xuICAgIHBsYWNlaG9sZGVyPzogc3RyaW5nO1xuXG4gICAgc2hvd0ljb24/OiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIEFwcGVhcmFuY2Ugb2YgdGhlIGljb24gaW4gdGhlIEVsZW1lbnQuIEVpdGhlciBgc29saWRgIG9yIGBkZWZhdWx0YFxuICAgICAqL1xuICAgIGljb25TdHlsZT86IEljb25TdHlsZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXJkRXhwaXJ5RWxlbWVudE9wdGlvbnMgZXh0ZW5kcyBCYXNlSW5kaXZpZHVhbEVsZW1lbnRPcHRpb25zIHtcbiAgICAvKlxuICAgICAqIFBsYWNlaG9sZGVyXG4gICAgICovXG4gICAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZEN2Y0VsZW1lbnRPcHRpb25zIGV4dGVuZHMgQmFzZUluZGl2aWR1YWxFbGVtZW50T3B0aW9ucyB7XG4gICAgLypcbiAgICAgKiBQbGFjZWhvbGRlclxuICAgICAqL1xuICAgIHBsYWNlaG9sZGVyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEliYW5FbGVtZW50T3B0aW9ucyBleHRlbmRzIEJhc2VFbGVtZW50T3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogU3BlY2lmeSB0aGUgbGlzdCBvZiBjb3VudHJpZXMgb3IgY291bnRyeS1ncm91cHMgd2hvc2UgSUJBTnMgeW91IHdhbnQgdG8gYWxsb3cuXG4gICAgICogTXVzdCBiZSBbJ1NFUEEnXS5cbiAgICAgKi9cbiAgICBzdXBwb3J0ZWRDb3VudHJpZXM/OiBzdHJpbmdbXTtcblxuICAgIC8qKlxuICAgICAqIEN1c3RvbWl6ZSB0aGUgY291bnRyeSBhbmQgZm9ybWF0IG9mIHRoZSBwbGFjZWhvbGRlciBJQkFOLiBEZWZhdWx0IGlzIERFLlxuICAgICAqL1xuICAgIHBsYWNlaG9sZGVyQ291bnRyeT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEFwcGVhcmFuY2Ugb2YgdGhlIGljb24gaW4gdGhlIEVsZW1lbnQuXG4gICAgICovXG4gICAgaWNvblN0eWxlPzogSWNvblN0eWxlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElkZWFsRWxlbWVudE9wdGlvbnMgZXh0ZW5kcyBCYXNlRWxlbWVudE9wdGlvbnMge1xuICAgIHZhbHVlPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogSGlkZXMgdGhlIGljb24gaW4gdGhlIEVsZW1lbnQuIERlZmF1bHQgaXMgZmFsc2UuXG4gICAgICovXG4gICAgaGlkZUljb24/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFppcENvZGVFbGVtZW50T3B0aW9ucyB7XG4gICAgY29udGFpbmVySWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGVudW0gSWNvblN0eWxlIHtcbiAgICBTb2xpZCA9ICdzb2xpZCcsXG4gICAgRGVmYXVsdCA9ICdkZWZhdWx0Jyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVFbGVtZW50U3R5bGUge1xuICAgIC8qKlxuICAgICAqIEJhc2UgdmFyaWFudOKAlGFsbCBvdGhlciB2YXJpYW50cyBpbmhlcml0IGZyb20gdGhlc2Ugc3R5bGVzLlxuICAgICAqL1xuICAgIGJhc2U/OiBTdHJpcGVFbGVtZW50U3R5bGVWYXJpYW50O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllZCB3aGVuIHRoZSBlbGVtZW50IGhhcyB2YWxpZCBpbnB1dC5cbiAgICAgKi9cbiAgICBjb21wbGV0ZT86IFN0cmlwZUVsZW1lbnRTdHlsZVZhcmlhbnQ7XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVkIHdoZW4gdGhlIGVsZW1lbnQgaGFzIG5vIGN1c3RvbWVyIGlucHV0LlxuICAgICAqL1xuICAgIGVtcHR5PzogU3RyaXBlRWxlbWVudFN0eWxlVmFyaWFudDtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZWQgd2hlbiB0aGUgZWxlbWVudCBoYXMgaW52YWxpZCBpbnB1dC5cbiAgICAgKi9cbiAgICBpbnZhbGlkPzogU3RyaXBlRWxlbWVudFN0eWxlVmFyaWFudDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVFbGVtZW50Q2xhc3NlcyB7XG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgY2xhc3MgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLiBEZWZhdWx0cyB0byBTdHJpcGVFbGVtZW50LlxuICAgICAqL1xuICAgIGJhc2U/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2xhc3MgbmFtZSB0byBhcHBseSB3aGVuIHRoZSBFbGVtZW50IGlzIGNvbXBsZXRlLiBEZWZhdWx0cyB0byBTdHJpcGVFbGVtZW50LS1jb21wbGV0ZS5cbiAgICAgKi9cbiAgICBjb21wbGV0ZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBjbGFzcyBuYW1lIHRvIGFwcGx5IHdoZW4gdGhlIEVsZW1lbnQgaXMgZW1wdHkuIERlZmF1bHRzIHRvIFN0cmlwZUVsZW1lbnQtLWVtcHR5LlxuICAgICAqL1xuICAgIGVtcHR5Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNsYXNzIG5hbWUgdG8gYXBwbHkgd2hlbiB0aGUgRWxlbWVudCBpcyBmb2N1c2VkLiBEZWZhdWx0cyB0byBTdHJpcGVFbGVtZW50LS1mb2N1cy5cbiAgICAgKi9cbiAgICBmb2N1cz86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBjbGFzcyBuYW1lIHRvIGFwcGx5IHdoZW4gdGhlIEVsZW1lbnQgaXMgaW52YWxpZC4gRGVmYXVsdHMgdG8gU3RyaXBlRWxlbWVudC0taW52YWxpZC5cbiAgICAgKi9cbiAgICBpbnZhbGlkPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNsYXNzIG5hbWUgdG8gYXBwbHkgd2hlbiB0aGUgRWxlbWVudCBoYXMgaXRzIHZhbHVlIGF1dG9maWxsZWQgYnkgdGhlIGJyb3dzZXJcbiAgICAgKiAob25seSBvbiBDaHJvbWUgYW5kIFNhZmFyaSkuIERlZmF1bHRzIHRvIFN0cmlwZUVsZW1lbnQtLXdlYmtpdC1hdXRvZmlsbC5cbiAgICAgKi9cbiAgICB3ZWJraXRBdXRvRmlsbD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVBZGRyZXNzIHtcbiAgICAvKipcbiAgICAgKiBDaXR5LCBkaXN0cmljdCwgc3VidXJiLCB0b3duLCBvciB2aWxsYWdlLlxuICAgICAqL1xuICAgIGNpdHk/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUd28tbGV0dGVyIGNvdW50cnkgY29kZSAoW0lTTyAzMTY2LTEgYWxwaGEtMl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPXzMxNjYtMV9hbHBoYS0yKSkuXG4gICAgICovXG4gICAgY291bnRyeT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEFkZHJlc3MgbGluZSAxIChlLmcuLCBzdHJlZXQsIFBPIEJveCwgb3IgY29tcGFueSBuYW1lKS5cbiAgICAgKi9cbiAgICBsaW5lMTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQWRkcmVzcyBsaW5lIDIgKGUuZy4sIGFwYXJ0bWVudCwgc3VpdGUsIHVuaXQsIG9yIGJ1aWxkaW5nKS5cbiAgICAgKi9cbiAgICBsaW5lMj86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFpJUCBvciBwb3N0YWwgY29kZS5cbiAgICAgKi9cbiAgICBwb3N0YWxfY29kZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFN0YXRlLCBjb3VudHksIHByb3ZpbmNlLCBvciByZWdpb24uXG4gICAgICovXG4gICAgc3RhdGU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQmlsbGluZ0RldGFpbHMge1xuICAgIC8qKlxuICAgICAqIEJpbGxpbmcgYWRkcmVzcy5cbiAgICAgKi9cbiAgICBhZGRyZXNzPzogU3RyaXBlQWRkcmVzcztcblxuICAgIC8qKlxuICAgICAqIEVtYWlsIGFkZHJlc3MuXG4gICAgICovXG4gICAgZW1haWw/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBGdWxsIG5hbWUuXG4gICAgICovXG4gICAgbmFtZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEJpbGxpbmcgcGhvbmUgbnVtYmVyIChpbmNsdWRpbmcgZXh0ZW5zaW9uKS5cbiAgICAgKi9cbiAgICBwaG9uZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVTaGlwcGluZ0FkZHJlc3Mge1xuICAgIC8qKlxuICAgICAqIFNoaXBwaW5nIEFkZHJlc3NcbiAgICAgKi9cbiAgICBhZGRyZXNzOiBTdHJpcGVBZGRyZXNzO1xuXG4gICAgLyoqXG4gICAgICogUmVjaXBpZW50IG5hbWVcbiAgICAgKi9cbiAgICBuYW1lOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVsaXZlcnkgc2VydmljZSB0aGF0IHNoaXBwZWQgYSBwaHlzaWNhbCBwcm9kdWN0LCBzdWNoIGFzIEZlZGV4LCBVUFMsIFVTUFMsIGV0Yy5cbiAgICAgKi9cbiAgICBjYXJyaWVyPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogUmVjaXBpZW50IHBob25lIChpbmNsdWRpbmcgZXh0ZW5zaW9uKS5cbiAgICAgKi9cbiAgICBwaG9uZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0cmFja2luZyBudW1iZXIgZm9yIGEgcGh5c2ljYWwgcHJvZHVjdCwgb2J0YWluZWQgZnJvbSB0aGUgZGVsaXZlcnkgc2VydmljZS5cbiAgICAgKiBJZiBtdWx0aXBsZSB0cmFja2luZyBudW1iZXJzIHdlcmUgZ2VuZXJhdGVkIGZvciB0aGlzIHB1cmNoYXNlLCBwbGVhc2Ugc2VwYXJhdGUgdGhlbSB3aXRoIGNvbW1hcy5cbiAgICAgKi9cbiAgICB0cmFja2luZ19udW1iZXI/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogRGF0YSB0byBiZSBzZW50IHdpdGggYSBgc3RyaXBlLmNvbmZpcm1BbGlwYXlQYXltZW50YCByZXF1ZXN0LlxuICogUmVmZXIgdG8gdGhlIFtQYXltZW50IEludGVudHMgQVBJXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9pbnRlbnRzL2NvbmZpcm0pIGZvciBhIGZ1bGwgbGlzdCBvZiBwYXJhbWV0ZXJzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUNvbmZpcm1BbGlwYXlQYXltZW50RGF0YSB7XG4gICAgLypcbiAgICAgKiBJZiB5b3UgYXJlIFtoYW5kbGluZyBuZXh0IGFjdGlvbnMgeW91cnNlbGZdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3BheW1lbnRzL3BheW1lbnQtaW50ZW50cy92ZXJpZnlpbmctc3RhdHVzI25leHQtYWN0aW9ucyksIHBhc3MgaW4gYSByZXR1cm5fdXJsLiBJZiB0aGUgc3Vic2VxdWVudCBhY3Rpb25cbiAgICAgKiBpcyByZWRpcmVjdF90b191cmwsIHRoaXMgVVJMIHdpbGwgYmUgdXNlZCBvbiB0aGUgcmV0dXJuIHBhdGggZm9yIHRoZSByZWRpcmVjdC5cbiAgICAgKlxuICAgICAqIEByZWNvbW1lbmRlZFxuICAgICAqL1xuICAgIHJldHVybl91cmw/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogRGF0YSB0byBiZSBzZW50IHdpdGggYSBgc3RyaXBlLmNvbmZpcm1DYXJkUGF5bWVudGAgcmVxdWVzdC5cbiAqIFJlZmVyIHRvIHRoZSBbUGF5bWVudCBJbnRlbnRzIEFQSV0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfaW50ZW50cy9jb25maXJtKSBmb3IgYSBmdWxsIGxpc3Qgb2YgcGFyYW1ldGVycy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVDb25maXJtQ2FyZFBheW1lbnREYXRhIHtcbiAgICAvKlxuICAgICAqIEVpdGhlciB0aGUgaWQgb2YgYW4gZXhpc3RpbmcgW1BheW1lbnRNZXRob2RdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X21ldGhvZHMpLCBvciBhbiBvYmplY3QgY29udGFpbmluZyBkYXRhIHRvIGNyZWF0ZSBhXG4gICAgICogUGF5bWVudE1ldGhvZCB3aXRoLiBTZWUgdGhlIHVzZSBjYXNlIHNlY3Rpb25zIGJlbG93IGZvciBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHJlY29tbWVuZGVkXG4gICAgICovXG4gICAgcGF5bWVudF9tZXRob2Q/OiBDcmVhdGVQYXltZW50TWV0aG9kQ2FyZERhdGE7XG5cbiAgICAvKlxuICAgICAqIFRoZSBbc2hpcHBpbmcgZGV0YWlsc10oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfaW50ZW50cy9jb25maXJtI2NvbmZpcm1fcGF5bWVudF9pbnRlbnQtc2hpcHBpbmcpIGZvciB0aGUgcGF5bWVudCwgaWYgY29sbGVjdGVkLlxuICAgICAqXG4gICAgICogQHJlY29tbWVuZGVkXG4gICAgICovXG4gICAgc2hpcHBpbmc/OiBTdHJpcGVTaGlwcGluZ0FkZHJlc3M7XG5cbiAgICAvKlxuICAgICAqIElmIHlvdSBhcmUgW2hhbmRsaW5nIG5leHQgYWN0aW9ucyB5b3Vyc2VsZl0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvcGF5bWVudHMvcGF5bWVudC1pbnRlbnRzL3ZlcmlmeWluZy1zdGF0dXMjbmV4dC1hY3Rpb25zKSwgcGFzcyBpbiBhIHJldHVybl91cmwuIElmIHRoZSBzdWJzZXF1ZW50IGFjdGlvblxuICAgICAqIGlzIHJlZGlyZWN0X3RvX3VybCwgdGhpcyBVUkwgd2lsbCBiZSB1c2VkIG9uIHRoZSByZXR1cm4gcGF0aCBmb3IgdGhlIHJlZGlyZWN0LlxuICAgICAqXG4gICAgICogQHJlY29tbWVuZGVkXG4gICAgICovXG4gICAgcmV0dXJuX3VybD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGF0IHlvdSBpbnRlbmQgdG8gbWFrZSBmdXR1cmUgcGF5bWVudHMgd2l0aCB0aGlzIFBheW1lbnRJbnRlbnQncyBwYXltZW50IG1ldGhvZC5cbiAgICAgKlxuICAgICAqIElmIHByZXNlbnQsIHRoZSBwYXltZW50IG1ldGhvZCB1c2VkIHdpdGggdGhpcyBQYXltZW50SW50ZW50IGNhbiBiZSBbYXR0YWNoZWRdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X21ldGhvZHMvYXR0YWNoKSB0byBhIEN1c3RvbWVyLCBldmVuIGFmdGVyIHRoZSB0cmFuc2FjdGlvbiBjb21wbGV0ZXMuXG4gICAgICpcbiAgICAgKiBVc2UgYG9uX3Nlc3Npb25gIGlmIHlvdSBpbnRlbmQgdG8gb25seSByZXVzZSB0aGUgcGF5bWVudCBtZXRob2Qgd2hlbiB5b3VyIGN1c3RvbWVyIGlzIHByZXNlbnQgaW4geW91ciBjaGVja291dCBmbG93LiBVc2UgYG9mZl9zZXNzaW9uYCBpZiB5b3VyIGN1c3RvbWVyIG1heSBvciBtYXkgbm90IGJlIGluIHlvdXIgY2hlY2tvdXQgZmxvdy5cbiAgICAgKi9cbiAgICBzZXR1cF9mdXR1cmVfdXNhZ2U/OiAnb2ZmX3Nlc3Npb24nIHwgJ29uX3Nlc3Npb24nIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBEYXRhIHRvIGJlIHNlbnQgd2l0aCBhIGBzdHJpcGUuY29uZmlybUlkZWFsUGF5bWVudGAgcmVxdWVzdC5cbiAqIFJlZmVyIHRvIHRoZSBbUGF5bWVudCBJbnRlbnRzIEFQSV0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfaW50ZW50cy9jb25maXJtKSBmb3IgYSBmdWxsIGxpc3Qgb2YgcGFyYW1ldGVycy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVDb25maXJtSWRlYWxQYXltZW50RGF0YSB7XG4gICAgLypcbiAgICAgKiBFaXRoZXIgdGhlIGlkIG9mIGFuIGV4aXN0aW5nIFtQYXltZW50TWV0aG9kXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9tZXRob2RzKSwgb3IgYW4gb2JqZWN0IGNvbnRhaW5pbmcgZGF0YSB0byBjcmVhdGUgYVxuICAgICAqIFBheW1lbnRNZXRob2Qgd2l0aC4gU2VlIHRoZSB1c2UgY2FzZSBzZWN0aW9ucyBiZWxvdyBmb3IgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEByZWNvbW1lbmRlZFxuICAgICAqL1xuICAgIHBheW1lbnRfbWV0aG9kPzogQ3JlYXRlUGF5bWVudE1ldGhvZElkZWFsRGF0YTtcblxuICAgIC8qXG4gICAgICogSWYgeW91IGFyZSBbaGFuZGxpbmcgbmV4dCBhY3Rpb25zIHlvdXJzZWxmXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9wYXltZW50cy9wYXltZW50LWludGVudHMvdmVyaWZ5aW5nLXN0YXR1cyNuZXh0LWFjdGlvbnMpLCBwYXNzIGluIGEgcmV0dXJuX3VybC4gSWYgdGhlIHN1YnNlcXVlbnQgYWN0aW9uXG4gICAgICogaXMgcmVkaXJlY3RfdG9fdXJsLCB0aGlzIFVSTCB3aWxsIGJlIHVzZWQgb24gdGhlIHJldHVybiBwYXRoIGZvciB0aGUgcmVkaXJlY3QuXG4gICAgICpcbiAgICAgKiBAcmVjb21tZW5kZWRcbiAgICAgKi9cbiAgICByZXR1cm5fdXJsPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIERhdGEgdG8gYmUgc2VudCB3aXRoIGEgYHN0cmlwZS5jb25maXJtU0VQQVBheW1lbnRgIHJlcXVlc3QuXG4gKiBSZWZlciB0byB0aGUgW1BheW1lbnQgSW50ZW50cyBBUEldKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X2ludGVudHMvY29uZmlybSkgZm9yIGEgZnVsbCBsaXN0IG9mIHBhcmFtZXRlcnMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQ29uZmlybVNlcGFQYXltZW50RGF0YSB7XG4gICAgLypcbiAgICAgKiBFaXRoZXIgdGhlIGlkIG9mIGFuIGV4aXN0aW5nIFtQYXltZW50TWV0aG9kXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9tZXRob2RzKSwgb3IgYW4gb2JqZWN0IGNvbnRhaW5pbmcgZGF0YSB0byBjcmVhdGUgYVxuICAgICAqIFBheW1lbnRNZXRob2Qgd2l0aC4gU2VlIHRoZSB1c2UgY2FzZSBzZWN0aW9ucyBiZWxvdyBmb3IgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEByZWNvbW1lbmRlZFxuICAgICAqL1xuICAgIHBheW1lbnRfbWV0aG9kPzogQ3JlYXRlUGF5bWVudE1ldGhvZFNlcGFEYXRhO1xufVxuXG5leHBvcnQgdHlwZSBTdHJpcGVDb25maXJtUGF5bWVudERhdGEgPVxuICAgIHwgU3RyaXBlQ29uZmlybUFsaXBheVBheW1lbnREYXRhXG4gICAgfCBTdHJpcGVDb25maXJtQ2FyZFBheW1lbnREYXRhXG4gICAgfCBTdHJpcGVDb25maXJtSWRlYWxQYXltZW50RGF0YVxuICAgIHwgU3RyaXBlQ29uZmlybVNlcGFQYXltZW50RGF0YVxuICAgIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgdHlwZSBTdHJpcGVFbGVtZW50T3B0aW9ucyA9XG4gICAgfCBDYXJkRWxlbWVudE9wdGlvbnNcbiAgICB8IENhcmRFeHBpcnlFbGVtZW50T3B0aW9uc1xuICAgIHwgQ2FyZE51bWJlckVsZW1lbnRPcHRpb25zXG4gICAgfCBDYXJkQ3ZjRWxlbWVudE9wdGlvbnNcbiAgICB8IElkZWFsRWxlbWVudE9wdGlvbnNcbiAgICB8IEliYW5FbGVtZW50T3B0aW9uc1xuICAgIHwgWmlwQ29kZUVsZW1lbnRPcHRpb25zO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUVsZW1lbnQge1xuICAgIC8qKlxuICAgICAqIFRoZSBgZWxlbWVudC5tb3VudGAgbWV0aG9kIGF0dGFjaGVzIHlvdXIgZWxlbWVudCB0byB0aGUgRE9NLlxuICAgICAqL1xuICAgIG1vdW50KGRvbUVsZW1lbnQ6IHN0cmluZyB8IEhUTUxFbGVtZW50KTogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGVsZW1lbnQgZnJvbSB0aGUgRE9NIGFuZCBkZXN0cm95cyBpdC5cbiAgICAgKiBBIGRlc3Ryb3llZCBlbGVtZW50IGNhbiBub3QgYmUgcmUtYWN0aXZhdGVkIG9yIHJlLW1vdW50ZWQgdG8gdGhlIERPTS5cbiAgICAgKi9cbiAgICBkZXN0cm95KCk6IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBVbm1vdW50cyB0aGUgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICogQ2FsbCBgZWxlbWVudC5tb3VudGAgdG8gcmUtYXR0YWNoIGl0IHRvIHRoZSBET00uXG4gICAgICovXG4gICAgdW5tb3VudCgpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUVsZW1lbnRzIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYEFsaXBheUVsZW1lbnRgIHwgYENhcmRFbGVtZW50YCB8IGBDYXJkQ3ZjRWxlbWVudGAgfGBDYXJkRXhwaXJ5RWxlbWVudGAgfCBgQ2FyZEV4cGlyeUVsZW1lbnRgIHwgYENhcmROdW1iZXJFbGVtZW50YCB8IGBJZGVhbEJhbmtFbGVtZW50YCB8IGBJYmFuRWxlbWVudGAuXG4gICAgICovXG4gICAgY3JlYXRlKGVsZW1lbnRUeXBlOiBTdHJpcGVFbGVtZW50VHlwZSwgb3B0aW9ucz86IFN0cmlwZUVsZW1lbnRPcHRpb25zKTogU3RyaXBlRWxlbWVudDtcblxuICAgIC8qKlxuICAgICAqIExvb2tzIHVwIGEgcHJldmlvdXNseSBjcmVhdGVkIGBFbGVtZW50YCBieSBpdHMgdHlwZS5cbiAgICAgKi9cbiAgICBnZXRFbGVtZW50KGVsZW1lbnRUeXBlOiBTdHJpcGVFbGVtZW50VHlwZSk6IFN0cmlwZUVsZW1lbnQgfCBudWxsO1xufVxuXG4vKipcbiAqIFRoaXMgb2JqZWN0IGlzIHVzZWQgdG8gcGFzcyBjdXN0b20gZm9udHMgd2hlbiBjcmVhdGluZyBhbiBbRWxlbWVudHNdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2VsZW1lbnRzX29iamVjdC9jcmVhdGUpIG9iamVjdC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDc3NGb250U291cmNlIHtcbiAgICAvKipcbiAgICAgKiBBIHJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBwb2ludGluZyB0byBhIENTUyBmaWxlIHdpdGggW0Bmb250LWZhY2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9AZm9udC1mYWNlKSBkZWZpbml0aW9ucywgZm9yIGV4YW1wbGU6XG4gICAgICogYGh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1PcGVuK1NhbnNgXG4gICAgICogTm90ZSB0aGF0IGlmIHlvdSBhcmUgdXNpbmcgYSBbY29udGVudCBzZWN1cml0eSBwb2xpY3ldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvSGVhZGVycy9Db250ZW50LVNlY3VyaXR5LVBvbGljeSkgKENTUCksXG4gICAgICogW2FkZGl0aW9uYWwgZGlyZWN0aXZlc10oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3Mvc2VjdXJpdHkjY29udGVudC1zZWN1cml0eS1wb2xpY3kpIG1heSBiZSBuZWNlc3NhcnkuXG4gICAgICovXG4gICAgY3NzU3JjOiBzdHJpbmc7XG59XG5cbi8qKlxuICogVGhpcyBvYmplY3QgaXMgdXNlZCB0byBwYXNzIGN1c3RvbSBmb250cyB3aGVuIGNyZWF0aW5nIGFuIFtFbGVtZW50c10oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvZWxlbWVudHNfb2JqZWN0L2NyZWF0ZSkgb2JqZWN0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEN1c3RvbUZvbnRTb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIHRvIGdpdmUgdGhlIGZvbnQuXG4gICAgICovXG4gICAgZmFtaWx5OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBIHZhbGlkIFtzcmNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9AZm9udC1mYWNlL3NyYykgdmFsdWUgcG9pbnRpbmcgdG8geW91clxuICAgICAqIGN1c3RvbSBmb250IGZpbGUuIFRoaXMgaXMgdXN1YWxseSAodGhvdWdoIG5vdCBhbHdheXMpIGEgbGluayB0byBhIGZpbGUgd2l0aCBhIC53b2ZmICwgLm90Ziwgb3IgLnN2ZyBzdWZmaXguXG4gICAgICovXG4gICAgc3JjOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBIHZhbGlkIFtmb250LWRpc3BsYXldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9AZm9udC1mYWNlL2ZvbnQtZGlzcGxheSkgdmFsdWUuXG4gICAgICovXG4gICAgZGlzcGxheT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIE9uZSBvZiBub3JtYWwsIGl0YWxpYywgb2JsaXF1ZS4gRGVmYXVsdHMgdG8gbm9ybWFsLlxuICAgICAqL1xuICAgIHN0eWxlPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQSB2YWxpZCBbdW5pY29kZS1yYW5nZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0Bmb250LWZhY2UvdW5pY29kZS1yYW5nZSkgdmFsdWUuXG4gICAgICovXG4gICAgdW5pY29kZVJhbmdlPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQSB2YWxpZCBbZm9udC13ZWlnaHRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9mb250LXdlaWdodCkuIE5vdGUgdGhhdCB0aGlzIGlzIGEgc3RyaW5nLCBub3QgYSBudW1iZXIuXG4gICAgICovXG4gICAgd2VpZ2h0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBDdXN0b21Gb250ID0gQ3NzRm9udFNvdXJjZSB8IEN1c3RvbUZvbnRTb3VyY2U7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlRWxlbWVudHNPcHRpb25zIHtcbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBjdXN0b20gZm9udHMsIHdoaWNoIGVsZW1lbnRzIGNyZWF0ZWQgZnJvbSB0aGUgRWxlbWVudHMgb2JqZWN0IGNhbiB1c2UuXG4gICAgICogRm9udHMgY2FuIGJlIHNwZWNpZmllZCBhcyBbQ3NzRm9udFNvdXJjZV0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvYXBwZW5kaXgvY3NzX2ZvbnRfc291cmNlX29iamVjdClcbiAgICAgKiBvciBbQ3VzdG9tRm9udFNvdXJjZV0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvYXBwZW5kaXgvY3VzdG9tX2ZvbnRfc291cmNlX29iamVjdCkgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBmb250cz86IEN1c3RvbUZvbnRbXTtcblxuICAgIC8qKlxuICAgICAqIEEgW2xvY2FsZV0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvYXBwZW5kaXgvc3VwcG9ydGVkX2xvY2FsZXMpIHRvIGRpc3BsYXkgcGxhY2Vob2xkZXJzIGFuZFxuICAgICAqIGVycm9yIHN0cmluZ3MgaW4uIERlZmF1bHQgaXMgYXV0byAoU3RyaXBlIGRldGVjdHMgdGhlIGxvY2FsZSBvZiB0aGUgYnJvd3NlcikuXG4gICAgICogU2V0dGluZyB0aGUgbG9jYWxlIGRvZXMgbm90IGFmZmVjdCB0aGUgYmVoYXZpb3Igb2YgcG9zdGFsIGNvZGUgdmFsaWRhdGlvbuKAlGEgdmFsaWQgcG9zdGFsIGNvZGVcbiAgICAgKiBmb3IgdGhlIGJpbGxpbmcgY291bnRyeSBvZiB0aGUgY2FyZCBpcyBzdGlsbCByZXF1aXJlZC5cbiAgICAgKi9cbiAgICBsb2NhbGU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQ29uZmlybVBheW1lbnRPcHRpb25zIHtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhpcyB0byBmYWxzZSBpZiB5b3Ugd2FudCB0byBbbWFudWFsbHkgaGFuZGxlIHRoZSBhdXRob3JpemF0aW9uIHJlZGlyZWN0XShodHRwczovL3N0cmlwZS5jb20vZG9jcy9wYXltZW50cy9pZGVhbCNoYW5kbGUtcmVkaXJlY3QpLiBEZWZhdWx0IGlzIHRydWUuXG4gICAgICovXG4gICAgaGFuZGxlQWN0aW9ucz86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlVjNDbGllbnQge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBgRWxlbWVudHNgIGluc3RhbmNlLCB3aGljaCBtYW5hZ2VzIGEgZ3JvdXAgb2YgZWxlbWVudHMuXG4gICAgICovXG4gICAgZWxlbWVudHMob3B0aW9ucz86IFN0cmlwZUVsZW1lbnRzT3B0aW9ucyk6IFN0cmlwZUVsZW1lbnRzO1xuXG4gICAgLypcbiAgICAgKiBAZG9jcyBodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9wYXltZW50X2ludGVudHMvY29uZmlybV9hbGlwYXlfcGF5bWVudFxuICAgICAqXG4gICAgICogVXNlIGBzdHJpcGUuY29uZmlybUFsaXBheVBheW1lbnRgIGluIHRoZSBBbGlwYXkgcGF5bWVudCBtZXRob2QgY3JlYXRpb24gZmxvdyB3aGVuIHRoZSBjdXN0b21lciBzdWJtaXRzIHlvdXIgcGF5bWVudCBmb3JtLlxuICAgICAqIFdoZW4gY2FsbGVkLCBpdCB3aWxsIGNvbmZpcm0gdGhlIFtQYXltZW50SW50ZW50XShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9pbnRlbnRzKSB3aXRoIGRhdGEgeW91IHByb3ZpZGUsIGFuZCBpdCB3aWxsIGF1dG9tYXRpY2FsbHlcbiAgICAgKiByZWRpcmVjdCB0aGUgY3VzdG9tZXIgdG8gdGhlIGF1dGhvcml6ZSB0aGUgdHJhbnNhY3Rpb24uIE9uY2UgYXV0aG9yaXphdGlvbiBpcyBjb21wbGV0ZSwgdGhlIGN1c3RvbWVyIHdpbGwgYmUgcmVkaXJlY3RlZFxuICAgICAqIGJhY2sgdG8geW91ciBzcGVjaWZpZWQgYHJldHVybl91cmxgLiBXaGVuIHlvdSBjb25maXJtIGEgYFBheW1lbnRJbnRlbnRgLCBpdCBuZWVkcyB0byBoYXZlIGFuIGF0dGFjaGVkIFtQYXltZW50TWV0aG9kXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9tZXRob2RzKS5cbiAgICAgKiBJbiBhZGRpdGlvbiB0byBjb25maXJtaW5nIHRoZSBgUGF5bWVudEludGVudGAsIHRoaXMgbWV0aG9kIGNhbiBhdXRvbWF0aWNhbGx5IGNyZWF0ZSBhbmQgYXR0YWNoIGEgbmV3IGBQYXltZW50TWV0aG9kYCBmb3IgeW91LlxuICAgICAqIElmIHlvdSBoYXZlIGFscmVhZHkgYXR0YWNoZWQgYSBgUGF5bWVudE1ldGhvZGAgeW91IGNhbiBjYWxsIHRoaXMgbWV0aG9kIHdpdGhvdXQgbmVlZGluZyB0byBwcm92aWRlIGFueSBhZGRpdGlvbmFsIGRhdGEuXG4gICAgICogVGhlc2UgdXNlIGNhc2VzIGFyZSBkZXRhaWxlZCBpbiB0aGUgc2VjdGlvbnMgdGhhdCBmb2xsb3cuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqIGBzdHJpcGUuY29uZmlybUFsaXBheVBheW1lbnRgIGJ5IGRlZmF1bHQsIHdpbGwgdHJpZ2dlciBhIHJlZGlyZWN0IHdoZW4gc3VjY2Vzc2Z1bC4gSWYgdGhlcmUgaXMgYW4gZXJyb3IsIG9yIHdoZW4gaGFuZGxpbmdcbiAgICAgKiBgbmV4dF9hY3Rpb25zYCBtYW51YWxseSBieSB1c2luZyB0aGUgYGhhbmRsZUFjdGlvbnM6IGZhbHNlYCBvcHRpb24sIGl0IHdpbGwgcmV0dXJuIGEgYFByb21pc2VgIHdoaWNoIHJlc29sdmVzIHdpdGggYSBgcmVzdWx0YCBvYmplY3QuXG4gICAgICogVGhpcyBvYmplY3QgaGFzIGVpdGhlcjpcbiAgICAgKlxuICAgICAqIC0gcmVzdWx0LnBheW1lbnRJbnRlbnQ6IHRoZSBzdWNjZXNzZnVsIFBheW1lbnRJbnRlbnQuXG4gICAgICogLSByZXN1bHQuZXJyb3I6IGFuIGVycm9yLiBSZWZlciB0byB0aGUgQVBJIHJlZmVyZW5jZSBmb3IgYWxsIHBvc3NpYmxlIGVycm9ycy5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBgc3RyaXBlLmNvbmZpcm1BbGlwYXlQYXltZW50YCBtYXkgdGFrZSBzZXZlcmFsIHNlY29uZHMgdG8gY29tcGxldGUuIER1cmluZyB0aGF0IHRpbWUsIHlvdSBzaG91bGQgZGlzYWJsZSB5b3VyXG4gICAgICogZm9ybSBmcm9tIGJlaW5nIHJlc3VibWl0dGVkIGFuZCBzaG93IGEgd2FpdGluZyBpbmRpY2F0b3IgbGlrZSBhIHNwaW5uZXIuIElmIHlvdSByZWNlaXZlIGFuIGVycm9yIHJlc3VsdCwgeW91IHNob3VsZFxuICAgICAqIGJlIHN1cmUgdG8gc2hvdyB0aGF0IGVycm9yIHRvIHRoZSBjdXN0b21lciwgcmUtZW5hYmxlIHRoZSBmb3JtLCBhbmQgaGlkZSB0aGUgd2FpdGluZyBpbmRpY2F0b3IuXG4gICAgICovXG4gICAgY29uZmlybUFsaXBheVBheW1lbnQoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgW2NsaWVudCBzZWNyZXRdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X2ludGVudHMvb2JqZWN0I3BheW1lbnRfaW50ZW50X29iamVjdC1jbGllbnRfc2VjcmV0KSBvZiB0aGUgUGF5bWVudEludGVudC5cbiAgICAgICAgICovXG4gICAgICAgIGNsaWVudFNlY3JldDogc3RyaW5nLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEYXRhIHRvIGJlIHNlbnQgd2l0aCB0aGUgcmVxdWVzdC4gUmVmZXIgdG8gdGhlIFBheW1lbnQgSW50ZW50cyBBUEkgZm9yIGEgZnVsbCBsaXN0IG9mIHBhcmFtZXRlcnMuXG4gICAgICAgICAqL1xuICAgICAgICBkYXRhPzogU3RyaXBlQ29uZmlybUFsaXBheVBheW1lbnREYXRhLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBvcHRpb25zIG9iamVjdCB0byBjb250cm9sIHRoZSBiZWhhdmlvciBvZiB0aGlzIG1ldGhvZC5cbiAgICAgICAgICovXG4gICAgICAgIG9wdGlvbnM/OiBTdHJpcGVDb25maXJtUGF5bWVudE9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx7IHBheW1lbnRJbnRlbnQ/OiBQYXltZW50SW50ZW50OyBlcnJvcj86IFN0cmlwZUVycm9yIH0+O1xuXG4gICAgLypcbiAgICAgKiBAZG9jcyBodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9wYXltZW50X2ludGVudHMvY29uZmlybV9jYXJkX3BheW1lbnRcbiAgICAgKlxuICAgICAqIFVzZSBgc3RyaXBlLmNvbmZpcm1DYXJkUGF5bWVudGAgd2hlbiB0aGUgY3VzdG9tZXIgc3VibWl0cyB5b3VyIHBheW1lbnQgZm9ybS5cbiAgICAgKiBXaGVuIGNhbGxlZCwgaXQgd2lsbCBjb25maXJtIHRoZSBbUGF5bWVudEludGVudF0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfaW50ZW50cylcbiAgICAgKiB3aXRoIGBkYXRhYCB5b3UgcHJvdmlkZSBhbmQgY2Fycnkgb3V0IDNEUyBvciBvdGhlciBuZXh0IGFjdGlvbnMgaWYgdGhleSBhcmUgcmVxdWlyZWQuXG4gICAgICpcbiAgICAgKiBJZiB5b3UgYXJlIHVzaW5nIFtEeW5hbWljIDNEIFNlY3VyZV0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvcGF5bWVudHMvM2Qtc2VjdXJlI3RocmVlLWRzLXJhZGFyKSwgYHN0cmlwZS5jb25maXJtQ2FyZFBheW1lbnRgIHdpbGxcbiAgICAgKiB0cmlnZ2VyIHlvdXIgUmFkYXIgcnVsZXMgdG8gZXhlY3V0ZSBhbmQgbWF5IG9wZW4gYSBkaWFsb2cgZm9yIHlvdXIgY3VzdG9tZXIgdG8gYXV0aGVudGljYXRlIHRoZWlyIHBheW1lbnQuXG4gICAgICpcbiAgICAgKiBXaGVuIHlvdSBjb25maXJtIGEgYFBheW1lbnRJbnRlbnRgLCBpdCBuZWVkcyB0byBoYXZlIGFuIGF0dGFjaGVkIFtQYXltZW50TWV0aG9kXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9tZXRob2RzKS5cbiAgICAgKiBJbiBhZGRpdGlvbiB0byBjb25maXJtaW5nIHRoZSBgUGF5bWVudEludGVudGAsIHRoaXMgbWV0aG9kIGNhbiBhdXRvbWF0aWNhbGx5IGNyZWF0ZSBhbmQgYXR0YWNoIGEgbmV3IGBQYXltZW50TWV0aG9kYCBmb3IgeW91LlxuICAgICAqIEl0IGNhbiBhbHNvIGJlIGNhbGxlZCB3aXRoIGFuIGV4aXN0aW5nIGBQYXltZW50TWV0aG9kYCwgb3IgaWYgeW91IGhhdmUgYWxyZWFkeSBhdHRhY2hlZCBhIFBheW1lbnRNZXRob2QgeW91IGNhbiBjYWxsIHRoaXNcbiAgICAgKiBtZXRob2Qgd2l0aG91dCBuZWVkaW5nIHRvIHByb3ZpZGUgYW55IGFkZGl0aW9uYWwgZGF0YS4gVGhlc2UgdXNlIGNhc2VzIGFyZSBkZXRhaWxlZCBpbiB0aGUgc2VjdGlvbnMgdGhhdCBmb2xsb3cuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqIGBzdHJpcGUuY29uZmlybUNhcmRQYXltZW50YCB3aWxsIHJldHVybiBhIFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCBhIHJlc3VsdCBvYmplY3QuXG4gICAgICogVGhpcyBvYmplY3QgaGFzIGVpdGhlcjpcbiAgICAgKlxuICAgICAqIC0gcmVzdWx0LnBheW1lbnRJbnRlbnQ6IHRoZSBzdWNjZXNzZnVsIFBheW1lbnRJbnRlbnQuXG4gICAgICogLSByZXN1bHQuZXJyb3I6IGFuIGVycm9yLiBSZWZlciB0byB0aGUgQVBJIHJlZmVyZW5jZSBmb3IgYWxsIHBvc3NpYmxlIGVycm9ycy5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBzdHJpcGUuY29uZmlybUNhcmRQYXltZW50IG1heSB0YWtlIHNldmVyYWwgc2Vjb25kcyB0byBjb21wbGV0ZS4gRHVyaW5nIHRoYXQgdGltZSwgeW91IHNob3VsZCBkaXNhYmxlXG4gICAgICogeW91ciBmb3JtIGZyb20gYmVpbmcgcmVzdWJtaXR0ZWQgYW5kIHNob3cgYSB3YWl0aW5nIGluZGljYXRvciBsaWtlIGEgc3Bpbm5lci4gSWYgeW91IHJlY2VpdmUgYW4gZXJyb3IgcmVzdWx0LFxuICAgICAqIHlvdSBzaG91bGQgYmUgc3VyZSB0byBzaG93IHRoYXQgZXJyb3IgdG8gdGhlIGN1c3RvbWVyLCByZS1lbmFibGUgdGhlIGZvcm0sIGFuZCBoaWRlIHRoZSB3YWl0aW5nIGluZGljYXRvci5cbiAgICAgKlxuICAgICAqIEFkZGl0aW9uYWxseSwgYHN0cmlwZS5jb25maXJtQ2FyZFBheW1lbnQgbWF5IHRyaWdnZXJgIGEgWzNEIFNlY3VyZV0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvcGF5bWVudHMvM2Qtc2VjdXJlKSBhdXRoZW50aWNhdGlvblxuICAgICAqIGNoYWxsZW5nZS4gVGhpcyB3aWxsIGJlIHNob3duIGluIGEgbW9kYWwgZGlhbG9nIGFuZCBtYXkgYmUgY29uZnVzaW5nIGZvciBjdXN0b21lcnMgdXNpbmcgYXNzaXN0aXZlIHRlY2hub2xvZ2llcyBsaWtlXG4gICAgICogc2NyZWVuIHJlYWRlcnMuIFlvdSBzaG91bGQgbWFrZSB5b3VyIGZvcm0gYWNjZXNzaWJsZSBieSBlbnN1cmluZyB0aGF0IHN1Y2Nlc3Mgb3IgZXJyb3IgbWVzc2FnZXMgYXJlIGNsZWFybHkgcmVhZCBvdXRcbiAgICAgKiBhZnRlciB0aGlzIG1ldGhvZCBjb21wbGV0ZXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBjb25maXJtQ2FyZFBheW1lbnQoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgW2NsaWVudCBzZWNyZXRdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X2ludGVudHMvb2JqZWN0I3BheW1lbnRfaW50ZW50X29iamVjdC1jbGllbnRfc2VjcmV0KSBvZiB0aGUgUGF5bWVudEludGVudC5cbiAgICAgICAgICovXG4gICAgICAgIGNsaWVudFNlY3JldDogc3RyaW5nLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEYXRhIHRvIGJlIHNlbnQgd2l0aCB0aGUgcmVxdWVzdC4gUmVmZXIgdG8gdGhlIFBheW1lbnQgSW50ZW50cyBBUEkgZm9yIGEgZnVsbCBsaXN0IG9mIHBhcmFtZXRlcnMuXG4gICAgICAgICAqL1xuICAgICAgICBkYXRhPzogU3RyaXBlQ29uZmlybUNhcmRQYXltZW50RGF0YSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gb3B0aW9ucyBvYmplY3QgdG8gY29udHJvbCB0aGUgYmVoYXZpb3Igb2YgdGhpcyBtZXRob2QuXG4gICAgICAgICAqL1xuICAgICAgICBvcHRpb25zPzogU3RyaXBlQ29uZmlybVBheW1lbnRPcHRpb25zLFxuICAgICk6IFByb21pc2U8eyBwYXltZW50SW50ZW50PzogUGF5bWVudEludGVudDsgZXJyb3I/OiBTdHJpcGVFcnJvciB9PjtcblxuICAgIC8qXG4gICAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvcGF5bWVudF9pbnRlbnRzL2NvbmZpcm1faWRlYWxfcGF5bWVudFxuICAgICAqXG4gICAgICogVXNlIGBzdHJpcGUuY29uZmlybUlkZWFsUGF5bWVudGAgaW4gdGhlIFtpREVBTCBQYXltZW50cyB3aXRoIFBheW1lbnQgTWV0aG9kc10oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvcGF5bWVudHMvaWRlYWwpXG4gICAgICogZmxvdyB3aGVuIHRoZSBjdXN0b21lciBzdWJtaXRzIHlvdXIgcGF5bWVudCBmb3JtLiBXaGVuIGNhbGxlZCwgaXQgd2lsbCBjb25maXJtIHRoZSBgUGF5bWVudEludGVudGAgd2l0aCBgZGF0YWAgeW91XG4gICAgICogcHJvdmlkZSwgYW5kIGl0IHdpbGwgYXV0b21hdGljYWxseSByZWRpcmVjdCB0aGUgY3VzdG9tZXIgdG8gdGhlIGF1dGhvcml6ZSB0aGUgdHJhbnNhY3Rpb24uXG4gICAgICogT25jZSBhdXRob3JpemF0aW9uIGlzIGNvbXBsZXRlLCB0aGUgY3VzdG9tZXIgd2lsbCBiZSByZWRpcmVjdGVkIGJhY2sgdG8geW91ciBzcGVjaWZpZWQgYHJldHVybl91cmxgLlxuICAgICAqXG4gICAgICogV2hlbiB5b3UgY29uZmlybSBhIGBQYXltZW50SW50ZW50YCwgaXQgbmVlZHMgdG8gaGF2ZSBhbiBhdHRhY2hlZCBbUGF5bWVudE1ldGhvZF0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfbWV0aG9kcykuXG4gICAgICogSW4gYWRkaXRpb24gdG8gY29uZmlybWluZyB0aGUgYFBheW1lbnRJbnRlbnRgLCB0aGlzIG1ldGhvZCBjYW4gYXV0b21hdGljYWxseSBjcmVhdGUgYW5kIGF0dGFjaCBhIG5ldyBgUGF5bWVudE1ldGhvZGAgZm9yIHlvdS5cbiAgICAgKiBJdCBjYW4gYWxzbyBiZSBjYWxsZWQgd2l0aCBhbiBleGlzdGluZyBgUGF5bWVudE1ldGhvZGAsIG9yIGlmIHlvdSBoYXZlIGFscmVhZHkgYXR0YWNoZWQgYSBQYXltZW50TWV0aG9kIHlvdSBjYW4gY2FsbCB0aGlzXG4gICAgICogbWV0aG9kIHdpdGhvdXQgbmVlZGluZyB0byBwcm92aWRlIGFueSBhZGRpdGlvbmFsIGRhdGEuIFRoZXNlIHVzZSBjYXNlcyBhcmUgZGV0YWlsZWQgaW4gdGhlIHNlY3Rpb25zIHRoYXQgZm9sbG93LlxuICAgICAqXG4gICAgICogQHJldHVybnNcbiAgICAgKiBCeSBkZWZhdWx0LCBgc3RyaXBlLmNvbmZpcm1JZGVhbFBheW1lbnRgIHdpbGwgdHJpZ2dlciBhIHJlZGlyZWN0IHdoZW4gc3VjY2Vzc2Z1bC4gSWYgdGhlcmUgaXMgYW4gZXJyb3IsIG9yIHdoZW4gaGFuZGxpbmdcbiAgICAgKiBuZXh0IGFjdGlvbnMgbWFudWFsbHkgYnkgdXNpbmcgdGhlIGBoYW5kbGVBY3Rpb25zOiBmYWxzZWAgb3B0aW9uLCBpdCB3aWxsIHJldHVybiBhIGBQcm9taXNlYCB3aGljaCByZXNvbHZlcyB3aXRoIGEgYHJlc3VsdGBcbiAgICAgKiBvYmplY3QuIFRoaXMgb2JqZWN0IGhhcyBlaXRoZXI6XG4gICAgICpcbiAgICAgKiAtIHJlc3VsdC5wYXltZW50SW50ZW50OiB0aGUgc3VjY2Vzc2Z1bCBQYXltZW50SW50ZW50LlxuICAgICAqIC0gcmVzdWx0LmVycm9yOiBhbiBlcnJvci4gUmVmZXIgdG8gdGhlIEFQSSByZWZlcmVuY2UgZm9yIGFsbCBwb3NzaWJsZSBlcnJvcnMuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgYHN0cmlwZS5jb25maXJtSWRlYWxQYXltZW50YCBtYXkgdGFrZSBzZXZlcmFsIHNlY29uZHMgdG8gY29tcGxldGUuIER1cmluZyB0aGF0IHRpbWUsIHlvdSBzaG91bGQgZGlzYWJsZVxuICAgICAqIHlvdXIgZm9ybSBmcm9tIGJlaW5nIHJlc3VibWl0dGVkIGFuZCBzaG93IGEgd2FpdGluZyBpbmRpY2F0b3IgbGlrZSBhIHNwaW5uZXIuIElmIHlvdSByZWNlaXZlIGFuIGVycm9yIHJlc3VsdCxcbiAgICAgKiB5b3Ugc2hvdWxkIGJlIHN1cmUgdG8gc2hvdyB0aGF0IGVycm9yIHRvIHRoZSBjdXN0b21lciwgcmUtZW5hYmxlIHRoZSBmb3JtLCBhbmQgaGlkZSB0aGUgd2FpdGluZyBpbmRpY2F0b3IuXG4gICAgICovXG4gICAgY29uZmlybUlkZWFsUGF5bWVudChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBbY2xpZW50IHNlY3JldF0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfaW50ZW50cy9vYmplY3QjcGF5bWVudF9pbnRlbnRfb2JqZWN0LWNsaWVudF9zZWNyZXQpIG9mIHRoZSBQYXltZW50SW50ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgY2xpZW50U2VjcmV0OiBzdHJpbmcsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERhdGEgdG8gYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0LiBSZWZlciB0byB0aGUgUGF5bWVudCBJbnRlbnRzIEFQSSBmb3IgYSBmdWxsIGxpc3Qgb2YgcGFyYW1ldGVycy5cbiAgICAgICAgICovXG4gICAgICAgIGRhdGE/OiBTdHJpcGVDb25maXJtSWRlYWxQYXltZW50RGF0YSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gb3B0aW9ucyBvYmplY3QgdG8gY29udHJvbCB0aGUgYmVoYXZpb3Igb2YgdGhpcyBtZXRob2QuXG4gICAgICAgICAqL1xuICAgICAgICBvcHRpb25zPzogU3RyaXBlQ29uZmlybVBheW1lbnRPcHRpb25zLFxuICAgICk6IFByb21pc2U8eyBwYXltZW50SW50ZW50PzogUGF5bWVudEludGVudDsgZXJyb3I/OiBTdHJpcGVFcnJvciB9PjtcblxuICAgIC8qXG4gICAgICpcbiAgICAgKiBVc2UgYHN0cmlwZS5jb25maXJtU2VwYURlYml0UGF5bWVudGAgaW4gdGhlIFtTRVBBIERpcmVjdCBEZWJpdCBQYXltZW50c10oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvcGF5bWVudHMvc2VwYS1kZWJpdClcbiAgICAgKiB3aXRoIFBheW1lbnQgTWV0aG9kcyBmbG93IHdoZW4gdGhlIGN1c3RvbWVyIHN1Ym1pdHMgeW91ciBwYXltZW50IGZvcm0uIFdoZW4gY2FsbGVkLCBpdCB3aWxsIGNvbmZpcm0gdGhlXG4gICAgICogW1BheW1lbnRJbnRlbnRdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X2ludGVudHMpIHdpdGggYGRhdGFgIHlvdSBwcm92aWRlLiBOb3RlIHRoYXQgdGhlcmUgYXJlIHNvbWUgYWRkaXRpb25hbFxuICAgICAqIHJlcXVpcmVtZW50cyB0byB0aGlzIGZsb3cgdGhhdCBhcmUgbm90IGNvdmVyZWQgaW4gdGhpcyByZWZlcmVuY2UuIFJlZmVyIHRvIG91ciBbaW50ZWdyYXRpb24gZ3VpZGVdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3BheW1lbnRzL3NlcGEtZGViaXRcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogV2hlbiB5b3UgY29uZmlybSBhIFBheW1lbnRJbnRlbnQsIGl0IG5lZWRzIHRvIGhhdmUgYW4gYXR0YWNoZWQgUGF5bWVudE1ldGhvZC4gSW4gYWRkaXRpb24gdG8gY29uZmlybWluZyB0aGUgUGF5bWVudEludGVudCxcbiAgICAgKiB0aGlzIG1ldGhvZCBjYW4gYXV0b21hdGljYWxseSBjcmVhdGUgYW5kIGF0dGFjaCBhIG5ldyBQYXltZW50TWV0aG9kIGZvciB5b3UuIElmIHlvdSBoYXZlIGFscmVhZHkgYXR0YWNoZWQgYVxuICAgICAqIFtQYXltZW50TWV0aG9kXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9tZXRob2RzKSB5b3UgY2FuIGNhbGwgdGhpcyBtZXRob2Qgd2l0aG91dCBuZWVkaW5nIHRvIHByb3ZpZGUgYW55IGFkZGl0aW9uYWwgZGF0YS5cbiAgICAgKiBUaGVzZSB1c2UgY2FzZXMgYXJlIGRldGFpbGVkIGluIHRoZSBzZWN0aW9ucyB0aGF0IGZvbGxvdy5cbiAgICAgKlxuICAgICAqIEBkb2NzIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL3BheW1lbnRfaW50ZW50cy9jb25maXJtX3NlcGFfZGViaXRfcGF5bWVudFxuICAgICAqL1xuICAgIGNvbmZpcm1TZXBhRGViaXRQYXltZW50KFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFtjbGllbnQgc2VjcmV0XShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9pbnRlbnRzL29iamVjdCNwYXltZW50X2ludGVudF9vYmplY3QtY2xpZW50X3NlY3JldCkgb2YgdGhlIFBheW1lbnRJbnRlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBjbGllbnRTZWNyZXQ6IHN0cmluZyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGF0YSB0byBiZSBzZW50IHdpdGggdGhlIHJlcXVlc3QuIFJlZmVyIHRvIHRoZSBbUGF5bWVudCBJbnRlbnRzIEFQSV0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfaW50ZW50cy9jb25maXJtKSBmb3IgYSBmdWxsIGxpc3Qgb2YgcGFyYW1ldGVycy5cbiAgICAgICAgICovXG4gICAgICAgIGRhdGE/OiBTdHJpcGVDb25maXJtU2VwYVBheW1lbnREYXRhLFxuICAgICk6IFByb21pc2U8eyBwYXltZW50SW50ZW50PzogUGF5bWVudEludGVudDsgZXJyb3I/OiBTdHJpcGVFcnJvciB9PjtcblxuICAgIC8qXG4gICAgICogVXNlIHN0cmlwZS5jcmVhdGVQYXltZW50TWV0aG9kIHRvIGNvbnZlcnQgcGF5bWVudCBpbmZvcm1hdGlvbiBjb2xsZWN0ZWQgYnkgZWxlbWVudHMgaW50byBhIFBheW1lbnRNZXRob2RcbiAgICAgKiBvYmplY3QgdGhhdCB5b3Ugc2FmZWx5IHBhc3MgdG8geW91ciBzZXJ2ZXIgdG8gdXNlIGluIGFuIEFQSSBjYWxsLlxuICAgICAqXG4gICAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvcGF5bWVudF9tZXRob2RzL2NyZWF0ZV9wYXltZW50X21ldGhvZFxuICAgICAqXG4gICAgICogQHBhcmFtIHR5cGU6IFN0cmluZywgVGhlIHR5cGUgb2YgdGhlIFBheW1lbnRNZXRob2QgdG8gY3JlYXRlLiBSZWZlciB0byB0aGUgUGF5bWVudE1ldGhvZCBBUEkgZm9yIGFsbCBwb3NzaWJsZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIGNhcmQ6IFN0cmlwZUVsZW1lbnQsIEEgY2FyZCBvciBjYXJkTnVtYmVyIEVsZW1lbnQuXG4gICAgICogQHBhcmFtIGJpbGxpbmdfZGV0YWlsczogU3RyaXBlQmlsbGluZ0RldGFpbHMsIEJpbGxpbmcgaW5mb3JtYXRpb24gYXNzb2NpYXRlZCB3aXRoIHRoZSBQYXltZW50TWV0aG9kIHRoYXRcbiAgICAgKiBtYXkgYmUgdXNlZCBvciByZXF1aXJlZCBieSBwYXJ0aWN1bGFyIHR5cGVzIG9mIHBheW1lbnQgbWV0aG9kcy5cbiAgICAgKi9cbiAgICBjcmVhdGVQYXltZW50TWV0aG9kKFxuICAgICAgICBwYXJhbXM6IENyZWF0ZVBheW1lbnRNZXRob2RQYXJhbXMsXG4gICAgKTogUHJvbWlzZTx7IHBheW1lbnRNZXRob2Q/OiBQYXltZW50TWV0aG9kOyBlcnJvcj86IFN0cmlwZUVycm9yIH0+O1xuXG4gICAgLypcbiAgICAgKiBVc2Ugc3RyaXBlLmhhbmRsZUNhcmRBY3Rpb24gaW4gdGhlIFBheW1lbnQgSW50ZW50cyBBUEkgbWFudWFsIGNvbmZpcm1hdGlvbiBmbG93IHRvIGhhbmRsZSBhIFBheW1lbnRJbnRlbnRcbiAgICAgKiB3aXRoIHRoZSByZXF1aXJlc19hY3Rpb24gc3RhdHVzLiBJdCB3aWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSBQYXltZW50SW50ZW50IGhhcyBhIGRpZmZlcmVudCBzdGF0dXMuXG4gICAgICpcbiAgICAgKiBAZG9jcyBodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9wYXltZW50X2ludGVudHMvaGFuZGxlX2NhcmRfYWN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF5bWVudEludGVudENsaWVudFNlY3JldDogU3RyaW5nLCBUaGUgY2xpZW50IHNlY3JldCBvZiB0aGUgUGF5bWVudEludGVudCB0byBoYW5kbGUuXG4gICAgICovXG4gICAgaGFuZGxlQ2FyZEFjdGlvbihcbiAgICAgICAgcGF5bWVudEludGVudENsaWVudFNlY3JldDogc3RyaW5nLFxuICAgICk6IFByb21pc2U8eyBwYXltZW50SW50ZW50PzogUGF5bWVudEludGVudDsgZXJyb3I/OiBTdHJpcGVFcnJvciB9Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVQYXltZW50TWV0aG9kUGFyYW1zIHtcbiAgICB0eXBlOiBTdHJpcGVQYXltZW50TWV0aG9kVHlwZTtcbiAgICBjYXJkOiBTdHJpcGVFbGVtZW50O1xuICAgIGJpbGxpbmdfZGV0YWlscz86IFN0cmlwZUJpbGxpbmdEZXRhaWxzO1xuICAgIGFsbG93X3JlZGlzcGxheT86ICdhbHdheXMnIHwgJ2xpbWl0ZWQnIHwgJ3Vuc3BlY2lmaWVkJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVIb3N0V2luZG93IGV4dGVuZHMgV2luZG93IHtcbiAgICBTdHJpcGU/KHN0cmlwZVB1Ymxpc2hhYmxlS2V5OiBzdHJpbmcsIG9wdGlvbnM/OiBTdHJpcGVDb25maWd1cmF0aW9uT3B0aW9ucyk6IFN0cmlwZVYzQ2xpZW50O1xufVxuXG5leHBvcnQgZW51bSBTdHJpcGVFbGVtZW50VHlwZSB7XG4gICAgQWxpcGF5ID0gJ2FsaXBheScsXG4gICAgQ2FyZEN2YyA9ICdjYXJkQ3ZjJyxcbiAgICBDYXJkRXhwaXJ5ID0gJ2NhcmRFeHBpcnknLFxuICAgIENhcmROdW1iZXIgPSAnY2FyZE51bWJlcicsXG4gICAgQ3JlZGl0Q2FyZCA9ICdjYXJkJyxcbiAgICBJREVBTCA9ICdpZGVhbEJhbmsnLFxuICAgIFNlcGEgPSAnaWJhbicsXG59XG5cbmV4cG9ydCBlbnVtIFN0cmlwZVBheW1lbnRNZXRob2RUeXBlIHtcbiAgICBBbGlwYXkgPSAnYWxpcGF5JyxcbiAgICBDcmVkaXRDYXJkID0gJ2NhcmQnLFxuICAgIElERUFMID0gJ2lkZWFsJyxcbiAgICBTZXBhID0gJ3NlcGFfZGViaXQnLFxufVxuXG4vKipcbiAqIEluaXRpYWxpemF0aW9uIG9wdGlvbnMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQ29uZmlndXJhdGlvbk9wdGlvbnMge1xuICAgIC8qKlxuICAgICAqIEZvciB1c2FnZSB3aXRoIFtDb25uZWN0XShodHRwczovL3N0cmlwZS5jb20vZG9jcy9jb25uZWN0KSBvbmx5LlxuICAgICAqIFNwZWNpZnlpbmcgYSBjb25uZWN0ZWQgYWNjb3VudCBJRCAoZS5nLiwgYWNjdF8yNEJGTXBKMXN2UjVBODlrKSBhbGxvd3MgeW91IHRvIHBlcmZvcm0gYWN0aW9ucyBvbiBiZWhhbGYgb2YgdGhhdCBhY2NvdW50LlxuICAgICAqL1xuICAgIHN0cmlwZUFjY291bnQ6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHlvdXIgYWNjb3VudCdzIFtBUEkgdmVyc2lvbl0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3ZlcnNpb25pbmcpXG4gICAgICovXG4gICAgYXBpVmVyc2lvbj86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgbG9jYWxlIHVzZWQgdG8gZ2xvYmFsbHkgY29uZmlndXJlIGxvY2FsaXphdGlvbiBpbiBTdHJpcGUuIFNldHRpbmcgdGhlIGxvY2FsZSBoZXJlIHdpbGwgbG9jYWxpemUgZXJyb3Igc3RyaW5ncyBmb3IgYWxsIFN0cmlwZS5qcyBtZXRob2RzLiBJdCB3aWxsIGFsc28gY29uZmlndXJlIHRoZSBsb2NhbGUgZm9yIEVsZW1lbnRzIGFuZCBDaGVja291dC4gRGVmYXVsdCBpcyBhdXRvIChTdHJpcGUgZGV0ZWN0cyB0aGUgbG9jYWxlIG9mIHRoZSBicm93c2VyKS5cbiAgICAgKiBOb3RlIHRoYXQgQ2hlY2tvdXQgc3VwcG9ydHMgYSBzbGlnaHRseSBkaWZmZXJlbnQgc2V0IG9mIGxvY2FsZXMgdGhhbiBTdHJpcGUuanMuXG4gICAgICovXG4gICAgbG9jYWxlPzogc3RyaW5nO1xuXG4gICAgYmV0YXM/OiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uRGF0YSB7XG4gICAgcmVkaXJlY3RfdXJsPzogc3RyaW5nO1xuICAgIGludGVudD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uIHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgZGF0YTogU3RyaXBlQWRkaXRpb25hbEFjdGlvbkRhdGE7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQ2FyZEVsZW1lbnRzIHtcbiAgICBbaW5kZXg6IG51bWJlcl06IFN0cmlwZUVsZW1lbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5kaXZpZHVhbENhcmRFbGVtZW50T3B0aW9ucyB7XG4gICAgY2FyZEN2Y0VsZW1lbnRPcHRpb25zOiBDYXJkQ3ZjRWxlbWVudE9wdGlvbnM7XG4gICAgY2FyZEV4cGlyeUVsZW1lbnRPcHRpb25zOiBDYXJkRXhwaXJ5RWxlbWVudE9wdGlvbnM7XG4gICAgY2FyZE51bWJlckVsZW1lbnRPcHRpb25zOiBDYXJkTnVtYmVyRWxlbWVudE9wdGlvbnM7XG4gICAgemlwQ29kZUVsZW1lbnRPcHRpb25zPzogWmlwQ29kZUVsZW1lbnRPcHRpb25zO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZVYzUGF5bWVudE1ldGhvZCBleHRlbmRzIFBheW1lbnRNZXRob2Qge1xuICAgIGluaXRpYWxpemF0aW9uRGF0YTogU3RyaXBlVjNJbml0aWFsaXphdGlvbkRhdGE7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlVjNJbml0aWFsaXphdGlvbkRhdGEge1xuICAgIHN0cmlwZVB1Ymxpc2hhYmxlS2V5OiBzdHJpbmc7XG4gICAgc3RyaXBlQ29ubmVjdGVkQWNjb3VudDogc3RyaW5nO1xuICAgIHVzZUluZGl2aWR1YWxDYXJkRmllbGRzOiBib29sZWFuO1xuICAgIGFsbG93UmVkaXNwbGF5Rm9yU3RvcmVkSW5zdHJ1bWVudHM/OiBib29sZWFuO1xufVxuIiwiaW1wb3J0IHsgU3RhbmRhcmRFcnJvciB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5leHBvcnQgZW51bSBTdHJpcGVWM0Vycm9yVHlwZSB7XG4gICAgQXV0aEZhaWx1cmUgPSAnYXV0aF9mYWlsdXJlJyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RyaXBlVjNFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIHN1YnR5cGU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKHN1YnR5cGU6IFN0cmlwZVYzRXJyb3JUeXBlKSB7XG4gICAgICAgIHN1cGVyKGdldEVycm9yTWVzc2FnZShzdWJ0eXBlKSk7XG5cbiAgICAgICAgdGhpcy50eXBlID0gJ3N0cmlwZXYzX2Vycm9yJztcbiAgICAgICAgdGhpcy5zdWJ0eXBlID0gc3VidHlwZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZSh0eXBlOiBTdHJpcGVWM0Vycm9yVHlwZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFN0cmlwZVYzRXJyb3JUeXBlLkF1dGhGYWlsdXJlOlxuICAgICAgICAgICAgcmV0dXJuIGBVc2VyIGRpZCBub3QgYXV0aGVudGljYXRlYDtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdUaGVyZSB3YXMgYW4gZXJyb3Igd2hpbGUgcHJvY2Vzc2luZyB5b3VyIHBheW1lbnQuIFBsZWFzZSB0cnkgYWdhaW4gb3IgY29udGFjdCB1cy4nO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGluY2x1ZGVzLCBpc0VtcHR5LCBvbWl0QnksIHNvbWUgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQge1xuICAgIEFkZHJlc3MsXG4gICAgQmlsbGluZ0FkZHJlc3MsXG4gICAgQ3VzdG9tZXIsXG4gICAgSG9zdGVkRm9ybSxcbiAgICBIb3N0ZWRGb3JtT3B0aW9ucyxcbiAgICBJbnZhbGlkQXJndW1lbnRFcnJvcixcbiAgICBpc0JpbGxpbmdBZGRyZXNzTGlrZSxcbiAgICBpc0hvc3RlZEluc3RydW1lbnRMaWtlLFxuICAgIGlzUmVxdWVzdEVycm9yLFxuICAgIGlzVmF1bHRlZEluc3RydW1lbnQsXG4gICAgTWlzc2luZ0RhdGFFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yVHlwZSxcbiAgICBOb3RJbml0aWFsaXplZEVycm9yLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLFxuICAgIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcixcbiAgICBPcmRlclBheW1lbnRSZXF1ZXN0Qm9keSxcbiAgICBPcmRlclJlcXVlc3RCb2R5LFxuICAgIFBheW1lbnQsXG4gICAgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yLFxuICAgIFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2QsXG4gICAgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yLFxuICAgIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICBQYXltZW50U3RyYXRlZ3ksXG4gICAgU3RyaXBlVjNGb3JtYXR0ZWRQYXlsb2FkLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IGlzSW5kaXZpZHVhbENhcmRFbGVtZW50T3B0aW9ucyBmcm9tICcuL2lzLWluZGl2aWR1YWwtY2FyZC1lbGVtZW50LW9wdGlvbnMnO1xuaW1wb3J0IHtcbiAgICBQYXltZW50SW50ZW50LFxuICAgIFN0cmlwZUFkZGl0aW9uYWxBY3Rpb24sXG4gICAgU3RyaXBlQWRkcmVzcyxcbiAgICBTdHJpcGVCaWxsaW5nRGV0YWlscyxcbiAgICBTdHJpcGVDYXJkRWxlbWVudHMsXG4gICAgU3RyaXBlQ29uZmlybUlkZWFsUGF5bWVudERhdGEsXG4gICAgU3RyaXBlQ29uZmlybVBheW1lbnREYXRhLFxuICAgIFN0cmlwZUNvbmZpcm1TZXBhUGF5bWVudERhdGEsXG4gICAgU3RyaXBlRWxlbWVudCxcbiAgICBTdHJpcGVFbGVtZW50T3B0aW9ucyxcbiAgICBTdHJpcGVFbGVtZW50cyxcbiAgICBTdHJpcGVFbGVtZW50VHlwZSxcbiAgICBTdHJpcGVFcnJvcixcbiAgICBQYXltZW50TWV0aG9kIGFzIFN0cmlwZVBheW1lbnRNZXRob2QsXG4gICAgU3RyaXBlUGF5bWVudE1ldGhvZFR5cGUsXG4gICAgU3RyaXBlVjNDbGllbnQsXG4gICAgU3RyaXBlVjNQYXltZW50TWV0aG9kLFxufSBmcm9tICcuL3N0cmlwZXYzJztcbmltcG9ydCBTdHJpcGVWM0Vycm9yLCB7IFN0cmlwZVYzRXJyb3JUeXBlIH0gZnJvbSAnLi9zdHJpcGV2My1lcnJvcic7XG5pbXBvcnQgU3RyaXBlVjNQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsIHtcbiAgICBXaXRoU3RyaXBlVjNQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG59IGZyb20gJy4vc3RyaXBldjMtaW5pdGlhbGl6ZS1vcHRpb25zJztcbmltcG9ydCBTdHJpcGVWM1NjcmlwdExvYWRlciBmcm9tICcuL3N0cmlwZXYzLXNjcmlwdC1sb2FkZXInO1xuXG5jb25zdCBBUE1fUkVESVJFQ1QgPSBbU3RyaXBlRWxlbWVudFR5cGUuQWxpcGF5LCBTdHJpcGVFbGVtZW50VHlwZS5JREVBTF07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0cmlwZVYzUGF5bWVudFN0cmF0ZWd5IGltcGxlbWVudHMgUGF5bWVudFN0cmF0ZWd5IHtcbiAgICBwcml2YXRlIGluaXRpYWxpemVPcHRpb25zPzogU3RyaXBlVjNQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnM7XG4gICAgcHJpdmF0ZSBzdHJpcGVWM0NsaWVudD86IFN0cmlwZVYzQ2xpZW50O1xuICAgIHByaXZhdGUgc3RyaXBlRWxlbWVudHM/OiBTdHJpcGVFbGVtZW50cztcbiAgICBwcml2YXRlIHN0cmlwZUVsZW1lbnQ/OiBTdHJpcGVFbGVtZW50O1xuICAgIHByaXZhdGUgc3RyaXBlQ2FyZEVsZW1lbnRzPzogU3RyaXBlQ2FyZEVsZW1lbnRzO1xuICAgIHByaXZhdGUgdXNlSW5kaXZpZHVhbENhcmRGaWVsZHM/OiBib29sZWFuO1xuICAgIHByaXZhdGUgaG9zdGVkRm9ybT86IEhvc3RlZEZvcm07XG4gICAgcHJpdmF0ZSBpc0RlaW5pdGlhbGl6ZT86IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfYWxsb3dSZWRpc3BsYXlGb3JTdG9yZWRJbnN0cnVtZW50cz86IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHNjcmlwdExvYWRlcjogU3RyaXBlVjNTY3JpcHRMb2FkZXIsXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShvcHRpb25zOiBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoU3RyaXBlVjNQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBzdHJpcGV2MywgbWV0aG9kSWQsIGdhdGV3YXlJZCB9ID0gb3B0aW9ucztcblxuICAgICAgICBpZiAoIWdhdGV3YXlJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJnYXRld2F5SWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmluaXRpYWxpemVPcHRpb25zID0gc3RyaXBldjM7XG4gICAgICAgIHRoaXMuaXNEZWluaXRpYWxpemUgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlXG4gICAgICAgICAgICAuZ2V0U3RhdGUoKVxuICAgICAgICAgICAgLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBpbml0aWFsaXphdGlvbkRhdGE6IHtcbiAgICAgICAgICAgICAgICBzdHJpcGVQdWJsaXNoYWJsZUtleSxcbiAgICAgICAgICAgICAgICBzdHJpcGVDb25uZWN0ZWRBY2NvdW50LFxuICAgICAgICAgICAgICAgIHVzZUluZGl2aWR1YWxDYXJkRmllbGRzLFxuICAgICAgICAgICAgICAgIGFsbG93UmVkaXNwbGF5Rm9yU3RvcmVkSW5zdHJ1bWVudHMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9ID0gcGF5bWVudE1ldGhvZCBhcyBTdHJpcGVWM1BheW1lbnRNZXRob2Q7XG5cbiAgICAgICAgdGhpcy5fYWxsb3dSZWRpc3BsYXlGb3JTdG9yZWRJbnN0cnVtZW50cyA9IGFsbG93UmVkaXNwbGF5Rm9yU3RvcmVkSW5zdHJ1bWVudHM7XG5cbiAgICAgICAgY29uc3QgZm9ybSA9IHRoaXMuZ2V0SW5pdGlhbGl6ZU9wdGlvbnMoKS5mb3JtO1xuXG4gICAgICAgIHRoaXMudXNlSW5kaXZpZHVhbENhcmRGaWVsZHMgPSB1c2VJbmRpdmlkdWFsQ2FyZEZpZWxkcztcbiAgICAgICAgdGhpcy5zdHJpcGVWM0NsaWVudCA9IGF3YWl0IHRoaXMubG9hZFN0cmlwZUpzKHN0cmlwZVB1Ymxpc2hhYmxlS2V5LCBzdHJpcGVDb25uZWN0ZWRBY2NvdW50KTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLmlzQ3JlZGl0Q2FyZChtZXRob2RJZCkgJiZcbiAgICAgICAgICAgIHRoaXMuc2hvdWxkU2hvd1RTVkhvc3RlZEZvcm0obWV0aG9kSWQsIGdhdGV3YXlJZCkgJiZcbiAgICAgICAgICAgIGZvcm1cbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLmhvc3RlZEZvcm0gPSBhd2FpdCB0aGlzLm1vdW50Q2FyZFZlcmlmaWNhdGlvbkZpZWxkcyhmb3JtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudCA9IGF3YWl0IHRoaXMubW91bnRDYXJkRmllbGRzKG1ldGhvZElkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGUob3JkZXJSZXF1ZXN0OiBPcmRlclJlcXVlc3RCb2R5LCBvcHRpb25zPzogUGF5bWVudFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudCwgLi4ub3JkZXIgfSA9IG9yZGVyUmVxdWVzdDtcblxuICAgICAgICBsZXQgZm9ybWF0dGVkUGF5bG9hZDogU3RyaXBlVjNGb3JtYXR0ZWRQYXlsb2FkO1xuICAgICAgICBsZXQgc3RyaXBlRXJyb3I6IFN0cmlwZUVycm9yIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmICghcGF5bWVudCB8fCAhcGF5bWVudC5wYXltZW50RGF0YSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQucGF5bWVudERhdGEnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHBheW1lbnREYXRhLCBnYXRld2F5SWQsIG1ldGhvZElkIH0gPSBwYXltZW50O1xuXG4gICAgICAgIGNvbnN0IHsgc2hvdWxkU2F2ZUluc3RydW1lbnQsIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgfSA9IGlzSG9zdGVkSW5zdHJ1bWVudExpa2UoXG4gICAgICAgICAgICBwYXltZW50RGF0YSxcbiAgICAgICAgKVxuICAgICAgICAgICAgPyBwYXltZW50RGF0YVxuICAgICAgICAgICAgOiB7IHNob3VsZFNhdmVJbnN0cnVtZW50OiBmYWxzZSwgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudDogZmFsc2UgfTtcblxuICAgICAgICBjb25zdCBzaG91bGRTdWJtaXRPcmRlckJlZm9yZUxvYWRpbmdBUE0gPSBpbmNsdWRlcyhBUE1fUkVESVJFQ1QsIG1ldGhvZElkKTtcblxuICAgICAgICBjb25zdCB7IGlzU3RvcmVDcmVkaXRBcHBsaWVkOiB1c2VTdG9yZUNyZWRpdCB9ID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlXG4gICAgICAgICAgICAuZ2V0U3RhdGUoKVxuICAgICAgICAgICAgLmdldENoZWNrb3V0T3JUaHJvdygpO1xuXG4gICAgICAgIGlmICh1c2VTdG9yZUNyZWRpdCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmFwcGx5U3RvcmVDcmVkaXQodXNlU3RvcmVDcmVkaXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChzaG91bGRTdWJtaXRPcmRlckJlZm9yZUxvYWRpbmdBUE0pIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIob3JkZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZ2F0ZXdheUlkKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRQYXltZW50TWV0aG9kKGdhdGV3YXlJZCwge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsgbWV0aG9kOiBtZXRob2RJZCB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAoaXNWYXVsdGVkSW5zdHJ1bWVudChwYXltZW50RGF0YSkpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIob3JkZXIsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgeyBpbnN0cnVtZW50SWQgfSA9IHBheW1lbnREYXRhO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhwYXltZW50Lm1ldGhvZElkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRUb2tlbiA9IHBheW1lbnRNZXRob2QuY2xpZW50VG9rZW47XG5cbiAgICAgICAgICAgICAgICBpZiAoIWNsaWVudFRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5leGVjdXRlV2l0aFZhdWx0ZWQoXG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50VG9rZW4sXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuY29uZmlybVN0cmlwZVBheW1lbnQocGF5bWVudE1ldGhvZCk7XG4gICAgICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuLCBtZXRob2QgfSA9IHBheW1lbnRNZXRob2Q7XG4gICAgICAgICAgICBjb25zdCB7IGlkOiB0b2tlbiB9ID0gcmVzdWx0LnBheW1lbnRJbnRlbnQgPz8gcmVzdWx0LnBheW1lbnRNZXRob2QgPz8geyBpZDogJycgfTtcblxuICAgICAgICAgICAgc3RyaXBlRXJyb3IgPSByZXN1bHQuZXJyb3I7XG5cbiAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQgPSB7XG4gICAgICAgICAgICAgICAgY3JlZGl0X2NhcmRfdG9rZW46IHsgdG9rZW4gfSxcbiAgICAgICAgICAgICAgICB2YXVsdF9wYXltZW50X2luc3RydW1lbnQ6IHNob3VsZFNhdmVJbnN0cnVtZW50LFxuICAgICAgICAgICAgICAgIGNvbmZpcm06IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNldF9hc19kZWZhdWx0X3N0b3JlZF9pbnN0cnVtZW50OiBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gU3RyaXBlRWxlbWVudFR5cGUuQ3JlZGl0Q2FyZCkge1xuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQuY2xpZW50X3Rva2VuID0gY2xpZW50VG9rZW47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghc2hvdWxkU3VibWl0T3JkZXJCZWZvcmVMb2FkaW5nQVBNKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKG9yZGVyLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcGF5bWVudFBheWxvYWQgPSB0aGlzLmJ1aWxkUGF5bWVudFBheWxvYWQoXG4gICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZCxcbiAgICAgICAgICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQocGF5bWVudFBheWxvYWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wcm9jZXNzQWRkaXRpb25hbEFjdGlvbihcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVtcHR5UGF5bWVudEludGVudEVycm9yKGVycm9yLCBzdHJpcGVFcnJvciksXG4gICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgc2hvdWxkU2F2ZUluc3RydW1lbnQsXG4gICAgICAgICAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaW5hbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IoKSk7XG4gICAgfVxuXG4gICAgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5ob3N0ZWRGb3JtKSB7XG4gICAgICAgICAgICB0aGlzLmhvc3RlZEZvcm0uZGV0YWNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzRGVpbml0aWFsaXplID0gdHJ1ZTtcbiAgICAgICAgdGhpcy51bm1vdW50RWxlbWVudCgpO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkUGF5bWVudFBheWxvYWQoXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgICAgIGZvcm1hdHRlZFBheWxvYWQ6IFN0cmlwZVYzRm9ybWF0dGVkUGF5bG9hZCxcbiAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudDogYm9vbGVhbiB8IHVuZGVmaW5lZCxcbiAgICApOiBQYXltZW50IHtcbiAgICAgICAgY29uc3QgcGF5bWVudERhdGEgPSBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50XG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5mb3JtYXR0ZWRQYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICAgIHNldF9hc19kZWZhdWx0X3N0b3JlZF9pbnN0cnVtZW50OiBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7IGZvcm1hdHRlZFBheWxvYWQgfTtcblxuICAgICAgICByZXR1cm4geyBtZXRob2RJZCwgcGF5bWVudERhdGEgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzQ2FuY2VsbGF0aW9uRXJyb3Ioc3RyaXBlRXJyb3I6IFN0cmlwZUVycm9yIHwgdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBzdHJpcGVFcnJvciAmJlxuICAgICAgICAgICAgc3RyaXBlRXJyb3IucGF5bWVudF9pbnRlbnQubGFzdF9wYXltZW50X2Vycm9yPy5tZXNzYWdlPy5pbmRleE9mKCdjYW5jZWxlZCcpICE9PSAtMVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNBdXRoRXJyb3Ioc3RyaXBlRXJyb3I6IFN0cmlwZUVycm9yIHwgdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBzdHJpcGVFcnJvcj8uY29kZSA9PT0gJ3BheW1lbnRfaW50ZW50X2F1dGhlbnRpY2F0aW9uX2ZhaWx1cmUnO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNDcmVkaXRDYXJkKG1ldGhvZElkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG1ldGhvZElkID09PSBTdHJpcGVQYXltZW50TWV0aG9kVHlwZS5DcmVkaXRDYXJkO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNIb3N0ZWRGaWVsZEF2YWlsYWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuZ2V0SW5pdGlhbGl6ZU9wdGlvbnMoKTtcbiAgICAgICAgY29uc3QgZGVmaW5lZEZpZWxkcyA9IG9taXRCeShvcHRpb25zLmZvcm0/LmZpZWxkcywgaXNFbXB0eSk7XG5cbiAgICAgICAgcmV0dXJuICFpc0VtcHR5KGRlZmluZWRGaWVsZHMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNIb3N0ZWRQYXltZW50Rm9ybUVuYWJsZWQobWV0aG9kSWQ6IHN0cmluZywgZ2F0ZXdheUlkPzogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHsgZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cgfSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kID0gZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQsIGdhdGV3YXlJZCk7XG5cbiAgICAgICAgcmV0dXJuIEJvb2xlYW4ocGF5bWVudE1ldGhvZC5jb25maWcuaXNIb3N0ZWRGb3JtRW5hYmxlZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBjb25maXJtU3RyaXBlUGF5bWVudChwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kKTogUHJvbWlzZTx7XG4gICAgICAgIHBheW1lbnRJbnRlbnQ/OiBQYXltZW50SW50ZW50IHwgdW5kZWZpbmVkO1xuICAgICAgICBwYXltZW50TWV0aG9kPzogU3RyaXBlUGF5bWVudE1ldGhvZCB8IHVuZGVmaW5lZDtcbiAgICAgICAgZXJyb3I/OiBTdHJpcGVFcnJvciB8IHVuZGVmaW5lZDtcbiAgICB9PiB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50VG9rZW46IGNsaWVudFNlY3JldCwgbWV0aG9kLCByZXR1cm5VcmwgfSA9IHBheW1lbnRNZXRob2Q7XG5cbiAgICAgICAgaWYgKCFjbGllbnRTZWNyZXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICAgICAgICBjYXNlIFN0cmlwZUVsZW1lbnRUeXBlLkFsaXBheTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTdHJpcGVKcygpLmNvbmZpcm1BbGlwYXlQYXltZW50KFxuICAgICAgICAgICAgICAgICAgICBjbGllbnRTZWNyZXQsXG4gICAgICAgICAgICAgICAgICAgIHsgcmV0dXJuX3VybDogcmV0dXJuVXJsIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgaGFuZGxlQWN0aW9uczogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjYXNlIFN0cmlwZUVsZW1lbnRUeXBlLklERUFMOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMubWFwU3RyaXBlUGF5bWVudERhdGEoU3RyaXBlUGF5bWVudE1ldGhvZFR5cGUuSURFQUwsIHJldHVyblVybCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTdHJpcGVKcygpLmNvbmZpcm1JZGVhbFBheW1lbnQoY2xpZW50U2VjcmV0LCBkYXRhLCB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUFjdGlvbnM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlIFN0cmlwZUVsZW1lbnRUeXBlLlNlcGE6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5tYXBTdHJpcGVQYXltZW50RGF0YShTdHJpcGVQYXltZW50TWV0aG9kVHlwZS5TZXBhKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFN0cmlwZUpzKCkuY29uZmlybVNlcGFEZWJpdFBheW1lbnQoY2xpZW50U2VjcmV0LCBkYXRhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhcmQgPSB0aGlzLnVzZUluZGl2aWR1YWxDYXJkRmllbGRzXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5nZXRTdHJpcGVDYXJkRWxlbWVudHMoKVswXVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZ2V0U3RyaXBlRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJpbGxpbmdEZXRhaWxzID0gdGhpcy5tYXBTdHJpcGVCaWxsaW5nRGV0YWlscyhcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0QmlsbGluZ0FkZHJlc3MoKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0Q3VzdG9tZXIoKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZEFsbG93UmVkaXNwbGF5ID0gdGhpcy5fYWxsb3dSZWRpc3BsYXlGb3JTdG9yZWRJbnN0cnVtZW50cztcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFN0cmlwZUpzKCkuY3JlYXRlUGF5bWVudE1ldGhvZCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFN0cmlwZVBheW1lbnRNZXRob2RUeXBlLkNyZWRpdENhcmQsXG4gICAgICAgICAgICAgICAgICAgIGNhcmQsXG4gICAgICAgICAgICAgICAgICAgIGJpbGxpbmdfZGV0YWlsczogYmlsbGluZ0RldGFpbHMsXG4gICAgICAgICAgICAgICAgICAgIC4uLihzaG91bGRBbGxvd1JlZGlzcGxheSA/IHsgYWxsb3dfcmVkaXNwbGF5OiAnYWx3YXlzJyB9IDoge30pLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBleGVjdXRlV2l0aFZhdWx0ZWQoXG4gICAgICAgIHBheW1lbnQ6IE9yZGVyUGF5bWVudFJlcXVlc3RCb2R5LFxuICAgICAgICB0b2tlbjogc3RyaW5nLFxuICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50OiBib29sZWFuIHwgdW5kZWZpbmVkLFxuICAgICAgICBjbGllbnRUb2tlbjogc3RyaW5nLFxuICAgICk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZFBheWxvYWQgPSB7XG4gICAgICAgICAgICBiaWdwYXlfdG9rZW46IHsgdG9rZW4gfSxcbiAgICAgICAgICAgIGNvbmZpcm06IHRydWUsXG4gICAgICAgICAgICBjbGllbnRfdG9rZW46IGNsaWVudFRva2VuLFxuICAgICAgICAgICAgc2V0X2FzX2RlZmF1bHRfc3RvcmVkX2luc3RydW1lbnQ6IHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5pc0hvc3RlZFBheW1lbnRGb3JtRW5hYmxlZChwYXltZW50Lm1ldGhvZElkLCBwYXltZW50LmdhdGV3YXlJZCkgJiZcbiAgICAgICAgICAgIHRoaXMuaG9zdGVkRm9ybVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IGZvcm0gPSB0aGlzLmhvc3RlZEZvcm07XG5cbiAgICAgICAgICAgIGlmIChwYXltZW50LnBheW1lbnREYXRhICYmIGlzVmF1bHRlZEluc3RydW1lbnQocGF5bWVudC5wYXltZW50RGF0YSkpIHtcbiAgICAgICAgICAgICAgICBwYXltZW50LnBheW1lbnREYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5wYXltZW50LnBheW1lbnREYXRhLFxuICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50SWQ6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiBwYXltZW50LnBheW1lbnREYXRhPy5pbnN0cnVtZW50SWQgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRfdG9rZW46IGNsaWVudFRva2VuLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhd2FpdCBmb3JtLnZhbGlkYXRlKCk7XG4gICAgICAgICAgICBhd2FpdCBmb3JtLnN1Ym1pdChwYXltZW50KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkQ3VycmVudE9yZGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXltZW50UGF5bG9hZCA9IHRoaXMuYnVpbGRQYXltZW50UGF5bG9hZChcbiAgICAgICAgICAgIHBheW1lbnQubWV0aG9kSWQsXG4gICAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkLFxuICAgICAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQocGF5bWVudFBheWxvYWQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0SW5pdGlhbGl6ZU9wdGlvbnMoKTogU3RyaXBlVjNQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMge1xuICAgICAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZU9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5pbml0aWFsaXplT3B0aW9ucztcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFN0cmlwZUNhcmRFbGVtZW50cygpOiBTdHJpcGVDYXJkRWxlbWVudHMge1xuICAgICAgICBpZiAoIXRoaXMuc3RyaXBlQ2FyZEVsZW1lbnRzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyaXBlQ2FyZEVsZW1lbnRzO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0U3RyaXBlRWxlbWVudCgpOiBTdHJpcGVFbGVtZW50IHtcbiAgICAgICAgaWYgKCF0aGlzLnN0cmlwZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5zdHJpcGVFbGVtZW50O1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0U3RyaXBlSnMoKTogU3RyaXBlVjNDbGllbnQge1xuICAgICAgICBpZiAoIXRoaXMuc3RyaXBlVjNDbGllbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5zdHJpcGVWM0NsaWVudDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUVtcHR5UGF5bWVudEludGVudEVycm9yKGVycm9yOiB1bmtub3duLCBzdHJpcGVFcnJvcjogU3RyaXBlRXJyb3IgfCB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKCFpc1JlcXVlc3RFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzb21lKGVycm9yLmJvZHkuZXJyb3JzLCB7IGNvZGU6ICdyZXF1aXJlZF9maWVsZCcgfSkgJiYgc3RyaXBlRXJyb3JcbiAgICAgICAgICAgID8gbmV3IEVycm9yKHN0cmlwZUVycm9yLm1lc3NhZ2UpXG4gICAgICAgICAgICA6IGVycm9yO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgbG9hZFN0cmlwZUpzKFxuICAgICAgICBzdHJpcGVQdWJsaXNoYWJsZUtleTogc3RyaW5nLFxuICAgICAgICBzdHJpcGVDb25uZWN0ZWRBY2NvdW50OiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxTdHJpcGVWM0NsaWVudD4ge1xuICAgICAgICBpZiAodGhpcy5zdHJpcGVWM0NsaWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnN0cmlwZVYzQ2xpZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnNjcmlwdExvYWRlci5sb2FkKFxuICAgICAgICAgICAgc3RyaXBlUHVibGlzaGFibGVLZXksXG4gICAgICAgICAgICBzdHJpcGVDb25uZWN0ZWRBY2NvdW50LFxuICAgICAgICAgICAgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0TG9jYWxlKCksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtYXBTdHJpcGVBZGRyZXNzKGFkZHJlc3M/OiBBZGRyZXNzKTogU3RyaXBlQWRkcmVzcyB7XG4gICAgICAgIGlmIChhZGRyZXNzKSB7XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgY2l0eSxcbiAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZTogY291bnRyeSxcbiAgICAgICAgICAgICAgICBhZGRyZXNzMTogbGluZTEsXG4gICAgICAgICAgICAgICAgYWRkcmVzczI6IGxpbmUyLFxuICAgICAgICAgICAgICAgIHBvc3RhbENvZGUsXG4gICAgICAgICAgICAgICAgc3RhdGVPclByb3ZpbmNlQ29kZTogc3RhdGUsXG4gICAgICAgICAgICB9ID0gYWRkcmVzcztcblxuICAgICAgICAgICAgcmV0dXJuIHsgY2l0eSwgY291bnRyeSwgbGluZTEsIGxpbmUyLCBwb3N0YWxfY29kZTogcG9zdGFsQ29kZSwgc3RhdGUgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IGxpbmUxOiAnJyB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgbWFwU3RyaXBlQmlsbGluZ0RldGFpbHMoXG4gICAgICAgIGJpbGxpbmdBZGRyZXNzPzogQmlsbGluZ0FkZHJlc3MsXG4gICAgICAgIGN1c3RvbWVyPzogQ3VzdG9tZXIsXG4gICAgKTogU3RyaXBlQmlsbGluZ0RldGFpbHMge1xuICAgICAgICBjb25zdCB7IGZpcnN0TmFtZSwgbGFzdE5hbWUgfSA9IGJpbGxpbmdBZGRyZXNzIHx8XG4gICAgICAgICAgICBjdXN0b21lciB8fCB7IGZpcnN0TmFtZTogJ0d1ZXN0JywgbGFzdE5hbWU6ICcnIH07XG4gICAgICAgIGNvbnN0IG5hbWUgPSBgJHtmaXJzdE5hbWV9ICR7bGFzdE5hbWV9YC50cmltKCk7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucyB9ID0gdGhpcy5nZXRJbml0aWFsaXplT3B0aW9ucygpO1xuXG4gICAgICAgIGlmICh0aGlzLnVzZUluZGl2aWR1YWxDYXJkRmllbGRzICYmIGlzSW5kaXZpZHVhbENhcmRFbGVtZW50T3B0aW9ucyhvcHRpb25zKSkge1xuICAgICAgICAgICAgY29uc3QgeyB6aXBDb2RlRWxlbWVudE9wdGlvbnMgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgICAgIGlmICh6aXBDb2RlRWxlbWVudE9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb3N0YWxDb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoemlwQ29kZUVsZW1lbnRPcHRpb25zLmNvbnRhaW5lcklkKVxuICAgICAgICAgICAgICAgICAgICA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6aXBDb2RlRWxlbWVudE9wdGlvbnMuY29udGFpbmVySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgYXMgSFRNTElucHV0RWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICkudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiAnJztcblxuICAgICAgICAgICAgICAgIGlmIChwb3N0YWxDb2RlICYmIGJpbGxpbmdBZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzID0geyAuLi5iaWxsaW5nQWRkcmVzcywgcG9zdGFsQ29kZSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSB7XG4gICAgICAgICAgICBhZGRyZXNzOiB0aGlzLm1hcFN0cmlwZUFkZHJlc3MoYmlsbGluZ0FkZHJlc3MpLFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChjdXN0b21lciAmJiBjdXN0b21lci5hZGRyZXNzZXNbMF0gJiYgaXNCaWxsaW5nQWRkcmVzc0xpa2UoY3VzdG9tZXIuYWRkcmVzc2VzWzBdKSkge1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tZXJBZGRyZXNzID0gY3VzdG9tZXIuYWRkcmVzc2VzWzBdO1xuICAgICAgICAgICAgY29uc3QgeyBlbWFpbCB9ID0gY3VzdG9tZXI7XG4gICAgICAgICAgICBjb25zdCB7IHBob25lIH0gPSBjdXN0b21lckFkZHJlc3M7XG5cbiAgICAgICAgICAgIHJldHVybiBwaG9uZSA/IHsgLi4uYWRkcmVzcywgZW1haWwsIG5hbWUsIHBob25lIH0gOiB7IC4uLmFkZHJlc3MsIGVtYWlsLCBuYW1lIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmlsbGluZ0FkZHJlc3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZW1haWwsIHBob25lIH0gPSBiaWxsaW5nQWRkcmVzcztcblxuICAgICAgICAgICAgcmV0dXJuIHBob25lID8geyAuLi5hZGRyZXNzLCBlbWFpbCwgbmFtZSwgcGhvbmUgfSA6IHsgLi4uYWRkcmVzcywgZW1haWwsIG5hbWUgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IC4uLmFkZHJlc3MsIG5hbWUgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1hcFN0cmlwZVBheW1lbnREYXRhKFxuICAgICAgICBzdHJpcGVQYXltZW50TWV0aG9kVHlwZTogU3RyaXBlUGF5bWVudE1ldGhvZFR5cGUuSURFQUwsXG4gICAgICAgIHJldHVyblVybD86IHN0cmluZyxcbiAgICApOiBTdHJpcGVDb25maXJtSWRlYWxQYXltZW50RGF0YTtcbiAgICBwcml2YXRlIG1hcFN0cmlwZVBheW1lbnREYXRhKFxuICAgICAgICBzdHJpcGVQYXltZW50TWV0aG9kVHlwZTogU3RyaXBlUGF5bWVudE1ldGhvZFR5cGUuU2VwYSxcbiAgICApOiBTdHJpcGVDb25maXJtU2VwYVBheW1lbnREYXRhO1xuICAgIHByaXZhdGUgbWFwU3RyaXBlUGF5bWVudERhdGEoXG4gICAgICAgIHN0cmlwZVBheW1lbnRNZXRob2RUeXBlOiBTdHJpcGVQYXltZW50TWV0aG9kVHlwZSxcbiAgICAgICAgcmV0dXJuVXJsPzogc3RyaW5nLFxuICAgICk6IFN0cmlwZUNvbmZpcm1QYXltZW50RGF0YSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbWVyID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0Q3VzdG9tZXIoKTtcbiAgICAgICAgY29uc3QgYmlsbGluZ0FkZHJlc3MgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRCaWxsaW5nQWRkcmVzcygpO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdDogUGFydGlhbDxTdHJpcGVDb25maXJtUGF5bWVudERhdGE+ID0ge1xuICAgICAgICAgICAgcGF5bWVudF9tZXRob2Q6IHtcbiAgICAgICAgICAgICAgICBbc3RyaXBlUGF5bWVudE1ldGhvZFR5cGVdOiB0aGlzLmdldFN0cmlwZUVsZW1lbnQoKSxcbiAgICAgICAgICAgICAgICBiaWxsaW5nX2RldGFpbHM6IHRoaXMubWFwU3RyaXBlQmlsbGluZ0RldGFpbHMoYmlsbGluZ0FkZHJlc3MsIGN1c3RvbWVyKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHN0cmlwZVBheW1lbnRNZXRob2RUeXBlID09PSBTdHJpcGVQYXltZW50TWV0aG9kVHlwZS5JREVBTCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzdWx0LCByZXR1cm5fdXJsOiByZXR1cm5VcmwgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtb3VudENhcmRGaWVsZHMobWV0aG9kSWQ6IHN0cmluZyk6IFByb21pc2U8U3RyaXBlRWxlbWVudD4ge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGNvbnRhaW5lcklkIH0gPSB0aGlzLmdldEluaXRpYWxpemVPcHRpb25zKCk7XG5cbiAgICAgICAgbGV0IHN0cmlwZUVsZW1lbnQ6IFN0cmlwZUVsZW1lbnQ7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zdHJpcGVFbGVtZW50cykge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudHMgPSB0aGlzLmdldFN0cmlwZUpzKCkuZWxlbWVudHMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3dpdGNoIChtZXRob2RJZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgU3RyaXBlRWxlbWVudFR5cGUuQ3JlZGl0Q2FyZDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlSW5kaXZpZHVhbENhcmRGaWVsZHMgJiYgaXNJbmRpdmlkdWFsQ2FyZEVsZW1lbnRPcHRpb25zKG9wdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZE51bWJlckVsZW1lbnRPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRFeHBpcnlFbGVtZW50T3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkQ3ZjRWxlbWVudE9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9ID0gb3B0aW9ucztcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FyZE51bWJlckVsZW1lbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudHMuZ2V0RWxlbWVudChTdHJpcGVFbGVtZW50VHlwZS5DYXJkTnVtYmVyKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudHMuY3JlYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpcGVFbGVtZW50VHlwZS5DYXJkTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkTnVtYmVyRWxlbWVudE9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcmRFeHBpcnlFbGVtZW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnRzLmdldEVsZW1lbnQoU3RyaXBlRWxlbWVudFR5cGUuQ2FyZEV4cGlyeSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnRzLmNyZWF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaXBlRWxlbWVudFR5cGUuQ2FyZEV4cGlyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZEV4cGlyeUVsZW1lbnRPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkQ3ZjRWxlbWVudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50cy5nZXRFbGVtZW50KFN0cmlwZUVsZW1lbnRUeXBlLkNhcmRDdmMpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50cy5jcmVhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmlwZUVsZW1lbnRUeXBlLkNhcmRDdmMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRDdmNFbGVtZW50T3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmlwZUNhcmRFbGVtZW50cyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkTnVtYmVyRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkRXhwaXJ5RWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkQ3ZjRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpcGVFbGVtZW50ID0gdGhpcy5zdHJpcGVDYXJkRWxlbWVudHNbMF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZE51bWJlckVsZW1lbnQubW91bnQoYCMke2NhcmROdW1iZXJFbGVtZW50T3B0aW9ucy5jb250YWluZXJJZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkRXhwaXJ5RWxlbWVudC5tb3VudChgIyR7Y2FyZEV4cGlyeUVsZW1lbnRPcHRpb25zLmNvbnRhaW5lcklkfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRDdmNFbGVtZW50Lm1vdW50KGAjJHtjYXJkQ3ZjRWxlbWVudE9wdGlvbnMuY29udGFpbmVySWR9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0RlaW5pdGlhbGl6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBtb3VudCBTdHJpcGUgY29tcG9uZW50IHdpdGhvdXQgdmFsaWQgY29udGFpbmVyIElELicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmlwZUVsZW1lbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudHMuZ2V0RWxlbWVudChtZXRob2RJZCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnRzLmNyZWF0ZShtZXRob2RJZCwgb3B0aW9ucyBhcyBTdHJpcGVFbGVtZW50T3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXBlRWxlbWVudC5tb3VudChgIyR7Y29udGFpbmVySWR9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0RlaW5pdGlhbGl6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBtb3VudCBTdHJpcGUgY29tcG9uZW50IHdpdGhvdXQgdmFsaWQgY29udGFpbmVyIElELicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBTdHJpcGVFbGVtZW50VHlwZS5JREVBTDpcbiAgICAgICAgICAgICAgICBjYXNlIFN0cmlwZUVsZW1lbnRUeXBlLlNlcGE6XG4gICAgICAgICAgICAgICAgICAgIHN0cmlwZUVsZW1lbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50cy5nZXRFbGVtZW50KG1ldGhvZElkKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50cy5jcmVhdGUobWV0aG9kSWQsIG9wdGlvbnMgYXMgU3RyaXBlRWxlbWVudE9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpcGVFbGVtZW50Lm1vdW50KGAjJHtjb250YWluZXJJZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0RlaW5pdGlhbGl6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBtb3VudCBTdHJpcGUgY29tcG9uZW50IHdpdGhvdXQgdmFsaWQgY29udGFpbmVyIElELicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBTdHJpcGVFbGVtZW50VHlwZS5BbGlwYXk6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXNvbHZlKHN0cmlwZUVsZW1lbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIG1vdW50Q2FyZFZlcmlmaWNhdGlvbkZpZWxkcyhmb3JtT3B0aW9uczogSG9zdGVkRm9ybU9wdGlvbnMpOiBQcm9taXNlPEhvc3RlZEZvcm0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3Qgc3RvcmVDb25maWcgPSBzdGF0ZS5nZXRTdG9yZUNvbmZpZygpO1xuXG4gICAgICAgIGlmICghc3RvcmVDb25maWcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDaGVja291dENvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBiaWdwYXlCYXNlVXJsID0gc3RvcmVDb25maWcucGF5bWVudFNldHRpbmdzLmJpZ3BheUJhc2VVcmw7XG5cbiAgICAgICAgY29uc3QgZm9ybSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5jcmVhdGVIb3N0ZWRGb3JtKGJpZ3BheUJhc2VVcmwsIGZvcm1PcHRpb25zKTtcblxuICAgICAgICBhd2FpdCBmb3JtLmF0dGFjaCgpO1xuXG4gICAgICAgIHJldHVybiBmb3JtO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcHJvY2Vzc0FkZGl0aW9uYWxBY3Rpb24oXG4gICAgICAgIGVycm9yOiB1bmtub3duLFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICBzaG91bGRTYXZlSW5zdHJ1bWVudCA9IGZhbHNlLFxuICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50ID0gZmFsc2UsXG4gICAgKTogUHJvbWlzZTxhbnkgfCBuZXZlcj4ge1xuICAgICAgICBpZiAoIWlzUmVxdWVzdEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpc0FkZGl0aW9uYWxBY3Rpb25FcnJvciA9IHNvbWUoZXJyb3IuYm9keS5lcnJvcnMsIHtcbiAgICAgICAgICAgIGNvZGU6ICdhZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZCcsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBpc1RocmVlRFNlY3VyZVJlcXVpcmVkRXJyb3IgPSBzb21lKGVycm9yLmJvZHkuZXJyb3JzLCB7XG4gICAgICAgICAgICBjb2RlOiAndGhyZWVfZF9zZWN1cmVfcmVxdWlyZWQnLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaXNBZGRpdGlvbmFsQWN0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGlvbjogU3RyaXBlQWRkaXRpb25hbEFjdGlvbiA9IGVycm9yLmJvZHkuYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ7XG5cbiAgICAgICAgICAgIGlmIChhY3Rpb24gJiYgYWN0aW9uLnR5cGUgPT09ICdyZWRpcmVjdF90b191cmwnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbi5kYXRhLnJlZGlyZWN0X3VybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoYWN0aW9uLmRhdGEucmVkaXJlY3RfdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzVGhyZWVEU2VjdXJlUmVxdWlyZWRFcnJvcikge1xuICAgICAgICAgICAgY29uc3QgY2xpZW50U2VjcmV0ID0gZXJyb3IuYm9keS50aHJlZV9kc19yZXN1bHQudG9rZW47XG4gICAgICAgICAgICBjb25zdCBuZWVkc0NvbmZpcm0gPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBjYXRjaGVkQ29uZmlybUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgcmVzdWx0O1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHRoaXMuZ2V0U3RyaXBlSnMoKS5jb25maXJtQ2FyZFBheW1lbnQoY2xpZW50U2VjcmV0KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY2F0Y2hlZENvbmZpcm1FcnJvciA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQ/LmVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDYW5jZWxsYXRpb25FcnJvcihyZXN1bHQuZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0F1dGhFcnJvcihyZXN1bHQuZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdHJpcGVWM0Vycm9yKFN0cmlwZVYzRXJyb3JUeXBlLkF1dGhGYWlsdXJlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0LmVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHRoaXMuZ2V0UGF5bWVudFRva2VuKFxuICAgICAgICAgICAgICAgIHJlc3VsdD8ucGF5bWVudEludGVudCxcbiAgICAgICAgICAgICAgICBjbGllbnRTZWNyZXQsXG4gICAgICAgICAgICAgICAgY2F0Y2hlZENvbmZpcm1FcnJvcixcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZFBheWxvYWQgPSB7XG4gICAgICAgICAgICAgICAgY3JlZGl0X2NhcmRfdG9rZW46IHsgdG9rZW4gfSxcbiAgICAgICAgICAgICAgICB2YXVsdF9wYXltZW50X2luc3RydW1lbnQ6IHNob3VsZFNhdmVJbnN0cnVtZW50LFxuICAgICAgICAgICAgICAgIGNvbmZpcm06IG5lZWRzQ29uZmlybSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnRQYXlsb2FkID0gdGhpcy5idWlsZFBheW1lbnRQYXlsb2FkKFxuICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQsXG4gICAgICAgICAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHBheW1lbnRQYXlsb2FkKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgdGhpcy5oYW5kbGVFbXB0eVBheW1lbnRJbnRlbnRFcnJvcihlcnJvciwgcmVzdWx0Py5lcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFBheW1lbnRUb2tlbihcbiAgICAgICAgcGF5bWVudEludGVudDogUGF5bWVudEludGVudCB8IHVuZGVmaW5lZCxcbiAgICAgICAgY2xpZW50U2VjcmV0OiBzdHJpbmcsXG4gICAgICAgIGNhdGNoZWRDb25maXJtRXJyb3I6IGJvb2xlYW4sXG4gICAgKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKCFwYXltZW50SW50ZW50IHx8IGNhdGNoZWRDb25maXJtRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBjbGllbnRTZWNyZXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGF5bWVudEludGVudC5pZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNob3VsZFNob3dUU1ZIb3N0ZWRGb3JtKG1ldGhvZElkOiBzdHJpbmcsIGdhdGV3YXlJZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLmlzSG9zdGVkRmllbGRBdmFpbGFibGUoKSAmJiB0aGlzLmlzSG9zdGVkUGF5bWVudEZvcm1FbmFibGVkKG1ldGhvZElkLCBnYXRld2F5SWQpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1bm1vdW50RWxlbWVudCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc3RyaXBlRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50LnVubW91bnQoKTtcbiAgICAgICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBCaWxsaW5nQWRkcmVzcyBmcm9tICcuL2JpbGxpbmctYWRkcmVzcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQmlsbGluZ0FkZHJlc3NMaWtlKGFkZHJlc3M6IGFueSk6IGFkZHJlc3MgaXMgQmlsbGluZ0FkZHJlc3Mge1xuICAgIHJldHVybiAoXG4gICAgICAgIHR5cGVvZiBhZGRyZXNzID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBhZGRyZXNzICE9PSBudWxsICYmXG4gICAgICAgICdpZCcgaW4gYWRkcmVzcyAmJlxuICAgICAgICB0eXBlb2YgYWRkcmVzcy5pZCAhPT0gJ3VuZGVmaW5lZCdcbiAgICApO1xufVxuIiwiaW1wb3J0IHsgU2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQgeyBQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvciB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBTdHJpcGVIb3N0V2luZG93LCBTdHJpcGVWM0NsaWVudCB9IGZyb20gJy4vc3RyaXBldjMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdHJpcGVWM1NjcmlwdExvYWRlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgc2NyaXB0TG9hZGVyOiBTY3JpcHRMb2FkZXIsXG4gICAgICAgIHByaXZhdGUgc3RyaXBlV2luZG93OiBTdHJpcGVIb3N0V2luZG93ID0gd2luZG93LFxuICAgICkge31cblxuICAgIGxvYWQoXG4gICAgICAgIHN0cmlwZVB1Ymxpc2hhYmxlS2V5OiBzdHJpbmcsXG4gICAgICAgIHN0cmlwZUFjY291bnQ6IHN0cmluZyxcbiAgICAgICAgbG9jYWxlPzogc3RyaW5nLFxuICAgICk6IFByb21pc2U8U3RyaXBlVjNDbGllbnQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoJ2h0dHBzOi8vanMuc3RyaXBlLmNvbS92My8nKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zdHJpcGVXaW5kb3cuU3RyaXBlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cmlwZVdpbmRvdy5TdHJpcGUoc3RyaXBlUHVibGlzaGFibGVLZXksIHtcbiAgICAgICAgICAgICAgICBzdHJpcGVBY2NvdW50LFxuICAgICAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgICAgICBiZXRhczogWydwYXltZW50X2ludGVudF9iZXRhXzMnLCAnYWxpcGF5X3BtX2JldGFfMSddLFxuICAgICAgICAgICAgICAgIGFwaVZlcnNpb246ICcyMDIwLTAzLTAyO2FsaXBheV9iZXRhPXYxJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBnZXRTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7XG4gICAgUGF5bWVudFN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgU3RyaXBlVjNQYXltZW50U3RyYXRlZ3kgZnJvbSAnLi9zdHJpcGV2My1wYXltZW50LXN0cmF0ZWd5JztcbmltcG9ydCBTdHJpcGVWM1NjcmlwdExvYWRlciBmcm9tICcuL3N0cmlwZXYzLXNjcmlwdC1sb2FkZXInO1xuXG5jb25zdCBjcmVhdGVTdHJpcGVWM1BheW1lbnRTdHJhdGVneTogUGF5bWVudFN0cmF0ZWd5RmFjdG9yeTxhbnk+ID0gKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpID0+IHtcbiAgICByZXR1cm4gbmV3IFN0cmlwZVYzUGF5bWVudFN0cmF0ZWd5KFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBuZXcgU3RyaXBlVjNTY3JpcHRMb2FkZXIoZ2V0U2NyaXB0TG9hZGVyKCkpLFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlU3RyaXBlVjNQYXltZW50U3RyYXRlZ3ksIFt7IGdhdGV3YXk6ICdzdHJpcGV2MycgfV0pO1xuIiwiaW1wb3J0IHsgUmVzcG9uc2UgfSBmcm9tICdAYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXInO1xuXG5pbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuY29uc3QgREVGQVVMVF9SRVNQT05TRSA9IHtcbiAgICBib2R5OiB7fSxcbiAgICBoZWFkZXJzOiB7fSxcbiAgICBzdGF0dXM6IDAsXG59O1xuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3IgaWYgd2UgYXJlIHVuYWJsZSB0byBtYWtlIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyLiBJdCB3cmFwc1xuICogYW55IHNlcnZlciByZXNwb25zZSBpbnRvIGEgSlMgZXJyb3Igb2JqZWN0LlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXF1ZXN0RXJyb3I8VEJvZHkgPSBhbnk+IGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgYm9keTogVEJvZHkgfCB7fTtcbiAgICBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAgIGVycm9yczogQXJyYXk8eyBjb2RlOiBzdHJpbmc7IG1lc3NhZ2U/OiBzdHJpbmcgfT47XG4gICAgc3RhdHVzOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcmVzcG9uc2U/OiBSZXNwb25zZTxUQm9keSB8IHt9PixcbiAgICAgICAge1xuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIGVycm9ycyxcbiAgICAgICAgfToge1xuICAgICAgICAgICAgbWVzc2FnZT86IHN0cmluZztcbiAgICAgICAgICAgIGVycm9ycz86IEFycmF5PHsgY29kZTogc3RyaW5nOyBtZXNzYWdlPzogc3RyaW5nIH0+O1xuICAgICAgICB9ID0ge30sXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHsgYm9keSwgaGVhZGVycywgc3RhdHVzIH0gPSByZXNwb25zZSB8fCBERUZBVUxUX1JFU1BPTlNFO1xuXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ0FuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdSZXF1ZXN0RXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAncmVxdWVzdCc7XG4gICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3Qgc3VwcG9ydGVkTG9jYWxlczogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+ID0ge1xuICAgIGFyOiBbJ2FyJ10sXG4gICAgYmc6IFsnYmcnXSxcbiAgICBjczogWydjcyddLFxuICAgIGRhOiBbJ2RhJ10sXG4gICAgZGU6IFsnZGUnXSxcbiAgICBlbDogWydlbCddLFxuICAgIGVuOiBbJ2VuJywgJ2VuLUdCJ10sXG4gICAgZXM6IFsnZXMnLCAnZXMtNDE5J10sXG4gICAgZXQ6IFsnZXQnXSxcbiAgICBmaTogWydmaSddLFxuICAgIGZpbDogWydmaWwnXSxcbiAgICBmcjogWydmcicsICdmci1DQSddLFxuICAgIGhlOiBbJ2hlJ10sXG4gICAgaHI6IFsnaHInXSxcbiAgICBodTogWydodSddLFxuICAgIGlkOiBbJ2lkJ10sXG4gICAgaXQ6IFsnaXQnXSxcbiAgICBqYTogWydqYSddLFxuICAgIGtvOiBbJ2tvJ10sXG4gICAgbHQ6IFsnbHQnXSxcbiAgICBsdjogWydsdiddLFxuICAgIG1zOiBbJ21zJ10sXG4gICAgbXQ6IFsnbXQnXSxcbiAgICBuYjogWyduYiddLFxuICAgIG5sOiBbJ25sJ10sXG4gICAgcGw6IFsncGwnXSxcbiAgICBwdDogWydwdCcsICdwdC1CUiddLFxuICAgIHJvOiBbJ3JvJ10sXG4gICAgcnU6IFsncnUnXSxcbiAgICBzazogWydzayddLFxuICAgIHNsOiBbJ3NsJ10sXG4gICAgc3Y6IFsnc3YnXSxcbiAgICB0aDogWyd0aCddLFxuICAgIHRyOiBbJ3RyJ10sXG4gICAgdmk6IFsndmknXSxcbiAgICB6aDogWyd6aCcsICd6aC1ISycsICd6aC1UVyddLFxufTtcbiIsImltcG9ydCB7IHN1cHBvcnRlZExvY2FsZXMgfSBmcm9tICcuL3N0cmlwZS1zdXBwb3J0ZWQtbG9jYWxlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZvcm1hdExvY2FsZShsb2NhbGVMYW5ndWFnZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBbbGFuZ3VhZ2UsIGNvdW50cnldID0gbG9jYWxlTGFuZ3VhZ2UucmVwbGFjZSgvXy9nLCAnLScpLnRvTG93ZXJDYXNlKCkuc3BsaXQoJy0nKTtcbiAgICBjb25zdCBjb3VudHJ5TG9jYWxlcyA9IHN1cHBvcnRlZExvY2FsZXNbbGFuZ3VhZ2VdO1xuXG4gICAgaWYgKCFjb3VudHJ5TG9jYWxlcykge1xuICAgICAgICByZXR1cm4gJ2F1dG8nO1xuICAgIH1cblxuICAgIGNvbnN0IGZvcm1hdHRlZExvY2FsZSA9IGNvdW50cnkgPyBgJHtsYW5ndWFnZX0tJHtjb3VudHJ5LnRvVXBwZXJDYXNlKCl9YCA6IGxhbmd1YWdlO1xuXG4gICAgcmV0dXJuIGNvdW50cnlMb2NhbGVzLmluZGV4T2YoZm9ybWF0dGVkTG9jYWxlKSA+IC0xID8gZm9ybWF0dGVkTG9jYWxlIDogY291bnRyeUxvY2FsZXNbMF07XG59XG4iLCJpbXBvcnQgeyBzb21lIH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHtcbiAgICBGb3JtYXR0ZWRIb3N0ZWRJbnN0cnVtZW50LFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIGlzSG9zdGVkSW5zdHJ1bWVudExpa2UsXG4gICAgaXNSZXF1ZXN0RXJyb3IsXG4gICAgaXNWYXVsdGVkSW5zdHJ1bWVudCxcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudCxcbiAgICBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IsXG4gICAgUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlbGVjdG9ycyxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2RGYWlsZWRFcnJvcixcbiAgICBQYXltZW50UmVxdWVzdE9wdGlvbnMsXG4gICAgUGF5bWVudFN0cmF0ZWd5LFxuICAgIFJlcXVlc3RFcnJvcixcbiAgICBTdHJpcGVVUEVJbnRlbnQsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuaW1wb3J0IHtcbiAgICBmb3JtYXRTdHJpcGVMb2NhbGUsXG4gICAgaXNTdHJpcGVQYXltZW50TWV0aG9kTGlrZSxcbiAgICBTVFJJUEVfVVBFX0NMSUVOVF9BUElfVkVSU0lPTixcbiAgICBTVFJJUEVfVVBFX0NMSUVOVF9CRVRBUyxcbiAgICBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uUmVxdWlyZWQsXG4gICAgU3RyaXBlQXBwZWFyYW5jZU9wdGlvbnMsXG4gICAgU3RyaXBlQ2xpZW50LFxuICAgIFN0cmlwZUVsZW1lbnQsXG4gICAgU3RyaXBlRWxlbWVudEV2ZW50LFxuICAgIFN0cmlwZUVsZW1lbnRzLFxuICAgIFN0cmlwZUVsZW1lbnRzQ3JlYXRlT3B0aW9ucyxcbiAgICBTdHJpcGVFbGVtZW50VHlwZSxcbiAgICBTdHJpcGVFbGVtZW50VXBkYXRlT3B0aW9ucyxcbiAgICBTdHJpcGVFcnJvcixcbiAgICBTdHJpcGVFdmVudFR5cGUsXG4gICAgU3RyaXBlSW5pdGlhbGl6YXRpb25EYXRhLFxuICAgIFN0cmlwZUludGVncmF0aW9uU2VydmljZSxcbiAgICBTdHJpcGVQYXltZW50TWV0aG9kVHlwZSxcbiAgICBTdHJpcGVSZXN1bHQsXG4gICAgU3RyaXBlU2NyaXB0TG9hZGVyLFxuICAgIFN0cmlwZVN0cmluZ0NvbnN0YW50cyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9zdHJpcGUtdXRpbHMnO1xuXG5pbXBvcnQgaXNTdHJpcGVBY2NlbGVyYXRlZENoZWNrb3V0Q3VzdG9tZXIgZnJvbSAnLi9pcy1zdHJpcGUtYWNjZWxlcmF0ZWQtY2hlY2tvdXQtY3VzdG9tZXInO1xuaW1wb3J0IFN0cmlwZVVQRVBheW1lbnRJbml0aWFsaXplT3B0aW9ucywge1xuICAgIFdpdGhTdHJpcGVVUEVQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG59IGZyb20gJy4vc3RyaXBlLXVwZS1pbml0aWFsaXplLW9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdHJpcGVVUEVQYXltZW50U3RyYXRlZ3kgaW1wbGVtZW50cyBQYXltZW50U3RyYXRlZ3kge1xuICAgIHByaXZhdGUgX3N0cmlwZVVQRUNsaWVudD86IFN0cmlwZUNsaWVudDtcbiAgICBwcml2YXRlIF9zdHJpcGVFbGVtZW50cz86IFN0cmlwZUVsZW1lbnRzO1xuICAgIHByaXZhdGUgX2lzU3RyaXBlRWxlbWVudFVwZGF0ZUVuYWJsZWQ/OiBib29sZWFuO1xuICAgIHByaXZhdGUgX2FsbG93UmVkaXNwbGF5Rm9yU3RvcmVkSW5zdHJ1bWVudHM/OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBzY3JpcHRMb2FkZXI6IFN0cmlwZVNjcmlwdExvYWRlcixcbiAgICAgICAgcHJpdmF0ZSBzdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2U6IFN0cmlwZUludGVncmF0aW9uU2VydmljZSxcbiAgICApIHt9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKFxuICAgICAgICBvcHRpb25zOiBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoU3RyaXBlVVBFUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IHN0cmlwZXVwZSwgbWV0aG9kSWQsIGdhdGV3YXlJZCB9ID0gb3B0aW9ucztcblxuICAgICAgICBpZiAoIXN0cmlwZXVwZT8uY29udGFpbmVySWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWdhdGV3YXlJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJnYXRld2F5SWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkU3RyaXBlRWxlbWVudChzdHJpcGV1cGUsIGdhdGV3YXlJZCwgbWV0aG9kSWQpLmNhdGNoKChlcnJvcikgPT5cbiAgICAgICAgICAgIHN0cmlwZXVwZS5vbkVycm9yPy4oZXJyb3IpLFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLmluaXRDaGVja291dEV2ZW50c1N1YnNjcmlwdGlvbihcbiAgICAgICAgICAgIGdhdGV3YXlJZCxcbiAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgc3RyaXBldXBlLFxuICAgICAgICAgICAgdGhpcy5fc3RyaXBlRWxlbWVudHMsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGUob3JkZXJSZXF1ZXN0OiBPcmRlclJlcXVlc3RCb2R5LCBvcHRpb25zPzogUGF5bWVudFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudCwgLi4ub3JkZXIgfSA9IG9yZGVyUmVxdWVzdDtcblxuICAgICAgICBpZiAoIXBheW1lbnQgfHwgIXBheW1lbnQucGF5bWVudERhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IoWydwYXltZW50LnBheW1lbnREYXRhJ10pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9zdHJpcGVVUEVDbGllbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHBheW1lbnREYXRhLCBtZXRob2RJZCwgZ2F0ZXdheUlkIH0gPSBwYXltZW50O1xuICAgICAgICBjb25zdCB7IHNob3VsZFNhdmVJbnN0cnVtZW50ID0gZmFsc2UsIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgPSBmYWxzZSB9ID1cbiAgICAgICAgICAgIGlzSG9zdGVkSW5zdHJ1bWVudExpa2UocGF5bWVudERhdGEpID8gcGF5bWVudERhdGEgOiB7fTtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgeyBpc1N0b3JlQ3JlZGl0QXBwbGllZDogdXNlU3RvcmVDcmVkaXQgfSA9IHN0YXRlLmdldENoZWNrb3V0T3JUaHJvdygpO1xuICAgICAgICBjb25zdCBwYXltZW50UHJvdmlkZXJDdXN0b21lciA9IHN0YXRlLmdldFBheW1lbnRQcm92aWRlckN1c3RvbWVyT3JUaHJvdygpO1xuICAgICAgICBjb25zdCBzdHJpcGVQYXltZW50UHJvdmlkZXJDdXN0b21lciA9IGlzU3RyaXBlQWNjZWxlcmF0ZWRDaGVja291dEN1c3RvbWVyKFxuICAgICAgICAgICAgcGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIsXG4gICAgICAgIClcbiAgICAgICAgICAgID8gcGF5bWVudFByb3ZpZGVyQ3VzdG9tZXJcbiAgICAgICAgICAgIDoge307XG4gICAgICAgIGNvbnN0IHN0cmlwZUxpbmtBdXRoZW50aWNhdGlvblN0YXRlID1cbiAgICAgICAgICAgIHN0cmlwZVBheW1lbnRQcm92aWRlckN1c3RvbWVyLnN0cmlwZUxpbmtBdXRoZW50aWNhdGlvblN0YXRlO1xuXG4gICAgICAgIGlmICh1c2VTdG9yZUNyZWRpdCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmFwcGx5U3RvcmVDcmVkaXQodXNlU3RvcmVDcmVkaXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdhdGV3YXlJZCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlU3RyaXBlUGF5bWVudEludGVudChnYXRld2F5SWQsIG1ldGhvZElkKTtcblxuICAgICAgICAgICAgY29uc3QgeyBlbWFpbCB9ID0gc3RhdGUuZ2V0Q3VzdG9tZXJPclRocm93KCk7XG5cbiAgICAgICAgICAgIGlmIChzdHJpcGVMaW5rQXV0aGVudGljYXRpb25TdGF0ZSAhPT0gdW5kZWZpbmVkICYmICFlbWFpbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJpbGxpbmdBZGRyZXNzID0gc3RhdGUuZ2V0QmlsbGluZ0FkZHJlc3NPclRocm93KCk7XG5cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlQmlsbGluZ0FkZHJlc3MoYmlsbGluZ0FkZHJlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKG9yZGVyLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAoaXNWYXVsdGVkSW5zdHJ1bWVudChwYXltZW50RGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgaW5zdHJ1bWVudElkIH0gPSBwYXltZW50RGF0YTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fZXhlY3V0ZVdpdGhWYXVsdGVkKFxuICAgICAgICAgICAgICAgIHBheW1lbnQubWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgaW5zdHJ1bWVudElkLFxuICAgICAgICAgICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLl9leGVjdXRlV2l0aFN0cmlwZUNvbmZpcm1hdGlvbihcbiAgICAgICAgICAgIHBheW1lbnQubWV0aG9kSWQsXG4gICAgICAgICAgICBzdHJpcGVMaW5rQXV0aGVudGljYXRpb25TdGF0ZSA/IGZhbHNlIDogc2hvdWxkU2F2ZUluc3RydW1lbnQsXG4gICAgICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZpbmFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcigpKTtcbiAgICB9XG5cbiAgICBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuX3N0cmlwZUVsZW1lbnRzPy5nZXRFbGVtZW50KFN0cmlwZUVsZW1lbnRUeXBlLlBBWU1FTlQpPy51bm1vdW50KCk7XG4gICAgICAgIHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLmRlaW5pdGlhbGl6ZSgpO1xuICAgICAgICB0aGlzLl9zdHJpcGVFbGVtZW50cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fc3RyaXBlVVBFQ2xpZW50ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9leGVjdXRlV2l0aFN0cmlwZUNvbmZpcm1hdGlvbihcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgc2hvdWxkU2F2ZUluc3RydW1lbnQ/OiBib29sZWFuLFxuICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50PzogYm9vbGVhbixcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgeyBjbGllbnRUb2tlbiB9ID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuICAgICAgICBjb25zdCBwYXltZW50UGF5bG9hZCA9IHRoaXMuX2dldFBheW1lbnRQYXlsb2FkKFxuICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICBjbGllbnRUb2tlbiB8fCAnJyxcbiAgICAgICAgICAgIHNob3VsZFNhdmVJbnN0cnVtZW50LFxuICAgICAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQocGF5bWVudFBheWxvYWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fcHJvY2Vzc0FkZGl0aW9uYWxBY3Rpb25XaXRoU3RyaXBlQ29uZmlybWF0aW9uKFxuICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgIHNob3VsZFNhdmVJbnN0cnVtZW50LFxuICAgICAgICAgICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfZXhlY3V0ZVdpdGhWYXVsdGVkKFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICB0b2tlbjogc3RyaW5nLFxuICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50OiBib29sZWFuLFxuICAgICk6IFByb21pc2U8UGF5bWVudEludGVncmF0aW9uU2VsZWN0b3JzIHwgdm9pZD4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuICAgICAgICBjb25zdCBjYXJ0SWQgPSBzdGF0ZS5nZXRDYXJ0KCk/LmlkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXltZW50UGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJ0X2lkOiBjYXJ0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBiaWdwYXlfdG9rZW46IHsgdG9rZW4gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm06IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50X3Rva2VuOiBwYXltZW50TWV0aG9kLmNsaWVudFRva2VuLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0X2FzX2RlZmF1bHRfc3RvcmVkX2luc3RydW1lbnQ6IHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChwYXltZW50UGF5bG9hZCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2Vzc1ZhdWx0ZWRBZGRpdGlvbmFsQWN0aW9uKFxuICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfbG9hZFN0cmlwZUVsZW1lbnQoXG4gICAgICAgIHN0cmlwZXVwZTogU3RyaXBlVVBFUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgICAgICBnYXRld2F5SWQ6IHN0cmluZyxcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICApIHtcbiAgICAgICAgY29uc3QgeyBjb250YWluZXJJZCwgc3R5bGUsIHJlbmRlciwgaW5pdFN0cmlwZUVsZW1lbnRVcGRhdGVUcmlnZ2VyIH0gPSBzdHJpcGV1cGU7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRQYXltZW50TWV0aG9kKGdhdGV3YXlJZCwge1xuICAgICAgICAgICAgcGFyYW1zOiB7IG1ldGhvZDogbWV0aG9kSWQgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG4gICAgICAgIGNvbnN0IHsgY2hlY2tvdXRTZXR0aW5ncyB9ID0gc3RhdGUuZ2V0U3RvcmVDb25maWdPclRocm93KCk7XG5cbiAgICAgICAgaWYgKCFpc1N0cmlwZVBheW1lbnRNZXRob2RMaWtlKHBheW1lbnRNZXRob2QpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuLCBpbml0aWFsaXphdGlvbkRhdGEgfSA9IHBheW1lbnRNZXRob2Q7XG4gICAgICAgIGNvbnN0IHsgc2hvcHBlckxhbmd1YWdlLCBhbGxvd1JlZGlzcGxheUZvclN0b3JlZEluc3RydW1lbnRzID0gZmFsc2UgfSA9IGluaXRpYWxpemF0aW9uRGF0YTtcblxuICAgICAgICB0aGlzLl9hbGxvd1JlZGlzcGxheUZvclN0b3JlZEluc3RydW1lbnRzID0gYWxsb3dSZWRpc3BsYXlGb3JTdG9yZWRJbnN0cnVtZW50cztcblxuICAgICAgICBpZiAoIWNsaWVudFRva2VuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdHJpcGVVUEVDbGllbnQgPSBhd2FpdCB0aGlzLl9sb2FkU3RyaXBlSnMoaW5pdGlhbGl6YXRpb25EYXRhKTtcbiAgICAgICAgdGhpcy5faXNTdHJpcGVFbGVtZW50VXBkYXRlRW5hYmxlZCA9XG4gICAgICAgICAgICAhIWNoZWNrb3V0U2V0dGluZ3MuZmVhdHVyZXNbJ1BJLTE2NzkudHJpZ2dlcl91cGRhdGVfc3RyaXBlX3BheW1lbnRfZWxlbWVudCddICYmXG4gICAgICAgICAgICB0eXBlb2YgaW5pdFN0cmlwZUVsZW1lbnRVcGRhdGVUcmlnZ2VyID09PSAnZnVuY3Rpb24nO1xuXG4gICAgICAgIGxldCBhcHBlYXJhbmNlOiBTdHJpcGVBcHBlYXJhbmNlT3B0aW9ucyB8IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlcyA9IHN0eWxlO1xuXG4gICAgICAgICAgICBhcHBlYXJhbmNlID0ge1xuICAgICAgICAgICAgICAgIHZhcmlhYmxlczogdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UubWFwQXBwZWFyYW5jZVZhcmlhYmxlcyhzdHlsZSksXG4gICAgICAgICAgICAgICAgcnVsZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgJy5JbnB1dCc6IHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLm1hcElucHV0QXBwZWFyYW5jZVJ1bGVzKHN0eWxlcyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdHJpcGVFbGVtZW50cyA9IGF3YWl0IHRoaXMuc2NyaXB0TG9hZGVyLmdldEVsZW1lbnRzKHRoaXMuX3N0cmlwZVVQRUNsaWVudCwge1xuICAgICAgICAgICAgY2xpZW50U2VjcmV0OiBjbGllbnRUb2tlbixcbiAgICAgICAgICAgIGxvY2FsZTogZm9ybWF0U3RyaXBlTG9jYWxlKHNob3BwZXJMYW5ndWFnZSksXG4gICAgICAgICAgICBhcHBlYXJhbmNlLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB7IGdldEJpbGxpbmdBZGRyZXNzLCBnZXRTaGlwcGluZ0FkZHJlc3MgfSA9IHN0YXRlO1xuICAgICAgICBjb25zdCB7IHBvc3RhbENvZGUgfSA9IGdldFNoaXBwaW5nQWRkcmVzcygpIHx8IGdldEJpbGxpbmdBZGRyZXNzKCkgfHwge307XG5cbiAgICAgICAgY29uc3Qgc3RyaXBlRWxlbWVudDogU3RyaXBlRWxlbWVudCA9XG4gICAgICAgICAgICB0aGlzLl9zdHJpcGVFbGVtZW50cy5nZXRFbGVtZW50KFN0cmlwZUVsZW1lbnRUeXBlLlBBWU1FTlQpIHx8XG4gICAgICAgICAgICB0aGlzLl9zdHJpcGVFbGVtZW50cy5jcmVhdGUoU3RyaXBlRWxlbWVudFR5cGUuUEFZTUVOVCwge1xuICAgICAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgICAgICBiaWxsaW5nRGV0YWlsczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudHJ5OiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2l0eTogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6IHBvc3RhbENvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBTdHJpcGVTdHJpbmdDb25zdGFudHMuQVVUTyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB3YWxsZXRzOiB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGxlUGF5OiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVIsXG4gICAgICAgICAgICAgICAgICAgIGdvb2dsZVBheTogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZ2V0U3RyaXBlRWxlbWVudFRlcm1zKCksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS5tb3VudEVsZW1lbnQoc3RyaXBlRWxlbWVudCwgY29udGFpbmVySWQpO1xuXG4gICAgICAgIHN0cmlwZUVsZW1lbnQub24oU3RyaXBlRWxlbWVudEV2ZW50LlJFQURZLCAoKSA9PiB7XG4gICAgICAgICAgICByZW5kZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3RyaXBlRWxlbWVudC5vbihTdHJpcGVFbGVtZW50RXZlbnQuQ0hBTkdFLCAoZXZlbnQ6IFN0cmlwZUV2ZW50VHlwZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFldmVudD8udmFsdWUgfHwgISgndHlwZScgaW4gZXZlbnQudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVTdHJpcGVMaW5rU3RhdGVCeUVsZW1lbnRUeXBlKGV2ZW50LnZhbHVlLnR5cGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5faXNTdHJpcGVFbGVtZW50VXBkYXRlRW5hYmxlZCkge1xuICAgICAgICAgICAgaW5pdFN0cmlwZUVsZW1lbnRVcGRhdGVUcmlnZ2VyPy4odGhpcy5fdXBkYXRlU3RyaXBlRWxlbWVudC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX3Byb2Nlc3NBZGRpdGlvbmFsQWN0aW9uV2l0aFN0cmlwZUNvbmZpcm1hdGlvbihcbiAgICAgICAgZXJyb3I6IHVua25vd24sXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgICAgIHNob3VsZFNhdmVJbnN0cnVtZW50ID0gZmFsc2UsXG4gICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgPSBmYWxzZSxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWlzUmVxdWVzdEVycm9yKGVycm9yKSB8fFxuICAgICAgICAgICAgIXRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLmlzQWRkaXRpb25hbEFjdGlvbkVycm9yKGVycm9yLmJvZHkuZXJyb3JzKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9zdHJpcGVVUEVDbGllbnQgfHwgIXRoaXMuX3N0cmlwZUVsZW1lbnRzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBkYXRhOiBhZGRpdGlvbmFsQWN0aW9uRGF0YSB9ID0gZXJyb3IuYm9keS5hZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZDtcbiAgICAgICAgY29uc3QgeyB0b2tlbiB9ID0gYWRkaXRpb25hbEFjdGlvbkRhdGE7XG5cbiAgICAgICAgY29uc3QgeyBwYXltZW50SW50ZW50IH0gPSBhd2FpdCB0aGlzLl9jb25maXJtU3RyaXBlUGF5bWVudE9yVGhyb3coXG4gICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxBY3Rpb25EYXRhLFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHBheW1lbnRQYXlsb2FkID0gdGhpcy5fZ2V0UGF5bWVudFBheWxvYWQoXG4gICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgIHBheW1lbnRJbnRlbnQ/LmlkIHx8IHRva2VuLFxuICAgICAgICAgICAgc2hvdWxkU2F2ZUluc3RydW1lbnQsXG4gICAgICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICApO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChwYXltZW50UGF5bG9hZCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS50aHJvd1BheW1lbnRDb25maXJtYXRpb25Qcm9jZWVkTWVzc2FnZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfY29uZmlybVN0cmlwZVBheW1lbnRPclRocm93KFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICBhZGRpdGlvbmFsQWN0aW9uRGF0YTogU3RyaXBlQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkWydkYXRhJ10sXG4gICAgKTogUHJvbWlzZTxTdHJpcGVSZXN1bHQgfCBuZXZlcj4ge1xuICAgICAgICBjb25zdCB7IHRva2VuLCByZWRpcmVjdF91cmwgfSA9IGFkZGl0aW9uYWxBY3Rpb25EYXRhO1xuICAgICAgICBjb25zdCBzdHJpcGVQYXltZW50RGF0YSA9IHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLm1hcFN0cmlwZVBheW1lbnREYXRhKFxuICAgICAgICAgICAgdGhpcy5fc3RyaXBlRWxlbWVudHMsXG4gICAgICAgICAgICByZWRpcmVjdF91cmwsXG4gICAgICAgICAgICAhIXRoaXMuX2FsbG93UmVkaXNwbGF5Rm9yU3RvcmVkSW5zdHJ1bWVudHMsXG4gICAgICAgICk7XG4gICAgICAgIGxldCBzdHJpcGVFcnJvcjogU3RyaXBlRXJyb3IgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGlzUGF5bWVudENvbXBsZXRlZCA9IGF3YWl0IHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLmlzUGF5bWVudENvbXBsZXRlZChcbiAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJpcGVVUEVDbGllbnQsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBjb25maXJtYXRpb25SZXN1bHQgPSAhaXNQYXltZW50Q29tcGxldGVkXG4gICAgICAgICAgICAgICAgPyBhd2FpdCB0aGlzLl9zdHJpcGVVUEVDbGllbnQ/LmNvbmZpcm1QYXltZW50KHN0cmlwZVBheW1lbnREYXRhKVxuICAgICAgICAgICAgICAgIDogYXdhaXQgdGhpcy5fc3RyaXBlVVBFQ2xpZW50Py5yZXRyaWV2ZVBheW1lbnRJbnRlbnQodG9rZW4gfHwgJycpO1xuXG4gICAgICAgICAgICBzdHJpcGVFcnJvciA9IGNvbmZpcm1hdGlvblJlc3VsdD8uZXJyb3I7XG5cbiAgICAgICAgICAgIGlmIChzdHJpcGVFcnJvciB8fCAhY29uZmlybWF0aW9uUmVzdWx0Py5wYXltZW50SW50ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RGYWlsZWRFcnJvcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29uZmlybWF0aW9uUmVzdWx0O1xuICAgICAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgICAgICAgdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UudGhyb3dTdHJpcGVFcnJvcihzdHJpcGVFcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9wcm9jZXNzVmF1bHRlZEFkZGl0aW9uYWxBY3Rpb24oXG4gICAgICAgIGVycm9yOiB1bmtub3duLFxuICAgICAgICBtZXRob2RJZD86IHN0cmluZyxcbiAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCA9IGZhbHNlLFxuICAgICk6IFByb21pc2U8UGF5bWVudEludGVncmF0aW9uU2VsZWN0b3JzIHwgbmV2ZXI+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIW1ldGhvZElkIHx8XG4gICAgICAgICAgICAhaXNSZXF1ZXN0RXJyb3IoZXJyb3IpIHx8XG4gICAgICAgICAgICAhc29tZShlcnJvci5ib2R5LmVycm9ycywgeyBjb2RlOiAndGhyZWVfZF9zZWN1cmVfcmVxdWlyZWQnIH0pXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX3N0cmlwZVVQRUNsaWVudCB8fCAhdGhpcy5fc3RyaXBlRWxlbWVudHMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjbGllbnRTZWNyZXQgPSBlcnJvci5ib2R5LnRocmVlX2RzX3Jlc3VsdC50b2tlbjtcbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgbGV0IGNhdGNoZWRDb25maXJtRXJyb3IgPSBmYWxzZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgdGhpcy5fc3RyaXBlVVBFQ2xpZW50LmNvbmZpcm1DYXJkUGF5bWVudChjbGllbnRTZWNyZXQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBhd2FpdCB0aGlzLl9zdHJpcGVVUEVDbGllbnQucmV0cmlldmVQYXltZW50SW50ZW50KGNsaWVudFNlY3JldCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNhdGNoZWRDb25maXJtRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3VsdD8uZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLnRocm93U3RyaXBlRXJyb3IocmVzdWx0LmVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmVzdWx0Py5wYXltZW50SW50ZW50ICYmICFjYXRjaGVkQ29uZmlybUVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmVxdWVzdEVycm9yKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXltZW50UGF5bG9hZCA9IHRoaXMuX2dldFBheW1lbnRQYXlsb2FkKFxuICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICBjYXRjaGVkQ29uZmlybUVycm9yID8gY2xpZW50U2VjcmV0IDogcmVzdWx0Py5wYXltZW50SW50ZW50Py5pZCxcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQocGF5bWVudFBheWxvYWQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2xvYWRTdHJpcGVKcyhcbiAgICAgICAgaW5pdGlhbGl6YXRpb25EYXRhOiBTdHJpcGVJbml0aWFsaXphdGlvbkRhdGEsXG4gICAgKTogUHJvbWlzZTxTdHJpcGVDbGllbnQ+IHtcbiAgICAgICAgaWYgKHRoaXMuX3N0cmlwZVVQRUNsaWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0cmlwZVVQRUNsaWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnNjcmlwdExvYWRlci5nZXRTdHJpcGVDbGllbnQoXG4gICAgICAgICAgICBpbml0aWFsaXphdGlvbkRhdGEsXG4gICAgICAgICAgICBTVFJJUEVfVVBFX0NMSUVOVF9CRVRBUyxcbiAgICAgICAgICAgIFNUUklQRV9VUEVfQ0xJRU5UX0FQSV9WRVJTSU9OLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldFBheW1lbnRQYXlsb2FkKFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICB0b2tlbjogc3RyaW5nLFxuICAgICAgICBzaG91bGRTYXZlSW5zdHJ1bWVudCA9IGZhbHNlLFxuICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50ID0gZmFsc2UsXG4gICAgKTogUGF5bWVudCB7XG4gICAgICAgIGNvbnN0IGNhcnRJZCA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldENhcnQoKT8uaWQgfHwgJyc7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZFBheWxvYWQ6IFN0cmlwZVVQRUludGVudCAmIEZvcm1hdHRlZEhvc3RlZEluc3RydW1lbnQgPSB7XG4gICAgICAgICAgICBjYXJ0X2lkOiBjYXJ0SWQsXG4gICAgICAgICAgICBjcmVkaXRfY2FyZF90b2tlbjogeyB0b2tlbiB9LFxuICAgICAgICAgICAgY29uZmlybTogZmFsc2UsXG4gICAgICAgICAgICB2YXVsdF9wYXltZW50X2luc3RydW1lbnQ6IHNob3VsZFNhdmVJbnN0cnVtZW50LFxuICAgICAgICAgICAgc2V0X2FzX2RlZmF1bHRfc3RvcmVkX2luc3RydW1lbnQ6IHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgcGF5bWVudERhdGE6IHtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF91cGRhdGVTdHJpcGVFbGVtZW50KHsgc2hvdWxkU2hvd1Rlcm1zIH06IFN0cmlwZUVsZW1lbnRVcGRhdGVPcHRpb25zKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHN0cmlwZUVsZW1lbnQgPSB0aGlzLl9zdHJpcGVFbGVtZW50cz8uZ2V0RWxlbWVudChTdHJpcGVFbGVtZW50VHlwZS5QQVlNRU5UKTtcblxuICAgICAgICBzdHJpcGVFbGVtZW50Py51cGRhdGUoe1xuICAgICAgICAgICAgLi4udGhpcy5fZ2V0U3RyaXBlRWxlbWVudFRlcm1zKHNob3VsZFNob3dUZXJtcyksXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldFN0cmlwZUVsZW1lbnRUZXJtcyhcbiAgICAgICAgc2hvdWxkU2hvd1Rlcm1zPzogYm9vbGVhbixcbiAgICApOiBQaWNrPFN0cmlwZUVsZW1lbnRzQ3JlYXRlT3B0aW9ucywgJ3Rlcm1zJz4ge1xuICAgICAgICBsZXQgY2FyZCA9IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5BVVRPO1xuXG4gICAgICAgIGlmICh0aGlzLl9pc1N0cmlwZUVsZW1lbnRVcGRhdGVFbmFibGVkKSB7XG4gICAgICAgICAgICBjYXJkID0gc2hvdWxkU2hvd1Rlcm1zID8gU3RyaXBlU3RyaW5nQ29uc3RhbnRzLkFVVE8gOiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGVybXM6IHtcbiAgICAgICAgICAgICAgICBjYXJkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF91cGRhdGVTdHJpcGVMaW5rU3RhdGVCeUVsZW1lbnRUeXBlKHBheW1lbnRFbGVtZW50VHlwZTogU3RyaXBlUGF5bWVudE1ldGhvZFR5cGUpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgcGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIgPSBzdGF0ZS5nZXRQYXltZW50UHJvdmlkZXJDdXN0b21lck9yVGhyb3coKTtcbiAgICAgICAgY29uc3QgaXNTdHJpcGVMaW5rRWxlbWVudFR5cGUgPSBwYXltZW50RWxlbWVudFR5cGUgPT09IFN0cmlwZVBheW1lbnRNZXRob2RUeXBlLkxpbms7XG5cbiAgICAgICAgLy8gSU5GTzogVHJpZ2dlciBhZGRpdGlvbmFsIHVwZGF0ZSBvbmx5IGlmIFN0cmlwZSBMaW5rIEF1dGhlbnRpY2F0aW9uIHdhcyBza2lwcGVkIG9uIHRoZSBjdXN0b21lciBzdGVwLCBidXQgdGhlIExpbmsgcGF5bWVudCBlbGVtZW50IHdhcyByZW5kZXJlZC5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWlzU3RyaXBlQWNjZWxlcmF0ZWRDaGVja291dEN1c3RvbWVyKHBheW1lbnRQcm92aWRlckN1c3RvbWVyKSAmJlxuICAgICAgICAgICAgaXNTdHJpcGVMaW5rRWxlbWVudFR5cGVcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlUGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIoe1xuICAgICAgICAgICAgICAgIHN0cmlwZUxpbmtBdXRoZW50aWNhdGlvblN0YXRlOiBpc1N0cmlwZUxpbmtFbGVtZW50VHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIFBheW1lbnRTdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7XG4gICAgU3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFN0cmlwZVNjcmlwdExvYWRlcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9zdHJpcGUtdXRpbHMnO1xuXG5pbXBvcnQgU3RyaXBlVVBFUGF5bWVudFN0cmF0ZWd5IGZyb20gJy4vc3RyaXBlLXVwZS1wYXltZW50LXN0cmF0ZWd5JztcblxuY29uc3QgY3JlYXRlU3RyaXBlVVBFUGF5bWVudFN0cmF0ZWd5OiBQYXltZW50U3RyYXRlZ3lGYWN0b3J5PFN0cmlwZVVQRVBheW1lbnRTdHJhdGVneT4gPSAoXG4gICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbikgPT4ge1xuICAgIGNvbnN0IHN0cmlwZVNjcmlwdExvYWRlciA9IG5ldyBTdHJpcGVTY3JpcHRMb2FkZXIoZ2V0U2NyaXB0TG9hZGVyKCkpO1xuXG4gICAgcmV0dXJuIG5ldyBTdHJpcGVVUEVQYXltZW50U3RyYXRlZ3koXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHN0cmlwZVNjcmlwdExvYWRlcixcbiAgICAgICAgbmV3IFN0cmlwZUludGVncmF0aW9uU2VydmljZShwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLCBzdHJpcGVTY3JpcHRMb2FkZXIpLFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlU3RyaXBlVVBFUGF5bWVudFN0cmF0ZWd5LCBbXG4gICAgeyBnYXRld2F5OiAnc3RyaXBldXBlJyB9LFxuICAgIHsgZ2F0ZXdheTogJ3N0cmlwZXVwZScsIGlkOiAna2xhcm5hJyB9LFxuXSk7XG4iLCJpbXBvcnQge1xuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIGlzUmVxdWVzdEVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvcixcbiAgICBOb3RJbml0aWFsaXplZEVycm9yVHlwZSxcbiAgICBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IsXG4gICAgT3JkZXJSZXF1ZXN0Qm9keSxcbiAgICBQYXltZW50LFxuICAgIFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZWxlY3RvcnMsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IsXG4gICAgUGF5bWVudFJlcXVlc3RPcHRpb25zLFxuICAgIFBheW1lbnRTdHJhdGVneSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5pbXBvcnQge1xuICAgIGZvcm1hdFN0cmlwZUxvY2FsZSxcbiAgICBpc1N0cmlwZVBheW1lbnRFdmVudCxcbiAgICBpc1N0cmlwZVBheW1lbnRNZXRob2RMaWtlLFxuICAgIFN0cmlwZUFkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZCxcbiAgICBTdHJpcGVDbGllbnQsXG4gICAgU3RyaXBlRWxlbWVudCxcbiAgICBTdHJpcGVFbGVtZW50RXZlbnQsXG4gICAgU3RyaXBlRWxlbWVudHMsXG4gICAgU3RyaXBlRWxlbWVudFR5cGUsXG4gICAgU3RyaXBlRXJyb3IsXG4gICAgU3RyaXBlRXZlbnRUeXBlLFxuICAgIFN0cmlwZUluaXRpYWxpemF0aW9uRGF0YSxcbiAgICBTdHJpcGVJbnN0cnVtZW50U2V0dXBGdXR1cmVVc2FnZSxcbiAgICBTdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgU3RyaXBlUElQYXltZW50TWV0aG9kT3B0aW9ucyxcbiAgICBTdHJpcGVQSVBheW1lbnRNZXRob2RTYXZpbmdPcHRpb25zLFxuICAgIFN0cmlwZVJlc3VsdCxcbiAgICBTdHJpcGVTY3JpcHRMb2FkZXIsXG4gICAgU3RyaXBlU3RyaW5nQ29uc3RhbnRzLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3N0cmlwZS11dGlscyc7XG5cbmltcG9ydCBTdHJpcGVPQ1NQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsIHtcbiAgICBXaXRoU3RyaXBlT0NTUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxufSBmcm9tICcuL3N0cmlwZS1vY3MtaW5pdGlhbGl6ZS1vcHRpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RyaXBlT0NTUGF5bWVudFN0cmF0ZWd5IGltcGxlbWVudHMgUGF5bWVudFN0cmF0ZWd5IHtcbiAgICBwcml2YXRlIHN0cmlwZUNsaWVudD86IFN0cmlwZUNsaWVudDtcbiAgICBwcml2YXRlIHN0cmlwZUVsZW1lbnRzPzogU3RyaXBlRWxlbWVudHM7XG4gICAgcHJpdmF0ZSBzZWxlY3RlZE1ldGhvZElkPzogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBzY3JpcHRMb2FkZXI6IFN0cmlwZVNjcmlwdExvYWRlcixcbiAgICAgICAgcHJpdmF0ZSBzdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2U6IFN0cmlwZUludGVncmF0aW9uU2VydmljZSxcbiAgICApIHt9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKFxuICAgICAgICBvcHRpb25zOiBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoU3RyaXBlT0NTUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IHN0cmlwZW9jcywgbWV0aG9kSWQsIGdhdGV3YXlJZCB9ID0gb3B0aW9ucztcblxuICAgICAgICBpZiAoIXN0cmlwZW9jcz8uY29udGFpbmVySWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWdhdGV3YXlJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJnYXRld2F5SWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5faW5pdGlhbGl6ZVN0cmlwZUVsZW1lbnQoc3RyaXBlb2NzLCBnYXRld2F5SWQsIG1ldGhvZElkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgc3RyaXBlb2NzLm9uRXJyb3I/LihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS5pbml0Q2hlY2tvdXRFdmVudHNTdWJzY3JpcHRpb24oXG4gICAgICAgICAgICBnYXRld2F5SWQsXG4gICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgIHN0cmlwZW9jcyxcbiAgICAgICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudHMsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgZXhlY3V0ZShvcmRlclJlcXVlc3Q6IE9yZGVyUmVxdWVzdEJvZHksIG9wdGlvbnM/OiBQYXltZW50UmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBwYXltZW50LCAuLi5vcmRlciB9ID0gb3JkZXJSZXF1ZXN0O1xuICAgICAgICBjb25zdCB7IG1ldGhvZElkLCBnYXRld2F5SWQgfSA9IHBheW1lbnQgfHwge307XG5cbiAgICAgICAgaWYgKCF0aGlzLnN0cmlwZUNsaWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZ2F0ZXdheUlkIHx8ICFtZXRob2RJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gaW5pdGlhbGl6ZSBwYXltZW50IGJlY2F1c2UgXCJnYXRld2F5SWRcIiBvciBcIm1ldGhvZElkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgeyBpc1N0b3JlQ3JlZGl0QXBwbGllZCB9ID0gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCk7XG5cbiAgICAgICAgaWYgKGlzU3RvcmVDcmVkaXRBcHBsaWVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuYXBwbHlTdG9yZUNyZWRpdChpc1N0b3JlQ3JlZGl0QXBwbGllZCk7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS51cGRhdGVTdHJpcGVQYXltZW50SW50ZW50KGdhdGV3YXlJZCwgbWV0aG9kSWQpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihvcmRlciwgb3B0aW9ucyk7XG5cbiAgICAgICAgY29uc3QgeyBjbGllbnRUb2tlbiB9ID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuICAgICAgICBjb25zdCBwYXltZW50UGF5bG9hZCA9IHRoaXMuX2dldFBheW1lbnRQYXlsb2FkKG1ldGhvZElkLCBjbGllbnRUb2tlbiB8fCAnJyk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHBheW1lbnRQYXlsb2FkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3Byb2Nlc3NBZGRpdGlvbmFsQWN0aW9uKGVycm9yLCBtZXRob2RJZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaW5hbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IoKSk7XG4gICAgfVxuXG4gICAgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBwYXltZW50RWxlbWVudCA9IHRoaXMuc3RyaXBlRWxlbWVudHM/LmdldEVsZW1lbnQoU3RyaXBlRWxlbWVudFR5cGUuUEFZTUVOVCk7XG5cbiAgICAgICAgcGF5bWVudEVsZW1lbnQ/LnVubW91bnQoKTtcbiAgICAgICAgcGF5bWVudEVsZW1lbnQ/LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UuZGVpbml0aWFsaXplKCk7XG4gICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RyaXBlQ2xpZW50ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9pbml0aWFsaXplU3RyaXBlRWxlbWVudChcbiAgICAgICAgc3RyaXBlOiBTdHJpcGVPQ1NQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgICAgIGdhdGV3YXlJZDogc3RyaW5nLFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICkge1xuICAgICAgICBsZXQgcGF5bWVudE1ldGhvZCA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZVxuICAgICAgICAgICAgLmdldFN0YXRlKClcbiAgICAgICAgICAgIC5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG5cbiAgICAgICAgaWYgKCFwYXltZW50TWV0aG9kPy5jbGllbnRUb2tlbikge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QoZ2F0ZXdheUlkLCB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IG1ldGhvZDogbWV0aG9kSWQgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBwYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1N0cmlwZVBheW1lbnRNZXRob2RMaWtlKHBheW1lbnRNZXRob2QpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuLCBpbml0aWFsaXphdGlvbkRhdGEgfSA9IHBheW1lbnRNZXRob2Q7XG4gICAgICAgIGNvbnN0IHsgc2hvcHBlckxhbmd1YWdlLCBjdXN0b21lclNlc3Npb25Ub2tlbiwgZW5hYmxlTGluayB9ID0gaW5pdGlhbGl6YXRpb25EYXRhO1xuXG4gICAgICAgIGlmICghY2xpZW50VG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RyaXBlQ2xpZW50ID0gYXdhaXQgdGhpcy5fbG9hZFN0cmlwZUpzKGluaXRpYWxpemF0aW9uRGF0YSk7XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgYXBwZWFyYW5jZSxcbiAgICAgICAgICAgIGNvbnRhaW5lcklkLFxuICAgICAgICAgICAgZm9udHMsXG4gICAgICAgICAgICBsYXlvdXQsXG4gICAgICAgICAgICByZW5kZXIsXG4gICAgICAgICAgICBwYXltZW50TWV0aG9kU2VsZWN0LFxuICAgICAgICAgICAgaGFuZGxlQ2xvc2VQYXltZW50TWV0aG9kLFxuICAgICAgICAgICAgdG9nZ2xlUHJlbG9hZGVyLFxuICAgICAgICB9ID0gc3RyaXBlO1xuXG4gICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudHMgPSBhd2FpdCB0aGlzLnNjcmlwdExvYWRlci5nZXRFbGVtZW50cyh0aGlzLnN0cmlwZUNsaWVudCwge1xuICAgICAgICAgICAgY2xpZW50U2VjcmV0OiBjbGllbnRUb2tlbixcbiAgICAgICAgICAgIGN1c3RvbWVyU2Vzc2lvbkNsaWVudFNlY3JldDogY3VzdG9tZXJTZXNzaW9uVG9rZW4sXG4gICAgICAgICAgICBsb2NhbGU6IGZvcm1hdFN0cmlwZUxvY2FsZShzaG9wcGVyTGFuZ3VhZ2UpLFxuICAgICAgICAgICAgYXBwZWFyYW5jZSxcbiAgICAgICAgICAgIGZvbnRzLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB7IGdldEJpbGxpbmdBZGRyZXNzLCBnZXRTaGlwcGluZ0FkZHJlc3MgfSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBiaWxsaW5nQWRkcmVzcyA9IGdldEJpbGxpbmdBZGRyZXNzKCk7XG4gICAgICAgIGNvbnN0IHsgcG9zdGFsQ29kZSB9ID0gZ2V0U2hpcHBpbmdBZGRyZXNzKCkgfHwgYmlsbGluZ0FkZHJlc3MgfHwge307XG5cbiAgICAgICAgY29uc3Qgc3RyaXBlRWxlbWVudDogU3RyaXBlRWxlbWVudCA9XG4gICAgICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnRzLmdldEVsZW1lbnQoU3RyaXBlRWxlbWVudFR5cGUuUEFZTUVOVCkgfHxcbiAgICAgICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudHMuY3JlYXRlKFN0cmlwZUVsZW1lbnRUeXBlLlBBWU1FTlQsIHtcbiAgICAgICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0RldGFpbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRyeTogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdHk6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBwb3N0YWxDb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLkFVVE8sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgd2FsbGV0czoge1xuICAgICAgICAgICAgICAgICAgICBhcHBsZVBheTogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSLFxuICAgICAgICAgICAgICAgICAgICBnb29nbGVQYXk6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUixcbiAgICAgICAgICAgICAgICAgICAgbGluazogZW5hYmxlTGluayA/IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5BVVRPIDogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbGF5b3V0LFxuICAgICAgICAgICAgICAgIHNhdmVQYXltZW50TWV0aG9kOiB7XG4gICAgICAgICAgICAgICAgICAgIG1heFZpc2libGVQYXltZW50TWV0aG9kczogMjAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIGJpbGxpbmdEZXRhaWxzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogYmlsbGluZ0FkZHJlc3M/LmVtYWlsIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS5tb3VudEVsZW1lbnQoc3RyaXBlRWxlbWVudCwgY29udGFpbmVySWQpO1xuXG4gICAgICAgIHN0cmlwZUVsZW1lbnQub24oU3RyaXBlRWxlbWVudEV2ZW50LkxPQURFUl9TVEFSVCwgKCkgPT4ge1xuICAgICAgICAgICAgdG9nZ2xlUHJlbG9hZGVyPy4oZmFsc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzdHJpcGVFbGVtZW50Lm9uKFN0cmlwZUVsZW1lbnRFdmVudC5SRUFEWSwgKCkgPT4ge1xuICAgICAgICAgICAgcmVuZGVyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN0cmlwZUVsZW1lbnQub24oU3RyaXBlRWxlbWVudEV2ZW50LkNIQU5HRSwgKGV2ZW50OiBTdHJpcGVFdmVudFR5cGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uU3RyaXBlRWxlbWVudENoYW5nZShldmVudCwgZ2F0ZXdheUlkLCBtZXRob2RJZCwgcGF5bWVudE1ldGhvZFNlbGVjdCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGhhbmRsZUNsb3NlUGF5bWVudE1ldGhvZD8uKHRoaXMuX2NvbGxhcHNlU3RyaXBlRWxlbWVudC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9sb2FkU3RyaXBlSnMoXG4gICAgICAgIGluaXRpYWxpemF0aW9uRGF0YTogU3RyaXBlSW5pdGlhbGl6YXRpb25EYXRhLFxuICAgICk6IFByb21pc2U8U3RyaXBlQ2xpZW50PiB7XG4gICAgICAgIGlmICh0aGlzLnN0cmlwZUNsaWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyaXBlQ2xpZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyaXB0TG9hZGVyLmdldFN0cmlwZUNsaWVudChpbml0aWFsaXphdGlvbkRhdGEpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NvbGxhcHNlU3RyaXBlRWxlbWVudCgpIHtcbiAgICAgICAgY29uc3Qgc3RyaXBlRWxlbWVudCA9IHRoaXMuc3RyaXBlRWxlbWVudHM/LmdldEVsZW1lbnQoU3RyaXBlRWxlbWVudFR5cGUuUEFZTUVOVCk7XG5cbiAgICAgICAgc3RyaXBlRWxlbWVudD8uY29sbGFwc2UoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRQYXltZW50UGF5bG9hZChcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgdG9rZW46IHN0cmluZyxcbiAgICAgICAgcGF5bWVudE1ldGhvZE9wdGlvbnM/OiBTdHJpcGVQSVBheW1lbnRNZXRob2RPcHRpb25zLFxuICAgICk6IFBheW1lbnQge1xuICAgICAgICBjb25zdCBjYXJ0SWQgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRDYXJ0KCk/LmlkIHx8ICcnO1xuICAgICAgICBjb25zdCB7IGNhcmQsIHVzX2JhbmtfYWNjb3VudCB9ID0gcGF5bWVudE1ldGhvZE9wdGlvbnMgfHwge307XG4gICAgICAgIGNvbnN0IHNob3VsZFNhdmVJbnN0cnVtZW50ID1cbiAgICAgICAgICAgIHRoaXMuX3Nob3VsZFNhdmVJbnN0cnVtZW50KGNhcmQpIHx8IHRoaXMuX3Nob3VsZFNhdmVJbnN0cnVtZW50KHVzX2JhbmtfYWNjb3VudCk7XG4gICAgICAgIGNvbnN0IHRva2VuaXplZE9wdGlvbnMgPSB0aGlzLl9nZXRUb2tlbml6ZWRPcHRpb25zKHRva2VuLCBwYXltZW50TWV0aG9kT3B0aW9ucyk7XG5cbiAgICAgICAgY29uc3QgZm9ybWF0dGVkUGF5bG9hZCA9IHtcbiAgICAgICAgICAgIGNhcnRfaWQ6IGNhcnRJZCxcbiAgICAgICAgICAgIGNvbmZpcm06IGZhbHNlLFxuICAgICAgICAgICAgbWV0aG9kOiB0aGlzLnNlbGVjdGVkTWV0aG9kSWQsXG4gICAgICAgICAgICB2YXVsdF9wYXltZW50X2luc3RydW1lbnQ6IHNob3VsZFNhdmVJbnN0cnVtZW50LFxuICAgICAgICAgICAgLi4udG9rZW5pemVkT3B0aW9ucyxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX3Byb2Nlc3NBZGRpdGlvbmFsQWN0aW9uKFxuICAgICAgICBlcnJvcjogdW5rbm93bixcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPFBheW1lbnRJbnRlZ3JhdGlvblNlbGVjdG9ycyB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaXNSZXF1ZXN0RXJyb3IoZXJyb3IpIHx8XG4gICAgICAgICAgICAhdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UuaXNBZGRpdGlvbmFsQWN0aW9uRXJyb3IoZXJyb3IuYm9keS5lcnJvcnMpXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuc3RyaXBlQ2xpZW50IHx8ICF0aGlzLnN0cmlwZUVsZW1lbnRzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBkYXRhOiBhZGRpdGlvbmFsQWN0aW9uRGF0YSB9ID0gZXJyb3IuYm9keS5hZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZDtcbiAgICAgICAgY29uc3QgeyB0b2tlbiB9ID0gYWRkaXRpb25hbEFjdGlvbkRhdGE7XG5cbiAgICAgICAgY29uc3QgeyBwYXltZW50SW50ZW50IH0gPSBhd2FpdCB0aGlzLl9jb25maXJtU3RyaXBlUGF5bWVudE9yVGhyb3coXG4gICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxBY3Rpb25EYXRhLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjbGllbnRfc2VjcmV0OiBwYXltZW50SW50ZW50Q2xpZW50U2VjcmV0LFxuICAgICAgICAgICAgcGF5bWVudF9tZXRob2Rfb3B0aW9uczogcGF5bWVudE1ldGhvZE9wdGlvbnMsXG4gICAgICAgIH0gPSBwYXltZW50SW50ZW50IHx8IHt9O1xuXG4gICAgICAgIGNvbnN0IHBheW1lbnRQYXlsb2FkID0gdGhpcy5fZ2V0UGF5bWVudFBheWxvYWQoXG4gICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgIHBheW1lbnRJbnRlbnRDbGllbnRTZWNyZXQgfHwgdG9rZW4sXG4gICAgICAgICAgICBwYXltZW50TWV0aG9kT3B0aW9ucyxcbiAgICAgICAgKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHBheW1lbnRQYXlsb2FkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLnRocm93UGF5bWVudENvbmZpcm1hdGlvblByb2NlZWRNZXNzYWdlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9jb25maXJtU3RyaXBlUGF5bWVudE9yVGhyb3coXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgICAgIGFkZGl0aW9uYWxBY3Rpb25EYXRhOiBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uUmVxdWlyZWRbJ2RhdGEnXSxcbiAgICApOiBQcm9taXNlPFN0cmlwZVJlc3VsdCB8IG5ldmVyPiB7XG4gICAgICAgIGNvbnN0IHsgdG9rZW4sIHJlZGlyZWN0X3VybCB9ID0gYWRkaXRpb25hbEFjdGlvbkRhdGE7XG4gICAgICAgIGNvbnN0IHN0cmlwZVBheW1lbnREYXRhID0gdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UubWFwU3RyaXBlUGF5bWVudERhdGEoXG4gICAgICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnRzLFxuICAgICAgICAgICAgcmVkaXJlY3RfdXJsLFxuICAgICAgICApO1xuICAgICAgICBsZXQgc3RyaXBlRXJyb3I6IFN0cmlwZUVycm9yIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpc1BheW1lbnRDb21wbGV0ZWQgPSBhd2FpdCB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS5pc1BheW1lbnRDb21wbGV0ZWQoXG4gICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgdGhpcy5zdHJpcGVDbGllbnQsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBjb25maXJtYXRpb25SZXN1bHQgPSAhaXNQYXltZW50Q29tcGxldGVkXG4gICAgICAgICAgICAgICAgPyBhd2FpdCB0aGlzLnN0cmlwZUNsaWVudD8uY29uZmlybVBheW1lbnQoc3RyaXBlUGF5bWVudERhdGEpXG4gICAgICAgICAgICAgICAgOiBhd2FpdCB0aGlzLnN0cmlwZUNsaWVudD8ucmV0cmlldmVQYXltZW50SW50ZW50KHRva2VuIHx8ICcnKTtcblxuICAgICAgICAgICAgc3RyaXBlRXJyb3IgPSBjb25maXJtYXRpb25SZXN1bHQ/LmVycm9yO1xuXG4gICAgICAgICAgICBpZiAoc3RyaXBlRXJyb3IgfHwgIWNvbmZpcm1hdGlvblJlc3VsdD8ucGF5bWVudEludGVudCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1hdGlvblJlc3VsdDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS50aHJvd1N0cmlwZUVycm9yKHN0cmlwZUVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX29uU3RyaXBlRWxlbWVudENoYW5nZShcbiAgICAgICAgZXZlbnQ6IFN0cmlwZUV2ZW50VHlwZSxcbiAgICAgICAgZ2F0ZXdheUlkOiBzdHJpbmcsXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgICAgIHBheW1lbnRNZXRob2RTZWxlY3Q/OiAoaWQ6IHN0cmluZykgPT4gdm9pZCxcbiAgICApIHtcbiAgICAgICAgaWYgKCFpc1N0cmlwZVBheW1lbnRFdmVudChldmVudCkgfHwgZXZlbnQuY29sbGFwc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNlbGVjdGVkTWV0aG9kSWQgPSBldmVudC52YWx1ZS50eXBlO1xuICAgICAgICBwYXltZW50TWV0aG9kU2VsZWN0Py4oYCR7Z2F0ZXdheUlkfS0ke21ldGhvZElkfWApO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3Nob3VsZFNhdmVJbnN0cnVtZW50KHBheW1lbnRNZXRob2RPcHRpb25zPzogU3RyaXBlUElQYXltZW50TWV0aG9kU2F2aW5nT3B0aW9ucykge1xuICAgICAgICBjb25zdCBzZXR1cEZ1dHVyZVVzYWdlID0gcGF5bWVudE1ldGhvZE9wdGlvbnM/LnNldHVwX2Z1dHVyZV91c2FnZTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgc2V0dXBGdXR1cmVVc2FnZSA9PT0gU3RyaXBlSW5zdHJ1bWVudFNldHVwRnV0dXJlVXNhZ2UuT05fU0VTU0lPTiB8fFxuICAgICAgICAgICAgc2V0dXBGdXR1cmVVc2FnZSA9PT0gU3RyaXBlSW5zdHJ1bWVudFNldHVwRnV0dXJlVXNhZ2UuT0ZGX1NFU1NJT05cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRUb2tlbml6ZWRPcHRpb25zKFxuICAgICAgICB0b2tlbjogc3RyaW5nLFxuICAgICAgICBwYXltZW50TWV0aG9kT3B0aW9ucz86IFN0cmlwZVBJUGF5bWVudE1ldGhvZE9wdGlvbnMsXG4gICAgKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaG91bGRTYXZlSW5zdHJ1bWVudChwYXltZW50TWV0aG9kT3B0aW9ucz8udXNfYmFua19hY2NvdW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdG9rZW5pemVkX2FjaDogeyB0b2tlbiB9IH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBjcmVkaXRfY2FyZF90b2tlbjogeyB0b2tlbiB9IH07XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU3RyaXBlUGF5bWVudEV2ZW50IH0gZnJvbSAnLi9zdHJpcGUnO1xuXG5leHBvcnQgY29uc3QgaXNTdHJpcGVQYXltZW50RXZlbnQgPSAoZXZlbnQ6IHVua25vd24pOiBldmVudCBpcyBTdHJpcGVQYXltZW50RXZlbnQgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgZXZlbnQgPT09ICdvYmplY3QnICYmIGV2ZW50ICE9PSBudWxsICYmICd2YWx1ZScgaW4gZXZlbnQgJiYgJ2NvbGxhcHNlZCcgaW4gZXZlbnQ7XG59O1xuIiwiaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIFBheW1lbnRTdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7XG4gICAgU3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFN0cmlwZVNjcmlwdExvYWRlcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9zdHJpcGUtdXRpbHMnO1xuXG5pbXBvcnQgU3RyaXBlT0NTUGF5bWVudFN0cmF0ZWd5IGZyb20gJy4vc3RyaXBlLW9jcy1wYXltZW50LXN0cmF0ZWd5JztcblxuY29uc3QgY3JlYXRlU3RyaXBlT0NTUGF5bWVudFN0cmF0ZWd5OiBQYXltZW50U3RyYXRlZ3lGYWN0b3J5PFN0cmlwZU9DU1BheW1lbnRTdHJhdGVneT4gPSAoXG4gICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbikgPT4ge1xuICAgIGNvbnN0IHN0cmlwZVNjcmlwdExvYWRlciA9IG5ldyBTdHJpcGVTY3JpcHRMb2FkZXIoZ2V0U2NyaXB0TG9hZGVyKCkpO1xuXG4gICAgcmV0dXJuIG5ldyBTdHJpcGVPQ1NQYXltZW50U3RyYXRlZ3koXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHN0cmlwZVNjcmlwdExvYWRlcixcbiAgICAgICAgbmV3IFN0cmlwZUludGVncmF0aW9uU2VydmljZShwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLCBzdHJpcGVTY3JpcHRMb2FkZXIpLFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlU3RyaXBlT0NTUGF5bWVudFN0cmF0ZWd5LCBbXG4gICAgeyBnYXRld2F5OiAnc3RyaXBlb2NzJywgaWQ6ICdvcHRpbWl6ZWRfY2hlY2tvdXQnIH0sXG5dKTtcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwidG9SZXNvbHZhYmxlTW9kdWxlIiwibW9kdWxlIiwicmVzb2x2ZUlkcyIsIk9iamVjdCIsImFzc2lnbiIsImQiLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU3RhbmRhcmRFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwic3VwZXIiLCJuYW1lIiwidHlwZSIsInNldFByb3RvdHlwZU9mIiwidGhpcyIsIl9fcHJvdG9fXyIsImNhcHR1cmVTdGFja1RyYWNlIiwic3RhY2siLCJQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvciIsIk1pc3NpbmdEYXRhRXJyb3JUeXBlIiwiU3RyaXBlU2NyaXB0TG9hZGVyIiwic2NyaXB0TG9hZGVyIiwic3RyaXBlV2luZG93Iiwid2luZG93IiwiZ2V0U3RyaXBlQ2xpZW50IiwiaW5pdGlhbGl6YXRpb25EYXRhIiwiYmV0YXMiLCJhcGlWZXJzaW9uIiwiYmNTdHJpcGVDbGllbnQiLCJzdHJpcGUiLCJsb2FkIiwic3RyaXBlUHVibGlzaGFibGVLZXkiLCJzdHJpcGVDb25uZWN0ZWRBY2NvdW50Iiwic3RyaXBlQ2xpZW50Iiwic3RyaXBlQWNjb3VudCIsImdldEVsZW1lbnRzIiwib3B0aW9ucyIsInN0cmlwZUVsZW1lbnRzIiwiYmNTdHJpcGVFbGVtZW50cyIsInVwZGF0ZVN0cmlwZUVsZW1lbnRzIiwiZWxlbWVudHMiLCJ1cGRhdGUiLCJmZXRjaFVwZGF0ZXMiLCJTdHJpcGUiLCJsb2FkU2NyaXB0IiwiSW52YWxpZEFyZ3VtZW50RXJyb3IiLCJNaXNzaW5nRGF0YUVycm9yIiwic3VidHlwZSIsIk1pc3NpbmdCaWxsaW5nQWRkcmVzcyIsIk1pc3NpbmdDYXJ0IiwiTWlzc2luZ0NvbnNpZ25tZW50cyIsIk1pc3NpbmdDaGVja291dCIsIk1pc3NpbmdDdXN0b21lciIsIk1pc3NpbmdDaGVja291dENvbmZpZyIsIk1pc3NpbmdPcmRlckNvbmZpZyIsIk1pc3NpbmdPcmRlciIsIk1pc3NpbmdPcmRlcklkIiwiTWlzc2luZ1BheW1lbnQiLCJNaXNzaW5nUGF5bWVudFRva2VuIiwiTWlzc2luZ1BheW1lbnRNZXRob2QiLCJNaXNzaW5nU2hpcHBpbmdBZGRyZXNzIiwiZ2V0RXJyb3JNZXNzYWdlIiwiaXNTdHJpcGVQYXltZW50TWV0aG9kTGlrZSIsInBheW1lbnRNZXRob2QiLCJ1bmRlZmluZWQiLCJzaG9wcGVyTGFuZ3VhZ2UiLCJTVFJJUEVfVVBFX0NMSUVOVF9CRVRBUyIsIlNUUklQRV9VUEVfQ0xJRU5UX0FQSV9WRVJTSU9OIiwiU3RyaXBlRm9ybU1vZGUiLCJTdHJpcGVEaXNwbGF5TmFtZSIsIlN0cmlwZVBheW1lbnRNZXRob2RUeXBlIiwiU3RyaXBlU3RyaW5nQ29uc3RhbnRzIiwiU3RyaXBlRWxlbWVudFR5cGUiLCJTdHJpcGVQYXltZW50SW50ZW50U3RhdHVzIiwiU3RyaXBlRWxlbWVudEV2ZW50IiwiU3RyaXBlSW5zdHJ1bWVudFNldHVwRnV0dXJlVXNhZ2UiLCJpc1N0cmlwZUFjY2VsZXJhdGVkQ2hlY2tvdXRDdXN0b21lciIsImN1c3RvbWVyIiwiU3RyaXBlVVBFQ3VzdG9tZXJTdHJhdGVneSIsInBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UiLCJpbml0aWFsaXplIiwic3RyaXBlVVBFQ2xpZW50Iiwic3RyaXBldXBlIiwiY29udGFpbmVyIiwiZ2F0ZXdheUlkIiwibWV0aG9kSWQiLCJvbkVtYWlsQ2hhbmdlIiwiZ2V0U3R5bGVzIiwiaXNMb2FkaW5nIiwiZW50cmllcyIsImZvckVhY2giLCJ2YWx1ZSIsImxvYWRQYXltZW50TWV0aG9kIiwicGFyYW1zIiwibWV0aG9kIiwic3RhdGUiLCJnZXRTdGF0ZSIsImdldFBheW1lbnRNZXRob2RPclRocm93IiwiY2xpZW50VG9rZW4iLCJlbWFpbCIsImdldEN1c3RvbWVyT3JUaHJvdyIsInBheW1lbnRQcm92aWRlckN1c3RvbWVyIiwiZ2V0UGF5bWVudFByb3ZpZGVyQ3VzdG9tZXJPclRocm93Iiwic3RyaXBlTGlua0F1dGhlbnRpY2F0aW9uU3RhdGUiLCJhcHBlYXJhbmNlIiwic3R5bGVzIiwidmFyaWFibGVzIiwiY29sb3JQcmltYXJ5IiwiZmllbGRJbm5lclNoYWRvdyIsImNvbG9yQmFja2dyb3VuZCIsImZpZWxkQmFja2dyb3VuZCIsImNvbG9yVGV4dCIsImxhYmVsVGV4dCIsImNvbG9yRGFuZ2VyIiwiZmllbGRFcnJvclRleHQiLCJjb2xvclRleHRTZWNvbmRhcnkiLCJjb2xvclRleHRQbGFjZWhvbGRlciIsImZpZWxkUGxhY2Vob2xkZXJUZXh0IiwicnVsZXMiLCJib3JkZXJDb2xvciIsImZpZWxkQm9yZGVyIiwiY29sb3IiLCJmaWVsZFRleHQiLCJib3hTaGFkb3ciLCJfc3RyaXBlRWxlbWVudHMiLCJjbGllbnRTZWNyZXQiLCJnZXRCaWxsaW5nQWRkcmVzcyIsImdldENvbnNpZ25tZW50cyIsImNvbnNpZ25tZW50cyIsImlkIiwiYmlsbGluZ0VtYWlsIiwiZGVmYXVsdFZhbHVlcyIsIm1vZGUiLCJTSElQUElORyIsImxpbmtBdXRoZW50aWNhdGlvbkVsZW1lbnQiLCJnZXRFbGVtZW50IiwiQVVUSEVOVElDQVRJT04iLCJjcmVhdGUiLCJvbiIsIkNIQU5HRSIsImV2ZW50IiwidXBkYXRlUGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIiLCJhdXRoZW50aWNhdGVkIiwiY29tcGxldGUiLCJkZWxldGVDb25zaWdubWVudCIsIm1vdW50IiwiZGVpbml0aWFsaXplIiwidW5tb3VudCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2lnbkluIiwiY3JlZGVudGlhbHMiLCJzaWduSW5DdXN0b21lciIsInNpZ25PdXQiLCJzaWduT3V0Q3VzdG9tZXIiLCJleGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0IiwiY29udGludWVXaXRoQ2hlY2tvdXRDYWxsYmFjayIsImdldFNjcmlwdExvYWRlciIsIlBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvciIsIlBheW1lbnRNZXRob2RGYWlsZWRFcnJvciIsIk5vdEluaXRpYWxpemVkRXJyb3JUeXBlIiwiTm90SW5pdGlhbGl6ZWRFcnJvciIsIkN1c3RvbWVyTm90SW5pdGlhbGl6ZWQiLCJQYXltZW50Tm90SW5pdGlhbGl6ZWQiLCJTaGlwcGluZ05vdEluaXRpYWxpemVkIiwiU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZCIsIlN0cmlwZUludGVncmF0aW9uU2VydmljZSIsImlzTW91bnRlZCIsImNoZWNrb3V0RXZlbnRzVW5zdWJzY3JpYmUiLCJpbml0Q2hlY2tvdXRFdmVudHNTdWJzY3JpcHRpb24iLCJzdHJpcGVJbml0aWFsaXphdGlvbk9wdGlvbnMiLCJzdWJzY3JpYmUiLCJwYXltZW50RWxlbWVudCIsIlBBWU1FTlQiLCJ1cGRhdGVTdHJpcGVQYXltZW50SW50ZW50IiwiZXJyb3IiLCJvbkVycm9yIiwibW91bnRFbGVtZW50IiwiY29udGFpbmVySWQiLCJnZXRDaGVja291dCIsIm91dHN0YW5kaW5nQmFsYW5jZSIsImNvdXBvbnMiLCJzdHJpcGVFbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIm1hcEFwcGVhcmFuY2VWYXJpYWJsZXMiLCJjb2xvckljb24iLCJtYXBJbnB1dEFwcGVhcmFuY2VSdWxlcyIsInRocm93U3RyaXBlRXJyb3IiLCJzdHJpcGVFcnJvciIsInRocm93RGlzcGxheWFibGVTdHJpcGVFcnJvciIsImlzQ2FuY2VsbGF0aW9uRXJyb3IiLCJpbmNsdWRlcyIsImVycm9yTWVzc2FnZSIsInBheW1lbnRfaW50ZW50IiwibGFzdF9wYXltZW50X2Vycm9yIiwiaW5kZXhPZiIsInRocm93UGF5bWVudENvbmZpcm1hdGlvblByb2NlZWRNZXNzYWdlIiwiaXNQYXltZW50Q29tcGxldGVkIiwiZmVhdHVyZXMiLCJnZXRTdG9yZUNvbmZpZ09yVGhyb3ciLCJjaGVja291dFNldHRpbmdzIiwicGF5bWVudEludGVudCIsInJldHJpZXZlUGF5bWVudEludGVudCIsInN0YXR1cyIsIlNVQ0NFRURFRCIsIm1hcFN0cmlwZVBheW1lbnREYXRhIiwicmV0dXJuVXJsIiwic2hvdWxkQWxsb3dSZWRpc3BsYXkiLCJiaWxsaW5nQWRkcmVzcyIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiYWRkcmVzcyIsIl9tYXBTdHJpcGVBZGRyZXNzIiwiY2l0eSIsImNvdW50cnkiLCJyZWRpcmVjdCIsIklGX1JFUVVJUkVEIiwiY29uZmlybVBhcmFtcyIsInBheW1lbnRfbWV0aG9kX2RhdGEiLCJhbGxvd19yZWRpc3BsYXkiLCJiaWxsaW5nX2RldGFpbHMiLCJyZXR1cm5fdXJsIiwiaXNBZGRpdGlvbmFsQWN0aW9uRXJyb3IiLCJlcnJvcnMiLCJzb21lIiwiY29kZSIsImlzUmVkaXJlY3RBY3Rpb24iLCJhZGRpdGlvbmFsQWN0aW9uIiwiZGF0YSIsInJlZGlyZWN0X3VybCIsImlzT25QYWdlQWRkaXRpb25hbEFjdGlvbiIsInRva2VuIiwiYWRkcmVzczEiLCJhZGRyZXNzMiIsImNvdW50cnlDb2RlIiwicG9zdGFsQ29kZSIsInN0YXRlT3JQcm92aW5jZUNvZGUiLCJwb3N0YWxfY29kZSIsImxpbmUxIiwibGluZTIiLCJERUZBVUxUX1NUWUxFUyIsInNpemUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJERUZBVUxUX0NPTlRBSU5FUl9TVFlMRVMiLCJwb3NpdGlvbiIsIlJPVEFUSU9OX0FOSU1BVElPTiIsIkxvYWRpbmdJbmRpY2F0b3IiLCJjb250YWluZXJTdHlsZXMiLCJkZWZpbmVBbmltYXRpb24iLCJidWlsZENvbnRhaW5lciIsImluZGljYXRvciIsImJ1aWxkSW5kaWNhdG9yIiwiYXBwZW5kQ2hpbGQiLCJzaG93IiwicGFyZW50SWQiLCJwYXJlbnQiLCJzdHlsZSIsInZpc2liaWxpdHkiLCJvcGFjaXR5IiwiaGlkZSIsImhhbmRsZVRyYW5zaXRpb25FbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNyZWF0ZUVsZW1lbnQiLCJkaXNwbGF5IiwiYm90dG9tIiwibGVmdCIsImhlaWdodCIsIndpZHRoIiwicmlnaHQiLCJ0b3AiLCJ0cmFuc2l0aW9uIiwic2V0U3R5bGVBdHRyaWJ1dGUiLCJib3JkZXJSYWRpdXMiLCJib3JkZXIiLCJtYXJnaW4iLCJ0cmFuc2Zvcm0iLCJ0cmFuc2Zvcm1TdHlsZSIsImFuaW1hdGlvbiIsImVsZW1lbnQiLCJhdHRycyIsImtleXMiLCJrIiwic2V0UHJvcGVydHkiLCJoZWFkIiwic2hlZXQiLCJDU1NTdHlsZVNoZWV0IiwiaW5zZXJ0UnVsZSIsIkFtb3VudFRyYW5zZm9ybWVyIiwiX2RlY2ltYWxQbGFjZXMiLCJ0b0ludGVnZXIiLCJhbW91bnQiLCJNYXRoIiwicm91bmQiLCJleHByZXNzQ2hlY2tvdXRBbGxvd2VkQ291bnRyeUNvZGVzIiwiU3RyaXBlTGlua1YyQ3VzdG9tZXJTdHJhdGVneSIsInN0cmlwZUludGVncmF0aW9uU2VydmljZSIsImxvYWRpbmdJbmRpY2F0b3IiLCJzdHJpcGVvY3MiLCJsb2FkaW5nQ29udGFpbmVySWQiLCJidXR0b25IZWlnaHQiLCJvbkNvbXBsZXRlIiwiX2xvYWRpbmdJbmRpY2F0b3JDb250YWluZXIiLCJfb25Db21wbGV0ZSIsImNhcHR1cmVNZXRob2QiLCJfY2FwdHVyZU1ldGhvZCIsIl9zdHJpcGVDbGllbnQiLCJfbW91bnRFeHByZXNzQ2hlY2tvdXRFbGVtZW50Iiwic3RyaXBlRXhwcmVzc0NoZWNrb3V0Q2xpZW50Iiwic2hvdWxkUmVxdWlyZVNoaXBwaW5nQWRkcmVzcyIsIl9zaG91bGRSZXF1aXJlU2hpcHBpbmdBZGRyZXNzIiwiZXhwcmVzc0NoZWNrb3V0T3B0aW9ucyIsInNoaXBwaW5nQWRkcmVzc1JlcXVpcmVkIiwiYWxsb3dlZFNoaXBwaW5nQ291bnRyaWVzIiwiX2dldEF2YWlsYWJsZUNvdW50cmllcyIsInNoaXBwaW5nUmF0ZXMiLCJkaXNwbGF5TmFtZSIsImJpbGxpbmdBZGRyZXNzUmVxdWlyZWQiLCJlbWFpbFJlcXVpcmVkIiwicGhvbmVOdW1iZXJSZXF1aXJlZCIsInBheW1lbnRNZXRob2RzIiwibGluayIsIkFVVE8iLCJhcHBsZVBheSIsIk5FVkVSIiwiZ29vZ2xlUGF5IiwiYW1hem9uUGF5IiwicGF5cGFsIiwia2xhcm5hIiwiY2FydEFtb3VudCIsImdldENhcnRPclRocm93IiwiZWxlbWVudHNPcHRpb25zIiwiX3RvQ2VudHMiLCJjdXJyZW5jeSIsIl9nZXRDdXJyZW5jeSIsIl9saW5rVjJFbGVtZW50IiwiRVhQUkVTU19DSEVDS09VVCIsIl9pbml0aWFsaXplRXZlbnRzIiwiZXhwcmVzc0NoZWNrb3V0RWxlbWVudCIsIlNISVBQSU5HX0FERFJFU1NfQ0hBTkdFIiwiX29uU2hpcHBpbmdBZGRyZXNzQ2hhbmdlIiwiU0hJUFBJTkdfUkFURV9DSEFOR0UiLCJfb25TaGlwcGluZ1JhdGVDaGFuZ2UiLCJDT05GSVJNIiwiX29uQ29uZmlybSIsIkNBTkNFTCIsIl9vbkNhbmNlbCIsInNoaXBwaW5nQWRkcmVzcyIsInJlc3VsdCIsInBob25lIiwiY29tcGFueSIsInN0YXRlT3JQcm92aW5jZSIsImN1c3RvbUZpZWxkcyIsInVwZGF0ZVNoaXBwaW5nQWRkcmVzcyIsIl9nZXRBdmFpbGFibGVTaGlwcGluZ09wdGlvbnMiLCJfdXBkYXRlRGlzcGxheWVkUHJpY2UiLCJzaGlwcGluZ1JhdGUiLCJfaGFuZGxlU2hpcHBpbmdPcHRpb25DaGFuZ2UiLCJfdXBkYXRlU2hpcHBpbmdBbmRCaWxsaW5nQWRkcmVzcyIsInN1Ym1pdE9yZGVyIiwiX2dldFBheW1lbnRQYXlsb2FkIiwic3VibWl0UGF5bWVudCIsIl9wcm9jZXNzQWRkaXRpb25hbEFjdGlvbiIsInNwbGl0IiwiYmlsbGluZ0RldGFpbHMiLCJfbWFwU2hpcHBpbmdBZGRyZXNzIiwiX21hcEJpbGxpbmdBZGRyZXNzIiwidXBkYXRlQmlsbGluZ0FkZHJlc3MiLCJib2R5IiwiYWRkaXRpb25hbEFjdGlvbkRhdGEiLCJhZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZCIsIl9jb25maXJtU3RyaXBlUGF5bWVudE9yVGhyb3ciLCJwYXltZW50UGF5bG9hZCIsIl90b2dnbGVMb2FkaW5nSW5kaWNhdG9yIiwiX2NvbXBsZXRlQ2hlY2tvdXRGbG93Iiwic3RyaXBlUGF5bWVudERhdGEiLCJjb25maXJtYXRpb25SZXN1bHQiLCJjb25maXJtUGF5bWVudCIsImxvY2F0aW9uIiwicmVwbGFjZSIsImNhcnRJZCIsImdldENhcnQiLCJwYXltZW50RGF0YSIsImZvcm1hdHRlZFBheWxvYWQiLCJjYXJ0X2lkIiwiY3JlZGl0X2NhcmRfdG9rZW4iLCJjb25maXJtIiwicGF5bWVudF9tZXRob2RfaWQiLCJMaW5rIiwibGluZUl0ZW1zIiwicGh5c2ljYWxJdGVtcyIsImxlbmd0aCIsIl9nZXRUb3RhbFByaWNlIiwiX2N1cnJlbmN5Q29kZSIsImN1cnJlbmN5Q29kZSIsInRvTG93ZXJDYXNlIiwibG9hZENoZWNrb3V0IiwiZ2V0Q2hlY2tvdXRPclRocm93IiwiZGVjaW1hbFBsYWNlcyIsInRvdGFsUHJpY2UiLCJ0b0ZpeGVkIiwiY291bnRyaWVzIiwibG9hZFNoaXBwaW5nQ291bnRyaWVzIiwiZ2V0U2hpcHBpbmdDb3VudHJpZXMiLCJtYXAiLCJmaWx0ZXIiLCJjb25zaWdubWVudCIsImF2YWlsYWJsZVNoaXBwaW5nT3B0aW9ucyIsIl9nZXRTdHJpcGVTaGlwcGluZ09wdGlvbiIsImJpbmQiLCJzZWxlY3RlZElkIiwic2VsZWN0ZWRTaGlwcGluZ09wdGlvbiIsInNvcnQiLCJvcHRpb24iLCJjb3N0IiwiZGVzY3JpcHRpb24iLCJvcHRpb25JZCIsInNlbGVjdFNoaXBwaW5nT3B0aW9uIiwiX2dldEFtb3VudFRyYW5zZm9ybWVyIiwiX2Ftb3VudFRyYW5zZm9ybWVyIiwiZmFsbGJhY2tWYWx1ZSIsImFtb3VudFRyYW5zZm9ybWVyIiwic3RyaXBlU2NyaXB0TG9hZGVyIiwiUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yIiwiaW52YWxpZEZpZWxkcyIsImpvaW4iLCJpc0hvc3RlZEluc3RydW1lbnRMaWtlIiwiaW5zdHJ1bWVudCIsInNob3VsZFNhdmVJbnN0cnVtZW50Iiwic2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCIsImlzVmF1bHRlZEluc3RydW1lbnQiLCJCb29sZWFuIiwiaW5zdHJ1bWVudElkIiwiT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yIiwiaXNJbmRpdmlkdWFsQ2FyZEVsZW1lbnRPcHRpb25zIiwiaW5kaXZpZHVhbENhcmRFbGVtZW50T3B0aW9ucyIsImNhcmROdW1iZXJFbGVtZW50T3B0aW9ucyIsImNhcmRDdmNFbGVtZW50T3B0aW9ucyIsImNhcmRFeHBpcnlFbGVtZW50T3B0aW9ucyIsIkljb25TdHlsZSIsIlN0cmlwZVYzRXJyb3JUeXBlIiwiU3RyaXBlVjNFcnJvciIsIkF1dGhGYWlsdXJlIiwiQVBNX1JFRElSRUNUIiwiQWxpcGF5IiwiSURFQUwiLCJTdHJpcGVWM1BheW1lbnRTdHJhdGVneSIsInN0cmlwZXYzIiwiaW5pdGlhbGl6ZU9wdGlvbnMiLCJpc0RlaW5pdGlhbGl6ZSIsInVzZUluZGl2aWR1YWxDYXJkRmllbGRzIiwiYWxsb3dSZWRpc3BsYXlGb3JTdG9yZWRJbnN0cnVtZW50cyIsIl9hbGxvd1JlZGlzcGxheUZvclN0b3JlZEluc3RydW1lbnRzIiwiZm9ybSIsImdldEluaXRpYWxpemVPcHRpb25zIiwic3RyaXBlVjNDbGllbnQiLCJsb2FkU3RyaXBlSnMiLCJpc0NyZWRpdENhcmQiLCJzaG91bGRTaG93VFNWSG9zdGVkRm9ybSIsImhvc3RlZEZvcm0iLCJtb3VudENhcmRWZXJpZmljYXRpb25GaWVsZHMiLCJtb3VudENhcmRGaWVsZHMiLCJleGVjdXRlIiwib3JkZXJSZXF1ZXN0IiwicGF5bWVudCIsIm9yZGVyIiwic2hvdWxkU3VibWl0T3JkZXJCZWZvcmVMb2FkaW5nQVBNIiwiaXNTdG9yZUNyZWRpdEFwcGxpZWQiLCJ1c2VTdG9yZUNyZWRpdCIsImFwcGx5U3RvcmVDcmVkaXQiLCJleGVjdXRlV2l0aFZhdWx0ZWQiLCJjb25maXJtU3RyaXBlUGF5bWVudCIsInZhdWx0X3BheW1lbnRfaW5zdHJ1bWVudCIsInNldF9hc19kZWZhdWx0X3N0b3JlZF9pbnN0cnVtZW50IiwiQ3JlZGl0Q2FyZCIsImNsaWVudF90b2tlbiIsImJ1aWxkUGF5bWVudFBheWxvYWQiLCJwcm9jZXNzQWRkaXRpb25hbEFjdGlvbiIsImhhbmRsZUVtcHR5UGF5bWVudEludGVudEVycm9yIiwiZmluYWxpemUiLCJyZWplY3QiLCJkZXRhY2giLCJ1bm1vdW50RWxlbWVudCIsImlzQXV0aEVycm9yIiwiaXNIb3N0ZWRGaWVsZEF2YWlsYWJsZSIsImRlZmluZWRGaWVsZHMiLCJvbWl0QnkiLCJmaWVsZHMiLCJpc0VtcHR5IiwiaXNIb3N0ZWRQYXltZW50Rm9ybUVuYWJsZWQiLCJjb25maWciLCJpc0hvc3RlZEZvcm1FbmFibGVkIiwiZ2V0U3RyaXBlSnMiLCJjb25maXJtQWxpcGF5UGF5bWVudCIsImhhbmRsZUFjdGlvbnMiLCJjb25maXJtSWRlYWxQYXltZW50IiwiU2VwYSIsImNvbmZpcm1TZXBhRGViaXRQYXltZW50IiwiY2FyZCIsImdldFN0cmlwZUNhcmRFbGVtZW50cyIsImdldFN0cmlwZUVsZW1lbnQiLCJtYXBTdHJpcGVCaWxsaW5nRGV0YWlscyIsImdldEN1c3RvbWVyIiwiY3JlYXRlUGF5bWVudE1ldGhvZCIsImJpZ3BheV90b2tlbiIsIkpTT04iLCJzdHJpbmdpZnkiLCJ2YWxpZGF0ZSIsInN1Ym1pdCIsImxvYWRDdXJyZW50T3JkZXIiLCJzdHJpcGVDYXJkRWxlbWVudHMiLCJnZXRMb2NhbGUiLCJtYXBTdHJpcGVBZGRyZXNzIiwidHJpbSIsInppcENvZGVFbGVtZW50T3B0aW9ucyIsImFkZHJlc3NlcyIsImlzQmlsbGluZ0FkZHJlc3NMaWtlIiwiY3VzdG9tZXJBZGRyZXNzIiwic3RyaXBlUGF5bWVudE1ldGhvZFR5cGUiLCJwYXltZW50X21ldGhvZCIsImNhcmROdW1iZXJFbGVtZW50IiwiQ2FyZE51bWJlciIsImNhcmRFeHBpcnlFbGVtZW50IiwiQ2FyZEV4cGlyeSIsImNhcmRDdmNFbGVtZW50IiwiQ2FyZEN2YyIsImZvcm1PcHRpb25zIiwic3RvcmVDb25maWciLCJnZXRTdG9yZUNvbmZpZyIsImJpZ3BheUJhc2VVcmwiLCJwYXltZW50U2V0dGluZ3MiLCJjcmVhdGVIb3N0ZWRGb3JtIiwiYXR0YWNoIiwiaXNUaHJlZURTZWN1cmVSZXF1aXJlZEVycm9yIiwiYWN0aW9uIiwidGhyZWVfZHNfcmVzdWx0IiwibmVlZHNDb25maXJtIiwiY2F0Y2hlZENvbmZpcm1FcnJvciIsImNvbmZpcm1DYXJkUGF5bWVudCIsImdldFBheW1lbnRUb2tlbiIsIlN0cmlwZVYzU2NyaXB0TG9hZGVyIiwibG9jYWxlIiwidGhlbiIsImdhdGV3YXkiLCJERUZBVUxUX1JFU1BPTlNFIiwiaGVhZGVycyIsIlJlcXVlc3RFcnJvciIsInJlc3BvbnNlIiwic3VwcG9ydGVkTG9jYWxlcyIsImFyIiwiYmciLCJjcyIsImRhIiwiZGUiLCJlbCIsImVuIiwiZXMiLCJldCIsImZpIiwiZmlsIiwiZnIiLCJoZSIsImhyIiwiaHUiLCJpdCIsImphIiwia28iLCJsdCIsImx2IiwibXMiLCJtdCIsIm5iIiwibmwiLCJwbCIsInB0Iiwicm8iLCJydSIsInNrIiwic2wiLCJzdiIsInRoIiwidHIiLCJ2aSIsInpoIiwiZm9ybWF0TG9jYWxlIiwibG9jYWxlTGFuZ3VhZ2UiLCJsYW5ndWFnZSIsImNvdW50cnlMb2NhbGVzIiwiZm9ybWF0dGVkTG9jYWxlIiwidG9VcHBlckNhc2UiLCJTdHJpcGVVUEVQYXltZW50U3RyYXRlZ3kiLCJfbG9hZFN0cmlwZUVsZW1lbnQiLCJjYXRjaCIsIl9zdHJpcGVVUEVDbGllbnQiLCJnZXRCaWxsaW5nQWRkcmVzc09yVGhyb3ciLCJfZXhlY3V0ZVdpdGhWYXVsdGVkIiwiX2V4ZWN1dGVXaXRoU3RyaXBlQ29uZmlybWF0aW9uIiwiX3Byb2Nlc3NBZGRpdGlvbmFsQWN0aW9uV2l0aFN0cmlwZUNvbmZpcm1hdGlvbiIsIl9wcm9jZXNzVmF1bHRlZEFkZGl0aW9uYWxBY3Rpb24iLCJyZW5kZXIiLCJpbml0U3RyaXBlRWxlbWVudFVwZGF0ZVRyaWdnZXIiLCJfbG9hZFN0cmlwZUpzIiwiX2lzU3RyaXBlRWxlbWVudFVwZGF0ZUVuYWJsZWQiLCJnZXRTaGlwcGluZ0FkZHJlc3MiLCJ3YWxsZXRzIiwiX2dldFN0cmlwZUVsZW1lbnRUZXJtcyIsIlJFQURZIiwiX3VwZGF0ZVN0cmlwZUxpbmtTdGF0ZUJ5RWxlbWVudFR5cGUiLCJfdXBkYXRlU3RyaXBlRWxlbWVudCIsInNob3VsZFNob3dUZXJtcyIsInRlcm1zIiwicGF5bWVudEVsZW1lbnRUeXBlIiwiaXNTdHJpcGVMaW5rRWxlbWVudFR5cGUiLCJTdHJpcGVPQ1NQYXltZW50U3RyYXRlZ3kiLCJfaW5pdGlhbGl6ZVN0cmlwZUVsZW1lbnQiLCJkZXN0cm95IiwiY3VzdG9tZXJTZXNzaW9uVG9rZW4iLCJlbmFibGVMaW5rIiwiZm9udHMiLCJsYXlvdXQiLCJwYXltZW50TWV0aG9kU2VsZWN0IiwiaGFuZGxlQ2xvc2VQYXltZW50TWV0aG9kIiwidG9nZ2xlUHJlbG9hZGVyIiwiY3VzdG9tZXJTZXNzaW9uQ2xpZW50U2VjcmV0Iiwic2F2ZVBheW1lbnRNZXRob2QiLCJtYXhWaXNpYmxlUGF5bWVudE1ldGhvZHMiLCJMT0FERVJfU1RBUlQiLCJfb25TdHJpcGVFbGVtZW50Q2hhbmdlIiwiX2NvbGxhcHNlU3RyaXBlRWxlbWVudCIsImNvbGxhcHNlIiwicGF5bWVudE1ldGhvZE9wdGlvbnMiLCJ1c19iYW5rX2FjY291bnQiLCJfc2hvdWxkU2F2ZUluc3RydW1lbnQiLCJ0b2tlbml6ZWRPcHRpb25zIiwiX2dldFRva2VuaXplZE9wdGlvbnMiLCJzZWxlY3RlZE1ldGhvZElkIiwiY2xpZW50X3NlY3JldCIsInBheW1lbnRJbnRlbnRDbGllbnRTZWNyZXQiLCJwYXltZW50X21ldGhvZF9vcHRpb25zIiwiaXNTdHJpcGVQYXltZW50RXZlbnQiLCJjb2xsYXBzZWQiLCJzZXR1cEZ1dHVyZVVzYWdlIiwic2V0dXBfZnV0dXJlX3VzYWdlIiwiT05fU0VTU0lPTiIsIk9GRl9TRVNTSU9OIiwidG9rZW5pemVkX2FjaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/stripe.js\n\n}");

/***/ })

}]);