"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["checkout-sdk-js_dist_esm_integrations_stripe_js"],{

/***/ "../checkout-sdk-js/dist/esm/integrations/stripe.js":
/*!**********************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/stripe.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createStripeLinkV2CustomerStrategy: () => (/* binding */ ye),\n/* harmony export */   createStripeOCSPaymentStrategy: () => (/* binding */ re),\n/* harmony export */   createStripeUPECustomerStrategy: () => (/* binding */ se),\n/* harmony export */   createStripeUPEPaymentStrategy: () => (/* binding */ te),\n/* harmony export */   createStripeV3PaymentStrategy: () => (/* binding */ N)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"../checkout-sdk-js/node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"../checkout-sdk-js/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\nvar s,a,d={};function l(e,t){return console.log(\"resolveIds\",t),Object.assign(e,{resolveIds:t})}d.d=(e,t)=>{for(var i in t)d.o(t,i)&&!d.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);class c extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class u extends c{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}class h extends u{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}function p(e){return!(\"object\"!=typeof e||null===e||void 0!==e.shouldSaveInstrument&&\"boolean\"!=typeof e.shouldSaveInstrument||void 0!==e.shouldSetAsDefaultInstrument&&\"boolean\"!=typeof e.shouldSetAsDefaultInstrument)}function m(e){return Boolean(e.instrumentId)}!function(e){e[e.MissingBillingAddress=0]=\"MissingBillingAddress\",e[e.MissingCart=1]=\"MissingCart\",e[e.MissingCheckout=2]=\"MissingCheckout\",e[e.MissingConsignments=3]=\"MissingConsignments\",e[e.MissingCustomer=4]=\"MissingCustomer\",e[e.MissingCheckoutConfig=5]=\"MissingCheckoutConfig\",e[e.MissingOrder=6]=\"MissingOrder\",e[e.MissingOrderConfig=7]=\"MissingOrderConfig\",e[e.MissingOrderId=8]=\"MissingOrderId\",e[e.MissingPayment=9]=\"MissingPayment\",e[e.MissingPaymentId=10]=\"MissingPaymentId\",e[e.MissingPaymentInstrument=11]=\"MissingPaymentInstrument\",e[e.MissingPaymentMethod=12]=\"MissingPaymentMethod\",e[e.MissingPaymentRedirectUrl=13]=\"MissingPaymentRedirectUrl\",e[e.MissingPaymentStatus=14]=\"MissingPaymentStatus\",e[e.MissingPaymentToken=15]=\"MissingPaymentToken\",e[e.MissingShippingAddress=16]=\"MissingShippingAddress\"}(s||(s={}));class y extends c{constructor(e){super(function(e){switch(e){case s.MissingBillingAddress:return\"Unable to proceed because billing address data is unavailable.\";case s.MissingCart:return\"Unable to proceed because cart data is unavailable.\";case s.MissingConsignments:return\"Unable to proceed because consignments data is unavailable.\";case s.MissingCheckout:return\"Unable to proceed because checkout data is unavailable.\";case s.MissingCustomer:return\"Unable to proceed because customer data is unavailable.\";case s.MissingCheckoutConfig:case s.MissingOrderConfig:return\"Unable to proceed because configuration data is unavailable.\";case s.MissingOrder:return\"Unable to proceed because order data is unavailable.\";case s.MissingOrderId:return\"Unable to proceed because order ID is unavailable or not generated yet.\";case s.MissingPayment:return\"Unable to proceed because payment data is unavailable.\";case s.MissingPaymentToken:return\"Unable to proceed because the token required to submit a payment is missing.\";case s.MissingPaymentMethod:return\"Unable to proceed because payment method data is unavailable or not properly configured.\";case s.MissingShippingAddress:return\"Unable to proceed because shipping address data is unavailable.\";default:return\"Unable to proceed because the required data is unavailable.\"}}(e)),this.subtype=e,this.name=\"MissingDataError\",this.type=\"missing_data\"}}class g extends c{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(a||(a={}));class v extends c{constructor(e){super(function(e){switch(e){case a.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case a.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case a.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case a.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}const S=e=>\"object\"==typeof e&&null!==e&&\"body\"in e;class f extends c{constructor(e){super(e||\"Payment process was cancelled.\"),this.name=\"PaymentMethodCancelledError\",this.type=\"payment_cancelled\"}}function _(e){return null!==e&&\"object\"==typeof e&&\"cardNumberElementOptions\"in e&&\"cardCvcElementOptions\"in e&&\"cardExpiryElementOptions\"in e&&void 0!==e.cardNumberElementOptions&&void 0!==e.cardCvcElementOptions&&void 0!==e.cardExpiryElementOptions}var I,E,b,P;!function(e){e.Solid=\"solid\",e.Default=\"default\"}(I||(I={})),function(e){e.Alipay=\"alipay\",e.CardCvc=\"cardCvc\",e.CardExpiry=\"cardExpiry\",e.CardNumber=\"cardNumber\",e.CreditCard=\"card\",e.IDEAL=\"idealBank\",e.Sepa=\"iban\"}(E||(E={})),function(e){e.Alipay=\"alipay\",e.CreditCard=\"card\",e.IDEAL=\"ideal\",e.Sepa=\"sepa_debit\"}(b||(b={})),function(e){e.AuthFailure=\"auth_failure\"}(P||(P={}));class C extends c{constructor(e){super(e===P.AuthFailure?\"User did not authenticate\":\"There was an error while processing your payment. Please try again or contact us.\"),this.type=\"stripev3_error\",this.subtype=e}}var w=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})};const A=[E.Alipay,E.IDEAL];class O{constructor(e,t){this.paymentIntegrationService=e,this.scriptLoader=t}initialize(e){return w(this,void 0,void 0,function*(){const{stripev3:t,methodId:i,gatewayId:n}=e;if(!n)throw new u('Unable to initialize payment because \"gatewayId\" argument is not provided.');this.initializeOptions=t,this.isDeinitialize=!1;const r=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(i),{initializationData:{stripePublishableKey:o,stripeConnectedAccount:s,useIndividualCardFields:a,allowRedisplayForStoredInstruments:d}}=r;this._allowRedisplayForStoredInstruments=d;const l=this.getInitializeOptions().form;this.useIndividualCardFields=a,this.stripeV3Client=yield this.loadStripeJs(o,s),this.isCreditCard(i)&&this.shouldShowTSVHostedForm(i,n)&&l?this.hostedForm=yield this.mountCardVerificationFields(l):this.stripeElement=yield this.mountCardFields(i)})}execute(e,i){var n,r;return w(this,void 0,void 0,function*(){const{payment:o}=e,a=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]);let d,l;if(!o||!o.paymentData)throw new h([\"payment.paymentData\"]);const{paymentData:c,gatewayId:u,methodId:g}=o,{shouldSaveInstrument:v,shouldSetAsDefaultInstrument:S}=p(c)?c:{shouldSaveInstrument:!1,shouldSetAsDefaultInstrument:!1},f=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.includes)(A,g),{isStoreCreditApplied:_}=this.paymentIntegrationService.getState().getCheckoutOrThrow();_&&(yield this.paymentIntegrationService.applyStoreCredit(_));try{f&&(yield this.paymentIntegrationService.submitOrder(a,i)),u&&(yield this.paymentIntegrationService.loadPaymentMethod(u,{params:{method:g}}));const e=this.paymentIntegrationService.getState();if(m(c)){yield this.paymentIntegrationService.submitOrder(a,i);const{instrumentId:t}=c,n=e.getPaymentMethodOrThrow(o.methodId).clientToken;if(!n)throw new y(s.MissingPaymentMethod);return yield this.executeWithVaulted(o,t,S,n)}const t=e.getPaymentMethodOrThrow(g),h=yield this.confirmStripePayment(t),{clientToken:p,method:_}=t,{id:I}=null!==(r=null!==(n=h.paymentIntent)&&void 0!==n?n:h.paymentMethod)&&void 0!==r?r:{id:\"\"};l=h.error,d={credit_card_token:{token:I},vault_payment_instrument:v,confirm:!1,set_as_default_stored_instrument:S},_===E.CreditCard&&(d.client_token=p),f||(yield this.paymentIntegrationService.submitOrder(a,i));const b=this.buildPaymentPayload(g,d,S);yield this.paymentIntegrationService.submitPayment(b)}catch(e){yield this.processAdditionalAction(this.handleEmptyPaymentIntentError(e,l),g,v,S)}})}finalize(){return Promise.reject(new g)}deinitialize(){return this.hostedForm&&this.hostedForm.detach(),this.isDeinitialize=!0,this.unmountElement(),Promise.resolve()}buildPaymentPayload(e,t,i){return{methodId:e,paymentData:i?{formattedPayload:Object.assign(Object.assign({},t),{set_as_default_stored_instrument:i})}:{formattedPayload:t}}}isCancellationError(e){var t,i;return e&&-1!==(null===(i=null===(t=e.payment_intent.last_payment_error)||void 0===t?void 0:t.message)||void 0===i?void 0:i.indexOf(\"canceled\"))}isAuthError(e){return\"payment_intent_authentication_failure\"===(null==e?void 0:e.code)}isCreditCard(e){return e===b.CreditCard}isHostedFieldAvailable(){var e;const t=this.getInitializeOptions(),r=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.omitBy)(null===(e=t.form)||void 0===e?void 0:e.fields,lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty);return!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isEmpty)(r)}isHostedPaymentFormEnabled(e,t){const{getPaymentMethodOrThrow:i}=this.paymentIntegrationService.getState(),n=i(e,t);return Boolean(n.config.isHostedFormEnabled)}confirmStripePayment(e){return w(this,void 0,void 0,function*(){const{clientToken:t,method:i,returnUrl:n}=e;if(!t)throw new y(s.MissingPaymentMethod);switch(i){case E.Alipay:return this.getStripeJs().confirmAlipayPayment(t,{return_url:n},{handleActions:!1});case E.IDEAL:{const e=this.mapStripePaymentData(b.IDEAL,n);return this.getStripeJs().confirmIdealPayment(t,e,{handleActions:!1})}case E.Sepa:{const e=this.mapStripePaymentData(b.Sepa);return this.getStripeJs().confirmSepaDebitPayment(t,e)}default:{const e=this.useIndividualCardFields?this.getStripeCardElements()[0]:this.getStripeElement(),t=this.mapStripeBillingDetails(this.paymentIntegrationService.getState().getBillingAddress(),this.paymentIntegrationService.getState().getCustomer()),i=this._allowRedisplayForStoredInstruments;return this.getStripeJs().createPaymentMethod(Object.assign({type:b.CreditCard,card:e,billing_details:t},i?{allow_redisplay:\"always\"}:{}))}}})}executeWithVaulted(e,t,i,n){var r;return w(this,void 0,void 0,function*(){const o={bigpay_token:{token:t},confirm:!0,client_token:n,set_as_default_stored_instrument:i};if(this.isHostedPaymentFormEnabled(e.methodId,e.gatewayId)&&this.hostedForm){const t=this.hostedForm;return e.paymentData&&m(e.paymentData)&&(e.paymentData=Object.assign(Object.assign({},e.paymentData),{instrumentId:JSON.stringify({token:(null===(r=e.paymentData)||void 0===r?void 0:r.instrumentId)||\"\",client_token:n})})),yield t.validate(),yield t.submit(e),this.paymentIntegrationService.loadCurrentOrder()}const s=this.buildPaymentPayload(e.methodId,o,i);return this.paymentIntegrationService.submitPayment(s)})}getInitializeOptions(){if(!this.initializeOptions)throw new v(a.PaymentNotInitialized);return this.initializeOptions}getStripeCardElements(){if(!this.stripeCardElements)throw new v(a.PaymentNotInitialized);return this.stripeCardElements}getStripeElement(){if(!this.stripeElement)throw new v(a.PaymentNotInitialized);return this.stripeElement}getStripeJs(){if(!this.stripeV3Client)throw new v(a.PaymentNotInitialized);return this.stripeV3Client}handleEmptyPaymentIntentError(e,t){return S(e)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.some)(e.body.errors,{code:\"required_field\"})&&t?new Error(t.message):e}loadStripeJs(e,t){return w(this,void 0,void 0,function*(){return this.stripeV3Client?Promise.resolve(this.stripeV3Client):this.scriptLoader.load(e,t,this.paymentIntegrationService.getState().getLocale())})}mapStripeAddress(e){if(e){const{city:t,countryCode:i,address1:n,address2:r,postalCode:o,stateOrProvinceCode:s}=e;return{city:t,country:i,line1:n,line2:r,postal_code:o,state:s}}return{line1:\"\"}}mapStripeBillingDetails(e,t){const{firstName:i,lastName:n}=e||t||{firstName:\"Guest\",lastName:\"\"},r=`${i} ${n}`.trim(),{options:o}=this.getInitializeOptions();if(this.useIndividualCardFields&&_(o)){const{zipCodeElementOptions:t}=o;if(t){const i=document.getElementById(t.containerId)?document.getElementById(t.containerId).value:\"\";i&&e&&(e=Object.assign(Object.assign({},e),{postalCode:i}))}}const s={address:this.mapStripeAddress(e)};if(t&&t.addresses[0]&&function(e){return\"object\"==typeof e&&null!==e&&\"id\"in e&&void 0!==e.id}(t.addresses[0])){const e=t.addresses[0],{email:i}=t,{phone:n}=e;return n?Object.assign(Object.assign({},s),{email:i,name:r,phone:n}):Object.assign(Object.assign({},s),{email:i,name:r})}if(e){const{email:t,phone:i}=e;return i?Object.assign(Object.assign({},s),{email:t,name:r,phone:i}):Object.assign(Object.assign({},s),{email:t,name:r})}return Object.assign(Object.assign({},s),{name:r})}mapStripePaymentData(e,t){const i=this.paymentIntegrationService.getState().getCustomer(),n=this.paymentIntegrationService.getState().getBillingAddress(),r={payment_method:{[e]:this.getStripeElement(),billing_details:this.mapStripeBillingDetails(n,i)}};return e===b.IDEAL?Object.assign(Object.assign({},r),{return_url:t}):r}mountCardFields(e){const{options:t,containerId:i}=this.getInitializeOptions();let n;return new Promise((r,o)=>{switch(this.stripeElements||(this.stripeElements=this.getStripeJs().elements()),e){case E.CreditCard:if(this.useIndividualCardFields&&_(t)){const{cardNumberElementOptions:e,cardExpiryElementOptions:i,cardCvcElementOptions:r}=t,s=this.stripeElements.getElement(E.CardNumber)||this.stripeElements.create(E.CardNumber,e),a=this.stripeElements.getElement(E.CardExpiry)||this.stripeElements.create(E.CardExpiry,i),d=this.stripeElements.getElement(E.CardCvc)||this.stripeElements.create(E.CardCvc,r);this.stripeCardElements=[s,a,d],n=this.stripeCardElements[0];try{s.mount(`#${e.containerId}`),a.mount(`#${i.containerId}`),d.mount(`#${r.containerId}`)}catch(e){this.isDeinitialize||o(new u(\"Unable to mount Stripe component without valid container ID.\"))}}else{n=this.stripeElements.getElement(e)||this.stripeElements.create(e,t);try{n.mount(`#${i}`)}catch(e){this.isDeinitialize||o(new u(\"Unable to mount Stripe component without valid container ID.\"))}}break;case E.IDEAL:case E.Sepa:n=this.stripeElements.getElement(e)||this.stripeElements.create(e,t);try{n.mount(`#${i}`)}catch(e){this.isDeinitialize||o(new u(\"Unable to mount Stripe component without valid container ID.\"))}case E.Alipay:}r(n)})}mountCardVerificationFields(e){return w(this,void 0,void 0,function*(){const t=this.paymentIntegrationService.getState().getStoreConfig();if(!t)throw new y(s.MissingCheckoutConfig);const i=t.paymentSettings.bigpayBaseUrl,n=this.paymentIntegrationService.createHostedForm(i,e);return yield n.attach(),n})}processAdditionalAction(e,t,i=!1,n=!1){return w(this,void 0,void 0,function*(){if(!S(e))throw e;const r=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.some)(e.body.errors,{code:\"additional_action_required\"}),s=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.some)(e.body.errors,{code:\"three_d_secure_required\"});if(r){const t=e.body.additional_action_required;if(t&&\"redirect_to_url\"===t.type)return new Promise(()=>{t.data.redirect_url&&window.location.replace(t.data.redirect_url)})}if(s){const r=e.body.three_ds_result.token,o=!1;let s,a=!1;try{s=yield this.getStripeJs().confirmCardPayment(r)}catch(e){a=!0}if(null==s?void 0:s.error){if(this.isCancellationError(s.error))throw new f;if(this.isAuthError(s.error))throw new C(P.AuthFailure);throw new Error(s.error.message)}const d={credit_card_token:{token:this.getPaymentToken(null==s?void 0:s.paymentIntent,r,a)},vault_payment_instrument:i,confirm:o},l=this.buildPaymentPayload(t,d,n);try{return yield this.paymentIntegrationService.submitPayment(l)}catch(e){throw this.handleEmptyPaymentIntentError(e,null==s?void 0:s.error)}}throw e})}getPaymentToken(e,t,i){return!e||i?t:e.id}shouldShowTSVHostedForm(e,t){return this.isHostedFieldAvailable()&&this.isHostedPaymentFormEnabled(e,t)}unmountElement(){this.stripeElement&&(this.stripeElement.unmount(),this.stripeElement=void 0)}}class M extends c{constructor(e){super(e||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}class T{constructor(e,t=window){this.scriptLoader=e,this.stripeWindow=t}load(e,t,i){return this.scriptLoader.loadScript(\"https://js.stripe.com/v3/\").then(()=>{if(!this.stripeWindow.Stripe)throw new M;return this.stripeWindow.Stripe(e,{stripeAccount:t,locale:i,betas:[\"payment_intent_beta_3\",\"alipay_pm_beta_1\"],apiVersion:\"2020-03-02;alipay_beta=v1\"})})}}const N=l(t=>new O(t,new T((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)())),[{gateway:\"stripev3\"}]);var k,D,z,R,U,L,x,j,B=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})};class F{constructor(e,t=window){this.scriptLoader=e,this.stripeWindow=t}getStripeClient(e,t,i){return B(this,void 0,void 0,function*(){if(this.stripeWindow.bcStripeClient)return this.stripeWindow.bcStripeClient;const n=yield this.load(),{stripePublishableKey:r,stripeConnectedAccount:o}=e,s=n(r,Object.assign(Object.assign(Object.assign({},o?{stripeAccount:o}:{}),t?{betas:t}:{}),i?{apiVersion:i}:{}));return Object.assign(this.stripeWindow,{bcStripeClient:s}),s})}getElements(e,t){return B(this,void 0,void 0,function*(){let i=this.stripeWindow.bcStripeElements;return i?yield this.updateStripeElements(t):(i=e.elements(t),Object.assign(this.stripeWindow,{bcStripeElements:i})),i})}updateStripeElements(e){return B(this,void 0,void 0,function*(){const t=this.stripeWindow.bcStripeElements;t&&(t.update(e),yield t.fetchUpdates())})}load(){return B(this,void 0,void 0,function*(){if(!this.stripeWindow.Stripe&&(yield this.scriptLoader.loadScript(\"https://js.stripe.com/v3/\"),!this.stripeWindow.Stripe))throw new M;return this.stripeWindow.Stripe})}}class V extends c{constructor(e){super(e||\"Unable to proceed because the client library of a payment method has thrown an unexpected error.\"),this.name=\"PaymentMethodFailedError\",this.type=\"payment_method_client_invalid\"}}!function(e){e.SHIPPING=\"shipping\",e.BILLING=\"billing\"}(k||(k={})),function(e){e.SPLIT=\"split\",e.FULL=\"full\",e.ORGANIZATION=\"organization\"}(D||(D={})),function(e){e.CreditCard=\"card\",e.Link=\"link\",e.EPS=\"eps\",e.GRABPAY=\"grabpay\",e.BANCONTACT=\"bancontact\",e.IDEAL=\"ideal\",e.ALIPAY=\"alipay\",e.KLARNA=\"klarna\",e.OCS=\"optimized_checkout\"}(z||(z={})),function(e){e.NEVER=\"never\",e.AUTO=\"auto\",e.ALWAYS=\"always\",e.PAYMENT=\"payment\",e.IF_REQUIRED=\"if_required\"}(R||(R={})),function(e){e.PAYMENT=\"payment\",e.AUTHENTICATION=\"linkAuthentication\",e.SHIPPING=\"address\",e.EXPRESS_CHECKOUT=\"expressCheckout\"}(U||(U={})),function(e){e.REQUIRES_PAYMENT_METHOD=\"requires_payment_method\",e.REQUIRES_CONFIRMATION=\"requires_confirmation\",e.REQUIRES_ACTION=\"requires_action\",e.PROCESSING=\"processing\",e.SUCCEEDED=\"succeeded\",e.CANCELED=\"canceled\"}(L||(L={})),function(e){e.CLICK=\"click\",e.CHANGE=\"change\",e.READY=\"ready\",e.SHIPPING_ADDRESS_CHANGE=\"shippingaddresschange\",e.SHIPPING_RATE_CHANGE=\"shippingratechange\",e.CONFIRM=\"confirm\",e.CANCEL=\"cancel\",e.LOADER_START=\"loaderstart\"}(x||(x={})),function(e){e.ON_SESSION=\"on_session\",e.OFF_SESSION=\"off_session\"}(j||(j={}));var G=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})};class H{constructor(e,t){this.paymentIntegrationService=e,this.scriptLoader=t,this.isMounted=!1}deinitialize(){var e;null===(e=this.checkoutEventsUnsubscribe)||void 0===e||e.call(this),this.isMounted=!1}initCheckoutEventsSubscription(e,t,i,n){this.checkoutEventsUnsubscribe=this.paymentIntegrationService.subscribe(()=>G(this,void 0,void 0,function*(){var r;const o=null==n?void 0:n.getElement(U.PAYMENT);if(o){try{yield this.updateStripePaymentIntent(e,t)}catch(e){return this.isMounted&&(o.unmount(),this.isMounted=!1),void(e instanceof Error&&(null===(r=i.onError)||void 0===r||r.call(i,e)))}this.isMounted||(yield null==n?void 0:n.fetchUpdates(),this.mountElement(o,i.containerId))}}),e=>{var t;return null===(t=e.getCheckout())||void 0===t?void 0:t.outstandingBalance},e=>{var t;return null===(t=e.getCheckout())||void 0===t?void 0:t.coupons})}mountElement(e,t){document.getElementById(t)&&(e.mount(`#${t}`),this.isMounted=!0)}mapAppearanceVariables(e){return{colorPrimary:e.fieldInnerShadow,colorBackground:e.fieldBackground,colorText:e.labelText,colorDanger:e.fieldErrorText,colorTextSecondary:e.labelText,colorTextPlaceholder:e.fieldPlaceholderText,colorIcon:e.fieldPlaceholderText}}mapInputAppearanceRules(e){return{borderColor:e.fieldBorder,color:e.fieldText,boxShadow:e.fieldInnerShadow}}throwStripeError(e){if(\"object\"==typeof(t=e)&&null!==t&&\"type\"in t&&(this.throwDisplayableStripeError(e),this.isCancellationError(e)))throw new f;var t;throw new V}throwDisplayableStripeError(e){if((0,lodash__WEBPACK_IMPORTED_MODULE_1__.includes)([\"card_error\",\"invalid_request_error\",\"validation_error\"],e.type))throw new Error(e.message)}isCancellationError(e){var t;const i=null===(t=null==e?void 0:e.payment_intent.last_payment_error)||void 0===t?void 0:t.message;return!!i&&-1!==i.indexOf(\"canceled\")}throwPaymentConfirmationProceedMessage(){throw new V(\"We've received your order and are processing your payment. Once the payment is verified, your order will be completed. We will send you an email when it's completed. Please note, this process may take a few minutes depending on the processing times of your chosen method.\")}isPaymentCompleted(e,t){return G(this,void 0,void 0,function*(){const i=this.paymentIntegrationService.getState(),n=i.getPaymentMethodOrThrow(e),{features:r}=i.getStoreConfigOrThrow().checkoutSettings;if(!n.clientToken||!t||!r[\"PI-626.Block_unnecessary_payment_confirmation_for_StripeUPE\"])return!1;const{paymentIntent:o}=yield t.retrievePaymentIntent(n.clientToken);return(null==o?void 0:o.status)===L.SUCCEEDED})}mapStripePaymentData(e,t,i=!1){const n=this.paymentIntegrationService.getState().getBillingAddress(),{firstName:r=\"\",lastName:o=\"\",email:d=\"\"}=n||{},l=this._mapStripeAddress(n);if(!e)throw new v(a.PaymentNotInitialized);if(!(d&&l&&l.city&&l.country&&r&&o))throw new y(s.MissingBillingAddress);return{elements:e,redirect:R.IF_REQUIRED,confirmParams:Object.assign({payment_method_data:Object.assign(Object.assign({},i?{allow_redisplay:\"always\"}:{}),{billing_details:{email:d,address:l,name:`${r} ${o}`}})},t&&{return_url:t})}}isAdditionalActionError(e){return (0,lodash__WEBPACK_IMPORTED_MODULE_1__.some)(e,{code:\"additional_action_required\"})}isRedirectAction(e){const{type:t,data:{redirect_url:i}}=e;return\"redirect_to_url\"===t&&!!i}isOnPageAdditionalAction(e){const{type:t,data:{token:i}}=e;return\"additional_action_requires_payment_method\"===t&&!!i}updateStripePaymentIntent(e,t){return G(this,void 0,void 0,function*(){const i=yield this.paymentIntegrationService.loadPaymentMethod(e,{params:{method:t}}),{clientToken:n}=i.getPaymentMethodOrThrow(t);if(!n)throw new y(s.MissingPaymentMethod);this.scriptLoader.updateStripeElements({clientSecret:n})})}_mapStripeAddress(e){if(e){const{city:t,address1:i,address2:n,countryCode:r,postalCode:o,stateOrProvinceCode:s}=e;return Object.assign({city:t,country:r,postal_code:o,line1:i,line2:n},s?{state:s}:{})}throw new y(s.MissingBillingAddress)}}const W={body:{},headers:{},status:0};class Y extends c{constructor(e,{message:t,errors:i}={}){const{body:n,headers:r,status:o}=e||W;super(t||\"An unexpected error has occurred.\"),this.name=\"RequestError\",this.type=\"request\",this.body=n,this.headers=r,this.status=o,this.errors=i||[]}}function q(e){return\"object\"==typeof e&&null!==e&&\"initializationData\"in e&&void 0!==e.initializationData&&null!==e.initializationData&&\"object\"==typeof e.initializationData&&\"stripePublishableKey\"in e.initializationData&&\"stripeConnectedAccount\"in e.initializationData&&\"shopperLanguage\"in e.initializationData&&void 0!==e.initializationData.stripePublishableKey&&void 0!==e.initializationData.stripeConnectedAccount&&void 0!==e.initializationData.shopperLanguage}const K={ar:[\"ar\"],bg:[\"bg\"],cs:[\"cs\"],da:[\"da\"],de:[\"de\"],el:[\"el\"],en:[\"en\",\"en-GB\"],es:[\"es\",\"es-419\"],et:[\"et\"],fi:[\"fi\"],fil:[\"fil\"],fr:[\"fr\",\"fr-CA\"],he:[\"he\"],hr:[\"hr\"],hu:[\"hu\"],id:[\"id\"],it:[\"it\"],ja:[\"ja\"],ko:[\"ko\"],lt:[\"lt\"],lv:[\"lv\"],ms:[\"ms\"],mt:[\"mt\"],nb:[\"nb\"],nl:[\"nl\"],pl:[\"pl\"],pt:[\"pt\",\"pt-BR\"],ro:[\"ro\"],ru:[\"ru\"],sk:[\"sk\"],sl:[\"sl\"],sv:[\"sv\"],th:[\"th\"],tr:[\"tr\"],vi:[\"vi\"],zh:[\"zh\",\"zh-HK\",\"zh-TW\"]};function $(e){const[t,i]=e.replace(/_/g,\"-\").toLowerCase().split(\"-\"),n=K[t];if(!n)return\"auto\";const r=i?`${t}-${i.toUpperCase()}`:t;return n.indexOf(r)>-1?r:n[0]}const J=[\"payment_element_beta_2\",\"alipay_pm_beta_1\",\"link_default_integration_beta_1\",\"shipping_address_element_beta_1\",\"address_element_beta_1\"],Z=\"2020-03-02;alipay_beta=v1;link_beta=v1\";function Q(e){return\"stripeLinkAuthenticationState\"in e}var X=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})};class ee{constructor(e,t,i){this.paymentIntegrationService=e,this.scriptLoader=t,this.stripeIntegrationService=i}initialize(e){return X(this,void 0,void 0,function*(){const{stripeupe:t,methodId:i,gatewayId:n}=e;if(!(null==t?void 0:t.containerId))throw new v(a.PaymentNotInitialized);if(!n)throw new u('Unable to initialize payment because \"gatewayId\" argument is not provided.');return this._loadStripeElement(t,n,i).catch(e=>{var i;return null===(i=t.onError)||void 0===i?void 0:i.call(t,e)}),this.stripeIntegrationService.initCheckoutEventsSubscription(n,i,t,this._stripeElements),Promise.resolve()})}execute(e,t){return X(this,void 0,void 0,function*(){const{payment:i}=e,n=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]);if(!i||!i.paymentData)throw new h([\"payment.paymentData\"]);if(!this._stripeUPEClient)throw new v(a.PaymentNotInitialized);const{paymentData:r,methodId:o,gatewayId:s}=i,{shouldSaveInstrument:d=!1,shouldSetAsDefaultInstrument:l=!1}=p(r)?r:{},c=this.paymentIntegrationService.getState(),{isStoreCreditApplied:u}=c.getCheckoutOrThrow(),y=c.getPaymentProviderCustomerOrThrow(),g=(Q(y)?y:{}).stripeLinkAuthenticationState;if(u&&(yield this.paymentIntegrationService.applyStoreCredit(u)),s){yield this.stripeIntegrationService.updateStripePaymentIntent(s,o);const{email:e}=c.getCustomerOrThrow();if(void 0!==g&&!e){const e=c.getBillingAddressOrThrow();yield this.paymentIntegrationService.updateBillingAddress(e)}}if(yield this.paymentIntegrationService.submitOrder(n,t),m(r)){const{instrumentId:e}=r;return void(yield this._executeWithVaulted(i.methodId,e,l))}yield this._executeWithStripeConfirmation(i.methodId,!g&&d,l)})}finalize(){return Promise.reject(new g)}deinitialize(){var e,t;return null===(t=null===(e=this._stripeElements)||void 0===e?void 0:e.getElement(U.PAYMENT))||void 0===t||t.unmount(),this.stripeIntegrationService.deinitialize(),this._stripeElements=void 0,this._stripeUPEClient=void 0,Promise.resolve()}_executeWithStripeConfirmation(e,t,i){return X(this,void 0,void 0,function*(){const n=this.paymentIntegrationService.getState(),{clientToken:r}=n.getPaymentMethodOrThrow(e),o=this._getPaymentPayload(e,r||\"\",t,i);try{yield this.paymentIntegrationService.submitPayment(o)}catch(n){yield this._processAdditionalActionWithStripeConfirmation(n,e,t,i)}})}_executeWithVaulted(e,t,i){var n;return X(this,void 0,void 0,function*(){const r=this.paymentIntegrationService.getState(),o=r.getPaymentMethodOrThrow(e),s=null===(n=r.getCart())||void 0===n?void 0:n.id;try{const n={methodId:e,paymentData:{formattedPayload:{cart_id:s,bigpay_token:{token:t},confirm:!1,client_token:o.clientToken,set_as_default_stored_instrument:i}}};return yield this.paymentIntegrationService.submitPayment(n)}catch(t){return this._processVaultedAdditionalAction(t,e,i)}})}_loadStripeElement(e,t,i){return X(this,void 0,void 0,function*(){const{containerId:n,style:r,render:o,initStripeElementUpdateTrigger:a}=e,d=yield this.paymentIntegrationService.loadPaymentMethod(t,{params:{method:i}}),l=d.getPaymentMethodOrThrow(i),{checkoutSettings:c}=d.getStoreConfigOrThrow();if(!q(l))throw new y(s.MissingPaymentMethod);const{clientToken:u,initializationData:h}=l,{shopperLanguage:p,allowRedisplayForStoredInstruments:m=!1}=h;if(this._allowRedisplayForStoredInstruments=m,!u)throw new y(s.MissingPaymentMethod);let g;if(this._stripeUPEClient=yield this._loadStripeJs(h),this._isStripeElementUpdateEnabled=!!c.features[\"PI-1679.trigger_update_stripe_payment_element\"]&&\"function\"==typeof a,r){const e=r;g={variables:this.stripeIntegrationService.mapAppearanceVariables(r),rules:{\".Input\":this.stripeIntegrationService.mapInputAppearanceRules(e)}}}this._stripeElements=yield this.scriptLoader.getElements(this._stripeUPEClient,{clientSecret:u,locale:$(p),appearance:g});const{getBillingAddress:v,getShippingAddress:S}=d,{postalCode:f}=S()||v()||{},_=this._stripeElements.getElement(U.PAYMENT)||this._stripeElements.create(U.PAYMENT,Object.assign({fields:{billingDetails:{email:R.NEVER,address:{country:R.NEVER,city:R.NEVER,postalCode:f?R.NEVER:R.AUTO}}},wallets:{applePay:R.NEVER,googlePay:R.NEVER}},this._getStripeElementTerms()));this.stripeIntegrationService.mountElement(_,n),_.on(x.READY,()=>{o()}),_.on(x.CHANGE,e=>{(null==e?void 0:e.value)&&\"type\"in e.value&&this._updateStripeLinkStateByElementType(e.value.type)}),this._isStripeElementUpdateEnabled&&(null==a||a(this._updateStripeElement.bind(this)))})}_processAdditionalActionWithStripeConfirmation(e,t,i=!1,n=!1){return X(this,void 0,void 0,function*(){if(!S(e)||!this.stripeIntegrationService.isAdditionalActionError(e.body.errors))throw e;if(!this._stripeUPEClient||!this._stripeElements)throw new v(a.PaymentNotInitialized);const{data:r}=e.body.additional_action_required,{token:o}=r,{paymentIntent:s}=yield this._confirmStripePaymentOrThrow(t,r),d=this._getPaymentPayload(t,(null==s?void 0:s.id)||o,i,n);try{yield this.paymentIntegrationService.submitPayment(d)}catch(e){this.stripeIntegrationService.throwPaymentConfirmationProceedMessage()}})}_confirmStripePaymentOrThrow(e,t){var i,n;return X(this,void 0,void 0,function*(){const{token:r,redirect_url:o}=t,s=this.stripeIntegrationService.mapStripePaymentData(this._stripeElements,o,!!this._allowRedisplayForStoredInstruments);let a;try{const t=(yield this.stripeIntegrationService.isPaymentCompleted(e,this._stripeUPEClient))?yield null===(n=this._stripeUPEClient)||void 0===n?void 0:n.retrievePaymentIntent(r||\"\"):yield null===(i=this._stripeUPEClient)||void 0===i?void 0:i.confirmPayment(s);if(a=null==t?void 0:t.error,a||!(null==t?void 0:t.paymentIntent))throw new V;return t}catch(e){this.stripeIntegrationService.throwStripeError(a)}})}_processVaultedAdditionalAction(e,t,i=!1){var n;return X(this,void 0,void 0,function*(){if(!t||!S(e)||!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.some)(e.body.errors,{code:\"three_d_secure_required\"}))throw e;if(!this._stripeUPEClient||!this._stripeElements)throw new v(a.PaymentNotInitialized);const r=e.body.three_ds_result.token;let s,d=!1;try{s=yield this._stripeUPEClient.confirmCardPayment(r)}catch(e){try{s=yield this._stripeUPEClient.retrievePaymentIntent(r)}catch(e){d=!0}}if((null==s?void 0:s.error)&&this.stripeIntegrationService.throwStripeError(s.error),!(null==s?void 0:s.paymentIntent)&&!d)throw new Y;const l=this._getPaymentPayload(t,d?r:null===(n=null==s?void 0:s.paymentIntent)||void 0===n?void 0:n.id,!1,i);return this.paymentIntegrationService.submitPayment(l)})}_loadStripeJs(e){return X(this,void 0,void 0,function*(){return this._stripeUPEClient?this._stripeUPEClient:this.scriptLoader.getStripeClient(e,J,Z)})}_getPaymentPayload(e,t,i=!1,n=!1){var r;return{methodId:e,paymentData:{formattedPayload:{cart_id:(null===(r=this.paymentIntegrationService.getState().getCart())||void 0===r?void 0:r.id)||\"\",credit_card_token:{token:t},confirm:!1,vault_payment_instrument:i,set_as_default_stored_instrument:n}}}}_updateStripeElement({shouldShowTerms:e}){var t;const i=null===(t=this._stripeElements)||void 0===t?void 0:t.getElement(U.PAYMENT);null==i||i.update(Object.assign({},this._getStripeElementTerms(e)))}_getStripeElementTerms(e){let t=R.AUTO;return this._isStripeElementUpdateEnabled&&(t=e?R.AUTO:R.NEVER),{terms:{card:t}}}_updateStripeLinkStateByElementType(e){const t=this.paymentIntegrationService.getState().getPaymentProviderCustomerOrThrow(),i=e===z.Link;!Q(t)&&i&&this.paymentIntegrationService.updatePaymentProviderCustomer({stripeLinkAuthenticationState:i})}}const te=l(t=>{const i=new F((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)());return new ee(t,i,new H(t,i))},[{gateway:\"stripeupe\"},{gateway:\"stripeupe\",id:\"klarna\"}]);var ie=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})};class ne{constructor(e,t,i){this.paymentIntegrationService=e,this.scriptLoader=t,this.stripeIntegrationService=i}initialize(e){var t;return ie(this,void 0,void 0,function*(){const{stripeocs:i,methodId:n,gatewayId:r}=e;if(!(null==i?void 0:i.containerId))throw new v(a.PaymentNotInitialized);if(!r)throw new u('Unable to initialize payment because \"gatewayId\" argument is not provided.');try{yield this._initializeStripeElement(i,r,n)}catch(e){e instanceof Error&&(null===(t=i.onError)||void 0===t||t.call(i,e))}this.stripeIntegrationService.initCheckoutEventsSubscription(r,n,i,this.stripeElements)})}execute(e,t){return ie(this,void 0,void 0,function*(){const{payment:i}=e,n=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,[\"payment\"]),{methodId:r,gatewayId:o}=i||{};if(!this.stripeClient)throw new v(a.PaymentNotInitialized);if(!o||!r)throw new u('Unable to initialize payment because \"gatewayId\" or \"methodId\" argument is not provided.');const s=this.paymentIntegrationService.getState(),{isStoreCreditApplied:d}=s.getCheckoutOrThrow();d&&(yield this.paymentIntegrationService.applyStoreCredit(d)),yield this.stripeIntegrationService.updateStripePaymentIntent(o,r),yield this.paymentIntegrationService.submitOrder(n,t);const{clientToken:l}=s.getPaymentMethodOrThrow(r),c=this._getPaymentPayload(r,l||\"\");try{yield this.paymentIntegrationService.submitPayment(c)}catch(e){yield this._processAdditionalAction(e,r)}})}finalize(){return Promise.reject(new g)}deinitialize(){var e;const t=null===(e=this.stripeElements)||void 0===e?void 0:e.getElement(U.PAYMENT);return null==t||t.unmount(),null==t||t.destroy(),this.stripeIntegrationService.deinitialize(),this.stripeElements=void 0,this.stripeClient=void 0,Promise.resolve()}_initializeStripeElement(e,t,i){return ie(this,void 0,void 0,function*(){let n=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(i);if((null==n?void 0:n.clientToken)||(n=(yield this.paymentIntegrationService.loadPaymentMethod(t,{params:{method:i}})).getPaymentMethodOrThrow(i)),!q(n))throw new y(s.MissingPaymentMethod);const{clientToken:r,initializationData:o}=n,{shopperLanguage:a,customerSessionToken:d,enableLink:l}=o;if(!r)throw new y(s.MissingPaymentMethod);this.stripeClient=yield this._loadStripeJs(o);const{appearance:c,containerId:u,fonts:h,layout:p,render:m,paymentMethodSelect:g,handleClosePaymentMethod:v,togglePreloader:S}=e;this.stripeElements=yield this.scriptLoader.getElements(this.stripeClient,{clientSecret:r,customerSessionClientSecret:d,locale:$(a),appearance:c,fonts:h});const{getBillingAddress:f,getShippingAddress:_}=this.paymentIntegrationService.getState(),I=f(),{postalCode:E}=_()||I||{},b=this.stripeElements.getElement(U.PAYMENT)||this.stripeElements.create(U.PAYMENT,{fields:{billingDetails:{email:R.NEVER,address:{country:R.NEVER,city:R.NEVER,postalCode:E?R.NEVER:R.AUTO}}},wallets:{applePay:R.NEVER,googlePay:R.NEVER,link:l?R.AUTO:R.NEVER},layout:p,savePaymentMethod:{maxVisiblePaymentMethods:20},defaultValues:{billingDetails:{email:(null==I?void 0:I.email)||\"\"}}});this.stripeIntegrationService.mountElement(b,u),b.on(x.LOADER_START,()=>{null==S||S(!1)}),b.on(x.READY,()=>{m()}),b.on(x.CHANGE,e=>{this._onStripeElementChange(e,t,i,g)}),null==v||v(this._collapseStripeElement.bind(this))})}_loadStripeJs(e){return ie(this,void 0,void 0,function*(){return this.stripeClient?this.stripeClient:this.scriptLoader.getStripeClient(e)})}_collapseStripeElement(){var e;const t=null===(e=this.stripeElements)||void 0===e?void 0:e.getElement(U.PAYMENT);null==t||t.collapse()}_getPaymentPayload(e,t,i){var n;const r=(null===(n=this.paymentIntegrationService.getState().getCart())||void 0===n?void 0:n.id)||\"\",{card:o,us_bank_account:s}=i||{},a=this._shouldSaveInstrument(o)||this._shouldSaveInstrument(s),d=this._getTokenizedOptions(t,i);return{methodId:e,paymentData:{formattedPayload:Object.assign({cart_id:r,confirm:!1,method:this.selectedMethodId,vault_payment_instrument:a},d)}}}_processAdditionalAction(e,t){return ie(this,void 0,void 0,function*(){if(!S(e)||!this.stripeIntegrationService.isAdditionalActionError(e.body.errors))throw e;if(!this.stripeClient||!this.stripeElements)throw new v(a.PaymentNotInitialized);const{data:i}=e.body.additional_action_required,{token:n}=i,{paymentIntent:r}=yield this._confirmStripePaymentOrThrow(t,i),{client_secret:o,payment_method_options:s}=r||{},d=this._getPaymentPayload(t,o||n,s);try{return yield this.paymentIntegrationService.submitPayment(d)}catch(e){this.stripeIntegrationService.throwPaymentConfirmationProceedMessage()}})}_confirmStripePaymentOrThrow(e,t){var i,n;return ie(this,void 0,void 0,function*(){const{token:r,redirect_url:o}=t,s=this.stripeIntegrationService.mapStripePaymentData(this.stripeElements,o);let a;try{const t=(yield this.stripeIntegrationService.isPaymentCompleted(e,this.stripeClient))?yield null===(n=this.stripeClient)||void 0===n?void 0:n.retrievePaymentIntent(r||\"\"):yield null===(i=this.stripeClient)||void 0===i?void 0:i.confirmPayment(s);if(a=null==t?void 0:t.error,a||!(null==t?void 0:t.paymentIntent))throw new V;return t}catch(e){return this.stripeIntegrationService.throwStripeError(a)}})}_onStripeElementChange(e,t,i,n){(e=>\"object\"==typeof e&&null!==e&&\"value\"in e&&\"collapsed\"in e)(e)&&!e.collapsed&&(this.selectedMethodId=e.value.type,null==n||n(`${t}-${i}`))}_shouldSaveInstrument(e){const t=null==e?void 0:e.setup_future_usage;return t===j.ON_SESSION||t===j.OFF_SESSION}_getTokenizedOptions(e,t){return this._shouldSaveInstrument(null==t?void 0:t.us_bank_account)?{tokenized_ach:{token:e}}:{credit_card_token:{token:e}}}}const re=l(t=>{const i=new F((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)());return new ne(t,i,new H(t,i))},[{gateway:\"stripeocs\",id:\"optimized_checkout\"}]);class oe{constructor(e,t){this.paymentIntegrationService=e,this.scriptLoader=t}initialize(e){var t,i,n,r,o;return i=this,n=void 0,o=function*(){let i;if(!e.stripeupe)throw new u('Unable to proceed because \"options\" argument is not provided.');const{container:n,gatewayId:r,methodId:o,onEmailChange:a,getStyles:d,isLoading:l}=e.stripeupe;Object.entries(e.stripeupe).forEach(([e,t])=>{if(!t)throw new u(`Unable to proceed because \"${e}\" argument is not provided.`)}),yield this.paymentIntegrationService.loadPaymentMethod(r,{params:{method:o}});const c=this.paymentIntegrationService.getState(),h=c.getPaymentMethodOrThrow(o,r),{clientToken:p}=h;if(!q(h)||!p)throw new y(s.MissingPaymentToken);const{email:m}=c.getCustomerOrThrow(),g=c.getPaymentProviderCustomerOrThrow(),v=(Q(g)?g:{}).stripeLinkAuthenticationState;if(!m){let e;const r=\"function\"==typeof d&&d();e=r?{variables:{colorPrimary:r.fieldInnerShadow,colorBackground:r.fieldBackground,colorText:r.labelText,colorDanger:r.fieldErrorText,colorTextSecondary:r.labelText,colorTextPlaceholder:r.fieldPlaceholderText},rules:{\".Input\":{borderColor:r.fieldBorder,color:r.fieldText,boxShadow:r.fieldInnerShadow}}}:{},i=yield this.scriptLoader.getStripeClient(h.initializationData,J,Z),this._stripeElements=yield this.scriptLoader.getElements(i,{clientSecret:p,appearance:e});const{getBillingAddress:o,getConsignments:c}=this.paymentIntegrationService.getState(),u=c(),m=null===(t=null==u?void 0:u[0])||void 0===t?void 0:t.id,{email:g}=o()||{},S=g?{defaultValues:{mode:k.SHIPPING,email:g}}:{},f=this._stripeElements.getElement(U.AUTHENTICATION)||this._stripeElements.create(U.AUTHENTICATION,S);f.on(x.CHANGE,e=>{if(!(\"authenticated\"in e))throw new y(s.MissingCustomer);this.paymentIntegrationService.updatePaymentProviderCustomer({stripeLinkAuthenticationState:e.authenticated}),e.complete?a(e.authenticated,e.value.email):a(!1,\"\"),l&&l(!1),void 0===v&&e.authenticated&&m&&this.paymentIntegrationService.deleteConsignment(m)}),f.mount(`#${n}`)}},new((r=void 0)||(r=Promise))(function(e,t){function s(e){try{d(o.next(e))}catch(e){t(e)}}function a(e){try{d(o.throw(e))}catch(e){t(e)}}function d(t){var i;t.done?e(t.value):(i=t.value,i instanceof r?i:new r(function(e){e(i)})).then(s,a)}d((o=o.apply(i,n||[])).next())})}deinitialize(){var e,t;return null===(t=null===(e=this._stripeElements)||void 0===e?void 0:e.getElement(U.AUTHENTICATION))||void 0===t||t.unmount(),Promise.resolve()}signIn(e,t){return this.paymentIntegrationService.signInCustomer(e,t),Promise.resolve()}signOut(e){return this.paymentIntegrationService.signOutCustomer(e),Promise.resolve()}executePaymentMethodCheckout(e){var t;return null===(t=null==e?void 0:e.continueWithCheckoutCallback)||void 0===t||t.call(e),Promise.resolve()}}const se=l(t=>new oe(t,new F((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)())),[{id:\"stripeupe\"}]),ae={size:70,color:\"#d9d9d9\",backgroundColor:\"#ffffff\"},de={position:\"fixed\",\"background-color\":\"rgba(0, 0, 0, 0.4)\",\"z-index\":\"1000\"},le=\"embedded-checkout-loading-indicator-rotation\";class ce{constructor(e){this.styles=Object.assign(Object.assign({},ae),e&&e.styles),this.containerStyles=Object.assign({},e&&e.containerStyles),this.defineAnimation(),this.container=this.buildContainer(),this.indicator=this.buildIndicator(),this.container.appendChild(this.indicator)}show(e){if(e){const t=document.getElementById(e);if(!t)throw new Error(\"Unable to attach the loading indicator because the parent ID is not valid.\");t.appendChild(this.container)}this.container.style.visibility=\"visible\",this.container.style.opacity=\"1\"}hide(){const e=()=>{this.container.style.visibility=\"hidden\",this.container.removeEventListener(\"transitionend\",e)};this.container.addEventListener(\"transitionend\",e),this.container.style.opacity=\"0\"}buildContainer(){const e=document.createElement(\"div\");return e.style.display=\"block\",e.style.bottom=\"0\",e.style.left=\"0\",e.style.height=\"100%\",e.style.width=\"100%\",e.style.position=\"absolute\",e.style.right=\"0\",e.style.top=\"0\",e.style.transition=\"all 250ms ease-out\",e.style.opacity=\"0\",this.setStyleAttribute(e,this.containerStyles),e}buildIndicator(){const e=document.createElement(\"div\");return e.style.display=\"block\",e.style.width=`${this.styles.size}px`,e.style.height=`${this.styles.size}px`,e.style.borderRadius=`${this.styles.size}px`,e.style.border=\"solid 1px\",e.style.borderColor=`${this.styles.backgroundColor} ${this.styles.backgroundColor} ${this.styles.color} ${this.styles.color}`,e.style.margin=\"0 auto\",e.style.position=\"absolute\",e.style.left=\"0\",e.style.right=\"0\",e.style.top=\"50%\",e.style.transform=\"translateY(-50%) rotate(0deg)\",e.style.transformStyle=\"preserve-3d\",e.style.animation=`${le} 500ms infinite cubic-bezier(0.69, 0.31, 0.56, 0.83)`,e}setStyleAttribute(e,t){Object.keys(t).forEach(i=>{e.style.setProperty(i,t[i])})}defineAnimation(){var e;if(document.getElementById(le))return;const t=document.createElement(\"style\");t.id=le,null===(e=document.head)||void 0===e||e.appendChild(t),t.sheet instanceof CSSStyleSheet&&t.sheet.insertRule(`\\n                @keyframes ${le} {\\n                    0% { transform: translateY(-50%) rotate(0deg); }\\n                    100% { transform: translateY(-50%) rotate(360deg); }\\n                }\\n            `,0)}}class ue{constructor(e){this._decimalPlaces=e}toInteger(e){return Math.round(e*Math.pow(10,this._decimalPlaces))}}const he=[\"AC\",\"AD\",\"AE\",\"AF\",\"AG\",\"AI\",\"AL\",\"AM\",\"AO\",\"AQ\",\"AR\",\"AT\",\"AU\",\"AW\",\"AX\",\"AZ\",\"BA\",\"BB\",\"BD\",\"BE\",\"BF\",\"BG\",\"BH\",\"BI\",\"BJ\",\"BL\",\"BM\",\"BN\",\"BO\",\"BQ\",\"BR\",\"BS\",\"BT\",\"BV\",\"BW\",\"BY\",\"BZ\",\"CA\",\"CD\",\"CF\",\"CG\",\"CH\",\"CI\",\"CK\",\"CL\",\"CM\",\"CN\",\"CO\",\"CR\",\"CV\",\"CW\",\"CY\",\"CZ\",\"DE\",\"DJ\",\"DK\",\"DM\",\"DO\",\"DZ\",\"EC\",\"EE\",\"EG\",\"EH\",\"ER\",\"ES\",\"ET\",\"FI\",\"FJ\",\"FK\",\"FO\",\"FR\",\"GA\",\"GB\",\"GD\",\"GE\",\"GF\",\"GG\",\"GH\",\"GI\",\"GL\",\"GM\",\"GN\",\"GP\",\"GQ\",\"GR\",\"GS\",\"GT\",\"GU\",\"GW\",\"GY\",\"HK\",\"HN\",\"HR\",\"HT\",\"HU\",\"ID\",\"IE\",\"IL\",\"IM\",\"IN\",\"IO\",\"IQ\",\"IS\",\"IT\",\"JE\",\"JM\",\"JO\",\"JP\",\"KE\",\"KG\",\"KH\",\"KI\",\"KM\",\"KN\",\"KR\",\"KW\",\"KY\",\"KZ\",\"LA\",\"LB\",\"LC\",\"LI\",\"LK\",\"LR\",\"LS\",\"LT\",\"LU\",\"LV\",\"LY\",\"MA\",\"MC\",\"MD\",\"ME\",\"MF\",\"MG\",\"MK\",\"ML\",\"MM\",\"MN\",\"MO\",\"MQ\",\"MR\",\"MS\",\"MT\",\"MU\",\"MV\",\"MW\",\"MX\",\"MY\",\"MZ\",\"NA\",\"NC\",\"NE\",\"NG\",\"NI\",\"NL\",\"NO\",\"NP\",\"NR\",\"NU\",\"NZ\",\"OM\",\"PA\",\"PE\",\"PF\",\"PG\",\"PH\",\"PK\",\"PL\",\"PM\",\"PN\",\"PR\",\"PS\",\"PT\",\"PY\",\"QA\",\"RE\",\"RO\",\"RS\",\"RU\",\"RW\",\"SA\",\"SB\",\"SC\",\"SD\",\"SE\",\"SG\",\"SH\",\"SI\",\"SJ\",\"SK\",\"SL\",\"SM\",\"SN\",\"SO\",\"SR\",\"SS\",\"ST\",\"SV\",\"SX\",\"SZ\",\"TA\",\"TC\",\"TD\",\"TF\",\"TG\",\"TH\",\"TJ\",\"TK\",\"TL\",\"TM\",\"TN\",\"TO\",\"TR\",\"TT\",\"TV\",\"TW\",\"TZ\",\"UA\",\"UG\",\"US\",\"UY\",\"UZ\",\"VA\",\"VC\",\"VE\",\"VG\",\"VN\",\"VU\",\"WF\",\"WS\",\"XK\",\"YE\",\"YT\",\"ZA\",\"ZM\",\"ZW\",\"ZZ\"];var pe=function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})};class me{constructor(e,t,i,n){this.paymentIntegrationService=e,this.scriptLoader=t,this.stripeIntegrationService=i,this.loadingIndicator=n}initialize(e){return pe(this,void 0,void 0,function*(){const{stripeocs:t}=e||{};if(!t)throw new u('Unable to proceed because \"options\" argument is not provided.');const{methodId:i,gatewayId:n,container:r}=t;if(!r||!i||!n)throw new v(a.PaymentNotInitialized);const o=(yield this.paymentIntegrationService.loadPaymentMethod(n,{params:{method:i}})).getPaymentMethodOrThrow(i,n),{loadingContainerId:d,buttonHeight:l,onComplete:c}=t;if(this._loadingIndicatorContainer=d,this._onComplete=c,!q(o))throw new y(s.MissingPaymentMethod);const{initializationData:h}=o,{captureMethod:p}=h;return this._captureMethod=p,this._stripeClient=yield this.scriptLoader.getStripeClient(h),yield this._mountExpressCheckoutElement(i,r,this._stripeClient,l),Promise.resolve()})}signIn(){return Promise.resolve()}signOut(){return Promise.resolve()}executePaymentMethodCheckout(){return Promise.resolve()}deinitialize(){return Promise.resolve()}_mountExpressCheckoutElement(e,t,i,n=40){return pe(this,void 0,void 0,function*(){const r=this._shouldRequireShippingAddress(),o=Object.assign(Object.assign(Object.assign({shippingAddressRequired:r},r?{allowedShippingCountries:yield this._getAvailableCountries()}:{}),r?{shippingRates:[{id:\"_\",amount:0,displayName:\"Pending rates\"}]}:{}),{billingAddressRequired:!0,emailRequired:!0,phoneNumberRequired:!0,paymentMethods:{link:R.AUTO,applePay:R.NEVER,googlePay:R.NEVER,amazonPay:R.NEVER,paypal:R.NEVER,klarna:R.NEVER},buttonHeight:n}),{cartAmount:s}=this.paymentIntegrationService.getState().getCartOrThrow(),a=Object.assign({mode:\"payment\",amount:this._toCents(s),currency:this._getCurrency()},this._captureMethod?{captureMethod:this._captureMethod}:{});this._stripeElements=i.elements(a),this._linkV2Element=this._stripeElements.create(U.EXPRESS_CHECKOUT,o),this._linkV2Element.mount(`#${t}`),this._initializeEvents(this._linkV2Element,e)})}_initializeEvents(e,t){this._shouldRequireShippingAddress()&&(e.on(x.SHIPPING_ADDRESS_CHANGE,e=>pe(this,void 0,void 0,function*(){return this._onShippingAddressChange(e)})),e.on(x.SHIPPING_RATE_CHANGE,e=>pe(this,void 0,void 0,function*(){return this._onShippingRateChange(e)}))),e.on(x.CONFIRM,e=>pe(this,void 0,void 0,function*(){return this._onConfirm(e,t)})),e.on(x.CANCEL,this._onCancel)}_onShippingAddressChange(e){return pe(this,void 0,void 0,function*(){if(\"address\"in e){const t=e.address,i={firstName:\"\",lastName:\"\",phone:\"\",company:\"\",address1:\"\",address2:\"\",city:(null==t?void 0:t.city)||\"\",countryCode:(null==t?void 0:t.country)||\"\",postalCode:(null==t?void 0:t.postal_code)||\"\",stateOrProvince:(null==t?void 0:t.state)||\"\",stateOrProvinceCode:\"\",customFields:[]};yield this.paymentIntegrationService.updateShippingAddress(i);const n=yield this._getAvailableShippingOptions();yield this._updateDisplayedPrice(),e.resolve({shippingRates:n})}})}_onCancel(){throw new f}_onShippingRateChange(e){return pe(this,void 0,void 0,function*(){if(\"shippingRate\"in e){const{shippingRate:t}=e;yield this._handleShippingOptionChange(null==t?void 0:t.id),yield this._updateDisplayedPrice(),e.resolve({})}})}_onConfirm(e,t){return pe(this,void 0,void 0,function*(){if(\"billingDetails\"in e&&\"shippingAddress\"in e&&this._stripeClient&&this._stripeElements){yield this._updateShippingAndBillingAddress(e),yield this.paymentIntegrationService.submitOrder();const i=this._getPaymentPayload(t);try{yield this.paymentIntegrationService.submitPayment(i)}catch(e){yield this._processAdditionalAction(e,t)}}return Promise.resolve()})}_updateShippingAndBillingAddress(e){var t,i,n,r,o,s,a,d;return pe(this,void 0,void 0,function*(){const l=this._shouldRequireShippingAddress(),c=(null===(i=null===(t=e.shippingAddress)||void 0===t?void 0:t.name)||void 0===i?void 0:i.split(\" \")[0])||(null===(r=null===(n=e.billingDetails)||void 0===n?void 0:n.name)||void 0===r?void 0:r.split(\" \")[0])||\"\",u=(null===(s=null===(o=e.shippingAddress)||void 0===o?void 0:o.name)||void 0===s?void 0:s.split(\" \")[1])||(null===(d=null===(a=e.billingDetails)||void 0===a?void 0:a.name)||void 0===d?void 0:d.split(\" \")[1])||\"\";if(l){const t=this._mapShippingAddress(e.shippingAddress,e.billingDetails,c,u);yield this.paymentIntegrationService.updateShippingAddress(t)}const h=this._mapBillingAddress(e.shippingAddress,e.billingDetails,c,u);yield this.paymentIntegrationService.updateBillingAddress(h)})}_mapShippingAddress(e,t,i,n){var r,o,s,a,d,l,c;return{firstName:i,lastName:n,phone:(null==t?void 0:t.phone)||\"\",company:\"\",address1:(null===(r=null==e?void 0:e.address)||void 0===r?void 0:r.line1)||\"\",address2:(null===(o=null==e?void 0:e.address)||void 0===o?void 0:o.line2)||\"\",city:(null===(s=null==e?void 0:e.address)||void 0===s?void 0:s.city)||\"\",countryCode:(null===(a=null==e?void 0:e.address)||void 0===a?void 0:a.country)||\"\",postalCode:(null===(d=null==e?void 0:e.address)||void 0===d?void 0:d.postal_code)||\"\",stateOrProvince:(null===(l=null==e?void 0:e.address)||void 0===l?void 0:l.state)||\"\",stateOrProvinceCode:(null===(c=null==e?void 0:e.address)||void 0===c?void 0:c.state)||\"\",customFields:[]}}_mapBillingAddress(e,t,i,n){var r,o,s,a,d,l;return{email:(null==t?void 0:t.email)||\"\",firstName:i,lastName:n,phone:(null==t?void 0:t.phone)||\"\",company:\"\",address1:(null===(r=null==t?void 0:t.address)||void 0===r?void 0:r.line1)||\"\",address2:\"\",city:(null===(o=null==t?void 0:t.address)||void 0===o?void 0:o.city)||\"\",countryCode:(null===(s=null==t?void 0:t.address)||void 0===s?void 0:s.country)||\"\",postalCode:(null===(a=null==t?void 0:t.address)||void 0===a?void 0:a.postal_code)||\"\",stateOrProvince:(null===(d=null==t?void 0:t.address)||void 0===d?void 0:d.state)||\"\",stateOrProvinceCode:(null===(l=null==e?void 0:e.address)||void 0===l?void 0:l.state)||\"\",customFields:[]}}_processAdditionalAction(e,t){return pe(this,void 0,void 0,function*(){if(!S(e)||!this.stripeIntegrationService.isAdditionalActionError(e.body.errors))throw e;if(!this._stripeClient||!this._stripeElements)throw new v(a.PaymentNotInitialized);const{data:i}=e.body.additional_action_required,{token:n}=i,{paymentIntent:r}=yield this._confirmStripePaymentOrThrow(i,t),o=this._getPaymentPayload(t,(null==r?void 0:r.id)||n);try{this._toggleLoadingIndicator(!0),yield this.paymentIntegrationService.submitPayment(o),yield this._completeCheckoutFlow()}catch(e){this.stripeIntegrationService.throwPaymentConfirmationProceedMessage()}finally{this._toggleLoadingIndicator(!1)}})}_confirmStripePaymentOrThrow(e,t){var i,n,r;return pe(this,void 0,void 0,function*(){const{token:o,redirect_url:s}=e,a=this.stripeIntegrationService.mapStripePaymentData(this._stripeElements,s);let d;try{const e=(yield this.stripeIntegrationService.isPaymentCompleted(t,this._stripeClient))?yield null===(r=this._stripeClient)||void 0===r?void 0:r.retrievePaymentIntent(o||\"\"):yield null===(i=this._stripeClient)||void 0===i?void 0:i.confirmPayment({elements:a.elements,clientSecret:o,redirect:R.IF_REQUIRED,confirmParams:{return_url:null===(n=a.confirmParams)||void 0===n?void 0:n.return_url}});if(d=null==e?void 0:e.error,d||!(null==e?void 0:e.paymentIntent))throw new V;return e}catch(e){return this.stripeIntegrationService.throwStripeError(d)}})}_completeCheckoutFlow(){return pe(this,void 0,void 0,function*(){return\"function\"==typeof this._onComplete?this._onComplete():(window.location.replace(\"/order-confirmation\"),Promise.resolve())})}_getPaymentPayload(e,t){var i;const n=(null===(i=this.paymentIntegrationService.getState().getCart())||void 0===i?void 0:i.id)||\"\";return{methodId:e,paymentData:{formattedPayload:Object.assign(Object.assign({cart_id:n},t?{credit_card_token:{token:t}}:{}),{confirm:!1,payment_method_id:z.Link})}}}_shouldRequireShippingAddress(){const{getCartOrThrow:e}=this.paymentIntegrationService.getState(),{lineItems:t}=e();return!!t.physicalItems.length}_updateDisplayedPrice(){return pe(this,void 0,void 0,function*(){this._stripeElements&&this._stripeElements.update({currency:this._getCurrency(),mode:\"payment\",amount:yield this._getTotalPrice()})})}_getCurrency(){if(!this._currencyCode){const{code:e}=this.paymentIntegrationService.getState().getCartOrThrow().currency;this._currencyCode=e.toLowerCase()}return this._currencyCode}_getTotalPrice(){return pe(this,void 0,void 0,function*(){yield this.paymentIntegrationService.loadCheckout();const{getCheckoutOrThrow:e,getCartOrThrow:t}=this.paymentIntegrationService.getState(),{decimalPlaces:i}=t().currency,n=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.round)(e().outstandingBalance,i).toFixed(i);return this._toCents(+n)})}_getAvailableCountries(){var e;return pe(this,void 0,void 0,function*(){const t=yield this.paymentIntegrationService.loadShippingCountries();return((null===(e=t.getShippingCountries())||void 0===e?void 0:e.map(e=>e.code))||[]).filter(e=>he.includes(e))})}_getAvailableShippingOptions(){var e,t;return pe(this,void 0,void 0,function*(){const i=this.paymentIntegrationService.getState().getConsignments();if(!(null==i?void 0:i[0]))return;const n=i[0],r=(n.availableShippingOptions||[]).map(this._getStripeShippingOption.bind(this)),o=null===(e=n.selectedShippingOption)||void 0===e?void 0:e.id;return o?r.sort(e=>e.id===o?-1:0):yield this._handleShippingOptionChange(null===(t=r[0])||void 0===t?void 0:t.id),r})}_getStripeShippingOption({id:e,cost:t,description:i}){return{id:e,displayName:i,amount:this._toCents(t)}}_handleShippingOptionChange(e){return pe(this,void 0,void 0,function*(){if(e&&\"shipping_option_unselected\"!==e)return this.paymentIntegrationService.selectShippingOption(e)})}_getAmountTransformer(){if(this._amountTransformer)return this._amountTransformer;const{getCart:e}=this.paymentIntegrationService.getState(),{currency:t}=e()||{};return t?new ue(t.decimalPlaces):void 0}_toCents(e){const t=Math.round(100*e),i=this._getAmountTransformer();return i?i.toInteger(e):t}_toggleLoadingIndicator(e){e&&this._loadingIndicatorContainer?this.loadingIndicator.show(this._loadingIndicatorContainer):this.loadingIndicator.hide()}}const ye=l(t=>{const i=new F((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)()),n=new ce({containerStyles:de});return new me(t,i,new H(t,i),n)},[{id:\"stripeocs\"}]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9zdHJpcGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDQSxJQ0NZQSxFQ0FBQyxFRkRSQyxFQUFzQixDQUFDLEVHQ1osU0FBU0MsRUFDcEJDLEVBQ0FDLEdBSUEsT0FGQUMsUUFBUUMsSUFBSSxhQUFjRixHQUVuQkcsT0FBT0MsT0FBT0wsRUFBUSxDQUFFQyxjQUNuQyxDQ1JBSCxFQUFvQlEsRUFBSSxDQUFDQyxFQUFTQyxLQUNqQyxJQUFJLElBQUlDLEtBQU9ELEVBQ1hWLEVBQW9CWSxFQUFFRixFQUFZQyxLQUFTWCxFQUFvQlksRUFBRUgsRUFBU0UsSUFDNUVMLE9BQU9PLGVBQWVKLEVBQVNFLEVBQUssQ0FBRUcsWUFBWSxFQUFNQyxJQUFLTCxFQUFXQyxNQ0ozRVgsRUFBb0JZLEVBQUksQ0FBQ0ksRUFBS0MsSUFBVVgsT0FBT1ksVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsR0NPbkUsTUFBZUksVUFBc0JDLE1BSWhELFdBQUFDLENBQVlDLEdDWEQsSUFBcUNOLEVEWTVDTyxNQUFNRCxHQUFXLHFDQUpyQixLQUFBRSxLQUFPLGdCQUNQLEtBQUFDLEtBQU8sV0NUeUNULGFEY1pBLFVDYmhDWixPQUFPc0IsZUFDUHRCLE9BQU9zQixlRFlRQyxLQ1plWCxHRFlmVyxLQ1ZSQyxVQUFZWixFRFlvQixtQkFBNUJJLE1BQU1TLGtCQUNiVCxNQUFNUyxrQkFBa0JGLGlCQUV4QkEsS0FBS0csTUFBUSxJQUFJVixNQUFNTyxLQUFLTCxTQUFTUSxLQUU3QyxFRWRXLE1BQU1DLFVBQTZCWixFQUM5QyxXQUFBRSxDQUFZQyxHQUNSQyxNQUFNRCxHQUFXLHlDQUVqQkssS0FBS0gsS0FBTyx1QkFDWkcsS0FBS0YsS0FBTyxrQkFDaEIsRUNOVyxNQUFNTyxVQUFvQ0QsRUFDckQsV0FBQVYsQ0FBWVksR0FDUixJQUFJWCxFQUFVLHlFQUVWVyxJQUNBWCxFQUFVLEdBQUdBLDREQUFrRVcsRUFBY0MsS0FD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QUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxL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QkFBaUJyQyxNQUU5QixFQzNpQkosTUFnQkEsR0FBZXJoQixFQWZYa0YsSUFFQSxNQUFNbVgsRUFBcUIsSUFBSTVLLEVBQW1CUiwyRUFBQUEsSUFDNUN5UyxFQUFtQixJQUFJakQsR0FBaUIsQ0FDMUNDLGdCQUFpQkosS0FHckIsT0FBTyxJQUFJbUQsR0FDUHZlLEVBQ0FtWCxFQUNBLElBQUlqSyxFQUF5QmxOLEVBQTJCbVgsR0FDeERxSCxJQUk4RCxDQUFDLENBQUV0YixHQUFJLGUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3dlYnBhY2svYm9vdHN0cmFwP2ZmY2MiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbWlzc2luZy1kYXRhLWVycm9yLnRzP2I3ZGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbm90LWluaXRpYWxpemVkLWVycm9yLnRzPzhiNGQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy90by1yZXNvbHZhYmxlLW1vZHVsZS50cz9kNTIwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzPzk5NGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kPzllYTQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvc3RhbmRhcmQtZXJyb3IudHM/OGEwMyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9zZXQtcHJvdG90eXBlLW9mLnRzPzg0NWEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvaW52YWxpZC1hcmd1bWVudC1lcnJvci50cz8zOTIxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3BheW1lbnQtYXJndW1lbnQtaW52YWxpZC1lcnJvci50cz9hNTAxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvcGF5bWVudC9pcy1ob3N0ZWQtaW50cnVtZW50LWxpa2UudHM/ODc2MyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL3BheW1lbnQvaXMtdmF1bHRlZC1pbnN0cnVtZW50LnRzPzE4MGYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvb3JkZXItZmluYWxpemF0aW9uLW5vdC1yZXF1aXJlZC1lcnJvci50cz9iNWExIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL2lzLXJlcXVlc3QtZXJyb3IudHM/YjQzZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LW1ldGhvZC1jYW5jZWxsZWQtZXJyb3IudHM/MDg5MCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvc3RyaXBlLWludGVncmF0aW9uL3NyYy9zdHJpcGV2My9pcy1pbmRpdmlkdWFsLWNhcmQtZWxlbWVudC1vcHRpb25zLnRzPzI2MTUiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS1pbnRlZ3JhdGlvbi9zcmMvc3RyaXBldjMvc3RyaXBldjMudHM/MGFiMSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvc3RyaXBlLWludGVncmF0aW9uL3NyYy9zdHJpcGV2My9zdHJpcGV2My1lcnJvci50cz8xZDU5Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZXYzL3N0cmlwZXYzLXBheW1lbnQtc3RyYXRlZ3kudHM/YWEwOSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2JpbGxpbmcvaXMtYmlsbGluZy1hZGRyZXNzLWxpa2UudHM/ODUzMCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LW1ldGhvZC1jbGllbnQtdW5hdmFpbGFibGUtZXJyb3IudHM/ZjhlYyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvc3RyaXBlLWludGVncmF0aW9uL3NyYy9zdHJpcGV2My9zdHJpcGV2My1zY3JpcHQtbG9hZGVyLnRzP2M4MWUiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS1pbnRlZ3JhdGlvbi9zcmMvc3RyaXBldjMvY3JlYXRlLXN0cmlwZXYzLXBheW1lbnQtc3RyYXRlZ3kudHM/NmFiOSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvc3RyaXBlLXV0aWxzL3NyYy9zdHJpcGUudHM/NDA5MSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvc3RyaXBlLXV0aWxzL3NyYy9zdHJpcGUtc2NyaXB0LWxvYWRlci50cz9jMTIxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3BheW1lbnQtbWV0aG9kLWZhaWxlZC1lcnJvci50cz8wN2RkIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtdXRpbHMvc3JjL3N0cmlwZS1pbnRlZ3JhdGlvbi1zZXJ2aWNlLnRzPzcxNTIiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS11dGlscy9zcmMvaXMtc3RyaXBlLWVycm9yLnRzPzVlM2EiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcmVxdWVzdC1lcnJvci50cz9jODQwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtdXRpbHMvc3JjL2lzLXN0cmlwZS1wYXltZW50LW1ldGhvZC1saWtlLnRzPzIwMTkiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS11dGlscy9zcmMvc3RyaXBlLXN1cHBvcnRlZC1sb2NhbGVzLnRzP2EzYzEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS11dGlscy9zcmMvZm9ybWF0LWxvY2FsZS50cz9kYjg1Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtdXRpbHMvc3JjL3N0cmlwZS11cGUvc3RyaXBlLXVwZS1jb25zdGFudHMudHM/Yjk0MCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvc3RyaXBlLWludGVncmF0aW9uL3NyYy9zdHJpcGUtdXBlL2lzLXN0cmlwZS1hY2NlbGVyYXRlZC1jaGVja291dC1jdXN0b21lci50cz9jZTY3Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZS11cGUvc3RyaXBlLXVwZS1wYXltZW50LXN0cmF0ZWd5LnRzPzk2MGQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS1pbnRlZ3JhdGlvbi9zcmMvc3RyaXBlLXVwZS9jcmVhdGUtc3RyaXBlLXVwZS1wYXltZW50LXN0cmF0ZWd5LnRzPzk1MDkiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3N0cmlwZS1pbnRlZ3JhdGlvbi9zcmMvc3RyaXBlLW9jcy9zdHJpcGUtb2NzLXBheW1lbnQtc3RyYXRlZ3kudHM/ZGE0NCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvc3RyaXBlLXV0aWxzL3NyYy9pcy1zdHJpcGUtcGF5bWVudC1ldmVudC50cz9lNGFlIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZS1vY3MvY3JlYXRlLXN0cmlwZS1vY3MtcGF5bWVudC1zdHJhdGVneS50cz8yYTQ0Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZS11cGUvc3RyaXBlLXVwZS1jdXN0b21lci1zdHJhdGVneS50cz9jYzc0Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZS11cGUvY3JlYXRlLXN0cmlwZS11cGUtY3VzdG9tZXItc3RyYXRlZ3kudHM/ODYwMSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvdWkvc3JjL2xvYWRpbmctaW5kaWNhdG9yL2xvYWRpbmctaW5kaWNhdG9yLnRzP2IwODciLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9jb21tb24vdXRpbGl0eS9hbW91bnQtdHJhbnNmb3JtZXIudHM/MWQ3OCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvc3RyaXBlLWludGVncmF0aW9uL3NyYy9zdHJpcGUtb2NzL2NvbnN0YW50cy50cz9lYTcyIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9zdHJpcGUtaW50ZWdyYXRpb24vc3JjL3N0cmlwZS1vY3Mvc3RyaXBlLWxpbmstdjItY3VzdG9tZXItc3RyYXRlZ3kudHM/NTg5ZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvc3RyaXBlLWludGVncmF0aW9uL3NyYy9zdHJpcGUtb2NzL2NyZWF0ZS1zdHJpcGUtbGluay12Mi1jdXN0b21lci1zdHJhdGVneS50cz9kNTNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuZXhwb3J0IGVudW0gTWlzc2luZ0RhdGFFcnJvclR5cGUge1xuICAgIE1pc3NpbmdCaWxsaW5nQWRkcmVzcyxcbiAgICBNaXNzaW5nQ2FydCxcbiAgICBNaXNzaW5nQ2hlY2tvdXQsXG4gICAgTWlzc2luZ0NvbnNpZ25tZW50cyxcbiAgICBNaXNzaW5nQ3VzdG9tZXIsXG4gICAgTWlzc2luZ0NoZWNrb3V0Q29uZmlnLFxuICAgIE1pc3NpbmdPcmRlcixcbiAgICBNaXNzaW5nT3JkZXJDb25maWcsXG4gICAgTWlzc2luZ09yZGVySWQsXG4gICAgTWlzc2luZ1BheW1lbnQsXG4gICAgTWlzc2luZ1BheW1lbnRJZCxcbiAgICBNaXNzaW5nUGF5bWVudEluc3RydW1lbnQsXG4gICAgTWlzc2luZ1BheW1lbnRNZXRob2QsXG4gICAgTWlzc2luZ1BheW1lbnRSZWRpcmVjdFVybCxcbiAgICBNaXNzaW5nUGF5bWVudFN0YXR1cyxcbiAgICBNaXNzaW5nUGF5bWVudFRva2VuLFxuICAgIE1pc3NpbmdTaGlwcGluZ0FkZHJlc3MsXG59XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciB3aGVuIGRhdGEgdGhhdCBpcyBleHBlY3RlZCB0byBleGlzdCBpcyBtaXNzaW5nLiBVc3VhbGx5IGl0XG4gKiBpcyBkdWUgdG8gdGhlIGZhY3QgdGhhdCBjZXJ0YWluIGRhdGEgaGFzIG5vdCBiZWVuIHJldHJpZXZlZCBmcm9tIG9yIHNhdmVkIHRvXG4gKiB0aGUgc2VydmVyIHlldC4gQW5kIHN1Y2ggZGF0YSBpcyByZXF1aXJlZCB0byBwZXJmb3JtIGNlcnRhaW4gYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWlzc2luZ0RhdGFFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdWJ0eXBlOiBNaXNzaW5nRGF0YUVycm9yVHlwZSkge1xuICAgICAgICBzdXBlcihnZXRFcnJvck1lc3NhZ2Uoc3VidHlwZSkpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdNaXNzaW5nRGF0YUVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ21pc3NpbmdfZGF0YSc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UodHlwZTogTWlzc2luZ0RhdGFFcnJvclR5cGUpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdCaWxsaW5nQWRkcmVzczpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBiaWxsaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NhcnQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY2FydCBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ29uc2lnbm1lbnRzOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGNvbnNpZ25tZW50cyBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ2hlY2tvdXQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY2hlY2tvdXQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0N1c3RvbWVyOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGN1c3RvbWVyIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDaGVja291dENvbmZpZzpcbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nT3JkZXJDb25maWc6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY29uZmlndXJhdGlvbiBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nT3JkZXI6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugb3JkZXIgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ09yZGVySWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugb3JkZXIgSUQgaXMgdW5hdmFpbGFibGUgb3Igbm90IGdlbmVyYXRlZCB5ZXQuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHBheW1lbnQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRUb2tlbjpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgdG9rZW4gcmVxdWlyZWQgdG8gc3VibWl0IGEgcGF5bWVudCBpcyBtaXNzaW5nLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudE1ldGhvZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBwYXltZW50IG1ldGhvZCBkYXRhIGlzIHVuYXZhaWxhYmxlIG9yIG5vdCBwcm9wZXJseSBjb25maWd1cmVkLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nU2hpcHBpbmdBZGRyZXNzOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHNoaXBwaW5nIGFkZHJlc3MgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHJlcXVpcmVkIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcbiAgICB9XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuZXhwb3J0IGVudW0gTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUge1xuICAgIENoZWNrb3V0QnV0dG9uTm90SW5pdGlhbGl6ZWQsXG4gICAgQ3VzdG9tZXJOb3RJbml0aWFsaXplZCxcbiAgICBQYXltZW50Tm90SW5pdGlhbGl6ZWQsXG4gICAgU2hpcHBpbmdOb3RJbml0aWFsaXplZCxcbiAgICBTcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkLFxufVxuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3IgaWYgYSBtZXRob2QgcmVxdWlyZXMgYSBjZXJ0YWluIGluaXRpYWxpemF0aW9uIGNhbGwgdG8gYmVcbiAqIG1hZGUgZmlyc3QuIFNvbWUgb2JqZWN0cyBjYW4gYmUgY29uc3RydWN0ZWQgYnV0IHRoZXkgY2Fubm90IGJlIHVzZWQgdW50aWwgYVxuICogc2VwYXJhdGUgaW5pdGlhbGl6YXRpb24gY2FsbCBpcyBtYWRlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb3RJbml0aWFsaXplZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IocHVibGljIHN1YnR5cGU6IE5vdEluaXRpYWxpemVkRXJyb3JUeXBlKSB7XG4gICAgICAgIHN1cGVyKGdldEVycm9yTWVzc2FnZShzdWJ0eXBlKSk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ05vdEluaXRpYWxpemVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnbm90X2luaXRpYWxpemVkJztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZSh0eXBlOiBOb3RJbml0aWFsaXplZEVycm9yVHlwZSk6IHN0cmluZyB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuQ3VzdG9tZXJOb3RJbml0aWFsaXplZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY3VzdG9tZXIgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcblxuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcGF5bWVudCBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuXG4gICAgICAgIGNhc2UgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuU2hpcHBpbmdOb3RJbml0aWFsaXplZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgc2hpcHBpbmcgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcblxuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGNoZWNrb3V0IHNwYW0gcHJvdGVjdGlvbiBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSByZXF1aXJlZCBjb21wb25lbnQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG4gICAgfVxufVxuIiwiaW1wb3J0IFJlc29sdmFibGVNb2R1bGUgZnJvbSAnLi9yZXNvbHZhYmxlLW1vZHVsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvUmVzb2x2YWJsZU1vZHVsZTxUTW9kdWxlLCBUSWRlbnRpZmllcj4oXG4gICAgbW9kdWxlOiBUTW9kdWxlLFxuICAgIHJlc29sdmVJZHM6IFRJZGVudGlmaWVyW10sXG4pOiBSZXNvbHZhYmxlTW9kdWxlPFRNb2R1bGUsIFRJZGVudGlmaWVyPiB7XG4gICAgY29uc29sZS5sb2coJ3Jlc29sdmVJZHMnLCByZXNvbHZlSWRzKTtcblxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG1vZHVsZSwgeyByZXNvbHZlSWRzIH0pO1xufVxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImltcG9ydCBDdXN0b21FcnJvciBmcm9tICcuL2N1c3RvbS1lcnJvcic7XG5pbXBvcnQgc2V0UHJvdG90eXBlT2YgZnJvbSAnLi9zZXQtcHJvdG90eXBlLW9mJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHR5cGUgc2hvdWxkIG5vdCBiZSBjb25zdHJ1Y3RlZCBkaXJlY3RseS4gSXQgaXMgYSBiYXNlIGNsYXNzIGZvclxuICogYWxsIGN1c3RvbSBlcnJvcnMgdGhyb3duIGluIHRoaXMgbGlicmFyeS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgU3RhbmRhcmRFcnJvciBleHRlbmRzIEVycm9yIGltcGxlbWVudHMgQ3VzdG9tRXJyb3Ige1xuICAgIG5hbWUgPSAnU3RhbmRhcmRFcnJvcic7XG4gICAgdHlwZSA9ICdzdGFuZGFyZCc7XG5cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ0FuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkLicpO1xuXG4gICAgICAgIHNldFByb3RvdHlwZU9mKHRoaXMsIG5ldy50YXJnZXQucHJvdG90eXBlKTtcblxuICAgICAgICBpZiAodHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBuZXcudGFyZ2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhY2sgPSBuZXcgRXJyb3IodGhpcy5tZXNzYWdlKS5zdGFjaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKG9iamVjdDogYW55LCBwcm90b3R5cGU6IG9iamVjdCkge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKG9iamVjdCwgcHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3QuX19wcm90b19fID0gcHJvdG90eXBlO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3Q7XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiBhIG1ldGhvZCBpcyB1bmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZVxuICogY2FsbGVyIGhhcyBub3QgcHJvdmlkZWQgYWxsIHRoZSBhcmd1bWVudHMgYWNjb3JkaW5nIHRvIHRoZWlyIHJlcXVpcmVtZW50cyxcbiAqIGkuZS46IGlmIGFuIGFyZ3VtZW50IGlzIG1pc3Npbmcgb3IgaXQgaXMgbm90IHRoZSBleHBlY3RlZCBkYXRhIHR5cGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludmFsaWRBcmd1bWVudEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdJbnZhbGlkIGFyZ3VtZW50cyBoYXZlIGJlZW4gcHJvdmlkZWQuJyk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ0ludmFsaWRBcmd1bWVudEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ2ludmFsaWRfYXJndW1lbnQnO1xuICAgIH1cbn1cbiIsImltcG9ydCBJbnZhbGlkQXJndW1lbnRFcnJvciBmcm9tICcuL2ludmFsaWQtYXJndW1lbnQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIHdlIGFyZSB1bmFibGUgdG8gc3VibWl0IGEgcGF5bWVudCBiZWNhdXNlXG4gKiB0aGUgY2FsbGVyIGhhcyBub3QgcHJvdmlkZWQgYWxsIHRoZSByZXF1aXJlZCBmaWVsZHMsIGkuZS46IGlmIGFuIGFyZ3VtZW50IGlzXG4gKiBtaXNzaW5nIG9yIGl0IGlzIG5vdCB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IgZXh0ZW5kcyBJbnZhbGlkQXJndW1lbnRFcnJvciB7XG4gICAgY29uc3RydWN0b3IoaW52YWxpZEZpZWxkcz86IHN0cmluZ1tdKSB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gJ1VuYWJsZSB0byBzdWJtaXQgcGF5bWVudCBmb3IgdGhlIG9yZGVyIGJlY2F1c2UgdGhlIHBheWxvYWQgaXMgaW52YWxpZC4nO1xuXG4gICAgICAgIGlmIChpbnZhbGlkRmllbGRzKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gYCR7bWVzc2FnZX0gTWFrZSBzdXJlIHRoZSBmb2xsb3dpbmcgZmllbGRzIGFyZSBwcm92aWRlZCBjb3JyZWN0bHk6ICR7aW52YWxpZEZpZWxkcy5qb2luKFxuICAgICAgICAgICAgICAgICcsICcsXG4gICAgICAgICAgICApfS5gO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ1BheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcic7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSG9zdGVkSW5zdHJ1bWVudCB9IGZyb20gJy4vcGF5bWVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzSG9zdGVkSW5zdHJ1bWVudExpa2UoXG4gICAgaW5zdHJ1bWVudDogdW5rbm93bixcbik6IGluc3RydW1lbnQgaXMgSG9zdGVkSW5zdHJ1bWVudCB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgdHlwZW9mIGluc3RydW1lbnQgPT09ICdvYmplY3QnICYmXG4gICAgICAgIGluc3RydW1lbnQgIT09IG51bGwgJiZcbiAgICAgICAgKHR5cGVvZiAoaW5zdHJ1bWVudCBhcyBIb3N0ZWRJbnN0cnVtZW50KS5zaG91bGRTYXZlSW5zdHJ1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAgIHR5cGVvZiAoaW5zdHJ1bWVudCBhcyBIb3N0ZWRJbnN0cnVtZW50KS5zaG91bGRTYXZlSW5zdHJ1bWVudCA9PT0gJ2Jvb2xlYW4nKSAmJlxuICAgICAgICAodHlwZW9mIChpbnN0cnVtZW50IGFzIEhvc3RlZEluc3RydW1lbnQpLnNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICB0eXBlb2YgKGluc3RydW1lbnQgYXMgSG9zdGVkSW5zdHJ1bWVudCkuc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCA9PT0gJ2Jvb2xlYW4nKVxuICAgICk7XG59XG4iLCJpbXBvcnQge1xuICAgIEZvcm1hdHRlZFBheWxvYWQsXG4gICAgRm9ybWF0dGVkVmF1bHRlZEluc3RydW1lbnQsXG4gICAgSG9zdGVkVmF1bHRlZEluc3RydW1lbnQsXG4gICAgUGF5bWVudEluc3RydW1lbnRQYXlsb2FkLFxuICAgIFZhdWx0ZWRJbnN0cnVtZW50LFxufSBmcm9tICcuL3BheW1lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1ZhdWx0ZWRJbnN0cnVtZW50KFxuICAgIGluc3RydW1lbnQ6IFBheW1lbnRJbnN0cnVtZW50UGF5bG9hZCxcbik6IGluc3RydW1lbnQgaXMgVmF1bHRlZEluc3RydW1lbnQge1xuICAgIHJldHVybiBCb29sZWFuKChpbnN0cnVtZW50IGFzIFZhdWx0ZWRJbnN0cnVtZW50KS5pbnN0cnVtZW50SWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNIb3N0ZWRWYXVsdGVkSW5zdHJ1bWVudChcbiAgICBpbnN0cnVtZW50OiBQYXltZW50SW5zdHJ1bWVudFBheWxvYWQsXG4pOiBpbnN0cnVtZW50IGlzIEhvc3RlZFZhdWx0ZWRJbnN0cnVtZW50IHtcbiAgICByZXR1cm4gKFxuICAgICAgICBCb29sZWFuKChpbnN0cnVtZW50IGFzIEhvc3RlZFZhdWx0ZWRJbnN0cnVtZW50KS5pbnN0cnVtZW50SWQpICYmXG4gICAgICAgICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdHJ1bWVudCwgJ2NjTnVtYmVyJykgJiZcbiAgICAgICAgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnN0cnVtZW50LCAnY2NDdnYnKVxuICAgICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Zvcm1hdHRlZFZhdWx0ZWRJbnN0cnVtZW50KFxuICAgIGluc3RydW1lbnQ6IFBheW1lbnRJbnN0cnVtZW50UGF5bG9hZCxcbik6IGluc3RydW1lbnQgaXMgRm9ybWF0dGVkUGF5bG9hZDxGb3JtYXR0ZWRWYXVsdGVkSW5zdHJ1bWVudD4ge1xuICAgIGNvbnN0IGZvcm1hdHRlZEluc3RydW1lbnQgPSAoaW5zdHJ1bWVudCBhcyBGb3JtYXR0ZWRQYXlsb2FkPEZvcm1hdHRlZFZhdWx0ZWRJbnN0cnVtZW50PilcbiAgICAgICAgLmZvcm1hdHRlZFBheWxvYWQ7XG5cbiAgICBpZiAoIWZvcm1hdHRlZEluc3RydW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIHR5cGVvZiBmb3JtYXR0ZWRJbnN0cnVtZW50LmJpZ3BheV90b2tlbiA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgQm9vbGVhbihmb3JtYXR0ZWRJbnN0cnVtZW50LmJpZ3BheV90b2tlbiAmJiBmb3JtYXR0ZWRJbnN0cnVtZW50LmJpZ3BheV90b2tlbi50b2tlbilcbiAgICApO1xufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciBpZiB3ZSBhcmUgdHJ5aW5nIHRvIG1ha2UgYW4gb3JkZXIgZmluYWxpemF0aW9uIHJlcXVlc3QgZm9yIGFcbiAqIHBheW1lbnQgbWV0aG9kIHRoYXQgZG9lcyBub3QgcmVxdWlyZSBzdWNoIHByb2NlZHVyZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdUaGUgY3VycmVudCBvcmRlciBkb2VzIG5vdCBuZWVkIHRvIGJlIGZpbmFsaXplZCBhdCB0aGlzIHN0YWdlLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnb3JkZXJfZmluYWxpemF0aW9uX25vdF9yZXF1aXJlZCc7XG4gICAgfVxufVxuIiwiaW1wb3J0IFJlcXVlc3RFcnJvciBmcm9tICcuL3JlcXVlc3QtZXJyb3InO1xuXG4vLyBIYXZlIHRvIHVzZSBgYXNgIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzczOTg3MDQ0L3R5cGVndWFyZGluZy1hbi11bmtub3duLW5lc3RlZC1vYmplY3Qgc2hvdWxkIGJlIGZpeGVkIGluIDQuOCtcbmNvbnN0IGlzUmVxdWVzdEVycm9yID0gKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgUmVxdWVzdEVycm9yID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJiBlcnJvciAhPT0gbnVsbCAmJiAnYm9keScgaW4gZXJyb3I7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpc1JlcXVlc3RFcnJvcjtcbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIHRoZSBwYXltZW50IGZsb3cgaXMgY2FuY2VsbGVkLiBJdCBjb3VsZCBiZVxuICogZHVlIHRvIGEgZGVsaWJlcmF0ZSB1c2VyIGludGVyYWN0aW9uLCBpLmUuOiB0aGUgdXNlciBjbGlja3Mgb24gYSBjYW5jZWxcbiAqIGJ1dHRvbiB3aGljaCBkaXNtaXNzZXMgdGhlIHBheW1lbnQgbW9kYWwuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSB8fCAnUGF5bWVudCBwcm9jZXNzIHdhcyBjYW5jZWxsZWQuJyk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ1BheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdwYXltZW50X2NhbmNlbGxlZCc7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSW5kaXZpZHVhbENhcmRFbGVtZW50T3B0aW9ucyB9IGZyb20gJy4vc3RyaXBldjMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0luZGl2aWR1YWxDYXJkRWxlbWVudE9wdGlvbnMoXG4gICAgaW5kaXZpZHVhbENhcmRFbGVtZW50T3B0aW9uczogYW55LFxuKTogaW5kaXZpZHVhbENhcmRFbGVtZW50T3B0aW9ucyBpcyBJbmRpdmlkdWFsQ2FyZEVsZW1lbnRPcHRpb25zIHtcbiAgICByZXR1cm4gKFxuICAgICAgICBpbmRpdmlkdWFsQ2FyZEVsZW1lbnRPcHRpb25zICE9PSBudWxsICYmXG4gICAgICAgIHR5cGVvZiBpbmRpdmlkdWFsQ2FyZEVsZW1lbnRPcHRpb25zID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAnY2FyZE51bWJlckVsZW1lbnRPcHRpb25zJyBpbiBpbmRpdmlkdWFsQ2FyZEVsZW1lbnRPcHRpb25zICYmXG4gICAgICAgICdjYXJkQ3ZjRWxlbWVudE9wdGlvbnMnIGluIGluZGl2aWR1YWxDYXJkRWxlbWVudE9wdGlvbnMgJiZcbiAgICAgICAgJ2NhcmRFeHBpcnlFbGVtZW50T3B0aW9ucycgaW4gaW5kaXZpZHVhbENhcmRFbGVtZW50T3B0aW9ucyAmJlxuICAgICAgICB0eXBlb2YgaW5kaXZpZHVhbENhcmRFbGVtZW50T3B0aW9ucy5jYXJkTnVtYmVyRWxlbWVudE9wdGlvbnMgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHR5cGVvZiBpbmRpdmlkdWFsQ2FyZEVsZW1lbnRPcHRpb25zLmNhcmRDdmNFbGVtZW50T3B0aW9ucyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgdHlwZW9mIGluZGl2aWR1YWxDYXJkRWxlbWVudE9wdGlvbnMuY2FyZEV4cGlyeUVsZW1lbnRPcHRpb25zICE9PSAndW5kZWZpbmVkJ1xuICAgICk7XG59XG4iLCJpbnRlcmZhY2UgQmFzZUVsZW1lbnRPcHRpb25zIHtcbiAgICAvKipcbiAgICAgKiBDdXN0b21pemUgdGhlIGFwcGVhcmFuY2Ugb2YgYW4gZWxlbWVudCB1c2luZyBDU1MgcHJvcGVydGllcyBwYXNzZWQgaW4gYSBbU3R5bGVdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2FwcGVuZGl4L3N0eWxlKSBvYmplY3QsXG4gICAgICogd2hpY2ggY29uc2lzdHMgb2YgQ1NTIHByb3BlcnRpZXMgbmVzdGVkIHVuZGVyIG9iamVjdHMgZm9yIGVhY2ggdmFyaWFudC5cbiAgICAgKi9cbiAgICBzdHlsZT86IFN0cmlwZUVsZW1lbnRTdHlsZTtcblxuICAgIC8qKlxuICAgICAqIFNldCBjdXN0b20gY2xhc3MgbmFtZXMgb24gdGhlIGNvbnRhaW5lciBET00gZWxlbWVudCB3aGVuIHRoZSBTdHJpcGUgZWxlbWVudCBpcyBpbiBhIHBhcnRpY3VsYXIgc3RhdGUuXG4gICAgICovXG4gICAgY2xhc3Nlcz86IFN0cmlwZUVsZW1lbnRDbGFzc2VzO1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIGRpc2FibGVkIHN0YXRlIHRvIHRoZSBFbGVtZW50IHN1Y2ggdGhhdCB1c2VyIGlucHV0IGlzIG5vdCBhY2NlcHRlZC4gRGVmYXVsdCBpcyBmYWxzZS5cbiAgICAgKi9cbiAgICBkaXNhYmxlZD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlUGF5bWVudE1ldGhvZENhcmREYXRhIGV4dGVuZHMgUGF5bWVudE1ldGhvZENyZWF0ZVBhcmFtcyB7XG4gICAgY2FyZD86IFN0cmlwZUVsZW1lbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlUGF5bWVudE1ldGhvZElkZWFsRGF0YSBleHRlbmRzIFBheW1lbnRNZXRob2RDcmVhdGVQYXJhbXMge1xuICAgIGlkZWFsPzogU3RyaXBlRWxlbWVudDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVQYXltZW50TWV0aG9kU2VwYURhdGEgZXh0ZW5kcyBQYXltZW50TWV0aG9kQ3JlYXRlUGFyYW1zIHtcbiAgICBzZXBhX2RlYml0PzogU3RyaXBlRWxlbWVudDtcbn1cblxuLyoqXG4gKiBUaGUgUGF5bWVudEludGVudCBvYmplY3QuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGF5bWVudEludGVudCB7XG4gICAgLyoqXG4gICAgICogVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBvYmplY3QuXG4gICAgICovXG4gICAgaWQ6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFN0YXR1cyBvZiB0aGlzIFBheW1lbnRJbnRlbnQuIFJlYWQgbW9yZSBhYm91dCBlYWNoIFBheW1lbnRJbnRlbnQgW3N0YXR1c10oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvcGF5bWVudHMvaW50ZW50cyNpbnRlbnQtc3RhdHVzZXMpLlxuICAgICAqL1xuICAgIHN0YXR1czogJ3N1Y2NlZWRlZCcgfCBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGF5bWVudCBlcnJvciBlbmNvdW50ZXJlZCBpbiB0aGUgcHJldmlvdXMgUGF5bWVudEludGVudCBjb25maXJtYXRpb24uIEl0IHdpbGwgYmUgY2xlYXJlZCBpZiB0aGUgUGF5bWVudEludGVudCBpcyBsYXRlciB1cGRhdGVkIGZvciBhbnkgcmVhc29uLlxuICAgICAqL1xuICAgIGxhc3RfcGF5bWVudF9lcnJvcjogTGFzdFBheW1lbnRFcnJvciB8IG51bGw7XG59XG5cbi8qKlxuICogVGhlIHBheW1lbnQgZXJyb3IgZW5jb3VudGVyZWQgaW4gdGhlIHByZXZpb3VzIFBheW1lbnRJbnRlbnQgY29uZmlybWF0aW9uLiBJdCB3aWxsIGJlIGNsZWFyZWQgaWYgdGhlIFBheW1lbnRJbnRlbnQgaXMgbGF0ZXIgdXBkYXRlZCBmb3IgYW55IHJlYXNvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMYXN0UGF5bWVudEVycm9yIHtcbiAgICAvKipcbiAgICAgKiBBIGh1bWFuLXJlYWRhYmxlIG1lc3NhZ2UgcHJvdmlkaW5nIG1vcmUgZGV0YWlscyBhYm91dCB0aGUgZXJyb3IuIEZvciBjYXJkIGVycm9ycywgdGhlc2UgbWVzc2FnZXMgY2FuIGJlIHNob3duIHRvIHlvdXIgdXNlcnMuXG4gICAgICovXG4gICAgbWVzc2FnZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBUaGUgUGF5bWVudE1ldGhvZCBvYmplY3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXltZW50TWV0aG9kIHtcbiAgICAvKipcbiAgICAgKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIG9iamVjdC5cbiAgICAgKi9cbiAgICBpZDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIFBheW1lbnRNZXRob2QuIEFuIGFkZGl0aW9uYWwgaGFzaCBpcyBpbmNsdWRlZCBvbiB0aGUgUGF5bWVudE1ldGhvZCB3aXRoIGEgbmFtZSBtYXRjaGluZyB0aGlzIHZhbHVlLlxuICAgICAqIEl0IGNvbnRhaW5zIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gc3BlY2lmaWMgdG8gdGhlIFBheW1lbnRNZXRob2QgdHlwZS5cbiAgICAgKi9cbiAgICB0eXBlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5bWVudE1ldGhvZENyZWF0ZVBhcmFtcyB7XG4gICAgLyoqXG4gICAgICogQmlsbGluZyBpbmZvcm1hdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhlIFBheW1lbnRNZXRob2QgdGhhdCBtYXkgYmUgdXNlZCBvciByZXF1aXJlZCBieSBwYXJ0aWN1bGFyIHR5cGVzIG9mIHBheW1lbnQgbWV0aG9kcy5cbiAgICAgKi9cbiAgICBiaWxsaW5nX2RldGFpbHM/OiBTdHJpcGVCaWxsaW5nRGV0YWlscztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVFcnJvciB7XG4gICAgLyoqXG4gICAgICogQSBodW1hbi1yZWFkYWJsZSBtZXNzYWdlIHByb3ZpZGluZyBtb3JlIGRldGFpbHMgYWJvdXQgdGhlIGVycm9yLiBGb3IgY2FyZCBlcnJvcnMsIHRoZXNlIG1lc3NhZ2VzIGNhbiBiZSBzaG93biB0byB5b3VyIHVzZXJzLlxuICAgICAqL1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgUGF5bWVudEludGVudCBvYmplY3QuXG4gICAgICovXG4gICAgcGF5bWVudF9pbnRlbnQ6IFBheW1lbnRJbnRlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBBIGh1bWFuLXJlYWRhYmxlIGNvZGUgZm9yIHRoZSBlcnJvciBvYnRhaW5lZFxuICAgICAqL1xuICAgIGNvZGU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQ1NTIHByb3BlcnRpZXMgc3VwcG9ydGVkIGJ5IFN0cmlwZS5qcy5cbiAqL1xuaW50ZXJmYWNlIFN0cmlwZUVsZW1lbnRDU1NQcm9wZXJ0aWVzIHtcbiAgICAvKipcbiAgICAgKiBUaGUgW2JhY2tncm91bmQtY29sb3JdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9iYWNrZ3JvdW5kLWNvbG9yKSBDU1MgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBUaGlzIHByb3BlcnR5IHdvcmtzIGJlc3Qgd2l0aCB0aGUgYDo6c2VsZWN0aW9uYCBwc2V1ZG8tY2xhc3MuXG4gICAgICogSW4gb3RoZXIgY2FzZXMsIGNvbnNpZGVyIHNldHRpbmcgdGhlIGJhY2tncm91bmQgY29sb3Igb24gdGhlIGVsZW1lbnQncyBjb250YWluZXIgaW5zdGFlZC5cbiAgICAgKi9cbiAgICBiYWNrZ3JvdW5kQ29sb3I/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgW2NvbG9yXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvY29sb3IpIENTUyBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBjb2xvcj86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBbZm9udC1mYW1pbHldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9mb250LWZhbWlseSkgQ1NTIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGZvbnRGYW1pbHk/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgW2ZvbnQtc2l6ZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2ZvbnQtc2l6ZSkgQ1NTIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGZvbnRTaXplPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFtmb250LXNtb290aGluZ10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2ZvbnQtc21vb3RoaW5nKSBDU1MgcHJvcGVydHkuXG4gICAgICovXG4gICAgZm9udFNtb290aGluZz86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBbZm9udC1zdHlsZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2ZvbnQtc3R5bGUpIENTUyBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBmb250U3R5bGU/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgW2ZvbnQtdmFyaWFudF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2ZvbnQtdmFyaWFudCkgQ1NTIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGZvbnRWYXJpYW50Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFtmb250LXdlaWdodF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2ZvbnQtd2VpZ2h0KSBDU1MgcHJvcGVydHkuXG4gICAgICovXG4gICAgZm9udFdlaWdodD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgY3VzdG9tIHByb3BlcnR5LCB1c2VkIHRvIHNldCB0aGUgY29sb3Igb2YgdGhlIGljb25zIHRoYXQgYXJlIHJlbmRlcmVkIGluIGFuIGVsZW1lbnQuXG4gICAgICovXG4gICAgaWNvbkNvbG9yPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFtsaW5lLWhlaWdodF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2xpbmUtaGVpZ2h0KSBDU1MgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBUbyBhdm9pZCBjdXJzb3JzIGJlaW5nIHJlbmRlcmVkIGluY29uc2lzdGVudGx5IGFjcm9zcyBicm93c2VycywgY29uc2lkZXIgdXNpbmcgYSBwYWRkaW5nIG9uIHRoZSBlbGVtZW50J3MgY29udGFpbmVyIGluc3RlYWQuXG4gICAgICovXG4gICAgbGluZUhlaWdodD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBbbGV0dGVyLXNwYWNpbmddKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9sZXR0ZXItc3BhY2luZykgQ1NTIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGxldHRlclNwYWNpbmc/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgW3RleHQtYWxpZ25dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy90ZXh0LWFsaWduKSBDU1MgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBBdmFpbGFibGUgZm9yIHRoZSBgY2FyZE51bWJlcmAsIGBjYXJkRXhwaXJ5YCwgYW5kIGBjYXJkQ3ZjYCBlbGVtZW50cy5cbiAgICAgKi9cbiAgICB0ZXh0QWxpZ24/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgW3BhZGRpbmddKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9wYWRkaW5nKSBDU1MgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBBdmFpbGFibGUgZm9yIHRoZSBgaWRlYWxCYW5rYCBlbGVtZW50LlxuICAgICAqIEFjY2VwdHMgaW50ZWdlciBgcHhgIHZhbHVlcy5cbiAgICAgKi9cbiAgICBwYWRkaW5nPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFt0ZXh0LWRlY29yYXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy90ZXh0LWRlY29yYXRpb24pIENTUyBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICB0ZXh0RGVjb3JhdGlvbj86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBbdGV4dC1zaGFkb3ddKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy90ZXh0LXNoYWRvdykgQ1NTIHByb3BlcnR5LlxuICAgICAqL1xuICAgIHRleHRTaGFkb3c/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgW3RleHQtdHJhbnNmb3JtXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvdGV4dC10cmFuc2Zvcm0pIENTUyBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICB0ZXh0VHJhbnNmb3JtPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgU3RyaXBlRWxlbWVudFN0eWxlVmFyaWFudCBleHRlbmRzIFN0cmlwZUVsZW1lbnRDU1NQcm9wZXJ0aWVzIHtcbiAgICAnOmhvdmVyJz86IFN0cmlwZUVsZW1lbnRDU1NQcm9wZXJ0aWVzO1xuXG4gICAgJzpmb2N1cyc/OiBTdHJpcGVFbGVtZW50Q1NTUHJvcGVydGllcztcblxuICAgICc6OnBsYWNlaG9sZGVyJz86IFN0cmlwZUVsZW1lbnRDU1NQcm9wZXJ0aWVzO1xuXG4gICAgJzo6c2VsZWN0aW9uJz86IFN0cmlwZUVsZW1lbnRDU1NQcm9wZXJ0aWVzO1xuXG4gICAgJzotd2Via2l0LWF1dG9maWxsJz86IFN0cmlwZUVsZW1lbnRDU1NQcm9wZXJ0aWVzO1xuXG4gICAgLyoqXG4gICAgICogQXZhaWxhYmxlIGZvciBhbGwgZWxlbWVudHMgZXhjZXB0IHRoZSBgcGF5bWVudFJlcXVlc3RCdXR0b25gIGVsZW1lbnRcbiAgICAgKi9cbiAgICAnOmRpc2FibGVkJz86IFN0cmlwZUVsZW1lbnRDU1NQcm9wZXJ0aWVzO1xuXG4gICAgLyoqXG4gICAgICogQXZhaWxhYmxlIGZvciB0aGUgYGNhcmROdW1iZXJgLCBgY2FyZEV4cGlyeWAsIGFuZCBgY2FyZEN2Y2AgZWxlbWVudHMuXG4gICAgICovXG4gICAgJzo6LW1zLWNsZWFyJz86IFN0cmlwZUVsZW1lbnRDU1NQcm9wZXJ0aWVzICYgeyBkaXNwbGF5OiBzdHJpbmcgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXJkRWxlbWVudE9wdGlvbnMgZXh0ZW5kcyBCYXNlRWxlbWVudE9wdGlvbnMge1xuICAgIC8qKlxuICAgICAqIEEgcHJlLWZpbGxlZCBzZXQgb2YgdmFsdWVzIHRvIGluY2x1ZGUgaW4gdGhlIGlucHV0IChlLmcuLCB7cG9zdGFsQ29kZTogJzk0MTEwJ30pLlxuICAgICAqIE5vdGUgdGhhdCBzZW5zaXRpdmUgY2FyZCBpbmZvcm1hdGlvbiAoY2FyZCBudW1iZXIsIENWQywgYW5kIGV4cGlyYXRpb24gZGF0ZSlcbiAgICAgKiBjYW5ub3QgYmUgcHJlLWZpbGxlZFxuICAgICAqL1xuICAgIHZhbHVlPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogSGlkZSB0aGUgcG9zdGFsIGNvZGUgZmllbGQuIERlZmF1bHQgaXMgZmFsc2UuIElmIHlvdSBhcmUgYWxyZWFkeSBjb2xsZWN0aW5nIGFcbiAgICAgKiBmdWxsIGJpbGxpbmcgYWRkcmVzcyBvciBwb3N0YWwgY29kZSBlbHNld2hlcmUsIHNldCB0aGlzIHRvIHRydWUuXG4gICAgICovXG4gICAgaGlkZVBvc3RhbENvZGU/OiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQXBwZWFyYW5jZSBvZiB0aGUgaWNvbiBpbiB0aGUgRWxlbWVudC5cbiAgICAgKi9cbiAgICBpY29uU3R5bGU/OiBJY29uU3R5bGU7XG5cbiAgICAvKlxuICAgICAqIEhpZGVzIHRoZSBpY29uIGluIHRoZSBFbGVtZW50LCBEZWZhdWx0IGlzIGZhbHNlXG4gICAgICovXG4gICAgaGlkZUljb24/OiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgQmFzZUluZGl2aWR1YWxFbGVtZW50T3B0aW9ucyBleHRlbmRzIEJhc2VFbGVtZW50T3B0aW9ucyB7XG4gICAgY29udGFpbmVySWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXJkTnVtYmVyRWxlbWVudE9wdGlvbnMgZXh0ZW5kcyBCYXNlSW5kaXZpZHVhbEVsZW1lbnRPcHRpb25zIHtcbiAgICAvKlxuICAgICAqIFBsYWNlaG9sZGVyXG4gICAgICovXG4gICAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XG5cbiAgICBzaG93SWNvbj86IGJvb2xlYW47XG4gICAgLyoqXG4gICAgICogQXBwZWFyYW5jZSBvZiB0aGUgaWNvbiBpbiB0aGUgRWxlbWVudC4gRWl0aGVyIGBzb2xpZGAgb3IgYGRlZmF1bHRgXG4gICAgICovXG4gICAgaWNvblN0eWxlPzogSWNvblN0eWxlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRFeHBpcnlFbGVtZW50T3B0aW9ucyBleHRlbmRzIEJhc2VJbmRpdmlkdWFsRWxlbWVudE9wdGlvbnMge1xuICAgIC8qXG4gICAgICogUGxhY2Vob2xkZXJcbiAgICAgKi9cbiAgICBwbGFjZWhvbGRlcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXJkQ3ZjRWxlbWVudE9wdGlvbnMgZXh0ZW5kcyBCYXNlSW5kaXZpZHVhbEVsZW1lbnRPcHRpb25zIHtcbiAgICAvKlxuICAgICAqIFBsYWNlaG9sZGVyXG4gICAgICovXG4gICAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSWJhbkVsZW1lbnRPcHRpb25zIGV4dGVuZHMgQmFzZUVsZW1lbnRPcHRpb25zIHtcbiAgICAvKipcbiAgICAgKiBTcGVjaWZ5IHRoZSBsaXN0IG9mIGNvdW50cmllcyBvciBjb3VudHJ5LWdyb3VwcyB3aG9zZSBJQkFOcyB5b3Ugd2FudCB0byBhbGxvdy5cbiAgICAgKiBNdXN0IGJlIFsnU0VQQSddLlxuICAgICAqL1xuICAgIHN1cHBvcnRlZENvdW50cmllcz86IHN0cmluZ1tdO1xuXG4gICAgLyoqXG4gICAgICogQ3VzdG9taXplIHRoZSBjb3VudHJ5IGFuZCBmb3JtYXQgb2YgdGhlIHBsYWNlaG9sZGVyIElCQU4uIERlZmF1bHQgaXMgREUuXG4gICAgICovXG4gICAgcGxhY2Vob2xkZXJDb3VudHJ5Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQXBwZWFyYW5jZSBvZiB0aGUgaWNvbiBpbiB0aGUgRWxlbWVudC5cbiAgICAgKi9cbiAgICBpY29uU3R5bGU/OiBJY29uU3R5bGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSWRlYWxFbGVtZW50T3B0aW9ucyBleHRlbmRzIEJhc2VFbGVtZW50T3B0aW9ucyB7XG4gICAgdmFsdWU/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBIaWRlcyB0aGUgaWNvbiBpbiB0aGUgRWxlbWVudC4gRGVmYXVsdCBpcyBmYWxzZS5cbiAgICAgKi9cbiAgICBoaWRlSWNvbj86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgWmlwQ29kZUVsZW1lbnRPcHRpb25zIHtcbiAgICBjb250YWluZXJJZDogc3RyaW5nO1xufVxuXG5leHBvcnQgZW51bSBJY29uU3R5bGUge1xuICAgIFNvbGlkID0gJ3NvbGlkJyxcbiAgICBEZWZhdWx0ID0gJ2RlZmF1bHQnLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUVsZW1lbnRTdHlsZSB7XG4gICAgLyoqXG4gICAgICogQmFzZSB2YXJpYW504oCUYWxsIG90aGVyIHZhcmlhbnRzIGluaGVyaXQgZnJvbSB0aGVzZSBzdHlsZXMuXG4gICAgICovXG4gICAgYmFzZT86IFN0cmlwZUVsZW1lbnRTdHlsZVZhcmlhbnQ7XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVkIHdoZW4gdGhlIGVsZW1lbnQgaGFzIHZhbGlkIGlucHV0LlxuICAgICAqL1xuICAgIGNvbXBsZXRlPzogU3RyaXBlRWxlbWVudFN0eWxlVmFyaWFudDtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZWQgd2hlbiB0aGUgZWxlbWVudCBoYXMgbm8gY3VzdG9tZXIgaW5wdXQuXG4gICAgICovXG4gICAgZW1wdHk/OiBTdHJpcGVFbGVtZW50U3R5bGVWYXJpYW50O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBpbnZhbGlkIGlucHV0LlxuICAgICAqL1xuICAgIGludmFsaWQ/OiBTdHJpcGVFbGVtZW50U3R5bGVWYXJpYW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUVsZW1lbnRDbGFzc2VzIHtcbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBjbGFzcyBhcHBsaWVkIHRvIHRoZSBjb250YWluZXIuIERlZmF1bHRzIHRvIFN0cmlwZUVsZW1lbnQuXG4gICAgICovXG4gICAgYmFzZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBjbGFzcyBuYW1lIHRvIGFwcGx5IHdoZW4gdGhlIEVsZW1lbnQgaXMgY29tcGxldGUuIERlZmF1bHRzIHRvIFN0cmlwZUVsZW1lbnQtLWNvbXBsZXRlLlxuICAgICAqL1xuICAgIGNvbXBsZXRlPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNsYXNzIG5hbWUgdG8gYXBwbHkgd2hlbiB0aGUgRWxlbWVudCBpcyBlbXB0eS4gRGVmYXVsdHMgdG8gU3RyaXBlRWxlbWVudC0tZW1wdHkuXG4gICAgICovXG4gICAgZW1wdHk/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2xhc3MgbmFtZSB0byBhcHBseSB3aGVuIHRoZSBFbGVtZW50IGlzIGZvY3VzZWQuIERlZmF1bHRzIHRvIFN0cmlwZUVsZW1lbnQtLWZvY3VzLlxuICAgICAqL1xuICAgIGZvY3VzPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNsYXNzIG5hbWUgdG8gYXBwbHkgd2hlbiB0aGUgRWxlbWVudCBpcyBpbnZhbGlkLiBEZWZhdWx0cyB0byBTdHJpcGVFbGVtZW50LS1pbnZhbGlkLlxuICAgICAqL1xuICAgIGludmFsaWQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2xhc3MgbmFtZSB0byBhcHBseSB3aGVuIHRoZSBFbGVtZW50IGhhcyBpdHMgdmFsdWUgYXV0b2ZpbGxlZCBieSB0aGUgYnJvd3NlclxuICAgICAqIChvbmx5IG9uIENocm9tZSBhbmQgU2FmYXJpKS4gRGVmYXVsdHMgdG8gU3RyaXBlRWxlbWVudC0td2Via2l0LWF1dG9maWxsLlxuICAgICAqL1xuICAgIHdlYmtpdEF1dG9GaWxsPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUFkZHJlc3Mge1xuICAgIC8qKlxuICAgICAqIENpdHksIGRpc3RyaWN0LCBzdWJ1cmIsIHRvd24sIG9yIHZpbGxhZ2UuXG4gICAgICovXG4gICAgY2l0eT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFR3by1sZXR0ZXIgY291bnRyeSBjb2RlIChbSVNPIDMxNjYtMSBhbHBoYS0yXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fMzE2Ni0xX2FscGhhLTIpKS5cbiAgICAgKi9cbiAgICBjb3VudHJ5Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQWRkcmVzcyBsaW5lIDEgKGUuZy4sIHN0cmVldCwgUE8gQm94LCBvciBjb21wYW55IG5hbWUpLlxuICAgICAqL1xuICAgIGxpbmUxOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBZGRyZXNzIGxpbmUgMiAoZS5nLiwgYXBhcnRtZW50LCBzdWl0ZSwgdW5pdCwgb3IgYnVpbGRpbmcpLlxuICAgICAqL1xuICAgIGxpbmUyPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogWklQIG9yIHBvc3RhbCBjb2RlLlxuICAgICAqL1xuICAgIHBvc3RhbF9jb2RlPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogU3RhdGUsIGNvdW50eSwgcHJvdmluY2UsIG9yIHJlZ2lvbi5cbiAgICAgKi9cbiAgICBzdGF0ZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVCaWxsaW5nRGV0YWlscyB7XG4gICAgLyoqXG4gICAgICogQmlsbGluZyBhZGRyZXNzLlxuICAgICAqL1xuICAgIGFkZHJlc3M/OiBTdHJpcGVBZGRyZXNzO1xuXG4gICAgLyoqXG4gICAgICogRW1haWwgYWRkcmVzcy5cbiAgICAgKi9cbiAgICBlbWFpbD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEZ1bGwgbmFtZS5cbiAgICAgKi9cbiAgICBuYW1lPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQmlsbGluZyBwaG9uZSBudW1iZXIgKGluY2x1ZGluZyBleHRlbnNpb24pLlxuICAgICAqL1xuICAgIHBob25lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZVNoaXBwaW5nQWRkcmVzcyB7XG4gICAgLyoqXG4gICAgICogU2hpcHBpbmcgQWRkcmVzc1xuICAgICAqL1xuICAgIGFkZHJlc3M6IFN0cmlwZUFkZHJlc3M7XG5cbiAgICAvKipcbiAgICAgKiBSZWNpcGllbnQgbmFtZVxuICAgICAqL1xuICAgIG5hbWU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWxpdmVyeSBzZXJ2aWNlIHRoYXQgc2hpcHBlZCBhIHBoeXNpY2FsIHByb2R1Y3QsIHN1Y2ggYXMgRmVkZXgsIFVQUywgVVNQUywgZXRjLlxuICAgICAqL1xuICAgIGNhcnJpZXI/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBSZWNpcGllbnQgcGhvbmUgKGluY2x1ZGluZyBleHRlbnNpb24pLlxuICAgICAqL1xuICAgIHBob25lPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRyYWNraW5nIG51bWJlciBmb3IgYSBwaHlzaWNhbCBwcm9kdWN0LCBvYnRhaW5lZCBmcm9tIHRoZSBkZWxpdmVyeSBzZXJ2aWNlLlxuICAgICAqIElmIG11bHRpcGxlIHRyYWNraW5nIG51bWJlcnMgd2VyZSBnZW5lcmF0ZWQgZm9yIHRoaXMgcHVyY2hhc2UsIHBsZWFzZSBzZXBhcmF0ZSB0aGVtIHdpdGggY29tbWFzLlxuICAgICAqL1xuICAgIHRyYWNraW5nX251bWJlcj86IHN0cmluZztcbn1cblxuLyoqXG4gKiBEYXRhIHRvIGJlIHNlbnQgd2l0aCBhIGBzdHJpcGUuY29uZmlybUFsaXBheVBheW1lbnRgIHJlcXVlc3QuXG4gKiBSZWZlciB0byB0aGUgW1BheW1lbnQgSW50ZW50cyBBUEldKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X2ludGVudHMvY29uZmlybSkgZm9yIGEgZnVsbCBsaXN0IG9mIHBhcmFtZXRlcnMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQ29uZmlybUFsaXBheVBheW1lbnREYXRhIHtcbiAgICAvKlxuICAgICAqIElmIHlvdSBhcmUgW2hhbmRsaW5nIG5leHQgYWN0aW9ucyB5b3Vyc2VsZl0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvcGF5bWVudHMvcGF5bWVudC1pbnRlbnRzL3ZlcmlmeWluZy1zdGF0dXMjbmV4dC1hY3Rpb25zKSwgcGFzcyBpbiBhIHJldHVybl91cmwuIElmIHRoZSBzdWJzZXF1ZW50IGFjdGlvblxuICAgICAqIGlzIHJlZGlyZWN0X3RvX3VybCwgdGhpcyBVUkwgd2lsbCBiZSB1c2VkIG9uIHRoZSByZXR1cm4gcGF0aCBmb3IgdGhlIHJlZGlyZWN0LlxuICAgICAqXG4gICAgICogQHJlY29tbWVuZGVkXG4gICAgICovXG4gICAgcmV0dXJuX3VybD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBEYXRhIHRvIGJlIHNlbnQgd2l0aCBhIGBzdHJpcGUuY29uZmlybUNhcmRQYXltZW50YCByZXF1ZXN0LlxuICogUmVmZXIgdG8gdGhlIFtQYXltZW50IEludGVudHMgQVBJXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9pbnRlbnRzL2NvbmZpcm0pIGZvciBhIGZ1bGwgbGlzdCBvZiBwYXJhbWV0ZXJzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUNvbmZpcm1DYXJkUGF5bWVudERhdGEge1xuICAgIC8qXG4gICAgICogRWl0aGVyIHRoZSBpZCBvZiBhbiBleGlzdGluZyBbUGF5bWVudE1ldGhvZF0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfbWV0aG9kcyksIG9yIGFuIG9iamVjdCBjb250YWluaW5nIGRhdGEgdG8gY3JlYXRlIGFcbiAgICAgKiBQYXltZW50TWV0aG9kIHdpdGguIFNlZSB0aGUgdXNlIGNhc2Ugc2VjdGlvbnMgYmVsb3cgZm9yIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBAcmVjb21tZW5kZWRcbiAgICAgKi9cbiAgICBwYXltZW50X21ldGhvZD86IENyZWF0ZVBheW1lbnRNZXRob2RDYXJkRGF0YTtcblxuICAgIC8qXG4gICAgICogVGhlIFtzaGlwcGluZyBkZXRhaWxzXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9pbnRlbnRzL2NvbmZpcm0jY29uZmlybV9wYXltZW50X2ludGVudC1zaGlwcGluZykgZm9yIHRoZSBwYXltZW50LCBpZiBjb2xsZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAcmVjb21tZW5kZWRcbiAgICAgKi9cbiAgICBzaGlwcGluZz86IFN0cmlwZVNoaXBwaW5nQWRkcmVzcztcblxuICAgIC8qXG4gICAgICogSWYgeW91IGFyZSBbaGFuZGxpbmcgbmV4dCBhY3Rpb25zIHlvdXJzZWxmXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9wYXltZW50cy9wYXltZW50LWludGVudHMvdmVyaWZ5aW5nLXN0YXR1cyNuZXh0LWFjdGlvbnMpLCBwYXNzIGluIGEgcmV0dXJuX3VybC4gSWYgdGhlIHN1YnNlcXVlbnQgYWN0aW9uXG4gICAgICogaXMgcmVkaXJlY3RfdG9fdXJsLCB0aGlzIFVSTCB3aWxsIGJlIHVzZWQgb24gdGhlIHJldHVybiBwYXRoIGZvciB0aGUgcmVkaXJlY3QuXG4gICAgICpcbiAgICAgKiBAcmVjb21tZW5kZWRcbiAgICAgKi9cbiAgICByZXR1cm5fdXJsPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgeW91IGludGVuZCB0byBtYWtlIGZ1dHVyZSBwYXltZW50cyB3aXRoIHRoaXMgUGF5bWVudEludGVudCdzIHBheW1lbnQgbWV0aG9kLlxuICAgICAqXG4gICAgICogSWYgcHJlc2VudCwgdGhlIHBheW1lbnQgbWV0aG9kIHVzZWQgd2l0aCB0aGlzIFBheW1lbnRJbnRlbnQgY2FuIGJlIFthdHRhY2hlZF0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfbWV0aG9kcy9hdHRhY2gpIHRvIGEgQ3VzdG9tZXIsIGV2ZW4gYWZ0ZXIgdGhlIHRyYW5zYWN0aW9uIGNvbXBsZXRlcy5cbiAgICAgKlxuICAgICAqIFVzZSBgb25fc2Vzc2lvbmAgaWYgeW91IGludGVuZCB0byBvbmx5IHJldXNlIHRoZSBwYXltZW50IG1ldGhvZCB3aGVuIHlvdXIgY3VzdG9tZXIgaXMgcHJlc2VudCBpbiB5b3VyIGNoZWNrb3V0IGZsb3cuIFVzZSBgb2ZmX3Nlc3Npb25gIGlmIHlvdXIgY3VzdG9tZXIgbWF5IG9yIG1heSBub3QgYmUgaW4geW91ciBjaGVja291dCBmbG93LlxuICAgICAqL1xuICAgIHNldHVwX2Z1dHVyZV91c2FnZT86ICdvZmZfc2Vzc2lvbicgfCAnb25fc2Vzc2lvbicgfCBudWxsO1xufVxuXG4vKipcbiAqIERhdGEgdG8gYmUgc2VudCB3aXRoIGEgYHN0cmlwZS5jb25maXJtSWRlYWxQYXltZW50YCByZXF1ZXN0LlxuICogUmVmZXIgdG8gdGhlIFtQYXltZW50IEludGVudHMgQVBJXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9pbnRlbnRzL2NvbmZpcm0pIGZvciBhIGZ1bGwgbGlzdCBvZiBwYXJhbWV0ZXJzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUNvbmZpcm1JZGVhbFBheW1lbnREYXRhIHtcbiAgICAvKlxuICAgICAqIEVpdGhlciB0aGUgaWQgb2YgYW4gZXhpc3RpbmcgW1BheW1lbnRNZXRob2RdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X21ldGhvZHMpLCBvciBhbiBvYmplY3QgY29udGFpbmluZyBkYXRhIHRvIGNyZWF0ZSBhXG4gICAgICogUGF5bWVudE1ldGhvZCB3aXRoLiBTZWUgdGhlIHVzZSBjYXNlIHNlY3Rpb25zIGJlbG93IGZvciBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHJlY29tbWVuZGVkXG4gICAgICovXG4gICAgcGF5bWVudF9tZXRob2Q/OiBDcmVhdGVQYXltZW50TWV0aG9kSWRlYWxEYXRhO1xuXG4gICAgLypcbiAgICAgKiBJZiB5b3UgYXJlIFtoYW5kbGluZyBuZXh0IGFjdGlvbnMgeW91cnNlbGZdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3BheW1lbnRzL3BheW1lbnQtaW50ZW50cy92ZXJpZnlpbmctc3RhdHVzI25leHQtYWN0aW9ucyksIHBhc3MgaW4gYSByZXR1cm5fdXJsLiBJZiB0aGUgc3Vic2VxdWVudCBhY3Rpb25cbiAgICAgKiBpcyByZWRpcmVjdF90b191cmwsIHRoaXMgVVJMIHdpbGwgYmUgdXNlZCBvbiB0aGUgcmV0dXJuIHBhdGggZm9yIHRoZSByZWRpcmVjdC5cbiAgICAgKlxuICAgICAqIEByZWNvbW1lbmRlZFxuICAgICAqL1xuICAgIHJldHVybl91cmw/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogRGF0YSB0byBiZSBzZW50IHdpdGggYSBgc3RyaXBlLmNvbmZpcm1TRVBBUGF5bWVudGAgcmVxdWVzdC5cbiAqIFJlZmVyIHRvIHRoZSBbUGF5bWVudCBJbnRlbnRzIEFQSV0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfaW50ZW50cy9jb25maXJtKSBmb3IgYSBmdWxsIGxpc3Qgb2YgcGFyYW1ldGVycy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVDb25maXJtU2VwYVBheW1lbnREYXRhIHtcbiAgICAvKlxuICAgICAqIEVpdGhlciB0aGUgaWQgb2YgYW4gZXhpc3RpbmcgW1BheW1lbnRNZXRob2RdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X21ldGhvZHMpLCBvciBhbiBvYmplY3QgY29udGFpbmluZyBkYXRhIHRvIGNyZWF0ZSBhXG4gICAgICogUGF5bWVudE1ldGhvZCB3aXRoLiBTZWUgdGhlIHVzZSBjYXNlIHNlY3Rpb25zIGJlbG93IGZvciBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHJlY29tbWVuZGVkXG4gICAgICovXG4gICAgcGF5bWVudF9tZXRob2Q/OiBDcmVhdGVQYXltZW50TWV0aG9kU2VwYURhdGE7XG59XG5cbmV4cG9ydCB0eXBlIFN0cmlwZUNvbmZpcm1QYXltZW50RGF0YSA9XG4gICAgfCBTdHJpcGVDb25maXJtQWxpcGF5UGF5bWVudERhdGFcbiAgICB8IFN0cmlwZUNvbmZpcm1DYXJkUGF5bWVudERhdGFcbiAgICB8IFN0cmlwZUNvbmZpcm1JZGVhbFBheW1lbnREYXRhXG4gICAgfCBTdHJpcGVDb25maXJtU2VwYVBheW1lbnREYXRhXG4gICAgfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCB0eXBlIFN0cmlwZUVsZW1lbnRPcHRpb25zID1cbiAgICB8IENhcmRFbGVtZW50T3B0aW9uc1xuICAgIHwgQ2FyZEV4cGlyeUVsZW1lbnRPcHRpb25zXG4gICAgfCBDYXJkTnVtYmVyRWxlbWVudE9wdGlvbnNcbiAgICB8IENhcmRDdmNFbGVtZW50T3B0aW9uc1xuICAgIHwgSWRlYWxFbGVtZW50T3B0aW9uc1xuICAgIHwgSWJhbkVsZW1lbnRPcHRpb25zXG4gICAgfCBaaXBDb2RlRWxlbWVudE9wdGlvbnM7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlRWxlbWVudCB7XG4gICAgLyoqXG4gICAgICogVGhlIGBlbGVtZW50Lm1vdW50YCBtZXRob2QgYXR0YWNoZXMgeW91ciBlbGVtZW50IHRvIHRoZSBET00uXG4gICAgICovXG4gICAgbW91bnQoZG9tRWxlbWVudDogc3RyaW5nIHwgSFRNTEVsZW1lbnQpOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgZWxlbWVudCBmcm9tIHRoZSBET00gYW5kIGRlc3Ryb3lzIGl0LlxuICAgICAqIEEgZGVzdHJveWVkIGVsZW1lbnQgY2FuIG5vdCBiZSByZS1hY3RpdmF0ZWQgb3IgcmUtbW91bnRlZCB0byB0aGUgRE9NLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKTogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIFVubW91bnRzIHRoZSBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgKiBDYWxsIGBlbGVtZW50Lm1vdW50YCB0byByZS1hdHRhY2ggaXQgdG8gdGhlIERPTS5cbiAgICAgKi9cbiAgICB1bm1vdW50KCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlRWxlbWVudHMge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgQWxpcGF5RWxlbWVudGAgfCBgQ2FyZEVsZW1lbnRgIHwgYENhcmRDdmNFbGVtZW50YCB8YENhcmRFeHBpcnlFbGVtZW50YCB8IGBDYXJkRXhwaXJ5RWxlbWVudGAgfCBgQ2FyZE51bWJlckVsZW1lbnRgIHwgYElkZWFsQmFua0VsZW1lbnRgIHwgYEliYW5FbGVtZW50YC5cbiAgICAgKi9cbiAgICBjcmVhdGUoZWxlbWVudFR5cGU6IFN0cmlwZUVsZW1lbnRUeXBlLCBvcHRpb25zPzogU3RyaXBlRWxlbWVudE9wdGlvbnMpOiBTdHJpcGVFbGVtZW50O1xuXG4gICAgLyoqXG4gICAgICogTG9va3MgdXAgYSBwcmV2aW91c2x5IGNyZWF0ZWQgYEVsZW1lbnRgIGJ5IGl0cyB0eXBlLlxuICAgICAqL1xuICAgIGdldEVsZW1lbnQoZWxlbWVudFR5cGU6IFN0cmlwZUVsZW1lbnRUeXBlKTogU3RyaXBlRWxlbWVudCB8IG51bGw7XG59XG5cbi8qKlxuICogVGhpcyBvYmplY3QgaXMgdXNlZCB0byBwYXNzIGN1c3RvbSBmb250cyB3aGVuIGNyZWF0aW5nIGFuIFtFbGVtZW50c10oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvZWxlbWVudHNfb2JqZWN0L2NyZWF0ZSkgb2JqZWN0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENzc0ZvbnRTb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIEEgcmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHBvaW50aW5nIHRvIGEgQ1NTIGZpbGUgd2l0aCBbQGZvbnQtZmFjZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0Bmb250LWZhY2UpIGRlZmluaXRpb25zLCBmb3IgZXhhbXBsZTpcbiAgICAgKiBgaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PU9wZW4rU2Fuc2BcbiAgICAgKiBOb3RlIHRoYXQgaWYgeW91IGFyZSB1c2luZyBhIFtjb250ZW50IHNlY3VyaXR5IHBvbGljeV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9IZWFkZXJzL0NvbnRlbnQtU2VjdXJpdHktUG9saWN5KSAoQ1NQKSxcbiAgICAgKiBbYWRkaXRpb25hbCBkaXJlY3RpdmVzXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9zZWN1cml0eSNjb250ZW50LXNlY3VyaXR5LXBvbGljeSkgbWF5IGJlIG5lY2Vzc2FyeS5cbiAgICAgKi9cbiAgICBjc3NTcmM6IHN0cmluZztcbn1cblxuLyoqXG4gKiBUaGlzIG9iamVjdCBpcyB1c2VkIHRvIHBhc3MgY3VzdG9tIGZvbnRzIHdoZW4gY3JlYXRpbmcgYW4gW0VsZW1lbnRzXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9lbGVtZW50c19vYmplY3QvY3JlYXRlKSBvYmplY3QuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ3VzdG9tRm9udFNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgdG8gZ2l2ZSB0aGUgZm9udC5cbiAgICAgKi9cbiAgICBmYW1pbHk6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgdmFsaWQgW3NyY10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0Bmb250LWZhY2Uvc3JjKSB2YWx1ZSBwb2ludGluZyB0byB5b3VyXG4gICAgICogY3VzdG9tIGZvbnQgZmlsZS4gVGhpcyBpcyB1c3VhbGx5ICh0aG91Z2ggbm90IGFsd2F5cykgYSBsaW5rIHRvIGEgZmlsZSB3aXRoIGEgLndvZmYgLCAub3RmLCBvciAuc3ZnIHN1ZmZpeC5cbiAgICAgKi9cbiAgICBzcmM6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgdmFsaWQgW2ZvbnQtZGlzcGxheV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0Bmb250LWZhY2UvZm9udC1kaXNwbGF5KSB2YWx1ZS5cbiAgICAgKi9cbiAgICBkaXNwbGF5Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogT25lIG9mIG5vcm1hbCwgaXRhbGljLCBvYmxpcXVlLiBEZWZhdWx0cyB0byBub3JtYWwuXG4gICAgICovXG4gICAgc3R5bGU/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBIHZhbGlkIFt1bmljb2RlLXJhbmdlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvQGZvbnQtZmFjZS91bmljb2RlLXJhbmdlKSB2YWx1ZS5cbiAgICAgKi9cbiAgICB1bmljb2RlUmFuZ2U/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBIHZhbGlkIFtmb250LXdlaWdodF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2ZvbnQtd2VpZ2h0KS4gTm90ZSB0aGF0IHRoaXMgaXMgYSBzdHJpbmcsIG5vdCBhIG51bWJlci5cbiAgICAgKi9cbiAgICB3ZWlnaHQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIEN1c3RvbUZvbnQgPSBDc3NGb250U291cmNlIHwgQ3VzdG9tRm9udFNvdXJjZTtcblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVFbGVtZW50c09wdGlvbnMge1xuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIGN1c3RvbSBmb250cywgd2hpY2ggZWxlbWVudHMgY3JlYXRlZCBmcm9tIHRoZSBFbGVtZW50cyBvYmplY3QgY2FuIHVzZS5cbiAgICAgKiBGb250cyBjYW4gYmUgc3BlY2lmaWVkIGFzIFtDc3NGb250U291cmNlXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9hcHBlbmRpeC9jc3NfZm9udF9zb3VyY2Vfb2JqZWN0KVxuICAgICAqIG9yIFtDdXN0b21Gb250U291cmNlXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9hcHBlbmRpeC9jdXN0b21fZm9udF9zb3VyY2Vfb2JqZWN0KSBvYmplY3RzLlxuICAgICAqL1xuICAgIGZvbnRzPzogQ3VzdG9tRm9udFtdO1xuXG4gICAgLyoqXG4gICAgICogQSBbbG9jYWxlXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9hcHBlbmRpeC9zdXBwb3J0ZWRfbG9jYWxlcykgdG8gZGlzcGxheSBwbGFjZWhvbGRlcnMgYW5kXG4gICAgICogZXJyb3Igc3RyaW5ncyBpbi4gRGVmYXVsdCBpcyBhdXRvIChTdHJpcGUgZGV0ZWN0cyB0aGUgbG9jYWxlIG9mIHRoZSBicm93c2VyKS5cbiAgICAgKiBTZXR0aW5nIHRoZSBsb2NhbGUgZG9lcyBub3QgYWZmZWN0IHRoZSBiZWhhdmlvciBvZiBwb3N0YWwgY29kZSB2YWxpZGF0aW9u4oCUYSB2YWxpZCBwb3N0YWwgY29kZVxuICAgICAqIGZvciB0aGUgYmlsbGluZyBjb3VudHJ5IG9mIHRoZSBjYXJkIGlzIHN0aWxsIHJlcXVpcmVkLlxuICAgICAqL1xuICAgIGxvY2FsZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVDb25maXJtUGF5bWVudE9wdGlvbnMge1xuICAgIC8qKlxuICAgICAqIFNldCB0aGlzIHRvIGZhbHNlIGlmIHlvdSB3YW50IHRvIFttYW51YWxseSBoYW5kbGUgdGhlIGF1dGhvcml6YXRpb24gcmVkaXJlY3RdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3BheW1lbnRzL2lkZWFsI2hhbmRsZS1yZWRpcmVjdCkuIERlZmF1bHQgaXMgdHJ1ZS5cbiAgICAgKi9cbiAgICBoYW5kbGVBY3Rpb25zPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVWM0NsaWVudCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGBFbGVtZW50c2AgaW5zdGFuY2UsIHdoaWNoIG1hbmFnZXMgYSBncm91cCBvZiBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBlbGVtZW50cyhvcHRpb25zPzogU3RyaXBlRWxlbWVudHNPcHRpb25zKTogU3RyaXBlRWxlbWVudHM7XG5cbiAgICAvKlxuICAgICAqIEBkb2NzIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL3BheW1lbnRfaW50ZW50cy9jb25maXJtX2FsaXBheV9wYXltZW50XG4gICAgICpcbiAgICAgKiBVc2UgYHN0cmlwZS5jb25maXJtQWxpcGF5UGF5bWVudGAgaW4gdGhlIEFsaXBheSBwYXltZW50IG1ldGhvZCBjcmVhdGlvbiBmbG93IHdoZW4gdGhlIGN1c3RvbWVyIHN1Ym1pdHMgeW91ciBwYXltZW50IGZvcm0uXG4gICAgICogV2hlbiBjYWxsZWQsIGl0IHdpbGwgY29uZmlybSB0aGUgW1BheW1lbnRJbnRlbnRdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X2ludGVudHMpIHdpdGggZGF0YSB5b3UgcHJvdmlkZSwgYW5kIGl0IHdpbGwgYXV0b21hdGljYWxseVxuICAgICAqIHJlZGlyZWN0IHRoZSBjdXN0b21lciB0byB0aGUgYXV0aG9yaXplIHRoZSB0cmFuc2FjdGlvbi4gT25jZSBhdXRob3JpemF0aW9uIGlzIGNvbXBsZXRlLCB0aGUgY3VzdG9tZXIgd2lsbCBiZSByZWRpcmVjdGVkXG4gICAgICogYmFjayB0byB5b3VyIHNwZWNpZmllZCBgcmV0dXJuX3VybGAuIFdoZW4geW91IGNvbmZpcm0gYSBgUGF5bWVudEludGVudGAsIGl0IG5lZWRzIHRvIGhhdmUgYW4gYXR0YWNoZWQgW1BheW1lbnRNZXRob2RdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X21ldGhvZHMpLlxuICAgICAqIEluIGFkZGl0aW9uIHRvIGNvbmZpcm1pbmcgdGhlIGBQYXltZW50SW50ZW50YCwgdGhpcyBtZXRob2QgY2FuIGF1dG9tYXRpY2FsbHkgY3JlYXRlIGFuZCBhdHRhY2ggYSBuZXcgYFBheW1lbnRNZXRob2RgIGZvciB5b3UuXG4gICAgICogSWYgeW91IGhhdmUgYWxyZWFkeSBhdHRhY2hlZCBhIGBQYXltZW50TWV0aG9kYCB5b3UgY2FuIGNhbGwgdGhpcyBtZXRob2Qgd2l0aG91dCBuZWVkaW5nIHRvIHByb3ZpZGUgYW55IGFkZGl0aW9uYWwgZGF0YS5cbiAgICAgKiBUaGVzZSB1c2UgY2FzZXMgYXJlIGRldGFpbGVkIGluIHRoZSBzZWN0aW9ucyB0aGF0IGZvbGxvdy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zXG4gICAgICogYHN0cmlwZS5jb25maXJtQWxpcGF5UGF5bWVudGAgYnkgZGVmYXVsdCwgd2lsbCB0cmlnZ2VyIGEgcmVkaXJlY3Qgd2hlbiBzdWNjZXNzZnVsLiBJZiB0aGVyZSBpcyBhbiBlcnJvciwgb3Igd2hlbiBoYW5kbGluZ1xuICAgICAqIGBuZXh0X2FjdGlvbnNgIG1hbnVhbGx5IGJ5IHVzaW5nIHRoZSBgaGFuZGxlQWN0aW9uczogZmFsc2VgIG9wdGlvbiwgaXQgd2lsbCByZXR1cm4gYSBgUHJvbWlzZWAgd2hpY2ggcmVzb2x2ZXMgd2l0aCBhIGByZXN1bHRgIG9iamVjdC5cbiAgICAgKiBUaGlzIG9iamVjdCBoYXMgZWl0aGVyOlxuICAgICAqXG4gICAgICogLSByZXN1bHQucGF5bWVudEludGVudDogdGhlIHN1Y2Nlc3NmdWwgUGF5bWVudEludGVudC5cbiAgICAgKiAtIHJlc3VsdC5lcnJvcjogYW4gZXJyb3IuIFJlZmVyIHRvIHRoZSBBUEkgcmVmZXJlbmNlIGZvciBhbGwgcG9zc2libGUgZXJyb3JzLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IGBzdHJpcGUuY29uZmlybUFsaXBheVBheW1lbnRgIG1heSB0YWtlIHNldmVyYWwgc2Vjb25kcyB0byBjb21wbGV0ZS4gRHVyaW5nIHRoYXQgdGltZSwgeW91IHNob3VsZCBkaXNhYmxlIHlvdXJcbiAgICAgKiBmb3JtIGZyb20gYmVpbmcgcmVzdWJtaXR0ZWQgYW5kIHNob3cgYSB3YWl0aW5nIGluZGljYXRvciBsaWtlIGEgc3Bpbm5lci4gSWYgeW91IHJlY2VpdmUgYW4gZXJyb3IgcmVzdWx0LCB5b3Ugc2hvdWxkXG4gICAgICogYmUgc3VyZSB0byBzaG93IHRoYXQgZXJyb3IgdG8gdGhlIGN1c3RvbWVyLCByZS1lbmFibGUgdGhlIGZvcm0sIGFuZCBoaWRlIHRoZSB3YWl0aW5nIGluZGljYXRvci5cbiAgICAgKi9cbiAgICBjb25maXJtQWxpcGF5UGF5bWVudChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBbY2xpZW50IHNlY3JldF0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfaW50ZW50cy9vYmplY3QjcGF5bWVudF9pbnRlbnRfb2JqZWN0LWNsaWVudF9zZWNyZXQpIG9mIHRoZSBQYXltZW50SW50ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgY2xpZW50U2VjcmV0OiBzdHJpbmcsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERhdGEgdG8gYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0LiBSZWZlciB0byB0aGUgUGF5bWVudCBJbnRlbnRzIEFQSSBmb3IgYSBmdWxsIGxpc3Qgb2YgcGFyYW1ldGVycy5cbiAgICAgICAgICovXG4gICAgICAgIGRhdGE/OiBTdHJpcGVDb25maXJtQWxpcGF5UGF5bWVudERhdGEsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIG9wdGlvbnMgb2JqZWN0IHRvIGNvbnRyb2wgdGhlIGJlaGF2aW9yIG9mIHRoaXMgbWV0aG9kLlxuICAgICAgICAgKi9cbiAgICAgICAgb3B0aW9ucz86IFN0cmlwZUNvbmZpcm1QYXltZW50T3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHsgcGF5bWVudEludGVudD86IFBheW1lbnRJbnRlbnQ7IGVycm9yPzogU3RyaXBlRXJyb3IgfT47XG5cbiAgICAvKlxuICAgICAqIEBkb2NzIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL3BheW1lbnRfaW50ZW50cy9jb25maXJtX2NhcmRfcGF5bWVudFxuICAgICAqXG4gICAgICogVXNlIGBzdHJpcGUuY29uZmlybUNhcmRQYXltZW50YCB3aGVuIHRoZSBjdXN0b21lciBzdWJtaXRzIHlvdXIgcGF5bWVudCBmb3JtLlxuICAgICAqIFdoZW4gY2FsbGVkLCBpdCB3aWxsIGNvbmZpcm0gdGhlIFtQYXltZW50SW50ZW50XShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9pbnRlbnRzKVxuICAgICAqIHdpdGggYGRhdGFgIHlvdSBwcm92aWRlIGFuZCBjYXJyeSBvdXQgM0RTIG9yIG90aGVyIG5leHQgYWN0aW9ucyBpZiB0aGV5IGFyZSByZXF1aXJlZC5cbiAgICAgKlxuICAgICAqIElmIHlvdSBhcmUgdXNpbmcgW0R5bmFtaWMgM0QgU2VjdXJlXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9wYXltZW50cy8zZC1zZWN1cmUjdGhyZWUtZHMtcmFkYXIpLCBgc3RyaXBlLmNvbmZpcm1DYXJkUGF5bWVudGAgd2lsbFxuICAgICAqIHRyaWdnZXIgeW91ciBSYWRhciBydWxlcyB0byBleGVjdXRlIGFuZCBtYXkgb3BlbiBhIGRpYWxvZyBmb3IgeW91ciBjdXN0b21lciB0byBhdXRoZW50aWNhdGUgdGhlaXIgcGF5bWVudC5cbiAgICAgKlxuICAgICAqIFdoZW4geW91IGNvbmZpcm0gYSBgUGF5bWVudEludGVudGAsIGl0IG5lZWRzIHRvIGhhdmUgYW4gYXR0YWNoZWQgW1BheW1lbnRNZXRob2RdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X21ldGhvZHMpLlxuICAgICAqIEluIGFkZGl0aW9uIHRvIGNvbmZpcm1pbmcgdGhlIGBQYXltZW50SW50ZW50YCwgdGhpcyBtZXRob2QgY2FuIGF1dG9tYXRpY2FsbHkgY3JlYXRlIGFuZCBhdHRhY2ggYSBuZXcgYFBheW1lbnRNZXRob2RgIGZvciB5b3UuXG4gICAgICogSXQgY2FuIGFsc28gYmUgY2FsbGVkIHdpdGggYW4gZXhpc3RpbmcgYFBheW1lbnRNZXRob2RgLCBvciBpZiB5b3UgaGF2ZSBhbHJlYWR5IGF0dGFjaGVkIGEgUGF5bWVudE1ldGhvZCB5b3UgY2FuIGNhbGwgdGhpc1xuICAgICAqIG1ldGhvZCB3aXRob3V0IG5lZWRpbmcgdG8gcHJvdmlkZSBhbnkgYWRkaXRpb25hbCBkYXRhLiBUaGVzZSB1c2UgY2FzZXMgYXJlIGRldGFpbGVkIGluIHRoZSBzZWN0aW9ucyB0aGF0IGZvbGxvdy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zXG4gICAgICogYHN0cmlwZS5jb25maXJtQ2FyZFBheW1lbnRgIHdpbGwgcmV0dXJuIGEgUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIGEgcmVzdWx0IG9iamVjdC5cbiAgICAgKiBUaGlzIG9iamVjdCBoYXMgZWl0aGVyOlxuICAgICAqXG4gICAgICogLSByZXN1bHQucGF5bWVudEludGVudDogdGhlIHN1Y2Nlc3NmdWwgUGF5bWVudEludGVudC5cbiAgICAgKiAtIHJlc3VsdC5lcnJvcjogYW4gZXJyb3IuIFJlZmVyIHRvIHRoZSBBUEkgcmVmZXJlbmNlIGZvciBhbGwgcG9zc2libGUgZXJyb3JzLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IHN0cmlwZS5jb25maXJtQ2FyZFBheW1lbnQgbWF5IHRha2Ugc2V2ZXJhbCBzZWNvbmRzIHRvIGNvbXBsZXRlLiBEdXJpbmcgdGhhdCB0aW1lLCB5b3Ugc2hvdWxkIGRpc2FibGVcbiAgICAgKiB5b3VyIGZvcm0gZnJvbSBiZWluZyByZXN1Ym1pdHRlZCBhbmQgc2hvdyBhIHdhaXRpbmcgaW5kaWNhdG9yIGxpa2UgYSBzcGlubmVyLiBJZiB5b3UgcmVjZWl2ZSBhbiBlcnJvciByZXN1bHQsXG4gICAgICogeW91IHNob3VsZCBiZSBzdXJlIHRvIHNob3cgdGhhdCBlcnJvciB0byB0aGUgY3VzdG9tZXIsIHJlLWVuYWJsZSB0aGUgZm9ybSwgYW5kIGhpZGUgdGhlIHdhaXRpbmcgaW5kaWNhdG9yLlxuICAgICAqXG4gICAgICogQWRkaXRpb25hbGx5LCBgc3RyaXBlLmNvbmZpcm1DYXJkUGF5bWVudCBtYXkgdHJpZ2dlcmAgYSBbM0QgU2VjdXJlXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9wYXltZW50cy8zZC1zZWN1cmUpIGF1dGhlbnRpY2F0aW9uXG4gICAgICogY2hhbGxlbmdlLiBUaGlzIHdpbGwgYmUgc2hvd24gaW4gYSBtb2RhbCBkaWFsb2cgYW5kIG1heSBiZSBjb25mdXNpbmcgZm9yIGN1c3RvbWVycyB1c2luZyBhc3Npc3RpdmUgdGVjaG5vbG9naWVzIGxpa2VcbiAgICAgKiBzY3JlZW4gcmVhZGVycy4gWW91IHNob3VsZCBtYWtlIHlvdXIgZm9ybSBhY2Nlc3NpYmxlIGJ5IGVuc3VyaW5nIHRoYXQgc3VjY2VzcyBvciBlcnJvciBtZXNzYWdlcyBhcmUgY2xlYXJseSByZWFkIG91dFxuICAgICAqIGFmdGVyIHRoaXMgbWV0aG9kIGNvbXBsZXRlcy5cbiAgICAgKlxuICAgICAqL1xuICAgIGNvbmZpcm1DYXJkUGF5bWVudChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBbY2xpZW50IHNlY3JldF0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfaW50ZW50cy9vYmplY3QjcGF5bWVudF9pbnRlbnRfb2JqZWN0LWNsaWVudF9zZWNyZXQpIG9mIHRoZSBQYXltZW50SW50ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgY2xpZW50U2VjcmV0OiBzdHJpbmcsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERhdGEgdG8gYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0LiBSZWZlciB0byB0aGUgUGF5bWVudCBJbnRlbnRzIEFQSSBmb3IgYSBmdWxsIGxpc3Qgb2YgcGFyYW1ldGVycy5cbiAgICAgICAgICovXG4gICAgICAgIGRhdGE/OiBTdHJpcGVDb25maXJtQ2FyZFBheW1lbnREYXRhLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBvcHRpb25zIG9iamVjdCB0byBjb250cm9sIHRoZSBiZWhhdmlvciBvZiB0aGlzIG1ldGhvZC5cbiAgICAgICAgICovXG4gICAgICAgIG9wdGlvbnM/OiBTdHJpcGVDb25maXJtUGF5bWVudE9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx7IHBheW1lbnRJbnRlbnQ/OiBQYXltZW50SW50ZW50OyBlcnJvcj86IFN0cmlwZUVycm9yIH0+O1xuXG4gICAgLypcbiAgICAgKiBAZG9jcyBodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9wYXltZW50X2ludGVudHMvY29uZmlybV9pZGVhbF9wYXltZW50XG4gICAgICpcbiAgICAgKiBVc2UgYHN0cmlwZS5jb25maXJtSWRlYWxQYXltZW50YCBpbiB0aGUgW2lERUFMIFBheW1lbnRzIHdpdGggUGF5bWVudCBNZXRob2RzXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9wYXltZW50cy9pZGVhbClcbiAgICAgKiBmbG93IHdoZW4gdGhlIGN1c3RvbWVyIHN1Ym1pdHMgeW91ciBwYXltZW50IGZvcm0uIFdoZW4gY2FsbGVkLCBpdCB3aWxsIGNvbmZpcm0gdGhlIGBQYXltZW50SW50ZW50YCB3aXRoIGBkYXRhYCB5b3VcbiAgICAgKiBwcm92aWRlLCBhbmQgaXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZGlyZWN0IHRoZSBjdXN0b21lciB0byB0aGUgYXV0aG9yaXplIHRoZSB0cmFuc2FjdGlvbi5cbiAgICAgKiBPbmNlIGF1dGhvcml6YXRpb24gaXMgY29tcGxldGUsIHRoZSBjdXN0b21lciB3aWxsIGJlIHJlZGlyZWN0ZWQgYmFjayB0byB5b3VyIHNwZWNpZmllZCBgcmV0dXJuX3VybGAuXG4gICAgICpcbiAgICAgKiBXaGVuIHlvdSBjb25maXJtIGEgYFBheW1lbnRJbnRlbnRgLCBpdCBuZWVkcyB0byBoYXZlIGFuIGF0dGFjaGVkIFtQYXltZW50TWV0aG9kXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9tZXRob2RzKS5cbiAgICAgKiBJbiBhZGRpdGlvbiB0byBjb25maXJtaW5nIHRoZSBgUGF5bWVudEludGVudGAsIHRoaXMgbWV0aG9kIGNhbiBhdXRvbWF0aWNhbGx5IGNyZWF0ZSBhbmQgYXR0YWNoIGEgbmV3IGBQYXltZW50TWV0aG9kYCBmb3IgeW91LlxuICAgICAqIEl0IGNhbiBhbHNvIGJlIGNhbGxlZCB3aXRoIGFuIGV4aXN0aW5nIGBQYXltZW50TWV0aG9kYCwgb3IgaWYgeW91IGhhdmUgYWxyZWFkeSBhdHRhY2hlZCBhIFBheW1lbnRNZXRob2QgeW91IGNhbiBjYWxsIHRoaXNcbiAgICAgKiBtZXRob2Qgd2l0aG91dCBuZWVkaW5nIHRvIHByb3ZpZGUgYW55IGFkZGl0aW9uYWwgZGF0YS4gVGhlc2UgdXNlIGNhc2VzIGFyZSBkZXRhaWxlZCBpbiB0aGUgc2VjdGlvbnMgdGhhdCBmb2xsb3cuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqIEJ5IGRlZmF1bHQsIGBzdHJpcGUuY29uZmlybUlkZWFsUGF5bWVudGAgd2lsbCB0cmlnZ2VyIGEgcmVkaXJlY3Qgd2hlbiBzdWNjZXNzZnVsLiBJZiB0aGVyZSBpcyBhbiBlcnJvciwgb3Igd2hlbiBoYW5kbGluZ1xuICAgICAqIG5leHQgYWN0aW9ucyBtYW51YWxseSBieSB1c2luZyB0aGUgYGhhbmRsZUFjdGlvbnM6IGZhbHNlYCBvcHRpb24sIGl0IHdpbGwgcmV0dXJuIGEgYFByb21pc2VgIHdoaWNoIHJlc29sdmVzIHdpdGggYSBgcmVzdWx0YFxuICAgICAqIG9iamVjdC4gVGhpcyBvYmplY3QgaGFzIGVpdGhlcjpcbiAgICAgKlxuICAgICAqIC0gcmVzdWx0LnBheW1lbnRJbnRlbnQ6IHRoZSBzdWNjZXNzZnVsIFBheW1lbnRJbnRlbnQuXG4gICAgICogLSByZXN1bHQuZXJyb3I6IGFuIGVycm9yLiBSZWZlciB0byB0aGUgQVBJIHJlZmVyZW5jZSBmb3IgYWxsIHBvc3NpYmxlIGVycm9ycy5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBgc3RyaXBlLmNvbmZpcm1JZGVhbFBheW1lbnRgIG1heSB0YWtlIHNldmVyYWwgc2Vjb25kcyB0byBjb21wbGV0ZS4gRHVyaW5nIHRoYXQgdGltZSwgeW91IHNob3VsZCBkaXNhYmxlXG4gICAgICogeW91ciBmb3JtIGZyb20gYmVpbmcgcmVzdWJtaXR0ZWQgYW5kIHNob3cgYSB3YWl0aW5nIGluZGljYXRvciBsaWtlIGEgc3Bpbm5lci4gSWYgeW91IHJlY2VpdmUgYW4gZXJyb3IgcmVzdWx0LFxuICAgICAqIHlvdSBzaG91bGQgYmUgc3VyZSB0byBzaG93IHRoYXQgZXJyb3IgdG8gdGhlIGN1c3RvbWVyLCByZS1lbmFibGUgdGhlIGZvcm0sIGFuZCBoaWRlIHRoZSB3YWl0aW5nIGluZGljYXRvci5cbiAgICAgKi9cbiAgICBjb25maXJtSWRlYWxQYXltZW50KFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFtjbGllbnQgc2VjcmV0XShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9pbnRlbnRzL29iamVjdCNwYXltZW50X2ludGVudF9vYmplY3QtY2xpZW50X3NlY3JldCkgb2YgdGhlIFBheW1lbnRJbnRlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBjbGllbnRTZWNyZXQ6IHN0cmluZyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGF0YSB0byBiZSBzZW50IHdpdGggdGhlIHJlcXVlc3QuIFJlZmVyIHRvIHRoZSBQYXltZW50IEludGVudHMgQVBJIGZvciBhIGZ1bGwgbGlzdCBvZiBwYXJhbWV0ZXJzLlxuICAgICAgICAgKi9cbiAgICAgICAgZGF0YT86IFN0cmlwZUNvbmZpcm1JZGVhbFBheW1lbnREYXRhLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBvcHRpb25zIG9iamVjdCB0byBjb250cm9sIHRoZSBiZWhhdmlvciBvZiB0aGlzIG1ldGhvZC5cbiAgICAgICAgICovXG4gICAgICAgIG9wdGlvbnM/OiBTdHJpcGVDb25maXJtUGF5bWVudE9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx7IHBheW1lbnRJbnRlbnQ/OiBQYXltZW50SW50ZW50OyBlcnJvcj86IFN0cmlwZUVycm9yIH0+O1xuXG4gICAgLypcbiAgICAgKlxuICAgICAqIFVzZSBgc3RyaXBlLmNvbmZpcm1TZXBhRGViaXRQYXltZW50YCBpbiB0aGUgW1NFUEEgRGlyZWN0IERlYml0IFBheW1lbnRzXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9wYXltZW50cy9zZXBhLWRlYml0KVxuICAgICAqIHdpdGggUGF5bWVudCBNZXRob2RzIGZsb3cgd2hlbiB0aGUgY3VzdG9tZXIgc3VibWl0cyB5b3VyIHBheW1lbnQgZm9ybS4gV2hlbiBjYWxsZWQsIGl0IHdpbGwgY29uZmlybSB0aGVcbiAgICAgKiBbUGF5bWVudEludGVudF0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfaW50ZW50cykgd2l0aCBgZGF0YWAgeW91IHByb3ZpZGUuIE5vdGUgdGhhdCB0aGVyZSBhcmUgc29tZSBhZGRpdGlvbmFsXG4gICAgICogcmVxdWlyZW1lbnRzIHRvIHRoaXMgZmxvdyB0aGF0IGFyZSBub3QgY292ZXJlZCBpbiB0aGlzIHJlZmVyZW5jZS4gUmVmZXIgdG8gb3VyIFtpbnRlZ3JhdGlvbiBndWlkZV0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvcGF5bWVudHMvc2VwYS1kZWJpdFxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBXaGVuIHlvdSBjb25maXJtIGEgUGF5bWVudEludGVudCwgaXQgbmVlZHMgdG8gaGF2ZSBhbiBhdHRhY2hlZCBQYXltZW50TWV0aG9kLiBJbiBhZGRpdGlvbiB0byBjb25maXJtaW5nIHRoZSBQYXltZW50SW50ZW50LFxuICAgICAqIHRoaXMgbWV0aG9kIGNhbiBhdXRvbWF0aWNhbGx5IGNyZWF0ZSBhbmQgYXR0YWNoIGEgbmV3IFBheW1lbnRNZXRob2QgZm9yIHlvdS4gSWYgeW91IGhhdmUgYWxyZWFkeSBhdHRhY2hlZCBhXG4gICAgICogW1BheW1lbnRNZXRob2RdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X21ldGhvZHMpIHlvdSBjYW4gY2FsbCB0aGlzIG1ldGhvZCB3aXRob3V0IG5lZWRpbmcgdG8gcHJvdmlkZSBhbnkgYWRkaXRpb25hbCBkYXRhLlxuICAgICAqIFRoZXNlIHVzZSBjYXNlcyBhcmUgZGV0YWlsZWQgaW4gdGhlIHNlY3Rpb25zIHRoYXQgZm9sbG93LlxuICAgICAqXG4gICAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvcGF5bWVudF9pbnRlbnRzL2NvbmZpcm1fc2VwYV9kZWJpdF9wYXltZW50XG4gICAgICovXG4gICAgY29uZmlybVNlcGFEZWJpdFBheW1lbnQoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgW2NsaWVudCBzZWNyZXRdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2FwaS9wYXltZW50X2ludGVudHMvb2JqZWN0I3BheW1lbnRfaW50ZW50X29iamVjdC1jbGllbnRfc2VjcmV0KSBvZiB0aGUgUGF5bWVudEludGVudC5cbiAgICAgICAgICovXG4gICAgICAgIGNsaWVudFNlY3JldDogc3RyaW5nLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEYXRhIHRvIGJlIHNlbnQgd2l0aCB0aGUgcmVxdWVzdC4gUmVmZXIgdG8gdGhlIFtQYXltZW50IEludGVudHMgQVBJXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvcGF5bWVudF9pbnRlbnRzL2NvbmZpcm0pIGZvciBhIGZ1bGwgbGlzdCBvZiBwYXJhbWV0ZXJzLlxuICAgICAgICAgKi9cbiAgICAgICAgZGF0YT86IFN0cmlwZUNvbmZpcm1TZXBhUGF5bWVudERhdGEsXG4gICAgKTogUHJvbWlzZTx7IHBheW1lbnRJbnRlbnQ/OiBQYXltZW50SW50ZW50OyBlcnJvcj86IFN0cmlwZUVycm9yIH0+O1xuXG4gICAgLypcbiAgICAgKiBVc2Ugc3RyaXBlLmNyZWF0ZVBheW1lbnRNZXRob2QgdG8gY29udmVydCBwYXltZW50IGluZm9ybWF0aW9uIGNvbGxlY3RlZCBieSBlbGVtZW50cyBpbnRvIGEgUGF5bWVudE1ldGhvZFxuICAgICAqIG9iamVjdCB0aGF0IHlvdSBzYWZlbHkgcGFzcyB0byB5b3VyIHNlcnZlciB0byB1c2UgaW4gYW4gQVBJIGNhbGwuXG4gICAgICpcbiAgICAgKiBAZG9jcyBodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9wYXltZW50X21ldGhvZHMvY3JlYXRlX3BheW1lbnRfbWV0aG9kXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHlwZTogU3RyaW5nLCBUaGUgdHlwZSBvZiB0aGUgUGF5bWVudE1ldGhvZCB0byBjcmVhdGUuIFJlZmVyIHRvIHRoZSBQYXltZW50TWV0aG9kIEFQSSBmb3IgYWxsIHBvc3NpYmxlIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0gY2FyZDogU3RyaXBlRWxlbWVudCwgQSBjYXJkIG9yIGNhcmROdW1iZXIgRWxlbWVudC5cbiAgICAgKiBAcGFyYW0gYmlsbGluZ19kZXRhaWxzOiBTdHJpcGVCaWxsaW5nRGV0YWlscywgQmlsbGluZyBpbmZvcm1hdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhlIFBheW1lbnRNZXRob2QgdGhhdFxuICAgICAqIG1heSBiZSB1c2VkIG9yIHJlcXVpcmVkIGJ5IHBhcnRpY3VsYXIgdHlwZXMgb2YgcGF5bWVudCBtZXRob2RzLlxuICAgICAqL1xuICAgIGNyZWF0ZVBheW1lbnRNZXRob2QoXG4gICAgICAgIHBhcmFtczogQ3JlYXRlUGF5bWVudE1ldGhvZFBhcmFtcyxcbiAgICApOiBQcm9taXNlPHsgcGF5bWVudE1ldGhvZD86IFBheW1lbnRNZXRob2Q7IGVycm9yPzogU3RyaXBlRXJyb3IgfT47XG5cbiAgICAvKlxuICAgICAqIFVzZSBzdHJpcGUuaGFuZGxlQ2FyZEFjdGlvbiBpbiB0aGUgUGF5bWVudCBJbnRlbnRzIEFQSSBtYW51YWwgY29uZmlybWF0aW9uIGZsb3cgdG8gaGFuZGxlIGEgUGF5bWVudEludGVudFxuICAgICAqIHdpdGggdGhlIHJlcXVpcmVzX2FjdGlvbiBzdGF0dXMuIEl0IHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIFBheW1lbnRJbnRlbnQgaGFzIGEgZGlmZmVyZW50IHN0YXR1cy5cbiAgICAgKlxuICAgICAqIEBkb2NzIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL3BheW1lbnRfaW50ZW50cy9oYW5kbGVfY2FyZF9hY3Rpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXltZW50SW50ZW50Q2xpZW50U2VjcmV0OiBTdHJpbmcsIFRoZSBjbGllbnQgc2VjcmV0IG9mIHRoZSBQYXltZW50SW50ZW50IHRvIGhhbmRsZS5cbiAgICAgKi9cbiAgICBoYW5kbGVDYXJkQWN0aW9uKFxuICAgICAgICBwYXltZW50SW50ZW50Q2xpZW50U2VjcmV0OiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTx7IHBheW1lbnRJbnRlbnQ/OiBQYXltZW50SW50ZW50OyBlcnJvcj86IFN0cmlwZUVycm9yIH0+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVBheW1lbnRNZXRob2RQYXJhbXMge1xuICAgIHR5cGU6IFN0cmlwZVBheW1lbnRNZXRob2RUeXBlO1xuICAgIGNhcmQ6IFN0cmlwZUVsZW1lbnQ7XG4gICAgYmlsbGluZ19kZXRhaWxzPzogU3RyaXBlQmlsbGluZ0RldGFpbHM7XG4gICAgYWxsb3dfcmVkaXNwbGF5PzogJ2Fsd2F5cycgfCAnbGltaXRlZCcgfCAndW5zcGVjaWZpZWQnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUhvc3RXaW5kb3cgZXh0ZW5kcyBXaW5kb3cge1xuICAgIFN0cmlwZT8oc3RyaXBlUHVibGlzaGFibGVLZXk6IHN0cmluZywgb3B0aW9ucz86IFN0cmlwZUNvbmZpZ3VyYXRpb25PcHRpb25zKTogU3RyaXBlVjNDbGllbnQ7XG59XG5cbmV4cG9ydCBlbnVtIFN0cmlwZUVsZW1lbnRUeXBlIHtcbiAgICBBbGlwYXkgPSAnYWxpcGF5JyxcbiAgICBDYXJkQ3ZjID0gJ2NhcmRDdmMnLFxuICAgIENhcmRFeHBpcnkgPSAnY2FyZEV4cGlyeScsXG4gICAgQ2FyZE51bWJlciA9ICdjYXJkTnVtYmVyJyxcbiAgICBDcmVkaXRDYXJkID0gJ2NhcmQnLFxuICAgIElERUFMID0gJ2lkZWFsQmFuaycsXG4gICAgU2VwYSA9ICdpYmFuJyxcbn1cblxuZXhwb3J0IGVudW0gU3RyaXBlUGF5bWVudE1ldGhvZFR5cGUge1xuICAgIEFsaXBheSA9ICdhbGlwYXknLFxuICAgIENyZWRpdENhcmQgPSAnY2FyZCcsXG4gICAgSURFQUwgPSAnaWRlYWwnLFxuICAgIFNlcGEgPSAnc2VwYV9kZWJpdCcsXG59XG5cbi8qKlxuICogSW5pdGlhbGl6YXRpb24gb3B0aW9ucy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVDb25maWd1cmF0aW9uT3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogRm9yIHVzYWdlIHdpdGggW0Nvbm5lY3RdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2Nvbm5lY3QpIG9ubHkuXG4gICAgICogU3BlY2lmeWluZyBhIGNvbm5lY3RlZCBhY2NvdW50IElEIChlLmcuLCBhY2N0XzI0QkZNcEoxc3ZSNUE4OWspIGFsbG93cyB5b3UgdG8gcGVyZm9ybSBhY3Rpb25zIG9uIGJlaGFsZiBvZiB0aGF0IGFjY291bnQuXG4gICAgICovXG4gICAgc3RyaXBlQWNjb3VudDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgeW91ciBhY2NvdW50J3MgW0FQSSB2ZXJzaW9uXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9hcGkvdmVyc2lvbmluZylcbiAgICAgKi9cbiAgICBhcGlWZXJzaW9uPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQSBsb2NhbGUgdXNlZCB0byBnbG9iYWxseSBjb25maWd1cmUgbG9jYWxpemF0aW9uIGluIFN0cmlwZS4gU2V0dGluZyB0aGUgbG9jYWxlIGhlcmUgd2lsbCBsb2NhbGl6ZSBlcnJvciBzdHJpbmdzIGZvciBhbGwgU3RyaXBlLmpzIG1ldGhvZHMuIEl0IHdpbGwgYWxzbyBjb25maWd1cmUgdGhlIGxvY2FsZSBmb3IgRWxlbWVudHMgYW5kIENoZWNrb3V0LiBEZWZhdWx0IGlzIGF1dG8gKFN0cmlwZSBkZXRlY3RzIHRoZSBsb2NhbGUgb2YgdGhlIGJyb3dzZXIpLlxuICAgICAqIE5vdGUgdGhhdCBDaGVja291dCBzdXBwb3J0cyBhIHNsaWdodGx5IGRpZmZlcmVudCBzZXQgb2YgbG9jYWxlcyB0aGFuIFN0cmlwZS5qcy5cbiAgICAgKi9cbiAgICBsb2NhbGU/OiBzdHJpbmc7XG5cbiAgICBiZXRhcz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUFkZGl0aW9uYWxBY3Rpb25EYXRhIHtcbiAgICByZWRpcmVjdF91cmw/OiBzdHJpbmc7XG4gICAgaW50ZW50Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUFkZGl0aW9uYWxBY3Rpb24ge1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBkYXRhOiBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uRGF0YTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVDYXJkRWxlbWVudHMge1xuICAgIFtpbmRleDogbnVtYmVyXTogU3RyaXBlRWxlbWVudDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbmRpdmlkdWFsQ2FyZEVsZW1lbnRPcHRpb25zIHtcbiAgICBjYXJkQ3ZjRWxlbWVudE9wdGlvbnM6IENhcmRDdmNFbGVtZW50T3B0aW9ucztcbiAgICBjYXJkRXhwaXJ5RWxlbWVudE9wdGlvbnM6IENhcmRFeHBpcnlFbGVtZW50T3B0aW9ucztcbiAgICBjYXJkTnVtYmVyRWxlbWVudE9wdGlvbnM6IENhcmROdW1iZXJFbGVtZW50T3B0aW9ucztcbiAgICB6aXBDb2RlRWxlbWVudE9wdGlvbnM/OiBaaXBDb2RlRWxlbWVudE9wdGlvbnM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlVjNQYXltZW50TWV0aG9kIGV4dGVuZHMgUGF5bWVudE1ldGhvZCB7XG4gICAgaW5pdGlhbGl6YXRpb25EYXRhOiBTdHJpcGVWM0luaXRpYWxpemF0aW9uRGF0YTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVWM0luaXRpYWxpemF0aW9uRGF0YSB7XG4gICAgc3RyaXBlUHVibGlzaGFibGVLZXk6IHN0cmluZztcbiAgICBzdHJpcGVDb25uZWN0ZWRBY2NvdW50OiBzdHJpbmc7XG4gICAgdXNlSW5kaXZpZHVhbENhcmRGaWVsZHM6IGJvb2xlYW47XG4gICAgYWxsb3dSZWRpc3BsYXlGb3JTdG9yZWRJbnN0cnVtZW50cz86IGJvb2xlYW47XG59XG4iLCJpbXBvcnQgeyBTdGFuZGFyZEVycm9yIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmV4cG9ydCBlbnVtIFN0cmlwZVYzRXJyb3JUeXBlIHtcbiAgICBBdXRoRmFpbHVyZSA9ICdhdXRoX2ZhaWx1cmUnLFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdHJpcGVWM0Vycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgc3VidHlwZTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3Ioc3VidHlwZTogU3RyaXBlVjNFcnJvclR5cGUpIHtcbiAgICAgICAgc3VwZXIoZ2V0RXJyb3JNZXNzYWdlKHN1YnR5cGUpKTtcblxuICAgICAgICB0aGlzLnR5cGUgPSAnc3RyaXBldjNfZXJyb3InO1xuICAgICAgICB0aGlzLnN1YnR5cGUgPSBzdWJ0eXBlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKHR5cGU6IFN0cmlwZVYzRXJyb3JUeXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgU3RyaXBlVjNFcnJvclR5cGUuQXV0aEZhaWx1cmU6XG4gICAgICAgICAgICByZXR1cm4gYFVzZXIgZGlkIG5vdCBhdXRoZW50aWNhdGVgO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ1RoZXJlIHdhcyBhbiBlcnJvciB3aGlsZSBwcm9jZXNzaW5nIHlvdXIgcGF5bWVudC4gUGxlYXNlIHRyeSBhZ2FpbiBvciBjb250YWN0IHVzLic7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgaW5jbHVkZXMsIGlzRW1wdHksIG9taXRCeSwgc29tZSB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7XG4gICAgQWRkcmVzcyxcbiAgICBCaWxsaW5nQWRkcmVzcyxcbiAgICBDdXN0b21lcixcbiAgICBIb3N0ZWRGb3JtLFxuICAgIEhvc3RlZEZvcm1PcHRpb25zLFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIGlzQmlsbGluZ0FkZHJlc3NMaWtlLFxuICAgIGlzSG9zdGVkSW5zdHJ1bWVudExpa2UsXG4gICAgaXNSZXF1ZXN0RXJyb3IsXG4gICAgaXNWYXVsdGVkSW5zdHJ1bWVudCxcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUGF5bWVudFJlcXVlc3RCb2R5LFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudCxcbiAgICBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IsXG4gICAgUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZCxcbiAgICBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IsXG4gICAgUGF5bWVudFJlcXVlc3RPcHRpb25zLFxuICAgIFBheW1lbnRTdHJhdGVneSxcbiAgICBTdHJpcGVWM0Zvcm1hdHRlZFBheWxvYWQsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgaXNJbmRpdmlkdWFsQ2FyZEVsZW1lbnRPcHRpb25zIGZyb20gJy4vaXMtaW5kaXZpZHVhbC1jYXJkLWVsZW1lbnQtb3B0aW9ucyc7XG5pbXBvcnQge1xuICAgIFBheW1lbnRJbnRlbnQsXG4gICAgU3RyaXBlQWRkaXRpb25hbEFjdGlvbixcbiAgICBTdHJpcGVBZGRyZXNzLFxuICAgIFN0cmlwZUJpbGxpbmdEZXRhaWxzLFxuICAgIFN0cmlwZUNhcmRFbGVtZW50cyxcbiAgICBTdHJpcGVDb25maXJtSWRlYWxQYXltZW50RGF0YSxcbiAgICBTdHJpcGVDb25maXJtUGF5bWVudERhdGEsXG4gICAgU3RyaXBlQ29uZmlybVNlcGFQYXltZW50RGF0YSxcbiAgICBTdHJpcGVFbGVtZW50LFxuICAgIFN0cmlwZUVsZW1lbnRPcHRpb25zLFxuICAgIFN0cmlwZUVsZW1lbnRzLFxuICAgIFN0cmlwZUVsZW1lbnRUeXBlLFxuICAgIFN0cmlwZUVycm9yLFxuICAgIFBheW1lbnRNZXRob2QgYXMgU3RyaXBlUGF5bWVudE1ldGhvZCxcbiAgICBTdHJpcGVQYXltZW50TWV0aG9kVHlwZSxcbiAgICBTdHJpcGVWM0NsaWVudCxcbiAgICBTdHJpcGVWM1BheW1lbnRNZXRob2QsXG59IGZyb20gJy4vc3RyaXBldjMnO1xuaW1wb3J0IFN0cmlwZVYzRXJyb3IsIHsgU3RyaXBlVjNFcnJvclR5cGUgfSBmcm9tICcuL3N0cmlwZXYzLWVycm9yJztcbmltcG9ydCBTdHJpcGVWM1BheW1lbnRJbml0aWFsaXplT3B0aW9ucywge1xuICAgIFdpdGhTdHJpcGVWM1BheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbn0gZnJvbSAnLi9zdHJpcGV2My1pbml0aWFsaXplLW9wdGlvbnMnO1xuaW1wb3J0IFN0cmlwZVYzU2NyaXB0TG9hZGVyIGZyb20gJy4vc3RyaXBldjMtc2NyaXB0LWxvYWRlcic7XG5cbmNvbnN0IEFQTV9SRURJUkVDVCA9IFtTdHJpcGVFbGVtZW50VHlwZS5BbGlwYXksIFN0cmlwZUVsZW1lbnRUeXBlLklERUFMXTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RyaXBlVjNQYXltZW50U3RyYXRlZ3kgaW1wbGVtZW50cyBQYXltZW50U3RyYXRlZ3kge1xuICAgIHByaXZhdGUgaW5pdGlhbGl6ZU9wdGlvbnM/OiBTdHJpcGVWM1BheW1lbnRJbml0aWFsaXplT3B0aW9ucztcbiAgICBwcml2YXRlIHN0cmlwZVYzQ2xpZW50PzogU3RyaXBlVjNDbGllbnQ7XG4gICAgcHJpdmF0ZSBzdHJpcGVFbGVtZW50cz86IFN0cmlwZUVsZW1lbnRzO1xuICAgIHByaXZhdGUgc3RyaXBlRWxlbWVudD86IFN0cmlwZUVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBzdHJpcGVDYXJkRWxlbWVudHM/OiBTdHJpcGVDYXJkRWxlbWVudHM7XG4gICAgcHJpdmF0ZSB1c2VJbmRpdmlkdWFsQ2FyZEZpZWxkcz86IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBob3N0ZWRGb3JtPzogSG9zdGVkRm9ybTtcbiAgICBwcml2YXRlIGlzRGVpbml0aWFsaXplPzogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9hbGxvd1JlZGlzcGxheUZvclN0b3JlZEluc3RydW1lbnRzPzogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgc2NyaXB0TG9hZGVyOiBTdHJpcGVWM1NjcmlwdExvYWRlcixcbiAgICApIHt9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKG9wdGlvbnM6IFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhTdHJpcGVWM1BheW1lbnRJbml0aWFsaXplT3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHN0cmlwZXYzLCBtZXRob2RJZCwgZ2F0ZXdheUlkIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIGlmICghZ2F0ZXdheUlkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcImdhdGV3YXlJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU9wdGlvbnMgPSBzdHJpcGV2MztcbiAgICAgICAgdGhpcy5pc0RlaW5pdGlhbGl6ZSA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2VcbiAgICAgICAgICAgIC5nZXRTdGF0ZSgpXG4gICAgICAgICAgICAuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uRGF0YToge1xuICAgICAgICAgICAgICAgIHN0cmlwZVB1Ymxpc2hhYmxlS2V5LFxuICAgICAgICAgICAgICAgIHN0cmlwZUNvbm5lY3RlZEFjY291bnQsXG4gICAgICAgICAgICAgICAgdXNlSW5kaXZpZHVhbENhcmRGaWVsZHMsXG4gICAgICAgICAgICAgICAgYWxsb3dSZWRpc3BsYXlGb3JTdG9yZWRJbnN0cnVtZW50cyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0gPSBwYXltZW50TWV0aG9kIGFzIFN0cmlwZVYzUGF5bWVudE1ldGhvZDtcblxuICAgICAgICB0aGlzLl9hbGxvd1JlZGlzcGxheUZvclN0b3JlZEluc3RydW1lbnRzID0gYWxsb3dSZWRpc3BsYXlGb3JTdG9yZWRJbnN0cnVtZW50cztcblxuICAgICAgICBjb25zdCBmb3JtID0gdGhpcy5nZXRJbml0aWFsaXplT3B0aW9ucygpLmZvcm07XG5cbiAgICAgICAgdGhpcy51c2VJbmRpdmlkdWFsQ2FyZEZpZWxkcyA9IHVzZUluZGl2aWR1YWxDYXJkRmllbGRzO1xuICAgICAgICB0aGlzLnN0cmlwZVYzQ2xpZW50ID0gYXdhaXQgdGhpcy5sb2FkU3RyaXBlSnMoc3RyaXBlUHVibGlzaGFibGVLZXksIHN0cmlwZUNvbm5lY3RlZEFjY291bnQpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMuaXNDcmVkaXRDYXJkKG1ldGhvZElkKSAmJlxuICAgICAgICAgICAgdGhpcy5zaG91bGRTaG93VFNWSG9zdGVkRm9ybShtZXRob2RJZCwgZ2F0ZXdheUlkKSAmJlxuICAgICAgICAgICAgZm9ybVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuaG9zdGVkRm9ybSA9IGF3YWl0IHRoaXMubW91bnRDYXJkVmVyaWZpY2F0aW9uRmllbGRzKGZvcm0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50ID0gYXdhaXQgdGhpcy5tb3VudENhcmRGaWVsZHMobWV0aG9kSWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZXhlY3V0ZShvcmRlclJlcXVlc3Q6IE9yZGVyUmVxdWVzdEJvZHksIG9wdGlvbnM/OiBQYXltZW50UmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBwYXltZW50LCAuLi5vcmRlciB9ID0gb3JkZXJSZXF1ZXN0O1xuXG4gICAgICAgIGxldCBmb3JtYXR0ZWRQYXlsb2FkOiBTdHJpcGVWM0Zvcm1hdHRlZFBheWxvYWQ7XG4gICAgICAgIGxldCBzdHJpcGVFcnJvcjogU3RyaXBlRXJyb3IgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKCFwYXltZW50IHx8ICFwYXltZW50LnBheW1lbnREYXRhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yKFsncGF5bWVudC5wYXltZW50RGF0YSddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgcGF5bWVudERhdGEsIGdhdGV3YXlJZCwgbWV0aG9kSWQgfSA9IHBheW1lbnQ7XG5cbiAgICAgICAgY29uc3QgeyBzaG91bGRTYXZlSW5zdHJ1bWVudCwgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCB9ID0gaXNIb3N0ZWRJbnN0cnVtZW50TGlrZShcbiAgICAgICAgICAgIHBheW1lbnREYXRhLFxuICAgICAgICApXG4gICAgICAgICAgICA/IHBheW1lbnREYXRhXG4gICAgICAgICAgICA6IHsgc2hvdWxkU2F2ZUluc3RydW1lbnQ6IGZhbHNlLCBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50OiBmYWxzZSB9O1xuXG4gICAgICAgIGNvbnN0IHNob3VsZFN1Ym1pdE9yZGVyQmVmb3JlTG9hZGluZ0FQTSA9IGluY2x1ZGVzKEFQTV9SRURJUkVDVCwgbWV0aG9kSWQpO1xuXG4gICAgICAgIGNvbnN0IHsgaXNTdG9yZUNyZWRpdEFwcGxpZWQ6IHVzZVN0b3JlQ3JlZGl0IH0gPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2VcbiAgICAgICAgICAgIC5nZXRTdGF0ZSgpXG4gICAgICAgICAgICAuZ2V0Q2hlY2tvdXRPclRocm93KCk7XG5cbiAgICAgICAgaWYgKHVzZVN0b3JlQ3JlZGl0KSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuYXBwbHlTdG9yZUNyZWRpdCh1c2VTdG9yZUNyZWRpdCk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHNob3VsZFN1Ym1pdE9yZGVyQmVmb3JlTG9hZGluZ0FQTSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihvcmRlciwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChnYXRld2F5SWQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QoZ2F0ZXdheUlkLCB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczogeyBtZXRob2Q6IG1ldGhvZElkIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG5cbiAgICAgICAgICAgIGlmIChpc1ZhdWx0ZWRJbnN0cnVtZW50KHBheW1lbnREYXRhKSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcihvcmRlciwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB7IGluc3RydW1lbnRJZCB9ID0gcGF5bWVudERhdGE7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KHBheW1lbnQubWV0aG9kSWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudFRva2VuID0gcGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbjtcblxuICAgICAgICAgICAgICAgIGlmICghY2xpZW50VG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVXaXRoVmF1bHRlZChcbiAgICAgICAgICAgICAgICAgICAgcGF5bWVudCxcbiAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudElkLFxuICAgICAgICAgICAgICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICAgICAgICAgICAgICBjbGllbnRUb2tlbixcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jb25maXJtU3RyaXBlUGF5bWVudChwYXltZW50TWV0aG9kKTtcbiAgICAgICAgICAgIGNvbnN0IHsgY2xpZW50VG9rZW4sIG1ldGhvZCB9ID0gcGF5bWVudE1ldGhvZDtcbiAgICAgICAgICAgIGNvbnN0IHsgaWQ6IHRva2VuIH0gPSByZXN1bHQucGF5bWVudEludGVudCA/PyByZXN1bHQucGF5bWVudE1ldGhvZCA/PyB7IGlkOiAnJyB9O1xuXG4gICAgICAgICAgICBzdHJpcGVFcnJvciA9IHJlc3VsdC5lcnJvcjtcblxuICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICBjcmVkaXRfY2FyZF90b2tlbjogeyB0b2tlbiB9LFxuICAgICAgICAgICAgICAgIHZhdWx0X3BheW1lbnRfaW5zdHJ1bWVudDogc2hvdWxkU2F2ZUluc3RydW1lbnQsXG4gICAgICAgICAgICAgICAgY29uZmlybTogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2V0X2FzX2RlZmF1bHRfc3RvcmVkX2luc3RydW1lbnQ6IHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAobWV0aG9kID09PSBTdHJpcGVFbGVtZW50VHlwZS5DcmVkaXRDYXJkKSB7XG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZC5jbGllbnRfdG9rZW4gPSBjbGllbnRUb2tlbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzaG91bGRTdWJtaXRPcmRlckJlZm9yZUxvYWRpbmdBUE0pIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIob3JkZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBwYXltZW50UGF5bG9hZCA9IHRoaXMuYnVpbGRQYXltZW50UGF5bG9hZChcbiAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkLFxuICAgICAgICAgICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChwYXltZW50UGF5bG9hZCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnByb2Nlc3NBZGRpdGlvbmFsQWN0aW9uKFxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRW1wdHlQYXltZW50SW50ZW50RXJyb3IoZXJyb3IsIHN0cmlwZUVycm9yKSxcbiAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICBzaG91bGRTYXZlSW5zdHJ1bWVudCxcbiAgICAgICAgICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbmFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcigpKTtcbiAgICB9XG5cbiAgICBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0aGlzLmhvc3RlZEZvcm0pIHtcbiAgICAgICAgICAgIHRoaXMuaG9zdGVkRm9ybS5kZXRhY2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNEZWluaXRpYWxpemUgPSB0cnVlO1xuICAgICAgICB0aGlzLnVubW91bnRFbGVtZW50KCk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGRQYXltZW50UGF5bG9hZChcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgZm9ybWF0dGVkUGF5bG9hZDogU3RyaXBlVjNGb3JtYXR0ZWRQYXlsb2FkLFxuICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50OiBib29sZWFuIHwgdW5kZWZpbmVkLFxuICAgICk6IFBheW1lbnQge1xuICAgICAgICBjb25zdCBwYXltZW50RGF0YSA9IHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnRcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICAgIC4uLmZvcm1hdHRlZFBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgc2V0X2FzX2RlZmF1bHRfc3RvcmVkX2luc3RydW1lbnQ6IHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHsgZm9ybWF0dGVkUGF5bG9hZCB9O1xuXG4gICAgICAgIHJldHVybiB7IG1ldGhvZElkLCBwYXltZW50RGF0YSB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNDYW5jZWxsYXRpb25FcnJvcihzdHJpcGVFcnJvcjogU3RyaXBlRXJyb3IgfCB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHN0cmlwZUVycm9yICYmXG4gICAgICAgICAgICBzdHJpcGVFcnJvci5wYXltZW50X2ludGVudC5sYXN0X3BheW1lbnRfZXJyb3I/Lm1lc3NhZ2U/LmluZGV4T2YoJ2NhbmNlbGVkJykgIT09IC0xXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0F1dGhFcnJvcihzdHJpcGVFcnJvcjogU3RyaXBlRXJyb3IgfCB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHN0cmlwZUVycm9yPy5jb2RlID09PSAncGF5bWVudF9pbnRlbnRfYXV0aGVudGljYXRpb25fZmFpbHVyZSc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0NyZWRpdENhcmQobWV0aG9kSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbWV0aG9kSWQgPT09IFN0cmlwZVBheW1lbnRNZXRob2RUeXBlLkNyZWRpdENhcmQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0hvc3RlZEZpZWxkQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5nZXRJbml0aWFsaXplT3B0aW9ucygpO1xuICAgICAgICBjb25zdCBkZWZpbmVkRmllbGRzID0gb21pdEJ5KG9wdGlvbnMuZm9ybT8uZmllbGRzLCBpc0VtcHR5KTtcblxuICAgICAgICByZXR1cm4gIWlzRW1wdHkoZGVmaW5lZEZpZWxkcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0hvc3RlZFBheW1lbnRGb3JtRW5hYmxlZChtZXRob2RJZDogc3RyaW5nLCBnYXRld2F5SWQ/OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgeyBnZXRQYXltZW50TWV0aG9kT3JUaHJvdyB9ID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPSBnZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCwgZ2F0ZXdheUlkKTtcblxuICAgICAgICByZXR1cm4gQm9vbGVhbihwYXltZW50TWV0aG9kLmNvbmZpZy5pc0hvc3RlZEZvcm1FbmFibGVkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGNvbmZpcm1TdHJpcGVQYXltZW50KHBheW1lbnRNZXRob2Q6IFBheW1lbnRNZXRob2QpOiBQcm9taXNlPHtcbiAgICAgICAgcGF5bWVudEludGVudD86IFBheW1lbnRJbnRlbnQgfCB1bmRlZmluZWQ7XG4gICAgICAgIHBheW1lbnRNZXRob2Q/OiBTdHJpcGVQYXltZW50TWV0aG9kIHwgdW5kZWZpbmVkO1xuICAgICAgICBlcnJvcj86IFN0cmlwZUVycm9yIHwgdW5kZWZpbmVkO1xuICAgIH0+IHtcbiAgICAgICAgY29uc3QgeyBjbGllbnRUb2tlbjogY2xpZW50U2VjcmV0LCBtZXRob2QsIHJldHVyblVybCB9ID0gcGF5bWVudE1ldGhvZDtcblxuICAgICAgICBpZiAoIWNsaWVudFNlY3JldCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChtZXRob2QpIHtcbiAgICAgICAgICAgIGNhc2UgU3RyaXBlRWxlbWVudFR5cGUuQWxpcGF5OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFN0cmlwZUpzKCkuY29uZmlybUFsaXBheVBheW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudFNlY3JldCxcbiAgICAgICAgICAgICAgICAgICAgeyByZXR1cm5fdXJsOiByZXR1cm5VcmwgfSxcbiAgICAgICAgICAgICAgICAgICAgeyBoYW5kbGVBY3Rpb25zOiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNhc2UgU3RyaXBlRWxlbWVudFR5cGUuSURFQUw6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5tYXBTdHJpcGVQYXltZW50RGF0YShTdHJpcGVQYXltZW50TWV0aG9kVHlwZS5JREVBTCwgcmV0dXJuVXJsKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFN0cmlwZUpzKCkuY29uZmlybUlkZWFsUGF5bWVudChjbGllbnRTZWNyZXQsIGRhdGEsIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlQWN0aW9uczogZmFsc2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgU3RyaXBlRWxlbWVudFR5cGUuU2VwYToge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLm1hcFN0cmlwZVBheW1lbnREYXRhKFN0cmlwZVBheW1lbnRNZXRob2RUeXBlLlNlcGEpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RyaXBlSnMoKS5jb25maXJtU2VwYURlYml0UGF5bWVudChjbGllbnRTZWNyZXQsIGRhdGEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FyZCA9IHRoaXMudXNlSW5kaXZpZHVhbENhcmRGaWVsZHNcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmdldFN0cmlwZUNhcmRFbGVtZW50cygpWzBdXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5nZXRTdHJpcGVFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmlsbGluZ0RldGFpbHMgPSB0aGlzLm1hcFN0cmlwZUJpbGxpbmdEZXRhaWxzKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRCaWxsaW5nQWRkcmVzcygpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRDdXN0b21lcigpLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkQWxsb3dSZWRpc3BsYXkgPSB0aGlzLl9hbGxvd1JlZGlzcGxheUZvclN0b3JlZEluc3RydW1lbnRzO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RyaXBlSnMoKS5jcmVhdGVQYXltZW50TWV0aG9kKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogU3RyaXBlUGF5bWVudE1ldGhvZFR5cGUuQ3JlZGl0Q2FyZCxcbiAgICAgICAgICAgICAgICAgICAgY2FyZCxcbiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ19kZXRhaWxzOiBiaWxsaW5nRGV0YWlscyxcbiAgICAgICAgICAgICAgICAgICAgLi4uKHNob3VsZEFsbG93UmVkaXNwbGF5ID8geyBhbGxvd19yZWRpc3BsYXk6ICdhbHdheXMnIH0gOiB7fSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVXaXRoVmF1bHRlZChcbiAgICAgICAgcGF5bWVudDogT3JkZXJQYXltZW50UmVxdWVzdEJvZHksXG4gICAgICAgIHRva2VuOiBzdHJpbmcsXG4gICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQ6IGJvb2xlYW4gfCB1bmRlZmluZWQsXG4gICAgICAgIGNsaWVudFRva2VuOiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkUGF5bG9hZCA9IHtcbiAgICAgICAgICAgIGJpZ3BheV90b2tlbjogeyB0b2tlbiB9LFxuICAgICAgICAgICAgY29uZmlybTogdHJ1ZSxcbiAgICAgICAgICAgIGNsaWVudF90b2tlbjogY2xpZW50VG9rZW4sXG4gICAgICAgICAgICBzZXRfYXNfZGVmYXVsdF9zdG9yZWRfaW5zdHJ1bWVudDogc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLmlzSG9zdGVkUGF5bWVudEZvcm1FbmFibGVkKHBheW1lbnQubWV0aG9kSWQsIHBheW1lbnQuZ2F0ZXdheUlkKSAmJlxuICAgICAgICAgICAgdGhpcy5ob3N0ZWRGb3JtXG4gICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgZm9ybSA9IHRoaXMuaG9zdGVkRm9ybTtcblxuICAgICAgICAgICAgaWYgKHBheW1lbnQucGF5bWVudERhdGEgJiYgaXNWYXVsdGVkSW5zdHJ1bWVudChwYXltZW50LnBheW1lbnREYXRhKSkge1xuICAgICAgICAgICAgICAgIHBheW1lbnQucGF5bWVudERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnBheW1lbnQucGF5bWVudERhdGEsXG4gICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRJZDogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHBheW1lbnQucGF5bWVudERhdGE/Lmluc3RydW1lbnRJZCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudF90b2tlbjogY2xpZW50VG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IGZvcm0udmFsaWRhdGUoKTtcbiAgICAgICAgICAgIGF3YWl0IGZvcm0uc3VibWl0KHBheW1lbnQpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRDdXJyZW50T3JkZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBheW1lbnRQYXlsb2FkID0gdGhpcy5idWlsZFBheW1lbnRQYXlsb2FkKFxuICAgICAgICAgICAgcGF5bWVudC5tZXRob2RJZCxcbiAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQsXG4gICAgICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChwYXltZW50UGF5bG9hZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRJbml0aWFsaXplT3B0aW9ucygpOiBTdHJpcGVWM1BheW1lbnRJbml0aWFsaXplT3B0aW9ucyB7XG4gICAgICAgIGlmICghdGhpcy5pbml0aWFsaXplT3B0aW9ucykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmluaXRpYWxpemVPcHRpb25zO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0U3RyaXBlQ2FyZEVsZW1lbnRzKCk6IFN0cmlwZUNhcmRFbGVtZW50cyB7XG4gICAgICAgIGlmICghdGhpcy5zdHJpcGVDYXJkRWxlbWVudHMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5zdHJpcGVDYXJkRWxlbWVudHM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRTdHJpcGVFbGVtZW50KCk6IFN0cmlwZUVsZW1lbnQge1xuICAgICAgICBpZiAoIXRoaXMuc3RyaXBlRWxlbWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnN0cmlwZUVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRTdHJpcGVKcygpOiBTdHJpcGVWM0NsaWVudCB7XG4gICAgICAgIGlmICghdGhpcy5zdHJpcGVWM0NsaWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnN0cmlwZVYzQ2xpZW50O1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlRW1wdHlQYXltZW50SW50ZW50RXJyb3IoZXJyb3I6IHVua25vd24sIHN0cmlwZUVycm9yOiBTdHJpcGVFcnJvciB8IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoIWlzUmVxdWVzdEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNvbWUoZXJyb3IuYm9keS5lcnJvcnMsIHsgY29kZTogJ3JlcXVpcmVkX2ZpZWxkJyB9KSAmJiBzdHJpcGVFcnJvclxuICAgICAgICAgICAgPyBuZXcgRXJyb3Ioc3RyaXBlRXJyb3IubWVzc2FnZSlcbiAgICAgICAgICAgIDogZXJyb3I7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBsb2FkU3RyaXBlSnMoXG4gICAgICAgIHN0cmlwZVB1Ymxpc2hhYmxlS2V5OiBzdHJpbmcsXG4gICAgICAgIHN0cmlwZUNvbm5lY3RlZEFjY291bnQ6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPFN0cmlwZVYzQ2xpZW50PiB7XG4gICAgICAgIGlmICh0aGlzLnN0cmlwZVYzQ2xpZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuc3RyaXBlVjNDbGllbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyaXB0TG9hZGVyLmxvYWQoXG4gICAgICAgICAgICBzdHJpcGVQdWJsaXNoYWJsZUtleSxcbiAgICAgICAgICAgIHN0cmlwZUNvbm5lY3RlZEFjY291bnQsXG4gICAgICAgICAgICB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRMb2NhbGUoKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1hcFN0cmlwZUFkZHJlc3MoYWRkcmVzcz86IEFkZHJlc3MpOiBTdHJpcGVBZGRyZXNzIHtcbiAgICAgICAgaWYgKGFkZHJlc3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICBjaXR5LFxuICAgICAgICAgICAgICAgIGNvdW50cnlDb2RlOiBjb3VudHJ5LFxuICAgICAgICAgICAgICAgIGFkZHJlc3MxOiBsaW5lMSxcbiAgICAgICAgICAgICAgICBhZGRyZXNzMjogbGluZTIsXG4gICAgICAgICAgICAgICAgcG9zdGFsQ29kZSxcbiAgICAgICAgICAgICAgICBzdGF0ZU9yUHJvdmluY2VDb2RlOiBzdGF0ZSxcbiAgICAgICAgICAgIH0gPSBhZGRyZXNzO1xuXG4gICAgICAgICAgICByZXR1cm4geyBjaXR5LCBjb3VudHJ5LCBsaW5lMSwgbGluZTIsIHBvc3RhbF9jb2RlOiBwb3N0YWxDb2RlLCBzdGF0ZSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgbGluZTE6ICcnIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtYXBTdHJpcGVCaWxsaW5nRGV0YWlscyhcbiAgICAgICAgYmlsbGluZ0FkZHJlc3M/OiBCaWxsaW5nQWRkcmVzcyxcbiAgICAgICAgY3VzdG9tZXI/OiBDdXN0b21lcixcbiAgICApOiBTdHJpcGVCaWxsaW5nRGV0YWlscyB7XG4gICAgICAgIGNvbnN0IHsgZmlyc3ROYW1lLCBsYXN0TmFtZSB9ID0gYmlsbGluZ0FkZHJlc3MgfHxcbiAgICAgICAgICAgIGN1c3RvbWVyIHx8IHsgZmlyc3ROYW1lOiAnR3Vlc3QnLCBsYXN0TmFtZTogJycgfTtcbiAgICAgICAgY29uc3QgbmFtZSA9IGAke2ZpcnN0TmFtZX0gJHtsYXN0TmFtZX1gLnRyaW0oKTtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zIH0gPSB0aGlzLmdldEluaXRpYWxpemVPcHRpb25zKCk7XG5cbiAgICAgICAgaWYgKHRoaXMudXNlSW5kaXZpZHVhbENhcmRGaWVsZHMgJiYgaXNJbmRpdmlkdWFsQ2FyZEVsZW1lbnRPcHRpb25zKG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBjb25zdCB7IHppcENvZGVFbGVtZW50T3B0aW9ucyB9ID0gb3B0aW9ucztcblxuICAgICAgICAgICAgaWYgKHppcENvZGVFbGVtZW50T3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvc3RhbENvZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh6aXBDb2RlRWxlbWVudE9wdGlvbnMuY29udGFpbmVySWQpXG4gICAgICAgICAgICAgICAgICAgID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHppcENvZGVFbGVtZW50T3B0aW9ucy5jb250YWluZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSBhcyBIVE1MSW5wdXRFbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgKS52YWx1ZVxuICAgICAgICAgICAgICAgICAgICA6ICcnO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBvc3RhbENvZGUgJiYgYmlsbGluZ0FkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0FkZHJlc3MgPSB7IC4uLmJpbGxpbmdBZGRyZXNzLCBwb3N0YWxDb2RlIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYWRkcmVzcyA9IHtcbiAgICAgICAgICAgIGFkZHJlc3M6IHRoaXMubWFwU3RyaXBlQWRkcmVzcyhiaWxsaW5nQWRkcmVzcyksXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGN1c3RvbWVyICYmIGN1c3RvbWVyLmFkZHJlc3Nlc1swXSAmJiBpc0JpbGxpbmdBZGRyZXNzTGlrZShjdXN0b21lci5hZGRyZXNzZXNbMF0pKSB7XG4gICAgICAgICAgICBjb25zdCBjdXN0b21lckFkZHJlc3MgPSBjdXN0b21lci5hZGRyZXNzZXNbMF07XG4gICAgICAgICAgICBjb25zdCB7IGVtYWlsIH0gPSBjdXN0b21lcjtcbiAgICAgICAgICAgIGNvbnN0IHsgcGhvbmUgfSA9IGN1c3RvbWVyQWRkcmVzcztcblxuICAgICAgICAgICAgcmV0dXJuIHBob25lID8geyAuLi5hZGRyZXNzLCBlbWFpbCwgbmFtZSwgcGhvbmUgfSA6IHsgLi4uYWRkcmVzcywgZW1haWwsIG5hbWUgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiaWxsaW5nQWRkcmVzcykge1xuICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgcGhvbmUgfSA9IGJpbGxpbmdBZGRyZXNzO1xuXG4gICAgICAgICAgICByZXR1cm4gcGhvbmUgPyB7IC4uLmFkZHJlc3MsIGVtYWlsLCBuYW1lLCBwaG9uZSB9IDogeyAuLi5hZGRyZXNzLCBlbWFpbCwgbmFtZSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgLi4uYWRkcmVzcywgbmFtZSB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgbWFwU3RyaXBlUGF5bWVudERhdGEoXG4gICAgICAgIHN0cmlwZVBheW1lbnRNZXRob2RUeXBlOiBTdHJpcGVQYXltZW50TWV0aG9kVHlwZS5JREVBTCxcbiAgICAgICAgcmV0dXJuVXJsPzogc3RyaW5nLFxuICAgICk6IFN0cmlwZUNvbmZpcm1JZGVhbFBheW1lbnREYXRhO1xuICAgIHByaXZhdGUgbWFwU3RyaXBlUGF5bWVudERhdGEoXG4gICAgICAgIHN0cmlwZVBheW1lbnRNZXRob2RUeXBlOiBTdHJpcGVQYXltZW50TWV0aG9kVHlwZS5TZXBhLFxuICAgICk6IFN0cmlwZUNvbmZpcm1TZXBhUGF5bWVudERhdGE7XG4gICAgcHJpdmF0ZSBtYXBTdHJpcGVQYXltZW50RGF0YShcbiAgICAgICAgc3RyaXBlUGF5bWVudE1ldGhvZFR5cGU6IFN0cmlwZVBheW1lbnRNZXRob2RUeXBlLFxuICAgICAgICByZXR1cm5Vcmw/OiBzdHJpbmcsXG4gICAgKTogU3RyaXBlQ29uZmlybVBheW1lbnREYXRhIHtcbiAgICAgICAgY29uc3QgY3VzdG9tZXIgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKS5nZXRDdXN0b21lcigpO1xuICAgICAgICBjb25zdCBiaWxsaW5nQWRkcmVzcyA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldEJpbGxpbmdBZGRyZXNzKCk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0OiBQYXJ0aWFsPFN0cmlwZUNvbmZpcm1QYXltZW50RGF0YT4gPSB7XG4gICAgICAgICAgICBwYXltZW50X21ldGhvZDoge1xuICAgICAgICAgICAgICAgIFtzdHJpcGVQYXltZW50TWV0aG9kVHlwZV06IHRoaXMuZ2V0U3RyaXBlRWxlbWVudCgpLFxuICAgICAgICAgICAgICAgIGJpbGxpbmdfZGV0YWlsczogdGhpcy5tYXBTdHJpcGVCaWxsaW5nRGV0YWlscyhiaWxsaW5nQWRkcmVzcywgY3VzdG9tZXIpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoc3RyaXBlUGF5bWVudE1ldGhvZFR5cGUgPT09IFN0cmlwZVBheW1lbnRNZXRob2RUeXBlLklERUFMKSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXN1bHQsIHJldHVybl91cmw6IHJldHVyblVybCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1vdW50Q2FyZEZpZWxkcyhtZXRob2RJZDogc3RyaW5nKTogUHJvbWlzZTxTdHJpcGVFbGVtZW50PiB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgY29udGFpbmVySWQgfSA9IHRoaXMuZ2V0SW5pdGlhbGl6ZU9wdGlvbnMoKTtcblxuICAgICAgICBsZXQgc3RyaXBlRWxlbWVudDogU3RyaXBlRWxlbWVudDtcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0cmlwZUVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50cyA9IHRoaXMuZ2V0U3RyaXBlSnMoKS5lbGVtZW50cygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzd2l0Y2ggKG1ldGhvZElkKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBTdHJpcGVFbGVtZW50VHlwZS5DcmVkaXRDYXJkOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51c2VJbmRpdmlkdWFsQ2FyZEZpZWxkcyAmJiBpc0luZGl2aWR1YWxDYXJkRWxlbWVudE9wdGlvbnMob3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkTnVtYmVyRWxlbWVudE9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZEV4cGlyeUVsZW1lbnRPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRDdmNFbGVtZW50T3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gPSBvcHRpb25zO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkTnVtYmVyRWxlbWVudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50cy5nZXRFbGVtZW50KFN0cmlwZUVsZW1lbnRUeXBlLkNhcmROdW1iZXIpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50cy5jcmVhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmlwZUVsZW1lbnRUeXBlLkNhcmROdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmROdW1iZXJFbGVtZW50T3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FyZEV4cGlyeUVsZW1lbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudHMuZ2V0RWxlbWVudChTdHJpcGVFbGVtZW50VHlwZS5DYXJkRXhwaXJ5KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudHMuY3JlYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpcGVFbGVtZW50VHlwZS5DYXJkRXhwaXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkRXhwaXJ5RWxlbWVudE9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcmRDdmNFbGVtZW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnRzLmdldEVsZW1lbnQoU3RyaXBlRWxlbWVudFR5cGUuQ2FyZEN2YykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnRzLmNyZWF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaXBlRWxlbWVudFR5cGUuQ2FyZEN2YyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZEN2Y0VsZW1lbnRPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyaXBlQ2FyZEVsZW1lbnRzID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmROdW1iZXJFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRFeHBpcnlFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRDdmNFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmlwZUVsZW1lbnQgPSB0aGlzLnN0cmlwZUNhcmRFbGVtZW50c1swXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkTnVtYmVyRWxlbWVudC5tb3VudChgIyR7Y2FyZE51bWJlckVsZW1lbnRPcHRpb25zLmNvbnRhaW5lcklkfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRFeHBpcnlFbGVtZW50Lm1vdW50KGAjJHtjYXJkRXhwaXJ5RWxlbWVudE9wdGlvbnMuY29udGFpbmVySWR9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZEN2Y0VsZW1lbnQubW91bnQoYCMke2NhcmRDdmNFbGVtZW50T3B0aW9ucy5jb250YWluZXJJZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRGVpbml0aWFsaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIG1vdW50IFN0cmlwZSBjb21wb25lbnQgd2l0aG91dCB2YWxpZCBjb250YWluZXIgSUQuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXBlRWxlbWVudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50cy5nZXRFbGVtZW50KG1ldGhvZElkKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudHMuY3JlYXRlKG1ldGhvZElkLCBvcHRpb25zIGFzIFN0cmlwZUVsZW1lbnRPcHRpb25zKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpcGVFbGVtZW50Lm1vdW50KGAjJHtjb250YWluZXJJZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRGVpbml0aWFsaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIG1vdW50IFN0cmlwZSBjb21wb25lbnQgd2l0aG91dCB2YWxpZCBjb250YWluZXIgSUQuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIFN0cmlwZUVsZW1lbnRUeXBlLklERUFMOlxuICAgICAgICAgICAgICAgIGNhc2UgU3RyaXBlRWxlbWVudFR5cGUuU2VwYTpcbiAgICAgICAgICAgICAgICAgICAgc3RyaXBlRWxlbWVudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnRzLmdldEVsZW1lbnQobWV0aG9kSWQpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnRzLmNyZWF0ZShtZXRob2RJZCwgb3B0aW9ucyBhcyBTdHJpcGVFbGVtZW50T3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmlwZUVsZW1lbnQubW91bnQoYCMke2NvbnRhaW5lcklkfWApO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRGVpbml0aWFsaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIG1vdW50IFN0cmlwZSBjb21wb25lbnQgd2l0aG91dCB2YWxpZCBjb250YWluZXIgSUQuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIFN0cmlwZUVsZW1lbnRUeXBlLkFsaXBheTpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc29sdmUoc3RyaXBlRWxlbWVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgbW91bnRDYXJkVmVyaWZpY2F0aW9uRmllbGRzKGZvcm1PcHRpb25zOiBIb3N0ZWRGb3JtT3B0aW9ucyk6IFByb21pc2U8SG9zdGVkRm9ybT4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBzdG9yZUNvbmZpZyA9IHN0YXRlLmdldFN0b3JlQ29uZmlnKCk7XG5cbiAgICAgICAgaWYgKCFzdG9yZUNvbmZpZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NoZWNrb3V0Q29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJpZ3BheUJhc2VVcmwgPSBzdG9yZUNvbmZpZy5wYXltZW50U2V0dGluZ3MuYmlncGF5QmFzZVVybDtcblxuICAgICAgICBjb25zdCBmb3JtID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmNyZWF0ZUhvc3RlZEZvcm0oYmlncGF5QmFzZVVybCwgZm9ybU9wdGlvbnMpO1xuXG4gICAgICAgIGF3YWl0IGZvcm0uYXR0YWNoKCk7XG5cbiAgICAgICAgcmV0dXJuIGZvcm07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBwcm9jZXNzQWRkaXRpb25hbEFjdGlvbihcbiAgICAgICAgZXJyb3I6IHVua25vd24sXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgICAgIHNob3VsZFNhdmVJbnN0cnVtZW50ID0gZmFsc2UsXG4gICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgPSBmYWxzZSxcbiAgICApOiBQcm9taXNlPGFueSB8IG5ldmVyPiB7XG4gICAgICAgIGlmICghaXNSZXF1ZXN0RXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlzQWRkaXRpb25hbEFjdGlvbkVycm9yID0gc29tZShlcnJvci5ib2R5LmVycm9ycywge1xuICAgICAgICAgICAgY29kZTogJ2FkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGlzVGhyZWVEU2VjdXJlUmVxdWlyZWRFcnJvciA9IHNvbWUoZXJyb3IuYm9keS5lcnJvcnMsIHtcbiAgICAgICAgICAgIGNvZGU6ICd0aHJlZV9kX3NlY3VyZV9yZXF1aXJlZCcsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChpc0FkZGl0aW9uYWxBY3Rpb25FcnJvcikge1xuICAgICAgICAgICAgY29uc3QgYWN0aW9uOiBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uID0gZXJyb3IuYm9keS5hZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZDtcblxuICAgICAgICAgICAgaWYgKGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gJ3JlZGlyZWN0X3RvX3VybCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLmRhdGEucmVkaXJlY3RfdXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShhY3Rpb24uZGF0YS5yZWRpcmVjdF91cmwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNUaHJlZURTZWN1cmVSZXF1aXJlZEVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBjbGllbnRTZWNyZXQgPSBlcnJvci5ib2R5LnRocmVlX2RzX3Jlc3VsdC50b2tlbjtcbiAgICAgICAgICAgIGNvbnN0IG5lZWRzQ29uZmlybSA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGNhdGNoZWRDb25maXJtRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCByZXN1bHQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgdGhpcy5nZXRTdHJpcGVKcygpLmNvbmZpcm1DYXJkUGF5bWVudChjbGllbnRTZWNyZXQpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjYXRjaGVkQ29uZmlybUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlc3VsdD8uZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NhbmNlbGxhdGlvbkVycm9yKHJlc3VsdC5lcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQXV0aEVycm9yKHJlc3VsdC5lcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0cmlwZVYzRXJyb3IoU3RyaXBlVjNFcnJvclR5cGUuQXV0aEZhaWx1cmUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQuZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gdGhpcy5nZXRQYXltZW50VG9rZW4oXG4gICAgICAgICAgICAgICAgcmVzdWx0Py5wYXltZW50SW50ZW50LFxuICAgICAgICAgICAgICAgIGNsaWVudFNlY3JldCxcbiAgICAgICAgICAgICAgICBjYXRjaGVkQ29uZmlybUVycm9yLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgZm9ybWF0dGVkUGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICBjcmVkaXRfY2FyZF90b2tlbjogeyB0b2tlbiB9LFxuICAgICAgICAgICAgICAgIHZhdWx0X3BheW1lbnRfaW5zdHJ1bWVudDogc2hvdWxkU2F2ZUluc3RydW1lbnQsXG4gICAgICAgICAgICAgICAgY29uZmlybTogbmVlZHNDb25maXJtLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgcGF5bWVudFBheWxvYWQgPSB0aGlzLmJ1aWxkUGF5bWVudFBheWxvYWQoXG4gICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZCxcbiAgICAgICAgICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQocGF5bWVudFBheWxvYWQpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyB0aGlzLmhhbmRsZUVtcHR5UGF5bWVudEludGVudEVycm9yKGVycm9yLCByZXN1bHQ/LmVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UGF5bWVudFRva2VuKFxuICAgICAgICBwYXltZW50SW50ZW50OiBQYXltZW50SW50ZW50IHwgdW5kZWZpbmVkLFxuICAgICAgICBjbGllbnRTZWNyZXQ6IHN0cmluZyxcbiAgICAgICAgY2F0Y2hlZENvbmZpcm1FcnJvcjogYm9vbGVhbixcbiAgICApOiBzdHJpbmcge1xuICAgICAgICBpZiAoIXBheW1lbnRJbnRlbnQgfHwgY2F0Y2hlZENvbmZpcm1FcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGNsaWVudFNlY3JldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXltZW50SW50ZW50LmlkO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2hvdWxkU2hvd1RTVkhvc3RlZEZvcm0obWV0aG9kSWQ6IHN0cmluZywgZ2F0ZXdheUlkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMuaXNIb3N0ZWRGaWVsZEF2YWlsYWJsZSgpICYmIHRoaXMuaXNIb3N0ZWRQYXltZW50Rm9ybUVuYWJsZWQobWV0aG9kSWQsIGdhdGV3YXlJZClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVubW91bnRFbGVtZW50KCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zdHJpcGVFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnN0cmlwZUVsZW1lbnQudW5tb3VudCgpO1xuICAgICAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IEJpbGxpbmdBZGRyZXNzIGZyb20gJy4vYmlsbGluZy1hZGRyZXNzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNCaWxsaW5nQWRkcmVzc0xpa2UoYWRkcmVzczogYW55KTogYWRkcmVzcyBpcyBCaWxsaW5nQWRkcmVzcyB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgdHlwZW9mIGFkZHJlc3MgPT09ICdvYmplY3QnICYmXG4gICAgICAgIGFkZHJlc3MgIT09IG51bGwgJiZcbiAgICAgICAgJ2lkJyBpbiBhZGRyZXNzICYmXG4gICAgICAgIHR5cGVvZiBhZGRyZXNzLmlkICE9PSAndW5kZWZpbmVkJ1xuICAgICk7XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBmYWlsc1xuICogdG8gbG9hZCwgb3IgZm9yIHNvbWUgcmVhc29uLCBpdCBpcyBpbmFjY2Vzc2libGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBpcyBub3QgbG9hZGVkIG9yIHJlYWR5IHRvIGJlIHVzZWQuJyxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAncGF5bWVudF9tZXRob2RfY2xpZW50X3VuYXZhaWxhYmxlJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7IFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IFN0cmlwZUhvc3RXaW5kb3csIFN0cmlwZVYzQ2xpZW50IH0gZnJvbSAnLi9zdHJpcGV2Myc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0cmlwZVYzU2NyaXB0TG9hZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBzY3JpcHRMb2FkZXI6IFNjcmlwdExvYWRlcixcbiAgICAgICAgcHJpdmF0ZSBzdHJpcGVXaW5kb3c6IFN0cmlwZUhvc3RXaW5kb3cgPSB3aW5kb3csXG4gICAgKSB7fVxuXG4gICAgbG9hZChcbiAgICAgICAgc3RyaXBlUHVibGlzaGFibGVLZXk6IHN0cmluZyxcbiAgICAgICAgc3RyaXBlQWNjb3VudDogc3RyaW5nLFxuICAgICAgICBsb2NhbGU/OiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxTdHJpcGVWM0NsaWVudD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zY3JpcHRMb2FkZXIubG9hZFNjcmlwdCgnaHR0cHM6Ly9qcy5zdHJpcGUuY29tL3YzLycpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0cmlwZVdpbmRvdy5TdHJpcGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyaXBlV2luZG93LlN0cmlwZShzdHJpcGVQdWJsaXNoYWJsZUtleSwge1xuICAgICAgICAgICAgICAgIHN0cmlwZUFjY291bnQsXG4gICAgICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgICAgIGJldGFzOiBbJ3BheW1lbnRfaW50ZW50X2JldGFfMycsICdhbGlwYXlfcG1fYmV0YV8xJ10sXG4gICAgICAgICAgICAgICAgYXBpVmVyc2lvbjogJzIwMjAtMDMtMDI7YWxpcGF5X2JldGE9djEnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHtcbiAgICBQYXltZW50U3RyYXRlZ3lGYWN0b3J5LFxuICAgIHRvUmVzb2x2YWJsZU1vZHVsZSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBTdHJpcGVWM1BheW1lbnRTdHJhdGVneSBmcm9tICcuL3N0cmlwZXYzLXBheW1lbnQtc3RyYXRlZ3knO1xuaW1wb3J0IFN0cmlwZVYzU2NyaXB0TG9hZGVyIGZyb20gJy4vc3RyaXBldjMtc2NyaXB0LWxvYWRlcic7XG5cbmNvbnN0IGNyZWF0ZVN0cmlwZVYzUGF5bWVudFN0cmF0ZWd5OiBQYXltZW50U3RyYXRlZ3lGYWN0b3J5PGFueT4gPSAocGF5bWVudEludGVncmF0aW9uU2VydmljZSkgPT4ge1xuICAgIHJldHVybiBuZXcgU3RyaXBlVjNQYXltZW50U3RyYXRlZ3koXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIG5ldyBTdHJpcGVWM1NjcmlwdExvYWRlcihnZXRTY3JpcHRMb2FkZXIoKSksXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVTdHJpcGVWM1BheW1lbnRTdHJhdGVneSwgW3sgZ2F0ZXdheTogJ3N0cmlwZXYzJyB9XSk7XG4iLCJpbXBvcnQgeyBQYXltZW50TWV0aG9kIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbi8qKlxuICogSW5pdGlhbGl6YXRpb24gb3B0aW9ucy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVDb25maWd1cmF0aW9uT3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogRm9yIHVzYWdlIHdpdGggW0Nvbm5lY3RdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2Nvbm5lY3QpIG9ubHkuXG4gICAgICogU3BlY2lmeWluZyBhIGNvbm5lY3RlZCBhY2NvdW50IElEIChlLmcuLCBhY2N0XzI0QkZNcEoxc3ZSNUE4OWspIGFsbG93cyB5b3UgdG8gcGVyZm9ybSBhY3Rpb25zIG9uIGJlaGFsZiBvZiB0aGF0IGFjY291bnQuXG4gICAgICovXG4gICAgc3RyaXBlQWNjb3VudD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHlvdXIgYWNjb3VudCdzIFtBUEkgdmVyc2lvbl0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3ZlcnNpb25pbmcpXG4gICAgICovXG4gICAgYXBpVmVyc2lvbj86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgbG9jYWxlIHVzZWQgdG8gZ2xvYmFsbHkgY29uZmlndXJlIGxvY2FsaXphdGlvbiBpbiBTdHJpcGUuIFNldHRpbmcgdGhlIGxvY2FsZSBoZXJlIHdpbGwgbG9jYWxpemUgZXJyb3Igc3RyaW5ncyBmb3IgYWxsIFN0cmlwZS5qcyBtZXRob2RzLiBJdCB3aWxsIGFsc28gY29uZmlndXJlIHRoZSBsb2NhbGUgZm9yIEVsZW1lbnRzIGFuZCBDaGVja291dC4gRGVmYXVsdCBpcyBhdXRvIChTdHJpcGUgZGV0ZWN0cyB0aGUgbG9jYWxlIG9mIHRoZSBicm93c2VyKS5cbiAgICAgKiBOb3RlIHRoYXQgQ2hlY2tvdXQgc3VwcG9ydHMgYSBzbGlnaHRseSBkaWZmZXJlbnQgc2V0IG9mIGxvY2FsZXMgdGhhbiBTdHJpcGUuanMuXG4gICAgICovXG4gICAgbG9jYWxlPzogc3RyaW5nO1xuXG4gICAgYmV0YXM/OiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uRGF0YSB7XG4gICAgcmVkaXJlY3RfdXJsPzogc3RyaW5nO1xuICAgIGludGVudD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uIHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgZGF0YTogU3RyaXBlQWRkaXRpb25hbEFjdGlvbkRhdGE7XG59XG5cbi8qKlxuICogVGhlIFBheW1lbnRJbnRlbnQgb2JqZWN0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBheW1lbnRJbnRlbnQge1xuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgb2JqZWN0LlxuICAgICAqL1xuICAgIGlkOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2xpZW50IHNlY3JldCBvZiB0aGUgUGF5bWVudEludGVudC4gVXNlZCBmb3IgY2xpZW50LXNpZGUgcmV0cmlldmFsIHVzaW5nIGEgcHVibGlzaGFibGUga2V5LlxuICAgICAqL1xuICAgIGNsaWVudF9zZWNyZXQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBTdGF0dXMgb2YgdGhpcyBQYXltZW50SW50ZW50LiBSZWFkIG1vcmUgYWJvdXQgZWFjaCBQYXltZW50SW50ZW50IFtzdGF0dXNdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3BheW1lbnRzL2ludGVudHMjaW50ZW50LXN0YXR1c2VzKS5cbiAgICAgKi9cbiAgICBzdGF0dXM6ICdzdWNjZWVkZWQnIHwgc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBheW1lbnQgZXJyb3IgZW5jb3VudGVyZWQgaW4gdGhlIHByZXZpb3VzIFBheW1lbnRJbnRlbnQgY29uZmlybWF0aW9uLiBJdCB3aWxsIGJlIGNsZWFyZWQgaWYgdGhlIFBheW1lbnRJbnRlbnQgaXMgbGF0ZXIgdXBkYXRlZCBmb3IgYW55IHJlYXNvbi5cbiAgICAgKi9cbiAgICBsYXN0X3BheW1lbnRfZXJyb3I6IExhc3RQYXltZW50RXJyb3IgfCBudWxsO1xuXG4gICAgcGF5bWVudF9tZXRob2Rfb3B0aW9ucz86IFN0cmlwZVBJUGF5bWVudE1ldGhvZE9wdGlvbnM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlUElQYXltZW50TWV0aG9kU2F2aW5nT3B0aW9ucyB7XG4gICAgc2V0dXBfZnV0dXJlX3VzYWdlPzogU3RyaXBlSW5zdHJ1bWVudFNldHVwRnV0dXJlVXNhZ2U7XG4gICAgdmVyaWZpY2F0aW9uX21ldGhvZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVQSVBheW1lbnRNZXRob2RPcHRpb25zIHtcbiAgICBjYXJkPzogU3RyaXBlUElQYXltZW50TWV0aG9kU2F2aW5nT3B0aW9ucztcbiAgICB1c19iYW5rX2FjY291bnQ/OiBTdHJpcGVQSVBheW1lbnRNZXRob2RTYXZpbmdPcHRpb25zO1xufVxuXG4vKipcbiAqIFRoZSBwYXltZW50IGVycm9yIGVuY291bnRlcmVkIGluIHRoZSBwcmV2aW91cyBQYXltZW50SW50ZW50IGNvbmZpcm1hdGlvbi4gSXQgd2lsbCBiZSBjbGVhcmVkIGlmIHRoZSBQYXltZW50SW50ZW50IGlzIGxhdGVyIHVwZGF0ZWQgZm9yIGFueSByZWFzb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGFzdFBheW1lbnRFcnJvciB7XG4gICAgLyoqXG4gICAgICogQSBodW1hbi1yZWFkYWJsZSBtZXNzYWdlIHByb3ZpZGluZyBtb3JlIGRldGFpbHMgYWJvdXQgdGhlIGVycm9yLiBGb3IgY2FyZCBlcnJvcnMsIHRoZXNlIG1lc3NhZ2VzIGNhbiBiZSBzaG93biB0byB5b3VyIHVzZXJzLlxuICAgICAqL1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogVGhpcyBvYmplY3QgaXMgdXNlZCB0byBwYXNzIGN1c3RvbSBmb250cyB3aGVuIGNyZWF0aW5nIGFuIFtFbGVtZW50c10oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvZWxlbWVudHNfb2JqZWN0L2NyZWF0ZSkgb2JqZWN0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENzc0ZvbnRTb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIEEgcmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHBvaW50aW5nIHRvIGEgQ1NTIGZpbGUgd2l0aCBbQGZvbnQtZmFjZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0Bmb250LWZhY2UpIGRlZmluaXRpb25zLCBmb3IgZXhhbXBsZTpcbiAgICAgKiBgaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PU9wZW4rU2Fuc2BcbiAgICAgKiBOb3RlIHRoYXQgaWYgeW91IGFyZSB1c2luZyBhIFtjb250ZW50IHNlY3VyaXR5IHBvbGljeV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9IZWFkZXJzL0NvbnRlbnQtU2VjdXJpdHktUG9saWN5KSAoQ1NQKSxcbiAgICAgKiBbYWRkaXRpb25hbCBkaXJlY3RpdmVzXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9zZWN1cml0eSNjb250ZW50LXNlY3VyaXR5LXBvbGljeSkgbWF5IGJlIG5lY2Vzc2FyeS5cbiAgICAgKi9cbiAgICBjc3NTcmM6IHN0cmluZztcbn1cblxuLyoqXG4gKiBUaGlzIG9iamVjdCBpcyB1c2VkIHRvIHBhc3MgY3VzdG9tIGZvbnRzIHdoZW4gY3JlYXRpbmcgYW4gW0VsZW1lbnRzXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9lbGVtZW50c19vYmplY3QvY3JlYXRlKSBvYmplY3QuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ3VzdG9tRm9udFNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgdG8gZ2l2ZSB0aGUgZm9udC5cbiAgICAgKi9cbiAgICBmYW1pbHk6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgdmFsaWQgW3NyY10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0Bmb250LWZhY2Uvc3JjKSB2YWx1ZSBwb2ludGluZyB0byB5b3VyXG4gICAgICogY3VzdG9tIGZvbnQgZmlsZS4gVGhpcyBpcyB1c3VhbGx5ICh0aG91Z2ggbm90IGFsd2F5cykgYSBsaW5rIHRvIGEgZmlsZSB3aXRoIGEgLndvZmYgLCAub3RmLCBvciAuc3ZnIHN1ZmZpeC5cbiAgICAgKi9cbiAgICBzcmM6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgdmFsaWQgW2ZvbnQtZGlzcGxheV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0Bmb250LWZhY2UvZm9udC1kaXNwbGF5KSB2YWx1ZS5cbiAgICAgKi9cbiAgICBkaXNwbGF5Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogT25lIG9mIG5vcm1hbCwgaXRhbGljLCBvYmxpcXVlLiBEZWZhdWx0cyB0byBub3JtYWwuXG4gICAgICovXG4gICAgc3R5bGU/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBIHZhbGlkIFt1bmljb2RlLXJhbmdlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvQGZvbnQtZmFjZS91bmljb2RlLXJhbmdlKSB2YWx1ZS5cbiAgICAgKi9cbiAgICB1bmljb2RlUmFuZ2U/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBIHZhbGlkIFtmb250LXdlaWdodF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2ZvbnQtd2VpZ2h0KS4gTm90ZSB0aGF0IHRoaXMgaXMgYSBzdHJpbmcsIG5vdCBhIG51bWJlci5cbiAgICAgKi9cbiAgICB3ZWlnaHQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIFN0cmlwZUN1c3RvbUZvbnQgPSBDc3NGb250U291cmNlIHwgQ3VzdG9tRm9udFNvdXJjZTtcblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVFcnJvciB7XG4gICAgLyoqXG4gICAgICogdHlwZSBvZiBlcnJvci4gV2hlbiB0aGUgZXJyb3IgdHlwZSBpcyBjYXJkX2Vycm9yIG9yIHZhbGlkYXRpb25fZXJyb3IsIHlvdSBjYW4gZGlzcGxheSB0aGUgZXJyb3IgbWVzc2FnZSBpbiBlcnJvci5tZXNzYWdlIGRpcmVjdGx5IHRvIHlvdXIgdXNlci5cbiAgICAgKi9cbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogQSBodW1hbi1yZWFkYWJsZSBtZXNzYWdlIHByb3ZpZGluZyBtb3JlIGRldGFpbHMgYWJvdXQgdGhlIGVycm9yLiBGb3IgY2FyZCBlcnJvcnMsIHRoZXNlIG1lc3NhZ2VzIGNhbiBiZSBzaG93biB0byB5b3VyIHVzZXJzLlxuICAgICAqL1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgUGF5bWVudEludGVudCBvYmplY3QuXG4gICAgICovXG4gICAgcGF5bWVudF9pbnRlbnQ6IFBheW1lbnRJbnRlbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlRWxlbWVudCB7XG4gICAgLyoqXG4gICAgICogVGhlIGBlbGVtZW50Lm1vdW50YCBtZXRob2QgYXR0YWNoZXMgeW91ciBlbGVtZW50IHRvIHRoZSBET00uXG4gICAgICovXG4gICAgbW91bnQoZG9tRWxlbWVudDogc3RyaW5nIHwgSFRNTEVsZW1lbnQpOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgZWxlbWVudCBmcm9tIHRoZSBET00gYW5kIGRlc3Ryb3lzIGl0LlxuICAgICAqIEEgZGVzdHJveWVkIGVsZW1lbnQgY2FuIG5vdCBiZSByZS1hY3RpdmF0ZWQgb3IgcmUtbW91bnRlZCB0byB0aGUgRE9NLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKTogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIFVubW91bnRzIHRoZSBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgKiBDYWxsIGBlbGVtZW50Lm1vdW50YCB0byByZS1hdHRhY2ggaXQgdG8gdGhlIERPTS5cbiAgICAgKi9cbiAgICB1bm1vdW50KCk6IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2hhbmdlIGV2ZW50IGlzIHRyaWdnZXJlZCB3aGVuIHRoZSBFbGVtZW50J3MgdmFsdWUgY2hhbmdlcy4gVGhlIGV2ZW50IHBheWxvYWQgYWx3YXlzIGNvbnRhaW5zIGNlcnRhaW4ga2V5cyxcbiAgICAgKiBpbiBhZGRpdGlvbiB0byBzb21lIEVsZW1lbnQtc3BlY2lmaWMga2V5cy5cbiAgICAgKiBodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9lbGVtZW50L2V2ZW50cy9vbl9jaGFuZ2U/dHlwZT1wYXltZW50RWxlbWVudFxuICAgICAqL1xuICAgIG9uKGV2ZW50OiBTdHJpcGVFbGVtZW50RXZlbnQsIGhhbmRsZXI6IChldmVudDogU3RyaXBlRXZlbnRUeXBlKSA9PiB2b2lkKTogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9wdGlvbnMgdGhlIFBheW1lbnQgRWxlbWVudCB3YXMgaW5pdGlhbGl6ZWQgd2l0aC4gVXBkYXRlcyBhcmUgbWVyZ2VkIGludG8gdGhlIGV4aXN0aW5nIGNvbmZpZ3VyYXRpb24uXG4gICAgICogaHR0cHM6Ly9kb2NzLnN0cmlwZS5jb20vanMvZWxlbWVudHNfb2JqZWN0L3VwZGF0ZV9wYXltZW50X2VsZW1lbnRcbiAgICAgKi9cbiAgICB1cGRhdGUob3B0aW9ucz86IFN0cmlwZUVsZW1lbnRzQ3JlYXRlT3B0aW9ucyk6IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBjb2xsYXBzZXMgdGhlIFBheW1lbnQgRWxlbWVudCBpbnRvIGEgcm93IG9mIHBheW1lbnQgbWV0aG9kIHRhYnMuXG4gICAgICogaHR0cHM6Ly9kb2NzLnN0cmlwZS5jb20vanMvZWxlbWVudHNfb2JqZWN0L2NvbGxhcHNlX3BheW1lbnRfZWxlbWVudFxuICAgICAqL1xuICAgIGNvbGxhcHNlKCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlRXZlbnQge1xuICAgIGNvbXBsZXRlOiBib29sZWFuO1xuICAgIGVsZW1lbnRUeXBlOiBzdHJpbmc7XG4gICAgZW1wdHk6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQ3VzdG9tZXJFdmVudCBleHRlbmRzIFN0cmlwZUV2ZW50IHtcbiAgICBjb2xsYXBzZWQ/OiBib29sZWFuO1xuICAgIGF1dGhlbnRpY2F0ZWQ6IGJvb2xlYW47XG4gICAgdmFsdWU6IHtcbiAgICAgICAgZW1haWw6IHN0cmluZztcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZVNoaXBwaW5nRXZlbnQgZXh0ZW5kcyBTdHJpcGVFdmVudCB7XG4gICAgbW9kZT86IHN0cmluZztcbiAgICBpc05ld0FkZHJlc3M/OiBib29sZWFuO1xuICAgIHBob25lRmllbGRSZXF1aXJlZDogYm9vbGVhbjtcbiAgICB2YWx1ZToge1xuICAgICAgICBhZGRyZXNzOiBBZGRyZXNzO1xuICAgICAgICBuYW1lPzogc3RyaW5nO1xuICAgICAgICBmaXJzdE5hbWU/OiBzdHJpbmc7XG4gICAgICAgIGxhc3ROYW1lPzogc3RyaW5nO1xuICAgICAgICBwaG9uZT86IHN0cmluZztcbiAgICB9O1xuICAgIGZpZWxkcz86IHtcbiAgICAgICAgcGhvbmU6IHN0cmluZztcbiAgICB9O1xuICAgIGRpc3BsYXk/OiB7XG4gICAgICAgIG5hbWU6IHN0cmluZztcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZVBheW1lbnRFdmVudCBleHRlbmRzIFN0cmlwZUV2ZW50IHtcbiAgICB2YWx1ZToge1xuICAgICAgICB0eXBlOiBTdHJpcGVQYXltZW50TWV0aG9kVHlwZTtcbiAgICB9O1xuICAgIGNvbGxhcHNlZD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWRkcmVzcyB7XG4gICAgY2l0eTogc3RyaW5nO1xuICAgIGNvdW50cnk6IHN0cmluZztcbiAgICBsaW5lMTogc3RyaW5nO1xuICAgIGxpbmUyPzogc3RyaW5nO1xuICAgIHBvc3RhbF9jb2RlOiBzdHJpbmc7XG4gICAgc3RhdGU6IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgU3RyaXBlRXZlbnRUeXBlID1cbiAgICB8IFN0cmlwZVNoaXBwaW5nRXZlbnRcbiAgICB8IFN0cmlwZUN1c3RvbWVyRXZlbnRcbiAgICB8IFN0cmlwZVBheW1lbnRFdmVudFxuICAgIHwgU3RyaXBlTGlua1YyRXZlbnQ7XG5cbi8qKlxuICogT2JqZWN0IGRlZmluaXRpb24gZm9yIHBhcnQgb2YgdGhlIGRhdGEgc2VudCB0byBjb25maXJtIHRoZSBQYXltZW50SW50ZW50LlxuICogaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvYXBpL3BheW1lbnRfaW50ZW50cy9jb25maXJtI2NvbmZpcm1fcGF5bWVudF9pbnRlbnQtc2hpcHBpbmdcbiAqL1xuZXhwb3J0IHR5cGUgQWRkcmVzc09wdGlvbnMgPSBQYXJ0aWFsPEFkZHJlc3M+O1xuXG4vKipcbiAqIE9iamVjdCBkZWZpbml0aW9uIGZvciBwYXJ0IG9mIHRoZSBkYXRhIHNlbnQgdG8gY29uZmlybSB0aGUgUGF5bWVudEludGVudC5cbiAqIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2VsZW1lbnRzX29iamVjdC9jcmVhdGVfcGF5bWVudF9lbGVtZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQWRkcmVzc1Byb3BlcnRpZXMge1xuICAgIGNpdHk/OiBBdXRvT3JOZXZlcjtcbiAgICBjb3VudHJ5PzogQXV0b09yTmV2ZXI7XG4gICAgc3RhdGU/OiBBdXRvT3JOZXZlcjtcbiAgICBwb3N0YWxDb2RlPzogQXV0b09yTmV2ZXI7XG4gICAgbGluZTE/OiBBdXRvT3JOZXZlcjtcbiAgICBsaW5lMj86IEF1dG9Pck5ldmVyO1xufVxuXG4vKipcbiAqIE9iamVjdCBkZWZpbml0aW9uIGZvciBwYXJ0IG9mIHRoZSBkYXRhIHNlbnQgdG8gY29uZmlybSB0aGUgUGF5bWVudEludGVudC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCaWxsaW5nRGV0YWlsc09wdGlvbnMge1xuICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgZW1haWw/OiBzdHJpbmc7XG4gICAgYWRkcmVzcz86IEFkZHJlc3NPcHRpb25zO1xuICAgIHBob25lPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIE9iamVjdCBkZWZpbml0aW9uIGZvciBwYXJ0IG9mIHRoZSBkYXRhIHNlbnQgdG8gY29uZmlybSB0aGUgUGF5bWVudEludGVudC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCaWxsaW5nRGV0YWlsc1Byb3BlcnRpZXMge1xuICAgIG5hbWU/OiBBdXRvT3JOZXZlcjtcbiAgICBlbWFpbD86IEF1dG9Pck5ldmVyO1xuICAgIGFkZHJlc3M/OiBBdXRvT3JOZXZlciB8IEFkZHJlc3NQcm9wZXJ0aWVzO1xuICAgIHBob25lPzogQXV0b09yTmV2ZXI7XG59XG5cbi8qKlxuICogT2JqZWN0IGRlZmluaXRpb24gZm9yIHBhcnQgb2YgdGhlIGRhdGEgc2VudCB0byBjb25maXJtIHRoZSBQYXltZW50SW50ZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBheW1lbnRNZXRob2REYXRhT3B0aW9ucyB7XG4gICAgYmlsbGluZ19kZXRhaWxzOiBCaWxsaW5nRGV0YWlsc09wdGlvbnM7XG4gICAgYWxsb3dfcmVkaXNwbGF5PzogJ2Fsd2F5cycgfCAnbGltaXRlZCcgfCAndW5zcGVjaWZpZWQnO1xufVxuXG4vKipcbiAqIFBhcmFtZXRlcnMgdGhhdCB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aGUgU3RyaXBlIEFQSSB0byBjb25maXJtIHRoZSBQYXltZW50SW50ZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUNvbmZpcm1QYXJhbXMge1xuICAgIC8qXG4gICAgICogSWYgeW91IGFyZSBbaGFuZGxpbmcgbmV4dCBhY3Rpb25zIHlvdXJzZWxmXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9wYXltZW50cy9wYXltZW50LWludGVudHMvdmVyaWZ5aW5nLXN0YXR1cyNuZXh0LWFjdGlvbnMpLCBwYXNzIGluIGEgcmV0dXJuX3VybC4gSWYgdGhlIHN1YnNlcXVlbnQgYWN0aW9uXG4gICAgICogaXMgcmVkaXJlY3RfdG9fdXJsLCB0aGlzIFVSTCB3aWxsIGJlIHVzZWQgb24gdGhlIHJldHVybiBwYXRoIGZvciB0aGUgcmVkaXJlY3QuXG4gICAgICpcbiAgICAgKiBAcmVjb21tZW5kZWRcbiAgICAgKi9cbiAgICByZXR1cm5fdXJsPzogc3RyaW5nO1xuICAgIHBheW1lbnRfbWV0aG9kX2RhdGE/OiBQYXltZW50TWV0aG9kRGF0YU9wdGlvbnM7XG59XG5cbi8qKlxuICogRGF0YSB0byBiZSBzZW50IHdpdGggYSBgc3RyaXBlLmNvbmZpcm1QYXltZW50YCByZXF1ZXN0LlxuICogUmVmZXIgdG8gdGhlIFtQYXltZW50IEludGVudHMgQVBJXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9wYXltZW50X2ludGVudHMvY29uZmlybV9wYXltZW50KSBmb3IgYSBmdWxsIGxpc3Qgb2YgcGFyYW1ldGVycy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVDb25maXJtUGF5bWVudERhdGEge1xuICAgIC8qKlxuICAgICAqIFRoZSBFbGVtZW50cyBpbnN0YW5jZSB0aGF0IHdhcyB1c2VkIHRvIGNyZWF0ZSB0aGUgUGF5bWVudCBFbGVtZW50LlxuICAgICAqL1xuICAgIGVsZW1lbnRzOiBTdHJpcGVFbGVtZW50cztcblxuICAgIC8qKlxuICAgICAqIFBhcmFtZXRlcnMgdGhhdCB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aGUgU3RyaXBlIEFQSSB0byBjb25maXJtIHRoZSBQYXltZW50SW50ZW50LlxuICAgICAqL1xuICAgIGNvbmZpcm1QYXJhbXM/OiBTdHJpcGVDb25maXJtUGFyYW1zO1xuXG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCwgY29uZmlybVBheW1lbnQgd2lsbCBhbHdheXMgcmVkaXJlY3QgdG8geW91ciByZXR1cm5fdXJsIGFmdGVyIGEgc3VjY2Vzc2Z1bCBjb25maXJtYXRpb24uXG4gICAgICogSWYgeW91IHNldCByZWRpcmVjdDogXCJpZl9yZXF1aXJlZFwiLCB0aGVuIGNvbmZpcm1QYXltZW50IHdpbGwgb25seSByZWRpcmVjdCBpZiB5b3VyIHVzZXIgY2hvb3NlcyBhIHJlZGlyZWN0LWJhc2VkIHBheW1lbnQgbWV0aG9kLlxuICAgICAqL1xuICAgIHJlZGlyZWN0PzogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLkFMV0FZUyB8IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5JRl9SRVFVSVJFRDtcblxuICAgIGNsaWVudFNlY3JldD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaWVsZHNPcHRpb25zIHtcbiAgICBiaWxsaW5nRGV0YWlscz86IEF1dG9Pck5ldmVyIHwgQmlsbGluZ0RldGFpbHNQcm9wZXJ0aWVzO1xuICAgIHBob25lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFdhbGxldE9wdGlvbnMge1xuICAgIGFwcGxlUGF5PzogQXV0b09yTmV2ZXI7XG4gICAgZ29vZ2xlUGF5PzogQXV0b09yTmV2ZXI7XG4gICAgbGluaz86IEF1dG9Pck5ldmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRlcm1PcHRpb25zIHtcbiAgICBjYXJkPzogQXV0b09yTmV2ZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlTGF5b3V0T3B0aW9ucyB7XG4gICAgdHlwZT86ICdhY2NvcmRpb24nIHwgJ3RhYnMnO1xuICAgIGxpbmtJbkFjY29yZGlvbj86IGJvb2xlYW47XG4gICAgZGVmYXVsdENvbGxhcHNlZD86IGJvb2xlYW47XG4gICAgcmFkaW9zPzogYm9vbGVhbjtcbiAgICBzcGFjZWRBY2NvcmRpb25JdGVtcz86IGJvb2xlYW47XG4gICAgdmlzaWJsZUFjY29yZGlvbkl0ZW1zQ291bnQ/OiBudW1iZXI7XG59XG5cbi8qKlxuICogQWxsIGF2YWlsYWJsZSBvcHRpb25zIGFyZSBoZXJlIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2VsZW1lbnRzX29iamVjdC9jcmVhdGVfcGF5bWVudF9lbGVtZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlRWxlbWVudHNDcmVhdGVPcHRpb25zIHtcbiAgICBtb2RlPzogc3RyaW5nO1xuICAgIGZpZWxkcz86IEZpZWxkc09wdGlvbnM7XG4gICAgd2FsbGV0cz86IFdhbGxldE9wdGlvbnM7XG4gICAgYWxsb3dlZENvdW50cmllcz86IHN0cmluZ1tdO1xuICAgIGRlZmF1bHRWYWx1ZXM/OiBTaGlwcGluZ0RlZmF1bHRWYWx1ZXMgfCBDdXN0b21lckRlZmF1bHRWYWx1ZXMgfCBQYXltZW50RGVmYXVsdFZhbHVlcztcbiAgICB2YWxpZGF0aW9uPzogdmFsaWRhdGlvbkVsZW1lbnQ7XG4gICAgZGlzcGxheT86IHsgbmFtZTogU3RyaXBlRGlzcGxheU5hbWUgfTtcbiAgICB0ZXJtcz86IFRlcm1PcHRpb25zO1xuICAgIGxheW91dD86IFN0cmlwZUxheW91dE9wdGlvbnM7XG4gICAgcGF5bWVudE1ldGhvZE9yZGVyPzogc3RyaW5nW107XG4gICAgLy8gIExpbmsgdjIgb3B0aW9uc1xuICAgIGxpbmVJdGVtcz86IExpbmVJdGVtW107XG4gICAgYWxsb3dlZFNoaXBwaW5nQ291bnRyaWVzPzogc3RyaW5nW107XG4gICAgc2hpcHBpbmdBZGRyZXNzUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIHNoaXBwaW5nUmF0ZXM/OiBTdHJpcGVMaW5rVjJTaGlwcGluZ1JhdGVbXTtcbiAgICBiaWxsaW5nQWRkcmVzc1JlcXVpcmVkPzogYm9vbGVhbjtcbiAgICBlbWFpbFJlcXVpcmVkPzogYm9vbGVhbjtcbiAgICBwaG9uZU51bWJlclJlcXVpcmVkPzogYm9vbGVhbjtcbiAgICBwYXltZW50TWV0aG9kcz86IHtcbiAgICAgICAgbGluazogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLkFVVE87XG4gICAgICAgIGFwcGxlUGF5OiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVI7XG4gICAgICAgIGdvb2dsZVBheTogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSO1xuICAgICAgICBhbWF6b25QYXk6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUjtcbiAgICAgICAgcGF5cGFsOiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVI7XG4gICAgICAgIGtsYXJuYTogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSO1xuICAgIH07XG4gICAgYnV0dG9uSGVpZ2h0PzogbnVtYmVyO1xuICAgIHNhdmVQYXltZW50TWV0aG9kPzogU3RyaXBlU2F2ZVBheW1lbnRNZXRob2Q7XG59XG5cbmludGVyZmFjZSB2YWxpZGF0aW9uRWxlbWVudCB7XG4gICAgcGhvbmU/OiB2YWxpZGF0aW9uUmVxdWlyZWRFbGVtZW50O1xufVxuXG5pbnRlcmZhY2UgdmFsaWRhdGlvblJlcXVpcmVkRWxlbWVudCB7XG4gICAgcmVxdWlyZWQ/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBQYXltZW50RGVmYXVsdFZhbHVlcyB7XG4gICAgc2F2ZVBheW1lbnRNZXRob2Q/OiBib29sZWFuO1xuICAgIGJpbGxpbmdEZXRhaWxzPzogQmlsbGluZ0RldGFpbHNPcHRpb25zO1xufVxuXG5pbnRlcmZhY2UgU2hpcHBpbmdEZWZhdWx0VmFsdWVzIHtcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIGZpcnN0TmFtZT86IHN0cmluZztcbiAgICBsYXN0TmFtZT86IHN0cmluZztcbiAgICBwaG9uZTogc3RyaW5nO1xuICAgIGFkZHJlc3M6IEFkZHJlc3M7XG59XG5cbi8qXG5EZWNpZGUgd2hpY2ggbW9kZSB5b3UgYXJlIGdvaW5nIHRvIHVzZSB0aGUgQWRkcmVzcyBFbGVtZW50XG5TaGlwcGluZzogaXMgdXNlZCB3aXRoIHRoZSBQYXltZW50IEVsZW1lbnQgYW5kIExpbmsgQXV0aGVudGljYXRpb24gRWxlbWVudCwgaXQgd2lsbCBhdXRvbWF0aWNhbGx5IHBhc3Mgc2hpcHBpbmdcbmluZm9ybWF0aW9uIHdoZW4gY29uZmlybWluZyBQYXltZW50IEludGVudCBvciBTZXR1cCBJbnRlbnQuXG5CaWxsaW5nOiBpcyB1c2VkIHdpdGggdGhlIFBheW1lbnQgRWxlbWVudCwgaXQgd2lsbCBhdXRvbWF0aWNhbGx5IHBhc3MgdGhlIGJpbGxpbmcgaW5mb3JtYXRpb24gd2hlbiBjb25maXJtaW5nXG5QYXltZW50IEludGVudCBvciBTZXR1cCBJbnRlbnQuXG4gKi9cbmV4cG9ydCBlbnVtIFN0cmlwZUZvcm1Nb2RlIHtcbiAgICBTSElQUElORyA9ICdzaGlwcGluZycsXG4gICAgQklMTElORyA9ICdiaWxsaW5nJyxcbn1cblxuZXhwb3J0IGVudW0gU3RyaXBlRGlzcGxheU5hbWUge1xuICAgIFNQTElUID0gJ3NwbGl0JyxcbiAgICBGVUxMID0gJ2Z1bGwnLFxuICAgIE9SR0FOSVpBVElPTiA9ICdvcmdhbml6YXRpb24nLFxufVxuXG5pbnRlcmZhY2UgQ3VzdG9tZXJEZWZhdWx0VmFsdWVzIHtcbiAgICBtb2RlOiBTdHJpcGVGb3JtTW9kZTtcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIGFsbG93ZWRDb3VudHJpZXM/OiBzdHJpbmdbXTtcbiAgICBkaXNwbGF5Pzoge1xuICAgICAgICBuYW1lOiBTdHJpcGVEaXNwbGF5TmFtZTtcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUVsZW1lbnRzIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIEVsZW1lbnRzIGluc3RhbmNlLCB3aGljaCBtYW5hZ2VzIGEgZ3JvdXAgb2YgZWxlbWVudHMuXG4gICAgICogaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvZWxlbWVudHNfb2JqZWN0L2NyZWF0ZVxuICAgICAqL1xuICAgIGNyZWF0ZShlbGVtZW50VHlwZTogU3RyaXBlRWxlbWVudFR5cGUsIG9wdGlvbnM/OiBTdHJpcGVFbGVtZW50c0NyZWF0ZU9wdGlvbnMpOiBTdHJpcGVFbGVtZW50O1xuXG4gICAgLyoqXG4gICAgICogTG9va3MgdXAgYSBwcmV2aW91c2x5IGNyZWF0ZWQgZWxlbWVudC5cbiAgICAgKiBodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9lbGVtZW50c19vYmplY3QvZ2V0X3BheW1lbnRfZWxlbWVudCBvclxuICAgICAqIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2VsZW1lbnRzX29iamVjdC9nZXRfbGlua19hdXRoZW50aWNhdGlvbl9lbGVtZW50XG4gICAgICovXG4gICAgZ2V0RWxlbWVudChlbGVtZW50VHlwZTogU3RyaXBlRWxlbWVudFR5cGUpOiBTdHJpcGVFbGVtZW50IHwgbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgb3B0aW9ucyBvbiBhbiBleGlzdGluZyBpbnN0YW5jZSBvZiBFbGVtZW50cy5cbiAgICAgKiBodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9lbGVtZW50c19vYmplY3QvdXBkYXRlXG4gICAgICovXG4gICAgdXBkYXRlKG9wdGlvbnM/OiBTdHJpcGVVcGRhdGVFbGVtZW50c09wdGlvbnMpOiBTdHJpcGVFbGVtZW50O1xuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyB1cGRhdGVzIGZyb20gdGhlIGFzc29jaWF0ZWQgUGF5bWVudEludGVudCBvciBTZXR1cEludGVudCBvbiBhbiBleGlzdGluZyBpbnN0YW5jZSBvZiBFbGVtZW50cyxcbiAgICAgKiBhbmQgcmVmbGVjdHMgdGhlc2UgdXBkYXRlcyBpbiB0aGUgUGF5bWVudCBFbGVtZW50LlxuICAgICAqIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2VsZW1lbnRzX29iamVjdC9mZXRjaF91cGRhdGVzXG4gICAgICovXG4gICAgZmV0Y2hVcGRhdGVzKCk6IFByb21pc2U8dm9pZD47XG59XG5cbi8qKlxuICogQWxsIGF2YWlsYWJsZSBvcHRpb25zIGFyZSBoZXJlIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3N0cmlwZS1qcy9hcHBlYXJhbmNlLWFwaSNzdXBwb3J0ZWQtY3NzLXByb3BlcnRpZXNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVBcHBlYXJhbmNlT3B0aW9ucyB7XG4gICAgdmFyaWFibGVzPzogUmVjb3JkPHN0cmluZywgU3RyaXBlQXBwZWFyYW5jZVZhbHVlcz47XG5cbiAgICBydWxlcz86IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIFN0cmlwZUFwcGVhcmFuY2VWYWx1ZXM+Pjtcbn1cblxuZXhwb3J0IHR5cGUgU3RyaXBlQXBwZWFyYW5jZVZhbHVlcyA9IHN0cmluZyB8IHN0cmluZ1tdIHwgbnVtYmVyIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUVsZW1lbnRzT3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgY3VzdG9tIGZvbnRzLCB3aGljaCBlbGVtZW50cyBjcmVhdGVkIGZyb20gdGhlIEVsZW1lbnRzIG9iamVjdCBjYW4gdXNlLlxuICAgICAqIEZvbnRzIGNhbiBiZSBzcGVjaWZpZWQgYXMgW0Nzc0ZvbnRTb3VyY2VdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2FwcGVuZGl4L2Nzc19mb250X3NvdXJjZV9vYmplY3QpXG4gICAgICogb3IgW0N1c3RvbUZvbnRTb3VyY2VdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2FwcGVuZGl4L2N1c3RvbV9mb250X3NvdXJjZV9vYmplY3QpIG9iamVjdHMuXG4gICAgICovXG4gICAgZm9udHM/OiBTdHJpcGVDdXN0b21Gb250W107XG5cbiAgICAvKipcbiAgICAgKiBBIFtsb2NhbGVdKGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL2FwcGVuZGl4L3N1cHBvcnRlZF9sb2NhbGVzKSB0byBkaXNwbGF5IHBsYWNlaG9sZGVycyBhbmRcbiAgICAgKiBlcnJvciBzdHJpbmdzIGluLiBEZWZhdWx0IGlzIGF1dG8gKFN0cmlwZSBkZXRlY3RzIHRoZSBsb2NhbGUgb2YgdGhlIGJyb3dzZXIpLlxuICAgICAqIFNldHRpbmcgdGhlIGxvY2FsZSBkb2VzIG5vdCBhZmZlY3QgdGhlIGJlaGF2aW9yIG9mIHBvc3RhbCBjb2RlIHZhbGlkYXRpb27igJRhIHZhbGlkIHBvc3RhbCBjb2RlXG4gICAgICogZm9yIHRoZSBiaWxsaW5nIGNvdW50cnkgb2YgdGhlIGNhcmQgaXMgc3RpbGwgcmVxdWlyZWQuXG4gICAgICovXG4gICAgbG9jYWxlPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNsaWVudCBzZWNyZXQgb2YgdGhpcyBQYXltZW50SW50ZW50LiBVc2VkIGZvciBjbGllbnQtc2lkZSByZXRyaWV2YWwgdXNpbmcgYSBwdWJsaXNoYWJsZSBrZXkuXG4gICAgICogVGhlIGNsaWVudCBzZWNyZXQgY2FuIGJlIHVzZWQgdG8gY29tcGxldGUgYSBwYXltZW50IGZyb20geW91ciBmcm9udGVuZC5cbiAgICAgKiBJdCBzaG91bGQgbm90IGJlIHN0b3JlZCwgbG9nZ2VkLCBlbWJlZGRlZCBpbiBVUkxzLCBvciBleHBvc2VkIHRvIGFueW9uZSBvdGhlciB0aGFuIHRoZSBjdXN0b21lci5cbiAgICAgKiBNYWtlIHN1cmUgdGhhdCB5b3UgaGF2ZSBUTFMgZW5hYmxlZCBvbiBhbnkgcGFnZSB0aGF0IGluY2x1ZGVzIHRoZSBjbGllbnQgc2VjcmV0LlxuICAgICAqIFJlZmVyIHRvIG91ciBkb2NzIHRvIGFjY2VwdCBhIHBheW1lbnQgYW5kIGxlYXJuIGFib3V0IGhvdyBjbGllbnRfc2VjcmV0IHNob3VsZCBiZSBoYW5kbGVkLlxuICAgICAqL1xuICAgIGNsaWVudFNlY3JldD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgdG9rZW4gdGhhdCByZXByZXNlbnRzIHRoZSBTdHJpcGUgY3VzdG9tZXIgc2Vzc2lvbi5cbiAgICAgKiBTdHJpcGUgZG9jdW1lbnRhdGlvbjogaHR0cHM6Ly9kb2NzLnN0cmlwZS5jb20vYXBpL2NoZWNrb3V0L3Nlc3Npb25zXG4gICAgICovXG4gICAgY3VzdG9tZXJTZXNzaW9uQ2xpZW50U2VjcmV0Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogTWF0Y2ggdGhlIGRlc2lnbiBvZiB5b3VyIHNpdGUgd2l0aCB0aGUgYXBwZWFyYW5jZSBvcHRpb24uXG4gICAgICogVGhlIGxheW91dCBvZiBlYWNoIEVsZW1lbnQgc3RheXMgY29uc2lzdGVudCwgYnV0IHlvdSBjYW4gbW9kaWZ5IGNvbG9ycywgZm9udHMsIGJvcmRlcnMsIHBhZGRpbmcsIGFuZCBtb3JlLlxuICAgICAqL1xuICAgIGFwcGVhcmFuY2U/OiBTdHJpcGVBcHBlYXJhbmNlT3B0aW9ucztcblxuICAgIG1vZGU/OiBzdHJpbmc7XG4gICAgYW1vdW50PzogbnVtYmVyO1xuICAgIGN1cnJlbmN5Pzogc3RyaW5nO1xuICAgIHBheW1lbnRNZXRob2RUeXBlcz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZVVwZGF0ZUVsZW1lbnRzT3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogQSBbbG9jYWxlXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9hcHBlbmRpeC9zdXBwb3J0ZWRfbG9jYWxlcykgdG8gZGlzcGxheSBwbGFjZWhvbGRlcnMgYW5kXG4gICAgICogZXJyb3Igc3RyaW5ncyBpbi4gRGVmYXVsdCBpcyBhdXRvIChTdHJpcGUgZGV0ZWN0cyB0aGUgbG9jYWxlIG9mIHRoZSBicm93c2VyKS5cbiAgICAgKiBTZXR0aW5nIHRoZSBsb2NhbGUgZG9lcyBub3QgYWZmZWN0IHRoZSBiZWhhdmlvciBvZiBwb3N0YWwgY29kZSB2YWxpZGF0aW9u4oCUYSB2YWxpZCBwb3N0YWwgY29kZVxuICAgICAqIGZvciB0aGUgYmlsbGluZyBjb3VudHJ5IG9mIHRoZSBjYXJkIGlzIHN0aWxsIHJlcXVpcmVkLlxuICAgICAqL1xuICAgIGxvY2FsZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIE1hdGNoIHRoZSBkZXNpZ24gb2YgeW91ciBzaXRlIHdpdGggdGhlIGFwcGVhcmFuY2Ugb3B0aW9uLlxuICAgICAqIFRoZSBsYXlvdXQgb2YgZWFjaCBFbGVtZW50IHN0YXlzIGNvbnNpc3RlbnQsIGJ1dCB5b3UgY2FuIG1vZGlmeSBjb2xvcnMsIGZvbnRzLCBib3JkZXJzLCBwYWRkaW5nLCBhbmQgbW9yZS5cbiAgICAgKi9cbiAgICBhcHBlYXJhbmNlPzogU3RyaXBlQXBwZWFyYW5jZU9wdGlvbnM7XG4gICAgbW9kZT86IHN0cmluZztcbiAgICBhbW91bnQ/OiBudW1iZXI7XG4gICAgY3VycmVuY3k/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQ2xpZW50IHtcbiAgICAvKipcbiAgICAgKiBVc2UgY29uZmlybVBheW1lbnQgdG8gY29uZmlybSBhIFBheW1lbnRJbnRlbnQgdXNpbmcgZGF0YSBjb2xsZWN0ZWQgYnkgdGhlIFBheW1lbnQgRWxlbWVudC5cbiAgICAgKiBXaGVuIGNhbGxlZCwgY29uZmlybVBheW1lbnQgd2lsbCBhdHRlbXB0IHRvIGNvbXBsZXRlIGFueSByZXF1aXJlZCBhY3Rpb25zLFxuICAgICAqIHN1Y2ggYXMgYXV0aGVudGljYXRpbmcgeW91ciB1c2VyIGJ5IGRpc3BsYXlpbmcgYSAzRFMgZGlhbG9nIG9yIHJlZGlyZWN0aW5nIHRoZW0gdG8gYSBiYW5rIGF1dGhvcml6YXRpb24gcGFnZS5cbiAgICAgKi9cbiAgICBjb25maXJtUGF5bWVudChvcHRpb25zOiBTdHJpcGVDb25maXJtUGF5bWVudERhdGEpOiBQcm9taXNlPFN0cmlwZVJlc3VsdD47XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGNhbGxlZCwgaXQgd2lsbCBjb25maXJtIHRoZSBQYXltZW50SW50ZW50IHdpdGggZGF0YSB5b3UgcHJvdmlkZSBhbmQgY2Fycnkgb3V0IDNEUyBvciBvdGhlciBuZXh0IGFjdGlvbnMgaWYgdGhleSBhcmUgcmVxdWlyZWQuXG4gICAgICovXG4gICAgY29uZmlybUNhcmRQYXltZW50KGNsaWVudFNlY3JldDogc3RyaW5nKTogUHJvbWlzZTxTdHJpcGVSZXN1bHQ+O1xuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgYSBQYXltZW50SW50ZW50IHVzaW5nIGl0cyBjbGllbnQgc2VjcmV0LlxuICAgICAqL1xuICAgIHJldHJpZXZlUGF5bWVudEludGVudChjbGllbnRTZWNyZXQ6IHN0cmluZyk6IFByb21pc2U8U3RyaXBlUmVzdWx0PjtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBgRWxlbWVudHNgIGluc3RhbmNlLCB3aGljaCBtYW5hZ2VzIGEgZ3JvdXAgb2YgZWxlbWVudHMuXG4gICAgICovXG4gICAgZWxlbWVudHMob3B0aW9uczogU3RyaXBlRWxlbWVudHNPcHRpb25zKTogU3RyaXBlRWxlbWVudHM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlUmVzdWx0IHtcbiAgICBwYXltZW50SW50ZW50PzogUGF5bWVudEludGVudDtcbiAgICBlcnJvcj86IFN0cmlwZUVycm9yO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUhvc3RXaW5kb3cgZXh0ZW5kcyBXaW5kb3cge1xuICAgIGJjU3RyaXBlQ2xpZW50PzogU3RyaXBlQ2xpZW50O1xuICAgIGJjU3RyaXBlRWxlbWVudHM/OiBTdHJpcGVFbGVtZW50cztcbiAgICBTdHJpcGU/PFQgPSBTdHJpcGVDbGllbnQ+KFxuICAgICAgICBzdHJpcGVQdWJsaXNoYWJsZUtleTogc3RyaW5nLFxuICAgICAgICBvcHRpb25zPzogU3RyaXBlQ29uZmlndXJhdGlvbk9wdGlvbnMsXG4gICAgKTogVDtcbn1cblxuZXhwb3J0IGVudW0gU3RyaXBlUGF5bWVudE1ldGhvZFR5cGUge1xuICAgIENyZWRpdENhcmQgPSAnY2FyZCcsXG4gICAgTGluayA9ICdsaW5rJyxcbiAgICBFUFMgPSAnZXBzJyxcbiAgICBHUkFCUEFZID0gJ2dyYWJwYXknLFxuICAgIEJBTkNPTlRBQ1QgPSAnYmFuY29udGFjdCcsXG4gICAgSURFQUwgPSAnaWRlYWwnLFxuICAgIEFMSVBBWSA9ICdhbGlwYXknLFxuICAgIEtMQVJOQSA9ICdrbGFybmEnLFxuICAgIE9DUyA9ICdvcHRpbWl6ZWRfY2hlY2tvdXQnLFxufVxuXG50eXBlIEF1dG9Pck5ldmVyID0gU3RyaXBlU3RyaW5nQ29uc3RhbnRzLkFVVE8gfCBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVI7XG5cbmV4cG9ydCBlbnVtIFN0cmlwZVN0cmluZ0NvbnN0YW50cyB7XG4gICAgTkVWRVIgPSAnbmV2ZXInLFxuICAgIEFVVE8gPSAnYXV0bycsXG4gICAgQUxXQVlTID0gJ2Fsd2F5cycsXG4gICAgUEFZTUVOVCA9ICdwYXltZW50JyxcbiAgICBJRl9SRVFVSVJFRCA9ICdpZl9yZXF1aXJlZCcsXG59XG5cbmV4cG9ydCBlbnVtIFN0cmlwZUVsZW1lbnRUeXBlIHtcbiAgICBQQVlNRU5UID0gJ3BheW1lbnQnLFxuICAgIEFVVEhFTlRJQ0FUSU9OID0gJ2xpbmtBdXRoZW50aWNhdGlvbicsXG4gICAgU0hJUFBJTkcgPSAnYWRkcmVzcycsXG4gICAgRVhQUkVTU19DSEVDS09VVCA9ICdleHByZXNzQ2hlY2tvdXQnLFxufVxuXG5leHBvcnQgZW51bSBTdHJpcGVQYXltZW50SW50ZW50U3RhdHVzIHtcbiAgICBSRVFVSVJFU19QQVlNRU5UX01FVEhPRCA9ICdyZXF1aXJlc19wYXltZW50X21ldGhvZCcsXG4gICAgUkVRVUlSRVNfQ09ORklSTUFUSU9OID0gJ3JlcXVpcmVzX2NvbmZpcm1hdGlvbicsXG4gICAgUkVRVUlSRVNfQUNUSU9OID0gJ3JlcXVpcmVzX2FjdGlvbicsXG4gICAgUFJPQ0VTU0lORyA9ICdwcm9jZXNzaW5nJyxcbiAgICBTVUNDRUVERUQgPSAnc3VjY2VlZGVkJyxcbiAgICBDQU5DRUxFRCA9ICdjYW5jZWxlZCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlUGF5bWVudE1ldGhvZCBleHRlbmRzIFBheW1lbnRNZXRob2Qge1xuICAgIGluaXRpYWxpemF0aW9uRGF0YTogU3RyaXBlSW5pdGlhbGl6YXRpb25EYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUluaXRpYWxpemF0aW9uRGF0YSB7XG4gICAgc3RyaXBlUHVibGlzaGFibGVLZXk6IHN0cmluZztcbiAgICBzdHJpcGVDb25uZWN0ZWRBY2NvdW50OiBzdHJpbmc7XG4gICAgc2hvcHBlckxhbmd1YWdlOiBzdHJpbmc7XG4gICAgY3VzdG9tZXJTZXNzaW9uVG9rZW4/OiBzdHJpbmc7XG4gICAgZW5hYmxlTGluaz86IGJvb2xlYW47XG4gICAgYWxsb3dSZWRpc3BsYXlGb3JTdG9yZWRJbnN0cnVtZW50cz86IGJvb2xlYW47XG4gICAgY2FwdHVyZU1ldGhvZD86ICdhdXRvbWF0aWMnIHwgJ21hbnVhbCc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlRWxlbWVudFVwZGF0ZU9wdGlvbnMge1xuICAgIHNob3VsZFNob3dUZXJtcz86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkIHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgZGF0YToge1xuICAgICAgICB0b2tlbj86IHN0cmluZztcbiAgICAgICAgcmVkaXJlY3RfdXJsPzogc3RyaW5nO1xuICAgIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlQWRkaXRpb25hbEFjdGlvblJlc3BvbnNlQm9keSB7XG4gICAgYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ6IFN0cmlwZUFkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZDtcbiAgICB0aHJlZV9kc19yZXN1bHQ6IHtcbiAgICAgICAgdG9rZW4/OiBzdHJpbmc7XG4gICAgfTtcbn1cblxuZXhwb3J0IGVudW0gU3RyaXBlRWxlbWVudEV2ZW50IHtcbiAgICBDTElDSyA9ICdjbGljaycsXG4gICAgQ0hBTkdFID0gJ2NoYW5nZScsXG4gICAgUkVBRFkgPSAncmVhZHknLFxuICAgIFNISVBQSU5HX0FERFJFU1NfQ0hBTkdFID0gJ3NoaXBwaW5nYWRkcmVzc2NoYW5nZScsXG4gICAgU0hJUFBJTkdfUkFURV9DSEFOR0UgPSAnc2hpcHBpbmdyYXRlY2hhbmdlJyxcbiAgICBDT05GSVJNID0gJ2NvbmZpcm0nLFxuICAgIENBTkNFTCA9ICdjYW5jZWwnLFxuICAgIExPQURFUl9TVEFSVCA9ICdsb2FkZXJzdGFydCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGluZUl0ZW0ge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBhbW91bnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVTYXZlUGF5bWVudE1ldGhvZCB7XG4gICAgbWF4VmlzaWJsZVBheW1lbnRNZXRob2RzPzogbnVtYmVyO1xufVxuXG5leHBvcnQgZW51bSBTdHJpcGVJbnN0cnVtZW50U2V0dXBGdXR1cmVVc2FnZSB7XG4gICAgT05fU0VTU0lPTiA9ICdvbl9zZXNzaW9uJyxcbiAgICBPRkZfU0VTU0lPTiA9ICdvZmZfc2Vzc2lvbicsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlTGlua1YyRXZlbnQge1xuICAgIHZhbHVlPzogbnVsbDtcbiAgICBiaWxsaW5nRGV0YWlscz86IHtcbiAgICAgICAgbmFtZT86IHN0cmluZztcbiAgICAgICAgZW1haWw/OiBzdHJpbmc7XG4gICAgICAgIHBob25lPzogc3RyaW5nO1xuICAgICAgICBhZGRyZXNzPzoge1xuICAgICAgICAgICAgbGluZTE/OiBzdHJpbmc7XG4gICAgICAgICAgICBjaXR5Pzogc3RyaW5nO1xuICAgICAgICAgICAgY291bnRyeT86IHN0cmluZztcbiAgICAgICAgICAgIHBvc3RhbF9jb2RlPzogc3RyaW5nO1xuICAgICAgICAgICAgc3RhdGU/OiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBzaGlwcGluZ0FkZHJlc3M/OiB7XG4gICAgICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgICAgIGFkZHJlc3M/OiB7XG4gICAgICAgICAgICBsaW5lMT86IHN0cmluZztcbiAgICAgICAgICAgIGxpbmUyPzogc3RyaW5nO1xuICAgICAgICAgICAgY2l0eT86IHN0cmluZztcbiAgICAgICAgICAgIGNvdW50cnk/OiBzdHJpbmc7XG4gICAgICAgICAgICBwb3N0YWxfY29kZT86IHN0cmluZztcbiAgICAgICAgICAgIHN0YXRlPzogc3RyaW5nO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgYWRkcmVzcz86IHtcbiAgICAgICAgbGluZTE/OiBzdHJpbmc7XG4gICAgICAgIGNpdHk/OiBzdHJpbmc7XG4gICAgICAgIGNvdW50cnk/OiBzdHJpbmc7XG4gICAgICAgIHBvc3RhbF9jb2RlPzogc3RyaW5nO1xuICAgICAgICBzdGF0ZT86IHN0cmluZztcbiAgICB9O1xuICAgIHNoaXBwaW5nUmF0ZT86IFN0cmlwZUxpbmtWMlNoaXBwaW5nUmF0ZTtcbiAgICBlbGVtZW50VHlwZTogc3RyaW5nO1xuICAgIGV4cHJlc3NQYXltZW50VHlwZTogc3RyaW5nO1xuICAgIHJlc29sdmUoZGF0YTogU3RyaXBlTGlua1YyRXZlbnRSZXNvbHZlRGF0YSk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaXBlTGlua1YyRXZlbnRSZXNvbHZlRGF0YSB7XG4gICAgbGluZUl0ZW1zPzogTGluZUl0ZW1bXTtcbiAgICBhbGxvd2VkU2hpcHBpbmdDb3VudHJpZXM/OiBzdHJpbmdbXTtcbiAgICBzaGlwcGluZ0FkZHJlc3NSZXF1aXJlZD86IGJvb2xlYW47XG4gICAgc2hpcHBpbmdSYXRlcz86IFN0cmlwZUxpbmtWMlNoaXBwaW5nUmF0ZVtdO1xuICAgIGJpbGxpbmdBZGRyZXNzUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIGVtYWlsUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIHBob25lTnVtYmVyUmVxdWlyZWQ/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUxpbmtWMlNoaXBwaW5nUmF0ZSB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgICBkaXNwbGF5TmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUxpbmtWMk9wdGlvbnMge1xuICAgIGNsaWVudFNlY3JldD86IHN0cmluZztcbiAgICBtb2RlPzogc3RyaW5nO1xuICAgIGN1cnJlbmN5Pzogc3RyaW5nO1xuICAgIGNhcHR1cmVNZXRob2Q/OiAnYXV0b21hdGljJyB8ICdtYW51YWwnO1xuICAgIGFtb3VudD86IG51bWJlcjtcbn1cbiIsImltcG9ydCB7IFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHsgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHtcbiAgICBTdHJpcGVDbGllbnQsXG4gICAgU3RyaXBlRWxlbWVudHMsXG4gICAgU3RyaXBlRWxlbWVudHNPcHRpb25zLFxuICAgIFN0cmlwZUhvc3RXaW5kb3csXG4gICAgU3RyaXBlSW5pdGlhbGl6YXRpb25EYXRhLFxufSBmcm9tICcuL3N0cmlwZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0cmlwZVNjcmlwdExvYWRlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgc2NyaXB0TG9hZGVyOiBTY3JpcHRMb2FkZXIsXG4gICAgICAgIHByaXZhdGUgc3RyaXBlV2luZG93OiBTdHJpcGVIb3N0V2luZG93ID0gd2luZG93LFxuICAgICkge31cblxuICAgIGFzeW5jIGdldFN0cmlwZUNsaWVudChcbiAgICAgICAgaW5pdGlhbGl6YXRpb25EYXRhOiBTdHJpcGVJbml0aWFsaXphdGlvbkRhdGEsXG4gICAgICAgIGJldGFzPzogc3RyaW5nW10sXG4gICAgICAgIGFwaVZlcnNpb24/OiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxTdHJpcGVDbGllbnQ+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RyaXBlV2luZG93LmJjU3RyaXBlQ2xpZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJpcGVXaW5kb3cuYmNTdHJpcGVDbGllbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdHJpcGUgPSBhd2FpdCB0aGlzLmxvYWQoKTtcbiAgICAgICAgY29uc3QgeyBzdHJpcGVQdWJsaXNoYWJsZUtleSwgc3RyaXBlQ29ubmVjdGVkQWNjb3VudCB9ID0gaW5pdGlhbGl6YXRpb25EYXRhO1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgLi4uKHN0cmlwZUNvbm5lY3RlZEFjY291bnQgPyB7IHN0cmlwZUFjY291bnQ6IHN0cmlwZUNvbm5lY3RlZEFjY291bnQgfSA6IHt9KSxcbiAgICAgICAgICAgIC4uLihiZXRhcyA/IHsgYmV0YXMgfSA6IHt9KSxcbiAgICAgICAgICAgIC4uLihhcGlWZXJzaW9uID8geyBhcGlWZXJzaW9uIH0gOiB7fSksXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc3RyaXBlQ2xpZW50ID0gc3RyaXBlPFN0cmlwZUNsaWVudD4oc3RyaXBlUHVibGlzaGFibGVLZXksIG9wdGlvbnMpO1xuXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5zdHJpcGVXaW5kb3csIHsgYmNTdHJpcGVDbGllbnQ6IHN0cmlwZUNsaWVudCB9KTtcblxuICAgICAgICByZXR1cm4gc3RyaXBlQ2xpZW50O1xuICAgIH1cblxuICAgIGFzeW5jIGdldEVsZW1lbnRzKFxuICAgICAgICBzdHJpcGVDbGllbnQ6IFN0cmlwZUNsaWVudCxcbiAgICAgICAgb3B0aW9uczogU3RyaXBlRWxlbWVudHNPcHRpb25zLFxuICAgICk6IFByb21pc2U8U3RyaXBlRWxlbWVudHM+IHtcbiAgICAgICAgbGV0IHN0cmlwZUVsZW1lbnRzID0gdGhpcy5zdHJpcGVXaW5kb3cuYmNTdHJpcGVFbGVtZW50cztcblxuICAgICAgICBpZiAoIXN0cmlwZUVsZW1lbnRzKSB7XG4gICAgICAgICAgICBzdHJpcGVFbGVtZW50cyA9IHN0cmlwZUNsaWVudC5lbGVtZW50cyhvcHRpb25zKTtcblxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnN0cmlwZVdpbmRvdywgeyBiY1N0cmlwZUVsZW1lbnRzOiBzdHJpcGVFbGVtZW50cyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlU3RyaXBlRWxlbWVudHMob3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyaXBlRWxlbWVudHM7XG4gICAgfVxuXG4gICAgYXN5bmMgdXBkYXRlU3RyaXBlRWxlbWVudHMob3B0aW9uczogU3RyaXBlRWxlbWVudHNPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHN0cmlwZUVsZW1lbnRzID0gdGhpcy5zdHJpcGVXaW5kb3cuYmNTdHJpcGVFbGVtZW50cztcblxuICAgICAgICBpZiAoIXN0cmlwZUVsZW1lbnRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzdHJpcGVFbGVtZW50cy51cGRhdGUob3B0aW9ucyk7XG4gICAgICAgIGF3YWl0IHN0cmlwZUVsZW1lbnRzLmZldGNoVXBkYXRlcygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgbG9hZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0cmlwZVdpbmRvdy5TdHJpcGUpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoJ2h0dHBzOi8vanMuc3RyaXBlLmNvbS92My8nKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLnN0cmlwZVdpbmRvdy5TdHJpcGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnN0cmlwZVdpbmRvdy5TdHJpcGU7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gYSBwYXltZW50IG1ldGhvZCBleHBlcmllbmNlcyBzb21lIGtpbmQgb2ZcbiAqIGZhaWx1cmUgKGkuZS46IGl0cyBjbGllbnQgbGlicmFyeSByZXR1cm5zIGEgcmVqZWN0ZWQgcHJvbWlzZSkuIEFuZCB0aGVyZSBpc1xuICogbm8gb3RoZXIgZXJyb3IgdHlwZSB0aGF0IGlzIG1vcmUgc3BlY2lmaWMgdGhhbiB0aGlzIG9uZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBoYXMgdGhyb3duIGFuIHVuZXhwZWN0ZWQgZXJyb3IuJyxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3BheW1lbnRfbWV0aG9kX2NsaWVudF9pbnZhbGlkJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBpbmNsdWRlcywgc29tZSB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7XG4gICAgQWRkcmVzcyxcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IsXG4gICAgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgaXNTdHJpcGVFcnJvciB9IGZyb20gJy4vaXMtc3RyaXBlLWVycm9yJztcbmltcG9ydCB7XG4gICAgQWRkcmVzc09wdGlvbnMsXG4gICAgU3RyaXBlQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkLFxuICAgIFN0cmlwZUNsaWVudCxcbiAgICBTdHJpcGVDb25maXJtUGF5bWVudERhdGEsXG4gICAgU3RyaXBlRWxlbWVudCxcbiAgICBTdHJpcGVFbGVtZW50cyxcbiAgICBTdHJpcGVFbGVtZW50VHlwZSxcbiAgICBTdHJpcGVFcnJvcixcbiAgICBTdHJpcGVQYXltZW50SW50ZW50U3RhdHVzLFxuICAgIFN0cmlwZVN0cmluZ0NvbnN0YW50cyxcbn0gZnJvbSAnLi9zdHJpcGUnO1xuaW1wb3J0IFN0cmlwZVBheW1lbnRJbml0aWFsaXplT3B0aW9ucyBmcm9tICcuL3N0cmlwZS1pbml0aWFsaXplLW9wdGlvbnMnO1xuaW1wb3J0IFN0cmlwZVNjcmlwdExvYWRlciBmcm9tICcuL3N0cmlwZS1zY3JpcHQtbG9hZGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlIHtcbiAgICBwcml2YXRlIGlzTW91bnRlZCA9IGZhbHNlO1xuICAgIHByaXZhdGUgY2hlY2tvdXRFdmVudHNVbnN1YnNjcmliZT86ICgpID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHNjcmlwdExvYWRlcjogU3RyaXBlU2NyaXB0TG9hZGVyLFxuICAgICkge31cblxuICAgIGRlaW5pdGlhbGl6ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jaGVja291dEV2ZW50c1Vuc3Vic2NyaWJlPy4oKTtcbiAgICAgICAgdGhpcy5pc01vdW50ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpbml0Q2hlY2tvdXRFdmVudHNTdWJzY3JpcHRpb24oXG4gICAgICAgIGdhdGV3YXlJZDogc3RyaW5nLFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICBzdHJpcGVJbml0aWFsaXphdGlvbk9wdGlvbnM6IFN0cmlwZVBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICAgICAgc3RyaXBlRWxlbWVudHM/OiBTdHJpcGVFbGVtZW50cyxcbiAgICApOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jaGVja291dEV2ZW50c1Vuc3Vic2NyaWJlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1YnNjcmliZShcbiAgICAgICAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXltZW50RWxlbWVudCA9IHN0cmlwZUVsZW1lbnRzPy5nZXRFbGVtZW50KFN0cmlwZUVsZW1lbnRUeXBlLlBBWU1FTlQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFwYXltZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVTdHJpcGVQYXltZW50SW50ZW50KGdhdGV3YXlJZCwgbWV0aG9kSWQpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzTW91bnRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudEVsZW1lbnQudW5tb3VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc01vdW50ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpcGVJbml0aWFsaXphdGlvbk9wdGlvbnMub25FcnJvcj8uKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNNb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0cmlwZUVsZW1lbnRzPy5mZXRjaFVwZGF0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3VudEVsZW1lbnQocGF5bWVudEVsZW1lbnQsIHN0cmlwZUluaXRpYWxpemF0aW9uT3B0aW9ucy5jb250YWluZXJJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIChzdGF0ZSkgPT4gc3RhdGUuZ2V0Q2hlY2tvdXQoKT8ub3V0c3RhbmRpbmdCYWxhbmNlLFxuICAgICAgICAgICAgKHN0YXRlKSA9PiBzdGF0ZS5nZXRDaGVja291dCgpPy5jb3Vwb25zLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIG1vdW50RWxlbWVudChzdHJpcGVFbGVtZW50OiBTdHJpcGVFbGVtZW50LCBjb250YWluZXJJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySWQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzdHJpcGVFbGVtZW50Lm1vdW50KGAjJHtjb250YWluZXJJZH1gKTtcbiAgICAgICAgdGhpcy5pc01vdW50ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIG1hcEFwcGVhcmFuY2VWYXJpYWJsZXMoc3R5bGVzOiBOb25OdWxsYWJsZTxTdHJpcGVQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnNbJ3N0eWxlJ10+KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb2xvclByaW1hcnk6IHN0eWxlcy5maWVsZElubmVyU2hhZG93LFxuICAgICAgICAgICAgY29sb3JCYWNrZ3JvdW5kOiBzdHlsZXMuZmllbGRCYWNrZ3JvdW5kLFxuICAgICAgICAgICAgY29sb3JUZXh0OiBzdHlsZXMubGFiZWxUZXh0LFxuICAgICAgICAgICAgY29sb3JEYW5nZXI6IHN0eWxlcy5maWVsZEVycm9yVGV4dCxcbiAgICAgICAgICAgIGNvbG9yVGV4dFNlY29uZGFyeTogc3R5bGVzLmxhYmVsVGV4dCxcbiAgICAgICAgICAgIGNvbG9yVGV4dFBsYWNlaG9sZGVyOiBzdHlsZXMuZmllbGRQbGFjZWhvbGRlclRleHQsXG4gICAgICAgICAgICBjb2xvckljb246IHN0eWxlcy5maWVsZFBsYWNlaG9sZGVyVGV4dCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBtYXBJbnB1dEFwcGVhcmFuY2VSdWxlcyhzdHlsZXM6IE5vbk51bGxhYmxlPFN0cmlwZVBheW1lbnRJbml0aWFsaXplT3B0aW9uc1snc3R5bGUnXT4pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiBzdHlsZXMuZmllbGRCb3JkZXIsXG4gICAgICAgICAgICBjb2xvcjogc3R5bGVzLmZpZWxkVGV4dCxcbiAgICAgICAgICAgIGJveFNoYWRvdzogc3R5bGVzLmZpZWxkSW5uZXJTaGFkb3csXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdGhyb3dTdHJpcGVFcnJvcihzdHJpcGVFcnJvcj86IHVua25vd24pOiBuZXZlciB7XG4gICAgICAgIGlmIChpc1N0cmlwZUVycm9yKHN0cmlwZUVycm9yKSkge1xuICAgICAgICAgICAgdGhpcy50aHJvd0Rpc3BsYXlhYmxlU3RyaXBlRXJyb3Ioc3RyaXBlRXJyb3IpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc0NhbmNlbGxhdGlvbkVycm9yKHN0cmlwZUVycm9yKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IoKTtcbiAgICB9XG5cbiAgICB0aHJvd0Rpc3BsYXlhYmxlU3RyaXBlRXJyb3Ioc3RyaXBlRXJyb3I6IFN0cmlwZUVycm9yKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGluY2x1ZGVzKFsnY2FyZF9lcnJvcicsICdpbnZhbGlkX3JlcXVlc3RfZXJyb3InLCAndmFsaWRhdGlvbl9lcnJvciddLCBzdHJpcGVFcnJvci50eXBlKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihzdHJpcGVFcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzQ2FuY2VsbGF0aW9uRXJyb3Ioc3RyaXBlRXJyb3I/OiBTdHJpcGVFcnJvcik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBzdHJpcGVFcnJvcj8ucGF5bWVudF9pbnRlbnQubGFzdF9wYXltZW50X2Vycm9yPy5tZXNzYWdlO1xuXG4gICAgICAgIHJldHVybiAhIWVycm9yTWVzc2FnZSAmJiBlcnJvck1lc3NhZ2UuaW5kZXhPZignY2FuY2VsZWQnKSAhPT0gLTE7XG4gICAgfVxuXG4gICAgdGhyb3dQYXltZW50Q29uZmlybWF0aW9uUHJvY2VlZE1lc3NhZ2UoKSB7XG4gICAgICAgIC8vIElORk86IGZvciBjYXNlIGlmIHBheW1lbnQgd2FzIHN1Y2Nlc3NmdWxseSBjb25maXJtZWQgb24gU3RyaXBlIHNpZGUgYnV0IG9uIEJDIHNpZGUgc29tZXRoaW5nIGdvIHdyb25nLCByZXF1ZXN0IGZhaWxlZCBhbmQgb3JkZXIgc3RhdHVzIGhhc24ndCBjaGFuZ2VkIHlldFxuICAgICAgICAvLyBGb3Igc2hvcHBlciB3ZSBuZWVkIHRvIHNob3cgYWRkaXRpb25hbCBtZXNzYWdlIHRoYXQgQkMgaXMgd2FpdGluZyBmb3Igc3RyaXBlIGNvbmZpcm1hdGlvbiwgdG8gcHJldmVudCBhZGRpdGlvbmFsIHBheW1lbnQgY3JlYXRpb25cbiAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RGYWlsZWRFcnJvcihcbiAgICAgICAgICAgIFwiV2UndmUgcmVjZWl2ZWQgeW91ciBvcmRlciBhbmQgYXJlIHByb2Nlc3NpbmcgeW91ciBwYXltZW50LiBPbmNlIHRoZSBwYXltZW50IGlzIHZlcmlmaWVkLCB5b3VyIG9yZGVyIHdpbGwgYmUgY29tcGxldGVkLiBXZSB3aWxsIHNlbmQgeW91IGFuIGVtYWlsIHdoZW4gaXQncyBjb21wbGV0ZWQuIFBsZWFzZSBub3RlLCB0aGlzIHByb2Nlc3MgbWF5IHRha2UgYSBmZXcgbWludXRlcyBkZXBlbmRpbmcgb24gdGhlIHByb2Nlc3NpbmcgdGltZXMgb2YgeW91ciBjaG9zZW4gbWV0aG9kLlwiLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGlzUGF5bWVudENvbXBsZXRlZChtZXRob2RJZDogc3RyaW5nLCBzdHJpcGVVUEVDbGllbnQ/OiBTdHJpcGVDbGllbnQpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcbiAgICAgICAgY29uc3QgeyBmZWF0dXJlcyB9ID0gc3RhdGUuZ2V0U3RvcmVDb25maWdPclRocm93KCkuY2hlY2tvdXRTZXR0aW5ncztcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhcGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbiB8fFxuICAgICAgICAgICAgIXN0cmlwZVVQRUNsaWVudCB8fFxuICAgICAgICAgICAgIWZlYXR1cmVzWydQSS02MjYuQmxvY2tfdW5uZWNlc3NhcnlfcGF5bWVudF9jb25maXJtYXRpb25fZm9yX1N0cmlwZVVQRSddXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBwYXltZW50SW50ZW50IH0gPSBhd2FpdCBzdHJpcGVVUEVDbGllbnQucmV0cmlldmVQYXltZW50SW50ZW50KFxuICAgICAgICAgICAgcGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbixcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gcGF5bWVudEludGVudD8uc3RhdHVzID09PSBTdHJpcGVQYXltZW50SW50ZW50U3RhdHVzLlNVQ0NFRURFRDtcbiAgICB9XG5cbiAgICBtYXBTdHJpcGVQYXltZW50RGF0YShcbiAgICAgICAgc3RyaXBlRWxlbWVudHM/OiBTdHJpcGVFbGVtZW50cyxcbiAgICAgICAgcmV0dXJuVXJsPzogc3RyaW5nLFxuICAgICAgICBzaG91bGRBbGxvd1JlZGlzcGxheSA9IGZhbHNlLFxuICAgICk6IFN0cmlwZUNvbmZpcm1QYXltZW50RGF0YSB7XG4gICAgICAgIGNvbnN0IGJpbGxpbmdBZGRyZXNzID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0QmlsbGluZ0FkZHJlc3MoKTtcbiAgICAgICAgY29uc3QgeyBmaXJzdE5hbWUgPSAnJywgbGFzdE5hbWUgPSAnJywgZW1haWwgPSAnJyB9ID0gYmlsbGluZ0FkZHJlc3MgfHwge307XG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSB0aGlzLl9tYXBTdHJpcGVBZGRyZXNzKGJpbGxpbmdBZGRyZXNzKTtcblxuICAgICAgICBpZiAoIXN0cmlwZUVsZW1lbnRzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFlbWFpbCB8fCAhYWRkcmVzcyB8fCAhYWRkcmVzcy5jaXR5IHx8ICFhZGRyZXNzLmNvdW50cnkgfHwgIWZpcnN0TmFtZSB8fCAhbGFzdE5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdCaWxsaW5nQWRkcmVzcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZWxlbWVudHM6IHN0cmlwZUVsZW1lbnRzLFxuICAgICAgICAgICAgcmVkaXJlY3Q6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5JRl9SRVFVSVJFRCxcbiAgICAgICAgICAgIGNvbmZpcm1QYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBwYXltZW50X21ldGhvZF9kYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLihzaG91bGRBbGxvd1JlZGlzcGxheSA/IHsgYWxsb3dfcmVkaXNwbGF5OiAnYWx3YXlzJyB9IDoge30pLFxuICAgICAgICAgICAgICAgICAgICBiaWxsaW5nX2RldGFpbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGAke2ZpcnN0TmFtZX0gJHtsYXN0TmFtZX1gLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLi4uKHJldHVyblVybCAmJiB7IHJldHVybl91cmw6IHJldHVyblVybCB9KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaXNBZGRpdGlvbmFsQWN0aW9uRXJyb3IoZXJyb3JzOiBBcnJheTx7IGNvZGU6IHN0cmluZyB9Pik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gc29tZShlcnJvcnMsIHsgY29kZTogJ2FkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkJyB9KTtcbiAgICB9XG5cbiAgICBpc1JlZGlyZWN0QWN0aW9uKGFkZGl0aW9uYWxBY3Rpb246IFN0cmlwZUFkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgZGF0YTogeyByZWRpcmVjdF91cmwgfSxcbiAgICAgICAgfSA9IGFkZGl0aW9uYWxBY3Rpb247XG5cbiAgICAgICAgcmV0dXJuIHR5cGUgPT09ICdyZWRpcmVjdF90b191cmwnICYmICEhcmVkaXJlY3RfdXJsO1xuICAgIH1cblxuICAgIGlzT25QYWdlQWRkaXRpb25hbEFjdGlvbihhZGRpdGlvbmFsQWN0aW9uOiBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uUmVxdWlyZWQpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGRhdGE6IHsgdG9rZW4gfSxcbiAgICAgICAgfSA9IGFkZGl0aW9uYWxBY3Rpb247XG5cbiAgICAgICAgcmV0dXJuIHR5cGUgPT09ICdhZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlc19wYXltZW50X21ldGhvZCcgJiYgISF0b2tlbjtcbiAgICB9XG5cbiAgICBhc3luYyB1cGRhdGVTdHJpcGVQYXltZW50SW50ZW50KGdhdGV3YXlJZDogc3RyaW5nLCBtZXRob2RJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIElORk86IHRvIHRyaWdnZXIgcGF5bWVudCBpbnRlbnQgdXBkYXRlIG9uIHRoZSBCRSBzaWRlIHdlIG5lZWQgdG8gbWFrZSBzdHJpcGUgY29uZmlnIHJlcXVlc3RcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QoZ2F0ZXdheUlkLCB7XG4gICAgICAgICAgICBwYXJhbXM6IHsgbWV0aG9kOiBtZXRob2RJZCB9LFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgeyBjbGllbnRUb2tlbiB9ID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuXG4gICAgICAgIGlmICghY2xpZW50VG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2NyaXB0TG9hZGVyLnVwZGF0ZVN0cmlwZUVsZW1lbnRzKHsgY2xpZW50U2VjcmV0OiBjbGllbnRUb2tlbiB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9tYXBTdHJpcGVBZGRyZXNzKGFkZHJlc3M/OiBBZGRyZXNzKTogQWRkcmVzc09wdGlvbnMge1xuICAgICAgICBpZiAoYWRkcmVzcykge1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIGNpdHksXG4gICAgICAgICAgICAgICAgYWRkcmVzczEsXG4gICAgICAgICAgICAgICAgYWRkcmVzczIsXG4gICAgICAgICAgICAgICAgY291bnRyeUNvZGU6IGNvdW50cnksXG4gICAgICAgICAgICAgICAgcG9zdGFsQ29kZSxcbiAgICAgICAgICAgICAgICBzdGF0ZU9yUHJvdmluY2VDb2RlLFxuICAgICAgICAgICAgfSA9IGFkZHJlc3M7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2l0eSxcbiAgICAgICAgICAgICAgICBjb3VudHJ5LFxuICAgICAgICAgICAgICAgIHBvc3RhbF9jb2RlOiBwb3N0YWxDb2RlLFxuICAgICAgICAgICAgICAgIGxpbmUxOiBhZGRyZXNzMSxcbiAgICAgICAgICAgICAgICBsaW5lMjogYWRkcmVzczIsXG4gICAgICAgICAgICAgICAgLi4uKHN0YXRlT3JQcm92aW5jZUNvZGUgPyB7IHN0YXRlOiBzdGF0ZU9yUHJvdmluY2VDb2RlIH0gOiB7fSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0JpbGxpbmdBZGRyZXNzKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTdHJpcGVFcnJvciB9IGZyb20gJy4vc3RyaXBlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaXBlRXJyb3IoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBTdHJpcGVFcnJvciB7XG4gICAgcmV0dXJuIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgZXJyb3IgIT09IG51bGwgJiYgJ3R5cGUnIGluIGVycm9yO1xufVxuIiwiaW1wb3J0IHsgUmVzcG9uc2UgfSBmcm9tICdAYmlnY29tbWVyY2UvcmVxdWVzdC1zZW5kZXInO1xuXG5pbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuY29uc3QgREVGQVVMVF9SRVNQT05TRSA9IHtcbiAgICBib2R5OiB7fSxcbiAgICBoZWFkZXJzOiB7fSxcbiAgICBzdGF0dXM6IDAsXG59O1xuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3IgaWYgd2UgYXJlIHVuYWJsZSB0byBtYWtlIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyLiBJdCB3cmFwc1xuICogYW55IHNlcnZlciByZXNwb25zZSBpbnRvIGEgSlMgZXJyb3Igb2JqZWN0LlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXF1ZXN0RXJyb3I8VEJvZHkgPSBhbnk+IGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgYm9keTogVEJvZHkgfCB7fTtcbiAgICBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAgIGVycm9yczogQXJyYXk8eyBjb2RlOiBzdHJpbmc7IG1lc3NhZ2U/OiBzdHJpbmcgfT47XG4gICAgc3RhdHVzOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcmVzcG9uc2U/OiBSZXNwb25zZTxUQm9keSB8IHt9PixcbiAgICAgICAge1xuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIGVycm9ycyxcbiAgICAgICAgfToge1xuICAgICAgICAgICAgbWVzc2FnZT86IHN0cmluZztcbiAgICAgICAgICAgIGVycm9ycz86IEFycmF5PHsgY29kZTogc3RyaW5nOyBtZXNzYWdlPzogc3RyaW5nIH0+O1xuICAgICAgICB9ID0ge30sXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHsgYm9keSwgaGVhZGVycywgc3RhdHVzIH0gPSByZXNwb25zZSB8fCBERUZBVUxUX1JFU1BPTlNFO1xuXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ0FuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdSZXF1ZXN0RXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAncmVxdWVzdCc7XG4gICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQYXltZW50TWV0aG9kIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IFN0cmlwZVBheW1lbnRNZXRob2QgfSBmcm9tICcuL3N0cmlwZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmlwZVBheW1lbnRNZXRob2RMaWtlKFxuICAgIHBheW1lbnRNZXRob2Q6IFBheW1lbnRNZXRob2QsXG4pOiBwYXltZW50TWV0aG9kIGlzIFN0cmlwZVBheW1lbnRNZXRob2Qge1xuICAgIHJldHVybiAoXG4gICAgICAgIHR5cGVvZiBwYXltZW50TWV0aG9kID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBwYXltZW50TWV0aG9kICE9PSBudWxsICYmXG4gICAgICAgICdpbml0aWFsaXphdGlvbkRhdGEnIGluIHBheW1lbnRNZXRob2QgJiZcbiAgICAgICAgKHBheW1lbnRNZXRob2QgYXMgU3RyaXBlUGF5bWVudE1ldGhvZCkuaW5pdGlhbGl6YXRpb25EYXRhICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgKHBheW1lbnRNZXRob2QgYXMgU3RyaXBlUGF5bWVudE1ldGhvZCkuaW5pdGlhbGl6YXRpb25EYXRhICE9PSBudWxsICYmXG4gICAgICAgIHR5cGVvZiAocGF5bWVudE1ldGhvZCBhcyBTdHJpcGVQYXltZW50TWV0aG9kKS5pbml0aWFsaXphdGlvbkRhdGEgPT09ICdvYmplY3QnICYmXG4gICAgICAgICdzdHJpcGVQdWJsaXNoYWJsZUtleScgaW4gKHBheW1lbnRNZXRob2QgYXMgU3RyaXBlUGF5bWVudE1ldGhvZCkuaW5pdGlhbGl6YXRpb25EYXRhICYmXG4gICAgICAgICdzdHJpcGVDb25uZWN0ZWRBY2NvdW50JyBpbiAocGF5bWVudE1ldGhvZCBhcyBTdHJpcGVQYXltZW50TWV0aG9kKS5pbml0aWFsaXphdGlvbkRhdGEgJiZcbiAgICAgICAgJ3Nob3BwZXJMYW5ndWFnZScgaW4gKHBheW1lbnRNZXRob2QgYXMgU3RyaXBlUGF5bWVudE1ldGhvZCkuaW5pdGlhbGl6YXRpb25EYXRhICYmXG4gICAgICAgIHR5cGVvZiAocGF5bWVudE1ldGhvZCBhcyBTdHJpcGVQYXltZW50TWV0aG9kKS5pbml0aWFsaXphdGlvbkRhdGEuc3RyaXBlUHVibGlzaGFibGVLZXkgIT09XG4gICAgICAgICAgICAndW5kZWZpbmVkJyAmJlxuICAgICAgICB0eXBlb2YgKHBheW1lbnRNZXRob2QgYXMgU3RyaXBlUGF5bWVudE1ldGhvZCkuaW5pdGlhbGl6YXRpb25EYXRhLnN0cmlwZUNvbm5lY3RlZEFjY291bnQgIT09XG4gICAgICAgICAgICAndW5kZWZpbmVkJyAmJlxuICAgICAgICB0eXBlb2YgKHBheW1lbnRNZXRob2QgYXMgU3RyaXBlUGF5bWVudE1ldGhvZCkuaW5pdGlhbGl6YXRpb25EYXRhLnNob3BwZXJMYW5ndWFnZSAhPT1cbiAgICAgICAgICAgICd1bmRlZmluZWQnXG4gICAgKTtcbn1cbiIsImV4cG9ydCBjb25zdCBzdXBwb3J0ZWRMb2NhbGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4gPSB7XG4gICAgYXI6IFsnYXInXSxcbiAgICBiZzogWydiZyddLFxuICAgIGNzOiBbJ2NzJ10sXG4gICAgZGE6IFsnZGEnXSxcbiAgICBkZTogWydkZSddLFxuICAgIGVsOiBbJ2VsJ10sXG4gICAgZW46IFsnZW4nLCAnZW4tR0InXSxcbiAgICBlczogWydlcycsICdlcy00MTknXSxcbiAgICBldDogWydldCddLFxuICAgIGZpOiBbJ2ZpJ10sXG4gICAgZmlsOiBbJ2ZpbCddLFxuICAgIGZyOiBbJ2ZyJywgJ2ZyLUNBJ10sXG4gICAgaGU6IFsnaGUnXSxcbiAgICBocjogWydociddLFxuICAgIGh1OiBbJ2h1J10sXG4gICAgaWQ6IFsnaWQnXSxcbiAgICBpdDogWydpdCddLFxuICAgIGphOiBbJ2phJ10sXG4gICAga286IFsna28nXSxcbiAgICBsdDogWydsdCddLFxuICAgIGx2OiBbJ2x2J10sXG4gICAgbXM6IFsnbXMnXSxcbiAgICBtdDogWydtdCddLFxuICAgIG5iOiBbJ25iJ10sXG4gICAgbmw6IFsnbmwnXSxcbiAgICBwbDogWydwbCddLFxuICAgIHB0OiBbJ3B0JywgJ3B0LUJSJ10sXG4gICAgcm86IFsncm8nXSxcbiAgICBydTogWydydSddLFxuICAgIHNrOiBbJ3NrJ10sXG4gICAgc2w6IFsnc2wnXSxcbiAgICBzdjogWydzdiddLFxuICAgIHRoOiBbJ3RoJ10sXG4gICAgdHI6IFsndHInXSxcbiAgICB2aTogWyd2aSddLFxuICAgIHpoOiBbJ3poJywgJ3poLUhLJywgJ3poLVRXJ10sXG59O1xuIiwiaW1wb3J0IHsgc3VwcG9ydGVkTG9jYWxlcyB9IGZyb20gJy4vc3RyaXBlLXN1cHBvcnRlZC1sb2NhbGVzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZm9ybWF0TG9jYWxlKGxvY2FsZUxhbmd1YWdlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IFtsYW5ndWFnZSwgY291bnRyeV0gPSBsb2NhbGVMYW5ndWFnZS5yZXBsYWNlKC9fL2csICctJykudG9Mb3dlckNhc2UoKS5zcGxpdCgnLScpO1xuICAgIGNvbnN0IGNvdW50cnlMb2NhbGVzID0gc3VwcG9ydGVkTG9jYWxlc1tsYW5ndWFnZV07XG5cbiAgICBpZiAoIWNvdW50cnlMb2NhbGVzKSB7XG4gICAgICAgIHJldHVybiAnYXV0byc7XG4gICAgfVxuXG4gICAgY29uc3QgZm9ybWF0dGVkTG9jYWxlID0gY291bnRyeSA/IGAke2xhbmd1YWdlfS0ke2NvdW50cnkudG9VcHBlckNhc2UoKX1gIDogbGFuZ3VhZ2U7XG5cbiAgICByZXR1cm4gY291bnRyeUxvY2FsZXMuaW5kZXhPZihmb3JtYXR0ZWRMb2NhbGUpID4gLTEgPyBmb3JtYXR0ZWRMb2NhbGUgOiBjb3VudHJ5TG9jYWxlc1swXTtcbn1cbiIsImV4cG9ydCBjb25zdCBTVFJJUEVfVVBFX0NMSUVOVF9CRVRBUyA9IFtcbiAgICAncGF5bWVudF9lbGVtZW50X2JldGFfMicsXG4gICAgJ2FsaXBheV9wbV9iZXRhXzEnLFxuICAgICdsaW5rX2RlZmF1bHRfaW50ZWdyYXRpb25fYmV0YV8xJyxcbiAgICAnc2hpcHBpbmdfYWRkcmVzc19lbGVtZW50X2JldGFfMScsXG4gICAgJ2FkZHJlc3NfZWxlbWVudF9iZXRhXzEnLFxuXTtcblxuZXhwb3J0IGNvbnN0IFNUUklQRV9VUEVfQ0xJRU5UX0FQSV9WRVJTSU9OID0gJzIwMjAtMDMtMDI7YWxpcGF5X2JldGE9djE7bGlua19iZXRhPXYxJztcbiIsImltcG9ydCB7XG4gICAgUGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIsXG4gICAgU3RyaXBlQWNjZWxlcmF0ZWRDaGVja291dEN1c3RvbWVyLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNTdHJpcGVBY2NlbGVyYXRlZENoZWNrb3V0Q3VzdG9tZXIoXG4gICAgY3VzdG9tZXI6IFBheW1lbnRQcm92aWRlckN1c3RvbWVyLFxuKTogY3VzdG9tZXIgaXMgU3RyaXBlQWNjZWxlcmF0ZWRDaGVja291dEN1c3RvbWVyIHtcbiAgICByZXR1cm4gJ3N0cmlwZUxpbmtBdXRoZW50aWNhdGlvblN0YXRlJyBpbiBjdXN0b21lcjtcbn1cbiIsImltcG9ydCB7IHNvbWUgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQge1xuICAgIEZvcm1hdHRlZEhvc3RlZEluc3RydW1lbnQsXG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgaXNIb3N0ZWRJbnN0cnVtZW50TGlrZSxcbiAgICBpc1JlcXVlc3RFcnJvcixcbiAgICBpc1ZhdWx0ZWRJbnN0cnVtZW50LFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvcixcbiAgICBOb3RJbml0aWFsaXplZEVycm9yVHlwZSxcbiAgICBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IsXG4gICAgT3JkZXJSZXF1ZXN0Qm9keSxcbiAgICBQYXltZW50LFxuICAgIFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcixcbiAgICBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VsZWN0b3JzLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yLFxuICAgIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICBQYXltZW50U3RyYXRlZ3ksXG4gICAgUmVxdWVzdEVycm9yLFxuICAgIFN0cmlwZVVQRUludGVudCxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5pbXBvcnQge1xuICAgIGZvcm1hdFN0cmlwZUxvY2FsZSxcbiAgICBpc1N0cmlwZVBheW1lbnRNZXRob2RMaWtlLFxuICAgIFNUUklQRV9VUEVfQ0xJRU5UX0FQSV9WRVJTSU9OLFxuICAgIFNUUklQRV9VUEVfQ0xJRU5UX0JFVEFTLFxuICAgIFN0cmlwZUFkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZCxcbiAgICBTdHJpcGVBcHBlYXJhbmNlT3B0aW9ucyxcbiAgICBTdHJpcGVDbGllbnQsXG4gICAgU3RyaXBlRWxlbWVudCxcbiAgICBTdHJpcGVFbGVtZW50RXZlbnQsXG4gICAgU3RyaXBlRWxlbWVudHMsXG4gICAgU3RyaXBlRWxlbWVudHNDcmVhdGVPcHRpb25zLFxuICAgIFN0cmlwZUVsZW1lbnRUeXBlLFxuICAgIFN0cmlwZUVsZW1lbnRVcGRhdGVPcHRpb25zLFxuICAgIFN0cmlwZUVycm9yLFxuICAgIFN0cmlwZUV2ZW50VHlwZSxcbiAgICBTdHJpcGVJbml0aWFsaXphdGlvbkRhdGEsXG4gICAgU3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFN0cmlwZVBheW1lbnRNZXRob2RUeXBlLFxuICAgIFN0cmlwZVJlc3VsdCxcbiAgICBTdHJpcGVTY3JpcHRMb2FkZXIsXG4gICAgU3RyaXBlU3RyaW5nQ29uc3RhbnRzLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3N0cmlwZS11dGlscyc7XG5cbmltcG9ydCBpc1N0cmlwZUFjY2VsZXJhdGVkQ2hlY2tvdXRDdXN0b21lciBmcm9tICcuL2lzLXN0cmlwZS1hY2NlbGVyYXRlZC1jaGVja291dC1jdXN0b21lcic7XG5pbXBvcnQgU3RyaXBlVVBFUGF5bWVudEluaXRpYWxpemVPcHRpb25zLCB7XG4gICAgV2l0aFN0cmlwZVVQRVBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbn0gZnJvbSAnLi9zdHJpcGUtdXBlLWluaXRpYWxpemUtb3B0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0cmlwZVVQRVBheW1lbnRTdHJhdGVneSBpbXBsZW1lbnRzIFBheW1lbnRTdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBfc3RyaXBlVVBFQ2xpZW50PzogU3RyaXBlQ2xpZW50O1xuICAgIHByaXZhdGUgX3N0cmlwZUVsZW1lbnRzPzogU3RyaXBlRWxlbWVudHM7XG4gICAgcHJpdmF0ZSBfaXNTdHJpcGVFbGVtZW50VXBkYXRlRW5hYmxlZD86IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfYWxsb3dSZWRpc3BsYXlGb3JTdG9yZWRJbnN0cnVtZW50cz86IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHNjcmlwdExvYWRlcjogU3RyaXBlU2NyaXB0TG9hZGVyLFxuICAgICAgICBwcml2YXRlIHN0cmlwZUludGVncmF0aW9uU2VydmljZTogU3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhTdHJpcGVVUEVQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgc3RyaXBldXBlLCBtZXRob2RJZCwgZ2F0ZXdheUlkIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIGlmICghc3RyaXBldXBlPy5jb250YWluZXJJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZ2F0ZXdheUlkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcImdhdGV3YXlJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWRTdHJpcGVFbGVtZW50KHN0cmlwZXVwZSwgZ2F0ZXdheUlkLCBtZXRob2RJZCkuY2F0Y2goKGVycm9yKSA9PlxuICAgICAgICAgICAgc3RyaXBldXBlLm9uRXJyb3I/LihlcnJvciksXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UuaW5pdENoZWNrb3V0RXZlbnRzU3Vic2NyaXB0aW9uKFxuICAgICAgICAgICAgZ2F0ZXdheUlkLFxuICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICBzdHJpcGV1cGUsXG4gICAgICAgICAgICB0aGlzLl9zdHJpcGVFbGVtZW50cyxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgZXhlY3V0ZShvcmRlclJlcXVlc3Q6IE9yZGVyUmVxdWVzdEJvZHksIG9wdGlvbnM/OiBQYXltZW50UmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBwYXltZW50LCAuLi5vcmRlciB9ID0gb3JkZXJSZXF1ZXN0O1xuXG4gICAgICAgIGlmICghcGF5bWVudCB8fCAhcGF5bWVudC5wYXltZW50RGF0YSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQucGF5bWVudERhdGEnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX3N0cmlwZVVQRUNsaWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgcGF5bWVudERhdGEsIG1ldGhvZElkLCBnYXRld2F5SWQgfSA9IHBheW1lbnQ7XG4gICAgICAgIGNvbnN0IHsgc2hvdWxkU2F2ZUluc3RydW1lbnQgPSBmYWxzZSwgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCA9IGZhbHNlIH0gPVxuICAgICAgICAgICAgaXNIb3N0ZWRJbnN0cnVtZW50TGlrZShwYXltZW50RGF0YSkgPyBwYXltZW50RGF0YSA6IHt9O1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB7IGlzU3RvcmVDcmVkaXRBcHBsaWVkOiB1c2VTdG9yZUNyZWRpdCB9ID0gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRQcm92aWRlckN1c3RvbWVyID0gc3RhdGUuZ2V0UGF5bWVudFByb3ZpZGVyQ3VzdG9tZXJPclRocm93KCk7XG4gICAgICAgIGNvbnN0IHN0cmlwZVBheW1lbnRQcm92aWRlckN1c3RvbWVyID0gaXNTdHJpcGVBY2NlbGVyYXRlZENoZWNrb3V0Q3VzdG9tZXIoXG4gICAgICAgICAgICBwYXltZW50UHJvdmlkZXJDdXN0b21lcixcbiAgICAgICAgKVxuICAgICAgICAgICAgPyBwYXltZW50UHJvdmlkZXJDdXN0b21lclxuICAgICAgICAgICAgOiB7fTtcbiAgICAgICAgY29uc3Qgc3RyaXBlTGlua0F1dGhlbnRpY2F0aW9uU3RhdGUgPVxuICAgICAgICAgICAgc3RyaXBlUGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIuc3RyaXBlTGlua0F1dGhlbnRpY2F0aW9uU3RhdGU7XG5cbiAgICAgICAgaWYgKHVzZVN0b3JlQ3JlZGl0KSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuYXBwbHlTdG9yZUNyZWRpdCh1c2VTdG9yZUNyZWRpdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2F0ZXdheUlkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS51cGRhdGVTdHJpcGVQYXltZW50SW50ZW50KGdhdGV3YXlJZCwgbWV0aG9kSWQpO1xuXG4gICAgICAgICAgICBjb25zdCB7IGVtYWlsIH0gPSBzdGF0ZS5nZXRDdXN0b21lck9yVGhyb3coKTtcblxuICAgICAgICAgICAgaWYgKHN0cmlwZUxpbmtBdXRoZW50aWNhdGlvblN0YXRlICE9PSB1bmRlZmluZWQgJiYgIWVtYWlsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmlsbGluZ0FkZHJlc3MgPSBzdGF0ZS5nZXRCaWxsaW5nQWRkcmVzc09yVGhyb3coKTtcblxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVCaWxsaW5nQWRkcmVzcyhiaWxsaW5nQWRkcmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIob3JkZXIsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChpc1ZhdWx0ZWRJbnN0cnVtZW50KHBheW1lbnREYXRhKSkge1xuICAgICAgICAgICAgY29uc3QgeyBpbnN0cnVtZW50SWQgfSA9IHBheW1lbnREYXRhO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9leGVjdXRlV2l0aFZhdWx0ZWQoXG4gICAgICAgICAgICAgICAgcGF5bWVudC5tZXRob2RJZCxcbiAgICAgICAgICAgICAgICBpbnN0cnVtZW50SWQsXG4gICAgICAgICAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMuX2V4ZWN1dGVXaXRoU3RyaXBlQ29uZmlybWF0aW9uKFxuICAgICAgICAgICAgcGF5bWVudC5tZXRob2RJZCxcbiAgICAgICAgICAgIHN0cmlwZUxpbmtBdXRoZW50aWNhdGlvblN0YXRlID8gZmFsc2UgOiBzaG91bGRTYXZlSW5zdHJ1bWVudCxcbiAgICAgICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZmluYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yKCkpO1xuICAgIH1cblxuICAgIGRlaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5fc3RyaXBlRWxlbWVudHM/LmdldEVsZW1lbnQoU3RyaXBlRWxlbWVudFR5cGUuUEFZTUVOVCk/LnVubW91bnQoKTtcbiAgICAgICAgdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UuZGVpbml0aWFsaXplKCk7XG4gICAgICAgIHRoaXMuX3N0cmlwZUVsZW1lbnRzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9zdHJpcGVVUEVDbGllbnQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2V4ZWN1dGVXaXRoU3RyaXBlQ29uZmlybWF0aW9uKFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICBzaG91bGRTYXZlSW5zdHJ1bWVudD86IGJvb2xlYW4sXG4gICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQ/OiBib29sZWFuLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuIH0gPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRQYXlsb2FkID0gdGhpcy5fZ2V0UGF5bWVudFBheWxvYWQoXG4gICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgIGNsaWVudFRva2VuIHx8ICcnLFxuICAgICAgICAgICAgc2hvdWxkU2F2ZUluc3RydW1lbnQsXG4gICAgICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICApO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChwYXltZW50UGF5bG9hZCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9wcm9jZXNzQWRkaXRpb25hbEFjdGlvbldpdGhTdHJpcGVDb25maXJtYXRpb24oXG4gICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgc2hvdWxkU2F2ZUluc3RydW1lbnQsXG4gICAgICAgICAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9leGVjdXRlV2l0aFZhdWx0ZWQoXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgICAgIHRva2VuOiBzdHJpbmcsXG4gICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQ6IGJvb2xlYW4sXG4gICAgKTogUHJvbWlzZTxQYXltZW50SW50ZWdyYXRpb25TZWxlY3RvcnMgfCB2b2lkPiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG4gICAgICAgIGNvbnN0IGNhcnRJZCA9IHN0YXRlLmdldENhcnQoKT8uaWQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnRQYXlsb2FkID0ge1xuICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgIHBheW1lbnREYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcnRfaWQ6IGNhcnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpZ3BheV90b2tlbjogeyB0b2tlbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRfdG9rZW46IHBheW1lbnRNZXRob2QuY2xpZW50VG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRfYXNfZGVmYXVsdF9zdG9yZWRfaW5zdHJ1bWVudDogc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHBheW1lbnRQYXlsb2FkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzVmF1bHRlZEFkZGl0aW9uYWxBY3Rpb24oXG4gICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9sb2FkU3RyaXBlRWxlbWVudChcbiAgICAgICAgc3RyaXBldXBlOiBTdHJpcGVVUEVQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgICAgIGdhdGV3YXlJZDogc3RyaW5nLFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICkge1xuICAgICAgICBjb25zdCB7IGNvbnRhaW5lcklkLCBzdHlsZSwgcmVuZGVyLCBpbml0U3RyaXBlRWxlbWVudFVwZGF0ZVRyaWdnZXIgfSA9IHN0cmlwZXVwZTtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QoZ2F0ZXdheUlkLCB7XG4gICAgICAgICAgICBwYXJhbXM6IHsgbWV0aG9kOiBtZXRob2RJZCB9LFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcbiAgICAgICAgY29uc3QgeyBjaGVja291dFNldHRpbmdzIH0gPSBzdGF0ZS5nZXRTdG9yZUNvbmZpZ09yVGhyb3coKTtcblxuICAgICAgICBpZiAoIWlzU3RyaXBlUGF5bWVudE1ldGhvZExpa2UocGF5bWVudE1ldGhvZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgY2xpZW50VG9rZW4sIGluaXRpYWxpemF0aW9uRGF0YSB9ID0gcGF5bWVudE1ldGhvZDtcbiAgICAgICAgY29uc3QgeyBzaG9wcGVyTGFuZ3VhZ2UsIGFsbG93UmVkaXNwbGF5Rm9yU3RvcmVkSW5zdHJ1bWVudHMgPSBmYWxzZSB9ID0gaW5pdGlhbGl6YXRpb25EYXRhO1xuXG4gICAgICAgIHRoaXMuX2FsbG93UmVkaXNwbGF5Rm9yU3RvcmVkSW5zdHJ1bWVudHMgPSBhbGxvd1JlZGlzcGxheUZvclN0b3JlZEluc3RydW1lbnRzO1xuXG4gICAgICAgIGlmICghY2xpZW50VG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3N0cmlwZVVQRUNsaWVudCA9IGF3YWl0IHRoaXMuX2xvYWRTdHJpcGVKcyhpbml0aWFsaXphdGlvbkRhdGEpO1xuICAgICAgICB0aGlzLl9pc1N0cmlwZUVsZW1lbnRVcGRhdGVFbmFibGVkID1cbiAgICAgICAgICAgICEhY2hlY2tvdXRTZXR0aW5ncy5mZWF0dXJlc1snUEktMTY3OS50cmlnZ2VyX3VwZGF0ZV9zdHJpcGVfcGF5bWVudF9lbGVtZW50J10gJiZcbiAgICAgICAgICAgIHR5cGVvZiBpbml0U3RyaXBlRWxlbWVudFVwZGF0ZVRyaWdnZXIgPT09ICdmdW5jdGlvbic7XG5cbiAgICAgICAgbGV0IGFwcGVhcmFuY2U6IFN0cmlwZUFwcGVhcmFuY2VPcHRpb25zIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChzdHlsZSkge1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVzID0gc3R5bGU7XG5cbiAgICAgICAgICAgIGFwcGVhcmFuY2UgPSB7XG4gICAgICAgICAgICAgICAgdmFyaWFibGVzOiB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS5tYXBBcHBlYXJhbmNlVmFyaWFibGVzKHN0eWxlKSxcbiAgICAgICAgICAgICAgICBydWxlczoge1xuICAgICAgICAgICAgICAgICAgICAnLklucHV0JzogdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UubWFwSW5wdXRBcHBlYXJhbmNlUnVsZXMoc3R5bGVzKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3N0cmlwZUVsZW1lbnRzID0gYXdhaXQgdGhpcy5zY3JpcHRMb2FkZXIuZ2V0RWxlbWVudHModGhpcy5fc3RyaXBlVVBFQ2xpZW50LCB7XG4gICAgICAgICAgICBjbGllbnRTZWNyZXQ6IGNsaWVudFRva2VuLFxuICAgICAgICAgICAgbG9jYWxlOiBmb3JtYXRTdHJpcGVMb2NhbGUoc2hvcHBlckxhbmd1YWdlKSxcbiAgICAgICAgICAgIGFwcGVhcmFuY2UsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHsgZ2V0QmlsbGluZ0FkZHJlc3MsIGdldFNoaXBwaW5nQWRkcmVzcyB9ID0gc3RhdGU7XG4gICAgICAgIGNvbnN0IHsgcG9zdGFsQ29kZSB9ID0gZ2V0U2hpcHBpbmdBZGRyZXNzKCkgfHwgZ2V0QmlsbGluZ0FkZHJlc3MoKSB8fCB7fTtcblxuICAgICAgICBjb25zdCBzdHJpcGVFbGVtZW50OiBTdHJpcGVFbGVtZW50ID1cbiAgICAgICAgICAgIHRoaXMuX3N0cmlwZUVsZW1lbnRzLmdldEVsZW1lbnQoU3RyaXBlRWxlbWVudFR5cGUuUEFZTUVOVCkgfHxcbiAgICAgICAgICAgIHRoaXMuX3N0cmlwZUVsZW1lbnRzLmNyZWF0ZShTdHJpcGVFbGVtZW50VHlwZS5QQVlNRU5ULCB7XG4gICAgICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgICAgIGJpbGxpbmdEZXRhaWxzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50cnk6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXR5OiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogcG9zdGFsQ29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5BVVRPLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHdhbGxldHM6IHtcbiAgICAgICAgICAgICAgICAgICAgYXBwbGVQYXk6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUixcbiAgICAgICAgICAgICAgICAgICAgZ29vZ2xlUGF5OiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9nZXRTdHJpcGVFbGVtZW50VGVybXMoKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLm1vdW50RWxlbWVudChzdHJpcGVFbGVtZW50LCBjb250YWluZXJJZCk7XG5cbiAgICAgICAgc3RyaXBlRWxlbWVudC5vbihTdHJpcGVFbGVtZW50RXZlbnQuUkVBRFksICgpID0+IHtcbiAgICAgICAgICAgIHJlbmRlcigpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzdHJpcGVFbGVtZW50Lm9uKFN0cmlwZUVsZW1lbnRFdmVudC5DSEFOR0UsIChldmVudDogU3RyaXBlRXZlbnRUeXBlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWV2ZW50Py52YWx1ZSB8fCAhKCd0eXBlJyBpbiBldmVudC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVN0cmlwZUxpbmtTdGF0ZUJ5RWxlbWVudFR5cGUoZXZlbnQudmFsdWUudHlwZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLl9pc1N0cmlwZUVsZW1lbnRVcGRhdGVFbmFibGVkKSB7XG4gICAgICAgICAgICBpbml0U3RyaXBlRWxlbWVudFVwZGF0ZVRyaWdnZXI/Lih0aGlzLl91cGRhdGVTdHJpcGVFbGVtZW50LmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfcHJvY2Vzc0FkZGl0aW9uYWxBY3Rpb25XaXRoU3RyaXBlQ29uZmlybWF0aW9uKFxuICAgICAgICBlcnJvcjogdW5rbm93bixcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgc2hvdWxkU2F2ZUluc3RydW1lbnQgPSBmYWxzZSxcbiAgICAgICAgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCA9IGZhbHNlLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaXNSZXF1ZXN0RXJyb3IoZXJyb3IpIHx8XG4gICAgICAgICAgICAhdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UuaXNBZGRpdGlvbmFsQWN0aW9uRXJyb3IoZXJyb3IuYm9keS5lcnJvcnMpXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX3N0cmlwZVVQRUNsaWVudCB8fCAhdGhpcy5fc3RyaXBlRWxlbWVudHMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGRhdGE6IGFkZGl0aW9uYWxBY3Rpb25EYXRhIH0gPSBlcnJvci5ib2R5LmFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkO1xuICAgICAgICBjb25zdCB7IHRva2VuIH0gPSBhZGRpdGlvbmFsQWN0aW9uRGF0YTtcblxuICAgICAgICBjb25zdCB7IHBheW1lbnRJbnRlbnQgfSA9IGF3YWl0IHRoaXMuX2NvbmZpcm1TdHJpcGVQYXltZW50T3JUaHJvdyhcbiAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgYWRkaXRpb25hbEFjdGlvbkRhdGEsXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgcGF5bWVudFBheWxvYWQgPSB0aGlzLl9nZXRQYXltZW50UGF5bG9hZChcbiAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgcGF5bWVudEludGVudD8uaWQgfHwgdG9rZW4sXG4gICAgICAgICAgICBzaG91bGRTYXZlSW5zdHJ1bWVudCxcbiAgICAgICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgICk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHBheW1lbnRQYXlsb2FkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLnRocm93UGF5bWVudENvbmZpcm1hdGlvblByb2NlZWRNZXNzYWdlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9jb25maXJtU3RyaXBlUGF5bWVudE9yVGhyb3coXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgICAgIGFkZGl0aW9uYWxBY3Rpb25EYXRhOiBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uUmVxdWlyZWRbJ2RhdGEnXSxcbiAgICApOiBQcm9taXNlPFN0cmlwZVJlc3VsdCB8IG5ldmVyPiB7XG4gICAgICAgIGNvbnN0IHsgdG9rZW4sIHJlZGlyZWN0X3VybCB9ID0gYWRkaXRpb25hbEFjdGlvbkRhdGE7XG4gICAgICAgIGNvbnN0IHN0cmlwZVBheW1lbnREYXRhID0gdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UubWFwU3RyaXBlUGF5bWVudERhdGEoXG4gICAgICAgICAgICB0aGlzLl9zdHJpcGVFbGVtZW50cyxcbiAgICAgICAgICAgIHJlZGlyZWN0X3VybCxcbiAgICAgICAgICAgICEhdGhpcy5fYWxsb3dSZWRpc3BsYXlGb3JTdG9yZWRJbnN0cnVtZW50cyxcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IHN0cmlwZUVycm9yOiBTdHJpcGVFcnJvciB8IHVuZGVmaW5lZDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaXNQYXltZW50Q29tcGxldGVkID0gYXdhaXQgdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UuaXNQYXltZW50Q29tcGxldGVkKFxuICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgIHRoaXMuX3N0cmlwZVVQRUNsaWVudCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1hdGlvblJlc3VsdCA9ICFpc1BheW1lbnRDb21wbGV0ZWRcbiAgICAgICAgICAgICAgICA/IGF3YWl0IHRoaXMuX3N0cmlwZVVQRUNsaWVudD8uY29uZmlybVBheW1lbnQoc3RyaXBlUGF5bWVudERhdGEpXG4gICAgICAgICAgICAgICAgOiBhd2FpdCB0aGlzLl9zdHJpcGVVUEVDbGllbnQ/LnJldHJpZXZlUGF5bWVudEludGVudCh0b2tlbiB8fCAnJyk7XG5cbiAgICAgICAgICAgIHN0cmlwZUVycm9yID0gY29uZmlybWF0aW9uUmVzdWx0Py5lcnJvcjtcblxuICAgICAgICAgICAgaWYgKHN0cmlwZUVycm9yIHx8ICFjb25maXJtYXRpb25SZXN1bHQ/LnBheW1lbnRJbnRlbnQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjb25maXJtYXRpb25SZXN1bHQ7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS50aHJvd1N0cmlwZUVycm9yKHN0cmlwZUVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX3Byb2Nlc3NWYXVsdGVkQWRkaXRpb25hbEFjdGlvbihcbiAgICAgICAgZXJyb3I6IHVua25vd24sXG4gICAgICAgIG1ldGhvZElkPzogc3RyaW5nLFxuICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50ID0gZmFsc2UsXG4gICAgKTogUHJvbWlzZTxQYXltZW50SW50ZWdyYXRpb25TZWxlY3RvcnMgfCBuZXZlcj4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhbWV0aG9kSWQgfHxcbiAgICAgICAgICAgICFpc1JlcXVlc3RFcnJvcihlcnJvcikgfHxcbiAgICAgICAgICAgICFzb21lKGVycm9yLmJvZHkuZXJyb3JzLCB7IGNvZGU6ICd0aHJlZV9kX3NlY3VyZV9yZXF1aXJlZCcgfSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fc3RyaXBlVVBFQ2xpZW50IHx8ICF0aGlzLl9zdHJpcGVFbGVtZW50cykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNsaWVudFNlY3JldCA9IGVycm9yLmJvZHkudGhyZWVfZHNfcmVzdWx0LnRva2VuO1xuICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICBsZXQgY2F0Y2hlZENvbmZpcm1FcnJvciA9IGZhbHNlO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSBhd2FpdCB0aGlzLl9zdHJpcGVVUEVDbGllbnQuY29uZmlybUNhcmRQYXltZW50KGNsaWVudFNlY3JldCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHRoaXMuX3N0cmlwZVVQRUNsaWVudC5yZXRyaWV2ZVBheW1lbnRJbnRlbnQoY2xpZW50U2VjcmV0KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY2F0Y2hlZENvbmZpcm1FcnJvciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzdWx0Py5lcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UudGhyb3dTdHJpcGVFcnJvcihyZXN1bHQuZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZXN1bHQ/LnBheW1lbnRJbnRlbnQgJiYgIWNhdGNoZWRDb25maXJtRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSZXF1ZXN0RXJyb3IoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBheW1lbnRQYXlsb2FkID0gdGhpcy5fZ2V0UGF5bWVudFBheWxvYWQoXG4gICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgIGNhdGNoZWRDb25maXJtRXJyb3IgPyBjbGllbnRTZWNyZXQgOiByZXN1bHQ/LnBheW1lbnRJbnRlbnQ/LmlkLFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChwYXltZW50UGF5bG9hZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfbG9hZFN0cmlwZUpzKFxuICAgICAgICBpbml0aWFsaXphdGlvbkRhdGE6IFN0cmlwZUluaXRpYWxpemF0aW9uRGF0YSxcbiAgICApOiBQcm9taXNlPFN0cmlwZUNsaWVudD4ge1xuICAgICAgICBpZiAodGhpcy5fc3RyaXBlVVBFQ2xpZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RyaXBlVVBFQ2xpZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyaXB0TG9hZGVyLmdldFN0cmlwZUNsaWVudChcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uRGF0YSxcbiAgICAgICAgICAgIFNUUklQRV9VUEVfQ0xJRU5UX0JFVEFTLFxuICAgICAgICAgICAgU1RSSVBFX1VQRV9DTElFTlRfQVBJX1ZFUlNJT04sXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0UGF5bWVudFBheWxvYWQoXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgICAgIHRva2VuOiBzdHJpbmcsXG4gICAgICAgIHNob3VsZFNhdmVJbnN0cnVtZW50ID0gZmFsc2UsXG4gICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgPSBmYWxzZSxcbiAgICApOiBQYXltZW50IHtcbiAgICAgICAgY29uc3QgY2FydElkID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0Q2FydCgpPy5pZCB8fCAnJztcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkUGF5bG9hZDogU3RyaXBlVVBFSW50ZW50ICYgRm9ybWF0dGVkSG9zdGVkSW5zdHJ1bWVudCA9IHtcbiAgICAgICAgICAgIGNhcnRfaWQ6IGNhcnRJZCxcbiAgICAgICAgICAgIGNyZWRpdF9jYXJkX3Rva2VuOiB7IHRva2VuIH0sXG4gICAgICAgICAgICBjb25maXJtOiBmYWxzZSxcbiAgICAgICAgICAgIHZhdWx0X3BheW1lbnRfaW5zdHJ1bWVudDogc2hvdWxkU2F2ZUluc3RydW1lbnQsXG4gICAgICAgICAgICBzZXRfYXNfZGVmYXVsdF9zdG9yZWRfaW5zdHJ1bWVudDogc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX3VwZGF0ZVN0cmlwZUVsZW1lbnQoeyBzaG91bGRTaG93VGVybXMgfTogU3RyaXBlRWxlbWVudFVwZGF0ZU9wdGlvbnMpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc3RyaXBlRWxlbWVudCA9IHRoaXMuX3N0cmlwZUVsZW1lbnRzPy5nZXRFbGVtZW50KFN0cmlwZUVsZW1lbnRUeXBlLlBBWU1FTlQpO1xuXG4gICAgICAgIHN0cmlwZUVsZW1lbnQ/LnVwZGF0ZSh7XG4gICAgICAgICAgICAuLi50aGlzLl9nZXRTdHJpcGVFbGVtZW50VGVybXMoc2hvdWxkU2hvd1Rlcm1zKSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0U3RyaXBlRWxlbWVudFRlcm1zKFxuICAgICAgICBzaG91bGRTaG93VGVybXM/OiBib29sZWFuLFxuICAgICk6IFBpY2s8U3RyaXBlRWxlbWVudHNDcmVhdGVPcHRpb25zLCAndGVybXMnPiB7XG4gICAgICAgIGxldCBjYXJkID0gU3RyaXBlU3RyaW5nQ29uc3RhbnRzLkFVVE87XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzU3RyaXBlRWxlbWVudFVwZGF0ZUVuYWJsZWQpIHtcbiAgICAgICAgICAgIGNhcmQgPSBzaG91bGRTaG93VGVybXMgPyBTdHJpcGVTdHJpbmdDb25zdGFudHMuQVVUTyA6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZXJtczoge1xuICAgICAgICAgICAgICAgIGNhcmQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX3VwZGF0ZVN0cmlwZUxpbmtTdGF0ZUJ5RWxlbWVudFR5cGUocGF5bWVudEVsZW1lbnRUeXBlOiBTdHJpcGVQYXltZW50TWV0aG9kVHlwZSk6IHZvaWQge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBwYXltZW50UHJvdmlkZXJDdXN0b21lciA9IHN0YXRlLmdldFBheW1lbnRQcm92aWRlckN1c3RvbWVyT3JUaHJvdygpO1xuICAgICAgICBjb25zdCBpc1N0cmlwZUxpbmtFbGVtZW50VHlwZSA9IHBheW1lbnRFbGVtZW50VHlwZSA9PT0gU3RyaXBlUGF5bWVudE1ldGhvZFR5cGUuTGluaztcblxuICAgICAgICAvLyBJTkZPOiBUcmlnZ2VyIGFkZGl0aW9uYWwgdXBkYXRlIG9ubHkgaWYgU3RyaXBlIExpbmsgQXV0aGVudGljYXRpb24gd2FzIHNraXBwZWQgb24gdGhlIGN1c3RvbWVyIHN0ZXAsIGJ1dCB0aGUgTGluayBwYXltZW50IGVsZW1lbnQgd2FzIHJlbmRlcmVkLlxuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaXNTdHJpcGVBY2NlbGVyYXRlZENoZWNrb3V0Q3VzdG9tZXIocGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIpICYmXG4gICAgICAgICAgICBpc1N0cmlwZUxpbmtFbGVtZW50VHlwZVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVQYXltZW50UHJvdmlkZXJDdXN0b21lcih7XG4gICAgICAgICAgICAgICAgc3RyaXBlTGlua0F1dGhlbnRpY2F0aW9uU3RhdGU6IGlzU3RyaXBlTGlua0VsZW1lbnRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBnZXRTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7XG4gICAgUGF5bWVudFN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuaW1wb3J0IHtcbiAgICBTdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgU3RyaXBlU2NyaXB0TG9hZGVyLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3N0cmlwZS11dGlscyc7XG5cbmltcG9ydCBTdHJpcGVVUEVQYXltZW50U3RyYXRlZ3kgZnJvbSAnLi9zdHJpcGUtdXBlLXBheW1lbnQtc3RyYXRlZ3knO1xuXG5jb25zdCBjcmVhdGVTdHJpcGVVUEVQYXltZW50U3RyYXRlZ3k6IFBheW1lbnRTdHJhdGVneUZhY3Rvcnk8U3RyaXBlVVBFUGF5bWVudFN0cmF0ZWd5PiA9IChcbiAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuKSA9PiB7XG4gICAgY29uc3Qgc3RyaXBlU2NyaXB0TG9hZGVyID0gbmV3IFN0cmlwZVNjcmlwdExvYWRlcihnZXRTY3JpcHRMb2FkZXIoKSk7XG5cbiAgICByZXR1cm4gbmV3IFN0cmlwZVVQRVBheW1lbnRTdHJhdGVneShcbiAgICAgICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgc3RyaXBlU2NyaXB0TG9hZGVyLFxuICAgICAgICBuZXcgU3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsIHN0cmlwZVNjcmlwdExvYWRlciksXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVTdHJpcGVVUEVQYXltZW50U3RyYXRlZ3ksIFtcbiAgICB7IGdhdGV3YXk6ICdzdHJpcGV1cGUnIH0sXG4gICAgeyBnYXRld2F5OiAnc3RyaXBldXBlJywgaWQ6ICdrbGFybmEnIH0sXG5dKTtcbiIsImltcG9ydCB7XG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgaXNSZXF1ZXN0RXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yVHlwZSxcbiAgICBOb3RJbml0aWFsaXplZEVycm9yLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLFxuICAgIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcixcbiAgICBPcmRlclJlcXVlc3RCb2R5LFxuICAgIFBheW1lbnQsXG4gICAgUGF5bWVudEluaXRpYWxpemVPcHRpb25zLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlbGVjdG9ycyxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2RGYWlsZWRFcnJvcixcbiAgICBQYXltZW50UmVxdWVzdE9wdGlvbnMsXG4gICAgUGF5bWVudFN0cmF0ZWd5LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7XG4gICAgZm9ybWF0U3RyaXBlTG9jYWxlLFxuICAgIGlzU3RyaXBlUGF5bWVudEV2ZW50LFxuICAgIGlzU3RyaXBlUGF5bWVudE1ldGhvZExpa2UsXG4gICAgU3RyaXBlQWRkaXRpb25hbEFjdGlvblJlcXVpcmVkLFxuICAgIFN0cmlwZUNsaWVudCxcbiAgICBTdHJpcGVFbGVtZW50LFxuICAgIFN0cmlwZUVsZW1lbnRFdmVudCxcbiAgICBTdHJpcGVFbGVtZW50cyxcbiAgICBTdHJpcGVFbGVtZW50VHlwZSxcbiAgICBTdHJpcGVFcnJvcixcbiAgICBTdHJpcGVFdmVudFR5cGUsXG4gICAgU3RyaXBlSW5pdGlhbGl6YXRpb25EYXRhLFxuICAgIFN0cmlwZUluc3RydW1lbnRTZXR1cEZ1dHVyZVVzYWdlLFxuICAgIFN0cmlwZUludGVncmF0aW9uU2VydmljZSxcbiAgICBTdHJpcGVQSVBheW1lbnRNZXRob2RPcHRpb25zLFxuICAgIFN0cmlwZVBJUGF5bWVudE1ldGhvZFNhdmluZ09wdGlvbnMsXG4gICAgU3RyaXBlUmVzdWx0LFxuICAgIFN0cmlwZVNjcmlwdExvYWRlcixcbiAgICBTdHJpcGVTdHJpbmdDb25zdGFudHMsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvc3RyaXBlLXV0aWxzJztcblxuaW1wb3J0IFN0cmlwZU9DU1BheW1lbnRJbml0aWFsaXplT3B0aW9ucywge1xuICAgIFdpdGhTdHJpcGVPQ1NQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG59IGZyb20gJy4vc3RyaXBlLW9jcy1pbml0aWFsaXplLW9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdHJpcGVPQ1NQYXltZW50U3RyYXRlZ3kgaW1wbGVtZW50cyBQYXltZW50U3RyYXRlZ3kge1xuICAgIHByaXZhdGUgc3RyaXBlQ2xpZW50PzogU3RyaXBlQ2xpZW50O1xuICAgIHByaXZhdGUgc3RyaXBlRWxlbWVudHM/OiBTdHJpcGVFbGVtZW50cztcbiAgICBwcml2YXRlIHNlbGVjdGVkTWV0aG9kSWQ/OiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHNjcmlwdExvYWRlcjogU3RyaXBlU2NyaXB0TG9hZGVyLFxuICAgICAgICBwcml2YXRlIHN0cmlwZUludGVncmF0aW9uU2VydmljZTogU3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhTdHJpcGVPQ1NQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgc3RyaXBlb2NzLCBtZXRob2RJZCwgZ2F0ZXdheUlkIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIGlmICghc3RyaXBlb2NzPy5jb250YWluZXJJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZ2F0ZXdheUlkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcImdhdGV3YXlJZFwiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9pbml0aWFsaXplU3RyaXBlRWxlbWVudChzdHJpcGVvY3MsIGdhdGV3YXlJZCwgbWV0aG9kSWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBzdHJpcGVvY3Mub25FcnJvcj8uKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLmluaXRDaGVja291dEV2ZW50c1N1YnNjcmlwdGlvbihcbiAgICAgICAgICAgIGdhdGV3YXlJZCxcbiAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgc3RyaXBlb2NzLFxuICAgICAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50cyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBleGVjdXRlKG9yZGVyUmVxdWVzdDogT3JkZXJSZXF1ZXN0Qm9keSwgb3B0aW9ucz86IFBheW1lbnRSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IHBheW1lbnQsIC4uLm9yZGVyIH0gPSBvcmRlclJlcXVlc3Q7XG4gICAgICAgIGNvbnN0IHsgbWV0aG9kSWQsIGdhdGV3YXlJZCB9ID0gcGF5bWVudCB8fCB7fTtcblxuICAgICAgICBpZiAoIXRoaXMuc3RyaXBlQ2xpZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFnYXRld2F5SWQgfHwgIW1ldGhvZElkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcImdhdGV3YXlJZFwiIG9yIFwibWV0aG9kSWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB7IGlzU3RvcmVDcmVkaXRBcHBsaWVkIH0gPSBzdGF0ZS5nZXRDaGVja291dE9yVGhyb3coKTtcblxuICAgICAgICBpZiAoaXNTdG9yZUNyZWRpdEFwcGxpZWQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5hcHBseVN0b3JlQ3JlZGl0KGlzU3RvcmVDcmVkaXRBcHBsaWVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLnVwZGF0ZVN0cmlwZVBheW1lbnRJbnRlbnQoZ2F0ZXdheUlkLCBtZXRob2RJZCk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKG9yZGVyLCBvcHRpb25zKTtcblxuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuIH0gPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRQYXlsb2FkID0gdGhpcy5fZ2V0UGF5bWVudFBheWxvYWQobWV0aG9kSWQsIGNsaWVudFRva2VuIHx8ICcnKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQocGF5bWVudFBheWxvYWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fcHJvY2Vzc0FkZGl0aW9uYWxBY3Rpb24oZXJyb3IsIG1ldGhvZElkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbmFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcigpKTtcbiAgICB9XG5cbiAgICBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHBheW1lbnRFbGVtZW50ID0gdGhpcy5zdHJpcGVFbGVtZW50cz8uZ2V0RWxlbWVudChTdHJpcGVFbGVtZW50VHlwZS5QQVlNRU5UKTtcblxuICAgICAgICBwYXltZW50RWxlbWVudD8udW5tb3VudCgpO1xuICAgICAgICBwYXltZW50RWxlbWVudD8uZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS5kZWluaXRpYWxpemUoKTtcbiAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdHJpcGVDbGllbnQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2luaXRpYWxpemVTdHJpcGVFbGVtZW50KFxuICAgICAgICBzdHJpcGU6IFN0cmlwZU9DU1BheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICAgICAgZ2F0ZXdheUlkOiBzdHJpbmcsXG4gICAgICAgIG1ldGhvZElkOiBzdHJpbmcsXG4gICAgKSB7XG4gICAgICAgIGxldCBwYXltZW50TWV0aG9kID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlXG4gICAgICAgICAgICAuZ2V0U3RhdGUoKVxuICAgICAgICAgICAgLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcblxuICAgICAgICBpZiAoIXBheW1lbnRNZXRob2Q/LmNsaWVudFRva2VuKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChnYXRld2F5SWQsIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgbWV0aG9kOiBtZXRob2RJZCB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHBheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzU3RyaXBlUGF5bWVudE1ldGhvZExpa2UocGF5bWVudE1ldGhvZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgY2xpZW50VG9rZW4sIGluaXRpYWxpemF0aW9uRGF0YSB9ID0gcGF5bWVudE1ldGhvZDtcbiAgICAgICAgY29uc3QgeyBzaG9wcGVyTGFuZ3VhZ2UsIGN1c3RvbWVyU2Vzc2lvblRva2VuLCBlbmFibGVMaW5rIH0gPSBpbml0aWFsaXphdGlvbkRhdGE7XG5cbiAgICAgICAgaWYgKCFjbGllbnRUb2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdHJpcGVDbGllbnQgPSBhd2FpdCB0aGlzLl9sb2FkU3RyaXBlSnMoaW5pdGlhbGl6YXRpb25EYXRhKTtcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBhcHBlYXJhbmNlLFxuICAgICAgICAgICAgY29udGFpbmVySWQsXG4gICAgICAgICAgICBmb250cyxcbiAgICAgICAgICAgIGxheW91dCxcbiAgICAgICAgICAgIHJlbmRlcixcbiAgICAgICAgICAgIHBheW1lbnRNZXRob2RTZWxlY3QsXG4gICAgICAgICAgICBoYW5kbGVDbG9zZVBheW1lbnRNZXRob2QsXG4gICAgICAgICAgICB0b2dnbGVQcmVsb2FkZXIsXG4gICAgICAgIH0gPSBzdHJpcGU7XG5cbiAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50cyA9IGF3YWl0IHRoaXMuc2NyaXB0TG9hZGVyLmdldEVsZW1lbnRzKHRoaXMuc3RyaXBlQ2xpZW50LCB7XG4gICAgICAgICAgICBjbGllbnRTZWNyZXQ6IGNsaWVudFRva2VuLFxuICAgICAgICAgICAgY3VzdG9tZXJTZXNzaW9uQ2xpZW50U2VjcmV0OiBjdXN0b21lclNlc3Npb25Ub2tlbixcbiAgICAgICAgICAgIGxvY2FsZTogZm9ybWF0U3RyaXBlTG9jYWxlKHNob3BwZXJMYW5ndWFnZSksXG4gICAgICAgICAgICBhcHBlYXJhbmNlLFxuICAgICAgICAgICAgZm9udHMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHsgZ2V0QmlsbGluZ0FkZHJlc3MsIGdldFNoaXBwaW5nQWRkcmVzcyB9ID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGJpbGxpbmdBZGRyZXNzID0gZ2V0QmlsbGluZ0FkZHJlc3MoKTtcbiAgICAgICAgY29uc3QgeyBwb3N0YWxDb2RlIH0gPSBnZXRTaGlwcGluZ0FkZHJlc3MoKSB8fCBiaWxsaW5nQWRkcmVzcyB8fCB7fTtcblxuICAgICAgICBjb25zdCBzdHJpcGVFbGVtZW50OiBTdHJpcGVFbGVtZW50ID1cbiAgICAgICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudHMuZ2V0RWxlbWVudChTdHJpcGVFbGVtZW50VHlwZS5QQVlNRU5UKSB8fFxuICAgICAgICAgICAgdGhpcy5zdHJpcGVFbGVtZW50cy5jcmVhdGUoU3RyaXBlRWxlbWVudFR5cGUuUEFZTUVOVCwge1xuICAgICAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgICAgICBiaWxsaW5nRGV0YWlsczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudHJ5OiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2l0eTogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6IHBvc3RhbENvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBTdHJpcGVTdHJpbmdDb25zdGFudHMuQVVUTyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB3YWxsZXRzOiB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGxlUGF5OiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVIsXG4gICAgICAgICAgICAgICAgICAgIGdvb2dsZVBheTogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLk5FVkVSLFxuICAgICAgICAgICAgICAgICAgICBsaW5rOiBlbmFibGVMaW5rID8gU3RyaXBlU3RyaW5nQ29uc3RhbnRzLkFVVE8gOiBTdHJpcGVTdHJpbmdDb25zdGFudHMuTkVWRVIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBsYXlvdXQsXG4gICAgICAgICAgICAgICAgc2F2ZVBheW1lbnRNZXRob2Q6IHtcbiAgICAgICAgICAgICAgICAgICAgbWF4VmlzaWJsZVBheW1lbnRNZXRob2RzOiAyMCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgYmlsbGluZ0RldGFpbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBiaWxsaW5nQWRkcmVzcz8uZW1haWwgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLm1vdW50RWxlbWVudChzdHJpcGVFbGVtZW50LCBjb250YWluZXJJZCk7XG5cbiAgICAgICAgc3RyaXBlRWxlbWVudC5vbihTdHJpcGVFbGVtZW50RXZlbnQuTE9BREVSX1NUQVJULCAoKSA9PiB7XG4gICAgICAgICAgICB0b2dnbGVQcmVsb2FkZXI/LihmYWxzZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN0cmlwZUVsZW1lbnQub24oU3RyaXBlRWxlbWVudEV2ZW50LlJFQURZLCAoKSA9PiB7XG4gICAgICAgICAgICByZW5kZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3RyaXBlRWxlbWVudC5vbihTdHJpcGVFbGVtZW50RXZlbnQuQ0hBTkdFLCAoZXZlbnQ6IFN0cmlwZUV2ZW50VHlwZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25TdHJpcGVFbGVtZW50Q2hhbmdlKGV2ZW50LCBnYXRld2F5SWQsIG1ldGhvZElkLCBwYXltZW50TWV0aG9kU2VsZWN0KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaGFuZGxlQ2xvc2VQYXltZW50TWV0aG9kPy4odGhpcy5fY29sbGFwc2VTdHJpcGVFbGVtZW50LmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2xvYWRTdHJpcGVKcyhcbiAgICAgICAgaW5pdGlhbGl6YXRpb25EYXRhOiBTdHJpcGVJbml0aWFsaXphdGlvbkRhdGEsXG4gICAgKTogUHJvbWlzZTxTdHJpcGVDbGllbnQ+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RyaXBlQ2xpZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJpcGVDbGllbnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5zY3JpcHRMb2FkZXIuZ2V0U3RyaXBlQ2xpZW50KGluaXRpYWxpemF0aW9uRGF0YSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY29sbGFwc2VTdHJpcGVFbGVtZW50KCkge1xuICAgICAgICBjb25zdCBzdHJpcGVFbGVtZW50ID0gdGhpcy5zdHJpcGVFbGVtZW50cz8uZ2V0RWxlbWVudChTdHJpcGVFbGVtZW50VHlwZS5QQVlNRU5UKTtcblxuICAgICAgICBzdHJpcGVFbGVtZW50Py5jb2xsYXBzZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldFBheW1lbnRQYXlsb2FkKFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICB0b2tlbjogc3RyaW5nLFxuICAgICAgICBwYXltZW50TWV0aG9kT3B0aW9ucz86IFN0cmlwZVBJUGF5bWVudE1ldGhvZE9wdGlvbnMsXG4gICAgKTogUGF5bWVudCB7XG4gICAgICAgIGNvbnN0IGNhcnRJZCA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldENhcnQoKT8uaWQgfHwgJyc7XG4gICAgICAgIGNvbnN0IHsgY2FyZCwgdXNfYmFua19hY2NvdW50IH0gPSBwYXltZW50TWV0aG9kT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgY29uc3Qgc2hvdWxkU2F2ZUluc3RydW1lbnQgPVxuICAgICAgICAgICAgdGhpcy5fc2hvdWxkU2F2ZUluc3RydW1lbnQoY2FyZCkgfHwgdGhpcy5fc2hvdWxkU2F2ZUluc3RydW1lbnQodXNfYmFua19hY2NvdW50KTtcbiAgICAgICAgY29uc3QgdG9rZW5pemVkT3B0aW9ucyA9IHRoaXMuX2dldFRva2VuaXplZE9wdGlvbnModG9rZW4sIHBheW1lbnRNZXRob2RPcHRpb25zKTtcblxuICAgICAgICBjb25zdCBmb3JtYXR0ZWRQYXlsb2FkID0ge1xuICAgICAgICAgICAgY2FydF9pZDogY2FydElkLFxuICAgICAgICAgICAgY29uZmlybTogZmFsc2UsXG4gICAgICAgICAgICBtZXRob2Q6IHRoaXMuc2VsZWN0ZWRNZXRob2RJZCxcbiAgICAgICAgICAgIHZhdWx0X3BheW1lbnRfaW5zdHJ1bWVudDogc2hvdWxkU2F2ZUluc3RydW1lbnQsXG4gICAgICAgICAgICAuLi50b2tlbml6ZWRPcHRpb25zLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgIHBheW1lbnREYXRhOiB7XG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfcHJvY2Vzc0FkZGl0aW9uYWxBY3Rpb24oXG4gICAgICAgIGVycm9yOiB1bmtub3duLFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICk6IFByb21pc2U8UGF5bWVudEludGVncmF0aW9uU2VsZWN0b3JzIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFpc1JlcXVlc3RFcnJvcihlcnJvcikgfHxcbiAgICAgICAgICAgICF0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS5pc0FkZGl0aW9uYWxBY3Rpb25FcnJvcihlcnJvci5ib2R5LmVycm9ycylcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5zdHJpcGVDbGllbnQgfHwgIXRoaXMuc3RyaXBlRWxlbWVudHMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGRhdGE6IGFkZGl0aW9uYWxBY3Rpb25EYXRhIH0gPSBlcnJvci5ib2R5LmFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkO1xuICAgICAgICBjb25zdCB7IHRva2VuIH0gPSBhZGRpdGlvbmFsQWN0aW9uRGF0YTtcblxuICAgICAgICBjb25zdCB7IHBheW1lbnRJbnRlbnQgfSA9IGF3YWl0IHRoaXMuX2NvbmZpcm1TdHJpcGVQYXltZW50T3JUaHJvdyhcbiAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgYWRkaXRpb25hbEFjdGlvbkRhdGEsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGNsaWVudF9zZWNyZXQ6IHBheW1lbnRJbnRlbnRDbGllbnRTZWNyZXQsXG4gICAgICAgICAgICBwYXltZW50X21ldGhvZF9vcHRpb25zOiBwYXltZW50TWV0aG9kT3B0aW9ucyxcbiAgICAgICAgfSA9IHBheW1lbnRJbnRlbnQgfHwge307XG5cbiAgICAgICAgY29uc3QgcGF5bWVudFBheWxvYWQgPSB0aGlzLl9nZXRQYXltZW50UGF5bG9hZChcbiAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgcGF5bWVudEludGVudENsaWVudFNlY3JldCB8fCB0b2tlbixcbiAgICAgICAgICAgIHBheW1lbnRNZXRob2RPcHRpb25zLFxuICAgICAgICApO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQocGF5bWVudFBheWxvYWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UudGhyb3dQYXltZW50Q29uZmlybWF0aW9uUHJvY2VlZE1lc3NhZ2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2NvbmZpcm1TdHJpcGVQYXltZW50T3JUaHJvdyhcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgYWRkaXRpb25hbEFjdGlvbkRhdGE6IFN0cmlwZUFkZGl0aW9uYWxBY3Rpb25SZXF1aXJlZFsnZGF0YSddLFxuICAgICk6IFByb21pc2U8U3RyaXBlUmVzdWx0IHwgbmV2ZXI+IHtcbiAgICAgICAgY29uc3QgeyB0b2tlbiwgcmVkaXJlY3RfdXJsIH0gPSBhZGRpdGlvbmFsQWN0aW9uRGF0YTtcbiAgICAgICAgY29uc3Qgc3RyaXBlUGF5bWVudERhdGEgPSB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS5tYXBTdHJpcGVQYXltZW50RGF0YShcbiAgICAgICAgICAgIHRoaXMuc3RyaXBlRWxlbWVudHMsXG4gICAgICAgICAgICByZWRpcmVjdF91cmwsXG4gICAgICAgICk7XG4gICAgICAgIGxldCBzdHJpcGVFcnJvcjogU3RyaXBlRXJyb3IgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGlzUGF5bWVudENvbXBsZXRlZCA9IGF3YWl0IHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLmlzUGF5bWVudENvbXBsZXRlZChcbiAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmlwZUNsaWVudCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1hdGlvblJlc3VsdCA9ICFpc1BheW1lbnRDb21wbGV0ZWRcbiAgICAgICAgICAgICAgICA/IGF3YWl0IHRoaXMuc3RyaXBlQ2xpZW50Py5jb25maXJtUGF5bWVudChzdHJpcGVQYXltZW50RGF0YSlcbiAgICAgICAgICAgICAgICA6IGF3YWl0IHRoaXMuc3RyaXBlQ2xpZW50Py5yZXRyaWV2ZVBheW1lbnRJbnRlbnQodG9rZW4gfHwgJycpO1xuXG4gICAgICAgICAgICBzdHJpcGVFcnJvciA9IGNvbmZpcm1hdGlvblJlc3VsdD8uZXJyb3I7XG5cbiAgICAgICAgICAgIGlmIChzdHJpcGVFcnJvciB8fCAhY29uZmlybWF0aW9uUmVzdWx0Py5wYXltZW50SW50ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RGYWlsZWRFcnJvcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29uZmlybWF0aW9uUmVzdWx0O1xuICAgICAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLnRocm93U3RyaXBlRXJyb3Ioc3RyaXBlRXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfb25TdHJpcGVFbGVtZW50Q2hhbmdlKFxuICAgICAgICBldmVudDogU3RyaXBlRXZlbnRUeXBlLFxuICAgICAgICBnYXRld2F5SWQ6IHN0cmluZyxcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICAgICAgcGF5bWVudE1ldGhvZFNlbGVjdD86IChpZDogc3RyaW5nKSA9PiB2b2lkLFxuICAgICkge1xuICAgICAgICBpZiAoIWlzU3RyaXBlUGF5bWVudEV2ZW50KGV2ZW50KSB8fCBldmVudC5jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRNZXRob2RJZCA9IGV2ZW50LnZhbHVlLnR5cGU7XG4gICAgICAgIHBheW1lbnRNZXRob2RTZWxlY3Q/LihgJHtnYXRld2F5SWR9LSR7bWV0aG9kSWR9YCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfc2hvdWxkU2F2ZUluc3RydW1lbnQocGF5bWVudE1ldGhvZE9wdGlvbnM/OiBTdHJpcGVQSVBheW1lbnRNZXRob2RTYXZpbmdPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNldHVwRnV0dXJlVXNhZ2UgPSBwYXltZW50TWV0aG9kT3B0aW9ucz8uc2V0dXBfZnV0dXJlX3VzYWdlO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBzZXR1cEZ1dHVyZVVzYWdlID09PSBTdHJpcGVJbnN0cnVtZW50U2V0dXBGdXR1cmVVc2FnZS5PTl9TRVNTSU9OIHx8XG4gICAgICAgICAgICBzZXR1cEZ1dHVyZVVzYWdlID09PSBTdHJpcGVJbnN0cnVtZW50U2V0dXBGdXR1cmVVc2FnZS5PRkZfU0VTU0lPTlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldFRva2VuaXplZE9wdGlvbnMoXG4gICAgICAgIHRva2VuOiBzdHJpbmcsXG4gICAgICAgIHBheW1lbnRNZXRob2RPcHRpb25zPzogU3RyaXBlUElQYXltZW50TWV0aG9kT3B0aW9ucyxcbiAgICApIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3VsZFNhdmVJbnN0cnVtZW50KHBheW1lbnRNZXRob2RPcHRpb25zPy51c19iYW5rX2FjY291bnQpKSB7XG4gICAgICAgICAgICByZXR1cm4geyB0b2tlbml6ZWRfYWNoOiB7IHRva2VuIH0gfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IGNyZWRpdF9jYXJkX3Rva2VuOiB7IHRva2VuIH0gfTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTdHJpcGVQYXltZW50RXZlbnQgfSBmcm9tICcuL3N0cmlwZSc7XG5cbmV4cG9ydCBjb25zdCBpc1N0cmlwZVBheW1lbnRFdmVudCA9IChldmVudDogdW5rbm93bik6IGV2ZW50IGlzIFN0cmlwZVBheW1lbnRFdmVudCA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBldmVudCA9PT0gJ29iamVjdCcgJiYgZXZlbnQgIT09IG51bGwgJiYgJ3ZhbHVlJyBpbiBldmVudCAmJiAnY29sbGFwc2VkJyBpbiBldmVudDtcbn07XG4iLCJpbXBvcnQgeyBnZXRTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7XG4gICAgUGF5bWVudFN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuaW1wb3J0IHtcbiAgICBTdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgU3RyaXBlU2NyaXB0TG9hZGVyLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3N0cmlwZS11dGlscyc7XG5cbmltcG9ydCBTdHJpcGVPQ1NQYXltZW50U3RyYXRlZ3kgZnJvbSAnLi9zdHJpcGUtb2NzLXBheW1lbnQtc3RyYXRlZ3knO1xuXG5jb25zdCBjcmVhdGVTdHJpcGVPQ1NQYXltZW50U3RyYXRlZ3k6IFBheW1lbnRTdHJhdGVneUZhY3Rvcnk8U3RyaXBlT0NTUGF5bWVudFN0cmF0ZWd5PiA9IChcbiAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuKSA9PiB7XG4gICAgY29uc3Qgc3RyaXBlU2NyaXB0TG9hZGVyID0gbmV3IFN0cmlwZVNjcmlwdExvYWRlcihnZXRTY3JpcHRMb2FkZXIoKSk7XG5cbiAgICByZXR1cm4gbmV3IFN0cmlwZU9DU1BheW1lbnRTdHJhdGVneShcbiAgICAgICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgc3RyaXBlU2NyaXB0TG9hZGVyLFxuICAgICAgICBuZXcgU3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsIHN0cmlwZVNjcmlwdExvYWRlciksXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVTdHJpcGVPQ1NQYXltZW50U3RyYXRlZ3ksIFtcbiAgICB7IGdhdGV3YXk6ICdzdHJpcGVvY3MnLCBpZDogJ29wdGltaXplZF9jaGVja291dCcgfSxcbl0pO1xuIiwiaW1wb3J0IHtcbiAgICBDdXN0b21lckNyZWRlbnRpYWxzLFxuICAgIEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgQ3VzdG9tZXJTdHJhdGVneSxcbiAgICBFeGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0T3B0aW9ucyxcbiAgICBJbnZhbGlkQXJndW1lbnRFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgUmVxdWVzdE9wdGlvbnMsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuaW1wb3J0IHtcbiAgICBpc1N0cmlwZVBheW1lbnRNZXRob2RMaWtlLFxuICAgIFNUUklQRV9VUEVfQ0xJRU5UX0FQSV9WRVJTSU9OLFxuICAgIFNUUklQRV9VUEVfQ0xJRU5UX0JFVEFTLFxuICAgIFN0cmlwZUFwcGVhcmFuY2VPcHRpb25zLFxuICAgIFN0cmlwZUNsaWVudCxcbiAgICBTdHJpcGVFbGVtZW50RXZlbnQsXG4gICAgU3RyaXBlRWxlbWVudHMsXG4gICAgU3RyaXBlRWxlbWVudFR5cGUsXG4gICAgU3RyaXBlRXZlbnRUeXBlLFxuICAgIFN0cmlwZUZvcm1Nb2RlLFxuICAgIFN0cmlwZVNjcmlwdExvYWRlcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9zdHJpcGUtdXRpbHMnO1xuXG5pbXBvcnQgaXNTdHJpcGVBY2NlbGVyYXRlZENoZWNrb3V0Q3VzdG9tZXIgZnJvbSAnLi9pcy1zdHJpcGUtYWNjZWxlcmF0ZWQtY2hlY2tvdXQtY3VzdG9tZXInO1xuaW1wb3J0IHsgV2l0aFN0cmlwZVVQRUN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMgfSBmcm9tICcuL3N0cmlwZXVwZS1jdXN0b21lci1pbml0aWFsaXplLW9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdHJpcGVVUEVDdXN0b21lclN0cmF0ZWd5IGltcGxlbWVudHMgQ3VzdG9tZXJTdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBfc3RyaXBlRWxlbWVudHM/OiBTdHJpcGVFbGVtZW50cztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgc2NyaXB0TG9hZGVyOiBTdHJpcGVTY3JpcHRMb2FkZXIsXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShcbiAgICAgICAgb3B0aW9uczogQ3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhTdHJpcGVVUEVDdXN0b21lckluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBsZXQgc3RyaXBlVVBFQ2xpZW50OiBTdHJpcGVDbGllbnQ7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLnN0cmlwZXVwZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwib3B0aW9uc1wiIGFyZ3VtZW50IGlzIG5vdCBwcm92aWRlZC5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVyLCBnYXRld2F5SWQsIG1ldGhvZElkLCBvbkVtYWlsQ2hhbmdlLCBnZXRTdHlsZXMsIGlzTG9hZGluZyB9ID1cbiAgICAgICAgICAgIG9wdGlvbnMuc3RyaXBldXBlO1xuXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG9wdGlvbnMuc3RyaXBldXBlKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwiJHtrZXl9XCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLmAsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRQYXltZW50TWV0aG9kKGdhdGV3YXlJZCwge1xuICAgICAgICAgICAgcGFyYW1zOiB7IG1ldGhvZDogbWV0aG9kSWQgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkLCBnYXRld2F5SWQpO1xuICAgICAgICBjb25zdCB7IGNsaWVudFRva2VuIH0gPSBwYXltZW50TWV0aG9kO1xuXG4gICAgICAgIGlmICghaXNTdHJpcGVQYXltZW50TWV0aG9kTGlrZShwYXltZW50TWV0aG9kKSB8fCAhY2xpZW50VG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50VG9rZW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBlbWFpbCB9ID0gc3RhdGUuZ2V0Q3VzdG9tZXJPclRocm93KCk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRQcm92aWRlckN1c3RvbWVyID0gc3RhdGUuZ2V0UGF5bWVudFByb3ZpZGVyQ3VzdG9tZXJPclRocm93KCk7XG4gICAgICAgIGNvbnN0IHN0cmlwZVBheW1lbnRQcm92aWRlckN1c3RvbWVyID0gaXNTdHJpcGVBY2NlbGVyYXRlZENoZWNrb3V0Q3VzdG9tZXIoXG4gICAgICAgICAgICBwYXltZW50UHJvdmlkZXJDdXN0b21lcixcbiAgICAgICAgKVxuICAgICAgICAgICAgPyBwYXltZW50UHJvdmlkZXJDdXN0b21lclxuICAgICAgICAgICAgOiB7fTtcbiAgICAgICAgY29uc3Qgc3RyaXBlTGlua0F1dGhlbnRpY2F0aW9uU3RhdGUgPVxuICAgICAgICAgICAgc3RyaXBlUGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIuc3RyaXBlTGlua0F1dGhlbnRpY2F0aW9uU3RhdGU7XG5cbiAgICAgICAgaWYgKCFlbWFpbCkge1xuICAgICAgICAgICAgbGV0IGFwcGVhcmFuY2U6IFN0cmlwZUFwcGVhcmFuY2VPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVzID0gdHlwZW9mIGdldFN0eWxlcyA9PT0gJ2Z1bmN0aW9uJyAmJiBnZXRTdHlsZXMoKTtcblxuICAgICAgICAgICAgaWYgKHN0eWxlcykge1xuICAgICAgICAgICAgICAgIGFwcGVhcmFuY2UgPSB7XG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JQcmltYXJ5OiBzdHlsZXMuZmllbGRJbm5lclNoYWRvdyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yQmFja2dyb3VuZDogc3R5bGVzLmZpZWxkQmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yVGV4dDogc3R5bGVzLmxhYmVsVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yRGFuZ2VyOiBzdHlsZXMuZmllbGRFcnJvclRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvclRleHRTZWNvbmRhcnk6IHN0eWxlcy5sYWJlbFRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvclRleHRQbGFjZWhvbGRlcjogc3R5bGVzLmZpZWxkUGxhY2Vob2xkZXJUZXh0LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBydWxlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJy5JbnB1dCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogc3R5bGVzLmZpZWxkQm9yZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBzdHlsZXMuZmllbGRUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogc3R5bGVzLmZpZWxkSW5uZXJTaGFkb3csXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFwcGVhcmFuY2UgPSB7fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RyaXBlVVBFQ2xpZW50ID0gYXdhaXQgdGhpcy5zY3JpcHRMb2FkZXIuZ2V0U3RyaXBlQ2xpZW50KFxuICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhLFxuICAgICAgICAgICAgICAgIFNUUklQRV9VUEVfQ0xJRU5UX0JFVEFTLFxuICAgICAgICAgICAgICAgIFNUUklQRV9VUEVfQ0xJRU5UX0FQSV9WRVJTSU9OLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdGhpcy5fc3RyaXBlRWxlbWVudHMgPSBhd2FpdCB0aGlzLnNjcmlwdExvYWRlci5nZXRFbGVtZW50cyhzdHJpcGVVUEVDbGllbnQsIHtcbiAgICAgICAgICAgICAgICBjbGllbnRTZWNyZXQ6IGNsaWVudFRva2VuLFxuICAgICAgICAgICAgICAgIGFwcGVhcmFuY2UsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgeyBnZXRCaWxsaW5nQWRkcmVzcywgZ2V0Q29uc2lnbm1lbnRzIH0gPVxuICAgICAgICAgICAgICAgIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgY29uc2lnbm1lbnRzID0gZ2V0Q29uc2lnbm1lbnRzKCk7XG4gICAgICAgICAgICBjb25zdCBpZCA9IGNvbnNpZ25tZW50cz8uWzBdPy5pZDtcbiAgICAgICAgICAgIGNvbnN0IHsgZW1haWw6IGJpbGxpbmdFbWFpbCB9ID0gZ2V0QmlsbGluZ0FkZHJlc3MoKSB8fCB7fTtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBiaWxsaW5nRW1haWxcbiAgICAgICAgICAgICAgICA/IHsgZGVmYXVsdFZhbHVlczogeyBtb2RlOiBTdHJpcGVGb3JtTW9kZS5TSElQUElORywgZW1haWw6IGJpbGxpbmdFbWFpbCB9IH1cbiAgICAgICAgICAgICAgICA6IHt9O1xuICAgICAgICAgICAgY29uc3QgbGlua0F1dGhlbnRpY2F0aW9uRWxlbWVudCA9XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RyaXBlRWxlbWVudHMuZ2V0RWxlbWVudChTdHJpcGVFbGVtZW50VHlwZS5BVVRIRU5USUNBVElPTikgfHxcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJpcGVFbGVtZW50cy5jcmVhdGUoU3RyaXBlRWxlbWVudFR5cGUuQVVUSEVOVElDQVRJT04sIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICBsaW5rQXV0aGVudGljYXRpb25FbGVtZW50Lm9uKFN0cmlwZUVsZW1lbnRFdmVudC5DSEFOR0UsIChldmVudDogU3RyaXBlRXZlbnRUeXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEoJ2F1dGhlbnRpY2F0ZWQnIGluIGV2ZW50KSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ3VzdG9tZXIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVQYXltZW50UHJvdmlkZXJDdXN0b21lcih7XG4gICAgICAgICAgICAgICAgICAgIHN0cmlwZUxpbmtBdXRoZW50aWNhdGlvblN0YXRlOiBldmVudC5hdXRoZW50aWNhdGVkLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uRW1haWxDaGFuZ2UoZXZlbnQuYXV0aGVudGljYXRlZCwgZXZlbnQudmFsdWUuZW1haWwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9uRW1haWxDaGFuZ2UoZmFsc2UsICcnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHN0cmlwZUxpbmtBdXRoZW50aWNhdGlvblN0YXRlID09PSB1bmRlZmluZWQgJiYgZXZlbnQuYXV0aGVudGljYXRlZCAmJiBpZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZGVsZXRlQ29uc2lnbm1lbnQoaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGlua0F1dGhlbnRpY2F0aW9uRWxlbWVudC5tb3VudChgIyR7Y29udGFpbmVyfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLl9zdHJpcGVFbGVtZW50cz8uZ2V0RWxlbWVudChTdHJpcGVFbGVtZW50VHlwZS5BVVRIRU5USUNBVElPTik/LnVubW91bnQoKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgc2lnbkluKGNyZWRlbnRpYWxzOiBDdXN0b21lckNyZWRlbnRpYWxzLCBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnNpZ25JbkN1c3RvbWVyKGNyZWRlbnRpYWxzLCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgc2lnbk91dChvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnNpZ25PdXRDdXN0b21lcihvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgZXhlY3V0ZVBheW1lbnRNZXRob2RDaGVja291dChvcHRpb25zPzogRXhlY3V0ZVBheW1lbnRNZXRob2RDaGVja291dE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgb3B0aW9ucz8uY29udGludWVXaXRoQ2hlY2tvdXRDYWxsYmFjaz8uKCk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHtcbiAgICBDdXN0b21lclN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuaW1wb3J0IHsgU3RyaXBlU2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9zdHJpcGUtdXRpbHMnO1xuXG5pbXBvcnQgU3RyaXBlVVBFQ3VzdG9tZXJTdHJhdGVneSBmcm9tICcuL3N0cmlwZS11cGUtY3VzdG9tZXItc3RyYXRlZ3knO1xuXG5jb25zdCBjcmVhdGVTdHJpcGVVUEVDdXN0b21lclN0cmF0ZWd5OiBDdXN0b21lclN0cmF0ZWd5RmFjdG9yeTxTdHJpcGVVUEVDdXN0b21lclN0cmF0ZWd5PiA9IChcbiAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBTdHJpcGVVUEVDdXN0b21lclN0cmF0ZWd5KFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBuZXcgU3RyaXBlU2NyaXB0TG9hZGVyKGdldFNjcmlwdExvYWRlcigpKSxcbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZVN0cmlwZVVQRUN1c3RvbWVyU3RyYXRlZ3ksIFt7IGlkOiAnc3RyaXBldXBlJyB9XSk7XG4iLCJpbXBvcnQge1xuICAgIExvYWRpbmdJbmRpY2F0b3JDb250YWluZXJTdHlsZXMsXG4gICAgTG9hZGluZ0luZGljYXRvclN0eWxlcyxcbn0gZnJvbSAnLi9sb2FkaW5nLWluZGljYXRvci1zdHlsZXMnO1xuXG5jb25zdCBERUZBVUxUX1NUWUxFUzogTG9hZGluZ0luZGljYXRvclN0eWxlcyA9IHtcbiAgICBzaXplOiA3MCxcbiAgICBjb2xvcjogJyNkOWQ5ZDknLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmZmZmYnLFxufTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfQ09OVEFJTkVSX1NUWUxFUyA9IHtcbiAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAnYmFja2dyb3VuZC1jb2xvcic6ICdyZ2JhKDAsIDAsIDAsIDAuNCknLFxuICAgICd6LWluZGV4JzogJzEwMDAnLFxufTtcblxuY29uc3QgUk9UQVRJT05fQU5JTUFUSU9OID0gJ2VtYmVkZGVkLWNoZWNrb3V0LWxvYWRpbmctaW5kaWNhdG9yLXJvdGF0aW9uJztcblxuaW50ZXJmYWNlIExvYWRpbmdJbmRpY2F0b3JPcHRpb25zIHtcbiAgICBzdHlsZXM/OiBMb2FkaW5nSW5kaWNhdG9yU3R5bGVzO1xuICAgIGNvbnRhaW5lclN0eWxlcz86IExvYWRpbmdJbmRpY2F0b3JDb250YWluZXJTdHlsZXM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRpbmdJbmRpY2F0b3Ige1xuICAgIHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIGluZGljYXRvcjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBzdHlsZXM6IExvYWRpbmdJbmRpY2F0b3JTdHlsZXM7XG4gICAgcHJpdmF0ZSBjb250YWluZXJTdHlsZXM6IExvYWRpbmdJbmRpY2F0b3JDb250YWluZXJTdHlsZXM7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPzogTG9hZGluZ0luZGljYXRvck9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSB7IC4uLkRFRkFVTFRfU1RZTEVTLCAuLi4ob3B0aW9ucyAmJiBvcHRpb25zLnN0eWxlcykgfTtcbiAgICAgICAgdGhpcy5jb250YWluZXJTdHlsZXMgPSB7IC4uLihvcHRpb25zICYmIG9wdGlvbnMuY29udGFpbmVyU3R5bGVzKSB9O1xuXG4gICAgICAgIHRoaXMuZGVmaW5lQW5pbWF0aW9uKCk7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIgPSB0aGlzLmJ1aWxkQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuaW5kaWNhdG9yID0gdGhpcy5idWlsZEluZGljYXRvcigpO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuaW5kaWNhdG9yKTtcbiAgICB9XG5cbiAgICBzaG93KHBhcmVudElkPzogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFyZW50SWQpO1xuXG4gICAgICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBhdHRhY2ggdGhlIGxvYWRpbmcgaW5kaWNhdG9yIGJlY2F1c2UgdGhlIHBhcmVudCBJRCBpcyBub3QgdmFsaWQuJyxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICB9XG5cbiAgICBoaWRlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBoYW5kbGVUcmFuc2l0aW9uRW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgaGFuZGxlVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGhhbmRsZVRyYW5zaXRpb25FbmQpO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZENvbnRhaW5lcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmJvdHRvbSA9ICcwJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnJpZ2h0ID0gJzAnO1xuICAgICAgICBjb250YWluZXIuc3R5bGUudG9wID0gJzAnO1xuICAgICAgICBjb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9ICdhbGwgMjUwbXMgZWFzZS1vdXQnO1xuICAgICAgICBjb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcwJztcblxuICAgICAgICB0aGlzLnNldFN0eWxlQXR0cmlidXRlKGNvbnRhaW5lciwgdGhpcy5jb250YWluZXJTdHlsZXMpO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZEluZGljYXRvcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGluZGljYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIGluZGljYXRvci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLndpZHRoID0gYCR7dGhpcy5zdHlsZXMuc2l6ZX1weGA7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLnN0eWxlcy5zaXplfXB4YDtcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLmJvcmRlclJhZGl1cyA9IGAke3RoaXMuc3R5bGVzLnNpemV9cHhgO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuYm9yZGVyID0gJ3NvbGlkIDFweCc7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS5ib3JkZXJDb2xvciA9IGAke3RoaXMuc3R5bGVzLmJhY2tncm91bmRDb2xvcn0gJHt0aGlzLnN0eWxlcy5iYWNrZ3JvdW5kQ29sb3J9ICR7dGhpcy5zdHlsZXMuY29sb3J9ICR7dGhpcy5zdHlsZXMuY29sb3J9YDtcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLm1hcmdpbiA9ICcwIGF1dG8nO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUubGVmdCA9ICcwJztcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLnJpZ2h0ID0gJzAnO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUudG9wID0gJzUwJSc7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtNTAlKSByb3RhdGUoMGRlZyknO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUudHJhbnNmb3JtU3R5bGUgPSAncHJlc2VydmUtM2QnO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuYW5pbWF0aW9uID0gYCR7Uk9UQVRJT05fQU5JTUFUSU9OfSA1MDBtcyBpbmZpbml0ZSBjdWJpYy1iZXppZXIoMC42OSwgMC4zMSwgMC41NiwgMC44MylgO1xuXG4gICAgICAgIHJldHVybiBpbmRpY2F0b3I7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRTdHlsZUF0dHJpYnV0ZShlbGVtZW50OiBIVE1MRWxlbWVudCwgYXR0cnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0pOiB2b2lkIHtcbiAgICAgICAgT2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goKGspID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoaywgYXR0cnNba10pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRlZmluZUFuaW1hdGlvbigpOiB2b2lkIHtcbiAgICAgICAgLy8gSW4gb3JkZXIgdG8gZGVmaW5lIENTUyBhbmltYXRpb24sIHdlIG5lZWQgdG8gaW5zZXJ0IGEgc3R5bGVzaGVldCBpbnRvIHRoZSBob3N0IGZyYW1lLlxuICAgICAgICAvLyBXZSBvbmx5IGhhdmUgdG8gZG8gaXQgb25jZS5cbiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFJPVEFUSU9OX0FOSU1BVElPTikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblxuICAgICAgICBzdHlsZS5pZCA9IFJPVEFUSU9OX0FOSU1BVElPTjtcblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LWNvbmRpdGlvblxuICAgICAgICBkb2N1bWVudC5oZWFkPy5hcHBlbmRDaGlsZChzdHlsZSk7XG5cbiAgICAgICAgaWYgKHN0eWxlLnNoZWV0IGluc3RhbmNlb2YgQ1NTU3R5bGVTaGVldCkge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBwcm92aWRlIHRoZSAybmQgcGFyYW1ldGVyIGZvciBJRTExLCBldmVuIHRob3VnaCBpdCBpc1xuICAgICAgICAgICAgLy8gMCBieSBkZWZhdWx0IGZvciBhbGwgb3RoZXIgYnJvd3NlcnMuXG4gICAgICAgICAgICBzdHlsZS5zaGVldC5pbnNlcnRSdWxlKFxuICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICBAa2V5ZnJhbWVzICR7Uk9UQVRJT05fQU5JTUFUSU9OfSB7XG4gICAgICAgICAgICAgICAgICAgIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSgwZGVnKTsgfVxuICAgICAgICAgICAgICAgICAgICAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSgzNjBkZWcpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFtb3VudFRyYW5zZm9ybWVyIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9kZWNpbWFsUGxhY2VzOiBudW1iZXIpIHt9XG5cbiAgICB0b0ludGVnZXIoYW1vdW50OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChhbW91bnQgKiAxMCAqKiB0aGlzLl9kZWNpbWFsUGxhY2VzKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgZXhwcmVzc0NoZWNrb3V0QWxsb3dlZENvdW50cnlDb2RlcyA9IFtcbiAgICAnQUMnLFxuICAgICdBRCcsXG4gICAgJ0FFJyxcbiAgICAnQUYnLFxuICAgICdBRycsXG4gICAgJ0FJJyxcbiAgICAnQUwnLFxuICAgICdBTScsXG4gICAgJ0FPJyxcbiAgICAnQVEnLFxuICAgICdBUicsXG4gICAgJ0FUJyxcbiAgICAnQVUnLFxuICAgICdBVycsXG4gICAgJ0FYJyxcbiAgICAnQVonLFxuICAgICdCQScsXG4gICAgJ0JCJyxcbiAgICAnQkQnLFxuICAgICdCRScsXG4gICAgJ0JGJyxcbiAgICAnQkcnLFxuICAgICdCSCcsXG4gICAgJ0JJJyxcbiAgICAnQkonLFxuICAgICdCTCcsXG4gICAgJ0JNJyxcbiAgICAnQk4nLFxuICAgICdCTycsXG4gICAgJ0JRJyxcbiAgICAnQlInLFxuICAgICdCUycsXG4gICAgJ0JUJyxcbiAgICAnQlYnLFxuICAgICdCVycsXG4gICAgJ0JZJyxcbiAgICAnQlonLFxuICAgICdDQScsXG4gICAgJ0NEJyxcbiAgICAnQ0YnLFxuICAgICdDRycsXG4gICAgJ0NIJyxcbiAgICAnQ0knLFxuICAgICdDSycsXG4gICAgJ0NMJyxcbiAgICAnQ00nLFxuICAgICdDTicsXG4gICAgJ0NPJyxcbiAgICAnQ1InLFxuICAgICdDVicsXG4gICAgJ0NXJyxcbiAgICAnQ1knLFxuICAgICdDWicsXG4gICAgJ0RFJyxcbiAgICAnREonLFxuICAgICdESycsXG4gICAgJ0RNJyxcbiAgICAnRE8nLFxuICAgICdEWicsXG4gICAgJ0VDJyxcbiAgICAnRUUnLFxuICAgICdFRycsXG4gICAgJ0VIJyxcbiAgICAnRVInLFxuICAgICdFUycsXG4gICAgJ0VUJyxcbiAgICAnRkknLFxuICAgICdGSicsXG4gICAgJ0ZLJyxcbiAgICAnRk8nLFxuICAgICdGUicsXG4gICAgJ0dBJyxcbiAgICAnR0InLFxuICAgICdHRCcsXG4gICAgJ0dFJyxcbiAgICAnR0YnLFxuICAgICdHRycsXG4gICAgJ0dIJyxcbiAgICAnR0knLFxuICAgICdHTCcsXG4gICAgJ0dNJyxcbiAgICAnR04nLFxuICAgICdHUCcsXG4gICAgJ0dRJyxcbiAgICAnR1InLFxuICAgICdHUycsXG4gICAgJ0dUJyxcbiAgICAnR1UnLFxuICAgICdHVycsXG4gICAgJ0dZJyxcbiAgICAnSEsnLFxuICAgICdITicsXG4gICAgJ0hSJyxcbiAgICAnSFQnLFxuICAgICdIVScsXG4gICAgJ0lEJyxcbiAgICAnSUUnLFxuICAgICdJTCcsXG4gICAgJ0lNJyxcbiAgICAnSU4nLFxuICAgICdJTycsXG4gICAgJ0lRJyxcbiAgICAnSVMnLFxuICAgICdJVCcsXG4gICAgJ0pFJyxcbiAgICAnSk0nLFxuICAgICdKTycsXG4gICAgJ0pQJyxcbiAgICAnS0UnLFxuICAgICdLRycsXG4gICAgJ0tIJyxcbiAgICAnS0knLFxuICAgICdLTScsXG4gICAgJ0tOJyxcbiAgICAnS1InLFxuICAgICdLVycsXG4gICAgJ0tZJyxcbiAgICAnS1onLFxuICAgICdMQScsXG4gICAgJ0xCJyxcbiAgICAnTEMnLFxuICAgICdMSScsXG4gICAgJ0xLJyxcbiAgICAnTFInLFxuICAgICdMUycsXG4gICAgJ0xUJyxcbiAgICAnTFUnLFxuICAgICdMVicsXG4gICAgJ0xZJyxcbiAgICAnTUEnLFxuICAgICdNQycsXG4gICAgJ01EJyxcbiAgICAnTUUnLFxuICAgICdNRicsXG4gICAgJ01HJyxcbiAgICAnTUsnLFxuICAgICdNTCcsXG4gICAgJ01NJyxcbiAgICAnTU4nLFxuICAgICdNTycsXG4gICAgJ01RJyxcbiAgICAnTVInLFxuICAgICdNUycsXG4gICAgJ01UJyxcbiAgICAnTVUnLFxuICAgICdNVicsXG4gICAgJ01XJyxcbiAgICAnTVgnLFxuICAgICdNWScsXG4gICAgJ01aJyxcbiAgICAnTkEnLFxuICAgICdOQycsXG4gICAgJ05FJyxcbiAgICAnTkcnLFxuICAgICdOSScsXG4gICAgJ05MJyxcbiAgICAnTk8nLFxuICAgICdOUCcsXG4gICAgJ05SJyxcbiAgICAnTlUnLFxuICAgICdOWicsXG4gICAgJ09NJyxcbiAgICAnUEEnLFxuICAgICdQRScsXG4gICAgJ1BGJyxcbiAgICAnUEcnLFxuICAgICdQSCcsXG4gICAgJ1BLJyxcbiAgICAnUEwnLFxuICAgICdQTScsXG4gICAgJ1BOJyxcbiAgICAnUFInLFxuICAgICdQUycsXG4gICAgJ1BUJyxcbiAgICAnUFknLFxuICAgICdRQScsXG4gICAgJ1JFJyxcbiAgICAnUk8nLFxuICAgICdSUycsXG4gICAgJ1JVJyxcbiAgICAnUlcnLFxuICAgICdTQScsXG4gICAgJ1NCJyxcbiAgICAnU0MnLFxuICAgICdTRCcsXG4gICAgJ1NFJyxcbiAgICAnU0cnLFxuICAgICdTSCcsXG4gICAgJ1NJJyxcbiAgICAnU0onLFxuICAgICdTSycsXG4gICAgJ1NMJyxcbiAgICAnU00nLFxuICAgICdTTicsXG4gICAgJ1NPJyxcbiAgICAnU1InLFxuICAgICdTUycsXG4gICAgJ1NUJyxcbiAgICAnU1YnLFxuICAgICdTWCcsXG4gICAgJ1NaJyxcbiAgICAnVEEnLFxuICAgICdUQycsXG4gICAgJ1REJyxcbiAgICAnVEYnLFxuICAgICdURycsXG4gICAgJ1RIJyxcbiAgICAnVEonLFxuICAgICdUSycsXG4gICAgJ1RMJyxcbiAgICAnVE0nLFxuICAgICdUTicsXG4gICAgJ1RPJyxcbiAgICAnVFInLFxuICAgICdUVCcsXG4gICAgJ1RWJyxcbiAgICAnVFcnLFxuICAgICdUWicsXG4gICAgJ1VBJyxcbiAgICAnVUcnLFxuICAgICdVUycsXG4gICAgJ1VZJyxcbiAgICAnVVonLFxuICAgICdWQScsXG4gICAgJ1ZDJyxcbiAgICAnVkUnLFxuICAgICdWRycsXG4gICAgJ1ZOJyxcbiAgICAnVlUnLFxuICAgICdXRicsXG4gICAgJ1dTJyxcbiAgICAnWEsnLFxuICAgICdZRScsXG4gICAgJ1lUJyxcbiAgICAnWkEnLFxuICAgICdaTScsXG4gICAgJ1pXJyxcbiAgICAnWlonLFxuXTtcbiIsImltcG9ydCB7IHJvdW5kIH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHtcbiAgICBBbW91bnRUcmFuc2Zvcm1lcixcbiAgICBDdXN0b21lckluaXRpYWxpemVPcHRpb25zLFxuICAgIEN1c3RvbWVyU3RyYXRlZ3ksXG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgaXNSZXF1ZXN0RXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yVHlwZSxcbiAgICBOb3RJbml0aWFsaXplZEVycm9yLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLFxuICAgIFBheW1lbnQsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IsXG4gICAgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yLFxuICAgIFNoaXBwaW5nT3B0aW9uLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7XG4gICAgaXNTdHJpcGVQYXltZW50TWV0aG9kTGlrZSxcbiAgICBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uUmVxdWlyZWQsXG4gICAgU3RyaXBlQ2xpZW50LFxuICAgIFN0cmlwZUVsZW1lbnQsXG4gICAgU3RyaXBlRWxlbWVudEV2ZW50LFxuICAgIFN0cmlwZUVsZW1lbnRzLFxuICAgIFN0cmlwZUVsZW1lbnRzQ3JlYXRlT3B0aW9ucyxcbiAgICBTdHJpcGVFbGVtZW50VHlwZSxcbiAgICBTdHJpcGVFcnJvcixcbiAgICBTdHJpcGVFdmVudFR5cGUsXG4gICAgU3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFN0cmlwZUxpbmtWMkV2ZW50LFxuICAgIFN0cmlwZUxpbmtWMk9wdGlvbnMsXG4gICAgU3RyaXBlTGlua1YyU2hpcHBpbmdSYXRlLFxuICAgIFN0cmlwZVBheW1lbnRNZXRob2RUeXBlLFxuICAgIFN0cmlwZVJlc3VsdCxcbiAgICBTdHJpcGVTY3JpcHRMb2FkZXIsXG4gICAgU3RyaXBlU3RyaW5nQ29uc3RhbnRzLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3N0cmlwZS11dGlscyc7XG5pbXBvcnQgeyBMb2FkaW5nSW5kaWNhdG9yIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay91aSc7XG5cbmltcG9ydCB7IGV4cHJlc3NDaGVja291dEFsbG93ZWRDb3VudHJ5Q29kZXMgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBXaXRoU3RyaXBlT0NTQ3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyB9IGZyb20gJy4vc3RyaXBlLW9jcy1jdXN0b21lci1pbml0aWFsaXplLW9wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdHJpcGVMaW5rVjJDdXN0b21lclN0cmF0ZWd5IGltcGxlbWVudHMgQ3VzdG9tZXJTdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBfc3RyaXBlQ2xpZW50PzogU3RyaXBlQ2xpZW50O1xuICAgIHByaXZhdGUgX3N0cmlwZUVsZW1lbnRzPzogU3RyaXBlRWxlbWVudHM7XG4gICAgcHJpdmF0ZSBfbGlua1YyRWxlbWVudD86IFN0cmlwZUVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfYW1vdW50VHJhbnNmb3JtZXI/OiBBbW91bnRUcmFuc2Zvcm1lcjtcbiAgICBwcml2YXRlIF9vbkNvbXBsZXRlPzogKG9yZGVySWQ/OiBudW1iZXIpID0+IFByb21pc2U8bmV2ZXI+O1xuICAgIHByaXZhdGUgX2xvYWRpbmdJbmRpY2F0b3JDb250YWluZXI/OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfY2FwdHVyZU1ldGhvZD86ICdhdXRvbWF0aWMnIHwgJ21hbnVhbCc7XG4gICAgcHJpdmF0ZSBfY3VycmVuY3lDb2RlPzogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBzY3JpcHRMb2FkZXI6IFN0cmlwZVNjcmlwdExvYWRlcixcbiAgICAgICAgcHJpdmF0ZSBzdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2U6IFN0cmlwZUludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBsb2FkaW5nSW5kaWNhdG9yOiBMb2FkaW5nSW5kaWNhdG9yLFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoU3RyaXBlT0NTQ3VzdG9tZXJJbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBzdHJpcGVvY3MgfSA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgaWYgKCFzdHJpcGVvY3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcIm9wdGlvbnNcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IG1ldGhvZElkLCBnYXRld2F5SWQsIGNvbnRhaW5lciB9ID0gc3RyaXBlb2NzO1xuXG4gICAgICAgIGlmICghY29udGFpbmVyIHx8ICFtZXRob2RJZCB8fCAhZ2F0ZXdheUlkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QoZ2F0ZXdheUlkLCB7XG4gICAgICAgICAgICBwYXJhbXM6IHsgbWV0aG9kOiBtZXRob2RJZCB9LFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkLCBnYXRld2F5SWQpO1xuICAgICAgICBjb25zdCB7IGxvYWRpbmdDb250YWluZXJJZCwgYnV0dG9uSGVpZ2h0LCBvbkNvbXBsZXRlIH0gPSBzdHJpcGVvY3M7XG5cbiAgICAgICAgdGhpcy5fbG9hZGluZ0luZGljYXRvckNvbnRhaW5lciA9IGxvYWRpbmdDb250YWluZXJJZDtcblxuICAgICAgICB0aGlzLl9vbkNvbXBsZXRlID0gb25Db21wbGV0ZTtcblxuICAgICAgICBpZiAoIWlzU3RyaXBlUGF5bWVudE1ldGhvZExpa2UocGF5bWVudE1ldGhvZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgaW5pdGlhbGl6YXRpb25EYXRhIH0gPSBwYXltZW50TWV0aG9kO1xuICAgICAgICBjb25zdCB7IGNhcHR1cmVNZXRob2QgfSA9IGluaXRpYWxpemF0aW9uRGF0YTtcblxuICAgICAgICB0aGlzLl9jYXB0dXJlTWV0aG9kID0gY2FwdHVyZU1ldGhvZDtcbiAgICAgICAgdGhpcy5fc3RyaXBlQ2xpZW50ID0gYXdhaXQgdGhpcy5zY3JpcHRMb2FkZXIuZ2V0U3RyaXBlQ2xpZW50KGluaXRpYWxpemF0aW9uRGF0YSk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5fbW91bnRFeHByZXNzQ2hlY2tvdXRFbGVtZW50KFxuICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICB0aGlzLl9zdHJpcGVDbGllbnQsXG4gICAgICAgICAgICBidXR0b25IZWlnaHQsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHNpZ25JbigpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHNpZ25PdXQoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBleGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0KCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgZGVpbml0aWFsaXplKCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfbW91bnRFeHByZXNzQ2hlY2tvdXRFbGVtZW50KFxuICAgICAgICBtZXRob2RJZDogc3RyaW5nLFxuICAgICAgICBjb250YWluZXI6IHN0cmluZyxcbiAgICAgICAgc3RyaXBlRXhwcmVzc0NoZWNrb3V0Q2xpZW50OiBTdHJpcGVDbGllbnQsXG4gICAgICAgIGJ1dHRvbkhlaWdodCA9IDQwLFxuICAgICkge1xuICAgICAgICBjb25zdCBzaG91bGRSZXF1aXJlU2hpcHBpbmdBZGRyZXNzID0gdGhpcy5fc2hvdWxkUmVxdWlyZVNoaXBwaW5nQWRkcmVzcygpO1xuICAgICAgICBjb25zdCBleHByZXNzQ2hlY2tvdXRPcHRpb25zOiBTdHJpcGVFbGVtZW50c0NyZWF0ZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3NSZXF1aXJlZDogc2hvdWxkUmVxdWlyZVNoaXBwaW5nQWRkcmVzcyxcbiAgICAgICAgICAgIC4uLihzaG91bGRSZXF1aXJlU2hpcHBpbmdBZGRyZXNzXG4gICAgICAgICAgICAgICAgPyB7IGFsbG93ZWRTaGlwcGluZ0NvdW50cmllczogYXdhaXQgdGhpcy5fZ2V0QXZhaWxhYmxlQ291bnRyaWVzKCkgfVxuICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgLi4uKHNob3VsZFJlcXVpcmVTaGlwcGluZ0FkZHJlc3NcbiAgICAgICAgICAgICAgICA/IHsgc2hpcHBpbmdSYXRlczogW3sgaWQ6ICdfJywgYW1vdW50OiAwLCBkaXNwbGF5TmFtZTogJ1BlbmRpbmcgcmF0ZXMnIH1dIH1cbiAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzUmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICBlbWFpbFJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgcGhvbmVOdW1iZXJSZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIHBheW1lbnRNZXRob2RzOiB7XG4gICAgICAgICAgICAgICAgbGluazogU3RyaXBlU3RyaW5nQ29uc3RhbnRzLkFVVE8sXG4gICAgICAgICAgICAgICAgYXBwbGVQYXk6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUixcbiAgICAgICAgICAgICAgICBnb29nbGVQYXk6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUixcbiAgICAgICAgICAgICAgICBhbWF6b25QYXk6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUixcbiAgICAgICAgICAgICAgICBwYXlwYWw6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUixcbiAgICAgICAgICAgICAgICBrbGFybmE6IFN0cmlwZVN0cmluZ0NvbnN0YW50cy5ORVZFUixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBNaW5pbWFsIGJ1dHRvbkhlaWdodCB2YWx1ZSBpcyA0MFxuICAgICAgICAgICAgYnV0dG9uSGVpZ2h0LFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHsgY2FydEFtb3VudCB9ID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0Q2FydE9yVGhyb3coKTtcblxuICAgICAgICBjb25zdCBlbGVtZW50c09wdGlvbnM6IFN0cmlwZUxpbmtWMk9wdGlvbnMgPSB7XG4gICAgICAgICAgICBtb2RlOiAncGF5bWVudCcsXG4gICAgICAgICAgICBhbW91bnQ6IHRoaXMuX3RvQ2VudHMoY2FydEFtb3VudCksXG4gICAgICAgICAgICBjdXJyZW5jeTogdGhpcy5fZ2V0Q3VycmVuY3koKSxcbiAgICAgICAgICAgIC4uLih0aGlzLl9jYXB0dXJlTWV0aG9kID8geyBjYXB0dXJlTWV0aG9kOiB0aGlzLl9jYXB0dXJlTWV0aG9kIH0gOiB7fSksXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fc3RyaXBlRWxlbWVudHMgPSBzdHJpcGVFeHByZXNzQ2hlY2tvdXRDbGllbnQuZWxlbWVudHMoZWxlbWVudHNPcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9saW5rVjJFbGVtZW50ID0gdGhpcy5fc3RyaXBlRWxlbWVudHMuY3JlYXRlKFxuICAgICAgICAgICAgU3RyaXBlRWxlbWVudFR5cGUuRVhQUkVTU19DSEVDS09VVCxcbiAgICAgICAgICAgIGV4cHJlc3NDaGVja291dE9wdGlvbnMsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX2xpbmtWMkVsZW1lbnQubW91bnQoYCMke2NvbnRhaW5lcn1gKTtcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZUV2ZW50cyh0aGlzLl9saW5rVjJFbGVtZW50LCBtZXRob2RJZCk7XG4gICAgfVxuXG4gICAgLyoqIEV2ZW50cyAqICovXG5cbiAgICBwcml2YXRlIF9pbml0aWFsaXplRXZlbnRzKGV4cHJlc3NDaGVja291dEVsZW1lbnQ6IFN0cmlwZUVsZW1lbnQsIG1ldGhvZElkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc2hvdWxkUmVxdWlyZVNoaXBwaW5nQWRkcmVzcyA9IHRoaXMuX3Nob3VsZFJlcXVpcmVTaGlwcGluZ0FkZHJlc3MoKTtcblxuICAgICAgICBpZiAoc2hvdWxkUmVxdWlyZVNoaXBwaW5nQWRkcmVzcykge1xuICAgICAgICAgICAgZXhwcmVzc0NoZWNrb3V0RWxlbWVudC5vbihTdHJpcGVFbGVtZW50RXZlbnQuU0hJUFBJTkdfQUREUkVTU19DSEFOR0UsIGFzeW5jIChldmVudCkgPT5cbiAgICAgICAgICAgICAgICB0aGlzLl9vblNoaXBwaW5nQWRkcmVzc0NoYW5nZShldmVudCksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZXhwcmVzc0NoZWNrb3V0RWxlbWVudC5vbihTdHJpcGVFbGVtZW50RXZlbnQuU0hJUFBJTkdfUkFURV9DSEFOR0UsIGFzeW5jIChldmVudCkgPT5cbiAgICAgICAgICAgICAgICB0aGlzLl9vblNoaXBwaW5nUmF0ZUNoYW5nZShldmVudCksXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZXhwcmVzc0NoZWNrb3V0RWxlbWVudC5vbihTdHJpcGVFbGVtZW50RXZlbnQuQ09ORklSTSwgYXN5bmMgKGV2ZW50KSA9PlxuICAgICAgICAgICAgdGhpcy5fb25Db25maXJtKGV2ZW50LCBtZXRob2RJZCksXG4gICAgICAgICk7XG5cbiAgICAgICAgZXhwcmVzc0NoZWNrb3V0RWxlbWVudC5vbihTdHJpcGVFbGVtZW50RXZlbnQuQ0FOQ0VMLCB0aGlzLl9vbkNhbmNlbCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfb25TaGlwcGluZ0FkZHJlc3NDaGFuZ2UoZXZlbnQ6IFN0cmlwZUV2ZW50VHlwZSkge1xuICAgICAgICBpZiAoJ2FkZHJlc3MnIGluIGV2ZW50KSB7XG4gICAgICAgICAgICBjb25zdCBzaGlwcGluZ0FkZHJlc3MgPSBldmVudC5hZGRyZXNzO1xuICAgICAgICAgICAgLy8gRGVwZW5kaW5nIG9uIHRoZSBjb3VudHJ5LCBzb21lIGZpZWxkcyBjYW4gYmUgbWlzc2luZyBvciBwYXJ0aWFsbHkgcmVkYWN0ZWQuXG4gICAgICAgICAgICAvLyBGb3IgZXhhbXBsZSwgdGhlIHNoaXBwaW5nIGFkZHJlc3MgaW4gdGhlIFVTIGNhbiBvbmx5IGNvbnRhaW4gYSBjaXR5LCBzdGF0ZSwgYW5kIFpJUCBjb2RlLlxuICAgICAgICAgICAgLy8gVGhlIGZ1bGwgc2hpcHBpbmcgYWRkcmVzcyBhcHBlYXJzIGluIHRoZSBjb25maXJtIGV2ZW50IG9iamVjdCBhZnRlciB0aGUgcHVyY2hhc2UgaXMgY29uZmlybWVkIGluIHRoZSBicm93c2Vy4oCZcyBwYXltZW50IGludGVyZmFjZS5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBmaXJzdE5hbWU6ICcnLFxuICAgICAgICAgICAgICAgIGxhc3ROYW1lOiAnJyxcbiAgICAgICAgICAgICAgICBwaG9uZTogJycsXG4gICAgICAgICAgICAgICAgY29tcGFueTogJycsXG4gICAgICAgICAgICAgICAgYWRkcmVzczE6ICcnLFxuICAgICAgICAgICAgICAgIGFkZHJlc3MyOiAnJyxcbiAgICAgICAgICAgICAgICBjaXR5OiBzaGlwcGluZ0FkZHJlc3M/LmNpdHkgfHwgJycsXG4gICAgICAgICAgICAgICAgY291bnRyeUNvZGU6IHNoaXBwaW5nQWRkcmVzcz8uY291bnRyeSB8fCAnJyxcbiAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBzaGlwcGluZ0FkZHJlc3M/LnBvc3RhbF9jb2RlIHx8ICcnLFxuICAgICAgICAgICAgICAgIHN0YXRlT3JQcm92aW5jZTogc2hpcHBpbmdBZGRyZXNzPy5zdGF0ZSB8fCAnJyxcbiAgICAgICAgICAgICAgICBzdGF0ZU9yUHJvdmluY2VDb2RlOiAnJyxcbiAgICAgICAgICAgICAgICBjdXN0b21GaWVsZHM6IFtdLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnVwZGF0ZVNoaXBwaW5nQWRkcmVzcyhyZXN1bHQpO1xuXG4gICAgICAgICAgICBjb25zdCBzaGlwcGluZ1JhdGVzID0gYXdhaXQgdGhpcy5fZ2V0QXZhaWxhYmxlU2hpcHBpbmdPcHRpb25zKCk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3VwZGF0ZURpc3BsYXllZFByaWNlKCk7XG5cbiAgICAgICAgICAgIGV2ZW50LnJlc29sdmUoe1xuICAgICAgICAgICAgICAgIHNoaXBwaW5nUmF0ZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX29uQ2FuY2VsKCkge1xuICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfb25TaGlwcGluZ1JhdGVDaGFuZ2UoZXZlbnQ6IFN0cmlwZUV2ZW50VHlwZSkge1xuICAgICAgICBpZiAoJ3NoaXBwaW5nUmF0ZScgaW4gZXZlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgc2hpcHBpbmdSYXRlIH0gPSBldmVudDtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5faGFuZGxlU2hpcHBpbmdPcHRpb25DaGFuZ2Uoc2hpcHBpbmdSYXRlPy5pZCk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3VwZGF0ZURpc3BsYXllZFByaWNlKCk7XG5cbiAgICAgICAgICAgIGV2ZW50LnJlc29sdmUoe30pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIENvbmZpcm0gbWV0aG9kcyAqICovXG4gICAgcHJpdmF0ZSBhc3luYyBfb25Db25maXJtKGV2ZW50OiBTdHJpcGVFdmVudFR5cGUsIG1ldGhvZElkOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgJ2JpbGxpbmdEZXRhaWxzJyBpbiBldmVudCAmJlxuICAgICAgICAgICAgJ3NoaXBwaW5nQWRkcmVzcycgaW4gZXZlbnQgJiZcbiAgICAgICAgICAgIHRoaXMuX3N0cmlwZUNsaWVudCAmJlxuICAgICAgICAgICAgdGhpcy5fc3RyaXBlRWxlbWVudHNcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVTaGlwcGluZ0FuZEJpbGxpbmdBZGRyZXNzKGV2ZW50KTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcigpO1xuXG4gICAgICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kID0gdGhpcy5fZ2V0UGF5bWVudFBheWxvYWQobWV0aG9kSWQpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHBheW1lbnRNZXRob2QpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9wcm9jZXNzQWRkaXRpb25hbEFjdGlvbihlcnJvciwgbWV0aG9kSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX3VwZGF0ZVNoaXBwaW5nQW5kQmlsbGluZ0FkZHJlc3MoZXZlbnQ6IFN0cmlwZUxpbmtWMkV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHNob3VsZFJlcXVpcmVTaGlwcGluZ0FkZHJlc3MgPSB0aGlzLl9zaG91bGRSZXF1aXJlU2hpcHBpbmdBZGRyZXNzKCk7XG5cbiAgICAgICAgY29uc3QgZmlyc3ROYW1lID1cbiAgICAgICAgICAgIGV2ZW50LnNoaXBwaW5nQWRkcmVzcz8ubmFtZT8uc3BsaXQoJyAnKVswXSB8fFxuICAgICAgICAgICAgZXZlbnQuYmlsbGluZ0RldGFpbHM/Lm5hbWU/LnNwbGl0KCcgJylbMF0gfHxcbiAgICAgICAgICAgICcnO1xuICAgICAgICBjb25zdCBsYXN0TmFtZSA9XG4gICAgICAgICAgICBldmVudC5zaGlwcGluZ0FkZHJlc3M/Lm5hbWU/LnNwbGl0KCcgJylbMV0gfHxcbiAgICAgICAgICAgIGV2ZW50LmJpbGxpbmdEZXRhaWxzPy5uYW1lPy5zcGxpdCgnICcpWzFdIHx8XG4gICAgICAgICAgICAnJztcblxuICAgICAgICBpZiAoc2hvdWxkUmVxdWlyZVNoaXBwaW5nQWRkcmVzcykge1xuICAgICAgICAgICAgY29uc3Qgc2hpcHBpbmdBZGRyZXNzID0gdGhpcy5fbWFwU2hpcHBpbmdBZGRyZXNzKFxuICAgICAgICAgICAgICAgIGV2ZW50LnNoaXBwaW5nQWRkcmVzcyxcbiAgICAgICAgICAgICAgICBldmVudC5iaWxsaW5nRGV0YWlscyxcbiAgICAgICAgICAgICAgICBmaXJzdE5hbWUsXG4gICAgICAgICAgICAgICAgbGFzdE5hbWUsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlU2hpcHBpbmdBZGRyZXNzKHNoaXBwaW5nQWRkcmVzcyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBiaWxsaW5nQWRkcmVzcyA9IHRoaXMuX21hcEJpbGxpbmdBZGRyZXNzKFxuICAgICAgICAgICAgZXZlbnQuc2hpcHBpbmdBZGRyZXNzLFxuICAgICAgICAgICAgZXZlbnQuYmlsbGluZ0RldGFpbHMsXG4gICAgICAgICAgICBmaXJzdE5hbWUsXG4gICAgICAgICAgICBsYXN0TmFtZSxcbiAgICAgICAgKTtcblxuICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudXBkYXRlQmlsbGluZ0FkZHJlc3MoYmlsbGluZ0FkZHJlc3MpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX21hcFNoaXBwaW5nQWRkcmVzcyhcbiAgICAgICAgc2hpcHBpbmdBZGRyZXNzOiBTdHJpcGVMaW5rVjJFdmVudFsnc2hpcHBpbmdBZGRyZXNzJ10sXG4gICAgICAgIGJpbGxpbmdEZXRhaWxzOiBTdHJpcGVMaW5rVjJFdmVudFsnYmlsbGluZ0RldGFpbHMnXSxcbiAgICAgICAgZmlyc3ROYW1lOiBzdHJpbmcsXG4gICAgICAgIGxhc3ROYW1lOiBzdHJpbmcsXG4gICAgKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaXJzdE5hbWUsXG4gICAgICAgICAgICBsYXN0TmFtZSxcbiAgICAgICAgICAgIHBob25lOiBiaWxsaW5nRGV0YWlscz8ucGhvbmUgfHwgJycsXG4gICAgICAgICAgICBjb21wYW55OiAnJyxcbiAgICAgICAgICAgIGFkZHJlc3MxOiBzaGlwcGluZ0FkZHJlc3M/LmFkZHJlc3M/LmxpbmUxIHx8ICcnLFxuICAgICAgICAgICAgYWRkcmVzczI6IHNoaXBwaW5nQWRkcmVzcz8uYWRkcmVzcz8ubGluZTIgfHwgJycsXG4gICAgICAgICAgICBjaXR5OiBzaGlwcGluZ0FkZHJlc3M/LmFkZHJlc3M/LmNpdHkgfHwgJycsXG4gICAgICAgICAgICBjb3VudHJ5Q29kZTogc2hpcHBpbmdBZGRyZXNzPy5hZGRyZXNzPy5jb3VudHJ5IHx8ICcnLFxuICAgICAgICAgICAgcG9zdGFsQ29kZTogc2hpcHBpbmdBZGRyZXNzPy5hZGRyZXNzPy5wb3N0YWxfY29kZSB8fCAnJyxcbiAgICAgICAgICAgIHN0YXRlT3JQcm92aW5jZTogc2hpcHBpbmdBZGRyZXNzPy5hZGRyZXNzPy5zdGF0ZSB8fCAnJyxcbiAgICAgICAgICAgIHN0YXRlT3JQcm92aW5jZUNvZGU6IHNoaXBwaW5nQWRkcmVzcz8uYWRkcmVzcz8uc3RhdGUgfHwgJycsXG4gICAgICAgICAgICBjdXN0b21GaWVsZHM6IFtdLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX21hcEJpbGxpbmdBZGRyZXNzKFxuICAgICAgICBzaGlwcGluZ0FkZHJlc3M6IFN0cmlwZUxpbmtWMkV2ZW50WydzaGlwcGluZ0FkZHJlc3MnXSxcbiAgICAgICAgYmlsbGluZ0RldGFpbHM6IFN0cmlwZUxpbmtWMkV2ZW50WydiaWxsaW5nRGV0YWlscyddLFxuICAgICAgICBmaXJzdE5hbWU6IHN0cmluZyxcbiAgICAgICAgbGFzdE5hbWU6IHN0cmluZyxcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVtYWlsOiBiaWxsaW5nRGV0YWlscz8uZW1haWwgfHwgJycsXG4gICAgICAgICAgICBmaXJzdE5hbWUsXG4gICAgICAgICAgICBsYXN0TmFtZSxcbiAgICAgICAgICAgIHBob25lOiBiaWxsaW5nRGV0YWlscz8ucGhvbmUgfHwgJycsXG4gICAgICAgICAgICBjb21wYW55OiAnJyxcbiAgICAgICAgICAgIGFkZHJlc3MxOiBiaWxsaW5nRGV0YWlscz8uYWRkcmVzcz8ubGluZTEgfHwgJycsXG4gICAgICAgICAgICBhZGRyZXNzMjogJycsXG4gICAgICAgICAgICBjaXR5OiBiaWxsaW5nRGV0YWlscz8uYWRkcmVzcz8uY2l0eSB8fCAnJyxcbiAgICAgICAgICAgIGNvdW50cnlDb2RlOiBiaWxsaW5nRGV0YWlscz8uYWRkcmVzcz8uY291bnRyeSB8fCAnJyxcbiAgICAgICAgICAgIHBvc3RhbENvZGU6IGJpbGxpbmdEZXRhaWxzPy5hZGRyZXNzPy5wb3N0YWxfY29kZSB8fCAnJyxcbiAgICAgICAgICAgIHN0YXRlT3JQcm92aW5jZTogYmlsbGluZ0RldGFpbHM/LmFkZHJlc3M/LnN0YXRlIHx8ICcnLFxuICAgICAgICAgICAgc3RhdGVPclByb3ZpbmNlQ29kZTogc2hpcHBpbmdBZGRyZXNzPy5hZGRyZXNzPy5zdGF0ZSB8fCAnJyxcbiAgICAgICAgICAgIGN1c3RvbUZpZWxkczogW10sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfcHJvY2Vzc0FkZGl0aW9uYWxBY3Rpb24oZXJyb3I6IHVua25vd24sIG1ldGhvZElkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWlzUmVxdWVzdEVycm9yKGVycm9yKSB8fFxuICAgICAgICAgICAgIXRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLmlzQWRkaXRpb25hbEFjdGlvbkVycm9yKGVycm9yLmJvZHkuZXJyb3JzKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9zdHJpcGVDbGllbnQgfHwgIXRoaXMuX3N0cmlwZUVsZW1lbnRzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBkYXRhOiBhZGRpdGlvbmFsQWN0aW9uRGF0YSB9ID0gZXJyb3IuYm9keS5hZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZDtcbiAgICAgICAgY29uc3QgeyB0b2tlbiB9ID0gYWRkaXRpb25hbEFjdGlvbkRhdGE7XG5cbiAgICAgICAgY29uc3QgeyBwYXltZW50SW50ZW50IH0gPSBhd2FpdCB0aGlzLl9jb25maXJtU3RyaXBlUGF5bWVudE9yVGhyb3coXG4gICAgICAgICAgICBhZGRpdGlvbmFsQWN0aW9uRGF0YSxcbiAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHBheW1lbnRQYXlsb2FkID0gdGhpcy5fZ2V0UGF5bWVudFBheWxvYWQobWV0aG9kSWQsIHBheW1lbnRJbnRlbnQ/LmlkIHx8IHRva2VuKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fdG9nZ2xlTG9hZGluZ0luZGljYXRvcih0cnVlKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KHBheW1lbnRQYXlsb2FkKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2NvbXBsZXRlQ2hlY2tvdXRGbG93KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmlwZUludGVncmF0aW9uU2VydmljZS50aHJvd1BheW1lbnRDb25maXJtYXRpb25Qcm9jZWVkTWVzc2FnZSgpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5fdG9nZ2xlTG9hZGluZ0luZGljYXRvcihmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9jb25maXJtU3RyaXBlUGF5bWVudE9yVGhyb3coXG4gICAgICAgIGFkZGl0aW9uYWxBY3Rpb25EYXRhOiBTdHJpcGVBZGRpdGlvbmFsQWN0aW9uUmVxdWlyZWRbJ2RhdGEnXSxcbiAgICAgICAgbWV0aG9kSWQ6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPFN0cmlwZVJlc3VsdCB8IG5ldmVyPiB7XG4gICAgICAgIGNvbnN0IHsgdG9rZW4sIHJlZGlyZWN0X3VybCB9ID0gYWRkaXRpb25hbEFjdGlvbkRhdGE7XG4gICAgICAgIGNvbnN0IHN0cmlwZVBheW1lbnREYXRhID0gdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UubWFwU3RyaXBlUGF5bWVudERhdGEoXG4gICAgICAgICAgICB0aGlzLl9zdHJpcGVFbGVtZW50cyxcbiAgICAgICAgICAgIHJlZGlyZWN0X3VybCxcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IHN0cmlwZUVycm9yOiBTdHJpcGVFcnJvciB8IHVuZGVmaW5lZDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaXNQYXltZW50Q29tcGxldGVkID0gYXdhaXQgdGhpcy5zdHJpcGVJbnRlZ3JhdGlvblNlcnZpY2UuaXNQYXltZW50Q29tcGxldGVkKFxuICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgIHRoaXMuX3N0cmlwZUNsaWVudCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1hdGlvblJlc3VsdCA9ICFpc1BheW1lbnRDb21wbGV0ZWRcbiAgICAgICAgICAgICAgICA/IGF3YWl0IHRoaXMuX3N0cmlwZUNsaWVudD8uY29uZmlybVBheW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzOiBzdHJpcGVQYXltZW50RGF0YS5lbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICBjbGllbnRTZWNyZXQ6IHRva2VuLFxuICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0OiBTdHJpcGVTdHJpbmdDb25zdGFudHMuSUZfUkVRVUlSRUQsXG4gICAgICAgICAgICAgICAgICAgICAgY29uZmlybVBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5fdXJsOiBzdHJpcGVQYXltZW50RGF0YS5jb25maXJtUGFyYW1zPy5yZXR1cm5fdXJsLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIDogYXdhaXQgdGhpcy5fc3RyaXBlQ2xpZW50Py5yZXRyaWV2ZVBheW1lbnRJbnRlbnQodG9rZW4gfHwgJycpO1xuXG4gICAgICAgICAgICBzdHJpcGVFcnJvciA9IGNvbmZpcm1hdGlvblJlc3VsdD8uZXJyb3I7XG5cbiAgICAgICAgICAgIGlmIChzdHJpcGVFcnJvciB8fCAhY29uZmlybWF0aW9uUmVzdWx0Py5wYXltZW50SW50ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RGYWlsZWRFcnJvcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29uZmlybWF0aW9uUmVzdWx0O1xuICAgICAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLnRocm93U3RyaXBlRXJyb3Ioc3RyaXBlRXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfY29tcGxldGVDaGVja291dEZsb3coKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fb25Db21wbGV0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29uQ29tcGxldGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCcvb3JkZXItY29uZmlybWF0aW9uJyk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldFBheW1lbnRQYXlsb2FkKG1ldGhvZElkOiBzdHJpbmcsIHRva2VuPzogc3RyaW5nKTogUGF5bWVudCB7XG4gICAgICAgIGNvbnN0IGNhcnRJZCA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldENhcnQoKT8uaWQgfHwgJyc7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZFBheWxvYWQgPSB7XG4gICAgICAgICAgICBjYXJ0X2lkOiBjYXJ0SWQsXG4gICAgICAgICAgICAuLi4odG9rZW4gPyB7IGNyZWRpdF9jYXJkX3Rva2VuOiB7IHRva2VuIH0gfSA6IHt9KSxcbiAgICAgICAgICAgIGNvbmZpcm06IGZhbHNlLFxuICAgICAgICAgICAgcGF5bWVudF9tZXRob2RfaWQ6IFN0cmlwZVBheW1lbnRNZXRob2RUeXBlLkxpbmssXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgcGF5bWVudERhdGE6IHtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKiogVXRpbHMgKiAqL1xuXG4gICAgcHJpdmF0ZSBfc2hvdWxkUmVxdWlyZVNoaXBwaW5nQWRkcmVzcygpIHtcbiAgICAgICAgY29uc3QgeyBnZXRDYXJ0T3JUaHJvdyB9ID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHsgbGluZUl0ZW1zIH0gPSBnZXRDYXJ0T3JUaHJvdygpO1xuXG4gICAgICAgIHJldHVybiAhIWxpbmVJdGVtcy5waHlzaWNhbEl0ZW1zLmxlbmd0aDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF91cGRhdGVEaXNwbGF5ZWRQcmljZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0cmlwZUVsZW1lbnRzKSB7XG4gICAgICAgICAgICB0aGlzLl9zdHJpcGVFbGVtZW50cy51cGRhdGUoe1xuICAgICAgICAgICAgICAgIGN1cnJlbmN5OiB0aGlzLl9nZXRDdXJyZW5jeSgpLFxuICAgICAgICAgICAgICAgIG1vZGU6ICdwYXltZW50JyxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IGF3YWl0IHRoaXMuX2dldFRvdGFsUHJpY2UoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0Q3VycmVuY3koKSB7XG4gICAgICAgIGlmICghdGhpcy5fY3VycmVuY3lDb2RlKSB7XG4gICAgICAgICAgICBjb25zdCB7IGNvZGU6IGN1cnJlbmN5Q29kZSB9ID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlXG4gICAgICAgICAgICAgICAgLmdldFN0YXRlKClcbiAgICAgICAgICAgICAgICAuZ2V0Q2FydE9yVGhyb3coKS5jdXJyZW5jeTtcblxuICAgICAgICAgICAgdGhpcy5fY3VycmVuY3lDb2RlID0gY3VycmVuY3lDb2RlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVuY3lDb2RlO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2dldFRvdGFsUHJpY2UoKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRDaGVja291dCgpO1xuXG4gICAgICAgIGNvbnN0IHsgZ2V0Q2hlY2tvdXRPclRocm93LCBnZXRDYXJ0T3JUaHJvdyB9ID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHsgZGVjaW1hbFBsYWNlcyB9ID0gZ2V0Q2FydE9yVGhyb3coKS5jdXJyZW5jeTtcbiAgICAgICAgY29uc3QgdG90YWxQcmljZSA9IHJvdW5kKGdldENoZWNrb3V0T3JUaHJvdygpLm91dHN0YW5kaW5nQmFsYW5jZSwgZGVjaW1hbFBsYWNlcykudG9GaXhlZChcbiAgICAgICAgICAgIGRlY2ltYWxQbGFjZXMsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvQ2VudHMoK3RvdGFsUHJpY2UpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2dldEF2YWlsYWJsZUNvdW50cmllcygpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgICAgIGNvbnN0IGNvdW50cmllcyA9IGF3YWl0IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkU2hpcHBpbmdDb3VudHJpZXMoKTtcbiAgICAgICAgY29uc3QgZGVsaXZlcmFibGVDb3VudHJpZXMgPVxuICAgICAgICAgICAgY291bnRyaWVzLmdldFNoaXBwaW5nQ291bnRyaWVzKCk/Lm1hcCgoY291bnRyeSkgPT4gY291bnRyeS5jb2RlKSB8fCBbXTtcblxuICAgICAgICByZXR1cm4gZGVsaXZlcmFibGVDb3VudHJpZXMuZmlsdGVyKChjb2RlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZXhwcmVzc0NoZWNrb3V0QWxsb3dlZENvdW50cnlDb2Rlcy5pbmNsdWRlcyhjb2RlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfZ2V0QXZhaWxhYmxlU2hpcHBpbmdPcHRpb25zKCk6IFByb21pc2U8U3RyaXBlTGlua1YyU2hpcHBpbmdSYXRlW10gfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgY29uc2lnbm1lbnRzID0gc3RhdGUuZ2V0Q29uc2lnbm1lbnRzKCk7XG5cbiAgICAgICAgaWYgKCFjb25zaWdubWVudHM/LlswXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29uc2lnbm1lbnQgPSBjb25zaWdubWVudHNbMF07XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSAoY29uc2lnbm1lbnQuYXZhaWxhYmxlU2hpcHBpbmdPcHRpb25zIHx8IFtdKS5tYXAoXG4gICAgICAgICAgICB0aGlzLl9nZXRTdHJpcGVTaGlwcGluZ09wdGlvbi5iaW5kKHRoaXMpLFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkSWQgPSBjb25zaWdubWVudC5zZWxlY3RlZFNoaXBwaW5nT3B0aW9uPy5pZDtcblxuICAgICAgICBpZiAoIXNlbGVjdGVkSWQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2hhbmRsZVNoaXBwaW5nT3B0aW9uQ2hhbmdlKG9wdGlvbnNbMF0/LmlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNldCBzZWxlY3RlZCBzaGlwcGluZyBvcHRpb24gZmlyc3QgaW4gdGhlIGFycmF5LCBhcyBpdCB3aWxsIGJlIHNlbGVjdGVkIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgIG9wdGlvbnMuc29ydCgob3B0aW9uKSA9PiAob3B0aW9uLmlkID09PSBzZWxlY3RlZElkID8gLTEgOiAwKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRTdHJpcGVTaGlwcGluZ09wdGlvbih7IGlkLCBjb3N0LCBkZXNjcmlwdGlvbiB9OiBTaGlwcGluZ09wdGlvbikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBhbW91bnQ6IHRoaXMuX3RvQ2VudHMoY29zdCksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfaGFuZGxlU2hpcHBpbmdPcHRpb25DaGFuZ2Uob3B0aW9uSWQ/OiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCFvcHRpb25JZCB8fCBvcHRpb25JZCA9PT0gJ3NoaXBwaW5nX29wdGlvbl91bnNlbGVjdGVkJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zZWxlY3RTaGlwcGluZ09wdGlvbihvcHRpb25JZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0QW1vdW50VHJhbnNmb3JtZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl9hbW91bnRUcmFuc2Zvcm1lcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ftb3VudFRyYW5zZm9ybWVyO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBnZXRDYXJ0IH0gPSB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgeyBjdXJyZW5jeSB9ID0gZ2V0Q2FydCgpIHx8IHt9O1xuXG4gICAgICAgIGlmIChjdXJyZW5jeSkge1xuICAgICAgICAgICAgY29uc3QgYW1vdW50VHJhbnNmb3JtZXIgPSBuZXcgQW1vdW50VHJhbnNmb3JtZXIoY3VycmVuY3kuZGVjaW1hbFBsYWNlcyk7XG5cbiAgICAgICAgICAgIHJldHVybiBhbW91bnRUcmFuc2Zvcm1lcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX3RvQ2VudHMoYW1vdW50OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgZmFsbGJhY2tWYWx1ZSA9IE1hdGgucm91bmQoYW1vdW50ICogMTAwKTtcbiAgICAgICAgY29uc3QgYW1vdW50VHJhbnNmb3JtZXIgPSB0aGlzLl9nZXRBbW91bnRUcmFuc2Zvcm1lcigpO1xuXG4gICAgICAgIGlmIChhbW91bnRUcmFuc2Zvcm1lcikge1xuICAgICAgICAgICAgcmV0dXJuIGFtb3VudFRyYW5zZm9ybWVyLnRvSW50ZWdlcihhbW91bnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrVmFsdWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfdG9nZ2xlTG9hZGluZ0luZGljYXRvcihpc0xvYWRpbmc6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgaWYgKGlzTG9hZGluZyAmJiB0aGlzLl9sb2FkaW5nSW5kaWNhdG9yQ29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRpbmdJbmRpY2F0b3Iuc2hvdyh0aGlzLl9sb2FkaW5nSW5kaWNhdG9yQ29udGFpbmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9hZGluZ0luZGljYXRvci5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBnZXRTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7XG4gICAgQ3VzdG9tZXJTdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7XG4gICAgU3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFN0cmlwZVNjcmlwdExvYWRlcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9zdHJpcGUtdXRpbHMnO1xuaW1wb3J0IHsgREVGQVVMVF9DT05UQUlORVJfU1RZTEVTLCBMb2FkaW5nSW5kaWNhdG9yIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay91aSc7XG5cbmltcG9ydCBTdHJpcGVMaW5rVjJDdXN0b21lclN0cmF0ZWd5IGZyb20gJy4vc3RyaXBlLWxpbmstdjItY3VzdG9tZXItc3RyYXRlZ3knO1xuXG5jb25zdCBjcmVhdGVTdHJpcGVMaW5rVjJDdXN0b21lclN0cmF0ZWd5OiBDdXN0b21lclN0cmF0ZWd5RmFjdG9yeTxTdHJpcGVMaW5rVjJDdXN0b21lclN0cmF0ZWd5PiA9IChcbiAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuKSA9PiB7XG4gICAgY29uc3Qgc3RyaXBlU2NyaXB0TG9hZGVyID0gbmV3IFN0cmlwZVNjcmlwdExvYWRlcihnZXRTY3JpcHRMb2FkZXIoKSk7XG4gICAgY29uc3QgbG9hZGluZ0luZGljYXRvciA9IG5ldyBMb2FkaW5nSW5kaWNhdG9yKHtcbiAgICAgICAgY29udGFpbmVyU3R5bGVzOiBERUZBVUxUX0NPTlRBSU5FUl9TVFlMRVMsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbmV3IFN0cmlwZUxpbmtWMkN1c3RvbWVyU3RyYXRlZ3koXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHN0cmlwZVNjcmlwdExvYWRlcixcbiAgICAgICAgbmV3IFN0cmlwZUludGVncmF0aW9uU2VydmljZShwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLCBzdHJpcGVTY3JpcHRMb2FkZXIpLFxuICAgICAgICBsb2FkaW5nSW5kaWNhdG9yLFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlU3RyaXBlTGlua1YyQ3VzdG9tZXJTdHJhdGVneSwgW3sgaWQ6ICdzdHJpcGVvY3MnIH1dKTtcbiJdLCJuYW1lcyI6WyJNaXNzaW5nRGF0YUVycm9yVHlwZSIsIk5vdEluaXRpYWxpemVkRXJyb3JUeXBlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInRvUmVzb2x2YWJsZU1vZHVsZSIsIm1vZHVsZSIsInJlc29sdmVJZHMiLCJjb25zb2xlIiwibG9nIiwiT2JqZWN0IiwiYXNzaWduIiwiZCIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTdGFuZGFyZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJzdXBlciIsIm5hbWUiLCJ0eXBlIiwic2V0UHJvdG90eXBlT2YiLCJ0aGlzIiwiX19wcm90b19fIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJzdGFjayIsIkludmFsaWRBcmd1bWVudEVycm9yIiwiUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yIiwiaW52YWxpZEZpZWxkcyIsImpvaW4iLCJpc0hvc3RlZEluc3RydW1lbnRMaWtlIiwiaW5zdHJ1bWVudCIsInNob3VsZFNhdmVJbnN0cnVtZW50Iiwic2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCIsImlzVmF1bHRlZEluc3RydW1lbnQiLCJCb29sZWFuIiwiaW5zdHJ1bWVudElkIiwiTWlzc2luZ0RhdGFFcnJvciIsInN1YnR5cGUiLCJNaXNzaW5nQmlsbGluZ0FkZHJlc3MiLCJNaXNzaW5nQ2FydCIsIk1pc3NpbmdDb25zaWdubWVudHMiLCJNaXNzaW5nQ2hlY2tvdXQiLCJNaXNzaW5nQ3VzdG9tZXIiLCJNaXNzaW5nQ2hlY2tvdXRDb25maWciLCJNaXNzaW5nT3JkZXJDb25maWciLCJNaXNzaW5nT3JkZXIiLCJNaXNzaW5nT3JkZXJJZCIsIk1pc3NpbmdQYXltZW50IiwiTWlzc2luZ1BheW1lbnRUb2tlbiIsIk1pc3NpbmdQYXltZW50TWV0aG9kIiwiTWlzc2luZ1NoaXBwaW5nQWRkcmVzcyIsImdldEVycm9yTWVzc2FnZSIsIk9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvciIsIk5vdEluaXRpYWxpemVkRXJyb3IiLCJDdXN0b21lck5vdEluaXRpYWxpemVkIiwiUGF5bWVudE5vdEluaXRpYWxpemVkIiwiU2hpcHBpbmdOb3RJbml0aWFsaXplZCIsIlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQiLCJlcnJvciIsIlBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvciIsImlzSW5kaXZpZHVhbENhcmRFbGVtZW50T3B0aW9ucyIsImluZGl2aWR1YWxDYXJkRWxlbWVudE9wdGlvbnMiLCJjYXJkTnVtYmVyRWxlbWVudE9wdGlvbnMiLCJjYXJkQ3ZjRWxlbWVudE9wdGlvbnMiLCJjYXJkRXhwaXJ5RWxlbWVudE9wdGlvbnMiLCJJY29uU3R5bGUiLCJTdHJpcGVFbGVtZW50VHlwZSIsIlN0cmlwZVBheW1lbnRNZXRob2RUeXBlIiwiU3RyaXBlVjNFcnJvclR5cGUiLCJTdHJpcGVWM0Vycm9yIiwiQXV0aEZhaWx1cmUiLCJBUE1fUkVESVJFQ1QiLCJBbGlwYXkiLCJJREVBTCIsIlN0cmlwZVYzUGF5bWVudFN0cmF0ZWd5IiwicGF5bWVudEludGVncmF0aW9uU2VydmljZSIsInNjcmlwdExvYWRlciIsImluaXRpYWxpemUiLCJvcHRpb25zIiwic3RyaXBldjMiLCJtZXRob2RJZCIsImdhdGV3YXlJZCIsImluaXRpYWxpemVPcHRpb25zIiwiaXNEZWluaXRpYWxpemUiLCJwYXltZW50TWV0aG9kIiwiZ2V0U3RhdGUiLCJnZXRQYXltZW50TWV0aG9kT3JUaHJvdyIsImluaXRpYWxpemF0aW9uRGF0YSIsInN0cmlwZVB1Ymxpc2hhYmxlS2V5Iiwic3RyaXBlQ29ubmVjdGVkQWNjb3VudCIsInVzZUluZGl2aWR1YWxDYXJkRmllbGRzIiwiYWxsb3dSZWRpc3BsYXlGb3JTdG9yZWRJbnN0cnVtZW50cyIsIl9hbGxvd1JlZGlzcGxheUZvclN0b3JlZEluc3RydW1lbnRzIiwiZm9ybSIsImdldEluaXRpYWxpemVPcHRpb25zIiwic3RyaXBlVjNDbGllbnQiLCJsb2FkU3RyaXBlSnMiLCJpc0NyZWRpdENhcmQiLCJzaG91bGRTaG93VFNWSG9zdGVkRm9ybSIsImhvc3RlZEZvcm0iLCJtb3VudENhcmRWZXJpZmljYXRpb25GaWVsZHMiLCJzdHJpcGVFbGVtZW50IiwibW91bnRDYXJkRmllbGRzIiwiZXhlY3V0ZSIsIm9yZGVyUmVxdWVzdCIsInBheW1lbnQiLCJvcmRlciIsImZvcm1hdHRlZFBheWxvYWQiLCJzdHJpcGVFcnJvciIsInBheW1lbnREYXRhIiwic2hvdWxkU3VibWl0T3JkZXJCZWZvcmVMb2FkaW5nQVBNIiwiaW5jbHVkZXMiLCJpc1N0b3JlQ3JlZGl0QXBwbGllZCIsInVzZVN0b3JlQ3JlZGl0IiwiZ2V0Q2hlY2tvdXRPclRocm93IiwiYXBwbHlTdG9yZUNyZWRpdCIsInN1Ym1pdE9yZGVyIiwibG9hZFBheW1lbnRNZXRob2QiLCJwYXJhbXMiLCJtZXRob2QiLCJzdGF0ZSIsImNsaWVudFRva2VuIiwiZXhlY3V0ZVdpdGhWYXVsdGVkIiwicmVzdWx0IiwiY29uZmlybVN0cmlwZVBheW1lbnQiLCJpZCIsInRva2VuIiwicGF5bWVudEludGVudCIsImNyZWRpdF9jYXJkX3Rva2VuIiwidmF1bHRfcGF5bWVudF9pbnN0cnVtZW50IiwiY29uZmlybSIsInNldF9hc19kZWZhdWx0X3N0b3JlZF9pbnN0cnVtZW50IiwiQ3JlZGl0Q2FyZCIsImNsaWVudF90b2tlbiIsInBheW1lbnRQYXlsb2FkIiwiYnVpbGRQYXltZW50UGF5bG9hZCIsInN1Ym1pdFBheW1lbnQiLCJwcm9jZXNzQWRkaXRpb25hbEFjdGlvbiIsImhhbmRsZUVtcHR5UGF5bWVudEludGVudEVycm9yIiwiZmluYWxpemUiLCJQcm9taXNlIiwicmVqZWN0IiwiZGVpbml0aWFsaXplIiwiZGV0YWNoIiwidW5tb3VudEVsZW1lbnQiLCJyZXNvbHZlIiwiaXNDYW5jZWxsYXRpb25FcnJvciIsInBheW1lbnRfaW50ZW50IiwibGFzdF9wYXltZW50X2Vycm9yIiwiaW5kZXhPZiIsImlzQXV0aEVycm9yIiwiY29kZSIsImlzSG9zdGVkRmllbGRBdmFpbGFibGUiLCJkZWZpbmVkRmllbGRzIiwib21pdEJ5IiwiZmllbGRzIiwiaXNFbXB0eSIsImlzSG9zdGVkUGF5bWVudEZvcm1FbmFibGVkIiwiY29uZmlnIiwiaXNIb3N0ZWRGb3JtRW5hYmxlZCIsImNsaWVudFNlY3JldCIsInJldHVyblVybCIsImdldFN0cmlwZUpzIiwiY29uZmlybUFsaXBheVBheW1lbnQiLCJyZXR1cm5fdXJsIiwiaGFuZGxlQWN0aW9ucyIsImRhdGEiLCJtYXBTdHJpcGVQYXltZW50RGF0YSIsImNvbmZpcm1JZGVhbFBheW1lbnQiLCJTZXBhIiwiY29uZmlybVNlcGFEZWJpdFBheW1lbnQiLCJjYXJkIiwiZ2V0U3RyaXBlQ2FyZEVsZW1lbnRzIiwiZ2V0U3RyaXBlRWxlbWVudCIsImJpbGxpbmdEZXRhaWxzIiwibWFwU3RyaXBlQmlsbGluZ0RldGFpbHMiLCJnZXRCaWxsaW5nQWRkcmVzcyIsImdldEN1c3RvbWVyIiwic2hvdWxkQWxsb3dSZWRpc3BsYXkiLCJjcmVhdGVQYXltZW50TWV0aG9kIiwiYmlsbGluZ19kZXRhaWxzIiwiYWxsb3dfcmVkaXNwbGF5IiwiYmlncGF5X3Rva2VuIiwiSlNPTiIsInN0cmluZ2lmeSIsInZhbGlkYXRlIiwic3VibWl0IiwibG9hZEN1cnJlbnRPcmRlciIsInN0cmlwZUNhcmRFbGVtZW50cyIsInNvbWUiLCJib2R5IiwiZXJyb3JzIiwibG9hZCIsImdldExvY2FsZSIsIm1hcFN0cmlwZUFkZHJlc3MiLCJhZGRyZXNzIiwiY2l0eSIsImNvdW50cnlDb2RlIiwiY291bnRyeSIsImFkZHJlc3MxIiwibGluZTEiLCJhZGRyZXNzMiIsImxpbmUyIiwicG9zdGFsQ29kZSIsInN0YXRlT3JQcm92aW5jZUNvZGUiLCJwb3N0YWxfY29kZSIsImJpbGxpbmdBZGRyZXNzIiwiY3VzdG9tZXIiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInRyaW0iLCJ6aXBDb2RlRWxlbWVudE9wdGlvbnMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY29udGFpbmVySWQiLCJ2YWx1ZSIsImFkZHJlc3NlcyIsImlzQmlsbGluZ0FkZHJlc3NMaWtlIiwiY3VzdG9tZXJBZGRyZXNzIiwiZW1haWwiLCJwaG9uZSIsInN0cmlwZVBheW1lbnRNZXRob2RUeXBlIiwicGF5bWVudF9tZXRob2QiLCJzdHJpcGVFbGVtZW50cyIsImVsZW1lbnRzIiwiY2FyZE51bWJlckVsZW1lbnQiLCJnZXRFbGVtZW50IiwiQ2FyZE51bWJlciIsImNyZWF0ZSIsImNhcmRFeHBpcnlFbGVtZW50IiwiQ2FyZEV4cGlyeSIsImNhcmRDdmNFbGVtZW50IiwiQ2FyZEN2YyIsIm1vdW50IiwiZm9ybU9wdGlvbnMiLCJzdG9yZUNvbmZpZyIsImdldFN0b3JlQ29uZmlnIiwiYmlncGF5QmFzZVVybCIsInBheW1lbnRTZXR0aW5ncyIsImNyZWF0ZUhvc3RlZEZvcm0iLCJhdHRhY2giLCJpc0FkZGl0aW9uYWxBY3Rpb25FcnJvciIsImlzVGhyZWVEU2VjdXJlUmVxdWlyZWRFcnJvciIsImFjdGlvbiIsImFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkIiwicmVkaXJlY3RfdXJsIiwid2luZG93IiwibG9jYXRpb24iLCJyZXBsYWNlIiwidGhyZWVfZHNfcmVzdWx0IiwibmVlZHNDb25maXJtIiwiY2F0Y2hlZENvbmZpcm1FcnJvciIsImNvbmZpcm1DYXJkUGF5bWVudCIsImdldFBheW1lbnRUb2tlbiIsInVubW91bnQiLCJ1bmRlZmluZWQiLCJQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvciIsIlN0cmlwZVYzU2NyaXB0TG9hZGVyIiwic3RyaXBlV2luZG93Iiwic3RyaXBlQWNjb3VudCIsImxvY2FsZSIsImxvYWRTY3JpcHQiLCJ0aGVuIiwiU3RyaXBlIiwiYmV0YXMiLCJhcGlWZXJzaW9uIiwiZ2V0U2NyaXB0TG9hZGVyIiwiZ2F0ZXdheSIsIlN0cmlwZUZvcm1Nb2RlIiwiU3RyaXBlRGlzcGxheU5hbWUiLCJTdHJpcGVTdHJpbmdDb25zdGFudHMiLCJTdHJpcGVQYXltZW50SW50ZW50U3RhdHVzIiwiU3RyaXBlRWxlbWVudEV2ZW50IiwiU3RyaXBlSW5zdHJ1bWVudFNldHVwRnV0dXJlVXNhZ2UiLCJTdHJpcGVTY3JpcHRMb2FkZXIiLCJnZXRTdHJpcGVDbGllbnQiLCJiY1N0cmlwZUNsaWVudCIsInN0cmlwZSIsInN0cmlwZUNsaWVudCIsImdldEVsZW1lbnRzIiwiYmNTdHJpcGVFbGVtZW50cyIsInVwZGF0ZVN0cmlwZUVsZW1lbnRzIiwidXBkYXRlIiwiZmV0Y2hVcGRhdGVzIiwiUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yIiwiU3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlIiwiaXNNb3VudGVkIiwiY2hlY2tvdXRFdmVudHNVbnN1YnNjcmliZSIsImluaXRDaGVja291dEV2ZW50c1N1YnNjcmlwdGlvbiIsInN0cmlwZUluaXRpYWxpemF0aW9uT3B0aW9ucyIsInN1YnNjcmliZSIsInBheW1lbnRFbGVtZW50IiwiUEFZTUVOVCIsInVwZGF0ZVN0cmlwZVBheW1lbnRJbnRlbnQiLCJvbkVycm9yIiwibW91bnRFbGVtZW50IiwiZ2V0Q2hlY2tvdXQiLCJvdXRzdGFuZGluZ0JhbGFuY2UiLCJjb3Vwb25zIiwibWFwQXBwZWFyYW5jZVZhcmlhYmxlcyIsInN0eWxlcyIsImNvbG9yUHJpbWFyeSIsImZpZWxkSW5uZXJTaGFkb3ciLCJjb2xvckJhY2tncm91bmQiLCJmaWVsZEJhY2tncm91bmQiLCJjb2xvclRleHQiLCJsYWJlbFRleHQiLCJjb2xvckRhbmdlciIsImZpZWxkRXJyb3JUZXh0IiwiY29sb3JUZXh0U2Vjb25kYXJ5IiwiY29sb3JUZXh0UGxhY2Vob2xkZXIiLCJmaWVsZFBsYWNlaG9sZGVyVGV4dCIsImNvbG9ySWNvbiIsIm1hcElucHV0QXBwZWFyYW5jZVJ1bGVzIiwiYm9yZGVyQ29sb3IiLCJmaWVsZEJvcmRlciIsImNvbG9yIiwiZmllbGRUZXh0IiwiYm94U2hhZG93IiwidGhyb3dTdHJpcGVFcnJvciIsInRocm93RGlzcGxheWFibGVTdHJpcGVFcnJvciIsImVycm9yTWVzc2FnZSIsInRocm93UGF5bWVudENvbmZpcm1hdGlvblByb2NlZWRNZXNzYWdlIiwiaXNQYXltZW50Q29tcGxldGVkIiwic3RyaXBlVVBFQ2xpZW50IiwiZmVhdHVyZXMiLCJnZXRTdG9yZUNvbmZpZ09yVGhyb3ciLCJjaGVja291dFNldHRpbmdzIiwicmV0cmlldmVQYXltZW50SW50ZW50Iiwic3RhdHVzIiwiU1VDQ0VFREVEIiwiX21hcFN0cmlwZUFkZHJlc3MiLCJyZWRpcmVjdCIsIklGX1JFUVVJUkVEIiwiY29uZmlybVBhcmFtcyIsInBheW1lbnRfbWV0aG9kX2RhdGEiLCJpc1JlZGlyZWN0QWN0aW9uIiwiYWRkaXRpb25hbEFjdGlvbiIsImlzT25QYWdlQWRkaXRpb25hbEFjdGlvbiIsIkRFRkFVTFRfUkVTUE9OU0UiLCJoZWFkZXJzIiwiUmVxdWVzdEVycm9yIiwicmVzcG9uc2UiLCJpc1N0cmlwZVBheW1lbnRNZXRob2RMaWtlIiwic2hvcHBlckxhbmd1YWdlIiwic3VwcG9ydGVkTG9jYWxlcyIsImFyIiwiYmciLCJjcyIsImRhIiwiZGUiLCJlbCIsImVuIiwiZXMiLCJldCIsImZpIiwiZmlsIiwiZnIiLCJoZSIsImhyIiwiaHUiLCJpdCIsImphIiwia28iLCJsdCIsImx2IiwibXMiLCJtdCIsIm5iIiwibmwiLCJwbCIsInB0Iiwicm8iLCJydSIsInNrIiwic2wiLCJzdiIsInRoIiwidHIiLCJ2aSIsInpoIiwiZm9ybWF0TG9jYWxlIiwibG9jYWxlTGFuZ3VhZ2UiLCJsYW5ndWFnZSIsInRvTG93ZXJDYXNlIiwic3BsaXQiLCJjb3VudHJ5TG9jYWxlcyIsImZvcm1hdHRlZExvY2FsZSIsInRvVXBwZXJDYXNlIiwiU1RSSVBFX1VQRV9DTElFTlRfQkVUQVMiLCJTVFJJUEVfVVBFX0NMSUVOVF9BUElfVkVSU0lPTiIsImlzU3RyaXBlQWNjZWxlcmF0ZWRDaGVja291dEN1c3RvbWVyIiwiU3RyaXBlVVBFUGF5bWVudFN0cmF0ZWd5Iiwic3RyaXBlSW50ZWdyYXRpb25TZXJ2aWNlIiwic3RyaXBldXBlIiwiX2xvYWRTdHJpcGVFbGVtZW50IiwiY2F0Y2giLCJfc3RyaXBlRWxlbWVudHMiLCJfc3RyaXBlVVBFQ2xpZW50IiwicGF5bWVudFByb3ZpZGVyQ3VzdG9tZXIiLCJnZXRQYXltZW50UHJvdmlkZXJDdXN0b21lck9yVGhyb3ciLCJzdHJpcGVMaW5rQXV0aGVudGljYXRpb25TdGF0ZSIsImdldEN1c3RvbWVyT3JUaHJvdyIsImdldEJpbGxpbmdBZGRyZXNzT3JUaHJvdyIsInVwZGF0ZUJpbGxpbmdBZGRyZXNzIiwiX2V4ZWN1dGVXaXRoVmF1bHRlZCIsIl9leGVjdXRlV2l0aFN0cmlwZUNvbmZpcm1hdGlvbiIsIl9nZXRQYXltZW50UGF5bG9hZCIsIl9wcm9jZXNzQWRkaXRpb25hbEFjdGlvbldpdGhTdHJpcGVDb25maXJtYXRpb24iLCJjYXJ0SWQiLCJnZXRDYXJ0IiwiY2FydF9pZCIsIl9wcm9jZXNzVmF1bHRlZEFkZGl0aW9uYWxBY3Rpb24iLCJzdHlsZSIsInJlbmRlciIsImluaXRTdHJpcGVFbGVtZW50VXBkYXRlVHJpZ2dlciIsImFwcGVhcmFuY2UiLCJfbG9hZFN0cmlwZUpzIiwiX2lzU3RyaXBlRWxlbWVudFVwZGF0ZUVuYWJsZWQiLCJ2YXJpYWJsZXMiLCJydWxlcyIsImdldFNoaXBwaW5nQWRkcmVzcyIsIk5FVkVSIiwiQVVUTyIsIndhbGxldHMiLCJhcHBsZVBheSIsImdvb2dsZVBheSIsIl9nZXRTdHJpcGVFbGVtZW50VGVybXMiLCJvbiIsIlJFQURZIiwiQ0hBTkdFIiwiZXZlbnQiLCJfdXBkYXRlU3RyaXBlTGlua1N0YXRlQnlFbGVtZW50VHlwZSIsIl91cGRhdGVTdHJpcGVFbGVtZW50IiwiYmluZCIsImFkZGl0aW9uYWxBY3Rpb25EYXRhIiwiX2NvbmZpcm1TdHJpcGVQYXltZW50T3JUaHJvdyIsInN0cmlwZVBheW1lbnREYXRhIiwiY29uZmlybWF0aW9uUmVzdWx0IiwiY29uZmlybVBheW1lbnQiLCJzaG91bGRTaG93VGVybXMiLCJ0ZXJtcyIsInBheW1lbnRFbGVtZW50VHlwZSIsImlzU3RyaXBlTGlua0VsZW1lbnRUeXBlIiwiTGluayIsInVwZGF0ZVBheW1lbnRQcm92aWRlckN1c3RvbWVyIiwic3RyaXBlU2NyaXB0TG9hZGVyIiwiU3RyaXBlT0NTUGF5bWVudFN0cmF0ZWd5Iiwic3RyaXBlb2NzIiwiX2luaXRpYWxpemVTdHJpcGVFbGVtZW50IiwiX3Byb2Nlc3NBZGRpdGlvbmFsQWN0aW9uIiwiZGVzdHJveSIsImN1c3RvbWVyU2Vzc2lvblRva2VuIiwiZW5hYmxlTGluayIsImZvbnRzIiwibGF5b3V0IiwicGF5bWVudE1ldGhvZFNlbGVjdCIsImhhbmRsZUNsb3NlUGF5bWVudE1ldGhvZCIsInRvZ2dsZVByZWxvYWRlciIsImN1c3RvbWVyU2Vzc2lvbkNsaWVudFNlY3JldCIsImxpbmsiLCJzYXZlUGF5bWVudE1ldGhvZCIsIm1heFZpc2libGVQYXltZW50TWV0aG9kcyIsImRlZmF1bHRWYWx1ZXMiLCJMT0FERVJfU1RBUlQiLCJfb25TdHJpcGVFbGVtZW50Q2hhbmdlIiwiX2NvbGxhcHNlU3RyaXBlRWxlbWVudCIsImNvbGxhcHNlIiwicGF5bWVudE1ldGhvZE9wdGlvbnMiLCJ1c19iYW5rX2FjY291bnQiLCJfc2hvdWxkU2F2ZUluc3RydW1lbnQiLCJ0b2tlbml6ZWRPcHRpb25zIiwiX2dldFRva2VuaXplZE9wdGlvbnMiLCJzZWxlY3RlZE1ldGhvZElkIiwiY2xpZW50X3NlY3JldCIsInBheW1lbnRJbnRlbnRDbGllbnRTZWNyZXQiLCJwYXltZW50X21ldGhvZF9vcHRpb25zIiwiaXNTdHJpcGVQYXltZW50RXZlbnQiLCJjb2xsYXBzZWQiLCJzZXR1cEZ1dHVyZVVzYWdlIiwic2V0dXBfZnV0dXJlX3VzYWdlIiwiT05fU0VTU0lPTiIsIk9GRl9TRVNTSU9OIiwidG9rZW5pemVkX2FjaCIsIlN0cmlwZVVQRUN1c3RvbWVyU3RyYXRlZ3kiLCJjb250YWluZXIiLCJvbkVtYWlsQ2hhbmdlIiwiZ2V0U3R5bGVzIiwiaXNMb2FkaW5nIiwiZW50cmllcyIsImZvckVhY2giLCJnZXRDb25zaWdubWVudHMiLCJjb25zaWdubWVudHMiLCJiaWxsaW5nRW1haWwiLCJtb2RlIiwiU0hJUFBJTkciLCJsaW5rQXV0aGVudGljYXRpb25FbGVtZW50IiwiQVVUSEVOVElDQVRJT04iLCJhdXRoZW50aWNhdGVkIiwiY29tcGxldGUiLCJkZWxldGVDb25zaWdubWVudCIsInNpZ25JbiIsImNyZWRlbnRpYWxzIiwic2lnbkluQ3VzdG9tZXIiLCJzaWduT3V0Iiwic2lnbk91dEN1c3RvbWVyIiwiZXhlY3V0ZVBheW1lbnRNZXRob2RDaGVja291dCIsImNvbnRpbnVlV2l0aENoZWNrb3V0Q2FsbGJhY2siLCJERUZBVUxUX1NUWUxFUyIsInNpemUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJERUZBVUxUX0NPTlRBSU5FUl9TVFlMRVMiLCJwb3NpdGlvbiIsIlJPVEFUSU9OX0FOSU1BVElPTiIsIkxvYWRpbmdJbmRpY2F0b3IiLCJjb250YWluZXJTdHlsZXMiLCJkZWZpbmVBbmltYXRpb24iLCJidWlsZENvbnRhaW5lciIsImluZGljYXRvciIsImJ1aWxkSW5kaWNhdG9yIiwiYXBwZW5kQ2hpbGQiLCJzaG93IiwicGFyZW50SWQiLCJwYXJlbnQiLCJ2aXNpYmlsaXR5Iiwib3BhY2l0eSIsImhpZGUiLCJoYW5kbGVUcmFuc2l0aW9uRW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJjcmVhdGVFbGVtZW50IiwiZGlzcGxheSIsImJvdHRvbSIsImxlZnQiLCJoZWlnaHQiLCJ3aWR0aCIsInJpZ2h0IiwidG9wIiwidHJhbnNpdGlvbiIsInNldFN0eWxlQXR0cmlidXRlIiwiYm9yZGVyUmFkaXVzIiwiYm9yZGVyIiwibWFyZ2luIiwidHJhbnNmb3JtIiwidHJhbnNmb3JtU3R5bGUiLCJhbmltYXRpb24iLCJlbGVtZW50IiwiYXR0cnMiLCJrZXlzIiwiayIsInNldFByb3BlcnR5IiwiaGVhZCIsInNoZWV0IiwiQ1NTU3R5bGVTaGVldCIsImluc2VydFJ1bGUiLCJBbW91bnRUcmFuc2Zvcm1lciIsIl9kZWNpbWFsUGxhY2VzIiwidG9JbnRlZ2VyIiwiYW1vdW50IiwiTWF0aCIsInJvdW5kIiwiZXhwcmVzc0NoZWNrb3V0QWxsb3dlZENvdW50cnlDb2RlcyIsIlN0cmlwZUxpbmtWMkN1c3RvbWVyU3RyYXRlZ3kiLCJsb2FkaW5nSW5kaWNhdG9yIiwibG9hZGluZ0NvbnRhaW5lcklkIiwiYnV0dG9uSGVpZ2h0Iiwib25Db21wbGV0ZSIsIl9sb2FkaW5nSW5kaWNhdG9yQ29udGFpbmVyIiwiX29uQ29tcGxldGUiLCJjYXB0dXJlTWV0aG9kIiwiX2NhcHR1cmVNZXRob2QiLCJfc3RyaXBlQ2xpZW50IiwiX21vdW50RXhwcmVzc0NoZWNrb3V0RWxlbWVudCIsInN0cmlwZUV4cHJlc3NDaGVja291dENsaWVudCIsInNob3VsZFJlcXVpcmVTaGlwcGluZ0FkZHJlc3MiLCJfc2hvdWxkUmVxdWlyZVNoaXBwaW5nQWRkcmVzcyIsImV4cHJlc3NDaGVja291dE9wdGlvbnMiLCJzaGlwcGluZ0FkZHJlc3NSZXF1aXJlZCIsImFsbG93ZWRTaGlwcGluZ0NvdW50cmllcyIsIl9nZXRBdmFpbGFibGVDb3VudHJpZXMiLCJzaGlwcGluZ1JhdGVzIiwiZGlzcGxheU5hbWUiLCJiaWxsaW5nQWRkcmVzc1JlcXVpcmVkIiwiZW1haWxSZXF1aXJlZCIsInBob25lTnVtYmVyUmVxdWlyZWQiLCJwYXltZW50TWV0aG9kcyIsImFtYXpvblBheSIsInBheXBhbCIsImtsYXJuYSIsImNhcnRBbW91bnQiLCJnZXRDYXJ0T3JUaHJvdyIsImVsZW1lbnRzT3B0aW9ucyIsIl90b0NlbnRzIiwiY3VycmVuY3kiLCJfZ2V0Q3VycmVuY3kiLCJfbGlua1YyRWxlbWVudCIsIkVYUFJFU1NfQ0hFQ0tPVVQiLCJfaW5pdGlhbGl6ZUV2ZW50cyIsImV4cHJlc3NDaGVja291dEVsZW1lbnQiLCJTSElQUElOR19BRERSRVNTX0NIQU5HRSIsIl9vblNoaXBwaW5nQWRkcmVzc0NoYW5nZSIsIlNISVBQSU5HX1JBVEVfQ0hBTkdFIiwiX29uU2hpcHBpbmdSYXRlQ2hhbmdlIiwiQ09ORklSTSIsIl9vbkNvbmZpcm0iLCJDQU5DRUwiLCJfb25DYW5jZWwiLCJzaGlwcGluZ0FkZHJlc3MiLCJjb21wYW55Iiwic3RhdGVPclByb3ZpbmNlIiwiY3VzdG9tRmllbGRzIiwidXBkYXRlU2hpcHBpbmdBZGRyZXNzIiwiX2dldEF2YWlsYWJsZVNoaXBwaW5nT3B0aW9ucyIsIl91cGRhdGVEaXNwbGF5ZWRQcmljZSIsInNoaXBwaW5nUmF0ZSIsIl9oYW5kbGVTaGlwcGluZ09wdGlvbkNoYW5nZSIsIl91cGRhdGVTaGlwcGluZ0FuZEJpbGxpbmdBZGRyZXNzIiwiX21hcFNoaXBwaW5nQWRkcmVzcyIsIl9tYXBCaWxsaW5nQWRkcmVzcyIsIl90b2dnbGVMb2FkaW5nSW5kaWNhdG9yIiwiX2NvbXBsZXRlQ2hlY2tvdXRGbG93IiwicGF5bWVudF9tZXRob2RfaWQiLCJsaW5lSXRlbXMiLCJwaHlzaWNhbEl0ZW1zIiwibGVuZ3RoIiwiX2dldFRvdGFsUHJpY2UiLCJfY3VycmVuY3lDb2RlIiwiY3VycmVuY3lDb2RlIiwibG9hZENoZWNrb3V0IiwiZGVjaW1hbFBsYWNlcyIsInRvdGFsUHJpY2UiLCJ0b0ZpeGVkIiwiY291bnRyaWVzIiwibG9hZFNoaXBwaW5nQ291bnRyaWVzIiwiZ2V0U2hpcHBpbmdDb3VudHJpZXMiLCJtYXAiLCJmaWx0ZXIiLCJjb25zaWdubWVudCIsImF2YWlsYWJsZVNoaXBwaW5nT3B0aW9ucyIsIl9nZXRTdHJpcGVTaGlwcGluZ09wdGlvbiIsInNlbGVjdGVkSWQiLCJzZWxlY3RlZFNoaXBwaW5nT3B0aW9uIiwic29ydCIsIm9wdGlvbiIsImNvc3QiLCJkZXNjcmlwdGlvbiIsIm9wdGlvbklkIiwic2VsZWN0U2hpcHBpbmdPcHRpb24iLCJfZ2V0QW1vdW50VHJhbnNmb3JtZXIiLCJfYW1vdW50VHJhbnNmb3JtZXIiLCJmYWxsYmFja1ZhbHVlIiwiYW1vdW50VHJhbnNmb3JtZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/stripe.js\n\n}");

/***/ })

}]);