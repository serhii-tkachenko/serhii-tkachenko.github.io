"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["checkout-sdk-js_dist_esm_integrations_td-bank_js"],{

/***/ "../checkout-sdk-js/dist/esm/integrations/td-bank.js":
/*!***********************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/td-bank.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTDOnlineMartPaymentStrategy: () => (/* binding */ I)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/form-poster */ \"../checkout-sdk-js/node_modules/@bigcommerce/form-poster/lib/index.js\");\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"../checkout-sdk-js/node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"../checkout-sdk-js/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\nvar s,o;class a extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class d extends a{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}class c extends d{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}!function(e){e[e.MissingBillingAddress=0]=\"MissingBillingAddress\",e[e.MissingCart=1]=\"MissingCart\",e[e.MissingCheckout=2]=\"MissingCheckout\",e[e.MissingConsignments=3]=\"MissingConsignments\",e[e.MissingCustomer=4]=\"MissingCustomer\",e[e.MissingCheckoutConfig=5]=\"MissingCheckoutConfig\",e[e.MissingOrder=6]=\"MissingOrder\",e[e.MissingOrderConfig=7]=\"MissingOrderConfig\",e[e.MissingOrderId=8]=\"MissingOrderId\",e[e.MissingPayment=9]=\"MissingPayment\",e[e.MissingPaymentId=10]=\"MissingPaymentId\",e[e.MissingPaymentInstrument=11]=\"MissingPaymentInstrument\",e[e.MissingPaymentMethod=12]=\"MissingPaymentMethod\",e[e.MissingPaymentRedirectUrl=13]=\"MissingPaymentRedirectUrl\",e[e.MissingPaymentStatus=14]=\"MissingPaymentStatus\",e[e.MissingPaymentToken=15]=\"MissingPaymentToken\",e[e.MissingShippingAddress=16]=\"MissingShippingAddress\"}(s||(s={}));class u extends a{constructor(e){super(function(e){switch(e){case s.MissingBillingAddress:return\"Unable to proceed because billing address data is unavailable.\";case s.MissingCart:return\"Unable to proceed because cart data is unavailable.\";case s.MissingConsignments:return\"Unable to proceed because consignments data is unavailable.\";case s.MissingCheckout:return\"Unable to proceed because checkout data is unavailable.\";case s.MissingCustomer:return\"Unable to proceed because customer data is unavailable.\";case s.MissingCheckoutConfig:case s.MissingOrderConfig:return\"Unable to proceed because configuration data is unavailable.\";case s.MissingOrder:return\"Unable to proceed because order data is unavailable.\";case s.MissingOrderId:return\"Unable to proceed because order ID is unavailable or not generated yet.\";case s.MissingPayment:return\"Unable to proceed because payment data is unavailable.\";case s.MissingPaymentToken:return\"Unable to proceed because the token required to submit a payment is missing.\";case s.MissingPaymentMethod:return\"Unable to proceed because payment method data is unavailable or not properly configured.\";case s.MissingShippingAddress:return\"Unable to proceed because shipping address data is unavailable.\";default:return\"Unable to proceed because the required data is unavailable.\"}}(e)),this.subtype=e,this.name=\"MissingDataError\",this.type=\"missing_data\"}}class l extends a{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}function h(e){return!(\"object\"!=typeof e||null===e||void 0!==e.shouldSaveInstrument&&\"boolean\"!=typeof e.shouldSaveInstrument||void 0!==e.shouldSetAsDefaultInstrument&&\"boolean\"!=typeof e.shouldSetAsDefaultInstrument)}function m(){const{navigator:e}=window;let t;return t=e.language?e.language:e.userLanguage,{color_depth:window.screen.colorDepth||24,java_enabled:\"function\"==typeof e.javaEnabled&&e.javaEnabled(),language:t,screen_height:window.screen.height,screen_width:window.screen.width,time_zone_offset:(new Date).getTimezoneOffset().toString()}}!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(o||(o={}));class p extends a{constructor(e){super(function(e){switch(e){case o.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case o.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case o.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case o.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}function g(e){return\"object\"==typeof e&&null!==e&&\"bigpayToken\"in e&&\"defaultInstrument\"in e&&\"provider\"in e&&\"trustedShippingAddress\"in e&&\"method\"in e&&\"type\"in e}var y;!function(e){e.CARD_NUMBER=\"card-number\",e.CVV=\"cvv\",e.EXPIRY=\"expiry\"}(y||(y={}));var b=function(e,t,n,i){return new(n||(n=Promise))(function(r,s){function o(e){try{d(i.next(e))}catch(e){s(e)}}function a(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}d((i=i.apply(e,t||[])).next())})};class f{constructor(e,t,n){this.paymentIntegrationService=e,this.tdOnlineMartScriptLoader=t,this.formPoster=n,this.tdInputs=[{id:\"ccNumber\",fieldType:y.CARD_NUMBER},{id:\"ccCvv\",fieldType:y.CVV},{id:\"ccExpiry\",fieldType:y.EXPIRY}]}initialize(e){return b(this,void 0,void 0,function*(){const{methodId:t}=e;if(!t)throw new d('Unable to initialize payment because \"options.methodId\" argument is not provided.');this.tdOnlineMartClient=yield this.loadTDOnlineMartJs(),this.mountHostedFields(t)})}execute(e,t){return b(this,void 0,void 0,function*(){const{payment:n}=e,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,[\"payment\"]);if(!n)throw new c([\"payment\"]);if(!n.methodId)throw new u(s.MissingPaymentMethod);const r=yield this.getPaymentPayloadOrThrow(n);yield this.paymentIntegrationService.submitOrder(i,t);try{yield this.paymentIntegrationService.submitPayment(r)}catch(e){yield this.processWithAdditionalAction(e)}})}finalize(){return Promise.reject(new l)}deinitialize(){return this.tdOnlineMartClient=void 0,this.tdInputs.forEach(({inputElement:e})=>{null==e||e.unmount()}),Promise.resolve()}getPaymentPayloadOrThrow(e){return b(this,void 0,void 0,function*(){const{methodId:t,paymentData:n}=e,{shouldSaveInstrument:i=!1,shouldSetAsDefaultInstrument:r=!1}=h(n)?n:{},s={browser_info:m(),shouldSaveInstrument:i,shouldSetAsDefaultInstrument:r};if(h(n)&&Boolean(n.instrumentId)&&n.instrumentId){const e=!!this.paymentIntegrationService.getState().getCartOrThrow().lineItems.digitalItems.length,i=!this.isTrustedVaultingInstrument(n.instrumentId)||e;return{methodId:t,paymentData:Object.assign(Object.assign(Object.assign({},s),{instrumentId:n.instrumentId}),i?{nonce:n.instrumentId}:{})}}let o;try{o=yield this.getTokenOrThrow()}catch(e){this.throwTokenizationError(e)}return{methodId:t,paymentData:Object.assign(Object.assign({},s),{nonce:o})}})}mountHostedFields(e){const t=this.getHostedFieldsOptions(),n=this.getTDOnlineMartClientOrThrow();this.tdInputs.forEach(i=>{const r=`${e}-${i.id}`;document.getElementById(r)&&(i.inputElement=n.create(i.fieldType,t),i.inputElement.mount(`#${r}`))})}loadTDOnlineMartJs(){return b(this,void 0,void 0,function*(){return this.tdOnlineMartClient?this.tdOnlineMartClient:this.tdOnlineMartScriptLoader.load()})}getTokenOrThrow(){return new Promise((e,t)=>{this.getTDOnlineMartClientOrThrow().createToken(n=>{const{error:i,token:r}=n;if(i||!r)return t(i);e(r)})})}getTDOnlineMartClientOrThrow(){if(!this.tdOnlineMartClient)throw new p(o.PaymentNotInitialized);return this.tdOnlineMartClient}processWithAdditionalAction(e){return b(this,void 0,void 0,function*(){if(!function(e){return(e=>\"object\"==typeof e&&null!==e&&\"body\"in e)(e)&&(t=e.body,(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isObject)(t)&&\"object\"==typeof t&&\"errors\"in t&&\"three_ds_result\"in t&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isArray)(t.errors)&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.some)(t.errors,{code:\"three_d_secure_required\"}));// removed by dead control flow\n var t; }(e))throw e;const{three_ds_result:t}=e.body,{acs_url:s,payer_auth_request:o,merchant_data:a}=t||{};if(!s||!o||!a)throw new c([\"formUrl\",\"threeDSSessionData\",\"creq\"]);return new Promise(e=>{this.formPoster.postForm(s,{threeDSSessionData:o,creq:a},e,\"_top\")})})}throwTokenizationError(e){if(!function(e){return\"object\"==typeof e&&null!==e&&\"field\"in e&&\"type\"in e&&\"message\"in e}(e))throw new u(s.MissingPaymentToken);throw new Error(e.message)}getHostedFieldsOptions(){return{style:{error:{color:\"#d14343\"}},classes:{error:\"form-input--error\"}}}isTrustedVaultingInstrument(e){const t=this.paymentIntegrationService.getState().getInstruments(),n=null==t?void 0:t.find(t=>g(t)&&t.bigpayToken===e);return!(g(n)&&!n.trustedShippingAddress)}}class v extends a{constructor(e){super(e||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}class M{constructor(e,t=window){this.scriptLoader=e,this.tdOnlineMartWindow=t}load(){return e=this,t=void 0,i=function*(){if(this.tdOnlineMartWindow.customcheckout||(yield this.scriptLoader.loadScript(\"https://libs.na.bambora.com/customcheckout/1/customcheckout.js\")),!this.tdOnlineMartWindow.customcheckout)throw new v;return this.tdOnlineMartWindow.customcheckout()},new((n=void 0)||(n=Promise))(function(r,s){function o(e){try{d(i.next(e))}catch(e){s(e)}}function a(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}d((i=i.apply(e,t||[])).next())});// removed by dead control flow\n var e, t, n, i; }}const I=(w=n=>new f(n,new M((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)()),(0,_bigcommerce_form_poster__WEBPACK_IMPORTED_MODULE_0__.createFormPoster)()),O=[{id:\"tdonlinemart\"}],console.log(\"resolveIds\",O),Object.assign(w,{resolveIds:O}));var w,O;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy90ZC1iYW5rLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ0EsSUNDWUEsRUNBQUMsRUNLRyxNQUFlQyxVQUFzQkMsTUFJaEQsV0FBQUMsQ0FBWUMsR0NYRCxJQUFxQ0MsRURZNUNDLE1BQU1GLEdBQVcscUNBSnJCLEtBQUFHLEtBQU8sZ0JBQ1AsS0FBQUMsS0FBTyxXQ1R5Q0gsYURjWkEsVUNiaENJLE9BQU9DLGVBQ1BELE9BQU9DLGVEWVFDLEtDWmVOLEdEWWZNLEtDVlJDLFVBQVlQLEVEWW9CLG1CQUE1QkgsTUFBTVcsa0JBQ2JYLE1BQU1XLGtCQUFrQkYsaUJBRXhCQSxLQUFLRyxNQUFRLElBQUlaLE1BQU1TLEtBQUtQLFNBQVNVLEtBRTdDLEVFZFcsTUFBTUMsVUFBNkJkLEVBQzlDLFdBQUFFLENBQVlDLEdBQ1JFLE1BQU1GLEdBQVcseUNBRWpCTyxLQUFLSixLQUFPLHVCQUNaSSxLQUFLSCxLQUFPLGtCQUNoQixFQ05XLE1BQU1RLFVBQW9DRCxFQUNyRCxXQUFBWixDQUFZYyxHQUNSLElBQUliLEVBQVUseUVBRVZhLElBQ0FiLEVBQVUsR0FBR0EsNERBQWtFYSxFQUFjQyxLQUN6RixVQUlSWixNQUFNRixHQUVOTyxLQUFLSixLQUFPLDZCQUNoQixHTGxCSixTQUFZUixHQUNSLHFEQUNBLGlDQUNBLHlDQUNBLGlEQUNBLHlDQUNBLHFEQUNBLG1DQUNBLCtDQUNBLHVDQUNBLHVDQUNBLDRDQUNBLDREQUNBLG9EQUNBLDhEQUNBLG9EQUNBLGtEQUNBLHVEQUNILENBbEJELENBQVlBLElBQUFBLEVBQW9CLEtBeUJqQixNQUFNb0IsVUFBeUJsQixFQUMxQyxXQUFBRSxDQUFtQmlCLEdBQ2ZkLE1BT1IsU0FBeUJFLEdBQ3JCLE9BQVFBLEdBQ0osS0FBS1QsRUFBcUJzQixzQkFDdEIsTUFBTyxpRUFFWCxLQUFLdEIsRUFBcUJ1QixZQUN0QixNQUFPLHNEQUVYLEtBQUt2QixFQUFxQndCLG9C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Q0EsRUFBZUcsdUJBSXpCLEVLblFXLE1BQU1DLFVBQTRDMUosRUFDN0QsV0FBQUUsQ0FBWUMsR0FDUkUsTUFDSUYsR0FDSSx1R0FHUk8sS0FBS0osS0FBTyxzQ0FDWkksS0FBS0gsS0FBTyxtQ0FDaEIsRUNUVyxNQUFNb0osRUFDakIsV0FBQXpKLENBQ1kwSixFQUNBQyxFQUE2Q3BILFFBRDdDLEtBQUFtSCxhQUFBQSxFQUNBLEtBQUFDLG1CQUFBQSxDQUNULENBRUcsSUFBQWxDLEcscUNBT0YsR0FOS2pILEtBQUttSixtQkFBbUJDLHVCQUNuQnBKLEtBQUtrSixhQUFhRyxXQUNwQixvRUFJSHJKLEtBQUttSixtQkFBbUJDLGVBQ3pCLE1BQU0sSUFBSUosRUFHZCxPQUFPaEosS0FBS21KLG1CQUFtQkMsZ0JBQ25DLEU7bUJDYkosTUFVQSxHQ2xCSUUsRURTQS9GLEdBRU8sSUFBSUQsRUFDUEMsRUFDQSxJQUFJMEYsRUFBeUJNLDJFQUFBQSxJQUM3QkMsMEVBQUFBLElDYkpDLEVEaUJpRSxDQUFDLENBQUU5RixHQUFJLGlCQ2Z4RStGLFFBQVFDLElBQUksYUFBY0YsR0FFbkIzSixPQUFPOEosT0FBT04sRUFBUSxDQUFFRyxnQkFOcEIsSUFDWEgsRUFDQUcsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvd2VicGFjay9ib290c3RyYXA/ZmZjYyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9taXNzaW5nLWRhdGEtZXJyb3IudHM/YjdkYyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9ub3QtaW5pdGlhbGl6ZWQtZXJyb3IudHM/OGI0ZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9zdGFuZGFyZC1lcnJvci50cz84YTAzIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3NldC1wcm90b3R5cGUtb2YudHM/ODQ1YSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9pbnZhbGlkLWFyZ3VtZW50LWVycm9yLnRzPzM5MjEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1hcmd1bWVudC1pbnZhbGlkLWVycm9yLnRzP2E1MDEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvb3JkZXItZmluYWxpemF0aW9uLW5vdC1yZXF1aXJlZC1lcnJvci50cz9iNWExIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvcGF5bWVudC9pcy1ob3N0ZWQtaW50cnVtZW50LWxpa2UudHM/ODc2MyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2NvbW1vbi9icm93c2VyLWluZm8vZ2V0LWJyb3dzZXItaW5mby50cz84YmE0Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy91dGlsaXR5L3NyYy9pcy1iYXNlLWluc3RydW1lbnQvaXMtYmFzZS1pbnN0cnVtZW50LnRzP2U5MmYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3RkLWJhbmstaW50ZWdyYXRpb24vc3JjL3RkLW9ubGluZS1tYXJ0LnRzPzAxNjAiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3RkLWJhbmstaW50ZWdyYXRpb24vc3JjL3RkLW9ubGluZS1tYXJ0LXBheW1lbnQtc3RyYXRlZ3kudHM/YWU0NyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL3BheW1lbnQvaXMtdmF1bHRlZC1pbnN0cnVtZW50LnRzPzE4MGYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3RkLWJhbmstaW50ZWdyYXRpb24vc3JjL2lzVGRPbmxpbmVNYXJ0QWRkaXRpb25hbEFjdGlvbi50cz8zMDMyIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL2lzLXJlcXVlc3QtZXJyb3IudHM/YjQzZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvdGQtYmFuay1pbnRlZ3JhdGlvbi9zcmMvaXMtY3JlYXRlLXRva2VuLWVycm9yLnRzP2U0OTMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1tZXRob2QtY2xpZW50LXVuYXZhaWxhYmxlLWVycm9yLnRzP2Y4ZWMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3RkLWJhbmstaW50ZWdyYXRpb24vc3JjL3RkLW9ubGluZS1tYXJ0LXNjcmlwdC1sb2FkZXIudHM/OTMzNiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvdGQtYmFuay1pbnRlZ3JhdGlvbi9zcmMvY3JlYXRlLXRkLW9ubGluZS1tYXJ0LXBheW1lbnQtc3RyYXRlZ3kudHM/ZGU0NCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL3RvLXJlc29sdmFibGUtbW9kdWxlLnRzP2Q1MjAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG5leHBvcnQgZW51bSBNaXNzaW5nRGF0YUVycm9yVHlwZSB7XG4gICAgTWlzc2luZ0JpbGxpbmdBZGRyZXNzLFxuICAgIE1pc3NpbmdDYXJ0LFxuICAgIE1pc3NpbmdDaGVja291dCxcbiAgICBNaXNzaW5nQ29uc2lnbm1lbnRzLFxuICAgIE1pc3NpbmdDdXN0b21lcixcbiAgICBNaXNzaW5nQ2hlY2tvdXRDb25maWcsXG4gICAgTWlzc2luZ09yZGVyLFxuICAgIE1pc3NpbmdPcmRlckNvbmZpZyxcbiAgICBNaXNzaW5nT3JkZXJJZCxcbiAgICBNaXNzaW5nUGF5bWVudCxcbiAgICBNaXNzaW5nUGF5bWVudElkLFxuICAgIE1pc3NpbmdQYXltZW50SW5zdHJ1bWVudCxcbiAgICBNaXNzaW5nUGF5bWVudE1ldGhvZCxcbiAgICBNaXNzaW5nUGF5bWVudFJlZGlyZWN0VXJsLFxuICAgIE1pc3NpbmdQYXltZW50U3RhdHVzLFxuICAgIE1pc3NpbmdQYXltZW50VG9rZW4sXG4gICAgTWlzc2luZ1NoaXBwaW5nQWRkcmVzcyxcbn1cblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIHdoZW4gZGF0YSB0aGF0IGlzIGV4cGVjdGVkIHRvIGV4aXN0IGlzIG1pc3NpbmcuIFVzdWFsbHkgaXRcbiAqIGlzIGR1ZSB0byB0aGUgZmFjdCB0aGF0IGNlcnRhaW4gZGF0YSBoYXMgbm90IGJlZW4gcmV0cmlldmVkIGZyb20gb3Igc2F2ZWQgdG9cbiAqIHRoZSBzZXJ2ZXIgeWV0LiBBbmQgc3VjaCBkYXRhIGlzIHJlcXVpcmVkIHRvIHBlcmZvcm0gY2VydGFpbiBhY3Rpb25zLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNaXNzaW5nRGF0YUVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IocHVibGljIHN1YnR5cGU6IE1pc3NpbmdEYXRhRXJyb3JUeXBlKSB7XG4gICAgICAgIHN1cGVyKGdldEVycm9yTWVzc2FnZShzdWJ0eXBlKSk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ01pc3NpbmdEYXRhRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnbWlzc2luZ19kYXRhJztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZSh0eXBlOiBNaXNzaW5nRGF0YUVycm9yVHlwZSk6IHN0cmluZyB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0JpbGxpbmdBZGRyZXNzOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGJpbGxpbmcgYWRkcmVzcyBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ2FydDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjYXJ0IGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDb25zaWdubWVudHM6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY29uc2lnbm1lbnRzIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDaGVja291dDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjaGVja291dCBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ3VzdG9tZXI6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY3VzdG9tZXIgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NoZWNrb3V0Q29uZmlnOlxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdPcmRlckNvbmZpZzpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjb25maWd1cmF0aW9uIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdPcmRlcjpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBvcmRlciBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nT3JkZXJJZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBvcmRlciBJRCBpcyB1bmF2YWlsYWJsZSBvciBub3QgZ2VuZXJhdGVkIHlldC4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgcGF5bWVudCBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudFRva2VuOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSB0b2tlbiByZXF1aXJlZCB0byBzdWJtaXQgYSBwYXltZW50IGlzIG1pc3NpbmcuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHBheW1lbnQgbWV0aG9kIGRhdGEgaXMgdW5hdmFpbGFibGUgb3Igbm90IHByb3Blcmx5IGNvbmZpZ3VyZWQuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdTaGlwcGluZ0FkZHJlc3M6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugc2hpcHBpbmcgYWRkcmVzcyBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcmVxdWlyZWQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuICAgIH1cbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG5leHBvcnQgZW51bSBOb3RJbml0aWFsaXplZEVycm9yVHlwZSB7XG4gICAgQ2hlY2tvdXRCdXR0b25Ob3RJbml0aWFsaXplZCxcbiAgICBDdXN0b21lck5vdEluaXRpYWxpemVkLFxuICAgIFBheW1lbnROb3RJbml0aWFsaXplZCxcbiAgICBTaGlwcGluZ05vdEluaXRpYWxpemVkLFxuICAgIFNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQsXG59XG5cbi8qKlxuICogVGhyb3cgdGhpcyBlcnJvciBpZiBhIG1ldGhvZCByZXF1aXJlcyBhIGNlcnRhaW4gaW5pdGlhbGl6YXRpb24gY2FsbCB0byBiZVxuICogbWFkZSBmaXJzdC4gU29tZSBvYmplY3RzIGNhbiBiZSBjb25zdHJ1Y3RlZCBidXQgdGhleSBjYW5ub3QgYmUgdXNlZCB1bnRpbCBhXG4gKiBzZXBhcmF0ZSBpbml0aWFsaXphdGlvbiBjYWxsIGlzIG1hZGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdEluaXRpYWxpemVkRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3VidHlwZTogTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUpIHtcbiAgICAgICAgc3VwZXIoZ2V0RXJyb3JNZXNzYWdlKHN1YnR5cGUpKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnTm90SW5pdGlhbGl6ZWRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdub3RfaW5pdGlhbGl6ZWQnO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKHR5cGU6IE5vdEluaXRpYWxpemVkRXJyb3JUeXBlKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5DdXN0b21lck5vdEluaXRpYWxpemVkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjdXN0b21lciBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuXG4gICAgICAgIGNhc2UgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBwYXltZW50IHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5TaGlwcGluZ05vdEluaXRpYWxpemVkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBzaGlwcGluZyBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuXG4gICAgICAgIGNhc2UgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2hlY2tvdXQgc3BhbSBwcm90ZWN0aW9uIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHJlcXVpcmVkIGNvbXBvbmVudCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcbiAgICB9XG59XG4iLCJpbXBvcnQgQ3VzdG9tRXJyb3IgZnJvbSAnLi9jdXN0b20tZXJyb3InO1xuaW1wb3J0IHNldFByb3RvdHlwZU9mIGZyb20gJy4vc2V0LXByb3RvdHlwZS1vZic7XG5cbi8qKlxuICogVGhpcyBlcnJvciB0eXBlIHNob3VsZCBub3QgYmUgY29uc3RydWN0ZWQgZGlyZWN0bHkuIEl0IGlzIGEgYmFzZSBjbGFzcyBmb3JcbiAqIGFsbCBjdXN0b20gZXJyb3JzIHRocm93biBpbiB0aGlzIGxpYnJhcnkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIFN0YW5kYXJkRXJyb3IgZXh0ZW5kcyBFcnJvciBpbXBsZW1lbnRzIEN1c3RvbUVycm9yIHtcbiAgICBuYW1lID0gJ1N0YW5kYXJkRXJyb3InO1xuICAgIHR5cGUgPSAnc3RhbmRhcmQnO1xuXG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC4nKTtcblxuICAgICAgICBzZXRQcm90b3R5cGVPZih0aGlzLCBuZXcudGFyZ2V0LnByb3RvdHlwZSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgbmV3LnRhcmdldCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKHRoaXMubWVzc2FnZSkuc3RhY2s7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihvYmplY3Q6IGFueSwgcHJvdG90eXBlOiBvYmplY3QpIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihvYmplY3QsIHByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0Ll9fcHJvdG9fXyA9IHByb3RvdHlwZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0O1xufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gYSBtZXRob2QgaXMgdW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGVcbiAqIGNhbGxlciBoYXMgbm90IHByb3ZpZGVkIGFsbCB0aGUgYXJndW1lbnRzIGFjY29yZGluZyB0byB0aGVpciByZXF1aXJlbWVudHMsXG4gKiBpLmUuOiBpZiBhbiBhcmd1bWVudCBpcyBtaXNzaW5nIG9yIGl0IGlzIG5vdCB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnZhbGlkQXJndW1lbnRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSB8fCAnSW52YWxpZCBhcmd1bWVudHMgaGF2ZSBiZWVuIHByb3ZpZGVkLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdJbnZhbGlkQXJndW1lbnRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdpbnZhbGlkX2FyZ3VtZW50JztcbiAgICB9XG59XG4iLCJpbXBvcnQgSW52YWxpZEFyZ3VtZW50RXJyb3IgZnJvbSAnLi9pbnZhbGlkLWFyZ3VtZW50LWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiB3ZSBhcmUgdW5hYmxlIHRvIHN1Ym1pdCBhIHBheW1lbnQgYmVjYXVzZVxuICogdGhlIGNhbGxlciBoYXMgbm90IHByb3ZpZGVkIGFsbCB0aGUgcmVxdWlyZWQgZmllbGRzLCBpLmUuOiBpZiBhbiBhcmd1bWVudCBpc1xuICogbWlzc2luZyBvciBpdCBpcyBub3QgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yIGV4dGVuZHMgSW52YWxpZEFyZ3VtZW50RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGludmFsaWRGaWVsZHM/OiBzdHJpbmdbXSkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9ICdVbmFibGUgdG8gc3VibWl0IHBheW1lbnQgZm9yIHRoZSBvcmRlciBiZWNhdXNlIHRoZSBwYXlsb2FkIGlzIGludmFsaWQuJztcblxuICAgICAgICBpZiAoaW52YWxpZEZpZWxkcykge1xuICAgICAgICAgICAgbWVzc2FnZSA9IGAke21lc3NhZ2V9IE1ha2Ugc3VyZSB0aGUgZm9sbG93aW5nIGZpZWxkcyBhcmUgcHJvdmlkZWQgY29ycmVjdGx5OiAke2ludmFsaWRGaWVsZHMuam9pbihcbiAgICAgICAgICAgICAgICAnLCAnLFxuICAgICAgICAgICAgKX0uYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3InO1xuICAgIH1cbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3IgaWYgd2UgYXJlIHRyeWluZyB0byBtYWtlIGFuIG9yZGVyIGZpbmFsaXphdGlvbiByZXF1ZXN0IGZvciBhXG4gKiBwYXltZW50IG1ldGhvZCB0aGF0IGRvZXMgbm90IHJlcXVpcmUgc3VjaCBwcm9jZWR1cmUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignVGhlIGN1cnJlbnQgb3JkZXIgZG9lcyBub3QgbmVlZCB0byBiZSBmaW5hbGl6ZWQgYXQgdGhpcyBzdGFnZS4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ29yZGVyX2ZpbmFsaXphdGlvbl9ub3RfcmVxdWlyZWQnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEhvc3RlZEluc3RydW1lbnQgfSBmcm9tICcuL3BheW1lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0hvc3RlZEluc3RydW1lbnRMaWtlKFxuICAgIGluc3RydW1lbnQ6IHVua25vd24sXG4pOiBpbnN0cnVtZW50IGlzIEhvc3RlZEluc3RydW1lbnQge1xuICAgIHJldHVybiAoXG4gICAgICAgIHR5cGVvZiBpbnN0cnVtZW50ID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBpbnN0cnVtZW50ICE9PSBudWxsICYmXG4gICAgICAgICh0eXBlb2YgKGluc3RydW1lbnQgYXMgSG9zdGVkSW5zdHJ1bWVudCkuc2hvdWxkU2F2ZUluc3RydW1lbnQgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICB0eXBlb2YgKGluc3RydW1lbnQgYXMgSG9zdGVkSW5zdHJ1bWVudCkuc2hvdWxkU2F2ZUluc3RydW1lbnQgPT09ICdib29sZWFuJykgJiZcbiAgICAgICAgKHR5cGVvZiAoaW5zdHJ1bWVudCBhcyBIb3N0ZWRJbnN0cnVtZW50KS5zaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50ID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgdHlwZW9mIChpbnN0cnVtZW50IGFzIEhvc3RlZEluc3RydW1lbnQpLnNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgPT09ICdib29sZWFuJylcbiAgICApO1xufVxuIiwiaW1wb3J0IEJyb3dzZXJJbmZvIGZyb20gJy4vYnJvd3Nlci1pbmZvJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0QnJvd3NlckluZm8oKTogQnJvd3NlckluZm8ge1xuICAgIGNvbnN0IHsgbmF2aWdhdG9yIH0gPSB3aW5kb3c7XG5cbiAgICBsZXQgbGFuZ3VhZ2U6IHN0cmluZztcblxuICAgIGlmIChuYXZpZ2F0b3IubGFuZ3VhZ2UpIHtcbiAgICAgICAgbGFuZ3VhZ2UgPSBuYXZpZ2F0b3IubGFuZ3VhZ2U7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbGFuZ3VhZ2UgPSAobmF2aWdhdG9yIGFzIGFueSkudXNlckxhbmd1YWdlO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGNvbG9yX2RlcHRoOiB3aW5kb3cuc2NyZWVuLmNvbG9yRGVwdGggfHwgMjQsXG4gICAgICAgIGphdmFfZW5hYmxlZDogdHlwZW9mIG5hdmlnYXRvci5qYXZhRW5hYmxlZCA9PT0gJ2Z1bmN0aW9uJyA/IG5hdmlnYXRvci5qYXZhRW5hYmxlZCgpIDogZmFsc2UsXG4gICAgICAgIGxhbmd1YWdlLFxuICAgICAgICBzY3JlZW5faGVpZ2h0OiB3aW5kb3cuc2NyZWVuLmhlaWdodCxcbiAgICAgICAgc2NyZWVuX3dpZHRoOiB3aW5kb3cuc2NyZWVuLndpZHRoLFxuICAgICAgICB0aW1lX3pvbmVfb2Zmc2V0OiBuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCkudG9TdHJpbmcoKSxcbiAgICB9O1xufVxuIiwiZXhwb3J0IGludGVyZmFjZSBCYXNlSW5zdHJ1bWVudCB7XG4gICAgYmlncGF5VG9rZW46IHN0cmluZztcbiAgICBkZWZhdWx0SW5zdHJ1bWVudDogYm9vbGVhbjtcbiAgICBwcm92aWRlcjogc3RyaW5nO1xuICAgIHRydXN0ZWRTaGlwcGluZ0FkZHJlc3M6IGJvb2xlYW47XG4gICAgbWV0aG9kOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNCYXNlSW5zdHJ1bWVudChpbnN0cnVtZW50OiB1bmtub3duKTogaW5zdHJ1bWVudCBpcyBCYXNlSW5zdHJ1bWVudCB7XG4gICAgaWYgKHR5cGVvZiBpbnN0cnVtZW50ICE9PSAnb2JqZWN0JyB8fCBpbnN0cnVtZW50ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICAnYmlncGF5VG9rZW4nIGluIGluc3RydW1lbnQgJiZcbiAgICAgICAgJ2RlZmF1bHRJbnN0cnVtZW50JyBpbiBpbnN0cnVtZW50ICYmXG4gICAgICAgICdwcm92aWRlcicgaW4gaW5zdHJ1bWVudCAmJlxuICAgICAgICAndHJ1c3RlZFNoaXBwaW5nQWRkcmVzcycgaW4gaW5zdHJ1bWVudCAmJlxuICAgICAgICAnbWV0aG9kJyBpbiBpbnN0cnVtZW50ICYmXG4gICAgICAgICd0eXBlJyBpbiBpbnN0cnVtZW50XG4gICAgKTtcbn1cbiIsImltcG9ydCB7IFJlcXVlc3RFcnJvciB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRkT25saW5lTWFydEhvc3RXaW5kb3cgZXh0ZW5kcyBXaW5kb3cge1xuICAgIGN1c3RvbWNoZWNrb3V0PygpOiBUREN1c3RvbUNoZWNrb3V0U0RLO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFREQ3VzdG9tQ2hlY2tvdXRTREsge1xuICAgIGNyZWF0ZShmaWVsZFR5cGU6IEZpZWxkVHlwZSwgb3B0aW9ucz86IEZpZWxkT3B0aW9ucyk6IFRkT25saW5lTWFydEVsZW1lbnQ7XG4gICAgY3JlYXRlVG9rZW4oY2FsbGJhY2s6IChyZXN1bHQ6IENyZWF0ZVRva2VuUmVzcG9uc2UpID0+IHZvaWQpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRkT25saW5lTWFydEVsZW1lbnQge1xuICAgIG1vdW50KGNzc1NlbGVjdG9yOiBzdHJpbmcpOiB2b2lkO1xuICAgIHVubW91bnQoKTogdm9pZDtcbn1cblxuZXhwb3J0IGVudW0gRmllbGRUeXBlIHtcbiAgICBDQVJEX05VTUJFUiA9ICdjYXJkLW51bWJlcicsXG4gICAgQ1ZWID0gJ2N2dicsXG4gICAgRVhQSVJZID0gJ2V4cGlyeScsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVERPbmxpbmVNYXJ0SW5wdXQge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgZmllbGRUeXBlOiBGaWVsZFR5cGU7XG4gICAgaW5wdXRFbGVtZW50PzogVGRPbmxpbmVNYXJ0RWxlbWVudDtcbn1cblxuaW50ZXJmYWNlIENyZWF0ZVRva2VuUmVzcG9uc2Uge1xuICAgIGNvZGU6IHN0cmluZztcbiAgICBlcnJvcj86IENyZWF0ZVRva2VuRXJyb3I7XG4gICAgdG9rZW4/OiBzdHJpbmc7XG4gICAgbGFzdDQ/OiBzdHJpbmc7XG4gICAgZXhwaXJ5TW9udGg/OiBzdHJpbmc7XG4gICAgZXhwaXJ5WWVhcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVUb2tlbkVycm9yIHtcbiAgICBmaWVsZDogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUZE9ubGluZU1hcnRUaHJlZURTRXJyb3JCb2R5IHtcbiAgICBlcnJvcnM/OiBBcnJheTx7IGNvZGU6IHN0cmluZyB9PjtcbiAgICB0aHJlZV9kc19yZXN1bHQ/OiB7XG4gICAgICAgIGFjc191cmw6IHN0cmluZztcbiAgICAgICAgcGF5ZXJfYXV0aF9yZXF1ZXN0OiBzdHJpbmc7XG4gICAgICAgIG1lcmNoYW50X2RhdGE6IHN0cmluZztcbiAgICB9O1xufVxuLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb24gKi9cblxuZXhwb3J0IHR5cGUgVGRPbmxpbmVNYXJ0QWRkaXRpb25hbEFjdGlvbiA9IFJlcXVlc3RFcnJvcjxUZE9ubGluZU1hcnRUaHJlZURTRXJyb3JCb2R5PjtcblxuLy8gTm90ZTogVGhlIHN0eWxlIHByb3BlcnR5IGFmZmVjdHMgdGhlIHJlbW90ZSBzdHlsaW5nIG9mIHRleHQgaW5zaWRlIHRoZSBpZnJhbWUgaW5wdXQuIFRoZSBjbGFzc2VzIHByb3BlcnR5IHVwZGF0ZXMgdGhlIGNsYXNzIGxpc3Qgb2YgdGhlIGVsZW1lbnQgdGhlIGZpZWxkIGlzIG1vdW50ZWQgdG8gb24geW91ciBwYWdlLlxuaW50ZXJmYWNlIEZpZWxkT3B0aW9ucyB7XG4gICAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XG4gICAgc3R5bGU/OiBTdHlsZXM7XG4gICAgY2xhc3Nlcz86IENsYXNzZXM7XG4gICAgYnJhbmRzPzogc3RyaW5nW107XG59XG5cbmludGVyZmFjZSBDbGFzc2VzIHtcbiAgICBiYXNlPzogc3RyaW5nO1xuICAgIGNvbXBsZXRlPzogc3RyaW5nO1xuICAgIGVtcHR5Pzogc3RyaW5nO1xuICAgIGZvY3VzPzogc3RyaW5nO1xuICAgIGVycm9yPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgU3R5bGVzIHtcbiAgICBiYXNlPzogQ3NzU3R5bGVzO1xuICAgIGNvbXBsZXRlPzogQ3NzU3R5bGVzO1xuICAgIGVtcHR5PzogQ3NzU3R5bGVzO1xuICAgIGVycm9yPzogQ3NzU3R5bGVzO1xufVxuXG5pbnRlcmZhY2UgQ3NzU3R5bGVzIHtcbiAgICBjb2xvcj86IHN0cmluZztcbiAgICBmb250RmFtaWx5Pzogc3RyaW5nO1xuICAgIGZvbnRTaXplPzogc3RyaW5nO1xuICAgIGZvbnRTdHlsZT86IHN0cmluZztcbiAgICBmb250V2VpZ2h0Pzogc3RyaW5nO1xuICAgIHRleHREZWNvcmF0aW9uPzogc3RyaW5nO1xuICAgIHBhZGRpbmc/OiBzdHJpbmc7XG4gICAgcGFkZGluZ0xlZnQ/OiBzdHJpbmc7XG4gICAgcGFkZGluZ1RvcD86IHN0cmluZztcbiAgICBwYWRkaW5nUmlnaHQ/OiBzdHJpbmc7XG4gICAgcGFkZGluZ0JvdHRvbT86IHN0cmluZztcbn1cbiIsImltcG9ydCB7IEZvcm1Qb3N0ZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXInO1xuXG5pbXBvcnQge1xuICAgIGdldEJyb3dzZXJJbmZvLFxuICAgIEludmFsaWRBcmd1bWVudEVycm9yLFxuICAgIGlzSG9zdGVkSW5zdHJ1bWVudExpa2UsXG4gICAgaXNWYXVsdGVkSW5zdHJ1bWVudCxcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUGF5bWVudFJlcXVlc3RCb2R5LFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yLFxuICAgIFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbiAgICBQYXltZW50U3RyYXRlZ3ksXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuaW1wb3J0IHsgaXNCYXNlSW5zdHJ1bWVudCB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvdXRpbGl0eSc7XG5cbmltcG9ydCBpc0NyZWF0ZVRva2VuRXJyb3IgZnJvbSAnLi9pcy1jcmVhdGUtdG9rZW4tZXJyb3InO1xuaW1wb3J0IHsgaXNUZE9ubGluZU1hcnRBZGRpdGlvbmFsQWN0aW9uIH0gZnJvbSAnLi9pc1RkT25saW5lTWFydEFkZGl0aW9uYWxBY3Rpb24nO1xuaW1wb3J0IHtcbiAgICBGaWVsZFR5cGUsXG4gICAgVERDdXN0b21DaGVja291dFNESyxcbiAgICBURE9ubGluZU1hcnRJbnB1dCxcbiAgICBUZE9ubGluZU1hcnRUaHJlZURTRXJyb3JCb2R5LFxufSBmcm9tICcuL3RkLW9ubGluZS1tYXJ0JztcbmltcG9ydCBURE9ubGluZU1hcnRTY3JpcHRMb2FkZXIgZnJvbSAnLi90ZC1vbmxpbmUtbWFydC1zY3JpcHQtbG9hZGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVERPbmxpbmVNYXJ0UGF5bWVudFN0cmF0ZWd5IGltcGxlbWVudHMgUGF5bWVudFN0cmF0ZWd5IHtcbiAgICBwcml2YXRlIHRkT25saW5lTWFydENsaWVudD86IFREQ3VzdG9tQ2hlY2tvdXRTREs7XG4gICAgcHJpdmF0ZSB0ZElucHV0czogVERPbmxpbmVNYXJ0SW5wdXRbXSA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdjY051bWJlcicsXG4gICAgICAgICAgICBmaWVsZFR5cGU6IEZpZWxkVHlwZS5DQVJEX05VTUJFUixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdjY0N2dicsXG4gICAgICAgICAgICBmaWVsZFR5cGU6IEZpZWxkVHlwZS5DVlYsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnY2NFeHBpcnknLFxuICAgICAgICAgICAgZmllbGRUeXBlOiBGaWVsZFR5cGUuRVhQSVJZLFxuICAgICAgICB9LFxuICAgIF07XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHRkT25saW5lTWFydFNjcmlwdExvYWRlcjogVERPbmxpbmVNYXJ0U2NyaXB0TG9hZGVyLFxuICAgICAgICBwcml2YXRlIGZvcm1Qb3N0ZXI6IEZvcm1Qb3N0ZXIsXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShvcHRpb25zOiBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBtZXRob2RJZCB9ID0gb3B0aW9ucztcblxuICAgICAgICBpZiAoIW1ldGhvZElkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBpbml0aWFsaXplIHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMubWV0aG9kSWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRkT25saW5lTWFydENsaWVudCA9IGF3YWl0IHRoaXMubG9hZFRET25saW5lTWFydEpzKCk7XG5cbiAgICAgICAgdGhpcy5tb3VudEhvc3RlZEZpZWxkcyhtZXRob2RJZCk7XG4gICAgfVxuXG4gICAgYXN5bmMgZXhlY3V0ZShwYXlsb2FkOiBPcmRlclJlcXVlc3RCb2R5LCBvcHRpb25zPzogUGF5bWVudFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudCwgLi4ub3JkZXIgfSA9IHBheWxvYWQ7XG5cbiAgICAgICAgaWYgKCFwYXltZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yKFsncGF5bWVudCddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcGF5bWVudC5tZXRob2RJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF5bWVudFBheWxvYWQgPSBhd2FpdCB0aGlzLmdldFBheW1lbnRQYXlsb2FkT3JUaHJvdyhwYXltZW50KTtcblxuICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIob3JkZXIsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChwYXltZW50UGF5bG9hZCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnByb2Nlc3NXaXRoQWRkaXRpb25hbEFjdGlvbihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaW5hbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IoKSk7XG4gICAgfVxuXG4gICAgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLnRkT25saW5lTWFydENsaWVudCA9IHVuZGVmaW5lZDtcblxuICAgICAgICB0aGlzLnRkSW5wdXRzLmZvckVhY2goKHsgaW5wdXRFbGVtZW50IH06IFRET25saW5lTWFydElucHV0KSA9PiB7XG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQ/LnVubW91bnQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgZ2V0UGF5bWVudFBheWxvYWRPclRocm93KHBheW1lbnQ6IE9yZGVyUGF5bWVudFJlcXVlc3RCb2R5KSB7XG4gICAgICAgIGNvbnN0IHsgbWV0aG9kSWQsIHBheW1lbnREYXRhIH0gPSBwYXltZW50O1xuICAgICAgICBjb25zdCB7IHNob3VsZFNhdmVJbnN0cnVtZW50ID0gZmFsc2UsIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgPSBmYWxzZSB9ID1cbiAgICAgICAgICAgIGlzSG9zdGVkSW5zdHJ1bWVudExpa2UocGF5bWVudERhdGEpID8gcGF5bWVudERhdGEgOiB7fTtcbiAgICAgICAgY29uc3QgY29tbW9uUGF5bWVudERhdGEgPSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uXG4gICAgICAgICAgICBicm93c2VyX2luZm86IGdldEJyb3dzZXJJbmZvKCksXG4gICAgICAgICAgICBzaG91bGRTYXZlSW5zdHJ1bWVudCxcbiAgICAgICAgICAgIHNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgaXNIb3N0ZWRJbnN0cnVtZW50TGlrZShwYXltZW50RGF0YSkgJiZcbiAgICAgICAgICAgIGlzVmF1bHRlZEluc3RydW1lbnQocGF5bWVudERhdGEpICYmXG4gICAgICAgICAgICBwYXltZW50RGF0YS5pbnN0cnVtZW50SWRcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBjYXJ0ID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0Q2FydE9yVGhyb3coKTtcbiAgICAgICAgICAgIGNvbnN0IGRpZ2l0YWxJdGVtc0luQ2FydCA9ICEhY2FydC5saW5lSXRlbXMuZGlnaXRhbEl0ZW1zLmxlbmd0aDtcblxuICAgICAgICAgICAgY29uc3Qgc2hvdWxkQWRkVmVyaWZpY2F0aW9uVG9rZW4gPVxuICAgICAgICAgICAgICAgICF0aGlzLmlzVHJ1c3RlZFZhdWx0aW5nSW5zdHJ1bWVudChwYXltZW50RGF0YS5pbnN0cnVtZW50SWQpIHx8IGRpZ2l0YWxJdGVtc0luQ2FydDtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtZXRob2RJZCxcbiAgICAgICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgICAgICAuLi5jb21tb25QYXltZW50RGF0YSxcbiAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudElkOiBwYXltZW50RGF0YS5pbnN0cnVtZW50SWQsXG4gICAgICAgICAgICAgICAgICAgIC4uLihzaG91bGRBZGRWZXJpZmljYXRpb25Ub2tlbiA/IHsgbm9uY2U6IHBheW1lbnREYXRhLmluc3RydW1lbnRJZCB9IDoge30pLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5vbmNlOiBzdHJpbmc7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG5vbmNlID0gYXdhaXQgdGhpcy5nZXRUb2tlbk9yVGhyb3coKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMudGhyb3dUb2tlbml6YXRpb25FcnJvcihlcnJvcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWV0aG9kSWQsXG4gICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgIC4uLmNvbW1vblBheW1lbnREYXRhLFxuICAgICAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1vdW50SG9zdGVkRmllbGRzKG1ldGhvZElkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuZ2V0SG9zdGVkRmllbGRzT3B0aW9ucygpO1xuICAgICAgICBjb25zdCB0ZE9ubGluZU1hcnRDbGllbnQgPSB0aGlzLmdldFRET25saW5lTWFydENsaWVudE9yVGhyb3coKTtcblxuICAgICAgICB0aGlzLnRkSW5wdXRzLmZvckVhY2goKGlucHV0OiBURE9ubGluZU1hcnRJbnB1dCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRJZCA9IGAke21ldGhvZElkfS0ke2lucHV0LmlkfWA7XG5cbiAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaW5wdXRJZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlucHV0LmlucHV0RWxlbWVudCA9IHRkT25saW5lTWFydENsaWVudC5jcmVhdGUoaW5wdXQuZmllbGRUeXBlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlucHV0LmlucHV0RWxlbWVudC5tb3VudChgIyR7aW5wdXRJZH1gKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBsb2FkVERPbmxpbmVNYXJ0SnMoKTogUHJvbWlzZTxUREN1c3RvbUNoZWNrb3V0U0RLPiB7XG4gICAgICAgIGlmICh0aGlzLnRkT25saW5lTWFydENsaWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGRPbmxpbmVNYXJ0Q2xpZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudGRPbmxpbmVNYXJ0U2NyaXB0TG9hZGVyLmxvYWQoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFRva2VuT3JUaHJvdygpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5nZXRURE9ubGluZU1hcnRDbGllbnRPclRocm93KCkuY3JlYXRlVG9rZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZXJyb3IsIHRva2VuIH0gPSByZXN1bHQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IgfHwgIXRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlc29sdmUodG9rZW4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VERPbmxpbmVNYXJ0Q2xpZW50T3JUaHJvdygpOiBUREN1c3RvbUNoZWNrb3V0U0RLIHtcbiAgICAgICAgaWYgKCF0aGlzLnRkT25saW5lTWFydENsaWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnRkT25saW5lTWFydENsaWVudDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHByb2Nlc3NXaXRoQWRkaXRpb25hbEFjdGlvbihlcnJvcjogdW5rbm93bik6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoIWlzVGRPbmxpbmVNYXJ0QWRkaXRpb25hbEFjdGlvbihlcnJvcikpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyB0aHJlZV9kc19yZXN1bHQ6IHRocmVlRFNSZXN1bHQgfTogVGRPbmxpbmVNYXJ0VGhyZWVEU0Vycm9yQm9keSA9IGVycm9yLmJvZHk7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGFjc191cmw6IGZvcm1VcmwsXG4gICAgICAgICAgICBwYXllcl9hdXRoX3JlcXVlc3Q6IHRocmVlRFNTZXNzaW9uRGF0YSxcbiAgICAgICAgICAgIG1lcmNoYW50X2RhdGE6IGNyZXEsXG4gICAgICAgIH0gPSB0aHJlZURTUmVzdWx0IHx8IHt9O1xuXG4gICAgICAgIGlmICghZm9ybVVybCB8fCAhdGhyZWVEU1Nlc3Npb25EYXRhIHx8ICFjcmVxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yKFsnZm9ybVVybCcsICd0aHJlZURTU2Vzc2lvbkRhdGEnLCAnY3JlcSddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5mb3JtUG9zdGVyLnBvc3RGb3JtKFxuICAgICAgICAgICAgICAgIGZvcm1VcmwsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aHJlZURTU2Vzc2lvbkRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGNyZXEsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgICdfdG9wJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgdGhyb3dUb2tlbml6YXRpb25FcnJvcihlcnJvcjogdW5rbm93bik6IG5ldmVyIHtcbiAgICAgICAgaWYgKCFpc0NyZWF0ZVRva2VuRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudFRva2VuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEhvc3RlZEZpZWxkc09wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0ge1xuICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNkMTQzNDMnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjbGFzc2VzID0ge1xuICAgICAgICAgICAgZXJyb3I6ICdmb3JtLWlucHV0LS1lcnJvcicsXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0eWxlLFxuICAgICAgICAgICAgY2xhc3NlcyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzVHJ1c3RlZFZhdWx0aW5nSW5zdHJ1bWVudChpbnN0cnVtZW50SWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBpbnN0cnVtZW50cyA9IHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldEluc3RydW1lbnRzKCk7XG5cbiAgICAgICAgY29uc3QgZmluZEluc3RydW1lbnQgPSBpbnN0cnVtZW50cz8uZmluZChcbiAgICAgICAgICAgIChpbnN0cnVtZW50KSA9PiBpc0Jhc2VJbnN0cnVtZW50KGluc3RydW1lbnQpICYmIGluc3RydW1lbnQuYmlncGF5VG9rZW4gPT09IGluc3RydW1lbnRJZCxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdHJ1c3RlZFNoaXBwaW5nQWRkcmVzcyA9IGlzQmFzZUluc3RydW1lbnQoZmluZEluc3RydW1lbnQpXG4gICAgICAgICAgICA/IGZpbmRJbnN0cnVtZW50LnRydXN0ZWRTaGlwcGluZ0FkZHJlc3NcbiAgICAgICAgICAgIDoge307XG5cbiAgICAgICAgcmV0dXJuICEhdHJ1c3RlZFNoaXBwaW5nQWRkcmVzcztcbiAgICB9XG59XG4iLCJpbXBvcnQge1xuICAgIEZvcm1hdHRlZFBheWxvYWQsXG4gICAgRm9ybWF0dGVkVmF1bHRlZEluc3RydW1lbnQsXG4gICAgSG9zdGVkVmF1bHRlZEluc3RydW1lbnQsXG4gICAgUGF5bWVudEluc3RydW1lbnRQYXlsb2FkLFxuICAgIFZhdWx0ZWRJbnN0cnVtZW50LFxufSBmcm9tICcuL3BheW1lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1ZhdWx0ZWRJbnN0cnVtZW50KFxuICAgIGluc3RydW1lbnQ6IFBheW1lbnRJbnN0cnVtZW50UGF5bG9hZCxcbik6IGluc3RydW1lbnQgaXMgVmF1bHRlZEluc3RydW1lbnQge1xuICAgIHJldHVybiBCb29sZWFuKChpbnN0cnVtZW50IGFzIFZhdWx0ZWRJbnN0cnVtZW50KS5pbnN0cnVtZW50SWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNIb3N0ZWRWYXVsdGVkSW5zdHJ1bWVudChcbiAgICBpbnN0cnVtZW50OiBQYXltZW50SW5zdHJ1bWVudFBheWxvYWQsXG4pOiBpbnN0cnVtZW50IGlzIEhvc3RlZFZhdWx0ZWRJbnN0cnVtZW50IHtcbiAgICByZXR1cm4gKFxuICAgICAgICBCb29sZWFuKChpbnN0cnVtZW50IGFzIEhvc3RlZFZhdWx0ZWRJbnN0cnVtZW50KS5pbnN0cnVtZW50SWQpICYmXG4gICAgICAgICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdHJ1bWVudCwgJ2NjTnVtYmVyJykgJiZcbiAgICAgICAgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnN0cnVtZW50LCAnY2NDdnYnKVxuICAgICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Zvcm1hdHRlZFZhdWx0ZWRJbnN0cnVtZW50KFxuICAgIGluc3RydW1lbnQ6IFBheW1lbnRJbnN0cnVtZW50UGF5bG9hZCxcbik6IGluc3RydW1lbnQgaXMgRm9ybWF0dGVkUGF5bG9hZDxGb3JtYXR0ZWRWYXVsdGVkSW5zdHJ1bWVudD4ge1xuICAgIGNvbnN0IGZvcm1hdHRlZEluc3RydW1lbnQgPSAoaW5zdHJ1bWVudCBhcyBGb3JtYXR0ZWRQYXlsb2FkPEZvcm1hdHRlZFZhdWx0ZWRJbnN0cnVtZW50PilcbiAgICAgICAgLmZvcm1hdHRlZFBheWxvYWQ7XG5cbiAgICBpZiAoIWZvcm1hdHRlZEluc3RydW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIHR5cGVvZiBmb3JtYXR0ZWRJbnN0cnVtZW50LmJpZ3BheV90b2tlbiA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgQm9vbGVhbihmb3JtYXR0ZWRJbnN0cnVtZW50LmJpZ3BheV90b2tlbiAmJiBmb3JtYXR0ZWRJbnN0cnVtZW50LmJpZ3BheV90b2tlbi50b2tlbilcbiAgICApO1xufVxuIiwiaW1wb3J0IHsgaXNBcnJheSwgaXNPYmplY3QsIHNvbWUgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQgeyBpc1JlcXVlc3RFcnJvciB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBUZE9ubGluZU1hcnRBZGRpdGlvbmFsQWN0aW9uLCBUZE9ubGluZU1hcnRUaHJlZURTRXJyb3JCb2R5IH0gZnJvbSAnLi90ZC1vbmxpbmUtbWFydCc7XG5cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9ucyAqL1xuZnVuY3Rpb24gaXNUZE9ubGluZU1hcnRUaHJlZURTRXJyb3JCb2R5KFxuICAgIGVycm9yQm9keTogdW5rbm93bixcbik6IGVycm9yQm9keSBpcyBUZE9ubGluZU1hcnRUaHJlZURTRXJyb3JCb2R5IHtcbiAgICByZXR1cm4gKFxuICAgICAgICBpc09iamVjdChlcnJvckJvZHkpICYmXG4gICAgICAgIHR5cGVvZiBlcnJvckJvZHkgPT09ICdvYmplY3QnICYmXG4gICAgICAgICdlcnJvcnMnIGluIGVycm9yQm9keSAmJlxuICAgICAgICAndGhyZWVfZHNfcmVzdWx0JyBpbiBlcnJvckJvZHkgJiZcbiAgICAgICAgaXNBcnJheSgoZXJyb3JCb2R5IGFzIFRkT25saW5lTWFydFRocmVlRFNFcnJvckJvZHkpLmVycm9ycykgJiZcbiAgICAgICAgc29tZSgoZXJyb3JCb2R5IGFzIFRkT25saW5lTWFydFRocmVlRFNFcnJvckJvZHkpLmVycm9ycywge1xuICAgICAgICAgICAgY29kZTogJ3RocmVlX2Rfc2VjdXJlX3JlcXVpcmVkJyxcbiAgICAgICAgfSlcbiAgICApO1xufVxuLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvY29uc2lzdGVudC10eXBlLWFzc2VydGlvbnMgKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVGRPbmxpbmVNYXJ0QWRkaXRpb25hbEFjdGlvbihcbiAgICBlcnJvcjogdW5rbm93bixcbik6IGVycm9yIGlzIFRkT25saW5lTWFydEFkZGl0aW9uYWxBY3Rpb24ge1xuICAgIHJldHVybiBpc1JlcXVlc3RFcnJvcihlcnJvcikgJiYgaXNUZE9ubGluZU1hcnRUaHJlZURTRXJyb3JCb2R5KGVycm9yLmJvZHkpO1xufVxuIiwiaW1wb3J0IFJlcXVlc3RFcnJvciBmcm9tICcuL3JlcXVlc3QtZXJyb3InO1xuXG4vLyBIYXZlIHRvIHVzZSBgYXNgIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzczOTg3MDQ0L3R5cGVndWFyZGluZy1hbi11bmtub3duLW5lc3RlZC1vYmplY3Qgc2hvdWxkIGJlIGZpeGVkIGluIDQuOCtcbmNvbnN0IGlzUmVxdWVzdEVycm9yID0gKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgUmVxdWVzdEVycm9yID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJiBlcnJvciAhPT0gbnVsbCAmJiAnYm9keScgaW4gZXJyb3I7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpc1JlcXVlc3RFcnJvcjtcbiIsImltcG9ydCB7IENyZWF0ZVRva2VuRXJyb3IgfSBmcm9tICcuL3RkLW9ubGluZS1tYXJ0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNDcmVhdGVUb2tlbkVycm9yKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgQ3JlYXRlVG9rZW5FcnJvciB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBlcnJvciAhPT0gbnVsbCAmJlxuICAgICAgICAnZmllbGQnIGluIGVycm9yICYmXG4gICAgICAgICd0eXBlJyBpbiBlcnJvciAmJlxuICAgICAgICAnbWVzc2FnZScgaW4gZXJyb3JcbiAgICApO1xufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gdGhlIGNsaWVudCBsaWJyYXJ5IG9mIGEgcGF5bWVudCBtZXRob2QgZmFpbHNcbiAqIHRvIGxvYWQsIG9yIGZvciBzb21lIHJlYXNvbiwgaXQgaXMgaW5hY2Nlc3NpYmxlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoXG4gICAgICAgICAgICBtZXNzYWdlIHx8XG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGNsaWVudCBsaWJyYXJ5IG9mIGEgcGF5bWVudCBtZXRob2QgaXMgbm90IGxvYWRlZCBvciByZWFkeSB0byBiZSB1c2VkLicsXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ1BheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3BheW1lbnRfbWV0aG9kX2NsaWVudF91bmF2YWlsYWJsZSc7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQgeyBQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvciB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBUREN1c3RvbUNoZWNrb3V0U0RLLCBUZE9ubGluZU1hcnRIb3N0V2luZG93IH0gZnJvbSAnLi90ZC1vbmxpbmUtbWFydCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRET25saW5lTWFydFNjcmlwdExvYWRlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgc2NyaXB0TG9hZGVyOiBTY3JpcHRMb2FkZXIsXG4gICAgICAgIHByaXZhdGUgdGRPbmxpbmVNYXJ0V2luZG93OiBUZE9ubGluZU1hcnRIb3N0V2luZG93ID0gd2luZG93LFxuICAgICkge31cblxuICAgIGFzeW5jIGxvYWQoKTogUHJvbWlzZTxUREN1c3RvbUNoZWNrb3V0U0RLPiB7XG4gICAgICAgIGlmICghdGhpcy50ZE9ubGluZU1hcnRXaW5kb3cuY3VzdG9tY2hlY2tvdXQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQoXG4gICAgICAgICAgICAgICAgJ2h0dHBzOi8vbGlicy5uYS5iYW1ib3JhLmNvbS9jdXN0b21jaGVja291dC8xL2N1c3RvbWNoZWNrb3V0LmpzJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMudGRPbmxpbmVNYXJ0V2luZG93LmN1c3RvbWNoZWNrb3V0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnRkT25saW5lTWFydFdpbmRvdy5jdXN0b21jaGVja291dCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZUZvcm1Qb3N0ZXIgfSBmcm9tICdAYmlnY29tbWVyY2UvZm9ybS1wb3N0ZXInO1xuaW1wb3J0IHsgZ2V0U2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIFBheW1lbnRTdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IFRET25saW5lTWFydFBheW1lbnRTdHJhdGVneSBmcm9tICcuL3RkLW9ubGluZS1tYXJ0LXBheW1lbnQtc3RyYXRlZ3knO1xuaW1wb3J0IFRET25saW5lTWFydFNjcmlwdExvYWRlciBmcm9tICcuL3RkLW9ubGluZS1tYXJ0LXNjcmlwdC1sb2FkZXInO1xuXG5jb25zdCBjcmVhdGVURE9ubGluZU1hcnRQYXltZW50U3RyYXRlZ3k6IFBheW1lbnRTdHJhdGVneUZhY3Rvcnk8VERPbmxpbmVNYXJ0UGF5bWVudFN0cmF0ZWd5PiA9IChcbiAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBURE9ubGluZU1hcnRQYXltZW50U3RyYXRlZ3koXG4gICAgICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIG5ldyBURE9ubGluZU1hcnRTY3JpcHRMb2FkZXIoZ2V0U2NyaXB0TG9hZGVyKCkpLFxuICAgICAgICBjcmVhdGVGb3JtUG9zdGVyKCksXG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVURE9ubGluZU1hcnRQYXltZW50U3RyYXRlZ3ksIFt7IGlkOiAndGRvbmxpbmVtYXJ0JyB9XSk7XG4iLCJpbXBvcnQgUmVzb2x2YWJsZU1vZHVsZSBmcm9tICcuL3Jlc29sdmFibGUtbW9kdWxlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9SZXNvbHZhYmxlTW9kdWxlPFRNb2R1bGUsIFRJZGVudGlmaWVyPihcbiAgICBtb2R1bGU6IFRNb2R1bGUsXG4gICAgcmVzb2x2ZUlkczogVElkZW50aWZpZXJbXSxcbik6IFJlc29sdmFibGVNb2R1bGU8VE1vZHVsZSwgVElkZW50aWZpZXI+IHtcbiAgICBjb25zb2xlLmxvZygncmVzb2x2ZUlkcycsIHJlc29sdmVJZHMpO1xuXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obW9kdWxlLCB7IHJlc29sdmVJZHMgfSk7XG59XG4iXSwibmFtZXMiOlsiTWlzc2luZ0RhdGFFcnJvclR5cGUiLCJOb3RJbml0aWFsaXplZEVycm9yVHlwZSIsIlN0YW5kYXJkRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsInByb3RvdHlwZSIsInN1cGVyIiwibmFtZSIsInR5cGUiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInRoaXMiLCJfX3Byb3RvX18iLCJjYXB0dXJlU3RhY2tUcmFjZSIsInN0YWNrIiwiSW52YWxpZEFyZ3VtZW50RXJyb3IiLCJQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IiLCJpbnZhbGlkRmllbGRzIiwiam9pbiIsIk1pc3NpbmdEYXRhRXJyb3IiLCJzdWJ0eXBlIiwiTWlzc2luZ0JpbGxpbmdBZGRyZXNzIiwiTWlzc2luZ0NhcnQiLCJNaXNzaW5nQ29uc2lnbm1lbnRzIiwiTWlzc2luZ0NoZWNrb3V0IiwiTWlzc2luZ0N1c3RvbWVyIiwiTWlzc2luZ0NoZWNrb3V0Q29uZmlnIiwiTWlzc2luZ09yZGVyQ29uZmlnIiwiTWlzc2luZ09yZGVyIiwiTWlzc2luZ09yZGVySWQiLCJNaXNzaW5nUGF5bWVudCIsIk1pc3NpbmdQYXltZW50VG9rZW4iLCJNaXNzaW5nUGF5bWVudE1ldGhvZCIsIk1pc3NpbmdTaGlwcGluZ0FkZHJlc3MiLCJnZXRFcnJvck1lc3NhZ2UiLCJPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IiLCJpc0hvc3RlZEluc3RydW1lbnRMaWtlIiwiaW5zdHJ1bWVudCIsInNob3VsZFNhdmVJbnN0cnVtZW50Iiwic2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCIsImdldEJyb3dzZXJJbmZvIiwibmF2aWdhdG9yIiwid2luZG93IiwibGFuZ3VhZ2UiLCJ1c2VyTGFuZ3VhZ2UiLCJjb2xvcl9kZXB0aCIsInNjcmVlbiIsImNvbG9yRGVwdGgiLCJqYXZhX2VuYWJsZWQiLCJqYXZhRW5hYmxlZCIsInNjcmVlbl9oZWlnaHQiLCJoZWlnaHQiLCJzY3JlZW5fd2lkdGgiLCJ3aWR0aCIsInRpbWVfem9uZV9vZmZzZXQiLCJEYXRlIiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJ0b1N0cmluZyIsIk5vdEluaXRpYWxpemVkRXJyb3IiLCJDdXN0b21lck5vdEluaXRpYWxpemVkIiwiUGF5bWVudE5vdEluaXRpYWxpemVkIiwiU2hpcHBpbmdOb3RJbml0aWFsaXplZCIsIlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWQiLCJpc0Jhc2VJbnN0cnVtZW50IiwiRmllbGRUeXBlIiwiVERPbmxpbmVNYXJ0UGF5bWVudFN0cmF0ZWd5IiwicGF5bWVudEludGVncmF0aW9uU2VydmljZSIsInRkT25saW5lTWFydFNjcmlwdExvYWRlciIsImZvcm1Qb3N0ZXIiLCJ0ZElucHV0cyIsImlkIiwiZmllbGRUeXBlIiwiQ0FSRF9OVU1CRVIiLCJDVlYiLCJFWFBJUlkiLCJpbml0aWFsaXplIiwib3B0aW9ucyIsIm1ldGhvZElkIiwidGRPbmxpbmVNYXJ0Q2xpZW50IiwibG9hZFRET25saW5lTWFydEpzIiwibW91bnRIb3N0ZWRGaWVsZHMiLCJleGVjdXRlIiwicGF5bG9hZCIsInBheW1lbnQiLCJvcmRlciIsInBheW1lbnRQYXlsb2FkIiwiZ2V0UGF5bWVudFBheWxvYWRPclRocm93Iiwic3VibWl0T3JkZXIiLCJzdWJtaXRQYXltZW50IiwiZXJyb3IiLCJwcm9jZXNzV2l0aEFkZGl0aW9uYWxBY3Rpb24iLCJmaW5hbGl6ZSIsIlByb21pc2UiLCJyZWplY3QiLCJkZWluaXRpYWxpemUiLCJ1bmRlZmluZWQiLCJmb3JFYWNoIiwiaW5wdXRFbGVtZW50IiwidW5tb3VudCIsInJlc29sdmUiLCJwYXltZW50RGF0YSIsImNvbW1vblBheW1lbnREYXRhIiwiYnJvd3Nlcl9pbmZvIiwiQm9vbGVhbiIsImluc3RydW1lbnRJZCIsImRpZ2l0YWxJdGVtc0luQ2FydCIsImdldFN0YXRlIiwiZ2V0Q2FydE9yVGhyb3ciLCJsaW5lSXRlbXMiLCJkaWdpdGFsSXRlbXMiLCJsZW5ndGgiLCJzaG91bGRBZGRWZXJpZmljYXRpb25Ub2tlbiIsImlzVHJ1c3RlZFZhdWx0aW5nSW5zdHJ1bWVudCIsIm5vbmNlIiwiZ2V0VG9rZW5PclRocm93IiwidGhyb3dUb2tlbml6YXRpb25FcnJvciIsImdldEhvc3RlZEZpZWxkc09wdGlvbnMiLCJnZXRURE9ubGluZU1hcnRDbGllbnRPclRocm93IiwiaW5wdXQiLCJpbnB1dElkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNyZWF0ZSIsIm1vdW50IiwibG9hZCIsImNyZWF0ZVRva2VuIiwicmVzdWx0IiwidG9rZW4iLCJlcnJvckJvZHkiLCJib2R5IiwiaXNPYmplY3QiLCJpc0FycmF5IiwiZXJyb3JzIiwic29tZSIsImNvZGUiLCJpc1RkT25saW5lTWFydEFkZGl0aW9uYWxBY3Rpb24iLCJ0aHJlZV9kc19yZXN1bHQiLCJ0aHJlZURTUmVzdWx0IiwiYWNzX3VybCIsImZvcm1VcmwiLCJwYXllcl9hdXRoX3JlcXVlc3QiLCJ0aHJlZURTU2Vzc2lvbkRhdGEiLCJtZXJjaGFudF9kYXRhIiwiY3JlcSIsInBvc3RGb3JtIiwiaXNDcmVhdGVUb2tlbkVycm9yIiwic3R5bGUiLCJjb2xvciIsImNsYXNzZXMiLCJpbnN0cnVtZW50cyIsImdldEluc3RydW1lbnRzIiwiZmluZEluc3RydW1lbnQiLCJmaW5kIiwiYmlncGF5VG9rZW4iLCJ0cnVzdGVkU2hpcHBpbmdBZGRyZXNzIiwiUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IiLCJURE9ubGluZU1hcnRTY3JpcHRMb2FkZXIiLCJzY3JpcHRMb2FkZXIiLCJ0ZE9ubGluZU1hcnRXaW5kb3ciLCJjdXN0b21jaGVja291dCIsImxvYWRTY3JpcHQiLCJtb2R1bGUiLCJnZXRTY3JpcHRMb2FkZXIiLCJjcmVhdGVGb3JtUG9zdGVyIiwicmVzb2x2ZUlkcyIsImNvbnNvbGUiLCJsb2ciLCJhc3NpZ24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/td-bank.js\n\n}");

/***/ })

}]);