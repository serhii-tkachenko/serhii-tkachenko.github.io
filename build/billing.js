"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["billing"],{

/***/ "./packages/core/src/app/billing/Billing.tsx":
/*!***************************************************!*\
  !*** ./packages/core/src/app/billing/Billing.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _bigcommerce_checkout_locale__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bigcommerce/checkout/locale */ \"./packages/locale/src/TranslatedString.tsx\");\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/contexts/checkout-context/CheckoutContext.tsx\");\n/* harmony import */ var _bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bigcommerce/checkout/ui */ \"./packages/ui/src/context/ThemeContext.tsx\");\n/* harmony import */ var _bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bigcommerce/checkout/ui */ \"./packages/ui/src/form/LoadingSkeleton/AddressFormSkeleton.tsx\");\n/* harmony import */ var _address__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../address */ \"./packages/core/src/app/address/mapAddressFromFormValues.ts\");\n/* harmony import */ var _address__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../address */ \"./packages/core/src/app/address/isEqualAddress.ts\");\n/* harmony import */ var _ui_form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/form */ \"./packages/core/src/app/ui/form/Legend.tsx\");\n/* harmony import */ var _BillingForm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BillingForm */ \"./packages/core/src/app/billing/BillingForm.tsx\");\n/* harmony import */ var _getBillingMethodId__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./getBillingMethodId */ \"./packages/core/src/app/billing/getBillingMethodId.ts\");\n\n\n\n\n\n\n\n\n\nconst Billing = ({ navigateNextStep, onReady, onUnhandledError }) => {\n    const { checkoutService, checkoutState } = (0,_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_3__.useCheckout)();\n    const { themeV2 } = (0,_bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_4__.useThemeContext)();\n    const { data: { getCheckout, getConfig, getCart, getCustomer, getBillingAddress, getBillingAddressFields, }, statuses: { isLoadingBillingCountries }, } = checkoutState;\n    const config = getConfig();\n    const customer = getCustomer();\n    const checkout = getCheckout();\n    const cart = getCart();\n    if (!config || !customer || !checkout || !cart) {\n        throw new Error('Unable to access checkout data');\n    }\n    const isInitializing = isLoadingBillingCountries();\n    // Below constants are for <BillingForm />'s HOC props\n    const customerMessage = checkout.customerMessage;\n    const methodId = (0,_getBillingMethodId__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(checkout);\n    const billingAddress = getBillingAddress();\n    const getFields = getBillingAddressFields;\n    const handleSubmit = (_a) => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n        var { orderComment } = _a, addressValues = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__rest)(_a, [\"orderComment\"]);\n        const updateAddress = checkoutService.updateBillingAddress;\n        const updateCheckout = checkoutService.updateCheckout;\n        const billingAddress = getBillingAddress();\n        const promises = [];\n        const address = (0,_address__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(addressValues);\n        if (address && !(0,_address__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(address, billingAddress)) {\n            promises.push(updateAddress(address));\n        }\n        if (customerMessage !== orderComment) {\n            promises.push(updateCheckout({ customerMessage: orderComment }));\n        }\n        try {\n            yield Promise.all(promises);\n            navigateNextStep();\n        }\n        catch (error) {\n            if (error instanceof Error) {\n                onUnhandledError(error);\n            }\n        }\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        const init = () => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n            try {\n                yield checkoutService.loadBillingAddressFields();\n                onReady();\n            }\n            catch (error) {\n                if (error instanceof Error) {\n                    onUnhandledError(error);\n                }\n            }\n        });\n        void init();\n    }, []);\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { isLoading: isInitializing },\n        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"checkout-form\" },\n            react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"form-legend-container\" },\n                react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ui_form__WEBPACK_IMPORTED_MODULE_8__[\"default\"], { testId: \"billing-address-heading\", themeV2: themeV2 },\n                    react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_bigcommerce_checkout_locale__WEBPACK_IMPORTED_MODULE_2__[\"default\"], { id: \"billing.billing_address_heading\" }))),\n            react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_BillingForm__WEBPACK_IMPORTED_MODULE_9__[\"default\"], { billingAddress: billingAddress, customerMessage: customerMessage, getFields: getFields, methodId: methodId, navigateNextStep: navigateNextStep, onSubmit: handleSubmit, onUnhandledError: onUnhandledError }))));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Billing);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9jb3JlL3NyYy9hcHAvYmlsbGluZy9CaWxsaW5nLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUM0RDtBQUVJO0FBR1Q7QUFDeUI7QUFFVjtBQUNsQztBQUVnQztBQUNkO0FBUXRELE1BQU0sT0FBTyxHQUFHLENBQUMsRUFBRSxnQkFBZ0IsRUFBRSxPQUFPLEVBQUUsZ0JBQWdCLEVBQWUsRUFBZ0IsRUFBRTtJQUMzRixNQUFNLEVBQUUsZUFBZSxFQUFFLGFBQWEsRUFBRSxHQUFHLDBGQUFXLEVBQUUsQ0FBQztJQUN6RCxNQUFNLEVBQUUsT0FBTyxFQUFFLEdBQUkseUVBQWUsRUFBRSxDQUFDO0lBRXZDLE1BQU0sRUFDRixJQUFJLEVBQUUsRUFDRixXQUFXLEVBQ1gsU0FBUyxFQUNULE9BQU8sRUFDUCxXQUFXLEVBQ1gsaUJBQWlCLEVBQ2pCLHVCQUF1QixHQUMxQixFQUNELFFBQVEsRUFBRSxFQUFFLHlCQUF5QixFQUFFLEdBQzFDLEdBQUcsYUFBYSxDQUFDO0lBQ2xCLE1BQU0sTUFBTSxHQUFHLFNBQVMsRUFBRSxDQUFDO0lBQzNCLE1BQU0sUUFBUSxHQUFHLFdBQVcsRUFBRSxDQUFDO0lBQy9CLE1BQU0sUUFBUSxHQUFHLFdBQVcsRUFBRSxDQUFDO0lBQy9CLE1BQU0sSUFBSSxHQUFHLE9BQU8sRUFBRSxDQUFDO0lBRXZCLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUM3QyxNQUFNLElBQUksS0FBSyxDQUFDLGdDQUFnQyxDQUFDO0lBQ3JELENBQUM7SUFFRCxNQUFNLGNBQWMsR0FBSSx5QkFBeUIsRUFBRSxDQUFDO0lBRXBELHNEQUFzRDtJQUN0RCxNQUFNLGVBQWUsR0FBSSxRQUFRLENBQUMsZUFBZSxDQUFDO0lBQ2xELE1BQU0sUUFBUSxHQUFJLGdFQUFrQixDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQy9DLE1BQU0sY0FBYyxHQUFJLGlCQUFpQixFQUFFLENBQUM7SUFDNUMsTUFBTSxTQUFTLEdBQUksdUJBQXVCLENBQUM7SUFDM0MsTUFBTSxZQUFZLEdBQUcsQ0FBTyxFQUdvQixFQUFnQixFQUFFLENBQUM7WUFIdkMsRUFDSSxZQUFZLE9BRUksRUFEYixhQUFhLHFEQUZwQixnQkFHQyxDQURtQjtRQUU1QyxNQUFNLGFBQWEsR0FBSSxlQUFlLENBQUMsb0JBQW9CLENBQUM7UUFDNUQsTUFBTSxjQUFjLEdBQUksZUFBZSxDQUFDLGNBQWMsQ0FBQztRQUN2RCxNQUFNLGNBQWMsR0FBSSxpQkFBaUIsRUFBRSxDQUFDO1FBQzVDLE1BQU0sUUFBUSxHQUFzQyxFQUFFLENBQUM7UUFDdkQsTUFBTSxPQUFPLEdBQUcsb0RBQXdCLENBQUMsYUFBYSxDQUFDLENBQUM7UUFFeEQsSUFBSSxPQUFPLElBQUksQ0FBQyxvREFBYyxDQUFDLE9BQU8sRUFBRSxjQUFjLENBQUMsRUFBRSxDQUFDO1lBQ3RELFFBQVEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDMUMsQ0FBQztRQUVELElBQUksZUFBZSxLQUFLLFlBQVksRUFBRSxDQUFDO1lBQ25DLFFBQVEsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEVBQUUsZUFBZSxFQUFFLFlBQVksRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNyRSxDQUFDO1FBRUQsSUFBSSxDQUFDO1lBQ0QsTUFBTSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBRTVCLGdCQUFnQixFQUFFLENBQUM7UUFDdkIsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDYixJQUFJLEtBQUssWUFBWSxLQUFLLEVBQUUsQ0FBQztnQkFDekIsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDNUIsQ0FBQztRQUNMLENBQUM7SUFDTCxDQUFDLEVBQUM7SUFFRixnREFBUyxDQUFDLEdBQUcsRUFBRTtRQUNYLE1BQU0sSUFBSSxHQUFHLEdBQVMsRUFBRSxDQUFDO1lBQ3JCLElBQUksQ0FBQztnQkFDRCxNQUFNLGVBQWUsQ0FBQyx3QkFBd0IsRUFBRSxDQUFDO2dCQUNqRCxPQUFPLEVBQUUsQ0FBQztZQUNkLENBQUM7WUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO2dCQUNiLElBQUksS0FBSyxZQUFZLEtBQUssRUFBRSxDQUFDO29CQUN6QixnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDNUIsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO1FBRUQsS0FBSyxJQUFJLEVBQUUsQ0FBQztJQUNoQixDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFUCxPQUFPLENBQ0gsMkRBQUMsZ0VBQW1CLElBQUMsU0FBUyxFQUFFLGNBQWM7UUFDMUMsb0VBQUssU0FBUyxFQUFDLGVBQWU7WUFDMUIsb0VBQUssU0FBUyxFQUFDLHVCQUF1QjtnQkFDbEMsMkRBQUMsZ0RBQU0sSUFBQyxNQUFNLEVBQUMseUJBQXlCLEVBQUMsT0FBTyxFQUFFLE9BQU87b0JBQ3JELDJEQUFDLG9FQUFnQixJQUFDLEVBQUUsRUFBQyxpQ0FBaUMsR0FBRyxDQUNwRCxDQUNQO1lBQ04sMkRBQUMsb0RBQVcsSUFDUixjQUFjLEVBQUUsY0FBYyxFQUM5QixlQUFlLEVBQUUsZUFBZSxFQUNoQyxTQUFTLEVBQUUsU0FBUyxFQUNwQixRQUFRLEVBQUUsUUFBUSxFQUNsQixnQkFBZ0IsRUFBRSxnQkFBZ0IsRUFDbEMsUUFBUSxFQUFFLFlBQVksRUFDdEIsZ0JBQWdCLEVBQUUsZ0JBQWdCLEdBQ3BDLENBQ0EsQ0FDWSxDQUN6QixDQUFDO0FBQ04sQ0FBQztBQUVELGlFQUFlLE9BQU8sRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vcGFja2FnZXMvY29yZS9zcmMvYXBwL2JpbGxpbmcvQmlsbGluZy50c3g/MjExYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IENoZWNrb3V0U2VsZWN0b3JzIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkayc7XG5pbXBvcnQgUmVhY3QsIHsgdHlwZSBSZWFjdEVsZW1lbnQsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgVHJhbnNsYXRlZFN0cmluZyB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC9sb2NhbGUnO1xuaW1wb3J0IHtcbiAgICB1c2VDaGVja291dCxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7IEFkZHJlc3NGb3JtU2tlbGV0b24sIHVzZVRoZW1lQ29udGV4dCB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC91aSc7XG5cbmltcG9ydCB7IGlzRXF1YWxBZGRyZXNzLCBtYXBBZGRyZXNzRnJvbUZvcm1WYWx1ZXMgfSBmcm9tICcuLi9hZGRyZXNzJztcbmltcG9ydCB7IExlZ2VuZCB9IGZyb20gJy4uL3VpL2Zvcm0nO1xuXG5pbXBvcnQgQmlsbGluZ0Zvcm0sIHsgdHlwZSBCaWxsaW5nRm9ybVZhbHVlcyB9IGZyb20gJy4vQmlsbGluZ0Zvcm0nO1xuaW1wb3J0IGdldEJpbGxpbmdNZXRob2RJZCBmcm9tICcuL2dldEJpbGxpbmdNZXRob2RJZCc7XG5cbmludGVyZmFjZSBCaWxsaW5nUHJvcHMge1xuICAgIG5hdmlnYXRlTmV4dFN0ZXAoKTogdm9pZDtcbiAgICBvblJlYWR5KCk6IHZvaWQ7XG4gICAgb25VbmhhbmRsZWRFcnJvcihlcnJvcjogRXJyb3IpOiB2b2lkO1xufVxuXG5jb25zdCBCaWxsaW5nID0gKHsgbmF2aWdhdGVOZXh0U3RlcCwgb25SZWFkeSwgb25VbmhhbmRsZWRFcnJvciB9OkJpbGxpbmdQcm9wcyk6IFJlYWN0RWxlbWVudCA9PiB7XG4gICAgY29uc3QgeyBjaGVja291dFNlcnZpY2UsIGNoZWNrb3V0U3RhdGUgfSA9IHVzZUNoZWNrb3V0KCk7XG4gICAgY29uc3QgeyB0aGVtZVYyIH0gID0gdXNlVGhlbWVDb250ZXh0KCk7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGdldENoZWNrb3V0LFxuICAgICAgICAgICAgZ2V0Q29uZmlnLFxuICAgICAgICAgICAgZ2V0Q2FydCxcbiAgICAgICAgICAgIGdldEN1c3RvbWVyLFxuICAgICAgICAgICAgZ2V0QmlsbGluZ0FkZHJlc3MsXG4gICAgICAgICAgICBnZXRCaWxsaW5nQWRkcmVzc0ZpZWxkcyxcbiAgICAgICAgfSxcbiAgICAgICAgc3RhdHVzZXM6IHsgaXNMb2FkaW5nQmlsbGluZ0NvdW50cmllcyB9LFxuICAgIH0gPSBjaGVja291dFN0YXRlO1xuICAgIGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZygpO1xuICAgIGNvbnN0IGN1c3RvbWVyID0gZ2V0Q3VzdG9tZXIoKTtcbiAgICBjb25zdCBjaGVja291dCA9IGdldENoZWNrb3V0KCk7XG4gICAgY29uc3QgY2FydCA9IGdldENhcnQoKTtcblxuICAgIGlmICghY29uZmlnIHx8ICFjdXN0b21lciB8fCAhY2hlY2tvdXQgfHwgIWNhcnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gYWNjZXNzIGNoZWNrb3V0IGRhdGEnKVxuICAgIH1cblxuICAgIGNvbnN0IGlzSW5pdGlhbGl6aW5nICA9IGlzTG9hZGluZ0JpbGxpbmdDb3VudHJpZXMoKTtcblxuICAgIC8vIEJlbG93IGNvbnN0YW50cyBhcmUgZm9yIDxCaWxsaW5nRm9ybSAvPidzIEhPQyBwcm9wc1xuICAgIGNvbnN0IGN1c3RvbWVyTWVzc2FnZSAgPSBjaGVja291dC5jdXN0b21lck1lc3NhZ2U7XG4gICAgY29uc3QgbWV0aG9kSWQgID0gZ2V0QmlsbGluZ01ldGhvZElkKGNoZWNrb3V0KTtcbiAgICBjb25zdCBiaWxsaW5nQWRkcmVzcyAgPSBnZXRCaWxsaW5nQWRkcmVzcygpO1xuICAgIGNvbnN0IGdldEZpZWxkcyAgPSBnZXRCaWxsaW5nQWRkcmVzc0ZpZWxkcztcbiAgICBjb25zdCBoYW5kbGVTdWJtaXQgPSBhc3luYyAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJDb21tZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uYWRkcmVzc1ZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OiBCaWxsaW5nRm9ybVZhbHVlcyk6UHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZUFkZHJlc3MgID0gY2hlY2tvdXRTZXJ2aWNlLnVwZGF0ZUJpbGxpbmdBZGRyZXNzO1xuICAgICAgICBjb25zdCB1cGRhdGVDaGVja291dCAgPSBjaGVja291dFNlcnZpY2UudXBkYXRlQ2hlY2tvdXQ7XG4gICAgICAgIGNvbnN0IGJpbGxpbmdBZGRyZXNzICA9IGdldEJpbGxpbmdBZGRyZXNzKCk7XG4gICAgICAgIGNvbnN0IHByb21pc2VzOiBBcnJheTxQcm9taXNlPENoZWNrb3V0U2VsZWN0b3JzPj4gPSBbXTtcbiAgICAgICAgY29uc3QgYWRkcmVzcyA9IG1hcEFkZHJlc3NGcm9tRm9ybVZhbHVlcyhhZGRyZXNzVmFsdWVzKTtcblxuICAgICAgICBpZiAoYWRkcmVzcyAmJiAhaXNFcXVhbEFkZHJlc3MoYWRkcmVzcywgYmlsbGluZ0FkZHJlc3MpKSB7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKHVwZGF0ZUFkZHJlc3MoYWRkcmVzcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1c3RvbWVyTWVzc2FnZSAhPT0gb3JkZXJDb21tZW50KSB7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKHVwZGF0ZUNoZWNrb3V0KHsgY3VzdG9tZXJNZXNzYWdlOiBvcmRlckNvbW1lbnQgfSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcblxuICAgICAgICAgICAgbmF2aWdhdGVOZXh0U3RlcCgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBpbml0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjaGVja291dFNlcnZpY2UubG9hZEJpbGxpbmdBZGRyZXNzRmllbGRzKCk7XG4gICAgICAgICAgICAgICAgb25SZWFkeSgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2b2lkIGluaXQoKTtcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8QWRkcmVzc0Zvcm1Ta2VsZXRvbiBpc0xvYWRpbmc9e2lzSW5pdGlhbGl6aW5nfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hlY2tvdXQtZm9ybVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1sZWdlbmQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxMZWdlbmQgdGVzdElkPVwiYmlsbGluZy1hZGRyZXNzLWhlYWRpbmdcIiB0aGVtZVYyPXt0aGVtZVYyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxUcmFuc2xhdGVkU3RyaW5nIGlkPVwiYmlsbGluZy5iaWxsaW5nX2FkZHJlc3NfaGVhZGluZ1wiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvTGVnZW5kPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxCaWxsaW5nRm9ybVxuICAgICAgICAgICAgICAgICAgICBiaWxsaW5nQWRkcmVzcz17YmlsbGluZ0FkZHJlc3N9XG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyTWVzc2FnZT17Y3VzdG9tZXJNZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICBnZXRGaWVsZHM9e2dldEZpZWxkc31cbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kSWQ9e21ldGhvZElkfVxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0ZU5leHRTdGVwPXtuYXZpZ2F0ZU5leHRTdGVwfVxuICAgICAgICAgICAgICAgICAgICBvblN1Ym1pdD17aGFuZGxlU3VibWl0fVxuICAgICAgICAgICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yPXtvblVuaGFuZGxlZEVycm9yfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9BZGRyZXNzRm9ybVNrZWxldG9uPlxuICAgICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJpbGxpbmc7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/core/src/app/billing/Billing.tsx\n\n}");

/***/ }),

/***/ "./packages/core/src/app/billing/BillingForm.tsx":
/*!*******************************************************!*\
  !*** ./packages/core/src/app/billing/BillingForm.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! formik */ \"./node_modules/formik/dist/formik.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! yup */ \"./node_modules/yup/es/index.js\");\n/* harmony import */ var _bigcommerce_checkout_locale__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bigcommerce/checkout/locale */ \"./packages/locale/src/withLanguage.tsx\");\n/* harmony import */ var _bigcommerce_checkout_locale__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bigcommerce/checkout/locale */ \"./packages/locale/src/TranslatedString.tsx\");\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/contexts/checkout-context/CheckoutContext.tsx\");\n/* harmony import */ var _bigcommerce_checkout_paypal_fastlane_integration__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @bigcommerce/checkout/paypal-fastlane-integration */ \"./packages/paypal-fastlane-integration/src/usePayPalFastlaneAddress.ts\");\n/* harmony import */ var _bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @bigcommerce/checkout/ui */ \"./packages/ui/src/context/ThemeContext.tsx\");\n/* harmony import */ var _bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @bigcommerce/checkout/ui */ \"./packages/ui/src/form/LoadingSkeleton/AddressFormSkeleton.tsx\");\n/* harmony import */ var _bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @bigcommerce/checkout/ui */ \"./packages/ui/src/loading/LoadingOverlay.tsx\");\n/* harmony import */ var _address__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../address */ \"./packages/core/src/app/address/mapAddressToFormValues.ts\");\n/* harmony import */ var _address__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../address */ \"./packages/core/src/app/address/AddressForm.tsx\");\n/* harmony import */ var _address__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../address */ \"./packages/core/src/app/address/AddressSelect.tsx\");\n/* harmony import */ var _address__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../address */ \"./packages/core/src/app/address/AddressType.ts\");\n/* harmony import */ var _address__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../address */ \"./packages/core/src/app/address/isValidCustomerAddress.ts\");\n/* harmony import */ var _address__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../address */ \"./packages/core/src/app/address/getAddressFormFieldsValidationSchema.ts\");\n/* harmony import */ var _formFields__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../formFields */ \"./packages/core/src/app/formFields/getCustomFormFieldsValidationSchema.ts\");\n/* harmony import */ var _orderComments__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../orderComments */ \"./packages/core/src/app/orderComments/OrderComments.tsx\");\n/* harmony import */ var _shipping__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../shipping */ \"./packages/core/src/app/shipping/getShippableItemsCount.ts\");\n/* harmony import */ var _ui_button__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../ui/button */ \"./packages/core/src/app/ui/button/Button.tsx\");\n/* harmony import */ var _ui_form__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../ui/form */ \"./packages/core/src/app/ui/form/Fieldset.tsx\");\n/* harmony import */ var _ui_form__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../ui/form */ \"./packages/core/src/app/ui/form/Form.tsx\");\n/* harmony import */ var _StaticBillingAddress__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./StaticBillingAddress */ \"./packages/core/src/app/billing/StaticBillingAddress.tsx\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst BillingForm = ({ methodId, getFields, billingAddress, setFieldValue, values, onUnhandledError, }) => {\n    const [isResettingAddress, setIsResettingAddress] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const addressFormRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const { isPayPalFastlaneEnabled, paypalFastlaneAddresses } = (0,_bigcommerce_checkout_paypal_fastlane_integration__WEBPACK_IMPORTED_MODULE_7__[\"default\"])();\n    const { themeV2 } = (0,_bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_8__.useThemeContext)();\n    const { checkoutService, checkoutState } = (0,_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_6__.useCheckout)();\n    const { data: { getCustomer, getConfig, getCart }, statuses: { isUpdatingBillingAddress, isUpdatingCheckout }, } = checkoutState;\n    const customer = getCustomer();\n    const config = getConfig();\n    const cart = getCart();\n    if (!config || !customer || !cart) {\n        throw new Error('checkout data is not available');\n    }\n    const isGuest = customer.isGuest;\n    const addresses = customer.addresses;\n    const shouldRenderStaticAddress = methodId === 'amazonpay';\n    const allFormFields = getFields(values.countryCode);\n    const customFormFields = allFormFields.filter(({ custom }) => custom);\n    const hasCustomFormFields = customFormFields.length > 0;\n    const editableFormFields = shouldRenderStaticAddress && hasCustomFormFields ? customFormFields : allFormFields;\n    const billingAddresses = isGuest && isPayPalFastlaneEnabled ? paypalFastlaneAddresses : addresses;\n    const hasAddresses = (billingAddresses === null || billingAddresses === void 0 ? void 0 : billingAddresses.length) > 0;\n    const hasValidCustomerAddress = billingAddress &&\n        (0,_address__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(billingAddress, billingAddresses, getFields(billingAddress.countryCode));\n    const isUpdating = isUpdatingBillingAddress() || isUpdatingCheckout();\n    const { enableOrderComments } = config.checkoutSettings;\n    const shouldShowOrderComments = enableOrderComments && (0,_shipping__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(cart) < 1;\n    const handleSelectAddress = (address) => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n        setIsResettingAddress(true);\n        try {\n            yield checkoutService.updateBillingAddress(address);\n        }\n        catch (error) {\n            if (error instanceof Error) {\n                onUnhandledError(error);\n            }\n        }\n        finally {\n            setIsResettingAddress(false);\n        }\n    });\n    const handleUseNewAddress = () => {\n        void handleSelectAddress({});\n    };\n    return (react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_ui_form__WEBPACK_IMPORTED_MODULE_22__[\"default\"], { autoComplete: \"on\" },\n        shouldRenderStaticAddress && billingAddress && (react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"form-fieldset\" },\n            react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_StaticBillingAddress__WEBPACK_IMPORTED_MODULE_23__[\"default\"], { address: billingAddress }))),\n        react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_ui_form__WEBPACK_IMPORTED_MODULE_21__[\"default\"], { id: \"checkoutBillingAddress\", ref: addressFormRef },\n            hasAddresses && !shouldRenderStaticAddress && (react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_ui_form__WEBPACK_IMPORTED_MODULE_21__[\"default\"], { id: \"billingAddresses\" },\n                react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_10__[\"default\"], { isLoading: isResettingAddress },\n                    react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_address__WEBPACK_IMPORTED_MODULE_13__[\"default\"], { addresses: billingAddresses, onSelectAddress: handleSelectAddress, onUseNewAddress: handleUseNewAddress, selectedAddress: hasValidCustomerAddress ? billingAddress : undefined, type: _address__WEBPACK_IMPORTED_MODULE_14__[\"default\"].Billing })))),\n            !hasValidCustomerAddress && (react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_9__[\"default\"], { isLoading: isResettingAddress },\n                react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_address__WEBPACK_IMPORTED_MODULE_12__[\"default\"], { countryCode: values.countryCode, formFields: editableFormFields, setFieldValue: setFieldValue, shouldShowSaveAddress: !isGuest, type: _address__WEBPACK_IMPORTED_MODULE_14__[\"default\"].Billing })))),\n        shouldShowOrderComments && react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_orderComments__WEBPACK_IMPORTED_MODULE_18__[\"default\"], null),\n        react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"form-actions\" },\n            react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_ui_button__WEBPACK_IMPORTED_MODULE_20__[\"default\"], { className: themeV2 ? 'body-bold' : '', disabled: isUpdating || isResettingAddress, id: \"checkout-billing-continue\", isLoading: isUpdating || isResettingAddress, type: \"submit\", variant: _ui_button__WEBPACK_IMPORTED_MODULE_20__.ButtonVariant.Primary },\n                react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_bigcommerce_checkout_locale__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { id: \"common.continue_action\" })))));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_bigcommerce_checkout_locale__WEBPACK_IMPORTED_MODULE_4__[\"default\"])((0,formik__WEBPACK_IMPORTED_MODULE_1__.withFormik)({\n    handleSubmit: (values, { props: { onSubmit } }) => {\n        onSubmit(values);\n    },\n    mapPropsToValues: ({ getFields, customerMessage, billingAddress }) => (Object.assign(Object.assign({}, (0,_address__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(getFields(billingAddress && billingAddress.countryCode), billingAddress)), { orderComment: customerMessage })),\n    isInitialValid: ({ billingAddress, getFields, language }) => !!billingAddress &&\n        (0,_address__WEBPACK_IMPORTED_MODULE_16__[\"default\"])({\n            language,\n            formFields: getFields(billingAddress.countryCode),\n        }).isValidSync(billingAddress),\n    validationSchema: ({ language, getFields, methodId, }) => methodId === 'amazonpay'\n        ? (0,yup__WEBPACK_IMPORTED_MODULE_3__.lazy)((values) => (0,_formFields__WEBPACK_IMPORTED_MODULE_17__[\"default\"])({\n            translate: (0,_address__WEBPACK_IMPORTED_MODULE_16__.getTranslateAddressError)(language),\n            formFields: getFields(values && values.countryCode),\n        }))\n        : (0,yup__WEBPACK_IMPORTED_MODULE_3__.lazy)((values) => (0,_address__WEBPACK_IMPORTED_MODULE_16__[\"default\"])({\n            language,\n            formFields: getFields(values && values.countryCode),\n        })),\n    enableReinitialize: true,\n})(BillingForm)));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9jb3JlL3NyYy9hcHAvYmlsbGluZy9CaWxsaW5nRm9ybS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSXNEO0FBQ1U7QUFDckM7QUFFMkU7QUFDMUI7QUFDaUI7QUFDRztBQVc1RTtBQUNnRDtBQUNuQjtBQUNJO0FBQ0E7QUFDVDtBQUVjO0FBYzFELE1BQU0sV0FBVyxHQUFHLENBQUMsRUFDakIsUUFBUSxFQUNSLFNBQVMsRUFDVCxjQUFjLEVBQ2QsYUFBYSxFQUNiLE1BQU0sRUFDTixnQkFBZ0IsR0FDb0QsRUFBRSxFQUFFO0lBQ3hFLE1BQU0sQ0FBQyxrQkFBa0IsRUFBRSxxQkFBcUIsQ0FBQyxHQUFHLCtDQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDcEUsTUFBTSxjQUFjLEdBQW1DLDZDQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDcEUsTUFBTSxFQUFFLHVCQUF1QixFQUFFLHVCQUF1QixFQUFFLEdBQUcsNkZBQXdCLEVBQUUsQ0FBQztJQUV4RixNQUFNLEVBQUUsT0FBTyxFQUFFLEdBQUcseUVBQWUsRUFBRSxDQUFDO0lBQ3RDLE1BQU0sRUFBRSxlQUFlLEVBQUUsYUFBYSxFQUFFLEdBQUcsMEZBQVcsRUFBRSxDQUFDO0lBRXpELE1BQU0sRUFDRixJQUFJLEVBQUUsRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxFQUN6QyxRQUFRLEVBQUUsRUFBRSx3QkFBd0IsRUFBRSxrQkFBa0IsRUFBRSxHQUM3RCxHQUFHLGFBQWEsQ0FBQztJQUNsQixNQUFNLFFBQVEsR0FBRyxXQUFXLEVBQUUsQ0FBQztJQUMvQixNQUFNLE1BQU0sR0FBRyxTQUFTLEVBQUUsQ0FBQztJQUMzQixNQUFNLElBQUksR0FBRyxPQUFPLEVBQUUsQ0FBQztJQUV2QixJQUFJLENBQUMsTUFBTSxJQUFJLENBQUMsUUFBUSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDaEMsTUFBTSxJQUFJLEtBQUssQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO0lBQ3RELENBQUM7SUFFRCxNQUFNLE9BQU8sR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDO0lBQ2pDLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUM7SUFDckMsTUFBTSx5QkFBeUIsR0FBRyxRQUFRLEtBQUssV0FBVyxDQUFDO0lBQzNELE1BQU0sYUFBYSxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDcEQsTUFBTSxnQkFBZ0IsR0FBRyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDdEUsTUFBTSxtQkFBbUIsR0FBRyxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ3hELE1BQU0sa0JBQWtCLEdBQ3BCLHlCQUF5QixJQUFJLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDO0lBQ3hGLE1BQU0sZ0JBQWdCLEdBQUcsT0FBTyxJQUFJLHVCQUF1QixDQUFDLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO0lBQ2xHLE1BQU0sWUFBWSxHQUFHLGlCQUFnQixhQUFoQixnQkFBZ0IsdUJBQWhCLGdCQUFnQixDQUFFLE1BQU0sSUFBRyxDQUFDLENBQUM7SUFDbEQsTUFBTSx1QkFBdUIsR0FDekIsY0FBYztRQUNkLHFEQUFzQixDQUNsQixjQUFjLEVBQ2QsZ0JBQWdCLEVBQ2hCLFNBQVMsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQ3hDLENBQUM7SUFDTixNQUFNLFVBQVUsR0FBSSx3QkFBd0IsRUFBRSxJQUFJLGtCQUFrQixFQUFFLENBQUM7SUFDdkUsTUFBTSxFQUFFLG1CQUFtQixFQUFFLEdBQUcsTUFBTSxDQUFDLGdCQUFnQixDQUFDO0lBQ3hELE1BQU0sdUJBQXVCLEdBQUksbUJBQW1CLElBQUksc0RBQXNCLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRXpGLE1BQU0sbUJBQW1CLEdBQUcsQ0FBTyxPQUF5QixFQUFFLEVBQUUsQ0FBQztRQUM3RCxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUU1QixJQUFJLENBQUM7WUFDRCxNQUFNLGVBQWUsQ0FBQyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN4RCxDQUFDO1FBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztZQUNiLElBQUksS0FBSyxZQUFZLEtBQUssRUFBRSxDQUFDO2dCQUN6QixnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM1QixDQUFDO1FBQ0wsQ0FBQztnQkFBUyxDQUFDO1lBQ1AscUJBQXFCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDakMsQ0FBQztJQUNMLENBQUMsRUFBQztJQUVGLE1BQU0sbUJBQW1CLEdBQUcsR0FBRyxFQUFFO1FBQzdCLEtBQUssbUJBQW1CLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDakMsQ0FBQyxDQUFDO0lBRUYsT0FBTyxDQUNILDJEQUFDLGlEQUFJLElBQUMsWUFBWSxFQUFDLElBQUk7UUFDbEIseUJBQXlCLElBQUksY0FBYyxJQUFJLENBQzVDLG9FQUFLLFNBQVMsRUFBQyxlQUFlO1lBQzFCLDJEQUFDLDhEQUFvQixJQUFDLE9BQU8sRUFBRSxjQUFjLEdBQUksQ0FDL0MsQ0FDVDtRQUVELDJEQUFDLGlEQUFRLElBQUMsRUFBRSxFQUFDLHdCQUF3QixFQUFDLEdBQUcsRUFBRSxjQUFjO1lBQ3BELFlBQVksSUFBSSxDQUFDLHlCQUF5QixJQUFJLENBQzNDLDJEQUFDLGlEQUFRLElBQUMsRUFBRSxFQUFDLGtCQUFrQjtnQkFDM0IsMkRBQUMsaUVBQWMsSUFBQyxTQUFTLEVBQUUsa0JBQWtCO29CQUN6QywyREFBQyxpREFBYSxJQUNWLFNBQVMsRUFBRSxnQkFBZ0IsRUFDM0IsZUFBZSxFQUFFLG1CQUFtQixFQUNwQyxlQUFlLEVBQUUsbUJBQW1CLEVBQ3BDLGVBQWUsRUFDWCx1QkFBdUIsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBRXhELElBQUksRUFBRSxpREFBVyxDQUFDLE9BQU8sR0FDM0IsQ0FDVyxDQUNWLENBQ2Q7WUFFQSxDQUFDLHVCQUF1QixJQUFJLENBQ3pCLDJEQUFDLGdFQUFtQixJQUFDLFNBQVMsRUFBRSxrQkFBa0I7Z0JBQzlDLDJEQUFDLGlEQUFXLElBQ1IsV0FBVyxFQUFFLE1BQU0sQ0FBQyxXQUFXLEVBQy9CLFVBQVUsRUFBRSxrQkFBa0IsRUFDOUIsYUFBYSxFQUFFLGFBQWEsRUFDNUIscUJBQXFCLEVBQUUsQ0FBQyxPQUFPLEVBQy9CLElBQUksRUFBRSxpREFBVyxDQUFDLE9BQU8sR0FDM0IsQ0FDZ0IsQ0FDekIsQ0FDTTtRQUVWLHVCQUF1QixJQUFJLDJEQUFDLHVEQUFhLE9BQUc7UUFFN0Msb0VBQUssU0FBUyxFQUFDLGNBQWM7WUFDekIsMkRBQUMsbURBQU0sSUFDSCxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFDckMsUUFBUSxFQUFFLFVBQVUsSUFBSSxrQkFBa0IsRUFDMUMsRUFBRSxFQUFDLDJCQUEyQixFQUM5QixTQUFTLEVBQUUsVUFBVSxJQUFJLGtCQUFrQixFQUMzQyxJQUFJLEVBQUMsUUFBUSxFQUNiLE9BQU8sRUFBRSxzREFBYSxDQUFDLE9BQU87Z0JBRTlCLDJEQUFDLG9FQUFnQixJQUFDLEVBQUUsRUFBQyx3QkFBd0IsR0FBRyxDQUMzQyxDQUNQLENBQ0gsQ0FDVixDQUFDO0FBQ04sQ0FBQyxDQUFDO0FBRUYsaUVBQWUsd0VBQVksQ0FDdkIsa0RBQVUsQ0FBMEQ7SUFDaEUsWUFBWSxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRSxFQUFFO1FBQzlDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNyQixDQUFDO0lBQ0QsZ0JBQWdCLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEVBQUUsRUFBRSxDQUFDLGlDQUMvRCxxREFBc0IsQ0FDckIsU0FBUyxDQUFDLGNBQWMsSUFBSSxjQUFjLENBQUMsV0FBVyxDQUFDLEVBQ3ZELGNBQWMsQ0FDakIsS0FDRCxZQUFZLEVBQUUsZUFBZSxJQUMvQjtJQUNGLGNBQWMsRUFBRSxDQUFDLEVBQUUsY0FBYyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLENBQ3hELENBQUMsQ0FBQyxjQUFjO1FBQ2hCLHFEQUFvQyxDQUFDO1lBQ2pDLFFBQVE7WUFDUixVQUFVLEVBQUUsU0FBUyxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUM7U0FDcEQsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxjQUFjLENBQUM7SUFDbEMsZ0JBQWdCLEVBQUUsQ0FBQyxFQUNmLFFBQVEsRUFDUixTQUFTLEVBQ1QsUUFBUSxHQUMyQixFQUFFLEVBQUUsQ0FDdkMsUUFBUSxLQUFLLFdBQVc7UUFDcEIsQ0FBQyxDQUFDLHlDQUFJLENBQTZCLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FDeEMsd0RBQW1DLENBQUM7WUFDaEMsU0FBUyxFQUFFLG1FQUF3QixDQUFDLFFBQVEsQ0FBQztZQUM3QyxVQUFVLEVBQUUsU0FBUyxDQUFDLE1BQU0sSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDO1NBQ3RELENBQUMsQ0FDTDtRQUNILENBQUMsQ0FBQyx5Q0FBSSxDQUE2QixDQUFDLE1BQU0sRUFBRSxFQUFFLENBQ3hDLHFEQUFvQyxDQUFDO1lBQ2pDLFFBQVE7WUFDUixVQUFVLEVBQUUsU0FBUyxDQUFDLE1BQU0sSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDO1NBQ3RELENBQUMsQ0FDTDtJQUNYLGtCQUFrQixFQUFFLElBQUk7Q0FDM0IsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUNsQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvLi9wYWNrYWdlcy9jb3JlL3NyYy9hcHAvYmlsbGluZy9CaWxsaW5nRm9ybS50c3g/YTIwNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIHR5cGUgQWRkcmVzcyxcbiAgICB0eXBlIEZvcm1GaWVsZCxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkayc7XG5pbXBvcnQgeyB0eXBlIEZvcm1pa1Byb3BzLCB3aXRoRm9ybWlrIH0gZnJvbSAnZm9ybWlrJztcbmltcG9ydCBSZWFjdCwgeyB0eXBlIFJlZk9iamVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGxhenkgfSBmcm9tICd5dXAnO1xuXG5pbXBvcnQgeyBUcmFuc2xhdGVkU3RyaW5nLCB3aXRoTGFuZ3VhZ2UsIHR5cGUgV2l0aExhbmd1YWdlUHJvcHMgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQvbG9jYWxlJztcbmltcG9ydCB7IHVzZUNoZWNrb3V0IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7IHVzZVBheVBhbEZhc3RsYW5lQWRkcmVzcyB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC9wYXlwYWwtZmFzdGxhbmUtaW50ZWdyYXRpb24nO1xuaW1wb3J0IHsgQWRkcmVzc0Zvcm1Ta2VsZXRvbiwgTG9hZGluZ092ZXJsYXksIHVzZVRoZW1lQ29udGV4dCB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC91aSc7XG5cbmltcG9ydCB7XG4gIEFkZHJlc3NGb3JtLFxuICB0eXBlIEFkZHJlc3NGb3JtVmFsdWVzLFxuICBBZGRyZXNzU2VsZWN0LFxuICBBZGRyZXNzVHlwZSxcbiAgZ2V0QWRkcmVzc0Zvcm1GaWVsZHNWYWxpZGF0aW9uU2NoZW1hLFxuICBnZXRUcmFuc2xhdGVBZGRyZXNzRXJyb3IsXG4gIGlzVmFsaWRDdXN0b21lckFkZHJlc3MsXG4gIG1hcEFkZHJlc3NUb0Zvcm1WYWx1ZXMsXG59IGZyb20gJy4uL2FkZHJlc3MnO1xuaW1wb3J0IHsgZ2V0Q3VzdG9tRm9ybUZpZWxkc1ZhbGlkYXRpb25TY2hlbWEgfSBmcm9tICcuLi9mb3JtRmllbGRzJztcbmltcG9ydCB7IE9yZGVyQ29tbWVudHMgfSBmcm9tICcuLi9vcmRlckNvbW1lbnRzJztcbmltcG9ydCB7IGdldFNoaXBwYWJsZUl0ZW1zQ291bnQgfSBmcm9tICcuLi9zaGlwcGluZyc7XG5pbXBvcnQgeyBCdXR0b24sIEJ1dHRvblZhcmlhbnQgfSBmcm9tICcuLi91aS9idXR0b24nO1xuaW1wb3J0IHsgRmllbGRzZXQsIEZvcm0gfSBmcm9tICcuLi91aS9mb3JtJztcblxuaW1wb3J0IFN0YXRpY0JpbGxpbmdBZGRyZXNzIGZyb20gJy4vU3RhdGljQmlsbGluZ0FkZHJlc3MnO1xuXG5leHBvcnQgdHlwZSBCaWxsaW5nRm9ybVZhbHVlcyA9IEFkZHJlc3NGb3JtVmFsdWVzICYgeyBvcmRlckNvbW1lbnQ6IHN0cmluZyB9O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJpbGxpbmdGb3JtUHJvcHMge1xuICAgIG1ldGhvZElkPzogc3RyaW5nO1xuICAgIGJpbGxpbmdBZGRyZXNzPzogQWRkcmVzcztcbiAgICBjdXN0b21lck1lc3NhZ2U6IHN0cmluZztcbiAgICBuYXZpZ2F0ZU5leHRTdGVwKCk6IHZvaWQ7XG4gICAgb25TdWJtaXQodmFsdWVzOiBCaWxsaW5nRm9ybVZhbHVlcyk6IHZvaWQ7XG4gICAgb25VbmhhbmRsZWRFcnJvcihlcnJvcjogRXJyb3IpOiB2b2lkO1xuICAgIGdldEZpZWxkcyhjb3VudHJ5Q29kZT86IHN0cmluZyk6IEZvcm1GaWVsZFtdO1xufVxuXG5jb25zdCBCaWxsaW5nRm9ybSA9ICh7XG4gICAgbWV0aG9kSWQsXG4gICAgZ2V0RmllbGRzLFxuICAgIGJpbGxpbmdBZGRyZXNzLFxuICAgIHNldEZpZWxkVmFsdWUsXG4gICAgdmFsdWVzLFxuICAgIG9uVW5oYW5kbGVkRXJyb3IsXG59OiBCaWxsaW5nRm9ybVByb3BzICYgV2l0aExhbmd1YWdlUHJvcHMgJiBGb3JtaWtQcm9wczxCaWxsaW5nRm9ybVZhbHVlcz4pID0+IHtcbiAgICBjb25zdCBbaXNSZXNldHRpbmdBZGRyZXNzLCBzZXRJc1Jlc2V0dGluZ0FkZHJlc3NdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IGFkZHJlc3NGb3JtUmVmOiBSZWZPYmplY3Q8SFRNTEZpZWxkU2V0RWxlbWVudD4gPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgeyBpc1BheVBhbEZhc3RsYW5lRW5hYmxlZCwgcGF5cGFsRmFzdGxhbmVBZGRyZXNzZXMgfSA9IHVzZVBheVBhbEZhc3RsYW5lQWRkcmVzcygpO1xuXG4gICAgY29uc3QgeyB0aGVtZVYyIH0gPSB1c2VUaGVtZUNvbnRleHQoKTtcbiAgICBjb25zdCB7IGNoZWNrb3V0U2VydmljZSwgY2hlY2tvdXRTdGF0ZSB9ID0gdXNlQ2hlY2tvdXQoKTtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgZGF0YTogeyBnZXRDdXN0b21lciwgZ2V0Q29uZmlnLCBnZXRDYXJ0IH0sXG4gICAgICAgIHN0YXR1c2VzOiB7IGlzVXBkYXRpbmdCaWxsaW5nQWRkcmVzcywgaXNVcGRhdGluZ0NoZWNrb3V0IH0sXG4gICAgfSA9IGNoZWNrb3V0U3RhdGU7XG4gICAgY29uc3QgY3VzdG9tZXIgPSBnZXRDdXN0b21lcigpO1xuICAgIGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZygpO1xuICAgIGNvbnN0IGNhcnQgPSBnZXRDYXJ0KCk7XG5cbiAgICBpZiAoIWNvbmZpZyB8fCAhY3VzdG9tZXIgfHwgIWNhcnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjaGVja291dCBkYXRhIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICB9XG5cbiAgICBjb25zdCBpc0d1ZXN0ID0gY3VzdG9tZXIuaXNHdWVzdDtcbiAgICBjb25zdCBhZGRyZXNzZXMgPSBjdXN0b21lci5hZGRyZXNzZXM7XG4gICAgY29uc3Qgc2hvdWxkUmVuZGVyU3RhdGljQWRkcmVzcyA9IG1ldGhvZElkID09PSAnYW1hem9ucGF5JztcbiAgICBjb25zdCBhbGxGb3JtRmllbGRzID0gZ2V0RmllbGRzKHZhbHVlcy5jb3VudHJ5Q29kZSk7XG4gICAgY29uc3QgY3VzdG9tRm9ybUZpZWxkcyA9IGFsbEZvcm1GaWVsZHMuZmlsdGVyKCh7IGN1c3RvbSB9KSA9PiBjdXN0b20pO1xuICAgIGNvbnN0IGhhc0N1c3RvbUZvcm1GaWVsZHMgPSBjdXN0b21Gb3JtRmllbGRzLmxlbmd0aCA+IDA7XG4gICAgY29uc3QgZWRpdGFibGVGb3JtRmllbGRzID1cbiAgICAgICAgc2hvdWxkUmVuZGVyU3RhdGljQWRkcmVzcyAmJiBoYXNDdXN0b21Gb3JtRmllbGRzID8gY3VzdG9tRm9ybUZpZWxkcyA6IGFsbEZvcm1GaWVsZHM7XG4gICAgY29uc3QgYmlsbGluZ0FkZHJlc3NlcyA9IGlzR3Vlc3QgJiYgaXNQYXlQYWxGYXN0bGFuZUVuYWJsZWQgPyBwYXlwYWxGYXN0bGFuZUFkZHJlc3NlcyA6IGFkZHJlc3NlcztcbiAgICBjb25zdCBoYXNBZGRyZXNzZXMgPSBiaWxsaW5nQWRkcmVzc2VzPy5sZW5ndGggPiAwO1xuICAgIGNvbnN0IGhhc1ZhbGlkQ3VzdG9tZXJBZGRyZXNzID1cbiAgICAgICAgYmlsbGluZ0FkZHJlc3MgJiZcbiAgICAgICAgaXNWYWxpZEN1c3RvbWVyQWRkcmVzcyhcbiAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzLFxuICAgICAgICAgICAgYmlsbGluZ0FkZHJlc3NlcyxcbiAgICAgICAgICAgIGdldEZpZWxkcyhiaWxsaW5nQWRkcmVzcy5jb3VudHJ5Q29kZSksXG4gICAgICAgICk7XG4gICAgY29uc3QgaXNVcGRhdGluZyAgPSBpc1VwZGF0aW5nQmlsbGluZ0FkZHJlc3MoKSB8fCBpc1VwZGF0aW5nQ2hlY2tvdXQoKTtcbiAgICBjb25zdCB7IGVuYWJsZU9yZGVyQ29tbWVudHMgfSA9IGNvbmZpZy5jaGVja291dFNldHRpbmdzO1xuICAgIGNvbnN0IHNob3VsZFNob3dPcmRlckNvbW1lbnRzICA9IGVuYWJsZU9yZGVyQ29tbWVudHMgJiYgZ2V0U2hpcHBhYmxlSXRlbXNDb3VudChjYXJ0KSA8IDE7XG5cbiAgICBjb25zdCBoYW5kbGVTZWxlY3RBZGRyZXNzID0gYXN5bmMgKGFkZHJlc3M6IFBhcnRpYWw8QWRkcmVzcz4pID0+IHtcbiAgICAgICAgc2V0SXNSZXNldHRpbmdBZGRyZXNzKHRydWUpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBjaGVja291dFNlcnZpY2UudXBkYXRlQmlsbGluZ0FkZHJlc3MoYWRkcmVzcyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIG9uVW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0SXNSZXNldHRpbmdBZGRyZXNzKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVVc2VOZXdBZGRyZXNzID0gKCkgPT4ge1xuICAgICAgICB2b2lkIGhhbmRsZVNlbGVjdEFkZHJlc3Moe30pO1xuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8Rm9ybSBhdXRvQ29tcGxldGU9XCJvblwiPlxuICAgICAgICAgICAge3Nob3VsZFJlbmRlclN0YXRpY0FkZHJlc3MgJiYgYmlsbGluZ0FkZHJlc3MgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1maWVsZHNldFwiPlxuICAgICAgICAgICAgICAgICAgICA8U3RhdGljQmlsbGluZ0FkZHJlc3MgYWRkcmVzcz17YmlsbGluZ0FkZHJlc3N9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICA8RmllbGRzZXQgaWQ9XCJjaGVja291dEJpbGxpbmdBZGRyZXNzXCIgcmVmPXthZGRyZXNzRm9ybVJlZn0+XG4gICAgICAgICAgICAgICAge2hhc0FkZHJlc3NlcyAmJiAhc2hvdWxkUmVuZGVyU3RhdGljQWRkcmVzcyAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxGaWVsZHNldCBpZD1cImJpbGxpbmdBZGRyZXNzZXNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxMb2FkaW5nT3ZlcmxheSBpc0xvYWRpbmc9e2lzUmVzZXR0aW5nQWRkcmVzc30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFkZHJlc3NTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzc2VzPXtiaWxsaW5nQWRkcmVzc2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdEFkZHJlc3M9e2hhbmRsZVNlbGVjdEFkZHJlc3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVXNlTmV3QWRkcmVzcz17aGFuZGxlVXNlTmV3QWRkcmVzc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRBZGRyZXNzPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc1ZhbGlkQ3VzdG9tZXJBZGRyZXNzID8gYmlsbGluZ0FkZHJlc3MgOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPXtBZGRyZXNzVHlwZS5CaWxsaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0xvYWRpbmdPdmVybGF5PlxuICAgICAgICAgICAgICAgICAgICA8L0ZpZWxkc2V0PlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICB7IWhhc1ZhbGlkQ3VzdG9tZXJBZGRyZXNzICYmIChcbiAgICAgICAgICAgICAgICAgICAgPEFkZHJlc3NGb3JtU2tlbGV0b24gaXNMb2FkaW5nPXtpc1Jlc2V0dGluZ0FkZHJlc3N9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEFkZHJlc3NGb3JtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRyeUNvZGU9e3ZhbHVlcy5jb3VudHJ5Q29kZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtRmllbGRzPXtlZGl0YWJsZUZvcm1GaWVsZHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RmllbGRWYWx1ZT17c2V0RmllbGRWYWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRTaG93U2F2ZUFkZHJlc3M9eyFpc0d1ZXN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9e0FkZHJlc3NUeXBlLkJpbGxpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L0FkZHJlc3NGb3JtU2tlbGV0b24+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvRmllbGRzZXQ+XG5cbiAgICAgICAgICAgIHtzaG91bGRTaG93T3JkZXJDb21tZW50cyAmJiA8T3JkZXJDb21tZW50cyAvPn1cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWFjdGlvbnNcIj5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhlbWVWMiA/ICdib2R5LWJvbGQnIDogJyd9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1VwZGF0aW5nIHx8IGlzUmVzZXR0aW5nQWRkcmVzc31cbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJjaGVja291dC1iaWxsaW5nLWNvbnRpbnVlXCJcbiAgICAgICAgICAgICAgICAgICAgaXNMb2FkaW5nPXtpc1VwZGF0aW5nIHx8IGlzUmVzZXR0aW5nQWRkcmVzc31cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9e0J1dHRvblZhcmlhbnQuUHJpbWFyeX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxUcmFuc2xhdGVkU3RyaW5nIGlkPVwiY29tbW9uLmNvbnRpbnVlX2FjdGlvblwiIC8+XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9Gb3JtPlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB3aXRoTGFuZ3VhZ2UoXG4gICAgd2l0aEZvcm1pazxCaWxsaW5nRm9ybVByb3BzICYgV2l0aExhbmd1YWdlUHJvcHMsIEJpbGxpbmdGb3JtVmFsdWVzPih7XG4gICAgICAgIGhhbmRsZVN1Ym1pdDogKHZhbHVlcywgeyBwcm9wczogeyBvblN1Ym1pdCB9IH0pID0+IHtcbiAgICAgICAgICAgIG9uU3VibWl0KHZhbHVlcyk7XG4gICAgICAgIH0sXG4gICAgICAgIG1hcFByb3BzVG9WYWx1ZXM6ICh7IGdldEZpZWxkcywgY3VzdG9tZXJNZXNzYWdlLCBiaWxsaW5nQWRkcmVzcyB9KSA9PiAoe1xuICAgICAgICAgICAgLi4ubWFwQWRkcmVzc1RvRm9ybVZhbHVlcyhcbiAgICAgICAgICAgICAgICBnZXRGaWVsZHMoYmlsbGluZ0FkZHJlc3MgJiYgYmlsbGluZ0FkZHJlc3MuY291bnRyeUNvZGUpLFxuICAgICAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIG9yZGVyQ29tbWVudDogY3VzdG9tZXJNZXNzYWdlLFxuICAgICAgICB9KSxcbiAgICAgICAgaXNJbml0aWFsVmFsaWQ6ICh7IGJpbGxpbmdBZGRyZXNzLCBnZXRGaWVsZHMsIGxhbmd1YWdlIH0pID0+XG4gICAgICAgICAgICAhIWJpbGxpbmdBZGRyZXNzICYmXG4gICAgICAgICAgICBnZXRBZGRyZXNzRm9ybUZpZWxkc1ZhbGlkYXRpb25TY2hlbWEoe1xuICAgICAgICAgICAgICAgIGxhbmd1YWdlLFxuICAgICAgICAgICAgICAgIGZvcm1GaWVsZHM6IGdldEZpZWxkcyhiaWxsaW5nQWRkcmVzcy5jb3VudHJ5Q29kZSksXG4gICAgICAgICAgICB9KS5pc1ZhbGlkU3luYyhiaWxsaW5nQWRkcmVzcyksXG4gICAgICAgIHZhbGlkYXRpb25TY2hlbWE6ICh7XG4gICAgICAgICAgICBsYW5ndWFnZSxcbiAgICAgICAgICAgIGdldEZpZWxkcyxcbiAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICB9OiBCaWxsaW5nRm9ybVByb3BzICYgV2l0aExhbmd1YWdlUHJvcHMpID0+XG4gICAgICAgICAgICBtZXRob2RJZCA9PT0gJ2FtYXpvbnBheSdcbiAgICAgICAgICAgICAgICA/IGxhenk8UGFydGlhbDxBZGRyZXNzRm9ybVZhbHVlcz4+KCh2YWx1ZXMpID0+XG4gICAgICAgICAgICAgICAgICAgICAgZ2V0Q3VzdG9tRm9ybUZpZWxkc1ZhbGlkYXRpb25TY2hlbWEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IGdldFRyYW5zbGF0ZUFkZHJlc3NFcnJvcihsYW5ndWFnZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1GaWVsZHM6IGdldEZpZWxkcyh2YWx1ZXMgJiYgdmFsdWVzLmNvdW50cnlDb2RlKSxcbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IGxhenk8UGFydGlhbDxBZGRyZXNzRm9ybVZhbHVlcz4+KCh2YWx1ZXMpID0+XG4gICAgICAgICAgICAgICAgICAgICAgZ2V0QWRkcmVzc0Zvcm1GaWVsZHNWYWxpZGF0aW9uU2NoZW1hKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1GaWVsZHM6IGdldEZpZWxkcyh2YWx1ZXMgJiYgdmFsdWVzLmNvdW50cnlDb2RlKSxcbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgIGVuYWJsZVJlaW5pdGlhbGl6ZTogdHJ1ZSxcbiAgICB9KShCaWxsaW5nRm9ybSksXG4pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/core/src/app/billing/BillingForm.tsx\n\n}");

/***/ }),

/***/ "./packages/core/src/app/billing/getBillingMethodId.ts":
/*!*************************************************************!*\
  !*** ./packages/core/src/app/billing/getBillingMethodId.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getBillingMethodId)\n/* harmony export */ });\n/* harmony import */ var _payment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../payment */ \"./packages/core/src/app/payment/getPreselectedPayment.ts\");\n\nfunction getBillingMethodId(checkout) {\n    const BILLING_METHOD_IDS = ['amazonpay'];\n    const preselectedPayment = (0,_payment__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(checkout);\n    return preselectedPayment && BILLING_METHOD_IDS.includes(preselectedPayment.providerId)\n        ? preselectedPayment.providerId\n        : undefined;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9jb3JlL3NyYy9hcHAvYmlsbGluZy9nZXRCaWxsaW5nTWV0aG9kSWQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFbUQ7QUFFcEMsU0FBUyxrQkFBa0IsQ0FBQyxRQUFrQjtJQUN6RCxNQUFNLGtCQUFrQixHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDekMsTUFBTSxrQkFBa0IsR0FBRyxvREFBcUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUUzRCxPQUFPLGtCQUFrQixJQUFJLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxVQUFVLENBQUM7UUFDbkYsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLFVBQVU7UUFDL0IsQ0FBQyxDQUFDLFNBQVMsQ0FBQztBQUNwQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvLi9wYWNrYWdlcy9jb3JlL3NyYy9hcHAvYmlsbGluZy9nZXRCaWxsaW5nTWV0aG9kSWQudHM/OWU2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIENoZWNrb3V0IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkayc7XG5cbmltcG9ydCB7IGdldFByZXNlbGVjdGVkUGF5bWVudCB9IGZyb20gJy4uL3BheW1lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRCaWxsaW5nTWV0aG9kSWQoY2hlY2tvdXQ6IENoZWNrb3V0KTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBCSUxMSU5HX01FVEhPRF9JRFMgPSBbJ2FtYXpvbnBheSddO1xuICAgIGNvbnN0IHByZXNlbGVjdGVkUGF5bWVudCA9IGdldFByZXNlbGVjdGVkUGF5bWVudChjaGVja291dCk7XG5cbiAgICByZXR1cm4gcHJlc2VsZWN0ZWRQYXltZW50ICYmIEJJTExJTkdfTUVUSE9EX0lEUy5pbmNsdWRlcyhwcmVzZWxlY3RlZFBheW1lbnQucHJvdmlkZXJJZClcbiAgICAgICAgPyBwcmVzZWxlY3RlZFBheW1lbnQucHJvdmlkZXJJZFxuICAgICAgICA6IHVuZGVmaW5lZDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./packages/core/src/app/billing/getBillingMethodId.ts\n\n}");

/***/ })

}]);