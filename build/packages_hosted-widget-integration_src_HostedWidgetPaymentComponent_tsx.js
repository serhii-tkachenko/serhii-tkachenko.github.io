"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["packages_hosted-widget-integration_src_HostedWidgetPaymentComponent_tsx"],{

/***/ "./packages/hosted-widget-integration/src/EditButton.tsx":
/*!***************************************************************!*\
  !*** ./packages/hosted-widget-integration/src/EditButton.tsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditButton: () => (/* binding */ EditButton)\n/* harmony export */ });\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _bigcommerce_checkout_dom_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bigcommerce/checkout/dom-utils */ \"./packages/dom-utils/src/preventDefault.ts\");\n/* harmony import */ var _bigcommerce_checkout_locale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bigcommerce/checkout/locale */ \"./packages/locale/src/TranslatedString.tsx\");\n\n\n\n\nconst EditButton = ({ buttonId, shouldShowEditButton }) => {\n    if (shouldShowEditButton) {\n        const translatedString = react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_bigcommerce_checkout_locale__WEBPACK_IMPORTED_MODULE_3__[\"default\"], { id: \"remote.select_different_card_action\" });\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"p\", null,\n            react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"button\", { className: classnames__WEBPACK_IMPORTED_MODULE_0___default()('stepHeader', 'widget-link-amazonpay'), id: buttonId, onClick: (0,_bigcommerce_checkout_dom_utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(), type: \"button\" }, translatedString)));\n    }\n    return null;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9ob3N0ZWQtd2lkZ2V0LWludGVncmF0aW9uL3NyYy9FZGl0QnV0dG9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQW9DO0FBQ1U7QUFFbUI7QUFDRDtBQU96RCxNQUFNLFVBQVUsR0FBRyxDQUFDLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFtQixFQUFhLEVBQUU7SUFDekYsSUFBSSxvQkFBb0IsRUFBRSxDQUFDO1FBQ3ZCLE1BQU0sZ0JBQWdCLEdBQUcsMkRBQUMsb0VBQWdCLElBQUMsRUFBRSxFQUFDLHFDQUFxQyxHQUFHLENBQUM7UUFFdkYsT0FBTyxDQUNIO1lBQ0ksdUVBQ0ksU0FBUyxFQUFFLGlEQUFVLENBQUMsWUFBWSxFQUFFLHVCQUF1QixDQUFDLEVBQzVELEVBQUUsRUFBRSxRQUFRLEVBQ1osT0FBTyxFQUFFLDJFQUFjLEVBQUUsRUFDekIsSUFBSSxFQUFDLFFBQVEsSUFFWixnQkFBZ0IsQ0FDWixDQUNULENBQ1AsQ0FBQztJQUNOLENBQUM7SUFFRCxPQUFPLElBQUksQ0FBQztBQUNoQixDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uL3BhY2thZ2VzL2hvc3RlZC13aWRnZXQtaW50ZWdyYXRpb24vc3JjL0VkaXRCdXR0b24udHN4P2JhMTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QsIHsgdHlwZSBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IHByZXZlbnREZWZhdWx0IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L2RvbS11dGlscyc7XG5pbXBvcnQgeyBUcmFuc2xhdGVkU3RyaW5nIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L2xvY2FsZSc7XG5cbmludGVyZmFjZSBFZGl0QnV0dG9uUHJvcHMge1xuICAgIGJ1dHRvbklkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgc2hvdWxkU2hvd0VkaXRCdXR0b246IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjb25zdCBFZGl0QnV0dG9uID0gKHsgYnV0dG9uSWQsIHNob3VsZFNob3dFZGl0QnV0dG9uIH06IEVkaXRCdXR0b25Qcm9wcyk6IFJlYWN0Tm9kZSA9PiB7XG4gICAgaWYgKHNob3VsZFNob3dFZGl0QnV0dG9uKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zbGF0ZWRTdHJpbmcgPSA8VHJhbnNsYXRlZFN0cmluZyBpZD1cInJlbW90ZS5zZWxlY3RfZGlmZmVyZW50X2NhcmRfYWN0aW9uXCIgLz47XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzdGVwSGVhZGVyJywgJ3dpZGdldC1saW5rLWFtYXpvbnBheScpfVxuICAgICAgICAgICAgICAgICAgICBpZD17YnV0dG9uSWR9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3ByZXZlbnREZWZhdWx0KCl9XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge3RyYW5zbGF0ZWRTdHJpbmd9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/hosted-widget-integration/src/EditButton.tsx\n\n}");

/***/ }),

/***/ "./packages/hosted-widget-integration/src/HostedWidgetPaymentComponent.tsx":
/*!*********************************************************************************!*\
  !*** ./packages/hosted-widget-integration/src/HostedWidgetPaymentComponent.tsx ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/guards/isBankInstrument/isBankInstrument.ts\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/guards/isCardInstrument/isCardInstrument.ts\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/storedInstrument/AccountInstrumentFieldset/AccountInstrumentFieldset.tsx\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/storedInstrument/CardInstrumentFieldset/CardInstrumentFieldset.tsx\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/storedInstrument/StoreInstrumentFieldset/StoreInstrumentFieldset.tsx\");\n/* harmony import */ var _bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @bigcommerce/checkout/ui */ \"./packages/ui/src/loading/LoadingOverlay.tsx\");\n/* harmony import */ var _EditButton__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./EditButton */ \"./packages/hosted-widget-integration/src/EditButton.tsx\");\n/* harmony import */ var _PaymentDescriptor__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./PaymentDescriptor */ \"./packages/hosted-widget-integration/src/PaymentDescriptor.tsx\");\n/* harmony import */ var _PaymentWidget__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./PaymentWidget */ \"./packages/hosted-widget-integration/src/PaymentWidget.tsx\");\n\n\n\n\n\n\n\n\nconst HostedWidgetPaymentComponent = ({ instruments, hideWidget = false, isInitializing = false, isAccountInstrument, isInstrumentFeatureAvailable: isInstrumentFeatureAvailableProp, isLoadingInstruments, shouldHideInstrumentExpiryDate = false, shouldShow = true, hideVerificationFields, method, storedCardValidationSchema, isPaymentDataRequired, setValidationSchema, loadInstruments, onUnhandledError = lodash__WEBPACK_IMPORTED_MODULE_1__.noop, deinitializeCustomer, deinitializePayment, setSubmit, initializeCustomer, initializePayment, signInCustomer, isSignedIn, isSignInRequired, isInstrumentCardNumberRequired, validateInstrument, containerId, hideContentWhenSignedOut = false, renderCustomPaymentForm, additionalContainerClassName, shouldRenderCustomInstrument = false, paymentDescriptor, shouldShowDescriptor, shouldShowEditButton, buttonId, setFieldValue, }) => {\n    const [isAddingNewCard, setIsAddingNewCard] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [selectedInstrumentId, setSelectedInstrumentId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(undefined);\n    const instrumentsRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(instruments);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n        instrumentsRef.current = instruments;\n    }, [instruments]);\n    const getDefaultInstrumentId = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n        if (isAddingNewCard) {\n            return undefined;\n        }\n        const defaultInstrument = instrumentsRef.current.find((instrument) => instrument.defaultInstrument) ||\n            instrumentsRef.current[0];\n        return defaultInstrument ? defaultInstrument.bigpayToken : undefined;\n    }, [isAddingNewCard]);\n    const getSelectedInstrument = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n        const currentSelectedId = selectedInstrumentId || getDefaultInstrumentId();\n        return (0,lodash__WEBPACK_IMPORTED_MODULE_1__.find)(instrumentsRef.current, { bigpayToken: currentSelectedId });\n    }, [selectedInstrumentId, getDefaultInstrumentId]);\n    const getValidationSchema = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n        if (!isPaymentDataRequired) {\n            return null;\n        }\n        const currentSelectedInstrument = getSelectedInstrument();\n        if (isInstrumentFeatureAvailableProp && currentSelectedInstrument) {\n            return storedCardValidationSchema || null;\n        }\n        return null;\n    }, [\n        getSelectedInstrument,\n        isInstrumentFeatureAvailableProp,\n        isPaymentDataRequired,\n        storedCardValidationSchema,\n    ]);\n    const getSelectedBankAccountInstrument = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((addingNew, currentSelectedInstrument) => {\n        return !addingNew && (0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_3__.isBankAccountInstrument)(currentSelectedInstrument)\n            ? currentSelectedInstrument\n            : undefined;\n    }, []);\n    const handleDeleteInstrument = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((id) => {\n        if (instruments.length === 0) {\n            setIsAddingNewCard(true);\n            setSelectedInstrumentId(undefined);\n            setFieldValue('instrumentId', '');\n            return;\n        }\n        if (selectedInstrumentId === id) {\n            const nextId = getDefaultInstrumentId();\n            setSelectedInstrumentId(nextId);\n            setFieldValue('instrumentId', nextId);\n        }\n    }, [instruments, selectedInstrumentId, getDefaultInstrumentId]);\n    const handleUseNewCard = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n        setIsAddingNewCard(true);\n        setSelectedInstrumentId(undefined);\n        if (deinitializePayment) {\n            yield deinitializePayment({\n                gatewayId: method.gateway,\n                methodId: method.id,\n            });\n        }\n        if (initializePayment) {\n            yield initializePayment({\n                gatewayId: method.gateway,\n                methodId: method.id,\n            });\n        }\n    }), [method, deinitializePayment, initializePayment]);\n    const handleSelectInstrument = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((id) => {\n        setIsAddingNewCard(false);\n        setSelectedInstrumentId(id);\n    }, []);\n    const getValidateInstrument = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n        const currentSelectedId = selectedInstrumentId || getDefaultInstrumentId();\n        const currentSelectedInstrument = (0,lodash__WEBPACK_IMPORTED_MODULE_1__.find)(instruments, { bigpayToken: currentSelectedId });\n        if (currentSelectedInstrument) {\n            (0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(currentSelectedInstrument);\n            const shouldShowNumberField = isInstrumentCardNumberRequired(currentSelectedInstrument, method);\n            if (hideVerificationFields) {\n                return undefined;\n            }\n            if (validateInstrument) {\n                return validateInstrument(shouldShowNumberField, currentSelectedInstrument);\n            }\n        }\n        return undefined;\n    }, [\n        selectedInstrumentId,\n        getDefaultInstrumentId,\n        instruments,\n        method,\n        hideVerificationFields,\n        validateInstrument,\n    ]);\n    const initializeMethod = () => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n        const currentInstruments = instrumentsRef.current;\n        if (!isPaymentDataRequired) {\n            setSubmit(method, null);\n            return;\n        }\n        if (isSignInRequired && !isSignedIn) {\n            setSubmit(method, signInCustomer || null);\n            if (initializeCustomer) {\n                return initializeCustomer({ methodId: method.id });\n            }\n            return;\n        }\n        setSubmit(method, null);\n        let selectedCardInstrument;\n        if (!isAddingNewCard) {\n            const currentSelectedInstrumentId = selectedInstrumentId || getDefaultInstrumentId();\n            const maybeInstrument = currentInstruments.find((instrument) => instrument.bigpayToken === currentSelectedInstrumentId) || currentInstruments[0];\n            if (maybeInstrument && (0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_4__.isCardInstrument)(maybeInstrument)) {\n                selectedCardInstrument = maybeInstrument;\n            }\n        }\n        if (initializePayment) {\n            return initializePayment({ gatewayId: method.gateway, methodId: method.id }, selectedCardInstrument);\n        }\n    });\n    // Below values are for lower level components\n    const effectiveSelectedInstrumentId = selectedInstrumentId || getDefaultInstrumentId();\n    const selectedInstrument = effectiveSelectedInstrumentId\n        ? instruments.find((i) => i.bigpayToken === effectiveSelectedInstrumentId) || instruments[0]\n        : instruments[0];\n    const cardInstruments = instruments.filter((i) => !(0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_3__.isBankAccountInstrument)(i));\n    const accountInstruments = instruments.filter((i) => (0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_3__.isBankAccountInstrument)(i));\n    const shouldShowInstrumentFieldset = isInstrumentFeatureAvailableProp && instruments.length > 0;\n    const shouldShowCreditCardFieldset = !shouldShowInstrumentFieldset || isAddingNewCard;\n    const isLoading = (isInitializing || isLoadingInstruments) && !hideWidget;\n    const selectedAccountInstrument = selectedInstrument\n        ? getSelectedBankAccountInstrument(isAddingNewCard, selectedInstrument)\n        : undefined;\n    const shouldShowAccountInstrument = instruments[0] && (0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_3__.isBankAccountInstrument)(instruments[0]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n        const init = () => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n            setValidationSchema(method, getValidationSchema());\n            try {\n                if (isInstrumentFeatureAvailableProp) {\n                    yield (loadInstruments === null || loadInstruments === void 0 ? void 0 : loadInstruments());\n                }\n                yield initializeMethod();\n            }\n            catch (error) {\n                if (error instanceof Error) {\n                    onUnhandledError(error);\n                }\n            }\n        });\n        void init();\n        return () => {\n            const deInit = () => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n                setValidationSchema(method, null);\n                setSubmit(method, null);\n                try {\n                    if (deinitializePayment) {\n                        yield deinitializePayment({\n                            gatewayId: method.gateway,\n                            methodId: method.id,\n                        });\n                    }\n                    if (deinitializeCustomer) {\n                        yield deinitializeCustomer({ methodId: method.id });\n                    }\n                }\n                catch (error) {\n                    if (error instanceof Error) {\n                        onUnhandledError(error);\n                    }\n                }\n            });\n            void deInit();\n        };\n    }, []);\n    const isInitialRenderRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(true);\n    const instrumentsLength = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(instruments.length);\n    const isPaymentDataRequiredRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(isPaymentDataRequired);\n    const selectedInstrumentIdRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(selectedInstrumentId);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n        if (isInitialRenderRef.current) {\n            isInitialRenderRef.current = false;\n            return;\n        }\n        setValidationSchema(method, getValidationSchema());\n        const reInit = () => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n            try {\n                if (deinitializePayment) {\n                    yield deinitializePayment({\n                        gatewayId: method.gateway,\n                        methodId: method.id,\n                    });\n                }\n                yield initializeMethod();\n            }\n            catch (error) {\n                if (error instanceof Error) {\n                    onUnhandledError(error);\n                }\n            }\n        });\n        if (selectedInstrumentIdRef.current !== selectedInstrumentId ||\n            (Number(instrumentsLength.current) > 0 && instruments.length === 0) ||\n            isPaymentDataRequiredRef.current !== isPaymentDataRequired) {\n            selectedInstrumentIdRef.current = selectedInstrumentId;\n            instrumentsLength.current = instruments.length;\n            isPaymentDataRequiredRef.current = isPaymentDataRequired;\n            void reInit();\n        }\n    }, [selectedInstrumentId, instruments, isPaymentDataRequired]);\n    if (!shouldShow) {\n        return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { style: { display: 'none' } });\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_bigcommerce_checkout_ui__WEBPACK_IMPORTED_MODULE_8__[\"default\"], { hideContentWhenLoading: true, isLoading: isLoading },\n        react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"paymentMethod--hosted\" },\n            shouldShowAccountInstrument && shouldShowInstrumentFieldset && (react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { instruments: accountInstruments, onSelectInstrument: handleSelectInstrument, onUseNewInstrument: handleUseNewCard, selectedInstrument: selectedAccountInstrument })),\n            !shouldShowAccountInstrument && shouldShowInstrumentFieldset && (react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_6__[\"default\"], { instruments: cardInstruments, onDeleteInstrument: handleDeleteInstrument, onSelectInstrument: handleSelectInstrument, onUseNewInstrument: handleUseNewCard, selectedInstrumentId: effectiveSelectedInstrumentId, shouldHideExpiryDate: shouldHideInstrumentExpiryDate, validateInstrument: getValidateInstrument() })),\n            react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_PaymentDescriptor__WEBPACK_IMPORTED_MODULE_10__.PaymentDescriptor, { paymentDescriptor: paymentDescriptor, shouldShowDescriptor: shouldShowDescriptor }),\n            react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_PaymentWidget__WEBPACK_IMPORTED_MODULE_11__.PaymentWidget, { additionalContainerClassName: additionalContainerClassName, containerId: containerId, hideContentWhenSignedOut: hideContentWhenSignedOut, hideWidget: hideWidget, isSignInRequired: isSignInRequired, isSignedIn: isSignedIn, method: method, renderCustomPaymentForm: renderCustomPaymentForm, shouldRenderCustomInstrument: shouldRenderCustomInstrument, shouldShowCreditCardFieldset: shouldShowCreditCardFieldset }),\n            isInstrumentFeatureAvailableProp && (react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { instrumentId: effectiveSelectedInstrumentId, instruments: instruments, isAccountInstrument: Boolean(isAccountInstrument || shouldShowAccountInstrument) })),\n            react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_EditButton__WEBPACK_IMPORTED_MODULE_9__.EditButton, { buttonId: buttonId, shouldShowEditButton: shouldShowEditButton }))));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HostedWidgetPaymentComponent);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9ob3N0ZWQtd2lkZ2V0LWludGVncmF0aW9uL3NyYy9Ib3N0ZWRXaWRnZXRQYXltZW50Q29tcG9uZW50LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBWW9DO0FBUXJCO0FBVWlDO0FBRVU7QUFFaEI7QUFDYztBQUNSO0FBeUVoRCxNQUFNLDRCQUE0QixHQUFHLENBQUMsRUFDbEMsV0FBVyxFQUNYLFVBQVUsR0FBRyxLQUFLLEVBQ2xCLGNBQWMsR0FBRyxLQUFLLEVBQ3RCLG1CQUFtQixFQUNuQiw0QkFBNEIsRUFBRSxnQ0FBZ0MsRUFDOUQsb0JBQW9CLEVBQ3BCLDhCQUE4QixHQUFHLEtBQUssRUFDdEMsVUFBVSxHQUFHLElBQUksRUFDakIsc0JBQXNCLEVBQ3RCLE1BQU0sRUFDTiwwQkFBMEIsRUFDMUIscUJBQXFCLEVBQ3JCLG1CQUFtQixFQUNuQixlQUFlLEVBQ2YsZ0JBQWdCLEdBQUcsd0NBQUksRUFDdkIsb0JBQW9CLEVBQ3BCLG1CQUFtQixFQUNuQixTQUFTLEVBQ1Qsa0JBQWtCLEVBQ2xCLGlCQUFpQixFQUNqQixjQUFjLEVBQ2QsVUFBVSxFQUNWLGdCQUFnQixFQUNoQiw4QkFBOEIsRUFDOUIsa0JBQWtCLEVBQ2xCLFdBQVcsRUFDWCx3QkFBd0IsR0FBRyxLQUFLLEVBQ2hDLHVCQUF1QixFQUN2Qiw0QkFBNEIsRUFDNUIsNEJBQTRCLEdBQUcsS0FBSyxFQUNwQyxpQkFBaUIsRUFDakIsb0JBQW9CLEVBQ3BCLG9CQUFvQixFQUNwQixRQUFRLEVBQ1IsYUFBYSxHQUNrQyxFQUFnQixFQUFFO0lBQ2pFLE1BQU0sQ0FBQyxlQUFlLEVBQUUsa0JBQWtCLENBQUMsR0FBRywrQ0FBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzlELE1BQU0sQ0FBQyxvQkFBb0IsRUFBRSx1QkFBdUIsQ0FBQyxHQUFHLCtDQUFRLENBQXFCLFNBQVMsQ0FBQyxDQUFDO0lBQ2hHLE1BQU0sY0FBYyxHQUFHLDZDQUFNLENBQXNCLFdBQVcsQ0FB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ZC13aWRnZXQtaW50ZWdyYXRpb24vc3JjL0hvc3RlZFdpZGdldFBheW1lbnRDb21wb25lbnQudHN4PzUyYTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgICB0eXBlIEFjY291bnRJbnN0cnVtZW50LFxuICAgIHR5cGUgQ2FyZEluc3RydW1lbnQsXG4gICAgdHlwZSBDaGVja291dFNlbGVjdG9ycyxcbiAgICB0eXBlIEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgdHlwZSBDdXN0b21lclJlcXVlc3RPcHRpb25zLFxuICAgIHR5cGUgSW5zdHJ1bWVudCxcbiAgICB0eXBlIFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICB0eXBlIFBheW1lbnRJbnN0cnVtZW50LFxuICAgIHR5cGUgUGF5bWVudE1ldGhvZCxcbiAgICB0eXBlIFBheW1lbnRSZXF1ZXN0T3B0aW9ucyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkayc7XG5pbXBvcnQgeyBmaW5kLCBub29wIH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBSZWFjdCwge1xuICAgIHR5cGUgUmVhY3RFbGVtZW50LFxuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHVzZUNhbGxiYWNrLFxuICAgIHVzZUVmZmVjdCxcbiAgICB1c2VSZWYsXG4gICAgdXNlU3RhdGUsXG59IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHR5cGUgT2JqZWN0U2NoZW1hIH0gZnJvbSAneXVwJztcblxuaW1wb3J0IHtcbiAgICBBY2NvdW50SW5zdHJ1bWVudEZpZWxkc2V0LFxuICAgIGFzc2VydElzQ2FyZEluc3RydW1lbnQsXG4gICAgQ2FyZEluc3RydW1lbnRGaWVsZHNldCxcbiAgICBpc0JhbmtBY2NvdW50SW5zdHJ1bWVudCxcbiAgICBpc0NhcmRJbnN0cnVtZW50LFxuICAgIFN0b3JlSW5zdHJ1bWVudEZpZWxkc2V0LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQvaW5zdHJ1bWVudC11dGlscyc7XG5pbXBvcnQgeyB0eXBlIFBheW1lbnRGb3JtVmFsdWVzIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcbmltcG9ydCB7IExvYWRpbmdPdmVybGF5IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L3VpJztcblxuaW1wb3J0IHsgRWRpdEJ1dHRvbiB9IGZyb20gJy4vRWRpdEJ1dHRvbic7XG5pbXBvcnQgeyBQYXltZW50RGVzY3JpcHRvciB9IGZyb20gJy4vUGF5bWVudERlc2NyaXB0b3InO1xuaW1wb3J0IHsgUGF5bWVudFdpZGdldCB9IGZyb20gJy4vUGF5bWVudFdpZGdldCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5bWVudENvbnRleHRQcm9wcyB7XG4gICAgZGlzYWJsZVN1Ym1pdChtZXRob2Q6IFBheW1lbnRNZXRob2QsIGRpc2FibGVkPzogYm9vbGVhbik6IHZvaWQ7XG4gICAgLy8gTk9URTogVGhpcyBwcm9wIGFsbG93cyBjZXJ0YWluIHBheW1lbnQgbWV0aG9kcyB0byBvdmVycmlkZSB0aGUgZGVmYXVsdFxuICAgIC8vIGZvcm0gc3VibWlzc2lvbiBiZWhhdmlvdXIuIEl0IGlzIG5vdCByZWNvbW1lbmRlZCB0byB1c2UgaXQgYmVjYXVzZVxuICAgIC8vIGdlbmVyYWxseSBzcGVha2luZyB3ZSB3YW50IHRvIGF2b2lkIG1ldGhvZC1zcGVjaWZpYyBzbm93Zmxha2UgYmVoYXZpb3Vycy5cbiAgICAvLyBOZXZlcnRoZWxlc3MsIGJlY2F1c2Ugb2Ygc29tZSBwcm9kdWN0IC8gVVggZGVjaXNpb25zIG1hZGUgaW4gdGhlIHBhc3RcbiAgICAvLyAoaS5lLjogQW1hem9uKSwgd2UgaGF2ZSB0byBoYXZlIHRoaXMgYmFja2Rvb3Igc28gd2UgY2FuIHByZXNlcnZlIHRoZXNlXG4gICAgLy8gc25vd2ZsYWtlIGJlaGF2aW91cnMuIEluIHRoZSBmdXR1cmUsIGlmIHdlIGRlY2lkZSB0byBjaGFuZ2UgdGhlIFVYLCB3ZVxuICAgIC8vIGNhbiByZW1vdmUgdGhpcyBwcm9wLlxuICAgIHNldFN1Ym1pdChtZXRob2Q6IFBheW1lbnRNZXRob2QsIGZuOiAoKHZhbHVlczogUGF5bWVudEZvcm1WYWx1ZXMpID0+IHZvaWQpIHwgbnVsbCk6IHZvaWQ7XG4gICAgc2V0RmllbGRWYWx1ZTxURmllbGQgZXh0ZW5kcyBrZXlvZiBQYXltZW50Rm9ybVZhbHVlcz4oXG4gICAgICAgIGZpZWxkOiBURmllbGQsXG4gICAgICAgIHZhbHVlOiBQYXltZW50Rm9ybVZhbHVlc1tURmllbGRdLFxuICAgICk6IHZvaWQ7XG4gICAgc2V0VmFsaWRhdGlvblNjaGVtYShcbiAgICAgICAgbWV0aG9kOiBQYXltZW50TWV0aG9kLFxuICAgICAgICBzY2hlbWE6IE9iamVjdFNjaGVtYTxQYXJ0aWFsPFBheW1lbnRGb3JtVmFsdWVzPj4gfCBudWxsLFxuICAgICk6IHZvaWQ7XG4gICAgaGlkZVBheW1lbnRTdWJtaXRCdXR0b24obWV0aG9kOiBQYXltZW50TWV0aG9kLCBoaWRkZW4/OiBib29sZWFuKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXaXRoQ2hlY2tvdXRIb3N0ZWRXaWRnZXRQYXltZW50TWV0aG9kUHJvcHMge1xuICAgIGluc3RydW1lbnRzOiBQYXltZW50SW5zdHJ1bWVudFtdO1xuICAgIGlzSW5zdHJ1bWVudEZlYXR1cmVBdmFpbGFibGU6IGJvb2xlYW47XG4gICAgaXNMb2FkaW5nSW5zdHJ1bWVudHM6IGJvb2xlYW47XG4gICAgaXNQYXltZW50RGF0YVJlcXVpcmVkOiBib29sZWFuO1xuICAgIGlzU2lnbmVkSW46IGJvb2xlYW47XG4gICAgaXNJbnN0cnVtZW50Q2FyZENvZGVSZXF1aXJlZChpbnN0cnVtZW50OiBJbnN0cnVtZW50LCBtZXRob2Q6IFBheW1lbnRNZXRob2QpOiBib29sZWFuO1xuICAgIGlzSW5zdHJ1bWVudENhcmROdW1iZXJSZXF1aXJlZChpbnN0cnVtZW50OiBJbnN0cnVtZW50LCBtZXRob2Q6IFBheW1lbnRNZXRob2QpOiBib29sZWFuO1xuICAgIGxvYWRJbnN0cnVtZW50cygpOiBQcm9taXNlPENoZWNrb3V0U2VsZWN0b3JzPjtcbiAgICBzaWduT3V0KG9wdGlvbnM6IEN1c3RvbWVyUmVxdWVzdE9wdGlvbnMpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhvc3RlZFdpZGdldENvbXBvbmVudFByb3BzIGV4dGVuZHMgV2l0aENoZWNrb3V0SG9zdGVkV2lkZ2V0UGF5bWVudE1ldGhvZFByb3BzIHtcbiAgICBhZGRpdGlvbmFsQ29udGFpbmVyQ2xhc3NOYW1lPzogc3RyaW5nO1xuICAgIGJ1dHRvbklkPzogc3RyaW5nO1xuICAgIGNvbnRhaW5lcklkOiBzdHJpbmc7XG4gICAgaGlkZUNvbnRlbnRXaGVuU2lnbmVkT3V0PzogYm9vbGVhbjtcbiAgICBoaWRlVmVyaWZpY2F0aW9uRmllbGRzPzogYm9vbGVhbjtcbiAgICBpc0FjY291bnRJbnN0cnVtZW50PzogYm9vbGVhbjtcbiAgICBoaWRlV2lkZ2V0PzogYm9vbGVhbjtcbiAgICBpc0luaXRpYWxpemluZz86IGJvb2xlYW47XG4gICAgaXNVc2luZ011bHRpU2hpcHBpbmc/OiBib29sZWFuO1xuICAgIGlzU2lnbkluUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIG1ldGhvZDogUGF5bWVudE1ldGhvZDtcbiAgICBwYXltZW50RGVzY3JpcHRvcj86IHN0cmluZztcbiAgICBzaG91bGRIaWRlSW5zdHJ1bWVudEV4cGlyeURhdGU/OiBib29sZWFuO1xuICAgIHNob3VsZFNob3c/OiBib29sZWFuO1xuICAgIHNob3VsZFNob3dEZXNjcmlwdG9yPzogYm9vbGVhbjtcbiAgICBzaG91bGRTaG93RWRpdEJ1dHRvbj86IGJvb2xlYW47XG4gICAgc2hvdWxkUmVuZGVyQ3VzdG9tSW5zdHJ1bWVudD86IGJvb2xlYW47XG4gICAgc3RvcmVkQ2FyZFZhbGlkYXRpb25TY2hlbWE/OiBPYmplY3RTY2hlbWE7XG4gICAgcmVuZGVyQ3VzdG9tUGF5bWVudEZvcm0/KCk6IFJlYWN0LlJlYWN0Tm9kZTtcbiAgICB2YWxpZGF0ZUluc3RydW1lbnQ/KFxuICAgICAgICBzaG91bGRTaG93TnVtYmVyRmllbGQ6IGJvb2xlYW4sXG4gICAgICAgIHNlbGVjdGVkSW5zdHJ1bWVudD86IENhcmRJbnN0cnVtZW50LFxuICAgICk6IFJlYWN0LlJlYWN0Tm9kZTtcbiAgICBkZWluaXRpYWxpemVDdXN0b21lcj8ob3B0aW9uczogQ3VzdG9tZXJSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8Q2hlY2tvdXRTZWxlY3RvcnM+O1xuICAgIGRlaW5pdGlhbGl6ZVBheW1lbnQob3B0aW9uczogUGF5bWVudFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTxDaGVja291dFNlbGVjdG9ycz47XG4gICAgaW5pdGlhbGl6ZUN1c3RvbWVyPyhvcHRpb25zOiBDdXN0b21lckluaXRpYWxpemVPcHRpb25zKTogUHJvbWlzZTxDaGVja291dFNlbGVjdG9ycz47XG4gICAgaW5pdGlhbGl6ZVBheW1lbnQoXG4gICAgICAgIG9wdGlvbnM6IFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICAgICAgc2VsZWN0ZWRJbnN0cnVtZW50PzogQ2FyZEluc3RydW1lbnQsXG4gICAgKTogUHJvbWlzZTxDaGVja291dFNlbGVjdG9ycz47XG4gICAgb25QYXltZW50U2VsZWN0PygpOiB2b2lkO1xuICAgIG9uU2lnbk91dD8oKTogdm9pZDtcbiAgICBvblNpZ25PdXRFcnJvcj8oZXJyb3I6IEVycm9yKTogdm9pZDtcbiAgICBvblVuaGFuZGxlZEVycm9yPyhlcnJvcjogRXJyb3IpOiB2b2lkO1xuICAgIHNpZ25JbkN1c3RvbWVyPygpOiB2b2lkO1xufVxuXG5jb25zdCBIb3N0ZWRXaWRnZXRQYXltZW50Q29tcG9uZW50ID0gKHtcbiAgICBpbnN0cnVtZW50cyxcbiAgICBoaWRlV2lkZ2V0ID0gZmFsc2UsXG4gICAgaXNJbml0aWFsaXppbmcgPSBmYWxzZSxcbiAgICBpc0FjY291bnRJbnN0cnVtZW50LFxuICAgIGlzSW5zdHJ1bWVudEZlYXR1cmVBdmFpbGFibGU6IGlzSW5zdHJ1bWVudEZlYXR1cmVBdmFpbGFibGVQcm9wLFxuICAgIGlzTG9hZGluZ0luc3RydW1lbnRzLFxuICAgIHNob3VsZEhpZGVJbnN0cnVtZW50RXhwaXJ5RGF0ZSA9IGZhbHNlLFxuICAgIHNob3VsZFNob3cgPSB0cnVlLFxuICAgIGhpZGVWZXJpZmljYXRpb25GaWVsZHMsXG4gICAgbWV0aG9kLFxuICAgIHN0b3JlZENhcmRWYWxpZGF0aW9uU2NoZW1hLFxuICAgIGlzUGF5bWVudERhdGFSZXF1aXJlZCxcbiAgICBzZXRWYWxpZGF0aW9uU2NoZW1hLFxuICAgIGxvYWRJbnN0cnVtZW50cyxcbiAgICBvblVuaGFuZGxlZEVycm9yID0gbm9vcCxcbiAgICBkZWluaXRpYWxpemVDdXN0b21lcixcbiAgICBkZWluaXRpYWxpemVQYXltZW50LFxuICAgIHNldFN1Ym1pdCxcbiAgICBpbml0aWFsaXplQ3VzdG9tZXIsXG4gICAgaW5pdGlhbGl6ZVBheW1lbnQsXG4gICAgc2lnbkluQ3VzdG9tZXIsXG4gICAgaXNTaWduZWRJbixcbiAgICBpc1NpZ25JblJlcXVpcmVkLFxuICAgIGlzSW5zdHJ1bWVudENhcmROdW1iZXJSZXF1aXJlZCxcbiAgICB2YWxpZGF0ZUluc3RydW1lbnQsXG4gICAgY29udGFpbmVySWQsXG4gICAgaGlkZUNvbnRlbnRXaGVuU2lnbmVkT3V0ID0gZmFsc2UsXG4gICAgcmVuZGVyQ3VzdG9tUGF5bWVudEZvcm0sXG4gICAgYWRkaXRpb25hbENvbnRhaW5lckNsYXNzTmFtZSxcbiAgICBzaG91bGRSZW5kZXJDdXN0b21JbnN0cnVtZW50ID0gZmFsc2UsXG4gICAgcGF5bWVudERlc2NyaXB0b3IsXG4gICAgc2hvdWxkU2hvd0Rlc2NyaXB0b3IsXG4gICAgc2hvdWxkU2hvd0VkaXRCdXR0b24sXG4gICAgYnV0dG9uSWQsXG4gICAgc2V0RmllbGRWYWx1ZSxcbn06IEhvc3RlZFdpZGdldENvbXBvbmVudFByb3BzICYgUGF5bWVudENvbnRleHRQcm9wcyk6IFJlYWN0RWxlbWVudCA9PiB7XG4gICAgY29uc3QgW2lzQWRkaW5nTmV3Q2FyZCwgc2V0SXNBZGRpbmdOZXdDYXJkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbc2VsZWN0ZWRJbnN0cnVtZW50SWQsIHNldFNlbGVjdGVkSW5zdHJ1bWVudElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcbiAgICBjb25zdCBpbnN0cnVtZW50c1JlZiA9IHVzZVJlZjxQYXltZW50SW5zdHJ1bWVudFtdPihpbnN0cnVtZW50cyk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpbnN0cnVtZW50c1JlZi5jdXJyZW50ID0gaW5zdHJ1bWVudHM7XG4gICAgfSwgW2luc3RydW1lbnRzXSk7XG5cbiAgICBjb25zdCBnZXREZWZhdWx0SW5zdHJ1bWVudElkID0gdXNlQ2FsbGJhY2soKCk6IHN0cmluZyB8IHVuZGVmaW5lZCA9PiB7XG4gICAgICAgIGlmIChpc0FkZGluZ05ld0NhcmQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZWZhdWx0SW5zdHJ1bWVudCA9XG4gICAgICAgICAgICBpbnN0cnVtZW50c1JlZi5jdXJyZW50LmZpbmQoKGluc3RydW1lbnQpID0+IGluc3RydW1lbnQuZGVmYXVsdEluc3RydW1lbnQpIHx8XG4gICAgICAgICAgICBpbnN0cnVtZW50c1JlZi5jdXJyZW50WzBdO1xuXG4gICAgICAgIHJldHVybiBkZWZhdWx0SW5zdHJ1bWVudCA/IGRlZmF1bHRJbnN0cnVtZW50LmJpZ3BheVRva2VuIDogdW5kZWZpbmVkO1xuICAgIH0sIFtpc0FkZGluZ05ld0NhcmRdKTtcblxuICAgIGNvbnN0IGdldFNlbGVjdGVkSW5zdHJ1bWVudCA9IHVzZUNhbGxiYWNrKCgpOiBQYXltZW50SW5zdHJ1bWVudCB8IHVuZGVmaW5lZCA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTZWxlY3RlZElkID0gc2VsZWN0ZWRJbnN0cnVtZW50SWQgfHwgZ2V0RGVmYXVsdEluc3RydW1lbnRJZCgpO1xuXG4gICAgICAgIHJldHVybiBmaW5kKGluc3RydW1lbnRzUmVmLmN1cnJlbnQsIHsgYmlncGF5VG9rZW46IGN1cnJlbnRTZWxlY3RlZElkIH0pO1xuICAgIH0sIFtzZWxlY3RlZEluc3RydW1lbnRJZCwgZ2V0RGVmYXVsdEluc3RydW1lbnRJZF0pO1xuXG4gICAgY29uc3QgZ2V0VmFsaWRhdGlvblNjaGVtYSA9IHVzZUNhbGxiYWNrKCgpOiBPYmplY3RTY2hlbWEgfCBudWxsID0+IHtcbiAgICAgICAgaWYgKCFpc1BheW1lbnREYXRhUmVxdWlyZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3VycmVudFNlbGVjdGVkSW5zdHJ1bWVudCA9IGdldFNlbGVjdGVkSW5zdHJ1bWVudCgpO1xuXG4gICAgICAgIGlmIChpc0luc3RydW1lbnRGZWF0dXJlQXZhaWxhYmxlUHJvcCAmJiBjdXJyZW50U2VsZWN0ZWRJbnN0cnVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gc3RvcmVkQ2FyZFZhbGlkYXRpb25TY2hlbWEgfHwgbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sIFtcbiAgICAgICAgZ2V0U2VsZWN0ZWRJbnN0cnVtZW50LFxuICAgICAgICBpc0luc3RydW1lbnRGZWF0dXJlQXZhaWxhYmxlUHJvcCxcbiAgICAgICAgaXNQYXltZW50RGF0YVJlcXVpcmVkLFxuICAgICAgICBzdG9yZWRDYXJkVmFsaWRhdGlvblNjaGVtYSxcbiAgICBdKTtcblxuICAgIGNvbnN0IGdldFNlbGVjdGVkQmFua0FjY291bnRJbnN0cnVtZW50ID0gdXNlQ2FsbGJhY2soXG4gICAgICAgIChcbiAgICAgICAgICAgIGFkZGluZ05ldzogYm9vbGVhbixcbiAgICAgICAgICAgIGN1cnJlbnRTZWxlY3RlZEluc3RydW1lbnQ6IFBheW1lbnRJbnN0cnVtZW50LFxuICAgICAgICApOiBBY2NvdW50SW5zdHJ1bWVudCB8IHVuZGVmaW5lZCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gIWFkZGluZ05ldyAmJiBpc0JhbmtBY2NvdW50SW5zdHJ1bWVudChjdXJyZW50U2VsZWN0ZWRJbnN0cnVtZW50KVxuICAgICAgICAgICAgICAgID8gY3VycmVudFNlbGVjdGVkSW5zdHJ1bWVudFxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBbXSxcbiAgICApO1xuXG4gICAgY29uc3QgaGFuZGxlRGVsZXRlSW5zdHJ1bWVudCA9IHVzZUNhbGxiYWNrKFxuICAgICAgICAoaWQ6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgaWYgKGluc3RydW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHNldElzQWRkaW5nTmV3Q2FyZCh0cnVlKTtcbiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZEluc3RydW1lbnRJZCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIHNldEZpZWxkVmFsdWUoJ2luc3RydW1lbnRJZCcsICcnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkSW5zdHJ1bWVudElkID09PSBpZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRJZCA9IGdldERlZmF1bHRJbnN0cnVtZW50SWQoKTtcblxuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkSW5zdHJ1bWVudElkKG5leHRJZCk7XG4gICAgICAgICAgICAgICAgc2V0RmllbGRWYWx1ZSgnaW5zdHJ1bWVudElkJywgbmV4dElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgW2luc3RydW1lbnRzLCBzZWxlY3RlZEluc3RydW1lbnRJZCwgZ2V0RGVmYXVsdEluc3RydW1lbnRJZF0sXG4gICAgKTtcblxuICAgIGNvbnN0IGhhbmRsZVVzZU5ld0NhcmQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgIHNldElzQWRkaW5nTmV3Q2FyZCh0cnVlKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRJbnN0cnVtZW50SWQodW5kZWZpbmVkKTtcblxuICAgICAgICBpZiAoZGVpbml0aWFsaXplUGF5bWVudCkge1xuICAgICAgICAgICAgYXdhaXQgZGVpbml0aWFsaXplUGF5bWVudCh7XG4gICAgICAgICAgICAgICAgZ2F0ZXdheUlkOiBtZXRob2QuZ2F0ZXdheSxcbiAgICAgICAgICAgICAgICBtZXRob2RJZDogbWV0aG9kLmlkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5pdGlhbGl6ZVBheW1lbnQpIHtcbiAgICAgICAgICAgIGF3YWl0IGluaXRpYWxpemVQYXltZW50KHtcbiAgICAgICAgICAgICAgICBnYXRld2F5SWQ6IG1ldGhvZC5nYXRld2F5LFxuICAgICAgICAgICAgICAgIG1ldGhvZElkOiBtZXRob2QuaWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIFttZXRob2QsIGRlaW5pdGlhbGl6ZVBheW1lbnQsIGluaXRpYWxpemVQYXltZW50XSk7XG5cbiAgICBjb25zdCBoYW5kbGVTZWxlY3RJbnN0cnVtZW50ID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc2V0SXNBZGRpbmdOZXdDYXJkKGZhbHNlKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRJbnN0cnVtZW50SWQoaWQpO1xuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGdldFZhbGlkYXRlSW5zdHJ1bWVudCA9IHVzZUNhbGxiYWNrKCgpOiBSZWFjdE5vZGUgfCB1bmRlZmluZWQgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50U2VsZWN0ZWRJZCA9IHNlbGVjdGVkSW5zdHJ1bWVudElkIHx8IGdldERlZmF1bHRJbnN0cnVtZW50SWQoKTtcbiAgICAgICAgY29uc3QgY3VycmVudFNlbGVjdGVkSW5zdHJ1bWVudCA9IGZpbmQoaW5zdHJ1bWVudHMsIHsgYmlncGF5VG9rZW46IGN1cnJlbnRTZWxlY3RlZElkIH0pO1xuXG4gICAgICAgIGlmIChjdXJyZW50U2VsZWN0ZWRJbnN0cnVtZW50KSB7XG4gICAgICAgICAgICBhc3NlcnRJc0NhcmRJbnN0cnVtZW50KGN1cnJlbnRTZWxlY3RlZEluc3RydW1lbnQpO1xuXG4gICAgICAgICAgICBjb25zdCBzaG91bGRTaG93TnVtYmVyRmllbGQgPSBpc0luc3RydW1lbnRDYXJkTnVtYmVyUmVxdWlyZWQoXG4gICAgICAgICAgICAgICAgY3VycmVudFNlbGVjdGVkSW5zdHJ1bWVudCxcbiAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAoaGlkZVZlcmlmaWNhdGlvbkZpZWxkcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YWxpZGF0ZUluc3RydW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWRhdGVJbnN0cnVtZW50KHNob3VsZFNob3dOdW1iZXJGaWVsZCwgY3VycmVudFNlbGVjdGVkSW5zdHJ1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sIFtcbiAgICAgICAgc2VsZWN0ZWRJbnN0cnVtZW50SWQsXG4gICAgICAgIGdldERlZmF1bHRJbnN0cnVtZW50SWQsXG4gICAgICAgIGluc3RydW1lbnRzLFxuICAgICAgICBtZXRob2QsXG4gICAgICAgIGhpZGVWZXJpZmljYXRpb25GaWVsZHMsXG4gICAgICAgIHZhbGlkYXRlSW5zdHJ1bWVudCxcbiAgICBdKTtcblxuICAgIGNvbnN0IGluaXRpYWxpemVNZXRob2QgPSBhc3luYyAoKTogUHJvbWlzZTxDaGVja291dFNlbGVjdG9ycyB8IHZvaWQ+ID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudEluc3RydW1lbnRzID0gaW5zdHJ1bWVudHNSZWYuY3VycmVudDtcblxuICAgICAgICBpZiAoIWlzUGF5bWVudERhdGFSZXF1aXJlZCkge1xuICAgICAgICAgICAgc2V0U3VibWl0KG1ldGhvZCwgbnVsbCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1NpZ25JblJlcXVpcmVkICYmICFpc1NpZ25lZEluKSB7XG4gICAgICAgICAgICBzZXRTdWJtaXQobWV0aG9kLCBzaWduSW5DdXN0b21lciB8fCBudWxsKTtcblxuICAgICAgICAgICAgaWYgKGluaXRpYWxpemVDdXN0b21lcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbml0aWFsaXplQ3VzdG9tZXIoeyBtZXRob2RJZDogbWV0aG9kLmlkIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTdWJtaXQobWV0aG9kLCBudWxsKTtcblxuICAgICAgICBsZXQgc2VsZWN0ZWRDYXJkSW5zdHJ1bWVudDogQ2FyZEluc3RydW1lbnQgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKCFpc0FkZGluZ05ld0NhcmQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZWxlY3RlZEluc3RydW1lbnRJZCA9IHNlbGVjdGVkSW5zdHJ1bWVudElkIHx8IGdldERlZmF1bHRJbnN0cnVtZW50SWQoKTtcbiAgICAgICAgICAgIGNvbnN0IG1heWJlSW5zdHJ1bWVudCA9XG4gICAgICAgICAgICAgICAgY3VycmVudEluc3RydW1lbnRzLmZpbmQoXG4gICAgICAgICAgICAgICAgICAgIChpbnN0cnVtZW50KSA9PiBpbnN0cnVtZW50LmJpZ3BheVRva2VuID09PSBjdXJyZW50U2VsZWN0ZWRJbnN0cnVtZW50SWQsXG4gICAgICAgICAgICAgICAgKSB8fCBjdXJyZW50SW5zdHJ1bWVudHNbMF07XG5cbiAgICAgICAgICAgIGlmIChtYXliZUluc3RydW1lbnQgJiYgaXNDYXJkSW5zdHJ1bWVudChtYXliZUluc3RydW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRDYXJkSW5zdHJ1bWVudCA9IG1heWJlSW5zdHJ1bWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbml0aWFsaXplUGF5bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxpemVQYXltZW50KFxuICAgICAgICAgICAgICAgIHsgZ2F0ZXdheUlkOiBtZXRob2QuZ2F0ZXdheSwgbWV0aG9kSWQ6IG1ldGhvZC5pZCB9LFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkQ2FyZEluc3RydW1lbnQsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIEJlbG93IHZhbHVlcyBhcmUgZm9yIGxvd2VyIGxldmVsIGNvbXBvbmVudHNcbiAgICBjb25zdCBlZmZlY3RpdmVTZWxlY3RlZEluc3RydW1lbnRJZCA9IHNlbGVjdGVkSW5zdHJ1bWVudElkIHx8IGdldERlZmF1bHRJbnN0cnVtZW50SWQoKTtcbiAgICBjb25zdCBzZWxlY3RlZEluc3RydW1lbnQgPSBlZmZlY3RpdmVTZWxlY3RlZEluc3RydW1lbnRJZFxuICAgICAgICA/IGluc3RydW1lbnRzLmZpbmQoKGkpID0+IGkuYmlncGF5VG9rZW4gPT09IGVmZmVjdGl2ZVNlbGVjdGVkSW5zdHJ1bWVudElkKSB8fCBpbnN0cnVtZW50c1swXVxuICAgICAgICA6IGluc3RydW1lbnRzWzBdO1xuICAgIGNvbnN0IGNhcmRJbnN0cnVtZW50czogQ2FyZEluc3RydW1lbnRbXSA9IGluc3RydW1lbnRzLmZpbHRlcihcbiAgICAgICAgKGkpOiBpIGlzIENhcmRJbnN0cnVtZW50ID0+ICFpc0JhbmtBY2NvdW50SW5zdHJ1bWVudChpKSxcbiAgICApO1xuICAgIGNvbnN0IGFjY291bnRJbnN0cnVtZW50czogQWNjb3VudEluc3RydW1lbnRbXSA9IGluc3RydW1lbnRzLmZpbHRlcihcbiAgICAgICAgKGkpOiBpIGlzIEFjY291bnRJbnN0cnVtZW50ID0+IGlzQmFua0FjY291bnRJbnN0cnVtZW50KGkpLFxuICAgICk7XG4gICAgY29uc3Qgc2hvdWxkU2hvd0luc3RydW1lbnRGaWVsZHNldCA9IGlzSW5zdHJ1bWVudEZlYXR1cmVBdmFpbGFibGVQcm9wICYmIGluc3RydW1lbnRzLmxlbmd0aCA+IDA7XG4gICAgY29uc3Qgc2hvdWxkU2hvd0NyZWRpdENhcmRGaWVsZHNldCA9ICFzaG91bGRTaG93SW5zdHJ1bWVudEZpZWxkc2V0IHx8IGlzQWRkaW5nTmV3Q2FyZDtcbiAgICBjb25zdCBpc0xvYWRpbmcgPSAoaXNJbml0aWFsaXppbmcgfHwgaXNMb2FkaW5nSW5zdHJ1bWVudHMpICYmICFoaWRlV2lkZ2V0O1xuICAgIGNvbnN0IHNlbGVjdGVkQWNjb3VudEluc3RydW1lbnQgPSBzZWxlY3RlZEluc3RydW1lbnRcbiAgICAgICAgPyBnZXRTZWxlY3RlZEJhbmtBY2NvdW50SW5zdHJ1bWVudChpc0FkZGluZ05ld0NhcmQsIHNlbGVjdGVkSW5zdHJ1bWVudClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3Qgc2hvdWxkU2hvd0FjY291bnRJbnN0cnVtZW50ID0gaW5zdHJ1bWVudHNbMF0gJiYgaXNCYW5rQWNjb3VudEluc3RydW1lbnQoaW5zdHJ1bWVudHNbMF0pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgaW5pdCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHNldFZhbGlkYXRpb25TY2hlbWEobWV0aG9kLCBnZXRWYWxpZGF0aW9uU2NoZW1hKCkpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChpc0luc3RydW1lbnRGZWF0dXJlQXZhaWxhYmxlUHJvcCkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBsb2FkSW5zdHJ1bWVudHM/LigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGF3YWl0IGluaXRpYWxpemVNZXRob2QoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgb25VbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZvaWQgaW5pdCgpO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkZUluaXQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VmFsaWRhdGlvblNjaGVtYShtZXRob2QsIG51bGwpO1xuICAgICAgICAgICAgICAgIHNldFN1Ym1pdChtZXRob2QsIG51bGwpO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlaW5pdGlhbGl6ZVBheW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGRlaW5pdGlhbGl6ZVBheW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhdGV3YXlJZDogbWV0aG9kLmdhdGV3YXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kSWQ6IG1ldGhvZC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlaW5pdGlhbGl6ZUN1c3RvbWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBkZWluaXRpYWxpemVDdXN0b21lcih7IG1ldGhvZElkOiBtZXRob2QuaWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25VbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2b2lkIGRlSW5pdCgpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGlzSW5pdGlhbFJlbmRlclJlZiA9IHVzZVJlZih0cnVlKTtcbiAgICBjb25zdCBpbnN0cnVtZW50c0xlbmd0aCA9IHVzZVJlZihpbnN0cnVtZW50cy5sZW5ndGgpO1xuICAgIGNvbnN0IGlzUGF5bWVudERhdGFSZXF1aXJlZFJlZiA9IHVzZVJlZihpc1BheW1lbnREYXRhUmVxdWlyZWQpO1xuICAgIGNvbnN0IHNlbGVjdGVkSW5zdHJ1bWVudElkUmVmID0gdXNlUmVmKHNlbGVjdGVkSW5zdHJ1bWVudElkKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpc0luaXRpYWxSZW5kZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgaXNJbml0aWFsUmVuZGVyUmVmLmN1cnJlbnQgPSBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0VmFsaWRhdGlvblNjaGVtYShtZXRob2QsIGdldFZhbGlkYXRpb25TY2hlbWEoKSk7XG5cbiAgICAgICAgY29uc3QgcmVJbml0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoZGVpbml0aWFsaXplUGF5bWVudCkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBkZWluaXRpYWxpemVQYXltZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhdGV3YXlJZDogbWV0aG9kLmdhdGV3YXksXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RJZDogbWV0aG9kLmlkLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhd2FpdCBpbml0aWFsaXplTWV0aG9kKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uVW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBzZWxlY3RlZEluc3RydW1lbnRJZFJlZi5jdXJyZW50ICE9PSBzZWxlY3RlZEluc3RydW1lbnRJZCB8fFxuICAgICAgICAgICAgKE51bWJlcihpbnN0cnVtZW50c0xlbmd0aC5jdXJyZW50KSA+IDAgJiYgaW5zdHJ1bWVudHMubGVuZ3RoID09PSAwKSB8fFxuICAgICAgICAgICAgaXNQYXltZW50RGF0YVJlcXVpcmVkUmVmLmN1cnJlbnQgIT09IGlzUGF5bWVudERhdGFSZXF1aXJlZFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHNlbGVjdGVkSW5zdHJ1bWVudElkUmVmLmN1cnJlbnQgPSBzZWxlY3RlZEluc3RydW1lbnRJZDtcbiAgICAgICAgICAgIGluc3RydW1lbnRzTGVuZ3RoLmN1cnJlbnQgPSBpbnN0cnVtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICBpc1BheW1lbnREYXRhUmVxdWlyZWRSZWYuY3VycmVudCA9IGlzUGF5bWVudERhdGFSZXF1aXJlZDtcblxuICAgICAgICAgICAgdm9pZCByZUluaXQoKTtcbiAgICAgICAgfVxuICAgIH0sIFtzZWxlY3RlZEluc3RydW1lbnRJZCwgaW5zdHJ1bWVudHMsIGlzUGF5bWVudERhdGFSZXF1aXJlZF0pO1xuXG4gICAgaWYgKCFzaG91bGRTaG93KSB7XG4gICAgICAgIHJldHVybiA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdub25lJyB9fSAvPjtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8TG9hZGluZ092ZXJsYXkgaGlkZUNvbnRlbnRXaGVuTG9hZGluZyBpc0xvYWRpbmc9e2lzTG9hZGluZ30+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBheW1lbnRNZXRob2QtLWhvc3RlZFwiPlxuICAgICAgICAgICAgICAgIHtzaG91bGRTaG93QWNjb3VudEluc3RydW1lbnQgJiYgc2hvdWxkU2hvd0luc3RydW1lbnRGaWVsZHNldCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxBY2NvdW50SW5zdHJ1bWVudEZpZWxkc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50cz17YWNjb3VudEluc3RydW1lbnRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3RJbnN0cnVtZW50PXtoYW5kbGVTZWxlY3RJbnN0cnVtZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25Vc2VOZXdJbnN0cnVtZW50PXtoYW5kbGVVc2VOZXdDYXJkfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJbnN0cnVtZW50PXtzZWxlY3RlZEFjY291bnRJbnN0cnVtZW50fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgeyFzaG91bGRTaG93QWNjb3VudEluc3RydW1lbnQgJiYgc2hvdWxkU2hvd0luc3RydW1lbnRGaWVsZHNldCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxDYXJkSW5zdHJ1bWVudEZpZWxkc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50cz17Y2FyZEluc3RydW1lbnRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25EZWxldGVJbnN0cnVtZW50PXtoYW5kbGVEZWxldGVJbnN0cnVtZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3RJbnN0cnVtZW50PXtoYW5kbGVTZWxlY3RJbnN0cnVtZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25Vc2VOZXdJbnN0cnVtZW50PXtoYW5kbGVVc2VOZXdDYXJkfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJbnN0cnVtZW50SWQ9e2VmZmVjdGl2ZVNlbGVjdGVkSW5zdHJ1bWVudElkfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkSGlkZUV4cGlyeURhdGU9e3Nob3VsZEhpZGVJbnN0cnVtZW50RXhwaXJ5RGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlSW5zdHJ1bWVudD17Z2V0VmFsaWRhdGVJbnN0cnVtZW50KCl9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIDxQYXltZW50RGVzY3JpcHRvclxuICAgICAgICAgICAgICAgICAgICBwYXltZW50RGVzY3JpcHRvcj17cGF5bWVudERlc2NyaXB0b3J9XG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFNob3dEZXNjcmlwdG9yPXtzaG91bGRTaG93RGVzY3JpcHRvcn1cbiAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgICAgPFBheW1lbnRXaWRnZXRcbiAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbENvbnRhaW5lckNsYXNzTmFtZT17YWRkaXRpb25hbENvbnRhaW5lckNsYXNzTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVySWQ9e2NvbnRhaW5lcklkfVxuICAgICAgICAgICAgICAgICAgICBoaWRlQ29udGVudFdoZW5TaWduZWRPdXQ9e2hpZGVDb250ZW50V2hlblNpZ25lZE91dH1cbiAgICAgICAgICAgICAgICAgICAgaGlkZVdpZGdldD17aGlkZVdpZGdldH1cbiAgICAgICAgICAgICAgICAgICAgaXNTaWduSW5SZXF1aXJlZD17aXNTaWduSW5SZXF1aXJlZH1cbiAgICAgICAgICAgICAgICAgICAgaXNTaWduZWRJbj17aXNTaWduZWRJbn1cbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kPXttZXRob2R9XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckN1c3RvbVBheW1lbnRGb3JtPXtyZW5kZXJDdXN0b21QYXltZW50Rm9ybX1cbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVuZGVyQ3VzdG9tSW5zdHJ1bWVudD17c2hvdWxkUmVuZGVyQ3VzdG9tSW5zdHJ1bWVudH1cbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkU2hvd0NyZWRpdENhcmRGaWVsZHNldD17c2hvdWxkU2hvd0NyZWRpdENhcmRGaWVsZHNldH1cbiAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgICAge2lzSW5zdHJ1bWVudEZlYXR1cmVBdmFpbGFibGVQcm9wICYmIChcbiAgICAgICAgICAgICAgICAgICAgPFN0b3JlSW5zdHJ1bWVudEZpZWxkc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50SWQ9e2VmZmVjdGl2ZVNlbGVjdGVkSW5zdHJ1bWVudElkfVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudHM9e2luc3RydW1lbnRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBY2NvdW50SW5zdHJ1bWVudD17Qm9vbGVhbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0FjY291bnRJbnN0cnVtZW50IHx8IHNob3VsZFNob3dBY2NvdW50SW5zdHJ1bWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIDxFZGl0QnV0dG9uIGJ1dHRvbklkPXtidXR0b25JZH0gc2hvdWxkU2hvd0VkaXRCdXR0b249e3Nob3VsZFNob3dFZGl0QnV0dG9ufSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvTG9hZGluZ092ZXJsYXk+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEhvc3RlZFdpZGdldFBheW1lbnRDb21wb25lbnQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/hosted-widget-integration/src/HostedWidgetPaymentComponent.tsx\n\n}");

/***/ }),

/***/ "./packages/hosted-widget-integration/src/PaymentDescriptor.tsx":
/*!**********************************************************************!*\
  !*** ./packages/hosted-widget-integration/src/PaymentDescriptor.tsx ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PaymentDescriptor: () => (/* binding */ PaymentDescriptor)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nconst PaymentDescriptor = ({ shouldShowDescriptor, paymentDescriptor, }) => {\n    if (shouldShowDescriptor && paymentDescriptor) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"payment-descriptor\" }, paymentDescriptor);\n    }\n    return null;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9ob3N0ZWQtd2lkZ2V0LWludGVncmF0aW9uL3NyYy9QYXltZW50RGVzY3JpcHRvci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBT3ZDLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxFQUM5QixvQkFBb0IsRUFDcEIsaUJBQWlCLEdBQ0ksRUFBYSxFQUFFO0lBQ3BDLElBQUksb0JBQW9CLElBQUksaUJBQWlCLEVBQUUsQ0FBQztRQUM1QyxPQUFPLG9FQUFLLFNBQVMsRUFBQyxvQkFBb0IsSUFBRSxpQkFBaUIsQ0FBTyxDQUFDO0lBQ3pFLENBQUM7SUFFRCxPQUFPLElBQUksQ0FBQztBQUNoQixDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uL3BhY2thZ2VzL2hvc3RlZC13aWRnZXQtaW50ZWdyYXRpb24vc3JjL1BheW1lbnREZXNjcmlwdG9yLnRzeD84ZTY0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB0eXBlIFJlYWN0Tm9kZSB9IGZyb20gJ3JlYWN0JztcblxuaW50ZXJmYWNlIFBheW1lbnREZXNjcmlwdG9yUHJvcHMge1xuICAgIHBheW1lbnREZXNjcmlwdG9yOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgc2hvdWxkU2hvd0Rlc2NyaXB0b3I6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjb25zdCBQYXltZW50RGVzY3JpcHRvciA9ICh7XG4gICAgc2hvdWxkU2hvd0Rlc2NyaXB0b3IsXG4gICAgcGF5bWVudERlc2NyaXB0b3IsXG59OiBQYXltZW50RGVzY3JpcHRvclByb3BzKTogUmVhY3ROb2RlID0+IHtcbiAgICBpZiAoc2hvdWxkU2hvd0Rlc2NyaXB0b3IgJiYgcGF5bWVudERlc2NyaXB0b3IpIHtcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGF5bWVudC1kZXNjcmlwdG9yXCI+e3BheW1lbnREZXNjcmlwdG9yfTwvZGl2PjtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/hosted-widget-integration/src/PaymentDescriptor.tsx\n\n}");

/***/ }),

/***/ "./packages/hosted-widget-integration/src/PaymentWidget.tsx":
/*!******************************************************************!*\
  !*** ./packages/hosted-widget-integration/src/PaymentWidget.tsx ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PaymentWidget: () => (/* binding */ PaymentWidget)\n/* harmony export */ });\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst PaymentWidget = ({ additionalContainerClassName, containerId, hideContentWhenSignedOut, hideWidget, isSignInRequired, isSignedIn, method, renderCustomPaymentForm, shouldRenderCustomInstrument, shouldShowCreditCardFieldset, }) => (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: classnames__WEBPACK_IMPORTED_MODULE_0___default()('widget', `widget--${method.id}`, 'payment-widget', shouldRenderCustomInstrument ? '' : additionalContainerClassName), id: containerId, style: {\n        display: (hideContentWhenSignedOut && isSignInRequired && !isSignedIn) ||\n            !shouldShowCreditCardFieldset ||\n            hideWidget\n            ? 'none'\n            : undefined,\n    }, tabIndex: -1 }, shouldRenderCustomInstrument && renderCustomPaymentForm && renderCustomPaymentForm()));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9ob3N0ZWQtd2lkZ2V0LWludGVncmF0aW9uL3NyYy9QYXltZW50V2lkZ2V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNvQztBQUNhO0FBZTFDLE1BQU0sYUFBYSxHQUFHLENBQUMsRUFDMUIsNEJBQTRCLEVBQzVCLFdBQVcsRUFDWCx3QkFBd0IsRUFDeEIsVUFBVSxFQUNWLGdCQUFnQixFQUNoQixVQUFVLEVBQ1YsTUFBTSxFQUNOLHVCQUF1QixFQUN2Qiw0QkFBNEIsRUFDNUIsNEJBQTRCLEdBQ1gsRUFBZ0IsRUFBRSxDQUFDLENBQ3BDLG9FQUNJLFNBQVMsRUFBRSxpREFBVSxDQUNqQixRQUFRLEVBQ1IsV0FBVyxNQUFNLENBQUMsRUFBRSxFQUFFLEVBQ3RCLGdCQUFnQixFQUNoQiw0QkFBNEIsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyw0QkFBNEIsQ0FDbkUsRUFDRCxFQUFFLEVBQUUsV0FBVyxFQUNmLEtBQUssRUFBRTtRQUNILE9BQU8sRUFDSCxDQUFDLHdCQUF3QixJQUFJLGdCQUFnQixJQUFJLENBQUMsVUFBVSxDQUFDO1lBQzdELENBQUMsNEJBQTRCO1lBQzdCLFVBQVU7WUFDTixDQUFDLENBQUMsTUFBTTtZQUNSLENBQUMsQ0FBQyxTQUFTO0tBQ3RCLEVBQ0QsUUFBUSxFQUFFLENBQUMsQ0FBQyxJQUVYLDRCQUE0QixJQUFJLHVCQUF1QixJQUFJLHVCQUF1QixFQUFFLENBQ25GLENBQ1QsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vcGFja2FnZXMvaG9zdGVkLXdpZGdldC1pbnRlZ3JhdGlvbi9zcmMvUGF5bWVudFdpZGdldC50c3g/MzIyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIFBheW1lbnRNZXRob2QgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFJlYWN0LCB7IHR5cGUgUmVhY3RFbGVtZW50IH0gZnJvbSAncmVhY3QnO1xuXG5pbnRlcmZhY2UgUGF5bWVudFdpZGdldFByb3BzIHtcbiAgICBhZGRpdGlvbmFsQ29udGFpbmVyQ2xhc3NOYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgY29udGFpbmVySWQ6IHN0cmluZztcbiAgICBoaWRlQ29udGVudFdoZW5TaWduZWRPdXQ6IGJvb2xlYW47XG4gICAgaGlkZVdpZGdldDogYm9vbGVhbjtcbiAgICBpc1NpZ25JblJlcXVpcmVkOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICAgIGlzU2lnbmVkSW46IGJvb2xlYW47XG4gICAgbWV0aG9kOiBQYXltZW50TWV0aG9kO1xuICAgIHJlbmRlckN1c3RvbVBheW1lbnRGb3JtOiAoKCkgPT4gUmVhY3QuUmVhY3ROb2RlKSB8IHVuZGVmaW5lZDtcbiAgICBzaG91bGRSZW5kZXJDdXN0b21JbnN0cnVtZW50OiBib29sZWFuO1xuICAgIHNob3VsZFNob3dDcmVkaXRDYXJkRmllbGRzZXQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBQYXltZW50V2lkZ2V0ID0gKHtcbiAgICBhZGRpdGlvbmFsQ29udGFpbmVyQ2xhc3NOYW1lLFxuICAgIGNvbnRhaW5lcklkLFxuICAgIGhpZGVDb250ZW50V2hlblNpZ25lZE91dCxcbiAgICBoaWRlV2lkZ2V0LFxuICAgIGlzU2lnbkluUmVxdWlyZWQsXG4gICAgaXNTaWduZWRJbixcbiAgICBtZXRob2QsXG4gICAgcmVuZGVyQ3VzdG9tUGF5bWVudEZvcm0sXG4gICAgc2hvdWxkUmVuZGVyQ3VzdG9tSW5zdHJ1bWVudCxcbiAgICBzaG91bGRTaG93Q3JlZGl0Q2FyZEZpZWxkc2V0LFxufTogUGF5bWVudFdpZGdldFByb3BzKTogUmVhY3RFbGVtZW50ID0+IChcbiAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcbiAgICAgICAgICAgICd3aWRnZXQnLFxuICAgICAgICAgICAgYHdpZGdldC0tJHttZXRob2QuaWR9YCxcbiAgICAgICAgICAgICdwYXltZW50LXdpZGdldCcsXG4gICAgICAgICAgICBzaG91bGRSZW5kZXJDdXN0b21JbnN0cnVtZW50ID8gJycgOiBhZGRpdGlvbmFsQ29udGFpbmVyQ2xhc3NOYW1lLFxuICAgICAgICApfVxuICAgICAgICBpZD17Y29udGFpbmVySWR9XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBkaXNwbGF5OlxuICAgICAgICAgICAgICAgIChoaWRlQ29udGVudFdoZW5TaWduZWRPdXQgJiYgaXNTaWduSW5SZXF1aXJlZCAmJiAhaXNTaWduZWRJbikgfHxcbiAgICAgICAgICAgICAgICAhc2hvdWxkU2hvd0NyZWRpdENhcmRGaWVsZHNldCB8fFxuICAgICAgICAgICAgICAgIGhpZGVXaWRnZXRcbiAgICAgICAgICAgICAgICAgICAgPyAnbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH19XG4gICAgICAgIHRhYkluZGV4PXstMX1cbiAgICA+XG4gICAgICAgIHtzaG91bGRSZW5kZXJDdXN0b21JbnN0cnVtZW50ICYmIHJlbmRlckN1c3RvbVBheW1lbnRGb3JtICYmIHJlbmRlckN1c3RvbVBheW1lbnRGb3JtKCl9XG4gICAgPC9kaXY+XG4pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/hosted-widget-integration/src/PaymentWidget.tsx\n\n}");

/***/ })

}]);