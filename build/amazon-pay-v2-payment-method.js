"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["amazon-pay-v2-payment-method"],{

/***/ "../checkout-sdk-js/dist/esm/integrations/amazon-pay.js":
/*!**************************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/amazon-pay.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createAmazonPayV2ButtonStrategy: () => (/* binding */ F),\n/* harmony export */   createAmazonPayV2CustomerStrategy: () => (/* binding */ N),\n/* harmony export */   createAmazonPayV2PaymentStrategy: () => (/* binding */ B)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"../checkout-sdk-js/node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"../checkout-sdk-js/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bigcommerce/request-sender */ \"../checkout-sdk-js/node_modules/@bigcommerce/request-sender/esm/index.js\");\nvar o,a;class r extends Error{constructor(t){var e;super(t||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",e=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,e):this.__proto__=e,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}!function(t){t[t.MissingBillingAddress=0]=\"MissingBillingAddress\",t[t.MissingCart=1]=\"MissingCart\",t[t.MissingCheckout=2]=\"MissingCheckout\",t[t.MissingConsignments=3]=\"MissingConsignments\",t[t.MissingCustomer=4]=\"MissingCustomer\",t[t.MissingCheckoutConfig=5]=\"MissingCheckoutConfig\",t[t.MissingOrder=6]=\"MissingOrder\",t[t.MissingOrderConfig=7]=\"MissingOrderConfig\",t[t.MissingOrderId=8]=\"MissingOrderId\",t[t.MissingPayment=9]=\"MissingPayment\",t[t.MissingPaymentId=10]=\"MissingPaymentId\",t[t.MissingPaymentInstrument=11]=\"MissingPaymentInstrument\",t[t.MissingPaymentMethod=12]=\"MissingPaymentMethod\",t[t.MissingPaymentRedirectUrl=13]=\"MissingPaymentRedirectUrl\",t[t.MissingPaymentStatus=14]=\"MissingPaymentStatus\",t[t.MissingPaymentToken=15]=\"MissingPaymentToken\",t[t.MissingShippingAddress=16]=\"MissingShippingAddress\"}(o||(o={}));class s extends r{constructor(t){super(function(t){switch(t){case o.MissingBillingAddress:return\"Unable to proceed because billing address data is unavailable.\";case o.MissingCart:return\"Unable to proceed because cart data is unavailable.\";case o.MissingConsignments:return\"Unable to proceed because consignments data is unavailable.\";case o.MissingCheckout:return\"Unable to proceed because checkout data is unavailable.\";case o.MissingCustomer:return\"Unable to proceed because customer data is unavailable.\";case o.MissingCheckoutConfig:case o.MissingOrderConfig:return\"Unable to proceed because configuration data is unavailable.\";case o.MissingOrder:return\"Unable to proceed because order data is unavailable.\";case o.MissingOrderId:return\"Unable to proceed because order ID is unavailable or not generated yet.\";case o.MissingPayment:return\"Unable to proceed because payment data is unavailable.\";case o.MissingPaymentToken:return\"Unable to proceed because the token required to submit a payment is missing.\";case o.MissingPaymentMethod:return\"Unable to proceed because payment method data is unavailable or not properly configured.\";case o.MissingShippingAddress:return\"Unable to proceed because shipping address data is unavailable.\";default:return\"Unable to proceed because the required data is unavailable.\"}}(t)),this.subtype=t,this.name=\"MissingDataError\",this.type=\"missing_data\"}}function c(t){return e=t.lineItems.physicalItems.filter(t=>!t.addedByPromotion),(0,lodash__WEBPACK_IMPORTED_MODULE_1__.reduce)(e,(t,e)=>t+e.quantity,0);// removed by dead control flow\n var e; }function u(t,e){if(null==t)throw e?e():new Error(\"An unexpected error has occurred.\");return t}!function(t){t[t.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",t[t.CustomerNotInitialized=1]=\"CustomerNotInitialized\",t[t.PaymentNotInitialized=2]=\"PaymentNotInitialized\",t[t.ShippingNotInitialized=3]=\"ShippingNotInitialized\",t[t.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(a||(a={}));class d extends r{constructor(t){super(function(t){switch(t){case a.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case a.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case a.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case a.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(t)),this.subtype=t,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}const h={de:\"eu\",jp:\"fe\",uk:\"eu\",us:\"na\"};var l,y,m,p,g,P;!function(t){t.en_US=\"en_US\",t.en_GB=\"en_GB\",t.de_DE=\"de_DE\",t.fr_FR=\"fr_FR\",t.it_IT=\"it_IT\",t.es_ES=\"es_ES\",t.ja_JP=\"ja_JP\"}(l||(l={})),function(t){t.Home=\"Home\",t.Product=\"Product\",t.Cart=\"Cart\",t.Checkout=\"Checkout\",t.Other=\"Other\"}(y||(y={})),function(t){t.USD=\"USD\",t.EUR=\"EUR\",t.GBP=\"GBP\",t.JPY=\"JPY\"}(m||(m={})),function(t){t.PayAndShip=\"PayAndShip\",t.PayOnly=\"PayOnly\"}(p||(p={})),function(t){t.Gold=\"Gold\",t.LightGray=\"LightGray\",t.DarkGray=\"DarkGray\"}(g||(g={})),function(t){t.C0001=\"C0001\"}(P||(P={}));var f=function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function r(t){try{c(i.next(t))}catch(t){a(t)}}function s(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}c((i=i.apply(t,e||[])).next())})};class b{constructor(t){this.amazonPayV2ScriptLoader=t}initialize(t){return f(this,void 0,void 0,function*(){this.amazonPayV2SDK=yield this.amazonPayV2ScriptLoader.load(t),this.buttonParentContainer=this.buttonParentContainer||this.createAmazonPayButtonParentContainer()})}deinitialize(){var t;return this.amazonPayV2Button=void 0,null===(t=this.buttonParentContainer)||void 0===t||t.remove(),this.buttonParentContainer=void 0,this.amazonPayV2SDK=void 0,Promise.resolve()}bindButton(t,e,n){this.getAmazonPayV2SDK().Pay.bindChangeAction(`#${t}`,{amazonCheckoutSessionId:e,changeAction:n})}createButton(t,e){this.amazonPayV2Button=this.getAmazonPayV2SDK().Pay.renderButton(`#${t}`,e)}prepareCheckout(t){const e=this.prepareRequestConfig(t);this.getAmazonPayV2Button().onClick(()=>{this.getAmazonPayV2Button().initCheckout(e)})}prepareCheckoutWithCreationRequestConfig(t){this.getAmazonPayV2Button().onClick(()=>f(this,void 0,void 0,function*(){const e=yield t();if(e){const t=this.prepareRequestConfig(e.createCheckoutSessionConfig,e.estimatedOrderAmount,e.productType);this.getAmazonPayV2Button().initCheckout(t)}}))}signout(){return f(this,void 0,void 0,function*(){return this.amazonPayV2SDK&&this.amazonPayV2SDK.Pay.signout(),Promise.resolve()})}renderAmazonPayButton({buttonColor:t,checkoutState:e,containerId:n,decoupleCheckoutInitiation:i=!1,methodId:o,options:a,placement:r,isButtonMicroTextDisabled:s=!1}){const c=document.querySelector(`#${n}`);if(!c)return;const{id:u}=c.appendChild(this.getButtonParentContainer());a&&s&&(a.design=P.C0001);const d=null!=a?a:this.getAmazonPayV2ButtonOptions(e,o,r,i,t);return this.createButton(u,d),this.getButtonParentContainer()}updateBuyNowFlowFlag(t){this.isBuyNowFlow=Boolean(t)}isPh4Enabled(t,e){const n=!!t[\"PROJECT-3483.amazon_pay_ph4\"],i=!!t[\"INT-6885.amazon_pay_ph4_us_only\"];return n&&i?\"US\"===e:n}prepareRequestConfig(t,e,n){const{publicKeyId:i}=t,o=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}(t,[\"publicKeyId\"]);return Object.assign(Object.assign({createCheckoutSessionConfig:this.isEnvironmentSpecific(i)?o:t},e&&{estimatedOrderAmount:e}),n&&{productType:n})}createAmazonPayButtonParentContainer(){const t=Math.random().toString(16).substr(-4),e=document.createElement(\"div\");return e.id=`amazonpay_button_parent_container_${t}`,e}getAmazonPayV2ButtonOptions(t,e,n,i=!1,a=g.Gold){var r;const{getCart:u,getCheckout:d,getStoreConfigOrThrow:h,getPaymentMethodOrThrow:l}=this.getCheckoutState(t),{config:{merchantId:y,testMode:m},initializationData:f}=l(e);if(!f)throw new s(o.MissingPaymentMethod);const{checkoutLanguage:b,checkoutSessionMethod:v,createCheckoutSessionConfig:C,extractAmazonCheckoutSessionId:z,ledgerCurrency:w,publicKeyId:S=\"\",isButtonMicroTextDisabled:I}=f;if(!y||!w)throw new s(o.MissingPaymentMethod);const _=Object.assign({merchantId:y,ledgerCurrency:w,checkoutLanguage:b,placement:n,buttonColor:a},I?{design:P.C0001}:{});if(this.isBuyNowFlow)return Object.assign(Object.assign({},_),{sandbox:!!m});const O=u();_.productType=O&&0===c(O)?p.PayOnly:p.PayAndShip;const{checkoutSettings:{features:k},storeProfile:{shopPath:M,storeCountryCode:B}}=h();if(this.isPh4Enabled(k,B)){if(!C)throw new s(o.MissingPaymentMethod);const t=null===(r=d())||void 0===r?void 0:r.outstandingBalance.toString(),e=null==O?void 0:O.currency.code,n=Object.assign({},_);let a;return this.isEnvironmentSpecific(S)?(n.publicKeyId=S,a=C):(n.sandbox=!!m,a=Object.assign(Object.assign({},C),{publicKeyId:S})),i||(n.createCheckoutSessionConfig=a),t&&e&&(n.estimatedOrderAmount={amount:t,currencyCode:e}),n}const A={method:v,url:`${M}/remote-checkout/${e}/payment-session`,extractAmazonCheckoutSessionId:z};return Object.assign(Object.assign({},_),{createCheckoutSession:A,sandbox:!!m})}isEnvironmentSpecific(t){return/^(SANDBOX|LIVE)/.test(t)}getAmazonPayV2SDK(){return this.getOrThrow(this.amazonPayV2SDK)}getButtonParentContainer(){return this.getOrThrow(this.buttonParentContainer)}getAmazonPayV2Button(){return this.getOrThrow(this.amazonPayV2Button)}getOrThrow(t){return u(t,()=>new d(a.PaymentNotInitialized))}getCheckoutState(t){return\"object\"==typeof(e=t)&&null!==e&&\"cart\"in e&&\"checkout\"in e&&\"config\"in e&&\"paymentMethods\"in e?{getCart:t.cart.getCart,getCheckout:t.checkout.getCheckout,getStoreConfigOrThrow:t.config.getStoreConfigOrThrow,getPaymentMethodOrThrow:e=>t.paymentMethods.getPaymentMethodOrThrow(e)}:t;// removed by dead control flow\n var e; }}class v extends r{constructor(t){super(t||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}class C{constructor(t,e=window){this.scriptLoader=t,this.windowWithAmazonPay=e}load(t){return e=this,n=void 0,o=function*(){const{initializationData:e}=t,n=(null==e?void 0:e.region)||\"us\",i=h[n];if(yield this.scriptLoader.loadScript(`https://static-${i}.payments-amazon.com/checkout.js`),!this.windowWithAmazonPay.amazon)throw new v;return this.windowWithAmazonPay.amazon},new((i=void 0)||(i=Promise))(function(t,a){function r(t){try{c(o.next(t))}catch(t){a(t)}}function s(t){try{c(o.throw(t))}catch(t){a(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i(function(t){t(n)})).then(r,s)}c((o=o.apply(e,n||[])).next())});// removed by dead control flow\n var e, n, i, o; }}function z(){return new b(new C((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)()))}function w(t,e){return Object.assign(t,{resolveIds:e})}class S extends r{constructor(t){super(t||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}class I extends S{constructor(t){let e=\"Unable to submit payment for the order because the payload is invalid.\";t&&(e=`${e} Make sure the following fields are provided correctly: ${t.join(\", \")}.`),super(e),this.name=\"PaymentArgumentInvalidError\"}}class _ extends r{constructor(t){super(t||\"Payment process was cancelled.\"),this.name=\"PaymentMethodCancelledError\",this.type=\"payment_cancelled\"}}class O extends r{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}var k=function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function r(t){try{c(i.next(t))}catch(t){a(t)}}function s(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}c((i=i.apply(t,e||[])).next())})};class M{constructor(t,e){this.paymentIntegrationService=t,this.amazonPayV2PaymentProcessor=e}initialize(t){return k(this,void 0,void 0,function*(){const{methodId:e,amazonpay:n}=t;if(!e)throw new S('Unable to proceed because \"methodId\" argument is not provided.');const i=this.paymentIntegrationService.getState(),{features:o}=i.getStoreConfigOrThrow().checkoutSettings,a=i.getPaymentMethodOrThrow(e),r=a.initializationData||{},{paymentToken:s=\"\",region:c=\"\",isButtonMicroTextDisabled:u}=r;if(yield this.amazonPayV2PaymentProcessor.initialize(a),this._isReadyToPay(s))(null==n?void 0:n.editButtonId)&&this._bindEditButton(n.editButtonId,s,\"changePayment\",this._isModalFlow(c));else{const{id:t}=this._createContainer();if(this._amazonPayButton=this.amazonPayV2PaymentProcessor.renderAmazonPayButton({checkoutState:i,containerId:t,decoupleCheckoutInitiation:this._isOneTimeTransaction(o,c.toUpperCase()),methodId:e,placement:y.Checkout,isButtonMicroTextDisabled:u}),!this._amazonPayButton)throw new S(\"Unable to render the Amazon Pay button to an invalid HTML container element.\")}})}execute(t,n){return k(this,void 0,void 0,function*(){const{payment:i}=t;if(!i)throw new I([\"payment\"]);const{methodId:o}=i,a=this.paymentIntegrationService.getState(),{features:r}=a.getStoreConfigOrThrow().checkoutSettings,s=a.getPaymentMethodOrThrow(o).initializationData||{},{paymentToken:c=\"\",region:u=\"\"}=s;if(this._isReadyToPay(c)||this._isOneTimeTransaction(r,u.toUpperCase())){const e={methodId:o,paymentData:{nonce:c||\"apb\"}};yield this.paymentIntegrationService.submitOrder(t,n);try{return void(yield this.paymentIntegrationService.submitPayment(e))}catch(t){if(!((t=>\"object\"==typeof t&&null!==t&&\"body\"in t)(t)&&(d=t.body,\"object\"==typeof d&&null!==d&&\"status\"in d&&\"additional_action_required\"in d&&\"additional_action_required\"===d.status&&\"data\"in d.additional_action_required&&\"redirect_url\"in d.additional_action_required.data&&\"string\"==typeof d.additional_action_required.data.redirect_url)))throw t;const{additional_action_required:e}=t.body,{redirect_url:n}=e.data;if(c)return new Promise(()=>window.location.assign(n));this.amazonPayV2PaymentProcessor.prepareCheckout(JSON.parse(n))}}var d;return this._getAmazonPayButton().click(),this._isModalFlow(u)?new Promise((t,e)=>{const n=()=>{window.removeEventListener(\"focus\",n),e(new _(\"Shopper needs to login to Amazonpay to continue\"))};window.addEventListener(\"focus\",n)}):new Promise(lodash__WEBPACK_IMPORTED_MODULE_1__.noop)})}finalize(){return Promise.reject(new O)}deinitialize(){return k(this,void 0,void 0,function*(){yield this.amazonPayV2PaymentProcessor.deinitialize(),this._amazonPayButton=void 0})}_bindEditButton(t,e,n,i){const o=document.getElementById(t);if(o&&o.parentNode){if(!i){const t=o.cloneNode(!0);o.parentNode.replaceChild(t,o),t.addEventListener(\"click\",()=>{this._showLoadingSpinner()})}this.amazonPayV2PaymentProcessor.bindButton(t,e,n)}}_isModalFlow(t){return\"us\"===t}_showLoadingSpinner(){return k(this,void 0,void 0,function*(){yield this.paymentIntegrationService.widgetInteraction(()=>new Promise(lodash__WEBPACK_IMPORTED_MODULE_1__.noop))})}_createContainer(){let t=document.getElementById(\"AmazonPayButton\");return t||(t=document.createElement(\"div\"),t.id=\"AmazonPayButton\",t.style.display=\"none\",document.body.appendChild(t))}_getAmazonPayButton(){return u(this._amazonPayButton,()=>new d(a.PaymentNotInitialized))}_isOneTimeTransaction(t,e){return this.amazonPayV2PaymentProcessor.isPh4Enabled(t,e)&&t[\"INT-6399.amazon_pay_apb\"]}_isReadyToPay(t){return!!t}}const B=w(t=>new M(t,z()),[{id:\"amazonpay\"}]);class A extends r{constructor(t){super(t||\"Not implemented.\"),this.name=\"NotImplementedError\",this.type=\"not_implemented\"}}var T=function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function r(t){try{c(i.next(t))}catch(t){a(t)}}function s(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}c((i=i.apply(t,e||[])).next())})};class V{constructor(t,e){this.paymentIntegrationService=t,this.amazonPayV2PaymentProcessor=e}initialize(t){return T(this,void 0,void 0,function*(){const{methodId:e,amazonpay:n}=t;if(!e||!(null==n?void 0:n.container))throw new S('Unable to proceed because \"methodId\" or \"containerId\" argument is not provided.');let i;try{i=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(e)}catch(t){yield this.paymentIntegrationService.loadPaymentMethod(e),i=this.paymentIntegrationService.getState().getPaymentMethodOrThrow(e)}yield this.amazonPayV2PaymentProcessor.initialize(i),this.amazonPayV2PaymentProcessor.renderAmazonPayButton({checkoutState:this.paymentIntegrationService.getState(),containerId:n.container,methodId:e,placement:y.Checkout})})}deinitialize(){return T(this,void 0,void 0,function*(){yield this.amazonPayV2PaymentProcessor.deinitialize()})}signIn(){throw new A('In order to sign in via Amazon, the shopper must click on \"Amazon Pay\" button.')}signOut(t){return T(this,void 0,void 0,function*(){const e=this.paymentIntegrationService.getState().getPaymentId();e&&(yield this.amazonPayV2PaymentProcessor.signout(),yield this.paymentIntegrationService.remoteCheckoutSignOut(e.providerId,t))})}executePaymentMethodCheckout(t){var e;return null===(e=null==t?void 0:t.continueWithCheckoutCallback)||void 0===e||e.call(t),Promise.resolve()}}const N=w(t=>new V(t,z()),[{id:\"amazonpay\"}]);class x extends r{constructor(t){super(t||\"An unexpected error has occurred during buy now cart creation process. Please try again later.\"),this.name=\"BuyNowCartCreationError\",this.type=\"buy_now_cart_creation_error\"}}class E extends r{constructor(t){super(t||\"An unexpected error has occurred during config creation process. Please try again later.\"),this.name=\"AmazonPayV2ConfigCreationError\",this.type=\"amazon_pay_v2_config_creation_error\"}}function U(t){return t instanceof Object&&\"buyNowInitializeOptions\"in t}var j,D=function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function r(t){try{c(i.next(t))}catch(t){a(t)}}function s(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}c((i=i.apply(t,e||[])).next())})};class q{constructor(t,e,n){this.paymentIntegrationService=t,this.amazonPayV2PaymentProcessor=e,this.amazonPayV2ConfigRequestSender=n}initialize(t){var e;return D(this,void 0,void 0,function*(){const{methodId:n,containerId:i,amazonpay:o}=t,{buttonColor:a}=o||{};if(!n||!i)throw new S('Unable to proceed because \"methodId\" or \"containerId\" argument is not provided.');const{getPaymentMethodOrThrow:r}=this.paymentIntegrationService.getState(),s=r(n),{initializationData:c}=s;yield this.amazonPayV2PaymentProcessor.initialize(s),o||(yield this.paymentIntegrationService.loadDefaultCheckout());const u=U(o)?void 0:o;U(o)&&\"function\"==typeof(null===(e=o.buyNowInitializeOptions)||void 0===e?void 0:e.getBuyNowCartRequestBody)&&(this._buyNowInitializeOptions=o.buyNowInitializeOptions,this.amazonPayV2PaymentProcessor.updateBuyNowFlowFlag(!0)),this.amazonPayV2PaymentProcessor.renderAmazonPayButton({checkoutState:this.paymentIntegrationService.getState(),containerId:i,methodId:n,options:u,placement:y.Cart,buttonColor:a,isButtonMicroTextDisabled:null==c?void 0:c.isButtonMicroTextDisabled}),this._buyNowInitializeOptions&&this.amazonPayV2PaymentProcessor.prepareCheckoutWithCreationRequestConfig(this._getCheckoutCreationRequestConfig.bind(this))})}deinitialize(){return this.amazonPayV2PaymentProcessor.deinitialize()}_createBuyNowCartOrThrow(){var t,e;return D(this,void 0,void 0,function*(){const n=null===(e=null===(t=this._buyNowInitializeOptions)||void 0===t?void 0:t.getBuyNowCartRequestBody)||void 0===e?void 0:e.call(t);if(!n)throw new s(o.MissingCart);try{return yield this.paymentIntegrationService.createBuyNowCart(n)}catch(t){throw new x}})}_createCheckoutConfig(t){return D(this,void 0,void 0,function*(){try{const e=(yield this.amazonPayV2ConfigRequestSender.createCheckoutConfig(t)).body,{payload:n,public_key:i}=e,o=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}(e,[\"payload\",\"public_key\"]);return Object.assign({payloadJSON:n,publicKeyId:i},o)}catch(t){throw new E}})}_getCheckoutCreationRequestConfig(){return D(this,void 0,void 0,function*(){const t=yield this._createBuyNowCartOrThrow(),e={amount:String(t.baseAmount),currencyCode:t.currency.code};return{createCheckoutSessionConfig:yield this._createCheckoutConfig(t.id),estimatedOrderAmount:e,productType:0===c(t)?p.PayOnly:p.PayAndShip}})}}!function(t){t.Json=\"application/json\",t.JsonV1=\"application/vnd.bc.v1+json\"}(j||(j={}));const R=j,L={\"X-Checkout-SDK-Version\":\"1.808.0\"};class K{constructor(t){this._requestSender=t}createCheckoutConfig(t){const e={cartId:t},n=Object.assign({\"X-API-INTERNAL\":\"This API endpoint is for internal use only and may change in the future\",\"Content-Type\":R.Json},L);return this._requestSender.post(\"/api/storefront/payment/amazonpay\",{headers:n,body:e})}}const F=w(t=>{const e=(0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_2__.createRequestSender)(),n=new K(e),o=z();return new q(t,o,n)},[{id:\"amazonpay\"}]);\n//# sourceMappingURL=amazon-pay.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9hbWF6b24tcGF5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBeUssUUFBUSxzQkFBc0IsZUFBZSxNQUFNLHVUQUF1VCxhQUFhLHN5QkFBc3lCLFNBQVMsR0FBRyxrQkFBa0IsZUFBZSxrQkFBa0IsVUFBVSxvR0FBb0csK0VBQStFLCtGQUErRix1RkFBdUYsdUZBQXVGLDRIQUE0SCxpRkFBaUYsc0dBQXNHLHFGQUFxRixnSEFBZ0gsNkhBQTZILHNHQUFzRyw2RUFBNkUsMkVBQTJFLGNBQWMsa0VBQWtFLDhDQUFDLDBCQUEwQjtBQUFBLFFBQUssQ0FBQyxnQkFBZ0Isc0VBQXNFLFNBQVMsYUFBYSx5U0FBeVMsU0FBUyxHQUFHLGtCQUFrQixlQUFlLGtCQUFrQixVQUFVLHdIQUF3SCxzSEFBc0gsd0hBQXdILDZIQUE2SCw0RkFBNEYsaUZBQWlGLFNBQVMsaUNBQWlDLGdCQUFnQixhQUFhLGdIQUFnSCxTQUFTLGVBQWUsc0ZBQXNGLFNBQVMsZUFBZSxnREFBZ0QsU0FBUyxlQUFlLDhDQUE4QyxTQUFTLGVBQWUsNERBQTRELFNBQVMsZUFBZSxnQkFBZ0IsU0FBUyxHQUFHLHdCQUF3Qix5Q0FBeUMsY0FBYyxJQUFJLGFBQWEsU0FBUyxNQUFNLGNBQWMsSUFBSSxjQUFjLFNBQVMsTUFBTSxjQUFjLE1BQU0sZ0VBQWdFLEtBQUssYUFBYSwrQkFBK0IsR0FBRyxRQUFRLGVBQWUsK0JBQStCLGNBQWMsd0NBQXdDLGtLQUFrSyxFQUFFLGVBQWUsTUFBTSxrTEFBa0wsa0JBQWtCLGtEQUFrRCxFQUFFLEdBQUcseUNBQXlDLEVBQUUsa0JBQWtCLHFFQUFxRSxFQUFFLEtBQUssbUJBQW1CLHFDQUFxQyx5Q0FBeUMsNENBQTRDLEVBQUUsNENBQTRDLHlFQUF5RSxrQkFBa0IsTUFBTSxzR0FBc0csNkNBQTZDLEdBQUcsVUFBVSx3Q0FBd0MsZ0ZBQWdGLEVBQUUsdUJBQXVCLDRJQUE0SSxFQUFFLG1DQUFt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QUFHLGNBQWMsUUFBUSxnRkFBQyxvQkFBb0Isb0JBQW9CLEdBQUcsZUFBZSxHQUE2SDtBQUN6OG9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9hbWF6b24tcGF5LmpzPzQxODAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e2dldFNjcmlwdExvYWRlciBhcyB0fWZyb21cIkBiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyXCI7aW1wb3J0e25vb3AgYXMgZSxyZWR1Y2UgYXMgbn1mcm9tXCJsb2Rhc2hcIjtpbXBvcnR7Y3JlYXRlUmVxdWVzdFNlbmRlciBhcyBpfWZyb21cIkBiaWdjb21tZXJjZS9yZXF1ZXN0LXNlbmRlclwiO3ZhciBvLGE7Y2xhc3MgciBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQpe3ZhciBlO3N1cGVyKHR8fFwiQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWQuXCIpLHRoaXMubmFtZT1cIlN0YW5kYXJkRXJyb3JcIix0aGlzLnR5cGU9XCJzdGFuZGFyZFwiLGU9bmV3LnRhcmdldC5wcm90b3R5cGUsT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLGUpOnRoaXMuX19wcm90b19fPWUsXCJmdW5jdGlvblwiPT10eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U/RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxuZXcudGFyZ2V0KTp0aGlzLnN0YWNrPW5ldyBFcnJvcih0aGlzLm1lc3NhZ2UpLnN0YWNrfX0hZnVuY3Rpb24odCl7dFt0Lk1pc3NpbmdCaWxsaW5nQWRkcmVzcz0wXT1cIk1pc3NpbmdCaWxsaW5nQWRkcmVzc1wiLHRbdC5NaXNzaW5nQ2FydD0xXT1cIk1pc3NpbmdDYXJ0XCIsdFt0Lk1pc3NpbmdDaGVja291dD0yXT1cIk1pc3NpbmdDaGVja291dFwiLHRbdC5NaXNzaW5nQ29uc2lnbm1lbnRzPTNdPVwiTWlzc2luZ0NvbnNpZ25tZW50c1wiLHRbdC5NaXNzaW5nQ3VzdG9tZXI9NF09XCJNaXNzaW5nQ3VzdG9tZXJcIix0W3QuTWlzc2luZ0NoZWNrb3V0Q29uZmlnPTVdPVwiTWlzc2luZ0NoZWNrb3V0Q29uZmlnXCIsdFt0Lk1pc3NpbmdPcmRlcj02XT1cIk1pc3NpbmdPcmRlclwiLHRbdC5NaXNzaW5nT3JkZXJDb25maWc9N109XCJNaXNzaW5nT3JkZXJDb25maWdcIix0W3QuTWlzc2luZ09yZGVySWQ9OF09XCJNaXNzaW5nT3JkZXJJZFwiLHRbdC5NaXNzaW5nUGF5bWVudD05XT1cIk1pc3NpbmdQYXltZW50XCIsdFt0Lk1pc3NpbmdQYXltZW50SWQ9MTBdPVwiTWlzc2luZ1BheW1lbnRJZFwiLHRbdC5NaXNzaW5nUGF5bWVudEluc3RydW1lbnQ9MTFdPVwiTWlzc2luZ1BheW1lbnRJbnN0cnVtZW50XCIsdFt0Lk1pc3NpbmdQYXltZW50TWV0aG9kPTEyXT1cIk1pc3NpbmdQYXltZW50TWV0aG9kXCIsdFt0Lk1pc3NpbmdQYXltZW50UmVkaXJlY3RVcmw9MTNdPVwiTWlzc2luZ1BheW1lbnRSZWRpcmVjdFVybFwiLHRbdC5NaXNzaW5nUGF5bWVudFN0YXR1cz0xNF09XCJNaXNzaW5nUGF5bWVudFN0YXR1c1wiLHRbdC5NaXNzaW5nUGF5bWVudFRva2VuPTE1XT1cIk1pc3NpbmdQYXltZW50VG9rZW5cIix0W3QuTWlzc2luZ1NoaXBwaW5nQWRkcmVzcz0xNl09XCJNaXNzaW5nU2hpcHBpbmdBZGRyZXNzXCJ9KG98fChvPXt9KSk7Y2xhc3MgcyBleHRlbmRzIHJ7Y29uc3RydWN0b3IodCl7c3VwZXIoZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2Ugby5NaXNzaW5nQmlsbGluZ0FkZHJlc3M6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGJpbGxpbmcgYWRkcmVzcyBkYXRhIGlzIHVuYXZhaWxhYmxlLlwiO2Nhc2Ugby5NaXNzaW5nQ2FydDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY2FydCBkYXRhIGlzIHVuYXZhaWxhYmxlLlwiO2Nhc2Ugby5NaXNzaW5nQ29uc2lnbm1lbnRzOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjb25zaWdubWVudHMgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtjYXNlIG8uTWlzc2luZ0NoZWNrb3V0OnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjaGVja291dCBkYXRhIGlzIHVuYXZhaWxhYmxlLlwiO2Nhc2Ugby5NaXNzaW5nQ3VzdG9tZXI6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGN1c3RvbWVyIGRhdGEgaXMgdW5hdmFpbGFibGUuXCI7Y2FzZSBvLk1pc3NpbmdDaGVja291dENvbmZpZzpjYXNlIG8uTWlzc2luZ09yZGVyQ29uZmlnOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjb25maWd1cmF0aW9uIGRhdGEgaXMgdW5hdmFpbGFibGUuXCI7Y2FzZSBvLk1pc3NpbmdPcmRlcjpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugb3JkZXIgZGF0YSBpcyB1bmF2YWlsYWJsZS5cIjtjYXNlIG8uTWlzc2luZ09yZGVySWQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIG9yZGVyIElEIGlzIHVuYXZhaWxhYmxlIG9yIG5vdCBnZW5lcmF0ZWQgeWV0LlwiO2Nhc2Ugby5NaXNzaW5nUGF5bWVudDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgcGF5bWVudCBkYXRhIGlzIHVuYXZhaWxhYmxlLlwiO2Nhc2Ugby5NaXNzaW5nUGF5bWVudFRva2VuOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgdG9rZW4gcmVxdWlyZWQgdG8gc3VibWl0IGEgcGF5bWVudCBpcyBtaXNzaW5nLlwiO2Nhc2Ugby5NaXNzaW5nUGF5bWVudE1ldGhvZDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgcGF5bWVudCBtZXRob2QgZGF0YSBpcyB1bmF2YWlsYWJsZSBvciBub3QgcHJvcGVybHkgY29uZmlndXJlZC5cIjtjYXNlIG8uTWlzc2luZ1NoaXBwaW5nQWRkcmVzczpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugc2hpcHBpbmcgYWRkcmVzcyBkYXRhIGlzIHVuYXZhaWxhYmxlLlwiO2RlZmF1bHQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSByZXF1aXJlZCBkYXRhIGlzIHVuYXZhaWxhYmxlLlwifX0odCkpLHRoaXMuc3VidHlwZT10LHRoaXMubmFtZT1cIk1pc3NpbmdEYXRhRXJyb3JcIix0aGlzLnR5cGU9XCJtaXNzaW5nX2RhdGFcIn19ZnVuY3Rpb24gYyh0KXtyZXR1cm4gZT10LmxpbmVJdGVtcy5waHlzaWNhbEl0ZW1zLmZpbHRlcih0PT4hdC5hZGRlZEJ5UHJvbW90aW9uKSxuKGUsKHQsZSk9PnQrZS5xdWFudGl0eSwwKTt2YXIgZX1mdW5jdGlvbiB1KHQsZSl7aWYobnVsbD09dCl0aHJvdyBlP2UoKTpuZXcgRXJyb3IoXCJBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC5cIik7cmV0dXJuIHR9IWZ1bmN0aW9uKHQpe3RbdC5DaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkPTBdPVwiQ2hlY2tvdXRCdXR0b25Ob3RJbml0aWFsaXplZFwiLHRbdC5DdXN0b21lck5vdEluaXRpYWxpemVkPTFdPVwiQ3VzdG9tZXJOb3RJbml0aWFsaXplZFwiLHRbdC5QYXltZW50Tm90SW5pdGlhbGl6ZWQ9Ml09XCJQYXltZW50Tm90SW5pdGlhbGl6ZWRcIix0W3QuU2hpcHBpbmdOb3RJbml0aWFsaXplZD0zXT1cIlNoaXBwaW5nTm90SW5pdGlhbGl6ZWRcIix0W3QuU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZD00XT1cIlNwYW1Qcm90ZWN0aW9uTm90SW5pdGlhbGl6ZWRcIn0oYXx8KGE9e30pKTtjbGFzcyBkIGV4dGVuZHMgcntjb25zdHJ1Y3Rvcih0KXtzdXBlcihmdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSBhLkN1c3RvbWVyTm90SW5pdGlhbGl6ZWQ6cmV0dXJuXCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjdXN0b21lciBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC5cIjtjYXNlIGEuUGF5bWVudE5vdEluaXRpYWxpemVkOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcGF5bWVudCBzdGVwIG9mIGNoZWNrb3V0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC5cIjtjYXNlIGEuU2hpcHBpbmdOb3RJbml0aWFsaXplZDpyZXR1cm5cIlVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHNoaXBwaW5nIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLlwiO2Nhc2UgYS5TcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkOnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2hlY2tvdXQgc3BhbSBwcm90ZWN0aW9uIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC5cIjtkZWZhdWx0OnJldHVyblwiVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcmVxdWlyZWQgY29tcG9uZW50IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC5cIn19KHQpKSx0aGlzLnN1YnR5cGU9dCx0aGlzLm5hbWU9XCJOb3RJbml0aWFsaXplZEVycm9yXCIsdGhpcy50eXBlPVwibm90X2luaXRpYWxpemVkXCJ9fWNvbnN0IGg9e2RlOlwiZXVcIixqcDpcImZlXCIsdWs6XCJldVwiLHVzOlwibmFcIn07dmFyIGwseSxtLHAsZyxQOyFmdW5jdGlvbih0KXt0LmVuX1VTPVwiZW5fVVNcIix0LmVuX0dCPVwiZW5fR0JcIix0LmRlX0RFPVwiZGVfREVcIix0LmZyX0ZSPVwiZnJfRlJcIix0Lml0X0lUPVwiaXRfSVRcIix0LmVzX0VTPVwiZXNfRVNcIix0LmphX0pQPVwiamFfSlBcIn0obHx8KGw9e30pKSxmdW5jdGlvbih0KXt0LkhvbWU9XCJIb21lXCIsdC5Qcm9kdWN0PVwiUHJvZHVjdFwiLHQuQ2FydD1cIkNhcnRcIix0LkNoZWNrb3V0PVwiQ2hlY2tvdXRcIix0Lk90aGVyPVwiT3RoZXJcIn0oeXx8KHk9e30pKSxmdW5jdGlvbih0KXt0LlVTRD1cIlVTRFwiLHQuRVVSPVwiRVVSXCIsdC5HQlA9XCJHQlBcIix0LkpQWT1cIkpQWVwifShtfHwobT17fSkpLGZ1bmN0aW9uKHQpe3QuUGF5QW5kU2hpcD1cIlBheUFuZFNoaXBcIix0LlBheU9ubHk9XCJQYXlPbmx5XCJ9KHB8fChwPXt9KSksZnVuY3Rpb24odCl7dC5Hb2xkPVwiR29sZFwiLHQuTGlnaHRHcmF5PVwiTGlnaHRHcmF5XCIsdC5EYXJrR3JheT1cIkRhcmtHcmF5XCJ9KGd8fChnPXt9KSksZnVuY3Rpb24odCl7dC5DMDAwMT1cIkMwMDAxXCJ9KFB8fChQPXt9KSk7dmFyIGY9ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoZnVuY3Rpb24obyxhKXtmdW5jdGlvbiByKHQpe3RyeXtjKGkubmV4dCh0KSl9Y2F0Y2godCl7YSh0KX19ZnVuY3Rpb24gcyh0KXt0cnl7YyhpLnRocm93KHQpKX1jYXRjaCh0KXthKHQpfX1mdW5jdGlvbiBjKHQpe3ZhciBlO3QuZG9uZT9vKHQudmFsdWUpOihlPXQudmFsdWUsZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbihmdW5jdGlvbih0KXt0KGUpfSkpLnRoZW4ocixzKX1jKChpPWkuYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KX07Y2xhc3MgYntjb25zdHJ1Y3Rvcih0KXt0aGlzLmFtYXpvblBheVYyU2NyaXB0TG9hZGVyPXR9aW5pdGlhbGl6ZSh0KXtyZXR1cm4gZih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7dGhpcy5hbWF6b25QYXlWMlNESz15aWVsZCB0aGlzLmFtYXpvblBheVYyU2NyaXB0TG9hZGVyLmxvYWQodCksdGhpcy5idXR0b25QYXJlbnRDb250YWluZXI9dGhpcy5idXR0b25QYXJlbnRDb250YWluZXJ8fHRoaXMuY3JlYXRlQW1hem9uUGF5QnV0dG9uUGFyZW50Q29udGFpbmVyKCl9KX1kZWluaXRpYWxpemUoKXt2YXIgdDtyZXR1cm4gdGhpcy5hbWF6b25QYXlWMkJ1dHRvbj12b2lkIDAsbnVsbD09PSh0PXRoaXMuYnV0dG9uUGFyZW50Q29udGFpbmVyKXx8dm9pZCAwPT09dHx8dC5yZW1vdmUoKSx0aGlzLmJ1dHRvblBhcmVudENvbnRhaW5lcj12b2lkIDAsdGhpcy5hbWF6b25QYXlWMlNESz12b2lkIDAsUHJvbWlzZS5yZXNvbHZlKCl9YmluZEJ1dHRvbih0LGUsbil7dGhpcy5nZXRBbWF6b25QYXlWMlNESygpLlBheS5iaW5kQ2hhbmdlQWN0aW9uKGAjJHt0fWAse2FtYXpvbkNoZWNrb3V0U2Vzc2lvbklkOmUsY2hhbmdlQWN0aW9uOm59KX1jcmVhdGVCdXR0b24odCxlKXt0aGlzLmFtYXpvblBheVYyQnV0dG9uPXRoaXMuZ2V0QW1hem9uUGF5VjJTREsoKS5QYXkucmVuZGVyQnV0dG9uKGAjJHt0fWAsZSl9cHJlcGFyZUNoZWNrb3V0KHQpe2NvbnN0IGU9dGhpcy5wcmVwYXJlUmVxdWVzdENvbmZpZyh0KTt0aGlzLmdldEFtYXpvblBheVYyQnV0dG9uKCkub25DbGljaygoKT0+e3RoaXMuZ2V0QW1hem9uUGF5VjJCdXR0b24oKS5pbml0Q2hlY2tvdXQoZSl9KX1wcmVwYXJlQ2hlY2tvdXRXaXRoQ3JlYXRpb25SZXF1ZXN0Q29uZmlnKHQpe3RoaXMuZ2V0QW1hem9uUGF5VjJCdXR0b24oKS5vbkNsaWNrKCgpPT5mKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtjb25zdCBlPXlpZWxkIHQoKTtpZihlKXtjb25zdCB0PXRoaXMucHJlcGFyZVJlcXVlc3RDb25maWcoZS5jcmVhdGVDaGVja291dFNlc3Npb25Db25maWcsZS5lc3RpbWF0ZWRPcmRlckFtb3VudCxlLnByb2R1Y3RUeXBlKTt0aGlzLmdldEFtYXpvblBheVYyQnV0dG9uKCkuaW5pdENoZWNrb3V0KHQpfX0pKX1zaWdub3V0KCl7cmV0dXJuIGYodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3JldHVybiB0aGlzLmFtYXpvblBheVYyU0RLJiZ0aGlzLmFtYXpvblBheVYyU0RLLlBheS5zaWdub3V0KCksUHJvbWlzZS5yZXNvbHZlKCl9KX1yZW5kZXJBbWF6b25QYXlCdXR0b24oe2J1dHRvbkNvbG9yOnQsY2hlY2tvdXRTdGF0ZTplLGNvbnRhaW5lcklkOm4sZGVjb3VwbGVDaGVja291dEluaXRpYXRpb246aT0hMSxtZXRob2RJZDpvLG9wdGlvbnM6YSxwbGFjZW1lbnQ6cixpc0J1dHRvbk1pY3JvVGV4dERpc2FibGVkOnM9ITF9KXtjb25zdCBjPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke259YCk7aWYoIWMpcmV0dXJuO2NvbnN0e2lkOnV9PWMuYXBwZW5kQ2hpbGQodGhpcy5nZXRCdXR0b25QYXJlbnRDb250YWluZXIoKSk7YSYmcyYmKGEuZGVzaWduPVAuQzAwMDEpO2NvbnN0IGQ9bnVsbCE9YT9hOnRoaXMuZ2V0QW1hem9uUGF5VjJCdXR0b25PcHRpb25zKGUsbyxyLGksdCk7cmV0dXJuIHRoaXMuY3JlYXRlQnV0dG9uKHUsZCksdGhpcy5nZXRCdXR0b25QYXJlbnRDb250YWluZXIoKX11cGRhdGVCdXlOb3dGbG93RmxhZyh0KXt0aGlzLmlzQnV5Tm93Rmxvdz1Cb29sZWFuKHQpfWlzUGg0RW5hYmxlZCh0LGUpe2NvbnN0IG49ISF0W1wiUFJPSkVDVC0zNDgzLmFtYXpvbl9wYXlfcGg0XCJdLGk9ISF0W1wiSU5ULTY4ODUuYW1hem9uX3BheV9waDRfdXNfb25seVwiXTtyZXR1cm4gbiYmaT9cIlVTXCI9PT1lOm59cHJlcGFyZVJlcXVlc3RDb25maWcodCxlLG4pe2NvbnN0e3B1YmxpY0tleUlkOml9PXQsbz1mdW5jdGlvbih0LGUpe3ZhciBuPXt9O2Zvcih2YXIgaSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiZlLmluZGV4T2YoaSk8MCYmKG5baV09dFtpXSk7aWYobnVsbCE9dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG89MDtmb3IoaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO288aS5sZW5ndGg7bysrKWUuaW5kZXhPZihpW29dKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodCxpW29dKSYmKG5baVtvXV09dFtpW29dXSl9cmV0dXJuIG59KHQsW1wicHVibGljS2V5SWRcIl0pO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe2NyZWF0ZUNoZWNrb3V0U2Vzc2lvbkNvbmZpZzp0aGlzLmlzRW52aXJvbm1lbnRTcGVjaWZpYyhpKT9vOnR9LGUmJntlc3RpbWF0ZWRPcmRlckFtb3VudDplfSksbiYme3Byb2R1Y3RUeXBlOm59KX1jcmVhdGVBbWF6b25QYXlCdXR0b25QYXJlbnRDb250YWluZXIoKXtjb25zdCB0PU1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnN1YnN0cigtNCksZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBlLmlkPWBhbWF6b25wYXlfYnV0dG9uX3BhcmVudF9jb250YWluZXJfJHt0fWAsZX1nZXRBbWF6b25QYXlWMkJ1dHRvbk9wdGlvbnModCxlLG4saT0hMSxhPWcuR29sZCl7dmFyIHI7Y29uc3R7Z2V0Q2FydDp1LGdldENoZWNrb3V0OmQsZ2V0U3RvcmVDb25maWdPclRocm93OmgsZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3c6bH09dGhpcy5nZXRDaGVja291dFN0YXRlKHQpLHtjb25maWc6e21lcmNoYW50SWQ6eSx0ZXN0TW9kZTptfSxpbml0aWFsaXphdGlvbkRhdGE6Zn09bChlKTtpZighZil0aHJvdyBuZXcgcyhvLk1pc3NpbmdQYXltZW50TWV0aG9kKTtjb25zdHtjaGVja291dExhbmd1YWdlOmIsY2hlY2tvdXRTZXNzaW9uTWV0aG9kOnYsY3JlYXRlQ2hlY2tvdXRTZXNzaW9uQ29uZmlnOkMsZXh0cmFjdEFtYXpvbkNoZWNrb3V0U2Vzc2lvbklkOnosbGVkZ2VyQ3VycmVuY3k6dyxwdWJsaWNLZXlJZDpTPVwiXCIsaXNCdXR0b25NaWNyb1RleHREaXNhYmxlZDpJfT1mO2lmKCF5fHwhdyl0aHJvdyBuZXcgcyhvLk1pc3NpbmdQYXltZW50TWV0aG9kKTtjb25zdCBfPU9iamVjdC5hc3NpZ24oe21lcmNoYW50SWQ6eSxsZWRnZXJDdXJyZW5jeTp3LGNoZWNrb3V0TGFuZ3VhZ2U6YixwbGFjZW1lbnQ6bixidXR0b25Db2xvcjphfSxJP3tkZXNpZ246UC5DMDAwMX06e30pO2lmKHRoaXMuaXNCdXlOb3dGbG93KXJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sXykse3NhbmRib3g6ISFtfSk7Y29uc3QgTz11KCk7Xy5wcm9kdWN0VHlwZT1PJiYwPT09YyhPKT9wLlBheU9ubHk6cC5QYXlBbmRTaGlwO2NvbnN0e2NoZWNrb3V0U2V0dGluZ3M6e2ZlYXR1cmVzOmt9LHN0b3JlUHJvZmlsZTp7c2hvcFBhdGg6TSxzdG9yZUNvdW50cnlDb2RlOkJ9fT1oKCk7aWYodGhpcy5pc1BoNEVuYWJsZWQoayxCKSl7aWYoIUMpdGhyb3cgbmV3IHMoby5NaXNzaW5nUGF5bWVudE1ldGhvZCk7Y29uc3QgdD1udWxsPT09KHI9ZCgpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5vdXRzdGFuZGluZ0JhbGFuY2UudG9TdHJpbmcoKSxlPW51bGw9PU8/dm9pZCAwOk8uY3VycmVuY3kuY29kZSxuPU9iamVjdC5hc3NpZ24oe30sXyk7bGV0IGE7cmV0dXJuIHRoaXMuaXNFbnZpcm9ubWVudFNwZWNpZmljKFMpPyhuLnB1YmxpY0tleUlkPVMsYT1DKToobi5zYW5kYm94PSEhbSxhPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxDKSx7cHVibGljS2V5SWQ6U30pKSxpfHwobi5jcmVhdGVDaGVja291dFNlc3Npb25Db25maWc9YSksdCYmZSYmKG4uZXN0aW1hdGVkT3JkZXJBbW91bnQ9e2Ftb3VudDp0LGN1cnJlbmN5Q29kZTplfSksbn1jb25zdCBBPXttZXRob2Q6dix1cmw6YCR7TX0vcmVtb3RlLWNoZWNrb3V0LyR7ZX0vcGF5bWVudC1zZXNzaW9uYCxleHRyYWN0QW1hem9uQ2hlY2tvdXRTZXNzaW9uSWQ6en07cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxfKSx7Y3JlYXRlQ2hlY2tvdXRTZXNzaW9uOkEsc2FuZGJveDohIW19KX1pc0Vudmlyb25tZW50U3BlY2lmaWModCl7cmV0dXJuL14oU0FOREJPWHxMSVZFKS8udGVzdCh0KX1nZXRBbWF6b25QYXlWMlNESygpe3JldHVybiB0aGlzLmdldE9yVGhyb3codGhpcy5hbWF6b25QYXlWMlNESyl9Z2V0QnV0dG9uUGFyZW50Q29udGFpbmVyKCl7cmV0dXJuIHRoaXMuZ2V0T3JUaHJvdyh0aGlzLmJ1dHRvblBhcmVudENvbnRhaW5lcil9Z2V0QW1hem9uUGF5VjJCdXR0b24oKXtyZXR1cm4gdGhpcy5nZXRPclRocm93KHRoaXMuYW1hem9uUGF5VjJCdXR0b24pfWdldE9yVGhyb3codCl7cmV0dXJuIHUodCwoKT0+bmV3IGQoYS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpKX1nZXRDaGVja291dFN0YXRlKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZihlPXQpJiZudWxsIT09ZSYmXCJjYXJ0XCJpbiBlJiZcImNoZWNrb3V0XCJpbiBlJiZcImNvbmZpZ1wiaW4gZSYmXCJwYXltZW50TWV0aG9kc1wiaW4gZT97Z2V0Q2FydDp0LmNhcnQuZ2V0Q2FydCxnZXRDaGVja291dDp0LmNoZWNrb3V0LmdldENoZWNrb3V0LGdldFN0b3JlQ29uZmlnT3JUaHJvdzp0LmNvbmZpZy5nZXRTdG9yZUNvbmZpZ09yVGhyb3csZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3c6ZT0+dC5wYXltZW50TWV0aG9kcy5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhlKX06dDt2YXIgZX19Y2xhc3MgdiBleHRlbmRzIHJ7Y29uc3RydWN0b3IodCl7c3VwZXIodHx8XCJVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjbGllbnQgbGlicmFyeSBvZiBhIHBheW1lbnQgbWV0aG9kIGlzIG5vdCBsb2FkZWQgb3IgcmVhZHkgdG8gYmUgdXNlZC5cIiksdGhpcy5uYW1lPVwiUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3JcIix0aGlzLnR5cGU9XCJwYXltZW50X21ldGhvZF9jbGllbnRfdW5hdmFpbGFibGVcIn19Y2xhc3MgQ3tjb25zdHJ1Y3Rvcih0LGU9d2luZG93KXt0aGlzLnNjcmlwdExvYWRlcj10LHRoaXMud2luZG93V2l0aEFtYXpvblBheT1lfWxvYWQodCl7cmV0dXJuIGU9dGhpcyxuPXZvaWQgMCxvPWZ1bmN0aW9uKigpe2NvbnN0e2luaXRpYWxpemF0aW9uRGF0YTplfT10LG49KG51bGw9PWU/dm9pZCAwOmUucmVnaW9uKXx8XCJ1c1wiLGk9aFtuXTtpZih5aWVsZCB0aGlzLnNjcmlwdExvYWRlci5sb2FkU2NyaXB0KGBodHRwczovL3N0YXRpYy0ke2l9LnBheW1lbnRzLWFtYXpvbi5jb20vY2hlY2tvdXQuanNgKSwhdGhpcy53aW5kb3dXaXRoQW1hem9uUGF5LmFtYXpvbil0aHJvdyBuZXcgdjtyZXR1cm4gdGhpcy53aW5kb3dXaXRoQW1hem9uUGF5LmFtYXpvbn0sbmV3KChpPXZvaWQgMCl8fChpPVByb21pc2UpKShmdW5jdGlvbih0LGEpe2Z1bmN0aW9uIHIodCl7dHJ5e2Moby5uZXh0KHQpKX1jYXRjaCh0KXthKHQpfX1mdW5jdGlvbiBzKHQpe3RyeXtjKG8udGhyb3codCkpfWNhdGNoKHQpe2EodCl9fWZ1bmN0aW9uIGMoZSl7dmFyIG47ZS5kb25lP3QoZS52YWx1ZSk6KG49ZS52YWx1ZSxuIGluc3RhbmNlb2YgaT9uOm5ldyBpKGZ1bmN0aW9uKHQpe3Qobil9KSkudGhlbihyLHMpfWMoKG89by5hcHBseShlLG58fFtdKSkubmV4dCgpKX0pO3ZhciBlLG4saSxvfX1mdW5jdGlvbiB6KCl7cmV0dXJuIG5ldyBiKG5ldyBDKHQoKSkpfWZ1bmN0aW9uIHcodCxlKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LHtyZXNvbHZlSWRzOmV9KX1jbGFzcyBTIGV4dGVuZHMgcntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0fHxcIkludmFsaWQgYXJndW1lbnRzIGhhdmUgYmVlbiBwcm92aWRlZC5cIiksdGhpcy5uYW1lPVwiSW52YWxpZEFyZ3VtZW50RXJyb3JcIix0aGlzLnR5cGU9XCJpbnZhbGlkX2FyZ3VtZW50XCJ9fWNsYXNzIEkgZXh0ZW5kcyBTe2NvbnN0cnVjdG9yKHQpe2xldCBlPVwiVW5hYmxlIHRvIHN1Ym1pdCBwYXltZW50IGZvciB0aGUgb3JkZXIgYmVjYXVzZSB0aGUgcGF5bG9hZCBpcyBpbnZhbGlkLlwiO3QmJihlPWAke2V9IE1ha2Ugc3VyZSB0aGUgZm9sbG93aW5nIGZpZWxkcyBhcmUgcHJvdmlkZWQgY29ycmVjdGx5OiAke3Quam9pbihcIiwgXCIpfS5gKSxzdXBlcihlKSx0aGlzLm5hbWU9XCJQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3JcIn19Y2xhc3MgXyBleHRlbmRzIHJ7Y29uc3RydWN0b3IodCl7c3VwZXIodHx8XCJQYXltZW50IHByb2Nlc3Mgd2FzIGNhbmNlbGxlZC5cIiksdGhpcy5uYW1lPVwiUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yXCIsdGhpcy50eXBlPVwicGF5bWVudF9jYW5jZWxsZWRcIn19Y2xhc3MgTyBleHRlbmRzIHJ7Y29uc3RydWN0b3IoKXtzdXBlcihcIlRoZSBjdXJyZW50IG9yZGVyIGRvZXMgbm90IG5lZWQgdG8gYmUgZmluYWxpemVkIGF0IHRoaXMgc3RhZ2UuXCIpLHRoaXMubmFtZT1cIk9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvclwiLHRoaXMudHlwZT1cIm9yZGVyX2ZpbmFsaXphdGlvbl9ub3RfcmVxdWlyZWRcIn19dmFyIGs9ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoZnVuY3Rpb24obyxhKXtmdW5jdGlvbiByKHQpe3RyeXtjKGkubmV4dCh0KSl9Y2F0Y2godCl7YSh0KX19ZnVuY3Rpb24gcyh0KXt0cnl7YyhpLnRocm93KHQpKX1jYXRjaCh0KXthKHQpfX1mdW5jdGlvbiBjKHQpe3ZhciBlO3QuZG9uZT9vKHQudmFsdWUpOihlPXQudmFsdWUsZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbihmdW5jdGlvbih0KXt0KGUpfSkpLnRoZW4ocixzKX1jKChpPWkuYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KX07Y2xhc3MgTXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZT10LHRoaXMuYW1hem9uUGF5VjJQYXltZW50UHJvY2Vzc29yPWV9aW5pdGlhbGl6ZSh0KXtyZXR1cm4gayh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3R7bWV0aG9kSWQ6ZSxhbWF6b25wYXk6bn09dDtpZighZSl0aHJvdyBuZXcgUygnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBcIm1ldGhvZElkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO2NvbnN0IGk9dGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkse2ZlYXR1cmVzOm99PWkuZ2V0U3RvcmVDb25maWdPclRocm93KCkuY2hlY2tvdXRTZXR0aW5ncyxhPWkuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3coZSkscj1hLmluaXRpYWxpemF0aW9uRGF0YXx8e30se3BheW1lbnRUb2tlbjpzPVwiXCIscmVnaW9uOmM9XCJcIixpc0J1dHRvbk1pY3JvVGV4dERpc2FibGVkOnV9PXI7aWYoeWllbGQgdGhpcy5hbWF6b25QYXlWMlBheW1lbnRQcm9jZXNzb3IuaW5pdGlhbGl6ZShhKSx0aGlzLl9pc1JlYWR5VG9QYXkocykpKG51bGw9PW4/dm9pZCAwOm4uZWRpdEJ1dHRvbklkKSYmdGhpcy5fYmluZEVkaXRCdXR0b24obi5lZGl0QnV0dG9uSWQscyxcImNoYW5nZVBheW1lbnRcIix0aGlzLl9pc01vZGFsRmxvdyhjKSk7ZWxzZXtjb25zdHtpZDp0fT10aGlzLl9jcmVhdGVDb250YWluZXIoKTtpZih0aGlzLl9hbWF6b25QYXlCdXR0b249dGhpcy5hbWF6b25QYXlWMlBheW1lbnRQcm9jZXNzb3IucmVuZGVyQW1hem9uUGF5QnV0dG9uKHtjaGVja291dFN0YXRlOmksY29udGFpbmVySWQ6dCxkZWNvdXBsZUNoZWNrb3V0SW5pdGlhdGlvbjp0aGlzLl9pc09uZVRpbWVUcmFuc2FjdGlvbihvLGMudG9VcHBlckNhc2UoKSksbWV0aG9kSWQ6ZSxwbGFjZW1lbnQ6eS5DaGVja291dCxpc0J1dHRvbk1pY3JvVGV4dERpc2FibGVkOnV9KSwhdGhpcy5fYW1hem9uUGF5QnV0dG9uKXRocm93IG5ldyBTKFwiVW5hYmxlIHRvIHJlbmRlciB0aGUgQW1hem9uIFBheSBidXR0b24gdG8gYW4gaW52YWxpZCBIVE1MIGNvbnRhaW5lciBlbGVtZW50LlwiKX19KX1leGVjdXRlKHQsbil7cmV0dXJuIGsodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2NvbnN0e3BheW1lbnQ6aX09dDtpZighaSl0aHJvdyBuZXcgSShbXCJwYXltZW50XCJdKTtjb25zdHttZXRob2RJZDpvfT1pLGE9dGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkse2ZlYXR1cmVzOnJ9PWEuZ2V0U3RvcmVDb25maWdPclRocm93KCkuY2hlY2tvdXRTZXR0aW5ncyxzPWEuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobykuaW5pdGlhbGl6YXRpb25EYXRhfHx7fSx7cGF5bWVudFRva2VuOmM9XCJcIixyZWdpb246dT1cIlwifT1zO2lmKHRoaXMuX2lzUmVhZHlUb1BheShjKXx8dGhpcy5faXNPbmVUaW1lVHJhbnNhY3Rpb24ocix1LnRvVXBwZXJDYXNlKCkpKXtjb25zdCBlPXttZXRob2RJZDpvLHBheW1lbnREYXRhOntub25jZTpjfHxcImFwYlwifX07eWllbGQgdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKHQsbik7dHJ5e3JldHVybiB2b2lkKHlpZWxkIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRQYXltZW50KGUpKX1jYXRjaCh0KXtpZighKCh0PT5cIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXQmJlwiYm9keVwiaW4gdCkodCkmJihkPXQuYm9keSxcIm9iamVjdFwiPT10eXBlb2YgZCYmbnVsbCE9PWQmJlwic3RhdHVzXCJpbiBkJiZcImFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkXCJpbiBkJiZcImFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkXCI9PT1kLnN0YXR1cyYmXCJkYXRhXCJpbiBkLmFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkJiZcInJlZGlyZWN0X3VybFwiaW4gZC5hZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZC5kYXRhJiZcInN0cmluZ1wiPT10eXBlb2YgZC5hZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZC5kYXRhLnJlZGlyZWN0X3VybCkpKXRocm93IHQ7Y29uc3R7YWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ6ZX09dC5ib2R5LHtyZWRpcmVjdF91cmw6bn09ZS5kYXRhO2lmKGMpcmV0dXJuIG5ldyBQcm9taXNlKCgpPT53aW5kb3cubG9jYXRpb24uYXNzaWduKG4pKTt0aGlzLmFtYXpvblBheVYyUGF5bWVudFByb2Nlc3Nvci5wcmVwYXJlQ2hlY2tvdXQoSlNPTi5wYXJzZShuKSl9fXZhciBkO3JldHVybiB0aGlzLl9nZXRBbWF6b25QYXlCdXR0b24oKS5jbGljaygpLHRoaXMuX2lzTW9kYWxGbG93KHUpP25ldyBQcm9taXNlKCh0LGUpPT57Y29uc3Qgbj0oKT0+e3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNcIixuKSxlKG5ldyBfKFwiU2hvcHBlciBuZWVkcyB0byBsb2dpbiB0byBBbWF6b25wYXkgdG8gY29udGludWVcIikpfTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsbil9KTpuZXcgUHJvbWlzZShlKX0pfWZpbmFsaXplKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBPKX1kZWluaXRpYWxpemUoKXtyZXR1cm4gayh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5hbWF6b25QYXlWMlBheW1lbnRQcm9jZXNzb3IuZGVpbml0aWFsaXplKCksdGhpcy5fYW1hem9uUGF5QnV0dG9uPXZvaWQgMH0pfV9iaW5kRWRpdEJ1dHRvbih0LGUsbixpKXtjb25zdCBvPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQpO2lmKG8mJm8ucGFyZW50Tm9kZSl7aWYoIWkpe2NvbnN0IHQ9by5jbG9uZU5vZGUoITApO28ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodCxvKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCgpPT57dGhpcy5fc2hvd0xvYWRpbmdTcGlubmVyKCl9KX10aGlzLmFtYXpvblBheVYyUGF5bWVudFByb2Nlc3Nvci5iaW5kQnV0dG9uKHQsZSxuKX19X2lzTW9kYWxGbG93KHQpe3JldHVyblwidXNcIj09PXR9X3Nob3dMb2FkaW5nU3Bpbm5lcigpe3JldHVybiBrKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uud2lkZ2V0SW50ZXJhY3Rpb24oKCk9Pm5ldyBQcm9taXNlKGUpKX0pfV9jcmVhdGVDb250YWluZXIoKXtsZXQgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkFtYXpvblBheUJ1dHRvblwiKTtyZXR1cm4gdHx8KHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0LmlkPVwiQW1hem9uUGF5QnV0dG9uXCIsdC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCkpfV9nZXRBbWF6b25QYXlCdXR0b24oKXtyZXR1cm4gdSh0aGlzLl9hbWF6b25QYXlCdXR0b24sKCk9Pm5ldyBkKGEuUGF5bWVudE5vdEluaXRpYWxpemVkKSl9X2lzT25lVGltZVRyYW5zYWN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYW1hem9uUGF5VjJQYXltZW50UHJvY2Vzc29yLmlzUGg0RW5hYmxlZCh0LGUpJiZ0W1wiSU5ULTYzOTkuYW1hem9uX3BheV9hcGJcIl19X2lzUmVhZHlUb1BheSh0KXtyZXR1cm4hIXR9fWNvbnN0IEI9dyh0PT5uZXcgTSh0LHooKSksW3tpZDpcImFtYXpvbnBheVwifV0pO2NsYXNzIEEgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHR8fFwiTm90IGltcGxlbWVudGVkLlwiKSx0aGlzLm5hbWU9XCJOb3RJbXBsZW1lbnRlZEVycm9yXCIsdGhpcy50eXBlPVwibm90X2ltcGxlbWVudGVkXCJ9fXZhciBUPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKGZ1bmN0aW9uKG8sYSl7ZnVuY3Rpb24gcih0KXt0cnl7YyhpLm5leHQodCkpfWNhdGNoKHQpe2EodCl9fWZ1bmN0aW9uIHModCl7dHJ5e2MoaS50aHJvdyh0KSl9Y2F0Y2godCl7YSh0KX19ZnVuY3Rpb24gYyh0KXt2YXIgZTt0LmRvbmU/byh0LnZhbHVlKTooZT10LnZhbHVlLGUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oZnVuY3Rpb24odCl7dChlKX0pKS50aGVuKHIscyl9YygoaT1pLmFwcGx5KHQsZXx8W10pKS5uZXh0KCkpfSl9O2NsYXNzIFZ7Y29uc3RydWN0b3IodCxlKXt0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U9dCx0aGlzLmFtYXpvblBheVYyUGF5bWVudFByb2Nlc3Nvcj1lfWluaXRpYWxpemUodCl7cmV0dXJuIFQodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2NvbnN0e21ldGhvZElkOmUsYW1hem9ucGF5Om59PXQ7aWYoIWV8fCEobnVsbD09bj92b2lkIDA6bi5jb250YWluZXIpKXRocm93IG5ldyBTKCdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIFwibWV0aG9kSWRcIiBvciBcImNvbnRhaW5lcklkXCIgYXJndW1lbnQgaXMgbm90IHByb3ZpZGVkLicpO2xldCBpO3RyeXtpPXRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldFBheW1lbnRNZXRob2RPclRocm93KGUpfWNhdGNoKHQpe3lpZWxkIHRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChlKSxpPXRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLmdldFBheW1lbnRNZXRob2RPclRocm93KGUpfXlpZWxkIHRoaXMuYW1hem9uUGF5VjJQYXltZW50UHJvY2Vzc29yLmluaXRpYWxpemUoaSksdGhpcy5hbWF6b25QYXlWMlBheW1lbnRQcm9jZXNzb3IucmVuZGVyQW1hem9uUGF5QnV0dG9uKHtjaGVja291dFN0YXRlOnRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLGNvbnRhaW5lcklkOm4uY29udGFpbmVyLG1ldGhvZElkOmUscGxhY2VtZW50OnkuQ2hlY2tvdXR9KX0pfWRlaW5pdGlhbGl6ZSgpe3JldHVybiBUKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLmFtYXpvblBheVYyUGF5bWVudFByb2Nlc3Nvci5kZWluaXRpYWxpemUoKX0pfXNpZ25Jbigpe3Rocm93IG5ldyBBKCdJbiBvcmRlciB0byBzaWduIGluIHZpYSBBbWF6b24sIHRoZSBzaG9wcGVyIG11c3QgY2xpY2sgb24gXCJBbWF6b24gUGF5XCIgYnV0dG9uLicpfXNpZ25PdXQodCl7cmV0dXJuIFQodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2NvbnN0IGU9dGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkuZ2V0UGF5bWVudElkKCk7ZSYmKHlpZWxkIHRoaXMuYW1hem9uUGF5VjJQYXltZW50UHJvY2Vzc29yLnNpZ25vdXQoKSx5aWVsZCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UucmVtb3RlQ2hlY2tvdXRTaWduT3V0KGUucHJvdmlkZXJJZCx0KSl9KX1leGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0KHQpe3ZhciBlO3JldHVybiBudWxsPT09KGU9bnVsbD09dD92b2lkIDA6dC5jb250aW51ZVdpdGhDaGVja291dENhbGxiYWNrKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHQpLFByb21pc2UucmVzb2x2ZSgpfX1jb25zdCBOPXcodD0+bmV3IFYodCx6KCkpLFt7aWQ6XCJhbWF6b25wYXlcIn1dKTtjbGFzcyB4IGV4dGVuZHMgcntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0fHxcIkFuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkIGR1cmluZyBidXkgbm93IGNhcnQgY3JlYXRpb24gcHJvY2Vzcy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIiksdGhpcy5uYW1lPVwiQnV5Tm93Q2FydENyZWF0aW9uRXJyb3JcIix0aGlzLnR5cGU9XCJidXlfbm93X2NhcnRfY3JlYXRpb25fZXJyb3JcIn19Y2xhc3MgRSBleHRlbmRzIHJ7Y29uc3RydWN0b3IodCl7c3VwZXIodHx8XCJBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZCBkdXJpbmcgY29uZmlnIGNyZWF0aW9uIHByb2Nlc3MuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXCIpLHRoaXMubmFtZT1cIkFtYXpvblBheVYyQ29uZmlnQ3JlYXRpb25FcnJvclwiLHRoaXMudHlwZT1cImFtYXpvbl9wYXlfdjJfY29uZmlnX2NyZWF0aW9uX2Vycm9yXCJ9fWZ1bmN0aW9uIFUodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBPYmplY3QmJlwiYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnNcImluIHR9dmFyIGosRD1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKShmdW5jdGlvbihvLGEpe2Z1bmN0aW9uIHIodCl7dHJ5e2MoaS5uZXh0KHQpKX1jYXRjaCh0KXthKHQpfX1mdW5jdGlvbiBzKHQpe3RyeXtjKGkudGhyb3codCkpfWNhdGNoKHQpe2EodCl9fWZ1bmN0aW9uIGModCl7dmFyIGU7dC5kb25lP28odC52YWx1ZSk6KGU9dC52YWx1ZSxlIGluc3RhbmNlb2Ygbj9lOm5ldyBuKGZ1bmN0aW9uKHQpe3QoZSl9KSkudGhlbihyLHMpfWMoKGk9aS5hcHBseSh0LGV8fFtdKSkubmV4dCgpKX0pfTtjbGFzcyBxe2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U9dCx0aGlzLmFtYXpvblBheVYyUGF5bWVudFByb2Nlc3Nvcj1lLHRoaXMuYW1hem9uUGF5VjJDb25maWdSZXF1ZXN0U2VuZGVyPW59aW5pdGlhbGl6ZSh0KXt2YXIgZTtyZXR1cm4gRCh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3R7bWV0aG9kSWQ6bixjb250YWluZXJJZDppLGFtYXpvbnBheTpvfT10LHtidXR0b25Db2xvcjphfT1vfHx7fTtpZighbnx8IWkpdGhyb3cgbmV3IFMoJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgXCJtZXRob2RJZFwiIG9yIFwiY29udGFpbmVySWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyk7Y29uc3R7Z2V0UGF5bWVudE1ldGhvZE9yVGhyb3c6cn09dGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkscz1yKG4pLHtpbml0aWFsaXphdGlvbkRhdGE6Y309czt5aWVsZCB0aGlzLmFtYXpvblBheVYyUGF5bWVudFByb2Nlc3Nvci5pbml0aWFsaXplKHMpLG98fCh5aWVsZCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZERlZmF1bHRDaGVja291dCgpKTtjb25zdCB1PVUobyk/dm9pZCAwOm87VShvKSYmXCJmdW5jdGlvblwiPT10eXBlb2YobnVsbD09PShlPW8uYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldEJ1eU5vd0NhcnRSZXF1ZXN0Qm9keSkmJih0aGlzLl9idXlOb3dJbml0aWFsaXplT3B0aW9ucz1vLmJ1eU5vd0luaXRpYWxpemVPcHRpb25zLHRoaXMuYW1hem9uUGF5VjJQYXltZW50UHJvY2Vzc29yLnVwZGF0ZUJ1eU5vd0Zsb3dGbGFnKCEwKSksdGhpcy5hbWF6b25QYXlWMlBheW1lbnRQcm9jZXNzb3IucmVuZGVyQW1hem9uUGF5QnV0dG9uKHtjaGVja291dFN0YXRlOnRoaXMucGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpLGNvbnRhaW5lcklkOmksbWV0aG9kSWQ6bixvcHRpb25zOnUscGxhY2VtZW50OnkuQ2FydCxidXR0b25Db2xvcjphLGlzQnV0dG9uTWljcm9UZXh0RGlzYWJsZWQ6bnVsbD09Yz92b2lkIDA6Yy5pc0J1dHRvbk1pY3JvVGV4dERpc2FibGVkfSksdGhpcy5fYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMmJnRoaXMuYW1hem9uUGF5VjJQYXltZW50UHJvY2Vzc29yLnByZXBhcmVDaGVja291dFdpdGhDcmVhdGlvblJlcXVlc3RDb25maWcodGhpcy5fZ2V0Q2hlY2tvdXRDcmVhdGlvblJlcXVlc3RDb25maWcuYmluZCh0aGlzKSl9KX1kZWluaXRpYWxpemUoKXtyZXR1cm4gdGhpcy5hbWF6b25QYXlWMlBheW1lbnRQcm9jZXNzb3IuZGVpbml0aWFsaXplKCl9X2NyZWF0ZUJ1eU5vd0NhcnRPclRocm93KCl7dmFyIHQsZTtyZXR1cm4gRCh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3Qgbj1udWxsPT09KGU9bnVsbD09PSh0PXRoaXMuX2J1eU5vd0luaXRpYWxpemVPcHRpb25zKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRCdXlOb3dDYXJ0UmVxdWVzdEJvZHkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNhbGwodCk7aWYoIW4pdGhyb3cgbmV3IHMoby5NaXNzaW5nQ2FydCk7dHJ5e3JldHVybiB5aWVsZCB0aGlzLnBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuY3JlYXRlQnV5Tm93Q2FydChuKX1jYXRjaCh0KXt0aHJvdyBuZXcgeH19KX1fY3JlYXRlQ2hlY2tvdXRDb25maWcodCl7cmV0dXJuIEQodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3RyeXtjb25zdCBlPSh5aWVsZCB0aGlzLmFtYXpvblBheVYyQ29uZmlnUmVxdWVzdFNlbmRlci5jcmVhdGVDaGVja291dENvbmZpZyh0KSkuYm9keSx7cGF5bG9hZDpuLHB1YmxpY19rZXk6aX09ZSxvPWZ1bmN0aW9uKHQsZSl7dmFyIG49e307Zm9yKHZhciBpIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkmJmUuaW5kZXhPZihpKTwwJiYobltpXT10W2ldKTtpZihudWxsIT10JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7bzxpLmxlbmd0aDtvKyspZS5pbmRleE9mKGlbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0LGlbb10pJiYobltpW29dXT10W2lbb11dKX1yZXR1cm4gbn0oZSxbXCJwYXlsb2FkXCIsXCJwdWJsaWNfa2V5XCJdKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih7cGF5bG9hZEpTT046bixwdWJsaWNLZXlJZDppfSxvKX1jYXRjaCh0KXt0aHJvdyBuZXcgRX19KX1fZ2V0Q2hlY2tvdXRDcmVhdGlvblJlcXVlc3RDb25maWcoKXtyZXR1cm4gRCh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3QgdD15aWVsZCB0aGlzLl9jcmVhdGVCdXlOb3dDYXJ0T3JUaHJvdygpLGU9e2Ftb3VudDpTdHJpbmcodC5iYXNlQW1vdW50KSxjdXJyZW5jeUNvZGU6dC5jdXJyZW5jeS5jb2RlfTtyZXR1cm57Y3JlYXRlQ2hlY2tvdXRTZXNzaW9uQ29uZmlnOnlpZWxkIHRoaXMuX2NyZWF0ZUNoZWNrb3V0Q29uZmlnKHQuaWQpLGVzdGltYXRlZE9yZGVyQW1vdW50OmUscHJvZHVjdFR5cGU6MD09PWModCk/cC5QYXlPbmx5OnAuUGF5QW5kU2hpcH19KX19IWZ1bmN0aW9uKHQpe3QuSnNvbj1cImFwcGxpY2F0aW9uL2pzb25cIix0Lkpzb25WMT1cImFwcGxpY2F0aW9uL3ZuZC5iYy52MStqc29uXCJ9KGp8fChqPXt9KSk7Y29uc3QgUj1qLEw9e1wiWC1DaGVja291dC1TREstVmVyc2lvblwiOlwiMS44MDguMFwifTtjbGFzcyBLe2NvbnN0cnVjdG9yKHQpe3RoaXMuX3JlcXVlc3RTZW5kZXI9dH1jcmVhdGVDaGVja291dENvbmZpZyh0KXtjb25zdCBlPXtjYXJ0SWQ6dH0sbj1PYmplY3QuYXNzaWduKHtcIlgtQVBJLUlOVEVSTkFMXCI6XCJUaGlzIEFQSSBlbmRwb2ludCBpcyBmb3IgaW50ZXJuYWwgdXNlIG9ubHkgYW5kIG1heSBjaGFuZ2UgaW4gdGhlIGZ1dHVyZVwiLFwiQ29udGVudC1UeXBlXCI6Ui5Kc29ufSxMKTtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlbmRlci5wb3N0KFwiL2FwaS9zdG9yZWZyb250L3BheW1lbnQvYW1hem9ucGF5XCIse2hlYWRlcnM6bixib2R5OmV9KX19Y29uc3QgRj13KHQ9Pntjb25zdCBlPWkoKSxuPW5ldyBLKGUpLG89eigpO3JldHVybiBuZXcgcSh0LG8sbil9LFt7aWQ6XCJhbWF6b25wYXlcIn1dKTtleHBvcnR7RiBhcyBjcmVhdGVBbWF6b25QYXlWMkJ1dHRvblN0cmF0ZWd5LE4gYXMgY3JlYXRlQW1hem9uUGF5VjJDdXN0b21lclN0cmF0ZWd5LEIgYXMgY3JlYXRlQW1hem9uUGF5VjJQYXltZW50U3RyYXRlZ3l9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW1hem9uLXBheS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/amazon-pay.js\n\n}");

/***/ }),

/***/ "./packages/amazon-pay-v2-integration/src/AmazonPayV2Button.tsx":
/*!**********************************************************************!*\
  !*** ./packages/amazon-pay-v2-integration/src/AmazonPayV2Button.tsx ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_amazon_pay__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/amazon-pay */ \"../checkout-sdk-js/dist/esm/integrations/amazon-pay.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _bigcommerce_checkout_checkout_button_integration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bigcommerce/checkout/checkout-button-integration */ \"./packages/checkout-button-integration/src/CheckoutButton.tsx\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/guards/isHTMLElement/isHTMLElement.ts\");\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/toResolvableComponent.tsx\");\n\n\n\n\n\nconst beautifyAmazonButton = () => {\n    var _a;\n    if (!document.querySelector('.checkout-button-container')) {\n        return;\n    }\n    const container = document.querySelector('#amazonpayCheckoutButton > div');\n    if (container) {\n        const amazonButton = (_a = container.shadowRoot) === null || _a === void 0 ? void 0 : _a.querySelector('.amazonpay-button-view1');\n        if ((0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(amazonButton)) {\n            amazonButton.style.height = '36px';\n            return;\n        }\n    }\n    setTimeout(beautifyAmazonButton, 10);\n};\nconst AmazonPayV2Button = (props) => {\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        beautifyAmazonButton();\n    }, []);\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"AmazonPayContainer\" },\n        react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_bigcommerce_checkout_checkout_button_integration__WEBPACK_IMPORTED_MODULE_2__[\"default\"], Object.assign({ integrations: [_bigcommerce_checkout_sdk_integrations_amazon_pay__WEBPACK_IMPORTED_MODULE_0__.createAmazonPayV2CustomerStrategy] }, props))));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(AmazonPayV2Button, [{ id: 'amazonpay' }]));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9hbWF6b24tcGF5LXYyLWludGVncmF0aW9uL3NyYy9BbWF6b25QYXlWMkJ1dHRvbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFzRztBQUNyQztBQUVrQjtBQUNaO0FBS2hCO0FBRXZELE1BQU0sb0JBQW9CLEdBQUcsR0FBUyxFQUFFOztJQUNwQyxJQUFJLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyw0QkFBNEIsQ0FBQyxFQUFFLENBQUM7UUFDeEQsT0FBTztJQUNYLENBQUM7SUFFRCxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLGdDQUFnQyxDQUFDLENBQUM7SUFFM0UsSUFBSSxTQUFTLEVBQUUsQ0FBQztRQUNaLE1BQU0sWUFBWSxHQUFHLGVBQVMsQ0FBQyxVQUFVLDBDQUFFLGFBQWEsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO1FBRXBGLElBQUksa0ZBQWEsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDO1lBQzlCLFlBQVksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztZQUVuQyxPQUFPO1FBQ1gsQ0FBQztJQUNMLENBQUM7SUFFRCxVQUFVLENBQUMsb0JBQW9CLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDekMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxpQkFBaUIsR0FBMkMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtJQUN4RSxnREFBUyxDQUFDLEdBQUcsRUFBRTtRQUNYLG9CQUFvQixFQUFFLENBQUM7SUFDM0IsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRVAsT0FBTyxDQUNILG9FQUFLLFNBQVMsRUFBQyxvQkFBb0I7UUFDL0IsMkRBQUMseUZBQWMsa0JBQUMsWUFBWSxFQUFFLENBQUMsZ0hBQWlDLENBQUMsSUFBTSxLQUFLLEVBQUksQ0FDOUUsQ0FDVCxDQUFDO0FBQ04sQ0FBQyxDQUFDO0FBRUYsaUVBQWUseUZBQXFCLENBQ2hDLGlCQUFpQixFQUNqQixDQUFDLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRSxDQUFDLENBQ3hCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uL3BhY2thZ2VzL2FtYXpvbi1wYXktdjItaW50ZWdyYXRpb24vc3JjL0FtYXpvblBheVYyQnV0dG9uLnRzeD9lZGE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUFtYXpvblBheVYyQ3VzdG9tZXJTdHJhdGVneSB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvaW50ZWdyYXRpb25zL2FtYXpvbi1wYXknO1xuaW1wb3J0IFJlYWN0LCB7IHR5cGUgRnVuY3Rpb25Db21wb25lbnQsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgQ2hlY2tvdXRCdXR0b24gfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQvY2hlY2tvdXQtYnV0dG9uLWludGVncmF0aW9uJztcbmltcG9ydCB7IGlzSFRNTEVsZW1lbnQgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQvaW5zdHJ1bWVudC11dGlscyc7XG5pbXBvcnQge1xuICAgIHR5cGUgQ2hlY2tvdXRCdXR0b25Qcm9wcyxcbiAgICB0eXBlIENoZWNrb3V0QnV0dG9uUmVzb2x2ZUlkLFxuICAgIHRvUmVzb2x2YWJsZUNvbXBvbmVudCxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuY29uc3QgYmVhdXRpZnlBbWF6b25CdXR0b24gPSAoKTogdm9pZCA9PiB7XG4gICAgaWYgKCFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tvdXQtYnV0dG9uLWNvbnRhaW5lcicpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYW1hem9ucGF5Q2hlY2tvdXRCdXR0b24gPiBkaXYnKTtcblxuICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgY29uc3QgYW1hem9uQnV0dG9uID0gY29udGFpbmVyLnNoYWRvd1Jvb3Q/LnF1ZXJ5U2VsZWN0b3IoJy5hbWF6b25wYXktYnV0dG9uLXZpZXcxJyk7XG5cbiAgICAgICAgaWYgKGlzSFRNTEVsZW1lbnQoYW1hem9uQnV0dG9uKSkge1xuICAgICAgICAgICAgYW1hem9uQnV0dG9uLnN0eWxlLmhlaWdodCA9ICczNnB4JztcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0VGltZW91dChiZWF1dGlmeUFtYXpvbkJ1dHRvbiwgMTApO1xufTtcblxuY29uc3QgQW1hem9uUGF5VjJCdXR0b246IEZ1bmN0aW9uQ29tcG9uZW50PENoZWNrb3V0QnV0dG9uUHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgYmVhdXRpZnlBbWF6b25CdXR0b24oKTtcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFtYXpvblBheUNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPENoZWNrb3V0QnV0dG9uIGludGVncmF0aW9ucz17W2NyZWF0ZUFtYXpvblBheVYyQ3VzdG9tZXJTdHJhdGVneV19IHsuLi5wcm9wc30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZUNvbXBvbmVudDxDaGVja291dEJ1dHRvblByb3BzLCBDaGVja291dEJ1dHRvblJlc29sdmVJZD4oXG4gICAgQW1hem9uUGF5VjJCdXR0b24sXG4gICAgW3sgaWQ6ICdhbWF6b25wYXknIH1dLFxuKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./packages/amazon-pay-v2-integration/src/AmazonPayV2Button.tsx\n\n}");

/***/ }),

/***/ "./packages/amazon-pay-v2-integration/src/AmazonPayV2PaymentMethod.tsx":
/*!*****************************************************************************!*\
  !*** ./packages/amazon-pay-v2-integration/src/AmazonPayV2PaymentMethod.tsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _bigcommerce_checkout_sdk_integrations_amazon_pay__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bigcommerce/checkout-sdk/integrations/amazon-pay */ \"../checkout-sdk-js/dist/esm/integrations/amazon-pay.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _bigcommerce_checkout_hosted_widget_integration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bigcommerce/checkout/hosted-widget-integration */ \"./packages/hosted-widget-integration/src/HostedWidgetPaymentComponent.tsx\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/guards/isInstrumentCardCodeRequiredSelector.ts\");\n/* harmony import */ var _bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @bigcommerce/checkout/instrument-utils */ \"./packages/instrument-utils/src/guards/isInstrumentCardNumberRequiredSelector.ts\");\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/toResolvableComponent.tsx\");\n\n\n\n\n\n\n\nconst AmazonPayV2PaymentMethod = (_a) => {\n    var { checkoutService, checkoutState, paymentForm, method, method: { initializationData: { paymentDescriptor, paymentToken }, } } = _a, rest = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__rest)(_a, [\"checkoutService\", \"checkoutState\", \"paymentForm\", \"method\", \"method\"]);\n    const initializeAmazonPayV2Payment = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((options) => checkoutService.initializePayment(Object.assign(Object.assign({}, options), { integrations: [_bigcommerce_checkout_sdk_integrations_amazon_pay__WEBPACK_IMPORTED_MODULE_1__.createAmazonPayV2PaymentStrategy], amazonpay: {\n            editButtonId: 'editButtonId',\n        } })), [checkoutService]);\n    const reload = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => window.location.reload(), []);\n    const { hidePaymentSubmitButton, disableSubmit, setFieldValue, setSubmit, setValidationSchema, } = paymentForm;\n    const { data: { getCheckout, isPaymentDataRequired }, statuses: { isLoadingInstruments }, } = checkoutState;\n    const checkout = getCheckout();\n    const customer = checkoutState.data.getCustomer();\n    const isGuestCustomer = customer === null || customer === void 0 ? void 0 : customer.isGuest;\n    const isInstrumentFeatureAvailable = !isGuestCustomer && Boolean(method.config.isVaultingEnabled);\n    const instruments = checkoutState.data.getInstruments(method) || [];\n    return (react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_bigcommerce_checkout_hosted_widget_integration__WEBPACK_IMPORTED_MODULE_4__[\"default\"], Object.assign({}, rest, { buttonId: \"editButtonId\", containerId: \"paymentWidget\", deinitializePayment: checkoutService.deinitializePayment, disableSubmit: disableSubmit, hidePaymentSubmitButton: hidePaymentSubmitButton, hideWidget: true, initializePayment: initializeAmazonPayV2Payment, instruments: instruments, isInstrumentCardCodeRequired: (0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(checkoutState), isInstrumentCardNumberRequired: (0,_bigcommerce_checkout_instrument_utils__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(checkoutState), isInstrumentFeatureAvailable: isInstrumentFeatureAvailable, isLoadingInstruments: isLoadingInstruments(), isPaymentDataRequired: isPaymentDataRequired(), isSignInRequired: false, isSignedIn: (0,lodash__WEBPACK_IMPORTED_MODULE_2__.some)(checkout === null || checkout === void 0 ? void 0 : checkout.payments, { providerId: method.id }), loadInstruments: checkoutService.loadInstruments, method: method, onSignOut: reload, paymentDescriptor: paymentDescriptor, setFieldValue: setFieldValue, setSubmit: setSubmit, setValidationSchema: setValidationSchema, shouldShow: !!paymentToken, shouldShowDescriptor: !!paymentToken, shouldShowEditButton: !!paymentToken, signOut: checkoutService.signOutCustomer })));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(AmazonPayV2PaymentMethod, [{ id: 'amazonpay' }]));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9hbWF6b24tcGF5LXYyLWludGVncmF0aW9uL3NyYy9BbWF6b25QYXlWMlBheW1lbnRNZXRob2QudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUNxRztBQUN2RTtBQUNxQztBQUU0QjtBQUkvQztBQUtPO0FBRXZELE1BQU0sd0JBQXdCLEdBQTBDLENBQUMsRUFTeEUsRUFBRSxFQUFFO1FBVG9FLEVBQ3JFLGVBQWUsRUFDZixhQUFhLEVBQ2IsV0FBVyxFQUNYLE1BQU0sRUFDTixNQUFNLEVBQUUsRUFDSixrQkFBa0IsRUFBRSxFQUFFLGlCQUFpQixFQUFFLFlBQVksRUFBRSxHQUMxRCxPQUVKLEVBRE0sSUFBSSxxREFSOEQsdUVBU3hFLENBRFU7SUFFUCxNQUFNLDRCQUE0QixHQUFHLGtEQUFXLENBQzVDLENBQUMsT0FBaUMsRUFBRSxFQUFFLENBQ2xDLGVBQWUsQ0FBQyxpQkFBaUIsaUNBQzFCLE9BQU8sS0FDVixZQUFZLEVBQUUsQ0FBQywrR0FBZ0MsQ0FBQyxFQUNoRCxTQUFTLEVBQUU7WUFDUCxZQUFZLEVBQUUsY0FBYztTQUMvQixJQUNILEVBQ04sQ0FBQyxlQUFlLENBQUMsQ0FDcEIsQ0FBQztJQUVGLE1BQU0sTUFBTSxHQUFHLGtEQUFXLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUUvRCxNQUFNLEVBQ0YsdUJBQXVCLEVBQ3ZCLGFBQWEsRUFDYixhQUFhLEVBQ2IsU0FBUyxFQUNULG1CQUFtQixHQUN0QixHQUFHLFdBQVcsQ0FBQztJQUVoQixNQUFNLEVBQ0YsSUFBSSxFQUFFLEVBQUUsV0FBVyxFQUFFLHFCQUFxQixFQUFFLEVBQzVDLFFBQVEsRUFBRSxFQUFFLG9CQUFvQixFQUFFLEdBQ3JDLEdBQUcsYUFBYSxDQUFDO0lBRWxCLE1BQU0sUUFBUSxHQUFHLFdBQVcsRUFBRSxDQUFDO0lBQy9CLE1BQU0sUUFBUSxHQUFHLGFBQWEsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDbEQsTUFBTSxlQUFlLEdBQUcsUUFBUSxhQUFSLFFBQVEsdUJBQVIsUUFBUSxDQUFFLE9BQU8sQ0FBQztJQUMxQyxNQUFNLDRCQUE0QixHQUM5QixDQUFDLGVBQWUsSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBRWpFLE1BQU0sV0FBVyxHQUFHLGFBQWEsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUVwRSxPQUFPLENBQ0gsMkRBQUMsdUZBQTRCLG9CQUNyQixJQUFJLElBQ1IsUUFBUSxFQUFDLGNBQWMsRUFDdkIsV0FBVyxFQUFDLGVBQWUsRUFDM0IsbUJBQW1CLEVBQUUsZUFBZSxDQUFDLG1CQUFtQixFQUN4RCxhQUFhLEVBQUUsYUFBYSxFQUM1Qix1QkFBdUIsRUFBRSx1QkFBdUIsRUFDaEQsVUFBVSxRQUNWLGlCQUFpQixFQUFFLDRCQUE0QixFQUMvQyxXQUFXLEVBQUUsV0FBVyxFQUN4Qiw0QkFBNEIsRUFBRSxrRkFBb0MsQ0FBQyxhQUFhLENBQUMsRUFDakYsOEJBQThCLEVBQUUsa0ZBQXNDLENBQUMsYUFBYSxDQUFDLEVBQ3JGLDRCQUE0QixFQUFFLDRCQUE0QixFQUMxRCxvQkFBb0IsRUFBRSxvQkFBb0IsRUFBRSxFQUM1QyxxQkFBcUIsRUFBRSxxQkFBcUIsRUFBRSxFQUM5QyxnQkFBZ0IsRUFBRSxLQUFLLEVBQ3ZCLFVBQVUsRUFBRSw0Q0FBSSxDQUFDLFFBQVEsYUFBUixRQUFRLHVCQUFSLFFBQVEsQ0FBRSxRQUFRLEVBQUUsRUFBRSxVQUFVLEVBQUUsTUFBTSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQy9ELGVBQWUsRUFBRSxlQUFlLENBQUMsZUFBZSxFQUNoRCxNQUFNLEVBQUUsTUFBTSxFQUNkLFNBQVMsRUFBRSxNQUFNLEVBQ2pCLGlCQUFpQixFQUFFLGlCQUFpQixFQUNwQyxhQUFhLEVBQUUsYUFBYSxFQUM1QixTQUFTLEVBQUUsU0FBUyxFQUNwQixtQkFBbUIsRUFBRSxtQkFBbUIsRUFDeEMsVUFBVSxFQUFFLENBQUMsQ0FBQyxZQUFZLEVBQzFCLG9CQUFvQixFQUFFLENBQUMsQ0FBQyxZQUFZLEVBQ3BDLG9CQUFvQixFQUFFLENBQUMsQ0FBQyxZQUFZLEVBQ3BDLE9BQU8sRUFBRSxlQUFlLENBQUMsZUFBZSxJQUMxQyxDQUNMLENBQUM7QUFDTixDQUFDLENBQUM7QUFFRixpRUFBZSx5RkFBcUIsQ0FDaEMsd0JBQXdCLEVBQ3hCLENBQUMsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFLENBQUMsQ0FDeEIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vcGFja2FnZXMvYW1hem9uLXBheS12Mi1pbnRlZ3JhdGlvbi9zcmMvQW1hem9uUGF5VjJQYXltZW50TWV0aG9kLnRzeD8yYTNiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGUgUGF5bWVudEluaXRpYWxpemVPcHRpb25zIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkayc7XG5pbXBvcnQgeyBjcmVhdGVBbWF6b25QYXlWMlBheW1lbnRTdHJhdGVneSB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvaW50ZWdyYXRpb25zL2FtYXpvbi1wYXknO1xuaW1wb3J0IHsgc29tZSB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUmVhY3QsIHsgdHlwZSBGdW5jdGlvbkNvbXBvbmVudCwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IEhvc3RlZFdpZGdldFBheW1lbnRDb21wb25lbnQgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQvaG9zdGVkLXdpZGdldC1pbnRlZ3JhdGlvbic7XG5pbXBvcnQge1xuICAgIGlzSW5zdHJ1bWVudENhcmRDb2RlUmVxdWlyZWRTZWxlY3RvcixcbiAgICBpc0luc3RydW1lbnRDYXJkTnVtYmVyUmVxdWlyZWRTZWxlY3Rvcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0L2luc3RydW1lbnQtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICB0eXBlIFBheW1lbnRNZXRob2RQcm9wcyxcbiAgICB0eXBlIFBheW1lbnRNZXRob2RSZXNvbHZlSWQsXG4gICAgdG9SZXNvbHZhYmxlQ29tcG9uZW50LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5jb25zdCBBbWF6b25QYXlWMlBheW1lbnRNZXRob2Q6IEZ1bmN0aW9uQ29tcG9uZW50PFBheW1lbnRNZXRob2RQcm9wcz4gPSAoe1xuICAgIGNoZWNrb3V0U2VydmljZSxcbiAgICBjaGVja291dFN0YXRlLFxuICAgIHBheW1lbnRGb3JtLFxuICAgIG1ldGhvZCxcbiAgICBtZXRob2Q6IHtcbiAgICAgICAgaW5pdGlhbGl6YXRpb25EYXRhOiB7IHBheW1lbnREZXNjcmlwdG9yLCBwYXltZW50VG9rZW4gfSxcbiAgICB9LFxuICAgIC4uLnJlc3Rcbn0pID0+IHtcbiAgICBjb25zdCBpbml0aWFsaXplQW1hem9uUGF5VjJQYXltZW50ID0gdXNlQ2FsbGJhY2soXG4gICAgICAgIChvcHRpb25zOiBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMpID0+XG4gICAgICAgICAgICBjaGVja291dFNlcnZpY2UuaW5pdGlhbGl6ZVBheW1lbnQoe1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgaW50ZWdyYXRpb25zOiBbY3JlYXRlQW1hem9uUGF5VjJQYXltZW50U3RyYXRlZ3ldLFxuICAgICAgICAgICAgICAgIGFtYXpvbnBheToge1xuICAgICAgICAgICAgICAgICAgICBlZGl0QnV0dG9uSWQ6ICdlZGl0QnV0dG9uSWQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgW2NoZWNrb3V0U2VydmljZV0sXG4gICAgKTtcblxuICAgIGNvbnN0IHJlbG9hZCA9IHVzZUNhbGxiYWNrKCgpID0+IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKSwgW10pO1xuXG4gICAgY29uc3Qge1xuICAgICAgICBoaWRlUGF5bWVudFN1Ym1pdEJ1dHRvbixcbiAgICAgICAgZGlzYWJsZVN1Ym1pdCxcbiAgICAgICAgc2V0RmllbGRWYWx1ZSxcbiAgICAgICAgc2V0U3VibWl0LFxuICAgICAgICBzZXRWYWxpZGF0aW9uU2NoZW1hLFxuICAgIH0gPSBwYXltZW50Rm9ybTtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgZGF0YTogeyBnZXRDaGVja291dCwgaXNQYXltZW50RGF0YVJlcXVpcmVkIH0sXG4gICAgICAgIHN0YXR1c2VzOiB7IGlzTG9hZGluZ0luc3RydW1lbnRzIH0sXG4gICAgfSA9IGNoZWNrb3V0U3RhdGU7XG5cbiAgICBjb25zdCBjaGVja291dCA9IGdldENoZWNrb3V0KCk7XG4gICAgY29uc3QgY3VzdG9tZXIgPSBjaGVja291dFN0YXRlLmRhdGEuZ2V0Q3VzdG9tZXIoKTtcbiAgICBjb25zdCBpc0d1ZXN0Q3VzdG9tZXIgPSBjdXN0b21lcj8uaXNHdWVzdDtcbiAgICBjb25zdCBpc0luc3RydW1lbnRGZWF0dXJlQXZhaWxhYmxlID1cbiAgICAgICAgIWlzR3Vlc3RDdXN0b21lciAmJiBCb29sZWFuKG1ldGhvZC5jb25maWcuaXNWYXVsdGluZ0VuYWJsZWQpO1xuXG4gICAgY29uc3QgaW5zdHJ1bWVudHMgPSBjaGVja291dFN0YXRlLmRhdGEuZ2V0SW5zdHJ1bWVudHMobWV0aG9kKSB8fCBbXTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxIb3N0ZWRXaWRnZXRQYXltZW50Q29tcG9uZW50XG4gICAgICAgICAgICB7Li4ucmVzdH1cbiAgICAgICAgICAgIGJ1dHRvbklkPVwiZWRpdEJ1dHRvbklkXCJcbiAgICAgICAgICAgIGNvbnRhaW5lcklkPVwicGF5bWVudFdpZGdldFwiXG4gICAgICAgICAgICBkZWluaXRpYWxpemVQYXltZW50PXtjaGVja291dFNlcnZpY2UuZGVpbml0aWFsaXplUGF5bWVudH1cbiAgICAgICAgICAgIGRpc2FibGVTdWJtaXQ9e2Rpc2FibGVTdWJtaXR9XG4gICAgICAgICAgICBoaWRlUGF5bWVudFN1Ym1pdEJ1dHRvbj17aGlkZVBheW1lbnRTdWJtaXRCdXR0b259XG4gICAgICAgICAgICBoaWRlV2lkZ2V0XG4gICAgICAgICAgICBpbml0aWFsaXplUGF5bWVudD17aW5pdGlhbGl6ZUFtYXpvblBheVYyUGF5bWVudH1cbiAgICAgICAgICAgIGluc3RydW1lbnRzPXtpbnN0cnVtZW50c31cbiAgICAgICAgICAgIGlzSW5zdHJ1bWVudENhcmRDb2RlUmVxdWlyZWQ9e2lzSW5zdHJ1bWVudENhcmRDb2RlUmVxdWlyZWRTZWxlY3RvcihjaGVja291dFN0YXRlKX1cbiAgICAgICAgICAgIGlzSW5zdHJ1bWVudENhcmROdW1iZXJSZXF1aXJlZD17aXNJbnN0cnVtZW50Q2FyZE51bWJlclJlcXVpcmVkU2VsZWN0b3IoY2hlY2tvdXRTdGF0ZSl9XG4gICAgICAgICAgICBpc0luc3RydW1lbnRGZWF0dXJlQXZhaWxhYmxlPXtpc0luc3RydW1lbnRGZWF0dXJlQXZhaWxhYmxlfVxuICAgICAgICAgICAgaXNMb2FkaW5nSW5zdHJ1bWVudHM9e2lzTG9hZGluZ0luc3RydW1lbnRzKCl9XG4gICAgICAgICAgICBpc1BheW1lbnREYXRhUmVxdWlyZWQ9e2lzUGF5bWVudERhdGFSZXF1aXJlZCgpfVxuICAgICAgICAgICAgaXNTaWduSW5SZXF1aXJlZD17ZmFsc2V9XG4gICAgICAgICAgICBpc1NpZ25lZEluPXtzb21lKGNoZWNrb3V0Py5wYXltZW50cywgeyBwcm92aWRlcklkOiBtZXRob2QuaWQgfSl9XG4gICAgICAgICAgICBsb2FkSW5zdHJ1bWVudHM9e2NoZWNrb3V0U2VydmljZS5sb2FkSW5zdHJ1bWVudHN9XG4gICAgICAgICAgICBtZXRob2Q9e21ldGhvZH1cbiAgICAgICAgICAgIG9uU2lnbk91dD17cmVsb2FkfVxuICAgICAgICAgICAgcGF5bWVudERlc2NyaXB0b3I9e3BheW1lbnREZXNjcmlwdG9yfVxuICAgICAgICAgICAgc2V0RmllbGRWYWx1ZT17c2V0RmllbGRWYWx1ZX1cbiAgICAgICAgICAgIHNldFN1Ym1pdD17c2V0U3VibWl0fVxuICAgICAgICAgICAgc2V0VmFsaWRhdGlvblNjaGVtYT17c2V0VmFsaWRhdGlvblNjaGVtYX1cbiAgICAgICAgICAgIHNob3VsZFNob3c9eyEhcGF5bWVudFRva2VufVxuICAgICAgICAgICAgc2hvdWxkU2hvd0Rlc2NyaXB0b3I9eyEhcGF5bWVudFRva2VufVxuICAgICAgICAgICAgc2hvdWxkU2hvd0VkaXRCdXR0b249eyEhcGF5bWVudFRva2VufVxuICAgICAgICAgICAgc2lnbk91dD17Y2hlY2tvdXRTZXJ2aWNlLnNpZ25PdXRDdXN0b21lcn1cbiAgICAgICAgLz5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlQ29tcG9uZW50PFBheW1lbnRNZXRob2RQcm9wcywgUGF5bWVudE1ldGhvZFJlc29sdmVJZD4oXG4gICAgQW1hem9uUGF5VjJQYXltZW50TWV0aG9kLFxuICAgIFt7IGlkOiAnYW1hem9ucGF5JyB9XSxcbik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/amazon-pay-v2-integration/src/AmazonPayV2PaymentMethod.tsx\n\n}");

/***/ }),

/***/ "./packages/amazon-pay-v2-integration/src/index.ts":
/*!*********************************************************!*\
  !*** ./packages/amazon-pay-v2-integration/src/index.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AmazonPayV2Button: () => (/* reexport safe */ _AmazonPayV2Button__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   AmazonPayV2PaymentMethod: () => (/* reexport safe */ _AmazonPayV2PaymentMethod__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _AmazonPayV2PaymentMethod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AmazonPayV2PaymentMethod */ \"./packages/amazon-pay-v2-integration/src/AmazonPayV2PaymentMethod.tsx\");\n/* harmony import */ var _AmazonPayV2Button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AmazonPayV2Button */ \"./packages/amazon-pay-v2-integration/src/AmazonPayV2Button.tsx\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9hbWF6b24tcGF5LXYyLWludGVncmF0aW9uL3NyYy9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlGO0FBQ2QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uL3BhY2thZ2VzL2FtYXpvbi1wYXktdjItaW50ZWdyYXRpb24vc3JjL2luZGV4LnRzP2JiMTEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgZGVmYXVsdCBhcyBBbWF6b25QYXlWMlBheW1lbnRNZXRob2QgfSBmcm9tICcuL0FtYXpvblBheVYyUGF5bWVudE1ldGhvZCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFtYXpvblBheVYyQnV0dG9uIH0gZnJvbSAnLi9BbWF6b25QYXlWMkJ1dHRvbic7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/amazon-pay-v2-integration/src/index.ts\n\n}");

/***/ }),

/***/ "./packages/checkout-button-integration/src/CheckoutButton.tsx":
/*!*********************************************************************!*\
  !*** ./packages/checkout-button-integration/src/CheckoutButton.tsx ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bigcommerce/checkout/payment-integration-api */ \"./packages/payment-integration-api/src/toResolvableComponent.tsx\");\n\n\n\nconst CheckoutButton = ({ checkoutService: { deinitializeCustomer, initializeCustomer }, checkoutButtonContainerClass, containerId, methodId, onUnhandledError, onWalletButtonClick, additionalInitializationOptions, integrations, }) => {\n    const initializeCustomerStrategyOrThrow = () => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n        try {\n            yield initializeCustomer({\n                methodId,\n                integrations,\n                [methodId]: Object.assign({ container: containerId, onUnhandledError, onClick: () => onWalletButtonClick(methodId) }, additionalInitializationOptions),\n            });\n        }\n        catch (error) {\n            if (typeof onUnhandledError === 'function' && error instanceof Error) {\n                onUnhandledError(error);\n            }\n        }\n    });\n    const deinitializeCustomerStrategyOrThrow = () => (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0, void 0, void 0, function* () {\n        try {\n            yield deinitializeCustomer({ methodId });\n        }\n        catch (error) {\n            if (typeof onUnhandledError === 'function' && error instanceof Error) {\n                onUnhandledError(error);\n            }\n        }\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        void initializeCustomerStrategyOrThrow();\n        return () => {\n            void deinitializeCustomerStrategyOrThrow();\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: checkoutButtonContainerClass, \"data-test\": containerId, id: containerId }));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_bigcommerce_checkout_payment_integration_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(CheckoutButton, []));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9jaGVja291dC1idXR0b24taW50ZWdyYXRpb24vc3JjL0NoZWNrb3V0QnV0dG9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUU7QUFNVjtBQUV2RCxNQUFNLGNBQWMsR0FBMkMsQ0FBQyxFQUM1RCxlQUFlLEVBQUUsRUFBRSxvQkFBb0IsRUFBRSxrQkFBa0IsRUFBRSxFQUM3RCw0QkFBNEIsRUFDNUIsV0FBVyxFQUNYLFFBQVEsRUFDUixnQkFBZ0IsRUFDaEIsbUJBQW1CLEVBQ25CLCtCQUErQixFQUMvQixZQUFZLEdBQ2YsRUFBRSxFQUFFO0lBQ0QsTUFBTSxpQ0FBaUMsR0FBRyxHQUFTLEVBQUUsQ0FBQztRQUNsRCxJQUFJLENBQUM7WUFDRCxNQUFNLGtCQUFrQixDQUFDO2dCQUNyQixRQUFRO2dCQUNSLFlBQVk7Z0JBQ1osQ0FBQyxRQUFRLENBQUMsa0JBQ04sU0FBUyxFQUFFLFdBQVcsRUFDdEIsZ0JBQWdCLEVBQ2hCLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsSUFDekMsK0JBQStCLENBQ3JDO2FBQ0osQ0FBQyxDQUFDO1FBQ1AsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDYixJQUFJLE9BQU8sZ0JBQWdCLEtBQUssVUFBVSxJQUFJLEtBQUssWUFBWSxLQUFLLEVBQUUsQ0FBQztnQkFDbkUsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDNUIsQ0FBQztRQUNMLENBQUM7SUFDTCxDQUFDLEVBQUM7SUFFRixNQUFNLG1DQUFtQyxHQUFHLEdBQVMsRUFBRSxDQUFDO1FBQ3BELElBQUksQ0FBQztZQUNELE1BQU0sb0JBQW9CLENBQUMsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQzdDLENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2IsSUFBSSxPQUFPLGdCQUFnQixLQUFLLFVBQVUsSUFBSSxLQUFLLFlBQVksS0FBSyxFQUFFLENBQUM7Z0JBQ25FLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzVCLENBQUM7UUFDTCxDQUFDO0lBQ0wsQ0FBQyxFQUFDO0lBRUYsZ0RBQVMsQ0FBQyxHQUFHLEVBQUU7UUFDWCxLQUFLLGlDQUFpQyxFQUFFLENBQUM7UUFFekMsT0FBTyxHQUFHLEVBQUU7WUFDUixLQUFLLG1DQUFtQyxFQUFFLENBQUM7UUFDL0MsQ0FBQyxDQUFDO1FBQ0YsdURBQXVEO0lBQzNELENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUVQLE9BQU8sQ0FDSCxvRUFBSyxTQUFTLEVBQUUsNEJBQTRCLGVBQWEsV0FBVyxFQUFFLEVBQUUsRUFBRSxXQUFXLEdBQUksQ0FDNUYsQ0FBQztBQUNOLENBQUMsQ0FBQztBQUVGLGlFQUFlLHlGQUFxQixDQUNoQyxjQUFjLEVBQ2QsRUFBRSxDQUNMLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uL3BhY2thZ2VzL2NoZWNrb3V0LWJ1dHRvbi1pbnRlZ3JhdGlvbi9zcmMvQ2hlY2tvdXRCdXR0b24udHN4P2Y2NzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHR5cGUgRnVuY3Rpb25Db21wb25lbnQsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtcbiAgICB0eXBlIENoZWNrb3V0QnV0dG9uUHJvcHMsXG4gICAgdHlwZSBDaGVja291dEJ1dHRvblJlc29sdmVJZCxcbiAgICB0b1Jlc29sdmFibGVDb21wb25lbnQsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmNvbnN0IENoZWNrb3V0QnV0dG9uOiBGdW5jdGlvbkNvbXBvbmVudDxDaGVja291dEJ1dHRvblByb3BzPiA9ICh7XG4gICAgY2hlY2tvdXRTZXJ2aWNlOiB7IGRlaW5pdGlhbGl6ZUN1c3RvbWVyLCBpbml0aWFsaXplQ3VzdG9tZXIgfSxcbiAgICBjaGVja291dEJ1dHRvbkNvbnRhaW5lckNsYXNzLFxuICAgIGNvbnRhaW5lcklkLFxuICAgIG1ldGhvZElkLFxuICAgIG9uVW5oYW5kbGVkRXJyb3IsXG4gICAgb25XYWxsZXRCdXR0b25DbGljayxcbiAgICBhZGRpdGlvbmFsSW5pdGlhbGl6YXRpb25PcHRpb25zLFxuICAgIGludGVncmF0aW9ucyxcbn0pID0+IHtcbiAgICBjb25zdCBpbml0aWFsaXplQ3VzdG9tZXJTdHJhdGVneU9yVGhyb3cgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBpbml0aWFsaXplQ3VzdG9tZXIoe1xuICAgICAgICAgICAgICAgIG1ldGhvZElkLFxuICAgICAgICAgICAgICAgIGludGVncmF0aW9ucyxcbiAgICAgICAgICAgICAgICBbbWV0aG9kSWRdOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVySWQsXG4gICAgICAgICAgICAgICAgICAgIG9uVW5oYW5kbGVkRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IG9uV2FsbGV0QnV0dG9uQ2xpY2sobWV0aG9kSWQpLFxuICAgICAgICAgICAgICAgICAgICAuLi5hZGRpdGlvbmFsSW5pdGlhbGl6YXRpb25PcHRpb25zLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25VbmhhbmRsZWRFcnJvciA9PT0gJ2Z1bmN0aW9uJyAmJiBlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgb25VbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZGVpbml0aWFsaXplQ3VzdG9tZXJTdHJhdGVneU9yVGhyb3cgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBkZWluaXRpYWxpemVDdXN0b21lcih7IG1ldGhvZElkIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvblVuaGFuZGxlZEVycm9yID09PSAnZnVuY3Rpb24nICYmIGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2b2lkIGluaXRpYWxpemVDdXN0b21lclN0cmF0ZWd5T3JUaHJvdygpO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB2b2lkIGRlaW5pdGlhbGl6ZUN1c3RvbWVyU3RyYXRlZ3lPclRocm93KCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2hlY2tvdXRCdXR0b25Db250YWluZXJDbGFzc30gZGF0YS10ZXN0PXtjb250YWluZXJJZH0gaWQ9e2NvbnRhaW5lcklkfSAvPlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVDb21wb25lbnQ8Q2hlY2tvdXRCdXR0b25Qcm9wcywgQ2hlY2tvdXRCdXR0b25SZXNvbHZlSWQ+KFxuICAgIENoZWNrb3V0QnV0dG9uLFxuICAgIFtdLFxuKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./packages/checkout-button-integration/src/CheckoutButton.tsx\n\n}");

/***/ }),

/***/ "./packages/instrument-utils/src/guards/isHTMLElement/isHTMLElement.ts":
/*!*****************************************************************************!*\
  !*** ./packages/instrument-utils/src/guards/isHTMLElement/isHTMLElement.ts ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ isHTMLElement)\n/* harmony export */ });\nfunction isHTMLElement(element) {\n    return element instanceof HTMLElement;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9pbnN0cnVtZW50LXV0aWxzL3NyYy9ndWFyZHMvaXNIVE1MRWxlbWVudC9pc0hUTUxFbGVtZW50LnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBZSxTQUFTLGFBQWEsQ0FBQyxPQUFnQjtJQUNsRCxPQUFPLE9BQU8sWUFBWSxXQUFXLENBQUM7QUFDMUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vcGFja2FnZXMvaW5zdHJ1bWVudC11dGlscy9zcmMvZ3VhcmRzL2lzSFRNTEVsZW1lbnQvaXNIVE1MRWxlbWVudC50cz84MTBkIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzSFRNTEVsZW1lbnQoZWxlbWVudDogdW5rbm93bik6IGVsZW1lbnQgaXMgSFRNTEVsZW1lbnQge1xuICAgIHJldHVybiBlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/instrument-utils/src/guards/isHTMLElement/isHTMLElement.ts\n\n}");

/***/ })

}]);