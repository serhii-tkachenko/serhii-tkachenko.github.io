"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["checkout-sdk-js_dist_esm_integrations_bluesnap-direct_js"],{

/***/ "../checkout-sdk-js/dist/esm/integrations/bluesnap-direct.js":
/*!*******************************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/bluesnap-direct.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createBlueSnapDirectAPMPaymentStrategy: () => (/* binding */ V),\n/* harmony export */   createBlueSnapDirectCreditCardPaymentStrategy: () => (/* binding */ F),\n/* harmony export */   createBlueSnapV2PaymentStrategy: () => (/* binding */ K)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"../checkout-sdk-js/node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"../checkout-sdk-js/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\nvar i,a={};function r(e,t){return console.log(\"resolveIds\",t),Object.assign(e,{resolveIds:t})}a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);class s extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class o extends s{constructor(e){super(e||\"Unable to proceed because the client library of a payment method has thrown an unexpected error.\"),this.name=\"PaymentMethodFailedError\",this.type=\"payment_method_client_invalid\"}}function d(e,t){if(null==e)throw t?t():new Error(\"An unexpected error has occurred.\");return e}!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(i||(i={}));class c extends s{constructor(e){super(function(e){switch(e){case i.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case i.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case i.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case i.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}var u,l;class p{initialize(e){this._blueSnapSdk=e}initialize3ds(e,t){return n=this,i=void 0,r=function*(){const n=this._getBlueSnapSdk();return new Promise((i,a)=>{n.threeDsPaymentsSetup(e,e=>\"1\"===e.code?i(e.threeDSecure.threeDSecureReferenceId):a(new o)),n.threeDsPaymentsSubmitData(t)})},new((a=void 0)||(a=Promise))(function(e,t){function s(e){try{d(r.next(e))}catch(e){t(e)}}function o(e){try{d(r.throw(e))}catch(e){t(e)}}function d(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a(function(e){e(n)})).then(s,o)}d((r=r.apply(n,i||[])).next())});// removed by dead control flow\n var n, i, a, r; }_getBlueSnapSdk(){return d(this._blueSnapSdk,()=>new c(i.PaymentNotInitialized))}}class m extends s{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}class h extends m{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}function y(e){return!(\"object\"!=typeof e||null===e||void 0!==e.shouldSaveInstrument&&\"boolean\"!=typeof e.shouldSaveInstrument||void 0!==e.shouldSetAsDefaultInstrument&&\"boolean\"!=typeof e.shouldSetAsDefaultInstrument)}function b(e){return Boolean(e.instrumentId)}class g extends s{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}!function(e){e[e.MissingBillingAddress=0]=\"MissingBillingAddress\",e[e.MissingCart=1]=\"MissingCart\",e[e.MissingCheckout=2]=\"MissingCheckout\",e[e.MissingConsignments=3]=\"MissingConsignments\",e[e.MissingCustomer=4]=\"MissingCustomer\",e[e.MissingCheckoutConfig=5]=\"MissingCheckoutConfig\",e[e.MissingOrder=6]=\"MissingOrder\",e[e.MissingOrderConfig=7]=\"MissingOrderConfig\",e[e.MissingOrderId=8]=\"MissingOrderId\",e[e.MissingPayment=9]=\"MissingPayment\",e[e.MissingPaymentId=10]=\"MissingPaymentId\",e[e.MissingPaymentInstrument=11]=\"MissingPaymentInstrument\",e[e.MissingPaymentMethod=12]=\"MissingPaymentMethod\",e[e.MissingPaymentRedirectUrl=13]=\"MissingPaymentRedirectUrl\",e[e.MissingPaymentStatus=14]=\"MissingPaymentStatus\",e[e.MissingPaymentToken=15]=\"MissingPaymentToken\",e[e.MissingShippingAddress=16]=\"MissingShippingAddress\"}(u||(u={}));class _ extends s{constructor(e){super(function(e){switch(e){case u.MissingBillingAddress:return\"Unable to proceed because billing address data is unavailable.\";case u.MissingCart:return\"Unable to proceed because cart data is unavailable.\";case u.MissingConsignments:return\"Unable to proceed because consignments data is unavailable.\";case u.MissingCheckout:return\"Unable to proceed because checkout data is unavailable.\";case u.MissingCustomer:return\"Unable to proceed because customer data is unavailable.\";case u.MissingCheckoutConfig:case u.MissingOrderConfig:return\"Unable to proceed because configuration data is unavailable.\";case u.MissingOrder:return\"Unable to proceed because order data is unavailable.\";case u.MissingOrderId:return\"Unable to proceed because order ID is unavailable or not generated yet.\";case u.MissingPayment:return\"Unable to proceed because payment data is unavailable.\";case u.MissingPaymentToken:return\"Unable to proceed because the token required to submit a payment is missing.\";case u.MissingPaymentMethod:return\"Unable to proceed because payment method data is unavailable or not properly configured.\";case u.MissingShippingAddress:return\"Unable to proceed because shipping address data is unavailable.\";default:return\"Unable to proceed because the required data is unavailable.\"}}(e)),this.subtype=e,this.name=\"MissingDataError\",this.type=\"missing_data\"}}!function(e){e.CardCode=\"cardCode\",e.CardCodeVerification=\"cardCodeVerification\",e.CardExpiry=\"cardExpiry\",e.CardName=\"cardName\",e.CardNumber=\"cardNumber\",e.CardNumberVerification=\"cardNumberVerification\",e.CardExpiryVerification=\"cardExpiryVerification\"}(l||(l={}));const f=l;function v(e){return f.CardNumber in e}function I(e){return f.CardCodeVerification in e||f.CardNumberVerification in e}var S,C,N,O,E,w=function(e,t,n,i){return new(n||(n=Promise))(function(a,r){function s(e){try{d(i.next(e))}catch(e){r(e)}}function o(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}d((i=i.apply(e,t||[])).next())})};class P{constructor(e,t,n,i){this._scriptLoader=e,this._paymentIntegrationService=t,this._blueSnapDirectHostedForm=n,this._blueSnapDirect3ds=i}initialize(e){return w(this,void 0,void 0,function*(){const{methodId:t,gatewayId:n,creditCard:i}=e;if(!n||!i)throw new m;const a=yield this._paymentIntegrationService.loadPaymentMethod(n,{params:{method:t,bigpayToken:i.bigpayToken}}),{config:{testMode:r,is3dsEnabled:s},clientToken:o}=a.getPaymentMethodOrThrow(t,n);this._blueSnapSdk=yield this._scriptLoader.load(r),this._paymentFieldsToken=o,this._shouldUseHostedFields=v(i.form.fields)||I(i.form.fields)&&!!i.form.fields.cardNumberVerification,this._shouldUseHostedFields&&(this._blueSnapDirectHostedForm.initialize(this._blueSnapSdk,i.form.fields),yield this._blueSnapDirectHostedForm.attach(this._getPaymentFieldsToken(),i,s))})}execute(e){return w(this,void 0,void 0,function*(){if(!e.payment)throw new h([\"payment\"]);if(!this._blueSnapSdk)throw new h([\"payment\"]);const{paymentData:t}=e.payment,{shouldSaveInstrument:n,shouldSetAsDefaultInstrument:i}=y(t)?t:{shouldSaveInstrument:!1,shouldSetAsDefaultInstrument:!1},a=this._getPaymentFieldsToken();let r;const{is3dsEnabled:s}=this._paymentIntegrationService.getState().getPaymentMethodOrThrow(e.payment.methodId,e.payment.gatewayId).config,o=this._shouldUseHostedFields?yield this._blueSnapDirectHostedForm.validate().submit(s?this._getBlueSnapDirectThreeDSecureData():void 0,!(y(t)&&b(t))):void 0;if(yield this._paymentIntegrationService.submitOrder(),y(t)&&b(t)&&this._paymentFieldsToken&&t.instrumentId){if(s){this._blueSnapDirect3ds.initialize(this._blueSnapSdk);const{last4:e,brand:n}=this._paymentIntegrationService.getState().getCardInstrumentOrThrow(t.instrumentId),i=Object.assign({last4Digits:e,ccType:n.toUpperCase()},this._getBlueSnapDirectThreeDSecureData());r=yield this._blueSnapDirect3ds.initialize3ds(this._paymentFieldsToken,i)}yield this._paymentIntegrationService.submitPayment(Object.assign(Object.assign({},e.payment),{paymentData:Object.assign(Object.assign(Object.assign({instrumentId:t.instrumentId},this._shouldUseHostedFields?{nonce:a}:{}),r?{deviceSessionId:r}:{}),{shouldSetAsDefaultInstrument:!!i})}))}else yield this._paymentIntegrationService.submitPayment(Object.assign(Object.assign({},e.payment),{paymentData:{formattedPayload:{credit_card_token:{token:JSON.stringify({pfToken:a,cardHolderName:o&&o.cardHolderName})},vault_payment_instrument:n,set_as_default_stored_instrument:i}}}))})}finalize(){return Promise.reject(new g)}deinitialize(){return this._shouldUseHostedFields&&this._blueSnapDirectHostedForm.detach(),Promise.resolve()}_getBlueSnapDirectThreeDSecureData(){var e;const{getBillingAddress:t,getShippingAddress:n,getCustomer:i,getCheckoutOrThrow:a,getCartOrThrow:r}=this._paymentIntegrationService.getState(),s=t(),o=n(),d=(null===(e=i())||void 0===e?void 0:e.email)||(null==s?void 0:s.email),c=(null==s?void 0:s.phone)||(null==o?void 0:o.phone);return Object.assign(Object.assign(Object.assign(Object.assign({amount:a().outstandingBalance,currency:r().currency.code},d&&{email:d}),c&&{phone:c}),s&&{billingFirstName:s.firstName,billingLastName:s.lastName,billingCountry:s.countryCode,billingCity:s.city,billingAddress:`${s.address1} ${s.address2}`.trim(),billingZip:s.postalCode}),o&&{shippingFirstName:o.firstName,shippingLastName:o.lastName,shippingCountry:o.countryCode,shippingCity:o.city,shippingAddress:`${o.address1} ${o.address2}`.trim(),shippingZip:o.postalCode})}_getPaymentFieldsToken(){return d(this._paymentFieldsToken,()=>new _(u.MissingPaymentToken))}}class D extends s{constructor(e,t){super(t||\"Unable to proceed because the payment form contains invalid data.\"),this.details=e,this.name=\"PaymentInvalidFormError\",this.type=\"payment_invalid_form\"}}!function(e){e.AMEX=\"american-express\",e.CHINA_UNION_PAY=\"unionpay\",e.DINERS=\"diners-club\",e.DISCOVER=\"discover\",e.JCB=\"jcb\",e.MASTERCARD=\"mastercard\",e.UNKNOWN=\"unknown\",e.VISA=\"visa\"}(S||(S={})),function(e){e.ON_BLUR=\"onBlur\",e.ON_SUBMIT=\"onSubmit\"}(C||(C={})),function(e){e.EMPTY=\"empty\",e.INVALID=\"invalid\",e.THREE_DS_NOT_ENABLED=\"3D Secure is not enabled\"}(N||(N={})),function(e){e.CC_NOT_SUPORTED=\"22013\",e.ERROR_403=\"403\",e.ERROR_404=\"404\",e.ERROR_500=\"500\",e.INVALID_OR_EMPTY=\"10\",e.SESSION_EXPIRED=\"400\",e.THREE_DS_AUTH_FAILED=\"14101\",e.THREE_DS_CLIENT_ERROR=\"14103\",e.THREE_DS_MISSING_FIELDS=\"14102\",e.THREE_DS_NOT_ENABLED=\"14100\",e.TOKEN_EXPIRED=\"14040\",e.TOKEN_NOT_ASSOCIATED=\"14042\",e.TOKEN_NOT_FOUND=\"14041\"}(O||(O={})),function(e){e.CardCode=\"cvv\",e.CardExpiry=\"exp\",e.CardName=\"noc\",e.CardNumber=\"ccn\"}(E||(E={}));const M={[E.CardNumber]:f.CardNumber,[E.CardExpiry]:f.CardExpiry,[E.CardName]:f.CardName,[E.CardCode]:f.CardCode},T={empty:{[f.CardNumber]:{fieldType:\"cardNumber\",message:\"Credit card number is required\",type:\"required\"},[f.CardNumberVerification]:{fieldType:\"cardNumber\",message:\"Credit card number is required\",type:\"required\"},[f.CardExpiry]:{fieldType:\"cardExpiry\",message:\"Expiration date is required\",type:\"required\"},[f.CardCode]:{fieldType:\"cardCode\",message:\"CVV is required\",type:\"required\"},[f.CardName]:{fieldType:\"cardName\",message:\"Full name is required\",type:\"required\"}},invalid:{[f.CardNumber]:{fieldType:\"cardNumber\",message:\"Credit card number must be valid\",type:\"invalid_card_number\"},[f.CardNumberVerification]:{fieldType:\"cardNumber\",message:\"Credit card number must be valid\",type:\"invalid_card_number\"},[f.CardExpiry]:{fieldType:\"cardExpiry\",message:\"Expiration date must be a valid future date in MM / YY format\",type:\"invalid_card_expiry\"},[f.CardCode]:{fieldType:\"cardCode\",message:\"CVV must be valid\",type:\"invalid_card_code\"},[f.CardName]:{fieldType:\"cardName\",message:\"Full name is required\",type:\"required\"}}};class j{constructor(e,t){this._nameOnCardInput=e,this._hostedInputValidator=t}initialize(e,t){this._blueSnapSdk=e,t&&(v(t)?this._hostedInputValidator.initialize():I(t)&&t.cardNumberVerification&&this._hostedInputValidator.initializeValidationFields())}attach(e,t,n){var i,a,r,s,o=t.form,{fields:d}=o,c=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n}(o,[\"fields\"]);return void 0===n&&(n=!1),i=this,a=void 0,s=function*(){const t=this._getBlueSnapSdk();if(!v(d)&&!I(d))throw new m(\"Field options must be of type HostedCardFieldOptionsMap\");return this._onValidate=c.onValidate,v(d)&&this._setCustomBlueSnapAttributes(d),I(d)&&this._setCustomStoredCardsBlueSnapAttributes(d),new Promise(i=>{const a=this._getHostedPaymentFieldsOptions(e,d,c,i,n);t.hostedPaymentFieldsCreate(a),v(d)&&this._nameOnCardInput.attach(a,d.cardName.accessibilityLabel,d.cardName.placeholder)})},new((r=void 0)||(r=Promise))(function(e,t){function n(e){try{d(s.next(e))}catch(e){t(e)}}function o(e){try{d(s.throw(e))}catch(e){t(e)}}function d(t){var i;t.done?e(t.value):(i=t.value,i instanceof r?i:new r(function(e){e(i)})).then(n,o)}d((s=s.apply(i,a||[])).next())})}validate(){var e;const t=this._hostedInputValidator.validate();if(null===(e=this._onValidate)||void 0===e||e.call(this,t),!t.isValid){const e=Object.entries(t.errors).reduce((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:n.map(({message:e,type:t})=>({message:e,type:t}))}),{});throw new D(e)}return this}submit(e,t=!1){return new Promise((n,i)=>this._getBlueSnapSdk().hostedPaymentFieldsSubmitData(e=>this._isBlueSnapDirectCallbackError(e)?i(new o(e.statusCode===O.THREE_DS_AUTH_FAILED?e.error[0].errorDescription:`Submission failed with status: ${e.statusCode} and errors: ${JSON.stringify(e.error)}`)):n(Object.assign(Object.assign({},e.cardData),t?{cardHolderName:this._nameOnCardInput.getValue()}:{})),e))}detach(){this._nameOnCardInput.detach()}_isBlueSnapDirectCallbackError(e){return\"error\"in e}_getHostedPaymentFieldsOptions(e,t,{onFocus:n,onBlur:i,onValidate:a,onCardTypeChange:r,onEnter:s,styles:o},d,c){var u;return Object.assign(Object.assign(Object.assign({token:e,onFieldEventHandler:{setupComplete:()=>d(),onFocus:this._usetUiEventCallback(n),onBlur:this._usetUiEventCallback(i),onError:this._handleError(a),onType:(e,t)=>null==r?void 0:r({cardType:S[t]}),onEnter:this._usetUiEventCallback(s),onValid:e=>null==a?void 0:a(this._hostedInputValidator.validate({tagId:e}))}},v(t)&&{ccnPlaceHolder:t.cardNumber.placeholder||\"\",cvvPlaceHolder:(null===(u=t.cardCode)||void 0===u?void 0:u.placeholder)||\"\",expPlaceHolder:t.cardExpiry.placeholder||\"MM / YY\"}),o&&{style:this._mapStyles(o)}),{\"3DS\":c})}_mapStyles({default:e,error:n,focus:i}){return Object.entries(Object.assign(Object.assign(Object.assign({},e&&{input:e}),n&&{\".invalid\":n}),i&&{\":focus\":i})).reduce((e,[n,i])=>Object.assign(Object.assign({},e),{[n]:Object.entries(i).reduce((e,[n,i])=>Object.assign(Object.assign({},e),{[(0,lodash__WEBPACK_IMPORTED_MODULE_1__.kebabCase)(n)]:i}),{})}),{})}_handleError(e){return(t,n,i,a)=>{if(n===O.INVALID_OR_EMPTY&&t&&function(e){return void 0!==e&&[N.EMPTY,N.INVALID].includes(e)}(i))return null==e?void 0:e(this._hostedInputValidator.validate({tagId:t,errorDescription:i}));throw new o(`An unexpected error has occurred: ${JSON.stringify({tagId:t,errorCode:n,errorDescription:i,eventOrigin:a})}`)}}_usetUiEventCallback(e){return t=>{e&&e({fieldType:M[t]})}}_getBlueSnapSdk(){return d(this._blueSnapSdk,()=>new c(i.PaymentNotInitialized))}_setCustomBlueSnapAttributes(e){const{cardNumber:t,cardExpiry:n,cardCode:i,cardName:a}=e,r=document.getElementById(t.containerId),s=document.getElementById(n.containerId),o=i&&document.getElementById(i.containerId),d=document.getElementById(a.containerId);if(!(r&&s&&o&&d))throw new m(\"Unable to create hosted payment fields to invalid HTML container elements.\");r.dataset.bluesnap=E.CardNumber,s.dataset.bluesnap=E.CardExpiry,o.dataset.bluesnap=E.CardCode,d.dataset.bluesnap=E.CardName}_setCustomStoredCardsBlueSnapAttributes(e){const{cardNumberVerification:t,cardCodeVerification:n}=e,i=t&&document.getElementById(t.containerId),a=n&&document.getElementById(n.containerId);(i||a)&&(i&&(i.dataset.bluesnap=E.CardNumber),a&&(a.dataset.bluesnap=E.CardCode))}}class k{constructor(){this._errors={}}initialize(){this._errors={cardNumber:[T.empty.cardNumber],cardExpiry:[T.empty.cardExpiry],cardCode:[T.empty.cardCode],cardName:[T.empty.cardName]}}initializeValidationFields(){this._errors={cardNumberVerification:[T.empty.cardNumber]}}validate(e){return e&&this._updateErrors(e.tagId,e.errorDescription),{isValid:Object.values(this._errors).every(e=>0===e.length),errors:this._errors}}_updateErrors(e,t){const n=this._errors.cardNumberVerification?f.CardNumberVerification:M[e];this._errors[n]=t?[T[t][n]]:[]}}class A{attach({style:e,onFieldEventHandler:{onFocus:t,onBlur:n,onValid:i,onError:a,onEnter:r}={}},s,o){var d;this._style=e,this._create(),this._getInput().addEventListener(\"focus\",this._handleFocus(t)),this._getInput().addEventListener(\"blur\",this._handleBlur(n,i,a)),this._getInput().addEventListener(\"enter\",this._handleEnter(r)),s&&this._getInput().setAttribute(\"aria-label\",s),o&&(this._getInput().placeholder=o),null===(d=document.querySelector('[data-bluesnap=\"noc\"]'))||void 0===d||d.appendChild(this._getInput())}getValue(){return this._getInput().value}detach(){this._input&&(this._input.remove(),this._input=void 0)}_handleFocus(e){return()=>{var t;this._applyStyles(null===(t=this._style)||void 0===t?void 0:t[\":focus\"]),null==e||e(E.CardName)}}_handleBlur(e,t,n){return({target:i})=>{var a,r;null==e||e(E.CardName),i instanceof HTMLInputElement&&(/\\w{1,200}/.test(i.value)?(this._applyStyles(null===(a=this._style)||void 0===a?void 0:a.input),null==t||t(E.CardName)):(this._applyStyles(null===(r=this._style)||void 0===r?void 0:r[\".invalid\"]),null==n||n(E.CardName,O.INVALID_OR_EMPTY,N.EMPTY,C.ON_BLUR)))}}_handleEnter(e){return()=>null==e?void 0:e(E.CardName)}_applyStyles(e={}){const t={color:e.color,fontFamily:e[\"font-family\"],fontSize:e[\"font-size\"],fontWeight:e[\"font-weight\"]},n=Object.keys(t);n.every(e=>[\"color\",\"fontFamily\",\"fontSize\",\"fontWeight\"].includes(e))&&n.forEach(e=>{t[e]&&(this._getInput().style[e]=t[e]||\"\")})}_configureInput(){this._getInput().autocomplete=\"cc-name\",this._getInput().id=E.CardName,this._getInput().inputMode=\"text\",this._getInput().maxLength=200,this._getInput().style.backgroundColor=\"transparent\",this._getInput().style.border=\"0\",this._getInput().style.height=\"100%\",this._getInput().style.margin=\"0\",this._getInput().style.outline=\"none\",this._getInput().style.padding=\"0\",this._getInput().style.width=\"100%\",this._getInput().type=\"text\"}_getInput(){return d(this._input,()=>new c(i.PaymentNotInitialized))}_create(){var e;this._input=document.createElement(\"input\"),this._configureInput(),this._applyStyles(null===(e=this._style)||void 0===e?void 0:e.input)}}class x extends s{constructor(e){super(e||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}var z;!function(e){e.PRODUCTION=\"https://pay.bluesnap.com/web-sdk/5/bluesnap.js\",e.SANDBOX=\"https://sandpay.bluesnap.com/web-sdk/5/bluesnap.js\"}(z||(z={}));class B{constructor(e,t=window){this._scriptLoader=e,this._window=t}load(e=!1){return t=this,n=void 0,a=function*(){if(this._window.bluesnap)return this._window.bluesnap;if(yield this._scriptLoader.loadScript(e?z.SANDBOX:z.PRODUCTION),!this._window.bluesnap)throw new x;return this._window.bluesnap},new((i=void 0)||(i=Promise))(function(e,r){function s(e){try{d(a.next(e))}catch(e){r(e)}}function o(e){try{d(a.throw(e))}catch(e){r(e)}}function d(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i(function(e){e(n)})).then(s,o)}d((a=a.apply(t,n||[])).next())});// removed by dead control flow\n var t, n, i, a; }}const F=r(t=>new P(new B((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_0__.getScriptLoader)()),t,new j(new A,new k),new p),[{id:\"credit_card\",gateway:\"bluesnapdirect\"}]);class U{constructor(e){this._paymentIntegrationService=e}execute(e){return t=this,n=void 0,a=function*(){const t=this._formatePaymentPayload(e);yield this._paymentIntegrationService.submitOrder();try{yield this._paymentIntegrationService.submitPayment(t)}catch(e){if(this._isBlueSnapDirectRedirectResponse(e)){const t=e.body.provider_data&&JSON.parse(e.body.provider_data);let n=e.body.additional_action_required.data.redirect_url;if(function(e){if(\"object\"!=typeof e||null===e)return!1;const t=e;return!!t.merchantid&&\"string\"==typeof t.merchantid}(t)){const e=new URLSearchParams(t).toString();n=`${n}&${e}`}return new Promise(()=>window.location.replace(n))}return Promise.reject(e)}},new((i=void 0)||(i=Promise))(function(e,r){function s(e){try{d(a.next(e))}catch(e){r(e)}}function o(e){try{d(a.throw(e))}catch(e){r(e)}}function d(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i(function(e){e(n)})).then(s,o)}d((a=a.apply(t,n||[])).next())});// removed by dead control flow\n var t, n, i, a; }initialize(){return Promise.resolve()}finalize(){return Promise.reject(new g)}deinitialize(){return Promise.resolve()}_formatePaymentPayload({payment:e}){if(!e)throw new h([\"payment\"]);return e.paymentData&&b(e.paymentData)&&y(e.paymentData)?Object.assign(Object.assign({},e),{paymentData:{instrumentId:e.paymentData.instrumentId,shouldSetAsDefaultInstrument:!!e.paymentData.shouldSetAsDefaultInstrument}}):(t=e.paymentData,Boolean(\"object\"==typeof t&&null!==t&&\"accountNumber\"in t&&\"accountType\"in t&&\"shopperPermission\"in t&&\"routingNumber\"in t)?Object.assign(Object.assign({},e),{paymentData:{formattedPayload:{ecp:Object.assign({account_number:e.paymentData.accountNumber,account_type:e.paymentData.accountType,shopper_permission:e.paymentData.shopperPermission,routing_number:e.paymentData.routingNumber},e.paymentData.companyName?{company_name:e.paymentData.companyName}:{}),vault_payment_instrument:e.paymentData.shouldSaveInstrument,set_as_default_stored_instrument:e.paymentData.shouldSetAsDefaultInstrument}}}):(n=e.paymentData,Boolean(\"object\"==typeof n&&null!==n&&\"iban\"in n&&\"firstName\"in n&&\"lastName\"in n&&\"shopperPermission\"in n)?Object.assign(Object.assign({},e),{paymentData:{formattedPayload:{sepa_direct_debit:{iban:e.paymentData.iban,first_name:e.paymentData.firstName,last_name:e.paymentData.lastName,shopper_permission:e.paymentData.shopperPermission},vault_payment_instrument:e.paymentData.shouldSaveInstrument,set_as_default_stored_instrument:e.paymentData.shouldSetAsDefaultInstrument}}}):function(e){return Boolean(\"object\"==typeof e&&null!==e&&\"bic\"in e)}(e.paymentData)?Object.assign(Object.assign({},e),{paymentData:{formattedPayload:{ideal:{bic:e.paymentData.bic}}}}):function(e){return Boolean(\"object\"==typeof e&&null!==e&&\"iban\"in e&&!(\"firstName\"in e)&&!(\"lastName\"in e)&&!(\"shopperPermission\"in e))}(e.paymentData)?Object.assign(Object.assign({},e),{paymentData:{formattedPayload:{pay_by_bank:{iban:e.paymentData.iban}}}}):{methodId:e.methodId}));// removed by dead control flow\n var t, n; }_isBlueSnapDirectRedirectResponse(e){var t;if(\"object\"!=typeof e||null===e)return!1;const n=e;if(!n.body)return!1;const i=n.body;return\"additional_action_required\"===i.status&&!!(null===(t=i.additional_action_required)||void 0===t?void 0:t.data.redirect_url)}}const V=r(e=>new U(e),[{gateway:\"bluesnapdirect\"}]);class R{constructor(e){const t=new Promise((e,t)=>{this.cancel=t});this.promise=Promise.race([e,t])}}class L extends s{constructor(e){super(e||\"Payment process was cancelled.\"),this.name=\"PaymentMethodCancelledError\",this.type=\"payment_cancelled\"}}var H;!function(e){e.ACKNOWLEDGE=\"ACKNOWLEDGE\",e.FINALIZE=\"FINALIZE\",e.INITIALIZE=\"INITIALIZE\"}(H||(H={}));const q=H;var Y=function(e,t,n,i){return new(n||(n=Promise))(function(a,r){function s(e){try{d(i.next(e))}catch(e){r(e)}}function o(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}d((i=i.apply(e,t||[])).next())})};class ${constructor(e){this._paymentIntegrationService=e}execute(e,t){return Y(this,void 0,void 0,function*(){const{payment:a}=e;if(!a)throw new h([\"payment\"]);if(!this._initializeOptions)throw new c(i.PaymentNotInitialized);const{onLoad:r,style:s}=this._initializeOptions,o=this._createIframe(\"bluesnapv2_hosted_payment_page\",s),d=new R(new Promise(lodash__WEBPACK_IMPORTED_MODULE_1__.noop));r(o,()=>d.cancel(new L)),yield this._paymentIntegrationService.submitOrder(e,t),yield this._paymentIntegrationService.initializeOffsitePayment({methodId:a.methodId,gatewayId:a.gatewayId,shouldSaveInstrument:!1,target:o.name,promise:d.promise})})}finalize(e){return Y(this,void 0,void 0,function*(){const t=this._paymentIntegrationService.getState(),n=t.getOrder(),i=t.getPaymentStatus();if(!n||i!==q.ACKNOWLEDGE&&i!==q.FINALIZE)return Promise.reject(new g);yield this._paymentIntegrationService.finalizeOrder(e)})}initialize(e){return Y(this,void 0,void 0,function*(){this._initializeOptions=e&&e.bluesnapv2,yield Promise.resolve()})}deinitialize(){return Promise.resolve()}_createIframe(e,t){const n=document.createElement(\"iframe\");if(n.setAttribute(\"sandbox\",\"allow-top-navigation allow-scripts allow-forms allow-same-origin\"),n.name=e,t){const{border:e,height:i,width:a}=t;n.style.border=null!=e?e:\"\",n.style.height=null!=i?i:\"\",n.style.width=null!=a?a:\"\"}return n}}const K=r(e=>new $(e),[{gateway:\"bluesnapv2\"}]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9ibHVlc25hcC1kaXJlY3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ0EsSUNDWUEsRUREUkMsRUFBc0IsQ0FBQyxFRUNaLFNBQVNDLEVBQ3BCQyxFQUNBQyxHQUlBLE9BRkFDLFFBQVFDLElBQUksYUFBY0YsR0FFbkJHLE9BQU9DLE9BQU9MLEVBQVEsQ0FBRUMsY0FDbkMsQ0NSQUgsRUFBb0JRLEVBQUksQ0FBQ0MsRUFBU0MsS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYVixFQUFvQlksRUFBRUYsRUFBWUMsS0FBU1gsRUFBb0JZLEVBQUVILEVBQVNFLElBQzVFTCxPQUFPTyxlQUFlSixFQUFTRSxFQUFLLENBQUVHLFlBQVksRUFBTUMsSUFBS0wsRUFBV0MsTUNKM0VYLEVBQW9CWSxFQUFJLENBQUNJLEVBQUtDLElBQVVYLE9BQU9ZLFVBQVVDLGVBQWVDLEtBQUtKLEVBQUtDLEdDT25FLE1BQWVJLFVBQXNCQyxNQUloRCxXQUFBQyxDQUFZQyxHQ1hELElBQXFDTixFRFk1Q08sTUFBTUQsR0FBVyxxQ0FKckIsS0FBQUUsS0FBTyxnQkFDUCxLQUFBQyxLQUFPLFdDVHlDVCxhRGNaQSxVQ2JoQ1osT0FBT3NCLGVBQ1B0QixPQUFPc0IsZURZUUMsS0NaZVgsR0RZZlcsS0NWUkMsVUFBWVosRURZb0IsbUJBQTVCSSxNQUFNUyxrQkFDYlQsTUFBTVMsa0JBQWtCRixpQkFFeEJBLEtBQUtHLE1BQVEsSUFBSVYsTUFBTU8sS0FBS0wsU0FBU1EsS0FFN0MsRUVkVyxNQUFNQyxVQUFpQ1osRUFDbEQsV0FBQUUsQ0FBWUMsR0FDUkMsTUFDSUQsR0FDSSxvR0FHUkssS0FBS0gsS0FBTywyQkFDWkcsS0FBS0YsS0FBTywrQkFDaEIsRUNoQlcsU0FBU08sRUFBU0MsRUFBVUMsR0FDdkMsR0FBSUQsUUFDQSxNQUFNQyxFQUFlQSxJQUFpQixJQUFJZCxNQUFNLHFDQUdwRCxPQUFPYSxDQUNYLEVQSkEs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QUFDLENBQUVFLFFBQVMsZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3dlYnBhY2svYm9vdHN0cmFwP2ZmY2MiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbm90LWluaXRpYWxpemVkLWVycm9yLnRzPzhiNGQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy90by1yZXNvbHZhYmxlLW1vZHVsZS50cz9kNTIwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzPzk5NGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kPzllYTQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvc3RhbmRhcmQtZXJyb3IudHM/OGEwMyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9zZXQtcHJvdG90eXBlLW9mLnRzPzg0NWEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1tZXRob2QtZmFpbGVkLWVycm9yLnRzPzA3ZGQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy91dGlsLXR5cGVzL2d1YXJkLnRzPzZlNjkiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbWlzc2luZy1kYXRhLWVycm9yLnRzP2I3ZGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9ob3N0ZWQtZm9ybS9ob3N0ZWQtZmllbGQtdHlwZS50cz82NWQ4Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9ibHVlc25hcC1kaXJlY3QtaW50ZWdyYXRpb24vc3JjL2JsdWVzbmFwLWRpcmVjdC1jcmVkaXQtY2FyZC9ibHVlc25hcC1kaXJlY3QtM2RzLnRzPzNiNmYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvaW52YWxpZC1hcmd1bWVudC1lcnJvci50cz8zOTIxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3BheW1lbnQtYXJndW1lbnQtaW52YWxpZC1lcnJvci50cz9hNTAxIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvcGF5bWVudC9pcy1ob3N0ZWQtaW50cnVtZW50LWxpa2UudHM/ODc2MyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL3BheW1lbnQvaXMtdmF1bHRlZC1pbnN0cnVtZW50LnRzPzE4MGYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvb3JkZXItZmluYWxpemF0aW9uLW5vdC1yZXF1aXJlZC1lcnJvci50cz9iNWExIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9ibHVlc25hcC1kaXJlY3QtaW50ZWdyYXRpb24vc3JjL3V0aWxzL2lzLWhvc3RlZC1jYXJkLWZpZWxkLW9wdGlvbnMtbWFwLnRzPzEyZjEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JsdWVzbmFwLWRpcmVjdC1pbnRlZ3JhdGlvbi9zcmMvdXRpbHMvaXMtaG9zdGVkLXN0b3JlZC1jYXJkLWZpZWxkLW9wdGlvbnMtbWFwLnRzPzRmZjMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JsdWVzbmFwLWRpcmVjdC1pbnRlZ3JhdGlvbi9zcmMvdHlwZXMudHM/YjVjNiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYmx1ZXNuYXAtZGlyZWN0LWludGVncmF0aW9uL3NyYy9ibHVlc25hcC1kaXJlY3QtY3JlZGl0LWNhcmQvYmx1ZXNuYXAtZGlyZWN0LWNyZWRpdC1jYXJkLXBheW1lbnQtc3RyYXRlZ3kudHM/YjYwZSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LWludmFsaWQtZm9ybS1lcnJvci50cz9jMGZiIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9ibHVlc25hcC1kaXJlY3QtaW50ZWdyYXRpb24vc3JjL2JsdWVzbmFwLWRpcmVjdC1jb25zdGFudHMudHM/ZWU2MyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYmx1ZXNuYXAtZGlyZWN0LWludGVncmF0aW9uL3NyYy9ibHVlc25hcC1kaXJlY3QtY3JlZGl0LWNhcmQvYmx1ZXNuYXAtZGlyZWN0LWhvc3RlZC1mb3JtLnRzPzUyM2UiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JsdWVzbmFwLWRpcmVjdC1pbnRlZ3JhdGlvbi9zcmMvdXRpbHMvaXMtYmx1ZXNuYXAtZGlyZWN0LWlucHV0LXZhbGlkYXRpb24tZXJyb3ItZGVzY3JpcHRpb24udHM/Y2ZjMiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYmx1ZXNuYXAtZGlyZWN0LWludGVncmF0aW9uL3NyYy9ibHVlc25hcC1kaXJlY3QtY3JlZGl0LWNhcmQvYmx1ZXNuYXAtZGlyZWN0LWhvc3RlZC1pbnB1dC12YWxpZGF0b3IudHM/ODFlOCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYmx1ZXNuYXAtZGlyZWN0LWludGVncmF0aW9uL3NyYy9ibHVlc25hcC1kaXJlY3QtY3JlZGl0LWNhcmQvYmx1ZXNuYXAtZGlyZWN0LW5hbWUtb24tY2FyZC1pbnB1dC50cz81NjJmIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9ibHVlc25hcC1kaXJlY3QtaW50ZWdyYXRpb24vc3JjL3V0aWxzL2lzLWFycmF5LW9mLWFsbG93ZWQtcHJvcHMudHM/NzEzNyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LW1ldGhvZC1jbGllbnQtdW5hdmFpbGFibGUtZXJyb3IudHM/ZjhlYyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYmx1ZXNuYXAtZGlyZWN0LWludGVncmF0aW9uL3NyYy9ibHVlc25hcC1kaXJlY3QtY3JlZGl0LWNhcmQvYmx1ZXNuYXAtZGlyZWN0LXNjcmlwdC1sb2FkZXIudHM/OTA4ZiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYmx1ZXNuYXAtZGlyZWN0LWludGVncmF0aW9uL3NyYy9ibHVlc25hcC1kaXJlY3QtY3JlZGl0LWNhcmQvY3JlYXRlLWJsdWVzbmFwLWRpcmVjdC1jcmVkaXQtY2FyZC1wYXltZW50LXN0cmF0ZWd5LnRzPzMzZWMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JsdWVzbmFwLWRpcmVjdC1pbnRlZ3JhdGlvbi9zcmMvYmx1ZXNuYXAtZGlyZWN0LWFwbS9ibHVlc25hcC1kaXJlY3QtYXBtLXBheW1lbnQtc3RyYXRlZ3kudHM/OWVmNiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYmx1ZXNuYXAtZGlyZWN0LWludGVncmF0aW9uL3NyYy91dGlscy9pcy1ibHVlc25hcC1kaXJlY3QtcHJvdmlkZXItZGF0YS50cz9kMTQyIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9ibHVlc25hcC1kaXJlY3QtaW50ZWdyYXRpb24vc3JjL3V0aWxzL2lzLWJsdWVzbmFwLWRpcmVjdC1pbnN0cnVtZW50LnRzPzEwNWEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JsdWVzbmFwLWRpcmVjdC1pbnRlZ3JhdGlvbi9zcmMvYmx1ZXNuYXAtZGlyZWN0LWFwbS9jcmVhdGUtYmx1ZXNuYXAtZGlyZWN0LWFwbS1wYXltZW50LXN0cmF0ZWd5LnRzP2QzNjMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9jb21tb24vY2FuY2VsbGFibGUtcHJvbWlzZS9jYW5jZWxsYWJsZS1wcm9taXNlLnRzP2Y3NGEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1tZXRob2QtY2FuY2VsbGVkLWVycm9yLnRzPzA4OTAiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9wYXltZW50L3BheW1lbnQtc3RhdHVzLXR5cGVzLnRzPzBiODAiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JsdWVzbmFwLWRpcmVjdC1pbnRlZ3JhdGlvbi9zcmMvYmx1ZXNuYXB2Mi9ibHVlc25hcHYyLXBheW1lbnQtc3RyYXRlZ3kudHM/ZmRiZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYmx1ZXNuYXAtZGlyZWN0LWludGVncmF0aW9uL3NyYy9ibHVlc25hcHYyL2NyZWF0ZS1ibHVlc25hcHYyLXBheW1lbnQtc3RyYXRlZ3kudHM/MDVlNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbmV4cG9ydCBlbnVtIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlIHtcbiAgICBDaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkLFxuICAgIEN1c3RvbWVyTm90SW5pdGlhbGl6ZWQsXG4gICAgUGF5bWVudE5vdEluaXRpYWxpemVkLFxuICAgIFNoaXBwaW5nTm90SW5pdGlhbGl6ZWQsXG4gICAgU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZCxcbn1cblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIGEgbWV0aG9kIHJlcXVpcmVzIGEgY2VydGFpbiBpbml0aWFsaXphdGlvbiBjYWxsIHRvIGJlXG4gKiBtYWRlIGZpcnN0LiBTb21lIG9iamVjdHMgY2FuIGJlIGNvbnN0cnVjdGVkIGJ1dCB0aGV5IGNhbm5vdCBiZSB1c2VkIHVudGlsIGFcbiAqIHNlcGFyYXRlIGluaXRpYWxpemF0aW9uIGNhbGwgaXMgbWFkZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm90SW5pdGlhbGl6ZWRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdWJ0eXBlOiBOb3RJbml0aWFsaXplZEVycm9yVHlwZSkge1xuICAgICAgICBzdXBlcihnZXRFcnJvck1lc3NhZ2Uoc3VidHlwZSkpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdOb3RJbml0aWFsaXplZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ25vdF9pbml0aWFsaXplZCc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UodHlwZTogTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLkN1c3RvbWVyTm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGN1c3RvbWVyIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHBheW1lbnQgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcblxuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlNoaXBwaW5nTm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHNoaXBwaW5nIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5TcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjaGVja291dCBzcGFtIHByb3RlY3Rpb24gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcmVxdWlyZWQgY29tcG9uZW50IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuICAgIH1cbn1cbiIsImltcG9ydCBSZXNvbHZhYmxlTW9kdWxlIGZyb20gJy4vcmVzb2x2YWJsZS1tb2R1bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b1Jlc29sdmFibGVNb2R1bGU8VE1vZHVsZSwgVElkZW50aWZpZXI+KFxuICAgIG1vZHVsZTogVE1vZHVsZSxcbiAgICByZXNvbHZlSWRzOiBUSWRlbnRpZmllcltdLFxuKTogUmVzb2x2YWJsZU1vZHVsZTxUTW9kdWxlLCBUSWRlbnRpZmllcj4ge1xuICAgIGNvbnNvbGUubG9nKCdyZXNvbHZlSWRzJywgcmVzb2x2ZUlkcyk7XG5cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihtb2R1bGUsIHsgcmVzb2x2ZUlkcyB9KTtcbn1cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJpbXBvcnQgQ3VzdG9tRXJyb3IgZnJvbSAnLi9jdXN0b20tZXJyb3InO1xuaW1wb3J0IHNldFByb3RvdHlwZU9mIGZyb20gJy4vc2V0LXByb3RvdHlwZS1vZic7XG5cbi8qKlxuICogVGhpcyBlcnJvciB0eXBlIHNob3VsZCBub3QgYmUgY29uc3RydWN0ZWQgZGlyZWN0bHkuIEl0IGlzIGEgYmFzZSBjbGFzcyBmb3JcbiAqIGFsbCBjdXN0b20gZXJyb3JzIHRocm93biBpbiB0aGlzIGxpYnJhcnkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIFN0YW5kYXJkRXJyb3IgZXh0ZW5kcyBFcnJvciBpbXBsZW1lbnRzIEN1c3RvbUVycm9yIHtcbiAgICBuYW1lID0gJ1N0YW5kYXJkRXJyb3InO1xuICAgIHR5cGUgPSAnc3RhbmRhcmQnO1xuXG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC4nKTtcblxuICAgICAgICBzZXRQcm90b3R5cGVPZih0aGlzLCBuZXcudGFyZ2V0LnByb3RvdHlwZSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgbmV3LnRhcmdldCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKHRoaXMubWVzc2FnZSkuc3RhY2s7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihvYmplY3Q6IGFueSwgcHJvdG90eXBlOiBvYmplY3QpIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihvYmplY3QsIHByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0Ll9fcHJvdG9fXyA9IHByb3RvdHlwZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0O1xufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gYSBwYXltZW50IG1ldGhvZCBleHBlcmllbmNlcyBzb21lIGtpbmQgb2ZcbiAqIGZhaWx1cmUgKGkuZS46IGl0cyBjbGllbnQgbGlicmFyeSByZXR1cm5zIGEgcmVqZWN0ZWQgcHJvbWlzZSkuIEFuZCB0aGVyZSBpc1xuICogbm8gb3RoZXIgZXJyb3IgdHlwZSB0aGF0IGlzIG1vcmUgc3BlY2lmaWMgdGhhbiB0aGlzIG9uZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBoYXMgdGhyb3duIGFuIHVuZXhwZWN0ZWQgZXJyb3IuJyxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3BheW1lbnRfbWV0aG9kX2NsaWVudF9pbnZhbGlkJztcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBndWFyZDxUPih2YWx1ZTogVCwgZXJyb3JGYWN0b3J5PzogKCkgPT4gRXJyb3IpOiBOb25OdWxsYWJsZTxUPiB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgZXJyb3JGYWN0b3J5ID8gZXJyb3JGYWN0b3J5KCkgOiBuZXcgRXJyb3IoJ0FuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkLicpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZSBhcyBOb25OdWxsYWJsZTxUPjtcbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG5leHBvcnQgZW51bSBNaXNzaW5nRGF0YUVycm9yVHlwZSB7XG4gICAgTWlzc2luZ0JpbGxpbmdBZGRyZXNzLFxuICAgIE1pc3NpbmdDYXJ0LFxuICAgIE1pc3NpbmdDaGVja291dCxcbiAgICBNaXNzaW5nQ29uc2lnbm1lbnRzLFxuICAgIE1pc3NpbmdDdXN0b21lcixcbiAgICBNaXNzaW5nQ2hlY2tvdXRDb25maWcsXG4gICAgTWlzc2luZ09yZGVyLFxuICAgIE1pc3NpbmdPcmRlckNvbmZpZyxcbiAgICBNaXNzaW5nT3JkZXJJZCxcbiAgICBNaXNzaW5nUGF5bWVudCxcbiAgICBNaXNzaW5nUGF5bWVudElkLFxuICAgIE1pc3NpbmdQYXltZW50SW5zdHJ1bWVudCxcbiAgICBNaXNzaW5nUGF5bWVudE1ldGhvZCxcbiAgICBNaXNzaW5nUGF5bWVudFJlZGlyZWN0VXJsLFxuICAgIE1pc3NpbmdQYXltZW50U3RhdHVzLFxuICAgIE1pc3NpbmdQYXltZW50VG9rZW4sXG4gICAgTWlzc2luZ1NoaXBwaW5nQWRkcmVzcyxcbn1cblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIHdoZW4gZGF0YSB0aGF0IGlzIGV4cGVjdGVkIHRvIGV4aXN0IGlzIG1pc3NpbmcuIFVzdWFsbHkgaXRcbiAqIGlzIGR1ZSB0byB0aGUgZmFjdCB0aGF0IGNlcnRhaW4gZGF0YSBoYXMgbm90IGJlZW4gcmV0cmlldmVkIGZyb20gb3Igc2F2ZWQgdG9cbiAqIHRoZSBzZXJ2ZXIgeWV0LiBBbmQgc3VjaCBkYXRhIGlzIHJlcXVpcmVkIHRvIHBlcmZvcm0gY2VydGFpbiBhY3Rpb25zLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNaXNzaW5nRGF0YUVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IocHVibGljIHN1YnR5cGU6IE1pc3NpbmdEYXRhRXJyb3JUeXBlKSB7XG4gICAgICAgIHN1cGVyKGdldEVycm9yTWVzc2FnZShzdWJ0eXBlKSk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ01pc3NpbmdEYXRhRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnbWlzc2luZ19kYXRhJztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZSh0eXBlOiBNaXNzaW5nRGF0YUVycm9yVHlwZSk6IHN0cmluZyB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0JpbGxpbmdBZGRyZXNzOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGJpbGxpbmcgYWRkcmVzcyBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ2FydDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjYXJ0IGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDb25zaWdubWVudHM6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY29uc2lnbm1lbnRzIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDaGVja291dDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjaGVja291dCBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ3VzdG9tZXI6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY3VzdG9tZXIgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NoZWNrb3V0Q29uZmlnOlxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdPcmRlckNvbmZpZzpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjb25maWd1cmF0aW9uIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdPcmRlcjpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBvcmRlciBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nT3JkZXJJZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBvcmRlciBJRCBpcyB1bmF2YWlsYWJsZSBvciBub3QgZ2VuZXJhdGVkIHlldC4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgcGF5bWVudCBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudFRva2VuOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSB0b2tlbiByZXF1aXJlZCB0byBzdWJtaXQgYSBwYXltZW50IGlzIG1pc3NpbmcuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHBheW1lbnQgbWV0aG9kIGRhdGEgaXMgdW5hdmFpbGFibGUgb3Igbm90IHByb3Blcmx5IGNvbmZpZ3VyZWQuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdTaGlwcGluZ0FkZHJlc3M6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugc2hpcHBpbmcgYWRkcmVzcyBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcmVxdWlyZWQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuICAgIH1cbn1cbiIsIi8vIGNvcGllZCBmcm9tIHBhY2thZ2VzL2NvcmUvc3JjL2hvc3RlZC1mb3JtL2hvc3RlZC1maWVsZC10eXBlLnRzXG5cbmVudW0gSG9zdGVkRmllbGRUeXBlIHtcbiAgICBDYXJkQ29kZSA9ICdjYXJkQ29kZScsXG4gICAgQ2FyZENvZGVWZXJpZmljYXRpb24gPSAnY2FyZENvZGVWZXJpZmljYXRpb24nLFxuICAgIENhcmRFeHBpcnkgPSAnY2FyZEV4cGlyeScsXG4gICAgQ2FyZE5hbWUgPSAnY2FyZE5hbWUnLFxuICAgIENhcmROdW1iZXIgPSAnY2FyZE51bWJlcicsXG4gICAgQ2FyZE51bWJlclZlcmlmaWNhdGlvbiA9ICdjYXJkTnVtYmVyVmVyaWZpY2F0aW9uJyxcbiAgICBDYXJkRXhwaXJ5VmVyaWZpY2F0aW9uID0gJ2NhcmRFeHBpcnlWZXJpZmljYXRpb24nLFxufVxuXG5leHBvcnQgZGVmYXVsdCBIb3N0ZWRGaWVsZFR5cGU7XG4iLCJpbXBvcnQge1xuICAgIGd1YXJkLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgQmx1ZVNuYXBEaXJlY3RQcmV2aW91c2x5VXNlZENhcmQsIEJsdWVTbmFwRGlyZWN0U2RrIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCbHVlU25hcERpcmVjdDNkcyB7XG4gICAgcHJpdmF0ZSBfYmx1ZVNuYXBTZGs/OiBCbHVlU25hcERpcmVjdFNkaztcblxuICAgIGluaXRpYWxpemUoYmx1ZVNuYXBTZGs6IEJsdWVTbmFwRGlyZWN0U2RrKSB7XG4gICAgICAgIHRoaXMuX2JsdWVTbmFwU2RrID0gYmx1ZVNuYXBTZGs7XG4gICAgfVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZTNkcyhcbiAgICAgICAgdG9rZW46IHN0cmluZyxcbiAgICAgICAgY2FyZERhdGE6IEJsdWVTbmFwRGlyZWN0UHJldmlvdXNseVVzZWRDYXJkLFxuICAgICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIGNvbnN0IGJsdWVTbmFwU2RrID0gdGhpcy5fZ2V0Qmx1ZVNuYXBTZGsoKTtcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgYmx1ZVNuYXBTZGsudGhyZWVEc1BheW1lbnRzU2V0dXAodG9rZW4sIChzZGtSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBzZGtSZXNwb25zZS5jb2RlO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvZGUgPT09ICcxJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShzZGtSZXNwb25zZS50aHJlZURTZWN1cmUudGhyZWVEU2VjdXJlUmVmZXJlbmNlSWQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QobmV3IFBheW1lbnRNZXRob2RGYWlsZWRFcnJvcigpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBibHVlU25hcFNkay50aHJlZURzUGF5bWVudHNTdWJtaXREYXRhKGNhcmREYXRhKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0Qmx1ZVNuYXBTZGsoKTogQmx1ZVNuYXBEaXJlY3RTZGsge1xuICAgICAgICByZXR1cm4gZ3VhcmQoXG4gICAgICAgICAgICB0aGlzLl9ibHVlU25hcFNkayxcbiAgICAgICAgICAgICgpID0+IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCksXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gYSBtZXRob2QgaXMgdW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGVcbiAqIGNhbGxlciBoYXMgbm90IHByb3ZpZGVkIGFsbCB0aGUgYXJndW1lbnRzIGFjY29yZGluZyB0byB0aGVpciByZXF1aXJlbWVudHMsXG4gKiBpLmUuOiBpZiBhbiBhcmd1bWVudCBpcyBtaXNzaW5nIG9yIGl0IGlzIG5vdCB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnZhbGlkQXJndW1lbnRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSB8fCAnSW52YWxpZCBhcmd1bWVudHMgaGF2ZSBiZWVuIHByb3ZpZGVkLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdJbnZhbGlkQXJndW1lbnRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdpbnZhbGlkX2FyZ3VtZW50JztcbiAgICB9XG59XG4iLCJpbXBvcnQgSW52YWxpZEFyZ3VtZW50RXJyb3IgZnJvbSAnLi9pbnZhbGlkLWFyZ3VtZW50LWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiB3ZSBhcmUgdW5hYmxlIHRvIHN1Ym1pdCBhIHBheW1lbnQgYmVjYXVzZVxuICogdGhlIGNhbGxlciBoYXMgbm90IHByb3ZpZGVkIGFsbCB0aGUgcmVxdWlyZWQgZmllbGRzLCBpLmUuOiBpZiBhbiBhcmd1bWVudCBpc1xuICogbWlzc2luZyBvciBpdCBpcyBub3QgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yIGV4dGVuZHMgSW52YWxpZEFyZ3VtZW50RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGludmFsaWRGaWVsZHM/OiBzdHJpbmdbXSkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9ICdVbmFibGUgdG8gc3VibWl0IHBheW1lbnQgZm9yIHRoZSBvcmRlciBiZWNhdXNlIHRoZSBwYXlsb2FkIGlzIGludmFsaWQuJztcblxuICAgICAgICBpZiAoaW52YWxpZEZpZWxkcykge1xuICAgICAgICAgICAgbWVzc2FnZSA9IGAke21lc3NhZ2V9IE1ha2Ugc3VyZSB0aGUgZm9sbG93aW5nIGZpZWxkcyBhcmUgcHJvdmlkZWQgY29ycmVjdGx5OiAke2ludmFsaWRGaWVsZHMuam9pbihcbiAgICAgICAgICAgICAgICAnLCAnLFxuICAgICAgICAgICAgKX0uYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3InO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEhvc3RlZEluc3RydW1lbnQgfSBmcm9tICcuL3BheW1lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0hvc3RlZEluc3RydW1lbnRMaWtlKFxuICAgIGluc3RydW1lbnQ6IHVua25vd24sXG4pOiBpbnN0cnVtZW50IGlzIEhvc3RlZEluc3RydW1lbnQge1xuICAgIHJldHVybiAoXG4gICAgICAgIHR5cGVvZiBpbnN0cnVtZW50ID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBpbnN0cnVtZW50ICE9PSBudWxsICYmXG4gICAgICAgICh0eXBlb2YgKGluc3RydW1lbnQgYXMgSG9zdGVkSW5zdHJ1bWVudCkuc2hvdWxkU2F2ZUluc3RydW1lbnQgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICB0eXBlb2YgKGluc3RydW1lbnQgYXMgSG9zdGVkSW5zdHJ1bWVudCkuc2hvdWxkU2F2ZUluc3RydW1lbnQgPT09ICdib29sZWFuJykgJiZcbiAgICAgICAgKHR5cGVvZiAoaW5zdHJ1bWVudCBhcyBIb3N0ZWRJbnN0cnVtZW50KS5zaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50ID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgdHlwZW9mIChpbnN0cnVtZW50IGFzIEhvc3RlZEluc3RydW1lbnQpLnNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQgPT09ICdib29sZWFuJylcbiAgICApO1xufVxuIiwiaW1wb3J0IHtcbiAgICBGb3JtYXR0ZWRQYXlsb2FkLFxuICAgIEZvcm1hdHRlZFZhdWx0ZWRJbnN0cnVtZW50LFxuICAgIEhvc3RlZFZhdWx0ZWRJbnN0cnVtZW50LFxuICAgIFBheW1lbnRJbnN0cnVtZW50UGF5bG9hZCxcbiAgICBWYXVsdGVkSW5zdHJ1bWVudCxcbn0gZnJvbSAnLi9wYXltZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNWYXVsdGVkSW5zdHJ1bWVudChcbiAgICBpbnN0cnVtZW50OiBQYXltZW50SW5zdHJ1bWVudFBheWxvYWQsXG4pOiBpbnN0cnVtZW50IGlzIFZhdWx0ZWRJbnN0cnVtZW50IHtcbiAgICByZXR1cm4gQm9vbGVhbigoaW5zdHJ1bWVudCBhcyBWYXVsdGVkSW5zdHJ1bWVudCkuaW5zdHJ1bWVudElkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSG9zdGVkVmF1bHRlZEluc3RydW1lbnQoXG4gICAgaW5zdHJ1bWVudDogUGF5bWVudEluc3RydW1lbnRQYXlsb2FkLFxuKTogaW5zdHJ1bWVudCBpcyBIb3N0ZWRWYXVsdGVkSW5zdHJ1bWVudCB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgQm9vbGVhbigoaW5zdHJ1bWVudCBhcyBIb3N0ZWRWYXVsdGVkSW5zdHJ1bWVudCkuaW5zdHJ1bWVudElkKSAmJlxuICAgICAgICAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RydW1lbnQsICdjY051bWJlcicpICYmXG4gICAgICAgICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdHJ1bWVudCwgJ2NjQ3Z2JylcbiAgICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGb3JtYXR0ZWRWYXVsdGVkSW5zdHJ1bWVudChcbiAgICBpbnN0cnVtZW50OiBQYXltZW50SW5zdHJ1bWVudFBheWxvYWQsXG4pOiBpbnN0cnVtZW50IGlzIEZvcm1hdHRlZFBheWxvYWQ8Rm9ybWF0dGVkVmF1bHRlZEluc3RydW1lbnQ+IHtcbiAgICBjb25zdCBmb3JtYXR0ZWRJbnN0cnVtZW50ID0gKGluc3RydW1lbnQgYXMgRm9ybWF0dGVkUGF5bG9hZDxGb3JtYXR0ZWRWYXVsdGVkSW5zdHJ1bWVudD4pXG4gICAgICAgIC5mb3JtYXR0ZWRQYXlsb2FkO1xuXG4gICAgaWYgKCFmb3JtYXR0ZWRJbnN0cnVtZW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICB0eXBlb2YgZm9ybWF0dGVkSW5zdHJ1bWVudC5iaWdwYXlfdG9rZW4gPT09ICdzdHJpbmcnIHx8XG4gICAgICAgIEJvb2xlYW4oZm9ybWF0dGVkSW5zdHJ1bWVudC5iaWdwYXlfdG9rZW4gJiYgZm9ybWF0dGVkSW5zdHJ1bWVudC5iaWdwYXlfdG9rZW4udG9rZW4pXG4gICAgKTtcbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRocm93IHRoaXMgZXJyb3IgaWYgd2UgYXJlIHRyeWluZyB0byBtYWtlIGFuIG9yZGVyIGZpbmFsaXphdGlvbiByZXF1ZXN0IGZvciBhXG4gKiBwYXltZW50IG1ldGhvZCB0aGF0IGRvZXMgbm90IHJlcXVpcmUgc3VjaCBwcm9jZWR1cmUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignVGhlIGN1cnJlbnQgb3JkZXIgZG9lcyBub3QgbmVlZCB0byBiZSBmaW5hbGl6ZWQgYXQgdGhpcyBzdGFnZS4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ29yZGVyX2ZpbmFsaXphdGlvbl9ub3RfcmVxdWlyZWQnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgSG9zdGVkQ2FyZEZpZWxkT3B0aW9uc01hcCxcbiAgICBIb3N0ZWRGaWVsZE9wdGlvbnNNYXAsXG4gICAgSG9zdGVkRmllbGRUeXBlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNIb3N0ZWRDYXJkRmllbGRPcHRpb25zTWFwKFxuICAgIGZpZWxkczogSG9zdGVkRmllbGRPcHRpb25zTWFwLFxuKTogZmllbGRzIGlzIEhvc3RlZENhcmRGaWVsZE9wdGlvbnNNYXAge1xuICAgIHJldHVybiBIb3N0ZWRGaWVsZFR5cGUuQ2FyZE51bWJlciBpbiBmaWVsZHM7XG59XG4iLCJpbXBvcnQge1xuICAgIEhvc3RlZEZpZWxkT3B0aW9uc01hcCxcbiAgICBIb3N0ZWRGaWVsZFR5cGUsXG4gICAgSG9zdGVkU3RvcmVkQ2FyZEZpZWxkT3B0aW9uc01hcCxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzSG9zdGVkU3RvcmVkQ2FyZEZpZWxkT3B0aW9uc01hcChcbiAgICBmaWVsZHM6IEhvc3RlZEZpZWxkT3B0aW9uc01hcCxcbik6IGZpZWxkcyBpcyBIb3N0ZWRTdG9yZWRDYXJkRmllbGRPcHRpb25zTWFwIHtcbiAgICByZXR1cm4gKFxuICAgICAgICBIb3N0ZWRGaWVsZFR5cGUuQ2FyZENvZGVWZXJpZmljYXRpb24gaW4gZmllbGRzIHx8XG4gICAgICAgIEhvc3RlZEZpZWxkVHlwZS5DYXJkTnVtYmVyVmVyaWZpY2F0aW9uIGluIGZpZWxkc1xuICAgICk7XG59XG4iLCJleHBvcnQgdHlwZSBCbHVlc25hcERpcmVjdE5vY0lucHV0QWxsb3dlZFN0eWxlID0gUGljazxcbiAgICBDU1NTdHlsZURlY2xhcmF0aW9uLFxuICAgICdjb2xvcicgfCAnZm9udEZhbWlseScgfCAnZm9udFNpemUnIHwgJ2ZvbnRXZWlnaHQnXG4+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJsdWVTbmFwRGlyZWN0U3R5bGVEZWNsYXJhdGlvbiB7XG4gICAgW2s6IHN0cmluZ106IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCbHVlU25hcERpcmVjdFN0eWxlIHtcbiAgICAnLmludmFsaWQnPzogQmx1ZVNuYXBEaXJlY3RTdHlsZURlY2xhcmF0aW9uO1xuICAgICc6Zm9jdXMnPzogQmx1ZVNuYXBEaXJlY3RTdHlsZURlY2xhcmF0aW9uO1xuICAgIGlucHV0PzogQmx1ZVNuYXBEaXJlY3RTdHlsZURlY2xhcmF0aW9uO1xufVxuXG5leHBvcnQgZW51bSBCbHVlU25hcERpcmVjdENhcmRUeXBlIHtcbiAgICBBTUVYID0gJ2FtZXJpY2FuLWV4cHJlc3MnLFxuICAgIENISU5BX1VOSU9OX1BBWSA9ICd1bmlvbnBheScsXG4gICAgRElORVJTID0gJ2RpbmVycy1jbHViJyxcbiAgICBESVNDT1ZFUiA9ICdkaXNjb3ZlcicsXG4gICAgSkNCID0gJ2pjYicsXG4gICAgTUFTVEVSQ0FSRCA9ICdtYXN0ZXJjYXJkJyxcbiAgICBVTktOT1dOID0gJ3Vua25vd24nLFxuICAgIFZJU0EgPSAndmlzYScsXG59XG5cbmV4cG9ydCB0eXBlIEJsdWVTbmFwRGlyZWN0Q2FyZFR5cGVWYWx1ZXMgPSBrZXlvZiB0eXBlb2YgQmx1ZVNuYXBEaXJlY3RDYXJkVHlwZTtcblxuZXhwb3J0IGVudW0gQmx1ZVNuYXBEaXJlY3RFdmVudE9yaWdpbiB7XG4gICAgT05fQkxVUiA9ICdvbkJsdXInLFxuICAgIE9OX1NVQk1JVCA9ICdvblN1Ym1pdCcsXG59XG5cbmV4cG9ydCBlbnVtIEJsdWVTbmFwRGlyZWN0RXJyb3JEZXNjcmlwdGlvbiB7XG4gICAgRU1QVFkgPSAnZW1wdHknLFxuICAgIElOVkFMSUQgPSAnaW52YWxpZCcsXG4gICAgVEhSRUVfRFNfTk9UX0VOQUJMRUQgPSAnM0QgU2VjdXJlIGlzIG5vdCBlbmFibGVkJyxcbn1cblxuZXhwb3J0IHR5cGUgQmx1ZVNuYXBEaXJlY3RJbnB1dFZhbGlkYXRpb25FcnJvckRlc2NyaXB0aW9uID0gRXh0cmFjdDxcbiAgICBCbHVlU25hcERpcmVjdEVycm9yRGVzY3JpcHRpb24sXG4gICAgQmx1ZVNuYXBEaXJlY3RFcnJvckRlc2NyaXB0aW9uLkVNUFRZIHwgQmx1ZVNuYXBEaXJlY3RFcnJvckRlc2NyaXB0aW9uLklOVkFMSURcbj47XG5cbmV4cG9ydCBlbnVtIEJsdWVTbmFwRGlyZWN0RXJyb3JDb2RlIHtcbiAgICBDQ19OT1RfU1VQT1JURUQgPSAnMjIwMTMnLFxuICAgIEVSUk9SXzQwMyA9ICc0MDMnLFxuICAgIEVSUk9SXzQwNCA9ICc0MDQnLFxuICAgIEVSUk9SXzUwMCA9ICc1MDAnLFxuICAgIElOVkFMSURfT1JfRU1QVFkgPSAnMTAnLFxuICAgIFNFU1NJT05fRVhQSVJFRCA9ICc0MDAnLFxuICAgIFRIUkVFX0RTX0FVVEhfRkFJTEVEID0gJzE0MTAxJyxcbiAgICBUSFJFRV9EU19DTElFTlRfRVJST1IgPSAnMTQxMDMnLFxuICAgIFRIUkVFX0RTX01JU1NJTkdfRklFTERTID0gJzE0MTAyJyxcbiAgICBUSFJFRV9EU19OT1RfRU5BQkxFRCA9ICcxNDEwMCcsXG4gICAgVE9LRU5fRVhQSVJFRCA9ICcxNDA0MCcsXG4gICAgVE9LRU5fTk9UX0FTU09DSUFURUQgPSAnMTQwNDInLFxuICAgIFRPS0VOX05PVF9GT1VORCA9ICcxNDA0MScsXG59XG5cbmV4cG9ydCBlbnVtIEJsdWVTbmFwRGlyZWN0SG9zdGVkRmllbGRUYWdJZCB7XG4gICAgQ2FyZENvZGUgPSAnY3Z2JyxcbiAgICBDYXJkRXhwaXJ5ID0gJ2V4cCcsXG4gICAgQ2FyZE5hbWUgPSAnbm9jJyxcbiAgICBDYXJkTnVtYmVyID0gJ2NjbicsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmx1ZVNuYXBEaXJlY3RIb3N0ZWRQYXltZW50RmllbGRzT3B0aW9ucyB7XG4gICAgdG9rZW46IHN0cmluZztcbiAgICBvbkZpZWxkRXZlbnRIYW5kbGVyPzoge1xuICAgICAgICBzZXR1cENvbXBsZXRlPzogKCkgPT4gdm9pZDtcbiAgICAgICAgdGhyZWVEc0NoYWxsZW5nZUV4ZWN1dGVkPzogKCkgPT4gdm9pZDtcbiAgICAgICAgb25Gb2N1cz86ICh0YWdJZDogQmx1ZVNuYXBEaXJlY3RIb3N0ZWRGaWVsZFRhZ0lkKSA9PiB2b2lkO1xuICAgICAgICBvbkJsdXI/OiAodGFnSWQ6IEJsdWVTbmFwRGlyZWN0SG9zdGVkRmllbGRUYWdJZCkgPT4gdm9pZDtcbiAgICAgICAgb25FcnJvcj86IChcbiAgICAgICAgICAgIHRhZ0lkOiBCbHVlU25hcERpcmVjdEhvc3RlZEZpZWxkVGFnSWQgfCB1bmRlZmluZWQsXG4gICAgICAgICAgICBlcnJvckNvZGU6IEJsdWVTbmFwRGlyZWN0RXJyb3JDb2RlLFxuICAgICAgICAgICAgZXJyb3JEZXNjcmlwdGlvbjogQmx1ZVNuYXBEaXJlY3RFcnJvckRlc2NyaXB0aW9uIHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgZXZlbnRPcmlnaW46IEJsdWVTbmFwRGlyZWN0RXZlbnRPcmlnaW4gfCB1bmRlZmluZWQsXG4gICAgICAgICkgPT4gdm9pZDtcbiAgICAgICAgb25UeXBlPzogKFxuICAgICAgICAgICAgdGFnSWQ6IEJsdWVTbmFwRGlyZWN0SG9zdGVkRmllbGRUYWdJZCxcbiAgICAgICAgICAgIGNhcmRUeXBlOiBCbHVlU25hcERpcmVjdENhcmRUeXBlVmFsdWVzLFxuICAgICAgICAgICAgY2FyZERhdGE6IEJsdWVTbmFwRGlyZWN0Q2FyZERhdGEgfCB1bmRlZmluZWQsXG4gICAgICAgICkgPT4gdm9pZDtcbiAgICAgICAgb25FbnRlcj86ICh0YWdJZDogQmx1ZVNuYXBEaXJlY3RIb3N0ZWRGaWVsZFRhZ0lkKSA9PiB2b2lkO1xuICAgICAgICBvblZhbGlkPzogKHRhZ0lkOiBCbHVlU25hcERpcmVjdEhvc3RlZEZpZWxkVGFnSWQpID0+IHZvaWQ7XG4gICAgfTtcbiAgICBjY25QbGFjZUhvbGRlcj86IHN0cmluZztcbiAgICBjdnZQbGFjZUhvbGRlcj86IHN0cmluZztcbiAgICBleHBQbGFjZUhvbGRlcj86IHN0cmluZztcbiAgICBzdHlsZT86IEJsdWVTbmFwRGlyZWN0U3R5bGU7XG4gICAgJzNEUyc/OiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgQmx1ZVNuYXBEaXJlY3RDYWxsYmFjayB7XG4gICAgc3RhdHVzQ29kZTogc3RyaW5nO1xuICAgIHRyYW5zYWN0aW9uRnJhdWRJbmZvOiB7XG4gICAgICAgIGZyYXVkU2Vzc2lvbklkOiBzdHJpbmc7XG4gICAgfTtcbn1cblxuaW50ZXJmYWNlIEJsdWVTbmFwRGlyZWN0Q2FyZERhdGEge1xuICAgIGJpbkNhdGVnb3J5OiBzdHJpbmc7XG4gICAgY2FyZFN1YlR5cGU6IHN0cmluZztcbiAgICBjY0Jpbjogc3RyaW5nO1xuICAgIGNjVHlwZTogc3RyaW5nO1xuICAgIGlzUmVndWxhdGVkQ2FyZDogc3RyaW5nO1xuICAgIGlzc3VpbmdDb3VudHJ5OiBzdHJpbmc7XG4gICAgbGFzdDREaWdpdHM6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCbHVlU25hcERpcmVjdENhbGxiYWNrQ2FyZERhdGEgZXh0ZW5kcyBCbHVlU25hcERpcmVjdENhcmREYXRhIHtcbiAgICBjYXJkQ2F0ZWdvcnk6IHN0cmluZztcbiAgICBleHA6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEJsdWVTbmFwRGlyZWN0Q2FsbGJhY2tEYXRhIGV4dGVuZHMgQmx1ZVNuYXBEaXJlY3RDYWxsYmFjayB7XG4gICAgY2FyZERhdGE6IEJsdWVTbmFwRGlyZWN0Q2FsbGJhY2tDYXJkRGF0YTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXaXRoQmx1ZVNuYXBEaXJlY3RDYXJkSG9sZGVyTmFtZSB7XG4gICAgY2FyZEhvbGRlck5hbWU/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBCbHVlU25hcERpcmVjdFN1Ym1pdEVycm9yIHtcbiAgICBlcnJvckNvZGU6IHN0cmluZztcbiAgICBlcnJvckRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgZXZlbnRUeXBlOiBzdHJpbmc7XG4gICAgdGFnSWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCbHVlU25hcERpcmVjdENhbGxiYWNrRXJyb3IgZXh0ZW5kcyBCbHVlU25hcERpcmVjdENhbGxiYWNrIHtcbiAgICBlcnJvcjogQmx1ZVNuYXBEaXJlY3RTdWJtaXRFcnJvcltdO1xufVxuXG5leHBvcnQgdHlwZSBCbHVlU25hcERpcmVjdENhbGxiYWNrUmVzdWx0cyA9XG4gICAgfCBCbHVlU25hcERpcmVjdENhbGxiYWNrRGF0YVxuICAgIHwgQmx1ZVNuYXBEaXJlY3RDYWxsYmFja0Vycm9yO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJsdWVTbmFwRGlyZWN0VGhyZWVEU2VjdXJlRGF0YSB7XG4gICAgYW1vdW50OiBudW1iZXI7XG4gICAgY3VycmVuY3k6IHN0cmluZztcbiAgICBiaWxsaW5nRmlyc3ROYW1lPzogc3RyaW5nO1xuICAgIGJpbGxpbmdMYXN0TmFtZT86IHN0cmluZztcbiAgICBiaWxsaW5nQ291bnRyeT86IHN0cmluZztcbiAgICBiaWxsaW5nU3RhdGU/OiBzdHJpbmc7XG4gICAgYmlsbGluZ0NpdHk/OiBzdHJpbmc7XG4gICAgYmlsbGluZ0FkZHJlc3M/OiBzdHJpbmc7XG4gICAgYmlsbGluZ1ppcD86IHN0cmluZztcbiAgICBzaGlwcGluZ0ZpcnN0TmFtZT86IHN0cmluZztcbiAgICBzaGlwcGluZ0xhc3ROYW1lPzogc3RyaW5nO1xuICAgIHNoaXBwaW5nQ291bnRyeT86IHN0cmluZztcbiAgICBzaGlwcGluZ1N0YXRlPzogc3RyaW5nO1xuICAgIHNoaXBwaW5nQ2l0eT86IHN0cmluZztcbiAgICBzaGlwcGluZ0FkZHJlc3M/OiBzdHJpbmc7XG4gICAgc2hpcHBpbmdaaXA/OiBzdHJpbmc7XG4gICAgZW1haWw/OiBzdHJpbmc7XG4gICAgcGhvbmU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmx1ZVNuYXBEaXJlY3RTZGsge1xuICAgIGhvc3RlZFBheW1lbnRGaWVsZHNDcmVhdGUob3B0aW9uczogQmx1ZVNuYXBEaXJlY3RIb3N0ZWRQYXltZW50RmllbGRzT3B0aW9ucyk6IHZvaWQ7XG4gICAgaG9zdGVkUGF5bWVudEZpZWxkc1N1Ym1pdERhdGEoXG4gICAgICAgIGNhbGxiYWNrOiAocmVzdWx0czogQmx1ZVNuYXBEaXJlY3RDYWxsYmFja1Jlc3VsdHMpID0+IHZvaWQsXG4gICAgICAgIHRocmVlRFNlY3VyZURhdGE/OiBCbHVlU25hcERpcmVjdFRocmVlRFNlY3VyZURhdGEsXG4gICAgKTogdm9pZDtcbiAgICB0aHJlZURzUGF5bWVudHNTZXR1cChcbiAgICAgICAgdG9rZW46IHN0cmluZyxcbiAgICAgICAgY2FsbGJhY2s6IChyZXBvbnNlOiBCbHVlU25hcERpcmVjdDNkc0NhbGxiYWNrUmVzcG9uc2UpID0+IHZvaWQsXG4gICAgKTogdm9pZDtcbiAgICB0aHJlZURzUGF5bWVudHNTdWJtaXREYXRhKGNhcmREYXRhOiBCbHVlU25hcERpcmVjdFByZXZpb3VzbHlVc2VkQ2FyZCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmx1ZVNuYXBEaXJlY3RQcmV2aW91c2x5VXNlZENhcmQge1xuICAgIGxhc3Q0RGlnaXRzPzogc3RyaW5nO1xuICAgIGNjVHlwZT86IHN0cmluZztcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgICBjdXJyZW5jeTogc3RyaW5nO1xuICAgIGJpbGxpbmdGaXJzdE5hbWU/OiBzdHJpbmc7XG4gICAgYmlsbGluZ0xhc3ROYW1lPzogc3RyaW5nO1xuICAgIGJpbGxpbmdDb3VudHJ5Pzogc3RyaW5nO1xuICAgIGJpbGxpbmdTdGF0ZT86IHN0cmluZztcbiAgICBiaWxsaW5nQ2l0eT86IHN0cmluZztcbiAgICBiaWxsaW5nQWRkcmVzcz86IHN0cmluZztcbiAgICBiaWxsaW5nWmlwPzogc3RyaW5nO1xuICAgIHNoaXBwaW5nRmlyc3ROYW1lPzogc3RyaW5nO1xuICAgIHNoaXBwaW5nTGFzdE5hbWU/OiBzdHJpbmc7XG4gICAgc2hpcHBpbmdDb3VudHJ5Pzogc3RyaW5nO1xuICAgIHNoaXBwaW5nU3RhdGU/OiBzdHJpbmc7XG4gICAgc2hpcHBpbmdDaXR5Pzogc3RyaW5nO1xuICAgIHNoaXBwaW5nQWRkcmVzcz86IHN0cmluZztcbiAgICBzaGlwcGluZ1ppcD86IHN0cmluZztcbiAgICBlbWFpbD86IHN0cmluZztcbiAgICBwaG9uZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCbHVlU25hcERpcmVjdDNkc0NhbGxiYWNrUmVzcG9uc2Uge1xuICAgIGNvZGU6IHN0cmluZztcbiAgICBjYXJkRGF0YTogQmx1ZVNuYXBEaXJlY3RDYWxsYmFja0NhcmREYXRhO1xuICAgIHRocmVlRFNlY3VyZToge1xuICAgICAgICBhdXRoUmVzdWx0OiBzdHJpbmc7XG4gICAgICAgIHRocmVlRFNlY3VyZVJlZmVyZW5jZUlkOiBzdHJpbmc7XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCbHVlU25hcERpcmVjdEhvc3RXaW5kb3cgZXh0ZW5kcyBXaW5kb3cge1xuICAgIGJsdWVzbmFwPzogQmx1ZVNuYXBEaXJlY3RTZGs7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmx1ZVNuYXBEaXJlY3RTdHlsZVByb3BzIHtcbiAgICBib3JkZXI/OiBzdHJpbmc7XG4gICAgaGVpZ2h0Pzogc3RyaW5nO1xuICAgIHdpZHRoPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJsdWVTbmFwRGlyZWN0UmVkaXJlY3RSZXNwb25zZVByb3ZpZGVyRGF0YSB7XG4gICAgW2tleTogc3RyaW5nXTogc3RyaW5nO1xuICAgIG1lcmNoYW50aWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCbHVlU25hcERpcmVjdFJlZGlyZWN0UmVzcG9uc2Uge1xuICAgIGJvZHk6IHtcbiAgICAgICAgYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ6IHtcbiAgICAgICAgICAgIHR5cGU6ICdvZmZzaXRlX3JlZGlyZWN0JztcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICByZWRpcmVjdF91cmw6IHN0cmluZztcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHN0YXR1czogc3RyaW5nO1xuICAgICAgICBwcm92aWRlcl9kYXRhPzogc3RyaW5nO1xuICAgIH07XG59XG5cbi8qKlxuICogQSBzZXQgb2Ygb3B0aW9ucyB0aGF0IGFyZSByZXF1aXJlZCB0byBpbml0aWFsaXplIHRoZSBCbHVlU25hcCBWMiBwYXltZW50XG4gKiBtZXRob2QuXG4gKlxuICogVGhlIHBheW1lbnQgc3RlcCBpcyBkb25lIHRocm91Z2ggYSB3ZWIgcGFnZSB2aWEgYW4gaWZyYW1lIHByb3ZpZGVkIGJ5IHRoZVxuICogc3RyYXRlZ3kuXG4gKlxuICogYGBgaHRtbFxuICogPCEtLSBUaGlzIGlzIHdoZXJlIHRoZSBCbHVlU25hcCBpZnJhbWUgd2lsbCBiZSBpbnNlcnRlZC4gSXQgY2FuIGJlIGFuIGluLXBhZ2UgY29udGFpbmVyIG9yIGEgbW9kYWwgLS0+XG4gKiA8ZGl2IGlkPVwiY29udGFpbmVyXCI+PC9kaXY+XG4gKlxuICogPCEtLSBUaGlzIGlzIGEgY2FuY2VsbGF0aW9uIGJ1dHRvbiAtLT5cbiAqIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGlkPVwiY2FuY2VsLWJ1dHRvblwiPjwvYnV0dG9uPlxuICogYGBgXG4gKlxuICogYGBganNcbiAqIHNlcnZpY2UuaW5pdGlhbGl6ZVBheW1lbnQoe1xuICogICAgIG1ldGhvZElkOiAnYmx1ZXNuYXBEaXJlY3QnLFxuICogICAgIGJsdWVzbmFwRGlyZWN0OiB7XG4gKiAgICAgICAgIG9uTG9hZDogKGlmcmFtZSkgPT4ge1xuICogICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpXG4gKiAgICAgICAgICAgICAgICAgLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gKlxuICogICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbmNlbC1idXR0b24nKVxuICogICAgICAgICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAqICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpLmlubmVySFRNTCA9ICcnO1xuICogICAgICAgICAgICAgICAgIH0pO1xuICogICAgICAgICB9LFxuICogICAgIH0sXG4gKiB9KTtcbiAqIGBgYFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJsdWVTbmFwRGlyZWN0QVBNSW5pdGlhbGl6ZU9wdGlvbnMge1xuICAgIC8qKlxuICAgICAqIEEgc2V0IG9mIENTUyBwcm9wZXJ0aWVzIHRvIGFwcGx5IHRvIHRoZSBpZnJhbWUuXG4gICAgICovXG4gICAgc3R5bGU/OiBCbHVlU25hcERpcmVjdFN0eWxlUHJvcHM7XG5cbiAgICAvKipcbiAgICAgKiBBIGNhbGxiYWNrIHRoYXQgZ2V0cyBjYWxsZWQgd2hlbiB0aGUgaWZyYW1lIGlzIHJlYWR5IHRvIGJlIGFkZGVkIHRvIHRoZVxuICAgICAqIGN1cnJlbnQgcGFnZS4gSXQgaXMgcmVzcG9uc2libGUgZm9yIGRldGVybWluaW5nIHdoZXJlIHRoZSBpZnJhbWUgc2hvdWxkXG4gICAgICogYmUgaW5zZXJ0ZWQgaW4gdGhlIERPTS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZnJhbWUgLSBUaGUgaWZyYW1lIGVsZW1lbnQgY29udGFpbmluZyB0aGUgcGF5bWVudCB3ZWIgcGFnZVxuICAgICAqIHByb3ZpZGVkIGJ5IHRoZSBzdHJhdGVneS5cbiAgICAgKiBAcGFyYW0gY2FuY2VsIC0gQSBmdW5jdGlvbiwgd2hlbiBjYWxsZWQsIHdpbGwgY2FuY2VsIHRoZSBwYXltZW50XG4gICAgICogcHJvY2VzcyBhbmQgcmVtb3ZlIHRoZSBpZnJhbWUuXG4gICAgICovXG4gICAgb25Mb2FkKGlmcmFtZTogSFRNTElGcmFtZUVsZW1lbnQsIGNhbmNlbDogKCkgPT4gdm9pZCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2l0aEJsdWVTbmFwRGlyZWN0QVBNUGF5bWVudEluaXRpYWxpemVPcHRpb25zIHtcbiAgICAvKipcbiAgICAgKiBUaGUgb3B0aW9ucyB0aGF0IGFyZSByZXF1aXJlZCB0byBpbml0aWFsaXplIHRoZSBBcHBsZSBQYXkgcGF5bWVudFxuICAgICAqIG1ldGhvZC4gVGhleSBjYW4gYmUgb21pdHRlZCB1bmxlc3MgeW91IG5lZWQgdG8gc3VwcG9ydCBBcHBsZSBQYXkuXG4gICAgICovXG4gICAgYmx1ZXNuYXBkaXJlY3Q/OiBCbHVlU25hcERpcmVjdEFQTUluaXRpYWxpemVPcHRpb25zO1xufVxuIiwiaW1wb3J0IHsgV2l0aENyZWRpdENhcmRQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2NyZWRpdC1jYXJkLWludGVncmF0aW9uJztcbmltcG9ydCB7XG4gICAgZ3VhcmQsXG4gICAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gICAgaXNIb3N0ZWRJbnN0cnVtZW50TGlrZSxcbiAgICBpc1ZhdWx0ZWRJbnN0cnVtZW50LFxuICAgIE1pc3NpbmdEYXRhRXJyb3IsXG4gICAgTWlzc2luZ0RhdGFFcnJvclR5cGUsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yLFxuICAgIFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRTdHJhdGVneSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IEJsdWVTbmFwRGlyZWN0U2RrLCBCbHVlU25hcERpcmVjdFRocmVlRFNlY3VyZURhdGEgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgaXNIb3N0ZWRDYXJkRmllbGRPcHRpb25zTWFwIGZyb20gJy4uL3V0aWxzL2lzLWhvc3RlZC1jYXJkLWZpZWxkLW9wdGlvbnMtbWFwJztcbmltcG9ydCBpc0hvc3RlZFN0b3JlZENhcmRGaWVsZE9wdGlvbnNNYXAgZnJvbSAnLi4vdXRpbHMvaXMtaG9zdGVkLXN0b3JlZC1jYXJkLWZpZWxkLW9wdGlvbnMtbWFwJztcblxuaW1wb3J0IEJsdWVTbmFwRGlyZWN0M2RzIGZyb20gJy4vYmx1ZXNuYXAtZGlyZWN0LTNkcyc7XG5pbXBvcnQgQmx1ZVNuYXBEaXJlY3RIb3N0ZWRGb3JtIGZyb20gJy4vYmx1ZXNuYXAtZGlyZWN0LWhvc3RlZC1mb3JtJztcbmltcG9ydCBCbHVlU25hcERpcmVjdFNjcmlwdExvYWRlciBmcm9tICcuL2JsdWVzbmFwLWRpcmVjdC1zY3JpcHQtbG9hZGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmx1ZVNuYXBEaXJlY3RDcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5IGltcGxlbWVudHMgUGF5bWVudFN0cmF0ZWd5IHtcbiAgICBwcml2YXRlIF9wYXltZW50RmllbGRzVG9rZW4/OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfc2hvdWxkVXNlSG9zdGVkRmllbGRzPzogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9ibHVlU25hcFNkaz86IEJsdWVTbmFwRGlyZWN0U2RrO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgX3NjcmlwdExvYWRlcjogQmx1ZVNuYXBEaXJlY3RTY3JpcHRMb2FkZXIsXG4gICAgICAgIHByaXZhdGUgX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgX2JsdWVTbmFwRGlyZWN0SG9zdGVkRm9ybTogQmx1ZVNuYXBEaXJlY3RIb3N0ZWRGb3JtLFxuICAgICAgICBwcml2YXRlIF9ibHVlU25hcERpcmVjdDNkczogQmx1ZVNuYXBEaXJlY3QzZHMsXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShcbiAgICAgICAgb3B0aW9uczogUGF5bWVudEluaXRpYWxpemVPcHRpb25zICYgV2l0aENyZWRpdENhcmRQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgbWV0aG9kSWQsIGdhdGV3YXlJZCwgY3JlZGl0Q2FyZCB9ID0gb3B0aW9ucztcblxuICAgICAgICBpZiAoIWdhdGV3YXlJZCB8fCAhY3JlZGl0Q2FyZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QoZ2F0ZXdheUlkLCB7XG4gICAgICAgICAgICBwYXJhbXM6IHsgbWV0aG9kOiBtZXRob2RJZCwgYmlncGF5VG9rZW46IGNyZWRpdENhcmQuYmlncGF5VG9rZW4gfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY29uZmlnOiB7IHRlc3RNb2RlLCBpczNkc0VuYWJsZWQgfSxcbiAgICAgICAgICAgIGNsaWVudFRva2VuLFxuICAgICAgICB9ID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQsIGdhdGV3YXlJZCk7XG5cbiAgICAgICAgdGhpcy5fYmx1ZVNuYXBTZGsgPSBhd2FpdCB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZCh0ZXN0TW9kZSk7XG5cbiAgICAgICAgdGhpcy5fcGF5bWVudEZpZWxkc1Rva2VuID0gY2xpZW50VG9rZW47XG4gICAgICAgIHRoaXMuX3Nob3VsZFVzZUhvc3RlZEZpZWxkcyA9XG4gICAgICAgICAgICBpc0hvc3RlZENhcmRGaWVsZE9wdGlvbnNNYXAoY3JlZGl0Q2FyZC5mb3JtLmZpZWxkcykgfHxcbiAgICAgICAgICAgIChpc0hvc3RlZFN0b3JlZENhcmRGaWVsZE9wdGlvbnNNYXAoY3JlZGl0Q2FyZC5mb3JtLmZpZWxkcykgJiZcbiAgICAgICAgICAgICAgICAhIWNyZWRpdENhcmQuZm9ybS5maWVsZHMuY2FyZE51bWJlclZlcmlmaWNhdGlvbik7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Nob3VsZFVzZUhvc3RlZEZpZWxkcykge1xuICAgICAgICAgICAgdGhpcy5fYmx1ZVNuYXBEaXJlY3RIb3N0ZWRGb3JtLmluaXRpYWxpemUodGhpcy5fYmx1ZVNuYXBTZGssIGNyZWRpdENhcmQuZm9ybS5maWVsZHMpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fYmx1ZVNuYXBEaXJlY3RIb3N0ZWRGb3JtLmF0dGFjaChcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRQYXltZW50RmllbGRzVG9rZW4oKSxcbiAgICAgICAgICAgICAgICBjcmVkaXRDYXJkLFxuICAgICAgICAgICAgICAgIGlzM2RzRW5hYmxlZCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBleGVjdXRlKHBheWxvYWQ6IE9yZGVyUmVxdWVzdEJvZHkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKCFwYXlsb2FkLnBheW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IoWydwYXltZW50J10pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9ibHVlU25hcFNkaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvcihbJ3BheW1lbnQnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHBheW1lbnREYXRhIH0gPSBwYXlsb2FkLnBheW1lbnQ7XG5cbiAgICAgICAgY29uc3QgeyBzaG91bGRTYXZlSW5zdHJ1bWVudCwgc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCB9ID0gaXNIb3N0ZWRJbnN0cnVtZW50TGlrZShcbiAgICAgICAgICAgIHBheW1lbnREYXRhLFxuICAgICAgICApXG4gICAgICAgICAgICA/IHBheW1lbnREYXRhXG4gICAgICAgICAgICA6IHsgc2hvdWxkU2F2ZUluc3RydW1lbnQ6IGZhbHNlLCBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50OiBmYWxzZSB9O1xuXG4gICAgICAgIGNvbnN0IHBmVG9rZW4gPSB0aGlzLl9nZXRQYXltZW50RmllbGRzVG9rZW4oKTtcbiAgICAgICAgbGV0IHRocmVlRFNlY3VyZVJlZmVyZW5jZUlkO1xuXG4gICAgICAgIGNvbnN0IHsgaXMzZHNFbmFibGVkIH0gPSB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlXG4gICAgICAgICAgICAuZ2V0U3RhdGUoKVxuICAgICAgICAgICAgLmdldFBheW1lbnRNZXRob2RPclRocm93KHBheWxvYWQucGF5bWVudC5tZXRob2RJZCwgcGF5bG9hZC5wYXltZW50LmdhdGV3YXlJZCkuY29uZmlnO1xuXG4gICAgICAgIGNvbnN0IGJsdWVzbmFwU3VibWl0ZWRGb3JtID0gdGhpcy5fc2hvdWxkVXNlSG9zdGVkRmllbGRzXG4gICAgICAgICAgICA/IGF3YWl0IHRoaXMuX2JsdWVTbmFwRGlyZWN0SG9zdGVkRm9ybVxuICAgICAgICAgICAgICAgICAgLnZhbGlkYXRlKClcbiAgICAgICAgICAgICAgICAgIC5zdWJtaXQoXG4gICAgICAgICAgICAgICAgICAgICAgaXMzZHNFbmFibGVkID8gdGhpcy5fZ2V0Qmx1ZVNuYXBEaXJlY3RUaHJlZURTZWN1cmVEYXRhKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgIShpc0hvc3RlZEluc3RydW1lbnRMaWtlKHBheW1lbnREYXRhKSAmJiBpc1ZhdWx0ZWRJbnN0cnVtZW50KHBheW1lbnREYXRhKSksXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKCk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgaXNIb3N0ZWRJbnN0cnVtZW50TGlrZShwYXltZW50RGF0YSkgJiZcbiAgICAgICAgICAgIGlzVmF1bHRlZEluc3RydW1lbnQocGF5bWVudERhdGEpICYmXG4gICAgICAgICAgICB0aGlzLl9wYXltZW50RmllbGRzVG9rZW4gJiZcbiAgICAgICAgICAgIHBheW1lbnREYXRhLmluc3RydW1lbnRJZFxuICAgICAgICApIHtcbiAgICAgICAgICAgIGlmIChpczNkc0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ibHVlU25hcERpcmVjdDNkcy5pbml0aWFsaXplKHRoaXMuX2JsdWVTbmFwU2RrKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHsgbGFzdDQsIGJyYW5kIH0gPSB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlXG4gICAgICAgICAgICAgICAgICAgIC5nZXRTdGF0ZSgpXG4gICAgICAgICAgICAgICAgICAgIC5nZXRDYXJkSW5zdHJ1bWVudE9yVGhyb3cocGF5bWVudERhdGEuaW5zdHJ1bWVudElkKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzbHlVc2VkQ2FyZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdDREaWdpdHM6IGxhc3Q0LFxuICAgICAgICAgICAgICAgICAgICBjY1R5cGU6IGJyYW5kLnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuX2dldEJsdWVTbmFwRGlyZWN0VGhyZWVEU2VjdXJlRGF0YSgpLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0aHJlZURTZWN1cmVSZWZlcmVuY2VJZCA9IGF3YWl0IHRoaXMuX2JsdWVTbmFwRGlyZWN0M2RzLmluaXRpYWxpemUzZHMoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BheW1lbnRGaWVsZHNUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNseVVzZWRDYXJkLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudCh7XG4gICAgICAgICAgICAgICAgLi4ucGF5bG9hZC5wYXltZW50LFxuICAgICAgICAgICAgICAgIHBheW1lbnREYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRJZDogcGF5bWVudERhdGEuaW5zdHJ1bWVudElkLFxuICAgICAgICAgICAgICAgICAgICAuLi4odGhpcy5fc2hvdWxkVXNlSG9zdGVkRmllbGRzID8geyBub25jZTogcGZUb2tlbiB9IDoge30pLFxuICAgICAgICAgICAgICAgICAgICAuLi4odGhyZWVEU2VjdXJlUmVmZXJlbmNlSWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8geyBkZXZpY2VTZXNzaW9uSWQ6IHRocmVlRFNlY3VyZVJlZmVyZW5jZUlkIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50OiAhIXNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQoe1xuICAgICAgICAgICAgLi4ucGF5bG9hZC5wYXltZW50LFxuICAgICAgICAgICAgcGF5bWVudERhdGE6IHtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWRpdF9jYXJkX3Rva2VuOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBmVG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZEhvbGRlck5hbWU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsdWVzbmFwU3VibWl0ZWRGb3JtICYmIGJsdWVzbmFwU3VibWl0ZWRGb3JtLmNhcmRIb2xkZXJOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHZhdWx0X3BheW1lbnRfaW5zdHJ1bWVudDogc2hvdWxkU2F2ZUluc3RydW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHNldF9hc19kZWZhdWx0X3N0b3JlZF9pbnN0cnVtZW50OiBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmaW5hbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IoKSk7XG4gICAgfVxuXG4gICAgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5fc2hvdWxkVXNlSG9zdGVkRmllbGRzKSB7XG4gICAgICAgICAgICB0aGlzLl9ibHVlU25hcERpcmVjdEhvc3RlZEZvcm0uZGV0YWNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0Qmx1ZVNuYXBEaXJlY3RUaHJlZURTZWN1cmVEYXRhKCk6IEJsdWVTbmFwRGlyZWN0VGhyZWVEU2VjdXJlRGF0YSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGdldEJpbGxpbmdBZGRyZXNzLFxuICAgICAgICAgICAgZ2V0U2hpcHBpbmdBZGRyZXNzLFxuICAgICAgICAgICAgZ2V0Q3VzdG9tZXIsXG4gICAgICAgICAgICBnZXRDaGVja291dE9yVGhyb3csXG4gICAgICAgICAgICBnZXRDYXJ0T3JUaHJvdyxcbiAgICAgICAgfSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgYmlsbGluZ0FkZHJlc3MgPSBnZXRCaWxsaW5nQWRkcmVzcygpO1xuICAgICAgICBjb25zdCBzaGlwcGluZ0FkZHJlc3MgPSBnZXRTaGlwcGluZ0FkZHJlc3MoKTtcbiAgICAgICAgY29uc3QgZW1haWwgPSBnZXRDdXN0b21lcigpPy5lbWFpbCB8fCBiaWxsaW5nQWRkcmVzcz8uZW1haWw7XG4gICAgICAgIGNvbnN0IHBob25lID0gYmlsbGluZ0FkZHJlc3M/LnBob25lIHx8IHNoaXBwaW5nQWRkcmVzcz8ucGhvbmU7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFtb3VudDogZ2V0Q2hlY2tvdXRPclRocm93KCkub3V0c3RhbmRpbmdCYWxhbmNlLFxuICAgICAgICAgICAgY3VycmVuY3k6IGdldENhcnRPclRocm93KCkuY3VycmVuY3kuY29kZSxcbiAgICAgICAgICAgIC4uLihlbWFpbCAmJiB7IGVtYWlsIH0pLFxuICAgICAgICAgICAgLi4uKHBob25lICYmIHsgcGhvbmUgfSksXG4gICAgICAgICAgICAuLi4oYmlsbGluZ0FkZHJlc3MgJiYge1xuICAgICAgICAgICAgICAgIGJpbGxpbmdGaXJzdE5hbWU6IGJpbGxpbmdBZGRyZXNzLmZpcnN0TmFtZSxcbiAgICAgICAgICAgICAgICBiaWxsaW5nTGFzdE5hbWU6IGJpbGxpbmdBZGRyZXNzLmxhc3ROYW1lLFxuICAgICAgICAgICAgICAgIGJpbGxpbmdDb3VudHJ5OiBiaWxsaW5nQWRkcmVzcy5jb3VudHJ5Q29kZSxcbiAgICAgICAgICAgICAgICBiaWxsaW5nQ2l0eTogYmlsbGluZ0FkZHJlc3MuY2l0eSxcbiAgICAgICAgICAgICAgICBiaWxsaW5nQWRkcmVzczogYCR7YmlsbGluZ0FkZHJlc3MuYWRkcmVzczF9ICR7YmlsbGluZ0FkZHJlc3MuYWRkcmVzczJ9YC50cmltKCksXG4gICAgICAgICAgICAgICAgYmlsbGluZ1ppcDogYmlsbGluZ0FkZHJlc3MucG9zdGFsQ29kZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgLi4uKHNoaXBwaW5nQWRkcmVzcyAmJiB7XG4gICAgICAgICAgICAgICAgc2hpcHBpbmdGaXJzdE5hbWU6IHNoaXBwaW5nQWRkcmVzcy5maXJzdE5hbWUsXG4gICAgICAgICAgICAgICAgc2hpcHBpbmdMYXN0TmFtZTogc2hpcHBpbmdBZGRyZXNzLmxhc3ROYW1lLFxuICAgICAgICAgICAgICAgIHNoaXBwaW5nQ291bnRyeTogc2hpcHBpbmdBZGRyZXNzLmNvdW50cnlDb2RlLFxuICAgICAgICAgICAgICAgIHNoaXBwaW5nQ2l0eTogc2hpcHBpbmdBZGRyZXNzLmNpdHksXG4gICAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzOiBgJHtzaGlwcGluZ0FkZHJlc3MuYWRkcmVzczF9ICR7c2hpcHBpbmdBZGRyZXNzLmFkZHJlc3MyfWAudHJpbSgpLFxuICAgICAgICAgICAgICAgIHNoaXBwaW5nWmlwOiBzaGlwcGluZ0FkZHJlc3MucG9zdGFsQ29kZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldFBheW1lbnRGaWVsZHNUb2tlbigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gZ3VhcmQoXG4gICAgICAgICAgICB0aGlzLl9wYXltZW50RmllbGRzVG9rZW4sXG4gICAgICAgICAgICAoKSA9PiBuZXcgTWlzc2luZ0RhdGFFcnJvcihNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudFRva2VuKSxcbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuZXhwb3J0IGludGVyZmFjZSBQYXltZW50SW52YWxpZEZvcm1FcnJvckRldGFpbHMge1xuICAgIFtrZXk6IHN0cmluZ106IEFycmF5PHsgbWVzc2FnZTogc3RyaW5nOyB0eXBlOiBzdHJpbmcgfT47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRJbnZhbGlkRm9ybUVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IocHVibGljIGRldGFpbHM6IFBheW1lbnRJbnZhbGlkRm9ybUVycm9yRGV0YWlscywgbWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBwYXltZW50IGZvcm0gY29udGFpbnMgaW52YWxpZCBkYXRhLicpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50SW52YWxpZEZvcm1FcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdwYXltZW50X2ludmFsaWRfZm9ybSc7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSG9zdGVkRmllbGRUeXBlIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IEJsdWVTbmFwRGlyZWN0SG9zdGVkRmllbGRUYWdJZCBhcyBIb3N0ZWRGaWVsZFRhZ0lkIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBCbHVlU25hcEhvc3RlZEZpZWxkVHlwZToge1xuICAgIFtIb3N0ZWRGaWVsZFRhZ0lkLkNhcmROdW1iZXJdOiBIb3N0ZWRGaWVsZFR5cGUuQ2FyZE51bWJlcjtcbiAgICBbSG9zdGVkRmllbGRUYWdJZC5DYXJkRXhwaXJ5XTogSG9zdGVkRmllbGRUeXBlLkNhcmRFeHBpcnk7XG4gICAgW0hvc3RlZEZpZWxkVGFnSWQuQ2FyZE5hbWVdOiBIb3N0ZWRGaWVsZFR5cGUuQ2FyZE5hbWU7XG4gICAgW0hvc3RlZEZpZWxkVGFnSWQuQ2FyZENvZGVdOiBIb3N0ZWRGaWVsZFR5cGUuQ2FyZENvZGU7XG59ID0ge1xuICAgIFtIb3N0ZWRGaWVsZFRhZ0lkLkNhcmROdW1iZXJdOiBIb3N0ZWRGaWVsZFR5cGUuQ2FyZE51bWJlcixcbiAgICBbSG9zdGVkRmllbGRUYWdJZC5DYXJkRXhwaXJ5XTogSG9zdGVkRmllbGRUeXBlLkNhcmRFeHBpcnksXG4gICAgW0hvc3RlZEZpZWxkVGFnSWQuQ2FyZE5hbWVdOiBIb3N0ZWRGaWVsZFR5cGUuQ2FyZE5hbWUsXG4gICAgW0hvc3RlZEZpZWxkVGFnSWQuQ2FyZENvZGVdOiBIb3N0ZWRGaWVsZFR5cGUuQ2FyZENvZGUsXG59O1xuXG5leHBvcnQgY29uc3QgQ1JFRElUX0NBUkRfRVJST1JTID0ge1xuICAgIGVtcHR5OiB7XG4gICAgICAgIFtIb3N0ZWRGaWVsZFR5cGUuQ2FyZE51bWJlcl06IHtcbiAgICAgICAgICAgIGZpZWxkVHlwZTogJ2NhcmROdW1iZXInLFxuICAgICAgICAgICAgbWVzc2FnZTogJ0NyZWRpdCBjYXJkIG51bWJlciBpcyByZXF1aXJlZCcsXG4gICAgICAgICAgICB0eXBlOiAncmVxdWlyZWQnLFxuICAgICAgICB9LFxuICAgICAgICBbSG9zdGVkRmllbGRUeXBlLkNhcmROdW1iZXJWZXJpZmljYXRpb25dOiB7XG4gICAgICAgICAgICBmaWVsZFR5cGU6ICdjYXJkTnVtYmVyJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdDcmVkaXQgY2FyZCBudW1iZXIgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgdHlwZTogJ3JlcXVpcmVkJyxcbiAgICAgICAgfSxcbiAgICAgICAgW0hvc3RlZEZpZWxkVHlwZS5DYXJkRXhwaXJ5XToge1xuICAgICAgICAgICAgZmllbGRUeXBlOiAnY2FyZEV4cGlyeScsXG4gICAgICAgICAgICBtZXNzYWdlOiAnRXhwaXJhdGlvbiBkYXRlIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgICAgIHR5cGU6ICdyZXF1aXJlZCcsXG4gICAgICAgIH0sXG4gICAgICAgIFtIb3N0ZWRGaWVsZFR5cGUuQ2FyZENvZGVdOiB7XG4gICAgICAgICAgICBmaWVsZFR5cGU6ICdjYXJkQ29kZScsXG4gICAgICAgICAgICBtZXNzYWdlOiAnQ1ZWIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgICAgIHR5cGU6ICdyZXF1aXJlZCcsXG4gICAgICAgIH0sXG4gICAgICAgIFtIb3N0ZWRGaWVsZFR5cGUuQ2FyZE5hbWVdOiB7XG4gICAgICAgICAgICBmaWVsZFR5cGU6ICdjYXJkTmFtZScsXG4gICAgICAgICAgICBtZXNzYWdlOiAnRnVsbCBuYW1lIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgICAgIHR5cGU6ICdyZXF1aXJlZCcsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBpbnZhbGlkOiB7XG4gICAgICAgIFtIb3N0ZWRGaWVsZFR5cGUuQ2FyZE51bWJlcl06IHtcbiAgICAgICAgICAgIGZpZWxkVHlwZTogJ2NhcmROdW1iZXInLFxuICAgICAgICAgICAgbWVzc2FnZTogJ0NyZWRpdCBjYXJkIG51bWJlciBtdXN0IGJlIHZhbGlkJyxcbiAgICAgICAgICAgIHR5cGU6ICdpbnZhbGlkX2NhcmRfbnVtYmVyJyxcbiAgICAgICAgfSxcbiAgICAgICAgW0hvc3RlZEZpZWxkVHlwZS5DYXJkTnVtYmVyVmVyaWZpY2F0aW9uXToge1xuICAgICAgICAgICAgZmllbGRUeXBlOiAnY2FyZE51bWJlcicsXG4gICAgICAgICAgICBtZXNzYWdlOiAnQ3JlZGl0IGNhcmQgbnVtYmVyIG11c3QgYmUgdmFsaWQnLFxuICAgICAgICAgICAgdHlwZTogJ2ludmFsaWRfY2FyZF9udW1iZXInLFxuICAgICAgICB9LFxuICAgICAgICBbSG9zdGVkRmllbGRUeXBlLkNhcmRFeHBpcnldOiB7XG4gICAgICAgICAgICBmaWVsZFR5cGU6ICdjYXJkRXhwaXJ5JyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdFeHBpcmF0aW9uIGRhdGUgbXVzdCBiZSBhIHZhbGlkIGZ1dHVyZSBkYXRlIGluIE1NIC8gWVkgZm9ybWF0JyxcbiAgICAgICAgICAgIHR5cGU6ICdpbnZhbGlkX2NhcmRfZXhwaXJ5JyxcbiAgICAgICAgfSxcbiAgICAgICAgW0hvc3RlZEZpZWxkVHlwZS5DYXJkQ29kZV06IHtcbiAgICAgICAgICAgIGZpZWxkVHlwZTogJ2NhcmRDb2RlJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdDVlYgbXVzdCBiZSB2YWxpZCcsXG4gICAgICAgICAgICB0eXBlOiAnaW52YWxpZF9jYXJkX2NvZGUnLFxuICAgICAgICB9LFxuICAgICAgICBbSG9zdGVkRmllbGRUeXBlLkNhcmROYW1lXToge1xuICAgICAgICAgICAgZmllbGRUeXBlOiAnY2FyZE5hbWUnLFxuICAgICAgICAgICAgbWVzc2FnZTogJ0Z1bGwgbmFtZSBpcyByZXF1aXJlZCcsXG4gICAgICAgICAgICB0eXBlOiAncmVxdWlyZWQnLFxuICAgICAgICB9LFxuICAgIH0sXG59O1xuIiwiaW1wb3J0IHsga2ViYWJDYXNlIH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHsgQ3JlZGl0Q2FyZFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvY3JlZGl0LWNhcmQtaW50ZWdyYXRpb24nO1xuaW1wb3J0IHtcbiAgICBndWFyZCxcbiAgICBIb3N0ZWRDYXJkRmllbGRPcHRpb25zTWFwLFxuICAgIEhvc3RlZEZpZWxkQmx1ckV2ZW50RGF0YSxcbiAgICBIb3N0ZWRGaWVsZEVudGVyRXZlbnREYXRhLFxuICAgIEhvc3RlZEZpZWxkRm9jdXNFdmVudERhdGEsXG4gICAgSG9zdGVkRmllbGRPcHRpb25zTWFwLFxuICAgIEhvc3RlZEZpZWxkU3R5bGVzTWFwLFxuICAgIEhvc3RlZEZvcm1PcHRpb25zLFxuICAgIEhvc3RlZElucHV0VmFsaWRhdGVFcnJvckRhdGEsXG4gICAgSG9zdGVkU3RvcmVkQ2FyZEZpZWxkT3B0aW9uc01hcCxcbiAgICBJbnZhbGlkQXJndW1lbnRFcnJvcixcbiAgICBOb3RJbml0aWFsaXplZEVycm9yLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLFxuICAgIFBheW1lbnRJbnZhbGlkRm9ybUVycm9yLFxuICAgIFBheW1lbnRJbnZhbGlkRm9ybUVycm9yRGV0YWlscyxcbiAgICBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBCbHVlU25hcEhvc3RlZEZpZWxkVHlwZSB9IGZyb20gJy4uL2JsdWVzbmFwLWRpcmVjdC1jb25zdGFudHMnO1xuaW1wb3J0IHtcbiAgICBCbHVlU25hcERpcmVjdFNkayxcbiAgICBCbHVlU25hcERpcmVjdFN0eWxlLFxuICAgIEJsdWVTbmFwRGlyZWN0Q2FsbGJhY2tDYXJkRGF0YSBhcyBDYWxsYmFja0NhcmREYXRhLFxuICAgIEJsdWVTbmFwRGlyZWN0Q2FsbGJhY2tFcnJvciBhcyBDYWxsYmFja0Vycm9yLFxuICAgIEJsdWVTbmFwRGlyZWN0Q2FsbGJhY2tSZXN1bHRzIGFzIENhbGxiYWNrUmVzdWx0cyxcbiAgICBXaXRoQmx1ZVNuYXBEaXJlY3RDYXJkSG9sZGVyTmFtZSBhcyBDYXJkSG9sZGVyTmFtZSxcbiAgICBCbHVlU25hcERpcmVjdENhcmRUeXBlIGFzIENhcmRUeXBlLFxuICAgIEJsdWVTbmFwRGlyZWN0Q2FyZFR5cGVWYWx1ZXMgYXMgQ2FyZFR5cGVWYWx1ZXMsXG4gICAgQmx1ZVNuYXBEaXJlY3RFcnJvckNvZGUgYXMgRXJyb3JDb2RlLFxuICAgIEJsdWVTbmFwRGlyZWN0RXJyb3JEZXNjcmlwdGlvbiBhcyBFcnJvckRlc2NyaXB0aW9uLFxuICAgIEJsdWVTbmFwRGlyZWN0RXZlbnRPcmlnaW4gYXMgRXZlbnRPcmlnaW4sXG4gICAgQmx1ZVNuYXBEaXJlY3RIb3N0ZWRGaWVsZFRhZ0lkIGFzIEhvc3RlZEZpZWxkVGFnSWQsXG4gICAgQmx1ZVNuYXBEaXJlY3RIb3N0ZWRQYXltZW50RmllbGRzT3B0aW9ucyBhcyBIb3N0ZWRQYXltZW50RmllbGRzT3B0aW9ucyxcbiAgICBCbHVlU25hcERpcmVjdFRocmVlRFNlY3VyZURhdGEgYXMgVGhyZWVEU2VjdXJlRGF0YSxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IGlzVmFsaWRhdGlvbkVycm9yRGVzY3JpcHRpb24gZnJvbSAnLi4vdXRpbHMvaXMtYmx1ZXNuYXAtZGlyZWN0LWlucHV0LXZhbGlkYXRpb24tZXJyb3ItZGVzY3JpcHRpb24nO1xuaW1wb3J0IGlzSG9zdGVkQ2FyZEZpZWxkT3B0aW9uc01hcCBmcm9tICcuLi91dGlscy9pcy1ob3N0ZWQtY2FyZC1maWVsZC1vcHRpb25zLW1hcCc7XG5pbXBvcnQgaXNIb3N0ZWRTdG9yZWRDYXJkRmllbGRPcHRpb25zTWFwIGZyb20gJy4uL3V0aWxzL2lzLWhvc3RlZC1zdG9yZWQtY2FyZC1maWVsZC1vcHRpb25zLW1hcCc7XG5cbmltcG9ydCBCbHVlU25hcEhvc3RlZElucHV0VmFsaWRhdG9yIGZyb20gJy4vYmx1ZXNuYXAtZGlyZWN0LWhvc3RlZC1pbnB1dC12YWxpZGF0b3InO1xuaW1wb3J0IEJsdWVzbmFwRGlyZWN0TmFtZU9uQ2FyZElucHV0IGZyb20gJy4vYmx1ZXNuYXAtZGlyZWN0LW5hbWUtb24tY2FyZC1pbnB1dCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJsdWVTbmFwRGlyZWN0SG9zdGVkRm9ybSB7XG4gICAgcHJpdmF0ZSBfYmx1ZVNuYXBTZGs/OiBCbHVlU25hcERpcmVjdFNkaztcbiAgICBwcml2YXRlIF9vblZhbGlkYXRlOiBIb3N0ZWRGb3JtT3B0aW9uc1snb25WYWxpZGF0ZSddO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgX25hbWVPbkNhcmRJbnB1dDogQmx1ZXNuYXBEaXJlY3ROYW1lT25DYXJkSW5wdXQsXG4gICAgICAgIHByaXZhdGUgX2hvc3RlZElucHV0VmFsaWRhdG9yOiBCbHVlU25hcEhvc3RlZElucHV0VmFsaWRhdG9yLFxuICAgICkge31cblxuICAgIGluaXRpYWxpemUoYmx1ZVNuYXBTZGs6IEJsdWVTbmFwRGlyZWN0U2RrLCBmaWVsZHM/OiBIb3N0ZWRGaWVsZE9wdGlvbnNNYXApIHtcbiAgICAgICAgdGhpcy5fYmx1ZVNuYXBTZGsgPSBibHVlU25hcFNkaztcblxuICAgICAgICBpZiAoIWZpZWxkcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzSG9zdGVkQ2FyZEZpZWxkT3B0aW9uc01hcChmaWVsZHMpKSB7XG4gICAgICAgICAgICB0aGlzLl9ob3N0ZWRJbnB1dFZhbGlkYXRvci5pbml0aWFsaXplKCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0hvc3RlZFN0b3JlZENhcmRGaWVsZE9wdGlvbnNNYXAoZmllbGRzKSAmJiAhIWZpZWxkcy5jYXJkTnVtYmVyVmVyaWZpY2F0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9ob3N0ZWRJbnB1dFZhbGlkYXRvci5pbml0aWFsaXplVmFsaWRhdGlvbkZpZWxkcygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgYXR0YWNoKFxuICAgICAgICBwYXltZW50RmllbGRzVG9rZW46IHN0cmluZyxcbiAgICAgICAgeyBmb3JtOiB7IGZpZWxkcywgLi4uY2FsbGJhY2tzQW5kU3R5bGVzIH0gfTogQ3JlZGl0Q2FyZFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICAgICAgZW5hYmxlM0RTID0gZmFsc2UsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGJsdWVTbmFwU2RrID0gdGhpcy5fZ2V0Qmx1ZVNuYXBTZGsoKTtcblxuICAgICAgICBpZiAoIWlzSG9zdGVkQ2FyZEZpZWxkT3B0aW9uc01hcChmaWVsZHMpICYmICFpc0hvc3RlZFN0b3JlZENhcmRGaWVsZE9wdGlvbnNNYXAoZmllbGRzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdGaWVsZCBvcHRpb25zIG11c3QgYmUgb2YgdHlwZSBIb3N0ZWRDYXJkRmllbGRPcHRpb25zTWFwJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9vblZhbGlkYXRlID0gY2FsbGJhY2tzQW5kU3R5bGVzLm9uVmFsaWRhdGU7XG5cbiAgICAgICAgaWYgKGlzSG9zdGVkQ2FyZEZpZWxkT3B0aW9uc01hcChmaWVsZHMpKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRDdXN0b21CbHVlU25hcEF0dHJpYnV0ZXMoZmllbGRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0hvc3RlZFN0b3JlZENhcmRGaWVsZE9wdGlvbnNNYXAoZmllbGRzKSkge1xuICAgICAgICAgICAgdGhpcy5fc2V0Q3VzdG9tU3RvcmVkQ2FyZHNCbHVlU25hcEF0dHJpYnV0ZXMoZmllbGRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuX2dldEhvc3RlZFBheW1lbnRGaWVsZHNPcHRpb25zKFxuICAgICAgICAgICAgICAgIHBheW1lbnRGaWVsZHNUb2tlbixcbiAgICAgICAgICAgICAgICBmaWVsZHMsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzQW5kU3R5bGVzLFxuICAgICAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICAgICAgZW5hYmxlM0RTLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgYmx1ZVNuYXBTZGsuaG9zdGVkUGF5bWVudEZpZWxkc0NyZWF0ZShvcHRpb25zKTtcblxuICAgICAgICAgICAgaWYgKGlzSG9zdGVkQ2FyZEZpZWxkT3B0aW9uc01hcChmaWVsZHMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmFtZU9uQ2FyZElucHV0LmF0dGFjaChcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgZmllbGRzLmNhcmROYW1lLmFjY2Vzc2liaWxpdHlMYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgZmllbGRzLmNhcmROYW1lLnBsYWNlaG9sZGVyLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhbGlkYXRlKCk6IHRoaXMge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gdGhpcy5faG9zdGVkSW5wdXRWYWxpZGF0b3IudmFsaWRhdGUoKTtcblxuICAgICAgICB0aGlzLl9vblZhbGlkYXRlPy4ocmVzdWx0cyk7XG5cbiAgICAgICAgaWYgKCFyZXN1bHRzLmlzVmFsaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRldGFpbHMgPSBPYmplY3QuZW50cmllcyhyZXN1bHRzLmVycm9ycykucmVkdWNlPFBheW1lbnRJbnZhbGlkRm9ybUVycm9yRGV0YWlscz4oXG4gICAgICAgICAgICAgICAgKHJlc3VsdCwgW2tleSwgdmFsdWVdOiBbc3RyaW5nLCBIb3N0ZWRJbnB1dFZhbGlkYXRlRXJyb3JEYXRhW11dKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgIFtrZXldOiB2YWx1ZS5tYXAoKHsgbWVzc2FnZSwgdHlwZSB9KSA9PiAoeyBtZXNzYWdlLCB0eXBlIH0pKSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB7fSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50SW52YWxpZEZvcm1FcnJvcihkZXRhaWxzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN1Ym1pdChcbiAgICAgICAgdGhyZWVEU2VjdXJlRGF0YT86IFRocmVlRFNlY3VyZURhdGEsXG4gICAgICAgIHNob3VsZFNlbmROYW1lID0gZmFsc2UsXG4gICAgKTogUHJvbWlzZTxDYWxsYmFja0NhcmREYXRhICYgQ2FyZEhvbGRlck5hbWU+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG4gICAgICAgICAgICB0aGlzLl9nZXRCbHVlU25hcFNkaygpLmhvc3RlZFBheW1lbnRGaWVsZHNTdWJtaXREYXRhKFxuICAgICAgICAgICAgICAgIChkYXRhOiBDYWxsYmFja1Jlc3VsdHMpID0+XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQmx1ZVNuYXBEaXJlY3RDYWxsYmFja0Vycm9yKGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlamVjdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQYXltZW50TWV0aG9kRmFpbGVkRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5zdGF0dXNDb2RlID09PSBFcnJvckNvZGUuVEhSRUVfRFNfQVVUSF9GQUlMRURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBkYXRhLmVycm9yWzBdLmVycm9yRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBgU3VibWlzc2lvbiBmYWlsZWQgd2l0aCBzdGF0dXM6ICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuc3RhdHVzQ29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gYW5kIGVycm9yczogJHtKU09OLnN0cmluZ2lmeShkYXRhLmVycm9yKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRhdGEuY2FyZERhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4oc2hvdWxkU2VuZE5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHsgY2FyZEhvbGRlck5hbWU6IHRoaXMuX25hbWVPbkNhcmRJbnB1dC5nZXRWYWx1ZSgpIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdGhyZWVEU2VjdXJlRGF0YSxcbiAgICAgICAgICAgICksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZGV0YWNoKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9uYW1lT25DYXJkSW5wdXQuZGV0YWNoKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfaXNCbHVlU25hcERpcmVjdENhbGxiYWNrRXJyb3IoZGF0YTogQ2FsbGJhY2tSZXN1bHRzKTogZGF0YSBpcyBDYWxsYmFja0Vycm9yIHtcbiAgICAgICAgcmV0dXJuICdlcnJvcicgaW4gZGF0YTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRIb3N0ZWRQYXltZW50RmllbGRzT3B0aW9ucyhcbiAgICAgICAgdG9rZW46IHN0cmluZyxcbiAgICAgICAgZmllbGRzOiBIb3N0ZWRDYXJkRmllbGRPcHRpb25zTWFwIHwgSG9zdGVkU3RvcmVkQ2FyZEZpZWxkT3B0aW9uc01hcCxcbiAgICAgICAge1xuICAgICAgICAgICAgb25Gb2N1cyxcbiAgICAgICAgICAgIG9uQmx1cixcbiAgICAgICAgICAgIG9uVmFsaWRhdGUsXG4gICAgICAgICAgICBvbkNhcmRUeXBlQ2hhbmdlLFxuICAgICAgICAgICAgb25FbnRlcixcbiAgICAgICAgICAgIHN0eWxlcyxcbiAgICAgICAgfTogT21pdDxIb3N0ZWRGb3JtT3B0aW9ucywgJ2ZpZWxkcyc+LFxuICAgICAgICByZXNvbHZlOiAoKSA9PiB2b2lkLFxuICAgICAgICBlbmFibGUzRFM6IGJvb2xlYW4sXG4gICAgKTogSG9zdGVkUGF5bWVudEZpZWxkc09wdGlvbnMge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICBvbkZpZWxkRXZlbnRIYW5kbGVyOiB7XG4gICAgICAgICAgICAgICAgc2V0dXBDb21wbGV0ZTogKCkgPT4gcmVzb2x2ZSgpLFxuICAgICAgICAgICAgICAgIG9uRm9jdXM6IHRoaXMuX3VzZXRVaUV2ZW50Q2FsbGJhY2sob25Gb2N1cyksXG4gICAgICAgICAgICAgICAgb25CbHVyOiB0aGlzLl91c2V0VWlFdmVudENhbGxiYWNrKG9uQmx1ciksXG4gICAgICAgICAgICAgICAgb25FcnJvcjogdGhpcy5faGFuZGxlRXJyb3Iob25WYWxpZGF0ZSksXG4gICAgICAgICAgICAgICAgb25UeXBlOiAoX3RhZ0lkOiBIb3N0ZWRGaWVsZFRhZ0lkLCBjYXJkVHlwZTogQ2FyZFR5cGVWYWx1ZXMpID0+XG4gICAgICAgICAgICAgICAgICAgIG9uQ2FyZFR5cGVDaGFuZ2U/Lih7IGNhcmRUeXBlOiBDYXJkVHlwZVtjYXJkVHlwZV0gfSksXG4gICAgICAgICAgICAgICAgb25FbnRlcjogdGhpcy5fdXNldFVpRXZlbnRDYWxsYmFjayhvbkVudGVyKSxcbiAgICAgICAgICAgICAgICBvblZhbGlkOiAodGFnSWQ6IEhvc3RlZEZpZWxkVGFnSWQpID0+XG4gICAgICAgICAgICAgICAgICAgIG9uVmFsaWRhdGU/Lih0aGlzLl9ob3N0ZWRJbnB1dFZhbGlkYXRvci52YWxpZGF0ZSh7IHRhZ0lkIH0pKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAuLi4oaXNIb3N0ZWRDYXJkRmllbGRPcHRpb25zTWFwKGZpZWxkcykgJiYge1xuICAgICAgICAgICAgICAgIGNjblBsYWNlSG9sZGVyOiBmaWVsZHMuY2FyZE51bWJlci5wbGFjZWhvbGRlciB8fCAnJyxcbiAgICAgICAgICAgICAgICBjdnZQbGFjZUhvbGRlcjogZmllbGRzLmNhcmRDb2RlPy5wbGFjZWhvbGRlciB8fCAnJyxcbiAgICAgICAgICAgICAgICBleHBQbGFjZUhvbGRlcjogZmllbGRzLmNhcmRFeHBpcnkucGxhY2Vob2xkZXIgfHwgJ01NIC8gWVknLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAuLi4oc3R5bGVzICYmIHsgc3R5bGU6IHRoaXMuX21hcFN0eWxlcyhzdHlsZXMpIH0pLFxuICAgICAgICAgICAgJzNEUyc6IGVuYWJsZTNEUyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9tYXBTdHlsZXMoe1xuICAgICAgICBkZWZhdWx0OiBpbnB1dCxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIGZvY3VzLFxuICAgIH06IEhvc3RlZEZpZWxkU3R5bGVzTWFwKTogQmx1ZVNuYXBEaXJlY3RTdHlsZSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZW50cmllcyh7XG4gICAgICAgICAgICAuLi4oaW5wdXQgJiYgeyBpbnB1dCB9KSxcbiAgICAgICAgICAgIC4uLihlcnJvciAmJiB7ICcuaW52YWxpZCc6IGVycm9yIH0pLFxuICAgICAgICAgICAgLi4uKGZvY3VzICYmIHsgJzpmb2N1cyc6IGZvY3VzIH0pLFxuICAgICAgICB9KS5yZWR1Y2UoKHJlc3VsdCwgW3NlbGVjdG9yLCBkZWNsYXJhdGlvbl0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICAgICAgICAgIFtzZWxlY3Rvcl06IE9iamVjdC5lbnRyaWVzKGRlY2xhcmF0aW9uKS5yZWR1Y2UoXG4gICAgICAgICAgICAgICAgICAgIChkZWNsYXJhdGlvbkJsb2NrLCBbcHJvcGVydHksIHZhbHVlXSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRlY2xhcmF0aW9uQmxvY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICBba2ViYWJDYXNlKHByb3BlcnR5KV06IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAge30sXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sIHt9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9oYW5kbGVFcnJvcihcbiAgICAgICAgb25WYWxpZGF0ZTogSG9zdGVkRm9ybU9wdGlvbnNbJ29uVmFsaWRhdGUnXSxcbiAgICApOiAoXG4gICAgICAgIHRhZ0lkOiBIb3N0ZWRGaWVsZFRhZ0lkIHwgdW5kZWZpbmVkLFxuICAgICAgICBlcnJvckNvZGU6IEVycm9yQ29kZSxcbiAgICAgICAgZXJyb3JEZXNjcmlwdGlvbjogRXJyb3JEZXNjcmlwdGlvbiB8IHVuZGVmaW5lZCxcbiAgICAgICAgZXZlbnRPcmlnaW46IEV2ZW50T3JpZ2luIHwgdW5kZWZpbmVkLFxuICAgICkgPT4gdm9pZCB7XG4gICAgICAgIHJldHVybiAodGFnSWQsIGVycm9yQ29kZSwgZXJyb3JEZXNjcmlwdGlvbiwgZXZlbnRPcmlnaW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnJvckNvZGUgPT09IEVycm9yQ29kZS5JTlZBTElEX09SX0VNUFRZKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhZ0lkICYmIGlzVmFsaWRhdGlvbkVycm9yRGVzY3JpcHRpb24oZXJyb3JEZXNjcmlwdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uVmFsaWRhdGU/LihcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hvc3RlZElucHV0VmFsaWRhdG9yLnZhbGlkYXRlKHsgdGFnSWQsIGVycm9yRGVzY3JpcHRpb24gfSksXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZEZhaWxlZEVycm9yKFxuICAgICAgICAgICAgICAgIGBBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZDogJHtKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIHRhZ0lkLFxuICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yRGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50T3JpZ2luLFxuICAgICAgICAgICAgICAgIH0pfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX3VzZXRVaUV2ZW50Q2FsbGJhY2soXG4gICAgICAgIGNhbGxiYWNrPzogKFxuICAgICAgICAgICAgZGF0YTogSG9zdGVkRmllbGRCbHVyRXZlbnREYXRhIHwgSG9zdGVkRmllbGRFbnRlckV2ZW50RGF0YSB8IEhvc3RlZEZpZWxkRm9jdXNFdmVudERhdGEsXG4gICAgICAgICkgPT4gdm9pZCxcbiAgICApOiAodGFnSWQ6IEhvc3RlZEZpZWxkVGFnSWQpID0+IHZvaWQge1xuICAgICAgICByZXR1cm4gKHRhZ0lkKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh7IGZpZWxkVHlwZTogQmx1ZVNuYXBIb3N0ZWRGaWVsZFR5cGVbdGFnSWRdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldEJsdWVTbmFwU2RrKCk6IEJsdWVTbmFwRGlyZWN0U2RrIHtcbiAgICAgICAgcmV0dXJuIGd1YXJkKFxuICAgICAgICAgICAgdGhpcy5fYmx1ZVNuYXBTZGssXG4gICAgICAgICAgICAoKSA9PiBuZXcgTm90SW5pdGlhbGl6ZWRFcnJvcihOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQpLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3NldEN1c3RvbUJsdWVTbmFwQXR0cmlidXRlcyhmaWVsZHM6IEhvc3RlZENhcmRGaWVsZE9wdGlvbnNNYXApOiB2b2lkIHtcbiAgICAgICAgY29uc3QgeyBjYXJkTnVtYmVyLCBjYXJkRXhwaXJ5LCBjYXJkQ29kZSwgY2FyZE5hbWUgfSA9IGZpZWxkcztcblxuICAgICAgICBjb25zdCBjYXJkTnVtYmVyQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FyZE51bWJlci5jb250YWluZXJJZCk7XG4gICAgICAgIGNvbnN0IGNhcmRFeHBpcnlDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYXJkRXhwaXJ5LmNvbnRhaW5lcklkKTtcbiAgICAgICAgY29uc3QgY2FyZENvZGVDb250YWluZXIgPSBjYXJkQ29kZSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYXJkQ29kZS5jb250YWluZXJJZCk7XG4gICAgICAgIGNvbnN0IGNhcmROYW1lQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FyZE5hbWUuY29udGFpbmVySWQpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFjYXJkTnVtYmVyQ29udGFpbmVyIHx8XG4gICAgICAgICAgICAhY2FyZEV4cGlyeUNvbnRhaW5lciB8fFxuICAgICAgICAgICAgIWNhcmRDb2RlQ29udGFpbmVyIHx8XG4gICAgICAgICAgICAhY2FyZE5hbWVDb250YWluZXJcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBjcmVhdGUgaG9zdGVkIHBheW1lbnQgZmllbGRzIHRvIGludmFsaWQgSFRNTCBjb250YWluZXIgZWxlbWVudHMuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjYXJkTnVtYmVyQ29udGFpbmVyLmRhdGFzZXQuYmx1ZXNuYXAgPSBIb3N0ZWRGaWVsZFRhZ0lkLkNhcmROdW1iZXI7XG4gICAgICAgIGNhcmRFeHBpcnlDb250YWluZXIuZGF0YXNldC5ibHVlc25hcCA9IEhvc3RlZEZpZWxkVGFnSWQuQ2FyZEV4cGlyeTtcbiAgICAgICAgY2FyZENvZGVDb250YWluZXIuZGF0YXNldC5ibHVlc25hcCA9IEhvc3RlZEZpZWxkVGFnSWQuQ2FyZENvZGU7XG4gICAgICAgIGNhcmROYW1lQ29udGFpbmVyLmRhdGFzZXQuYmx1ZXNuYXAgPSBIb3N0ZWRGaWVsZFRhZ0lkLkNhcmROYW1lO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3NldEN1c3RvbVN0b3JlZENhcmRzQmx1ZVNuYXBBdHRyaWJ1dGVzKGZpZWxkczogSG9zdGVkU3RvcmVkQ2FyZEZpZWxkT3B0aW9uc01hcCk6IHZvaWQge1xuICAgICAgICBjb25zdCB7IGNhcmROdW1iZXJWZXJpZmljYXRpb24sIGNhcmRDb2RlVmVyaWZpY2F0aW9uIH0gPSBmaWVsZHM7XG5cbiAgICAgICAgY29uc3QgY2FyZE51bWJlckNvbnRhaW5lciA9XG4gICAgICAgICAgICBjYXJkTnVtYmVyVmVyaWZpY2F0aW9uICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhcmROdW1iZXJWZXJpZmljYXRpb24uY29udGFpbmVySWQpO1xuICAgICAgICBjb25zdCBjYXJkQ29kZUNvbnRhaW5lciA9XG4gICAgICAgICAgICBjYXJkQ29kZVZlcmlmaWNhdGlvbiAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYXJkQ29kZVZlcmlmaWNhdGlvbi5jb250YWluZXJJZCk7XG5cbiAgICAgICAgaWYgKCFjYXJkTnVtYmVyQ29udGFpbmVyICYmICFjYXJkQ29kZUNvbnRhaW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhcmROdW1iZXJDb250YWluZXIpIHtcbiAgICAgICAgICAgIGNhcmROdW1iZXJDb250YWluZXIuZGF0YXNldC5ibHVlc25hcCA9IEhvc3RlZEZpZWxkVGFnSWQuQ2FyZE51bWJlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjYXJkQ29kZUNvbnRhaW5lcikge1xuICAgICAgICAgICAgY2FyZENvZGVDb250YWluZXIuZGF0YXNldC5ibHVlc25hcCA9IEhvc3RlZEZpZWxkVGFnSWQuQ2FyZENvZGU7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge1xuICAgIEJsdWVTbmFwRGlyZWN0RXJyb3JEZXNjcmlwdGlvbixcbiAgICBCbHVlU25hcERpcmVjdElucHV0VmFsaWRhdGlvbkVycm9yRGVzY3JpcHRpb24sXG59IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNCbHVlU25hcERpcmVjdElucHV0VmFsaWRhdGlvbkVycm9yRGVzY3JpcHRpb24oXG4gICAgZXJyb3JEZXNjcmlwdGlvbj86IEJsdWVTbmFwRGlyZWN0RXJyb3JEZXNjcmlwdGlvbixcbik6IGVycm9yRGVzY3JpcHRpb24gaXMgQmx1ZVNuYXBEaXJlY3RJbnB1dFZhbGlkYXRpb25FcnJvckRlc2NyaXB0aW9uIHtcbiAgICBpZiAoZXJyb3JEZXNjcmlwdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gW0JsdWVTbmFwRGlyZWN0RXJyb3JEZXNjcmlwdGlvbi5FTVBUWSwgQmx1ZVNuYXBEaXJlY3RFcnJvckRlc2NyaXB0aW9uLklOVkFMSURdLmluY2x1ZGVzKFxuICAgICAgICBlcnJvckRlc2NyaXB0aW9uLFxuICAgICk7XG59XG4iLCJpbXBvcnQge1xuICAgIEhvc3RlZEZpZWxkVHlwZSxcbiAgICBIb3N0ZWRJbnB1dFZhbGlkYXRlRXJyb3JEYXRhLFxuICAgIEhvc3RlZElucHV0VmFsaWRhdGVFcnJvckRhdGFNYXAsXG4gICAgSG9zdGVkSW5wdXRWYWxpZGF0ZVJlc3VsdHMsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBCbHVlU25hcEhvc3RlZEZpZWxkVHlwZSwgQ1JFRElUX0NBUkRfRVJST1JTIH0gZnJvbSAnLi4vYmx1ZXNuYXAtZGlyZWN0LWNvbnN0YW50cyc7XG5pbXBvcnQge1xuICAgIEJsdWVTbmFwRGlyZWN0SW5wdXRWYWxpZGF0aW9uRXJyb3JEZXNjcmlwdGlvbiBhcyBFcnJvckRlc2NyaXB0aW9uLFxuICAgIEJsdWVTbmFwRGlyZWN0SG9zdGVkRmllbGRUYWdJZCBhcyBIb3N0ZWRGaWVsZFRhZ0lkLFxufSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJsdWVTbmFwSG9zdGVkSW5wdXRWYWxpZGF0b3Ige1xuICAgIHByaXZhdGUgX2Vycm9yczogSG9zdGVkSW5wdXRWYWxpZGF0ZUVycm9yRGF0YU1hcCA9IHt9O1xuXG4gICAgaW5pdGlhbGl6ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fZXJyb3JzID0ge1xuICAgICAgICAgICAgY2FyZE51bWJlcjogW0NSRURJVF9DQVJEX0VSUk9SUy5lbXB0eS5jYXJkTnVtYmVyXSxcbiAgICAgICAgICAgIGNhcmRFeHBpcnk6IFtDUkVESVRfQ0FSRF9FUlJPUlMuZW1wdHkuY2FyZEV4cGlyeV0sXG4gICAgICAgICAgICBjYXJkQ29kZTogW0NSRURJVF9DQVJEX0VSUk9SUy5lbXB0eS5jYXJkQ29kZV0sXG4gICAgICAgICAgICBjYXJkTmFtZTogW0NSRURJVF9DQVJEX0VSUk9SUy5lbXB0eS5jYXJkTmFtZV0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZVZhbGlkYXRpb25GaWVsZHMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2Vycm9ycyA9IHtcbiAgICAgICAgICAgIGNhcmROdW1iZXJWZXJpZmljYXRpb246IFtDUkVESVRfQ0FSRF9FUlJPUlMuZW1wdHkuY2FyZE51bWJlcl0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFsaWRhdGUoZXJyb3I/OiB7XG4gICAgICAgIHRhZ0lkOiBIb3N0ZWRGaWVsZFRhZ0lkO1xuICAgICAgICBlcnJvckRlc2NyaXB0aW9uPzogRXJyb3JEZXNjcmlwdGlvbjtcbiAgICB9KTogSG9zdGVkSW5wdXRWYWxpZGF0ZVJlc3VsdHMge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUVycm9ycyhlcnJvci50YWdJZCwgZXJyb3IuZXJyb3JEZXNjcmlwdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNWYWxpZDogT2JqZWN0LnZhbHVlcyh0aGlzLl9lcnJvcnMpLmV2ZXJ5KFxuICAgICAgICAgICAgICAgIChlcnJvckRhdGE6IEhvc3RlZElucHV0VmFsaWRhdGVFcnJvckRhdGFbXSkgPT4gZXJyb3JEYXRhLmxlbmd0aCA9PT0gMCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBlcnJvcnM6IHRoaXMuX2Vycm9ycyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF91cGRhdGVFcnJvcnModGFnSWQ6IEhvc3RlZEZpZWxkVGFnSWQsIGVycm9yRGVzY3JpcHRpb24/OiBFcnJvckRlc2NyaXB0aW9uKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGZpZWxkVHlwZSA9IHRoaXMuX2Vycm9ycy5jYXJkTnVtYmVyVmVyaWZpY2F0aW9uXG4gICAgICAgICAgICA/IEhvc3RlZEZpZWxkVHlwZS5DYXJkTnVtYmVyVmVyaWZpY2F0aW9uXG4gICAgICAgICAgICA6IEJsdWVTbmFwSG9zdGVkRmllbGRUeXBlW3RhZ0lkXTtcblxuICAgICAgICB0aGlzLl9lcnJvcnNbZmllbGRUeXBlXSA9IGVycm9yRGVzY3JpcHRpb25cbiAgICAgICAgICAgID8gW0NSRURJVF9DQVJEX0VSUk9SU1tlcnJvckRlc2NyaXB0aW9uXVtmaWVsZFR5cGVdXVxuICAgICAgICAgICAgOiBbXTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1xuICAgIGd1YXJkLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQge1xuICAgIEJsdWVzbmFwRGlyZWN0Tm9jSW5wdXRBbGxvd2VkU3R5bGUgYXMgQWxsb3dlZFN0eWxlLFxuICAgIEJsdWVTbmFwRGlyZWN0U3R5bGUsXG4gICAgQmx1ZVNuYXBEaXJlY3RFcnJvckNvZGUgYXMgRXJyb3JDb2RlLFxuICAgIEJsdWVTbmFwRGlyZWN0RXJyb3JEZXNjcmlwdGlvbiBhcyBFcnJvckRlc2NyaXB0aW9uLFxuICAgIEJsdWVTbmFwRGlyZWN0RXZlbnRPcmlnaW4gYXMgRXZlbnRPcmlnaW4sXG4gICAgQmx1ZVNuYXBEaXJlY3RIb3N0ZWRGaWVsZFRhZ0lkIGFzIEhvc3RlZEZpZWxkVGFnSWQsXG4gICAgQmx1ZVNuYXBEaXJlY3RIb3N0ZWRQYXltZW50RmllbGRzT3B0aW9ucyBhcyBIb3N0ZWRQYXltZW50RmllbGRzT3B0aW9ucyxcbiAgICBCbHVlU25hcERpcmVjdFN0eWxlRGVjbGFyYXRpb24gYXMgU3R5bGVEZWNsYXJhdGlvbixcbn0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IGlzQXJyYXlPZkFsbG93ZWRQcm9wcyBmcm9tICcuLi91dGlscy9pcy1hcnJheS1vZi1hbGxvd2VkLXByb3BzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmx1ZXNuYXBEaXJlY3ROYW1lT25DYXJkSW5wdXQge1xuICAgIHByaXZhdGUgX2lucHV0PzogSFRNTElucHV0RWxlbWVudDtcbiAgICBwcml2YXRlIF9zdHlsZT86IEJsdWVTbmFwRGlyZWN0U3R5bGU7XG5cbiAgICBhdHRhY2goXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0eWxlLFxuICAgICAgICAgICAgb25GaWVsZEV2ZW50SGFuZGxlcjogeyBvbkZvY3VzLCBvbkJsdXIsIG9uVmFsaWQsIG9uRXJyb3IsIG9uRW50ZXIgfSA9IHt9LFxuICAgICAgICB9OiBIb3N0ZWRQYXltZW50RmllbGRzT3B0aW9ucyxcbiAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPzogc3RyaW5nLFxuICAgICAgICBwbGFjZWhvbGRlcj86IHN0cmluZyxcbiAgICApOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc3R5bGUgPSBzdHlsZTtcblxuICAgICAgICB0aGlzLl9jcmVhdGUoKTtcblxuICAgICAgICB0aGlzLl9nZXRJbnB1dCgpLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlRm9jdXMob25Gb2N1cykpO1xuICAgICAgICB0aGlzLl9nZXRJbnB1dCgpLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9oYW5kbGVCbHVyKG9uQmx1ciwgb25WYWxpZCwgb25FcnJvcikpO1xuICAgICAgICB0aGlzLl9nZXRJbnB1dCgpLmFkZEV2ZW50TGlzdGVuZXIoJ2VudGVyJywgdGhpcy5faGFuZGxlRW50ZXIob25FbnRlcikpO1xuXG4gICAgICAgIGlmIChhY2Nlc3NpYmlsaXR5TGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2dldElucHV0KCkuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYWNjZXNzaWJpbGl0eUxhYmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgdGhpcy5fZ2V0SW5wdXQoKS5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmx1ZXNuYXA9XCJub2NcIl0nKT8uYXBwZW5kQ2hpbGQodGhpcy5fZ2V0SW5wdXQoKSk7XG4gICAgfVxuXG4gICAgZ2V0VmFsdWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldElucHV0KCkudmFsdWU7XG4gICAgfVxuXG4gICAgZGV0YWNoKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5faW5wdXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5faW5wdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9oYW5kbGVGb2N1cyhcbiAgICAgICAgb25Gb2N1czogUmVxdWlyZWQ8SG9zdGVkUGF5bWVudEZpZWxkc09wdGlvbnM+WydvbkZpZWxkRXZlbnRIYW5kbGVyJ11bJ29uRm9jdXMnXSxcbiAgICApOiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkIHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2FwcGx5U3R5bGVzKHRoaXMuX3N0eWxlPy5bJzpmb2N1cyddKTtcblxuICAgICAgICAgICAgb25Gb2N1cz8uKEhvc3RlZEZpZWxkVGFnSWQuQ2FyZE5hbWUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX2hhbmRsZUJsdXIoXG4gICAgICAgIG9uQmx1cjogUmVxdWlyZWQ8SG9zdGVkUGF5bWVudEZpZWxkc09wdGlvbnM+WydvbkZpZWxkRXZlbnRIYW5kbGVyJ11bJ29uQmx1ciddLFxuICAgICAgICBvblZhbGlkOiBSZXF1aXJlZDxIb3N0ZWRQYXltZW50RmllbGRzT3B0aW9ucz5bJ29uRmllbGRFdmVudEhhbmRsZXInXVsnb25WYWxpZCddLFxuICAgICAgICBvbkVycm9yOiBSZXF1aXJlZDxIb3N0ZWRQYXltZW50RmllbGRzT3B0aW9ucz5bJ29uRmllbGRFdmVudEhhbmRsZXInXVsnb25FcnJvciddLFxuICAgICk6IChldmVudDogRXZlbnQpID0+IHZvaWQge1xuICAgICAgICByZXR1cm4gKHsgdGFyZ2V0IH0pID0+IHtcbiAgICAgICAgICAgIG9uQmx1cj8uKEhvc3RlZEZpZWxkVGFnSWQuQ2FyZE5hbWUpO1xuXG4gICAgICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGlmICgvXFx3ezEsMjAwfS8udGVzdCh0YXJnZXQudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FwcGx5U3R5bGVzKHRoaXMuX3N0eWxlPy5pbnB1dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgb25WYWxpZD8uKEhvc3RlZEZpZWxkVGFnSWQuQ2FyZE5hbWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FwcGx5U3R5bGVzKHRoaXMuX3N0eWxlPy5bJy5pbnZhbGlkJ10pO1xuXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3I/LihcbiAgICAgICAgICAgICAgICAgICAgICAgIEhvc3RlZEZpZWxkVGFnSWQuQ2FyZE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBFcnJvckNvZGUuSU5WQUxJRF9PUl9FTVBUWSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEVycm9yRGVzY3JpcHRpb24uRU1QVFksXG4gICAgICAgICAgICAgICAgICAgICAgICBFdmVudE9yaWdpbi5PTl9CTFVSLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9oYW5kbGVFbnRlcihcbiAgICAgICAgb25FbnRlcjogUmVxdWlyZWQ8SG9zdGVkUGF5bWVudEZpZWxkc09wdGlvbnM+WydvbkZpZWxkRXZlbnRIYW5kbGVyJ11bJ29uRW50ZXInXSxcbiAgICApOiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkIHtcbiAgICAgICAgcmV0dXJuICgpID0+IG9uRW50ZXI/LihIb3N0ZWRGaWVsZFRhZ0lkLkNhcmROYW1lKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9hcHBseVN0eWxlcyhzdHlsZXM6IFN0eWxlRGVjbGFyYXRpb24gPSB7fSk6IHZvaWQge1xuICAgICAgICBjb25zdCBhbGxvd2VkU3R5bGU6IEFsbG93ZWRTdHlsZSA9IHtcbiAgICAgICAgICAgIGNvbG9yOiBzdHlsZXMuY29sb3IsXG4gICAgICAgICAgICBmb250RmFtaWx5OiBzdHlsZXNbJ2ZvbnQtZmFtaWx5J10sXG4gICAgICAgICAgICBmb250U2l6ZTogc3R5bGVzWydmb250LXNpemUnXSxcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IHN0eWxlc1snZm9udC13ZWlnaHQnXSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc3R5bGVLZXlzID0gT2JqZWN0LmtleXMoYWxsb3dlZFN0eWxlKTtcblxuICAgICAgICBpZiAoaXNBcnJheU9mQWxsb3dlZFByb3BzKHN0eWxlS2V5cykpIHtcbiAgICAgICAgICAgIHN0eWxlS2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWFsbG93ZWRTdHlsZVtrZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRJbnB1dCgpLnN0eWxlW2tleV0gPSBhbGxvd2VkU3R5bGVba2V5XSB8fCAnJztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY29uZmlndXJlSW5wdXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2dldElucHV0KCkuYXV0b2NvbXBsZXRlID0gJ2NjLW5hbWUnO1xuICAgICAgICB0aGlzLl9nZXRJbnB1dCgpLmlkID0gSG9zdGVkRmllbGRUYWdJZC5DYXJkTmFtZTtcbiAgICAgICAgdGhpcy5fZ2V0SW5wdXQoKS5pbnB1dE1vZGUgPSAndGV4dCc7XG4gICAgICAgIHRoaXMuX2dldElucHV0KCkubWF4TGVuZ3RoID0gMjAwO1xuICAgICAgICB0aGlzLl9nZXRJbnB1dCgpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd0cmFuc3BhcmVudCc7XG4gICAgICAgIHRoaXMuX2dldElucHV0KCkuc3R5bGUuYm9yZGVyID0gJzAnO1xuICAgICAgICB0aGlzLl9nZXRJbnB1dCgpLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgdGhpcy5fZ2V0SW5wdXQoKS5zdHlsZS5tYXJnaW4gPSAnMCc7XG4gICAgICAgIHRoaXMuX2dldElucHV0KCkuc3R5bGUub3V0bGluZSA9ICdub25lJztcbiAgICAgICAgdGhpcy5fZ2V0SW5wdXQoKS5zdHlsZS5wYWRkaW5nID0gJzAnO1xuICAgICAgICB0aGlzLl9nZXRJbnB1dCgpLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICB0aGlzLl9nZXRJbnB1dCgpLnR5cGUgPSAndGV4dCc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0SW5wdXQoKTogSFRNTElucHV0RWxlbWVudCB7XG4gICAgICAgIHJldHVybiBndWFyZChcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LFxuICAgICAgICAgICAgKCkgPT4gbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jcmVhdGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgdGhpcy5fY29uZmlndXJlSW5wdXQoKTtcbiAgICAgICAgdGhpcy5fYXBwbHlTdHlsZXModGhpcy5fc3R5bGU/LmlucHV0KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCbHVlc25hcERpcmVjdE5vY0lucHV0QWxsb3dlZFN0eWxlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0FycmF5T2ZBbGxvd2VkUHJvcHMoXG4gICAgZmllbGRzOiBzdHJpbmdbXSxcbik6IGZpZWxkcyBpcyBBcnJheTxrZXlvZiBCbHVlc25hcERpcmVjdE5vY0lucHV0QWxsb3dlZFN0eWxlPiB7XG4gICAgcmV0dXJuIGZpZWxkcy5ldmVyeSgoZmllbGQpID0+XG4gICAgICAgIFsnY29sb3InLCAnZm9udEZhbWlseScsICdmb250U2l6ZScsICdmb250V2VpZ2h0J10uaW5jbHVkZXMoZmllbGQpLFxuICAgICk7XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gd2hlbiB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBmYWlsc1xuICogdG8gbG9hZCwgb3IgZm9yIHNvbWUgcmVhc29uLCBpdCBpcyBpbmFjY2Vzc2libGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIG1lc3NhZ2UgfHxcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgY2xpZW50IGxpYnJhcnkgb2YgYSBwYXltZW50IG1ldGhvZCBpcyBub3QgbG9hZGVkIG9yIHJlYWR5IHRvIGJlIHVzZWQuJyxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAncGF5bWVudF9tZXRob2RfY2xpZW50X3VuYXZhaWxhYmxlJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7IFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IEJsdWVTbmFwRGlyZWN0SG9zdFdpbmRvdywgQmx1ZVNuYXBEaXJlY3RTZGsgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBlbnVtIEJsdWVTbmFwRGlyZWN0U2RrRW52IHtcbiAgICBQUk9EVUNUSU9OID0gJ2h0dHBzOi8vcGF5LmJsdWVzbmFwLmNvbS93ZWItc2RrLzUvYmx1ZXNuYXAuanMnLFxuICAgIFNBTkRCT1ggPSAnaHR0cHM6Ly9zYW5kcGF5LmJsdWVzbmFwLmNvbS93ZWItc2RrLzUvYmx1ZXNuYXAuanMnLFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCbHVlU25hcERpcmVjdFNjcmlwdExvYWRlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgX3NjcmlwdExvYWRlcjogU2NyaXB0TG9hZGVyLFxuICAgICAgICBwcml2YXRlIF93aW5kb3c6IEJsdWVTbmFwRGlyZWN0SG9zdFdpbmRvdyA9IHdpbmRvdyxcbiAgICApIHt9XG5cbiAgICBhc3luYyBsb2FkKHRlc3RNb2RlID0gZmFsc2UpOiBQcm9taXNlPEJsdWVTbmFwRGlyZWN0U2RrPiB7XG4gICAgICAgIGlmICh0aGlzLl93aW5kb3cuYmx1ZXNuYXApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aW5kb3cuYmx1ZXNuYXA7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLl9zY3JpcHRMb2FkZXIubG9hZFNjcmlwdChcbiAgICAgICAgICAgIHRlc3RNb2RlID8gQmx1ZVNuYXBEaXJlY3RTZGtFbnYuU0FOREJPWCA6IEJsdWVTbmFwRGlyZWN0U2RrRW52LlBST0RVQ1RJT04sXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS1jb25kaXRpb25cbiAgICAgICAgaWYgKCF0aGlzLl93aW5kb3cuYmx1ZXNuYXApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpbmRvdy5ibHVlc25hcDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBnZXRTY3JpcHRMb2FkZXIgfSBmcm9tICdAYmlnY29tbWVyY2Uvc2NyaXB0LWxvYWRlcic7XG5cbmltcG9ydCB7XG4gICAgUGF5bWVudFN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgQmx1ZVNuYXBEaXJlY3QzZHMgZnJvbSAnLi9ibHVlc25hcC1kaXJlY3QtM2RzJztcbmltcG9ydCBCbHVlU25hcERpcmVjdENyZWRpdENhcmRQYXltZW50U3RyYXRlZ3kgZnJvbSAnLi9ibHVlc25hcC1kaXJlY3QtY3JlZGl0LWNhcmQtcGF5bWVudC1zdHJhdGVneSc7XG5pbXBvcnQgQmx1ZVNuYXBEaXJlY3RIb3N0ZWRGb3JtIGZyb20gJy4vYmx1ZXNuYXAtZGlyZWN0LWhvc3RlZC1mb3JtJztcbmltcG9ydCBCbHVlU25hcEhvc3RlZElucHV0VmFsaWRhdG9yIGZyb20gJy4vYmx1ZXNuYXAtZGlyZWN0LWhvc3RlZC1pbnB1dC12YWxpZGF0b3InO1xuaW1wb3J0IEJsdWVzbmFwRGlyZWN0TmFtZU9uQ2FyZElucHV0IGZyb20gJy4vYmx1ZXNuYXAtZGlyZWN0LW5hbWUtb24tY2FyZC1pbnB1dCc7XG5pbXBvcnQgQmx1ZVNuYXBEaXJlY3RTY3JpcHRMb2FkZXIgZnJvbSAnLi9ibHVlc25hcC1kaXJlY3Qtc2NyaXB0LWxvYWRlcic7XG5cbmNvbnN0IGNyZWF0ZUJsdWVTbmFwRGlyZWN0Q3JlZGl0Q2FyZFBheW1lbnRTdHJhdGVneTogUGF5bWVudFN0cmF0ZWd5RmFjdG9yeTxcbiAgICBCbHVlU25hcERpcmVjdENyZWRpdENhcmRQYXltZW50U3RyYXRlZ3lcbj4gPSAocGF5bWVudEludGVncmF0aW9uU2VydmljZSkgPT5cbiAgICBuZXcgQmx1ZVNuYXBEaXJlY3RDcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5KFxuICAgICAgICBuZXcgQmx1ZVNuYXBEaXJlY3RTY3JpcHRMb2FkZXIoZ2V0U2NyaXB0TG9hZGVyKCkpLFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBuZXcgQmx1ZVNuYXBEaXJlY3RIb3N0ZWRGb3JtKFxuICAgICAgICAgICAgbmV3IEJsdWVzbmFwRGlyZWN0TmFtZU9uQ2FyZElucHV0KCksXG4gICAgICAgICAgICBuZXcgQmx1ZVNuYXBIb3N0ZWRJbnB1dFZhbGlkYXRvcigpLFxuICAgICAgICApLFxuICAgICAgICBuZXcgQmx1ZVNuYXBEaXJlY3QzZHMoKSxcbiAgICApO1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlQmx1ZVNuYXBEaXJlY3RDcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5LCBbXG4gICAgeyBpZDogJ2NyZWRpdF9jYXJkJywgZ2F0ZXdheTogJ2JsdWVzbmFwZGlyZWN0JyB9LFxuXSk7XG4iLCJpbXBvcnQge1xuICAgIGlzSG9zdGVkSW5zdHJ1bWVudExpa2UsXG4gICAgaXNWYXVsdGVkSW5zdHJ1bWVudCxcbiAgICBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IsXG4gICAgT3JkZXJSZXF1ZXN0Qm9keSxcbiAgICBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICBQYXltZW50U3RyYXRlZ3ksXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgeyBCbHVlU25hcERpcmVjdFJlZGlyZWN0UmVzcG9uc2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge1xuICAgIGlzRWNwSW5zdHJ1bWVudCxcbiAgICBpc0lkZWFsSW5zdHJ1bWVudCxcbiAgICBpc1BheUJ5QmFua0luc3RydW1lbnQsXG4gICAgaXNTZXBhSW5zdHJ1bWVudCxcbn0gZnJvbSAnLi4vdXRpbHMvaXMtYmx1ZXNuYXAtZGlyZWN0LWluc3RydW1lbnQnO1xuaW1wb3J0IGlzQmx1ZVNuYXBEaXJlY3RSZWRpcmVjdFJlc3BvbnNlUHJvdmlkZXJEYXRhIGZyb20gJy4uL3V0aWxzL2lzLWJsdWVzbmFwLWRpcmVjdC1wcm92aWRlci1kYXRhJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmx1ZVNuYXBEaXJlY3RBUE1QYXltZW50U3RyYXRlZ3kgaW1wbGVtZW50cyBQYXltZW50U3RyYXRlZ3kge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpIHt9XG5cbiAgICBhc3luYyBleGVjdXRlKHBheWxvYWQ6IE9yZGVyUmVxdWVzdEJvZHkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgcGF5bWVudFBheWxvYWQgPSB0aGlzLl9mb3JtYXRlUGF5bWVudFBheWxvYWQocGF5bG9hZCk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcigpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQocGF5bWVudFBheWxvYWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzQmx1ZVNuYXBEaXJlY3RSZWRpcmVjdFJlc3BvbnNlKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyRGF0YTogdW5rbm93biA9XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLmJvZHkucHJvdmlkZXJfZGF0YSAmJiBKU09OLnBhcnNlKGVycm9yLmJvZHkucHJvdmlkZXJfZGF0YSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgZnJhbWVVcmwgPSBlcnJvci5ib2R5LmFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkLmRhdGEucmVkaXJlY3RfdXJsO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzQmx1ZVNuYXBEaXJlY3RSZWRpcmVjdFJlc3BvbnNlUHJvdmlkZXJEYXRhKHByb3ZpZGVyRGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZXJEYXRhUXVlcnkgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHByb3ZpZGVyRGF0YSkudG9TdHJpbmcoKTtcblxuICAgICAgICAgICAgICAgICAgICBmcmFtZVVybCA9IGAke2ZyYW1lVXJsfSYke3Byb3ZpZGVyRGF0YVF1ZXJ5fWA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKCgpID0+IHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGZyYW1lVXJsKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgZmluYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yKCkpO1xuICAgIH1cblxuICAgIGRlaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2Zvcm1hdGVQYXltZW50UGF5bG9hZCh7IHBheW1lbnQgfTogT3JkZXJSZXF1ZXN0Qm9keSkge1xuICAgICAgICBpZiAoIXBheW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IoWydwYXltZW50J10pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgcGF5bWVudC5wYXltZW50RGF0YSAmJlxuICAgICAgICAgICAgaXNWYXVsdGVkSW5zdHJ1bWVudChwYXltZW50LnBheW1lbnREYXRhKSAmJlxuICAgICAgICAgICAgaXNIb3N0ZWRJbnN0cnVtZW50TGlrZShwYXltZW50LnBheW1lbnREYXRhKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4ucGF5bWVudCxcbiAgICAgICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50SWQ6IHBheW1lbnQucGF5bWVudERhdGEuaW5zdHJ1bWVudElkLFxuICAgICAgICAgICAgICAgICAgICBzaG91bGRTZXRBc0RlZmF1bHRJbnN0cnVtZW50OlxuICAgICAgICAgICAgICAgICAgICAgICAgISFwYXltZW50LnBheW1lbnREYXRhLnNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNFY3BJbnN0cnVtZW50KHBheW1lbnQucGF5bWVudERhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnBheW1lbnQsXG4gICAgICAgICAgICAgICAgcGF5bWVudERhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWNwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudF9udW1iZXI6IHBheW1lbnQucGF5bWVudERhdGEuYWNjb3VudE51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50X3R5cGU6IHBheW1lbnQucGF5bWVudERhdGEuYWNjb3VudFR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvcHBlcl9wZXJtaXNzaW9uOiBwYXltZW50LnBheW1lbnREYXRhLnNob3BwZXJQZXJtaXNzaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRpbmdfbnVtYmVyOiBwYXltZW50LnBheW1lbnREYXRhLnJvdXRpbmdOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKHBheW1lbnQucGF5bWVudERhdGEuY29tcGFueU5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7IGNvbXBhbnlfbmFtZTogcGF5bWVudC5wYXltZW50RGF0YS5jb21wYW55TmFtZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhdWx0X3BheW1lbnRfaW5zdHJ1bWVudDogcGF5bWVudC5wYXltZW50RGF0YS5zaG91bGRTYXZlSW5zdHJ1bWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldF9hc19kZWZhdWx0X3N0b3JlZF9pbnN0cnVtZW50OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnQucGF5bWVudERhdGEuc2hvdWxkU2V0QXNEZWZhdWx0SW5zdHJ1bWVudCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1NlcGFJbnN0cnVtZW50KHBheW1lbnQucGF5bWVudERhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnBheW1lbnQsXG4gICAgICAgICAgICAgICAgcGF5bWVudERhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VwYV9kaXJlY3RfZGViaXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpYmFuOiBwYXltZW50LnBheW1lbnREYXRhLmliYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RfbmFtZTogcGF5bWVudC5wYXltZW50RGF0YS5maXJzdE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdF9uYW1lOiBwYXltZW50LnBheW1lbnREYXRhLmxhc3ROYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3BwZXJfcGVybWlzc2lvbjogcGF5bWVudC5wYXltZW50RGF0YS5zaG9wcGVyUGVybWlzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXVsdF9wYXltZW50X2luc3RydW1lbnQ6IHBheW1lbnQucGF5bWVudERhdGEuc2hvdWxkU2F2ZUluc3RydW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRfYXNfZGVmYXVsdF9zdG9yZWRfaW5zdHJ1bWVudDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50LnBheW1lbnREYXRhLnNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNJZGVhbEluc3RydW1lbnQocGF5bWVudC5wYXltZW50RGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4ucGF5bWVudCxcbiAgICAgICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZGVhbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpYzogcGF5bWVudC5wYXltZW50RGF0YS5iaWMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzUGF5QnlCYW5rSW5zdHJ1bWVudChwYXltZW50LnBheW1lbnREYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5wYXltZW50LFxuICAgICAgICAgICAgICAgIHBheW1lbnREYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheV9ieV9iYW5rOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWJhbjogcGF5bWVudC5wYXltZW50RGF0YS5pYmFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXRob2RJZDogcGF5bWVudC5tZXRob2RJZCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9pc0JsdWVTbmFwRGlyZWN0UmVkaXJlY3RSZXNwb25zZShcbiAgICAgICAgcmVzcG9uc2U6IHVua25vd24sXG4gICAgKTogcmVzcG9uc2UgaXMgQmx1ZVNuYXBEaXJlY3RSZWRpcmVjdFJlc3BvbnNlIHtcbiAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZSAhPT0gJ29iamVjdCcgfHwgcmVzcG9uc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhcnRpYWxSZXNwb25zZTogUGFydGlhbDxCbHVlU25hcERpcmVjdFJlZGlyZWN0UmVzcG9uc2U+ID0gcmVzcG9uc2U7XG5cbiAgICAgICAgaWYgKCFwYXJ0aWFsUmVzcG9uc2UuYm9keSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFydGlhbEJvZHk6IFBhcnRpYWw8Qmx1ZVNuYXBEaXJlY3RSZWRpcmVjdFJlc3BvbnNlWydib2R5J10+ID0gcGFydGlhbFJlc3BvbnNlLmJvZHk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHBhcnRpYWxCb2R5LnN0YXR1cyA9PT0gJ2FkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkJyAmJlxuICAgICAgICAgICAgISFwYXJ0aWFsQm9keS5hZGRpdGlvbmFsX2FjdGlvbl9yZXF1aXJlZD8uZGF0YS5yZWRpcmVjdF91cmxcbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCbHVlU25hcERpcmVjdFJlZGlyZWN0UmVzcG9uc2VQcm92aWRlckRhdGEgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQmx1ZVNuYXBEaXJlY3RSZWRpcmVjdFJlc3BvbnNlUHJvdmlkZXJEYXRhKFxuICAgIHZhbHVlOiB1bmtub3duLFxuKTogdmFsdWUgaXMgQmx1ZVNuYXBEaXJlY3RSZWRpcmVjdFJlc3BvbnNlUHJvdmlkZXJEYXRhIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgcGFydGlhbFZhbHVlOiBQYXJ0aWFsPEJsdWVTbmFwRGlyZWN0UmVkaXJlY3RSZXNwb25zZVByb3ZpZGVyRGF0YT4gPSB2YWx1ZTtcblxuICAgIGlmICghcGFydGlhbFZhbHVlLm1lcmNoYW50aWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0eXBlb2YgcGFydGlhbFZhbHVlLm1lcmNoYW50aWQgPT09ICdzdHJpbmcnO1xufVxuIiwiaW1wb3J0IHtcbiAgICBXaXRoRWNwSW5zdHJ1bWVudCxcbiAgICBXaXRoSWRlYWxJbnN0cnVtZW50LFxuICAgIFdpdGhQYXlCeUJhbmtJbnN0cnVtZW50LFxuICAgIFdpdGhTZXBhSW5zdHJ1bWVudCxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VjcEluc3RydW1lbnQoZGF0YTogdW5rbm93bik6IGRhdGEgaXMgV2l0aEVjcEluc3RydW1lbnQge1xuICAgIHJldHVybiBCb29sZWFuKFxuICAgICAgICB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIGRhdGEgIT09IG51bGwgJiZcbiAgICAgICAgICAgICdhY2NvdW50TnVtYmVyJyBpbiBkYXRhICYmXG4gICAgICAgICAgICAnYWNjb3VudFR5cGUnIGluIGRhdGEgJiZcbiAgICAgICAgICAgICdzaG9wcGVyUGVybWlzc2lvbicgaW4gZGF0YSAmJlxuICAgICAgICAgICAgJ3JvdXRpbmdOdW1iZXInIGluIGRhdGEsXG4gICAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSWRlYWxJbnN0cnVtZW50KHBheW1lbnREYXRhOiB1bmtub3duKTogcGF5bWVudERhdGEgaXMgV2l0aElkZWFsSW5zdHJ1bWVudCB7XG4gICAgcmV0dXJuIEJvb2xlYW4odHlwZW9mIHBheW1lbnREYXRhID09PSAnb2JqZWN0JyAmJiBwYXltZW50RGF0YSAhPT0gbnVsbCAmJiAnYmljJyBpbiBwYXltZW50RGF0YSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NlcGFJbnN0cnVtZW50KHBheW1lbnREYXRhOiB1bmtub3duKTogcGF5bWVudERhdGEgaXMgV2l0aFNlcGFJbnN0cnVtZW50IHtcbiAgICByZXR1cm4gQm9vbGVhbihcbiAgICAgICAgdHlwZW9mIHBheW1lbnREYXRhID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgcGF5bWVudERhdGEgIT09IG51bGwgJiZcbiAgICAgICAgICAgICdpYmFuJyBpbiBwYXltZW50RGF0YSAmJlxuICAgICAgICAgICAgJ2ZpcnN0TmFtZScgaW4gcGF5bWVudERhdGEgJiZcbiAgICAgICAgICAgICdsYXN0TmFtZScgaW4gcGF5bWVudERhdGEgJiZcbiAgICAgICAgICAgICdzaG9wcGVyUGVybWlzc2lvbicgaW4gcGF5bWVudERhdGEsXG4gICAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUGF5QnlCYW5rSW5zdHJ1bWVudChcbiAgICBwYXltZW50RGF0YTogdW5rbm93bixcbik6IHBheW1lbnREYXRhIGlzIFdpdGhQYXlCeUJhbmtJbnN0cnVtZW50IHtcbiAgICByZXR1cm4gQm9vbGVhbihcbiAgICAgICAgdHlwZW9mIHBheW1lbnREYXRhID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgcGF5bWVudERhdGEgIT09IG51bGwgJiZcbiAgICAgICAgICAgICdpYmFuJyBpbiBwYXltZW50RGF0YSAmJlxuICAgICAgICAgICAgISgnZmlyc3ROYW1lJyBpbiBwYXltZW50RGF0YSkgJiZcbiAgICAgICAgICAgICEoJ2xhc3ROYW1lJyBpbiBwYXltZW50RGF0YSkgJiZcbiAgICAgICAgICAgICEoJ3Nob3BwZXJQZXJtaXNzaW9uJyBpbiBwYXltZW50RGF0YSksXG4gICAgKTtcbn1cbiIsImltcG9ydCB7XG4gICAgUGF5bWVudFN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgQmx1ZVNuYXBEaXJlY3RBUE1QYXltZW50U3RyYXRlZ3kgZnJvbSAnLi9ibHVlc25hcC1kaXJlY3QtYXBtLXBheW1lbnQtc3RyYXRlZ3knO1xuXG5jb25zdCBjcmVhdGVCbHVlU25hcERpcmVjdEFQTVBheW1lbnRTdHJhdGVneTogUGF5bWVudFN0cmF0ZWd5RmFjdG9yeTxcbiAgICBCbHVlU25hcERpcmVjdEFQTVBheW1lbnRTdHJhdGVneVxuPiA9IChwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKSA9PiBuZXcgQmx1ZVNuYXBEaXJlY3RBUE1QYXltZW50U3RyYXRlZ3kocGF5bWVudEludGVncmF0aW9uU2VydmljZSk7XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVCbHVlU25hcERpcmVjdEFQTVBheW1lbnRTdHJhdGVneSwgW1xuICAgIHsgZ2F0ZXdheTogJ2JsdWVzbmFwZGlyZWN0JyB9LFxuXSk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYW5jZWxsYWJsZVByb21pc2U8VD4ge1xuICAgIHByb21pc2U6IFByb21pc2U8VD47XG4gICAgY2FuY2VsITogKHJlYXNvbj86IGFueSkgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKHByb21pc2U6IFByb21pc2U8VD4pIHtcbiAgICAgICAgY29uc3QgY2FuY2VsbGFibGUgPSBuZXcgUHJvbWlzZTxUPigoXywgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbCA9IHJlamVjdDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wcm9taXNlID0gUHJvbWlzZS5yYWNlKFtwcm9taXNlLCBjYW5jZWxsYWJsZV0pO1xuICAgIH1cbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIHRoZSBwYXltZW50IGZsb3cgaXMgY2FuY2VsbGVkLiBJdCBjb3VsZCBiZVxuICogZHVlIHRvIGEgZGVsaWJlcmF0ZSB1c2VyIGludGVyYWN0aW9uLCBpLmUuOiB0aGUgdXNlciBjbGlja3Mgb24gYSBjYW5jZWxcbiAqIGJ1dHRvbiB3aGljaCBkaXNtaXNzZXMgdGhlIHBheW1lbnQgbW9kYWwuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSB8fCAnUGF5bWVudCBwcm9jZXNzIHdhcyBjYW5jZWxsZWQuJyk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ1BheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdwYXltZW50X2NhbmNlbGxlZCc7XG4gICAgfVxufVxuIiwiZW51bSBQYXltZW50U3RhdHVzVHlwZXMge1xuICAgIEFDS05PV0xFREdFID0gJ0FDS05PV0xFREdFJyxcbiAgICBGSU5BTElaRSA9ICdGSU5BTElaRScsXG4gICAgSU5JVElBTElaRSA9ICdJTklUSUFMSVpFJyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgUGF5bWVudFN0YXR1c1R5cGVzO1xuIiwiaW1wb3J0IHsgbm9vcCB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7XG4gICAgQ2FuY2VsbGFibGVQcm9taXNlLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3IsXG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUsXG4gICAgT3JkZXJGaW5hbGl6YXRpb25Ob3RSZXF1aXJlZEVycm9yLFxuICAgIE9yZGVyUmVxdWVzdEJvZHksXG4gICAgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yLFxuICAgIFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcixcbiAgICBQYXltZW50UmVxdWVzdE9wdGlvbnMsXG4gICAgUGF5bWVudFN0YXR1c1R5cGVzLFxuICAgIFBheW1lbnRTdHJhdGVneSxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IEJsdWVTbmFwVjJTdHlsZVByb3BzIH0gZnJvbSAnLi9ibHVlc25hcHYyJztcbmltcG9ydCB7XG4gICAgQmx1ZVNuYXBWMlBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBXaXRoQmx1ZVNuYXBWMlBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbn0gZnJvbSAnLi9ibHVlc25hcHYyLXBheW1lbnQtb3B0aW9ucyc7XG5cbmNvbnN0IElGUkFNRV9OQU1FID0gJ2JsdWVzbmFwdjJfaG9zdGVkX3BheW1lbnRfcGFnZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJsdWVTbmFwVjJQYXltZW50U3RyYXRlZ3kgaW1wbGVtZW50cyBQYXltZW50U3RyYXRlZ3kge1xuICAgIHByaXZhdGUgX2luaXRpYWxpemVPcHRpb25zPzogQmx1ZVNuYXBWMlBheW1lbnRJbml0aWFsaXplT3B0aW9ucztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpIHt9XG5cbiAgICBhc3luYyBleGVjdXRlKFxuICAgICAgICBvcmRlclJlcXVlc3Q6IE9yZGVyUmVxdWVzdEJvZHksXG4gICAgICAgIG9wdGlvbnM/OiBQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoQmx1ZVNuYXBWMlBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBwYXltZW50IH0gPSBvcmRlclJlcXVlc3Q7XG5cbiAgICAgICAgaWYgKCFwYXltZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yKFsncGF5bWVudCddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZU9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IG9uTG9hZCwgc3R5bGUgfSA9IHRoaXMuX2luaXRpYWxpemVPcHRpb25zO1xuICAgICAgICBjb25zdCBmcmFtZSA9IHRoaXMuX2NyZWF0ZUlmcmFtZShJRlJBTUVfTkFNRSwgc3R5bGUpO1xuICAgICAgICBjb25zdCBwcm9taXNlID0gbmV3IENhbmNlbGxhYmxlUHJvbWlzZTx1bmRlZmluZWQ+KG5ldyBQcm9taXNlKG5vb3ApKTtcblxuICAgICAgICBvbkxvYWQoZnJhbWUsICgpID0+IHByb21pc2UuY2FuY2VsKG5ldyBQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IoKSkpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIob3JkZXJSZXF1ZXN0LCBvcHRpb25zKTtcblxuICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmluaXRpYWxpemVPZmZzaXRlUGF5bWVudCh7XG4gICAgICAgICAgICBtZXRob2RJZDogcGF5bWVudC5tZXRob2RJZCxcbiAgICAgICAgICAgIGdhdGV3YXlJZDogcGF5bWVudC5nYXRld2F5SWQsXG4gICAgICAgICAgICBzaG91bGRTYXZlSW5zdHJ1bWVudDogZmFsc2UsXG4gICAgICAgICAgICB0YXJnZXQ6IGZyYW1lLm5hbWUsXG4gICAgICAgICAgICBwcm9taXNlOiBwcm9taXNlLnByb21pc2UsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIGZpbmFsaXplKG9wdGlvbnM/OiBQYXltZW50UmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IG9yZGVyID0gc3RhdGUuZ2V0T3JkZXIoKTtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gc3RhdGUuZ2V0UGF5bWVudFN0YXR1cygpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIG9yZGVyICYmXG4gICAgICAgICAgICAoc3RhdHVzID09PSBQYXltZW50U3RhdHVzVHlwZXMuQUNLTk9XTEVER0UgfHwgc3RhdHVzID09PSBQYXltZW50U3RhdHVzVHlwZXMuRklOQUxJWkUpXG4gICAgICAgICkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5maW5hbGl6ZU9yZGVyKG9wdGlvbnMpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcigpKTtcbiAgICB9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKFxuICAgICAgICBvcHRpb25zPzogUGF5bWVudEluaXRpYWxpemVPcHRpb25zICYgV2l0aEJsdWVTbmFwVjJQYXltZW50SW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVPcHRpb25zID0gb3B0aW9ucyAmJiBvcHRpb25zLmJsdWVzbmFwdjI7XG5cbiAgICAgICAgYXdhaXQgUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY3JlYXRlSWZyYW1lKG5hbWU6IHN0cmluZywgc3R5bGU/OiBCbHVlU25hcFYyU3R5bGVQcm9wcyk6IEhUTUxJRnJhbWVFbGVtZW50IHtcbiAgICAgICAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG5cbiAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICdzYW5kYm94JyxcbiAgICAgICAgICAgICdhbGxvdy10b3AtbmF2aWdhdGlvbiBhbGxvdy1zY3JpcHRzIGFsbG93LWZvcm1zIGFsbG93LXNhbWUtb3JpZ2luJyxcbiAgICAgICAgKTtcblxuICAgICAgICBpZnJhbWUubmFtZSA9IG5hbWU7XG5cbiAgICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgICAgICBjb25zdCB7IGJvcmRlciwgaGVpZ2h0LCB3aWR0aCB9ID0gc3R5bGU7XG5cbiAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5ib3JkZXIgPSBib3JkZXIgPz8gJyc7XG4gICAgICAgICAgICBpZnJhbWUuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ID8/ICcnO1xuICAgICAgICAgICAgaWZyYW1lLnN0eWxlLndpZHRoID0gd2lkdGggPz8gJyc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaWZyYW1lO1xuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgUGF5bWVudFN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgQmx1ZVNuYXBWMlBheW1lbnRTdHJhdGVneSBmcm9tICcuL2JsdWVzbmFwdjItcGF5bWVudC1zdHJhdGVneSc7XG5cbmNvbnN0IGNyZWF0ZUJsdWVzbmFwVjJQYXltZW50U3RyYXRlZ3k6IFBheW1lbnRTdHJhdGVneUZhY3Rvcnk8Qmx1ZVNuYXBWMlBheW1lbnRTdHJhdGVneT4gPSAoXG4gICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbikgPT4ge1xuICAgIHJldHVybiBuZXcgQmx1ZVNuYXBWMlBheW1lbnRTdHJhdGVneShwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRvUmVzb2x2YWJsZU1vZHVsZShjcmVhdGVCbHVlc25hcFYyUGF5bWVudFN0cmF0ZWd5LCBbeyBnYXRld2F5OiAnYmx1ZXNuYXB2MicgfV0pO1xuIl0sIm5hbWVzIjpbIk5vdEluaXRpYWxpemVkRXJyb3JUeXBlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInRvUmVzb2x2YWJsZU1vZHVsZSIsIm1vZHVsZSIsInJlc29sdmVJZHMiLCJjb25zb2xlIiwibG9nIiwiT2JqZWN0IiwiYXNzaWduIiwiZCIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTdGFuZGFyZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJzdXBlciIsIm5hbWUiLCJ0eXBlIiwic2V0UHJvdG90eXBlT2YiLCJ0aGlzIiwiX19wcm90b19fIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJzdGFjayIsIlBheW1lbnRNZXRob2RGYWlsZWRFcnJvciIsImd1YXJkIiwidmFsdWUiLCJlcnJvckZhY3RvcnkiLCJOb3RJbml0aWFsaXplZEVycm9yIiwic3VidHlwZSIsIkN1c3RvbWVyTm90SW5pdGlhbGl6ZWQiLCJQYXltZW50Tm90SW5pdGlhbGl6ZWQiLCJTaGlwcGluZ05vdEluaXRpYWxpemVkIiwiU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZCIsImdldEVycm9yTWVzc2FnZSIsIk1pc3NpbmdEYXRhRXJyb3JUeXBlIiwiSG9zdGVkRmllbGRUeXBlIiwiQmx1ZVNuYXBEaXJlY3QzZHMiLCJpbml0aWFsaXplIiwiYmx1ZVNuYXBTZGsiLCJfYmx1ZVNuYXBTZGsiLCJpbml0aWFsaXplM2RzIiwidG9rZW4iLCJjYXJkRGF0YSIsIl9nZXRCbHVlU25hcFNkayIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwidGhyZWVEc1BheW1lbnRzU2V0dXAiLCJzZGtSZXNwb25zZSIsImNvZGUiLCJ0aHJlZURTZWN1cmUiLCJ0aHJlZURTZWN1cmVSZWZlcmVuY2VJZCIsInRocmVlRHNQYXltZW50c1N1Ym1pdERhdGEiLCJJbnZhbGlkQXJndW1lbnRFcnJvciIsIlBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvciIsImludmFsaWRGaWVsZHMiLCJqb2luIiwiaXNIb3N0ZWRJbnN0cnVtZW50TGlrZSIsImluc3RydW1lbnQiLCJzaG91bGRTYXZlSW5zdHJ1bWVudCIsInNob3VsZFNldEFzRGVmYXVsdEluc3RydW1lbnQiLCJpc1ZhdWx0ZWRJbnN0cnVtZW50IiwiQm9vbGVhbiIsImluc3RydW1lbnRJZCIsIk9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvciIsIk1pc3NpbmdEYXRhRXJyb3IiLCJNaXNzaW5nQmlsbGluZ0FkZHJlc3MiLCJNaXNzaW5nQ2FydCIsIk1pc3NpbmdDb25zaWdubWVudHMiLCJNaXNzaW5nQ2hlY2tvdXQiLCJNaXNzaW5nQ3VzdG9tZXIiLCJNaXNzaW5nQ2hlY2tvdXRDb25maWciLCJNaXNzaW5nT3JkZXJDb25maWciLCJNaXNzaW5nT3JkZXIiLCJNaXNzaW5nT3JkZXJJZCIsIk1pc3NpbmdQYXltZW50IiwiTWlzc2luZ1BheW1lbnRUb2tlbiIsIk1pc3NpbmdQYXltZW50TWV0aG9kIiwiTWlzc2luZ1NoaXBwaW5nQWRkcmVzcyIsImlzSG9zdGVkQ2FyZEZpZWxkT3B0aW9uc01hcCIsImZpZWxkcyIsIkNhcmROdW1iZXIiLCJpc0hvc3RlZFN0b3JlZENhcmRGaWVsZE9wdGlvbnNNYXAiLCJDYXJkQ29kZVZlcmlmaWNhdGlvbiIsIkNhcmROdW1iZXJWZXJpZmljYXRpb24iLCJCbHVlU25hcERpcmVjdENhcmRUeXBlIiwiQmx1ZVNuYXBEaXJlY3RFdmVudE9yaWdpbiIsIkJsdWVTbmFwRGlyZWN0RXJyb3JEZXNjcmlwdGlvbiIsIkJsdWVTbmFwRGlyZWN0RXJyb3JDb2RlIiwiQmx1ZVNuYXBEaXJlY3RIb3N0ZWRGaWVsZFRhZ0lkIiwiQmx1ZVNuYXBEaXJlY3RDcmVkaXRDYXJkUGF5bWVudFN0cmF0ZWd5IiwiX3NjcmlwdExvYWRlciIsIl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlIiwiX2JsdWVTbmFwRGlyZWN0SG9zdGVkRm9ybSIsIl9ibHVlU25hcERpcmVjdDNkcyIsIm9wdGlvbnMiLCJtZXRob2RJZCIsImdhdGV3YXlJZCIsImNyZWRpdENhcmQiLCJzdGF0ZSIsImxvYWRQYXltZW50TWV0aG9kIiwicGFyYW1zIiwibWV0aG9kIiwiYmlncGF5VG9rZW4iLCJjb25maWciLCJ0ZXN0TW9kZSIsImlzM2RzRW5hYmxlZCIsImNsaWVudFRva2VuIiwiZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3ciLCJsb2FkIiwiX3BheW1lbnRGaWVsZHNUb2tlbiIsIl9zaG91bGRVc2VIb3N0ZWRGaWVsZHMiLCJmb3JtIiwiY2FyZE51bWJlclZlcmlmaWNhdGlvbiIsImF0dGFjaCIsIl9nZXRQYXltZW50RmllbGRzVG9rZW4iLCJleGVjdXRlIiwicGF5bG9hZCIsInBheW1lbnQiLCJwYXltZW50RGF0YSIsInBmVG9rZW4iLCJnZXRTdGF0ZSIsImJsdWVzbmFwU3VibWl0ZWRGb3JtIiwidmFsaWRhdGUiLCJzdWJtaXQiLCJfZ2V0Qmx1ZVNuYXBEaXJlY3RUaHJlZURTZWN1cmVEYXRhIiwidW5kZWZpbmVkIiwic3VibWl0T3JkZXIiLCJsYXN0NCIsImJyYW5kIiwiZ2V0Q2FyZEluc3RydW1lbnRPclRocm93IiwicHJldmlvdXNseVVzZWRDYXJkIiwibGFzdDREaWdpdHMiLCJjY1R5cGUiLCJ0b1VwcGVyQ2FzZSIsInN1Ym1pdFBheW1lbnQiLCJub25jZSIsImRldmljZVNlc3Npb25JZCIsImZvcm1hdHRlZFBheWxvYWQiLCJjcmVkaXRfY2FyZF90b2tlbiIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSG9sZGVyTmFtZSIsInZhdWx0X3BheW1lbnRfaW5zdHJ1bWVudCIsInNldF9hc19kZWZhdWx0X3N0b3JlZF9pbnN0cnVtZW50IiwiZmluYWxpemUiLCJkZWluaXRpYWxpemUiLCJkZXRhY2giLCJnZXRCaWxsaW5nQWRkcmVzcyIsImdldFNoaXBwaW5nQWRkcmVzcyIsImdldEN1c3RvbWVyIiwiZ2V0Q2hlY2tvdXRPclRocm93IiwiZ2V0Q2FydE9yVGhyb3ciLCJiaWxsaW5nQWRkcmVzcyIsInNoaXBwaW5nQWRkcmVzcyIsImVtYWlsIiwicGhvbmUiLCJhbW91bnQiLCJvdXRzdGFuZGluZ0JhbGFuY2UiLCJjdXJyZW5jeSIsImJpbGxpbmdGaXJzdE5hbWUiLCJmaXJzdE5hbWUiLCJiaWxsaW5nTGFzdE5hbWUiLCJsYXN0TmFtZSIsImJpbGxpbmdDb3VudHJ5IiwiY291bnRyeUNvZGUiLCJiaWxsaW5nQ2l0eSIsImNpdHkiLCJhZGRyZXNzMSIsImFkZHJlc3MyIiwidHJpbSIsImJpbGxpbmdaaXAiLCJwb3N0YWxDb2RlIiwic2hpcHBpbmdGaXJzdE5hbWUiLCJzaGlwcGluZ0xhc3ROYW1lIiwic2hpcHBpbmdDb3VudHJ5Iiwic2hpcHBpbmdDaXR5Iiwic2hpcHBpbmdaaXAiLCJQYXltZW50SW52YWxpZEZvcm1FcnJvciIsImRldGFpbHMiLCJCbHVlU25hcEhvc3RlZEZpZWxkVHlwZSIsIkNhcmRFeHBpcnkiLCJDYXJkTmFtZSIsIkNhcmRDb2RlIiwiQ1JFRElUX0NBUkRfRVJST1JTIiwiZW1wdHkiLCJmaWVsZFR5cGUiLCJpbnZhbGlkIiwiQmx1ZVNuYXBEaXJlY3RIb3N0ZWRGb3JtIiwiX25hbWVPbkNhcmRJbnB1dCIsIl9ob3N0ZWRJbnB1dFZhbGlkYXRvciIsImluaXRpYWxpemVWYWxpZGF0aW9uRmllbGRzIiwicGF5bWVudEZpZWxkc1Rva2VuIiwiZW5hYmxlM0RTIiwiY2FsbGJhY2tzQW5kU3R5bGVzIiwiX29uVmFsaWRhdGUiLCJvblZhbGlkYXRlIiwiX3NldEN1c3RvbUJsdWVTbmFwQXR0cmlidXRlcyIsIl9zZXRDdXN0b21TdG9yZWRDYXJkc0JsdWVTbmFwQXR0cmlidXRlcyIsIl9nZXRIb3N0ZWRQYXltZW50RmllbGRzT3B0aW9ucyIsImhvc3RlZFBheW1lbnRGaWVsZHNDcmVhdGUiLCJjYXJkTmFtZSIsImFjY2Vzc2liaWxpdHlMYWJlbCIsInBsYWNlaG9sZGVyIiwicmVzdWx0cyIsImlzVmFsaWQiLCJlbnRyaWVzIiwiZXJyb3JzIiwicmVkdWNlIiwicmVzdWx0IiwibWFwIiwidGhyZWVEU2VjdXJlRGF0YSIsInNob3VsZFNlbmROYW1lIiwiaG9zdGVkUGF5bWVudEZpZWxkc1N1Ym1pdERhdGEiLCJkYXRhIiwiX2lzQmx1ZVNuYXBEaXJlY3RDYWxsYmFja0Vycm9yIiwic3RhdHVzQ29kZSIsIlRIUkVFX0RTX0FVVEhfRkFJTEVEIiwiZXJyb3IiLCJlcnJvckRlc2NyaXB0aW9uIiwiZ2V0VmFsdWUiLCJvbkZvY3VzIiwib25CbHVyIiwib25DYXJkVHlwZUNoYW5nZSIsIm9uRW50ZXIiLCJzdHlsZXMiLCJvbkZpZWxkRXZlbnRIYW5kbGVyIiwic2V0dXBDb21wbGV0ZSIsIl91c2V0VWlFdmVudENhbGxiYWNrIiwib25FcnJvciIsIl9oYW5kbGVFcnJvciIsIm9uVHlwZSIsIl90YWdJZCIsImNhcmRUeXBlIiwib25WYWxpZCIsInRhZ0lkIiwiY2NuUGxhY2VIb2xkZXIiLCJjYXJkTnVtYmVyIiwiY3Z2UGxhY2VIb2xkZXIiLCJjYXJkQ29kZSIsImV4cFBsYWNlSG9sZGVyIiwiY2FyZEV4cGlyeSIsInN0eWxlIiwiX21hcFN0eWxlcyIsImRlZmF1bHQiLCJpbnB1dCIsImZvY3VzIiwic2VsZWN0b3IiLCJkZWNsYXJhdGlvbiIsImRlY2xhcmF0aW9uQmxvY2siLCJwcm9wZXJ0eSIsImtlYmFiQ2FzZSIsImVycm9yQ29kZSIsImV2ZW50T3JpZ2luIiwiSU5WQUxJRF9PUl9FTVBUWSIsIkVNUFRZIiwiSU5WQUxJRCIsImluY2x1ZGVzIiwiY2FsbGJhY2siLCJjYXJkTnVtYmVyQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNvbnRhaW5lcklkIiwiY2FyZEV4cGlyeUNvbnRhaW5lciIsImNhcmRDb2RlQ29udGFpbmVyIiwiY2FyZE5hbWVDb250YWluZXIiLCJkYXRhc2V0IiwiYmx1ZXNuYXAiLCJjYXJkQ29kZVZlcmlmaWNhdGlvbiIsIkJsdWVTbmFwSG9zdGVkSW5wdXRWYWxpZGF0b3IiLCJfZXJyb3JzIiwiX3VwZGF0ZUVycm9ycyIsInZhbHVlcyIsImV2ZXJ5IiwiZXJyb3JEYXRhIiwibGVuZ3RoIiwiQmx1ZXNuYXBEaXJlY3ROYW1lT25DYXJkSW5wdXQiLCJfc3R5bGUiLCJfY3JlYXRlIiwiX2dldElucHV0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVGb2N1cyIsIl9oYW5kbGVCbHVyIiwiX2hhbmRsZUVudGVyIiwic2V0QXR0cmlidXRlIiwicXVlcnlTZWxlY3RvciIsImFwcGVuZENoaWxkIiwiX2lucHV0IiwicmVtb3ZlIiwiX2FwcGx5U3R5bGVzIiwidGFyZ2V0IiwiSFRNTElucHV0RWxlbWVudCIsInRlc3QiLCJPTl9CTFVSIiwiYWxsb3dlZFN0eWxlIiwiY29sb3IiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJmb250V2VpZ2h0Iiwic3R5bGVLZXlzIiwia2V5cyIsImZpZWxkIiwiZm9yRWFjaCIsIl9jb25maWd1cmVJbnB1dCIsImF1dG9jb21wbGV0ZSIsImlkIiwiaW5wdXRNb2RlIiwibWF4TGVuZ3RoIiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyIiwiaGVpZ2h0IiwibWFyZ2luIiwib3V0bGluZSIsInBhZGRpbmciLCJ3aWR0aCIsImNyZWF0ZUVsZW1lbnQiLCJQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvciIsIkJsdWVTbmFwRGlyZWN0U2RrRW52IiwiQmx1ZVNuYXBEaXJlY3RTY3JpcHRMb2FkZXIiLCJfd2luZG93Iiwid2luZG93IiwibG9hZFNjcmlwdCIsIlNBTkRCT1giLCJQUk9EVUNUSU9OIiwicGF5bWVudEludGVncmF0aW9uU2VydmljZSIsImdldFNjcmlwdExvYWRlciIsImdhdGV3YXkiLCJCbHVlU25hcERpcmVjdEFQTVBheW1lbnRTdHJhdGVneSIsInBheW1lbnRQYXlsb2FkIiwiX2Zvcm1hdGVQYXltZW50UGF5bG9hZCIsIl9pc0JsdWVTbmFwRGlyZWN0UmVkaXJlY3RSZXNwb25zZSIsInByb3ZpZGVyRGF0YSIsImJvZHkiLCJwcm92aWRlcl9kYXRhIiwicGFyc2UiLCJmcmFtZVVybCIsImFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkIiwicmVkaXJlY3RfdXJsIiwicGFydGlhbFZhbHVlIiwibWVyY2hhbnRpZCIsImlzQmx1ZVNuYXBEaXJlY3RSZWRpcmVjdFJlc3BvbnNlUHJvdmlkZXJEYXRhIiwicHJvdmlkZXJEYXRhUXVlcnkiLCJVUkxTZWFyY2hQYXJhbXMiLCJ0b1N0cmluZyIsImxvY2F0aW9uIiwicmVwbGFjZSIsImVjcCIsImFjY291bnRfbnVtYmVyIiwiYWNjb3VudE51bWJlciIsImFjY291bnRfdHlwZSIsImFjY291bnRUeXBlIiwic2hvcHBlcl9wZXJtaXNzaW9uIiwic2hvcHBlclBlcm1pc3Npb24iLCJyb3V0aW5nX251bWJlciIsInJvdXRpbmdOdW1iZXIiLCJjb21wYW55TmFtZSIsImNvbXBhbnlfbmFtZSIsInNlcGFfZGlyZWN0X2RlYml0IiwiaWJhbiIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJpc0lkZWFsSW5zdHJ1bWVudCIsImlkZWFsIiwiYmljIiwiaXNQYXlCeUJhbmtJbnN0cnVtZW50IiwicGF5X2J5X2JhbmsiLCJyZXNwb25zZSIsInBhcnRpYWxSZXNwb25zZSIsInBhcnRpYWxCb2R5Iiwic3RhdHVzIiwiQ2FuY2VsbGFibGVQcm9taXNlIiwicHJvbWlzZSIsImNhbmNlbGxhYmxlIiwiXyIsImNhbmNlbCIsInJhY2UiLCJQYXltZW50TWV0aG9kQ2FuY2VsbGVkRXJyb3IiLCJQYXltZW50U3RhdHVzVHlwZXMiLCJCbHVlU25hcFYyUGF5bWVudFN0cmF0ZWd5Iiwib3JkZXJSZXF1ZXN0IiwiX2luaXRpYWxpemVPcHRpb25zIiwib25Mb2FkIiwiZnJhbWUiLCJfY3JlYXRlSWZyYW1lIiwibm9vcCIsImluaXRpYWxpemVPZmZzaXRlUGF5bWVudCIsIm9yZGVyIiwiZ2V0T3JkZXIiLCJnZXRQYXltZW50U3RhdHVzIiwiQUNLTk9XTEVER0UiLCJGSU5BTElaRSIsImZpbmFsaXplT3JkZXIiLCJibHVlc25hcHYyIiwiaWZyYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/bluesnap-direct.js\n\n}");

/***/ })

}]);