"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonpCheckout"] = self["webpackJsonpCheckout"] || []).push([["checkout-sdk-js_dist_esm_integrations_apple-pay_js"],{

/***/ "../checkout-sdk-js/dist/esm/integrations/apple-pay.js":
/*!*************************************************************!*\
  !*** ../checkout-sdk-js/dist/esm/integrations/apple-pay.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createApplePayButtonStrategy: () => (/* binding */ Y),\n/* harmony export */   createApplePayCustomerStrategy: () => (/* binding */ H),\n/* harmony export */   createApplePayPaymentStrategy: () => (/* binding */ ie)\n/* harmony export */ });\n/* harmony import */ var _bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bigcommerce/request-sender */ \"../checkout-sdk-js/node_modules/@bigcommerce/request-sender/esm/index.js\");\n/* harmony import */ var _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bigcommerce/script-loader */ \"../checkout-sdk-js/node_modules/@bigcommerce/script-loader/lib/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"../checkout-sdk-js/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\nvar o={};function r(e,t,i=!0){var n;return null!==(n=e[t])&&void 0!==n?n:i}o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const s=\"3.128.0\",l=\"3.123.2\",d=\"3.106.0\";class c{constructor(e){this.paymentIntegrationService=e,this.braintreeWindow=window}getSDKVersion(){const e=this.paymentIntegrationService.getState().getStoreConfig(),t=(null==e?void 0:e.checkoutSettings.features)||{};return this.getPreloadedSDKVersion()||(r(t,\"PAYPAL-5809.braintree_hosted_fields_fix_version\")?s:r(t,\"PAYPAL-5636.update_braintree_sdk_version\")?l:d)}getPreloadedSDKVersion(){const e=this.braintreeWindow.braintree;if(e){const t=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.find)(Object.values(e),e=>!!e.VERSION);return null==t?void 0:t.VERSION}}}class h extends Error{constructor(e){var t;super(e||\"An unexpected error has occurred.\"),this.name=\"StandardError\",this.type=\"standard\",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class u extends h{constructor(e){super(e||\"Unsupported browser error\"),this.name=\"UnsupportedBrowserError\",this.type=\"unsupported_browser\"}}var p,m,y,g,v,S,b,C;!function(e){e[e.CheckoutButtonNotInitialized=0]=\"CheckoutButtonNotInitialized\",e[e.CustomerNotInitialized=1]=\"CustomerNotInitialized\",e[e.PaymentNotInitialized=2]=\"PaymentNotInitialized\",e[e.ShippingNotInitialized=3]=\"ShippingNotInitialized\",e[e.SpamProtectionNotInitialized=4]=\"SpamProtectionNotInitialized\"}(p||(p={}));class f extends h{constructor(e){super(function(e){switch(e){case p.CustomerNotInitialized:return\"Unable to proceed because the customer step of checkout has not been initialized.\";case p.PaymentNotInitialized:return\"Unable to proceed because the payment step of checkout has not been initialized.\";case p.ShippingNotInitialized:return\"Unable to proceed because the shipping step of checkout has not been initialized.\";case p.SpamProtectionNotInitialized:return\"Unable to proceed because the checkout spam protection has not been initialized.\";default:return\"Unable to proceed because the required component has not been initialized.\"}}(e)),this.subtype=e,this.name=\"NotInitializedError\",this.type=\"not_initialized\"}}!function(e){e.ESTIMATED=\"ESTIMATED\",e.FINAL=\"FINAL\",e.NOT_CURRENTLY_KNOWN=\"NOT_CURRENTLY_KNOWN\"}(m||(m={})),function(e){e.Completed=\"COMPLETED\",e.Pending=\"PENDING\",e.Failed=\"FAILED\"}(y||(y={})),function(e){e.TRUSTLY=\"trustly\"}(g||(g={})),function(e){e.SUCCEEDED=\"succeeded\",e.FAILED=\"failed\",e.CANCELED=\"cancelled\",e.UNRECOGNIZED=\"unrecognized\"}(v||(v={})),function(e){e.Customer=\"CUSTOMER\",e.Merchant=\"MERCHANT\",e.Network=\"NETWORK\",e.Internal=\"INTERNAL\",e.Unknown=\"UNKNOWN\"}(S||(S={})),function(e){e.KountNotEnabled=\"DATA_COLLECTOR_KOUNT_NOT_ENABLED\"}(b||(b={})),function(e){e.Visa=\"visa\",e.Mastercard=\"mastercard\",e.AmericanExpress=\"american-express\",e.DinersClub=\"diners-club\",e.Discover=\"discover\",e.Jcb=\"jcb\",e.UnionPay=\"union-pay\",e.Maestro=\"maestro\",e.Elo=\"elo\",e.Mir=\"mir\",e.Hiper=\"hiper\",e.Hipercard=\"hipercard\"}(C||(C={}));var _,w,P,I=function(e,t,i,n){return new(i||(i=Promise))(function(a,o){function r(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}l((n=n.apply(e,t||[])).next())})};class T{constructor(e){this.braintreeScriptLoader=e}initialize(e){this.setClientToken(e)}deinitialize(){return I(this,void 0,void 0,function*(){yield this.teardownModule(this.dataCollector),this.dataCollector=void 0})}getClient(){return I(this,void 0,void 0,function*(){if(!this.client){const e=this.getClientTokenOrThrow(),t=yield this.braintreeScriptLoader.loadClient();this.client=yield t.create({authorization:e})}return this.client})}getDataCollectorOrThrow(e){return I(this,void 0,void 0,function*(){const t={deviceData:void 0,teardown:()=>Promise.resolve()};if(!this.dataCollector)try{const t=yield this.getClient(),i=yield this.braintreeScriptLoader.loadDataCollector(),n=Object.assign({client:t,kount:!0},e);this.dataCollector=yield i.create(n)}catch(e){if(function(e){return Boolean(\"object\"==typeof e&&null!==e&&(\"type\"in e||\"message\"in e||\"code\"in e))}(e)&&e.code===b.KountNotEnabled)return t;throw e}return this.dataCollector})}getBraintreeGooglePayment(){return I(this,void 0,void 0,function*(){if(!this.googlePayment){const[e,t]=yield Promise.all([this.getClient(),this.braintreeScriptLoader.loadGooglePayment()]);this.googlePayment=yield t.create({client:e})}return this.googlePayment})}getBraintreeThreeDS(){return I(this,void 0,void 0,function*(){if(!this.threeDS){const[e,t]=yield Promise.all([this.getClient(),this.braintreeScriptLoader.load3DS()]);this.threeDS=yield t.create({client:e,version:2})}return this.threeDS})}getBraintreeLocalPayment(e){return I(this,void 0,void 0,function*(){if(!this.braintreeLocalPayment){const[t,i]=yield Promise.all([this.getClient(),this.braintreeScriptLoader.loadLocalPayment()]);this.braintreeLocalPayment=yield new Promise((n,a)=>{i.create({client:t,merchantAccountId:e},(e,t)=>{e&&a(e),n(t)})})}return this.braintreeLocalPayment})}getUsBankAccount(){return I(this,void 0,void 0,function*(){if(!this.usBankAccount){const e=yield this.getClient(),t=yield this.braintreeScriptLoader.loadUsBankAccount();this.usBankAccount=yield t.create({client:e})}return this.usBankAccount})}getBraintreeVisaCheckout(){return this.visaCheckout||(this.visaCheckout=Promise.all([this.getClient(),this.braintreeScriptLoader.loadVisaCheckout()]).then(([e,t])=>t.create({client:e}))),this.visaCheckout}getVisaCheckoutSdk(e){return I(this,void 0,void 0,function*(){return this.visaCheckoutSDK||(this.visaCheckoutSDK=yield this.braintreeScriptLoader.loadVisaCheckoutSdk(e)),this.visaCheckoutSDK})}getVenmoCheckoutOrThrow(){return I(this,void 0,void 0,function*(){if(!this.braintreeVenmo){const e=yield this.getClient(),t=yield this.braintreeScriptLoader.loadVenmoCheckout(),i={client:e,allowDesktop:!0,paymentMethodUsage:\"multi_use\"},n=yield t.create(i);if(!n.isBrowserSupported())throw new u;this.braintreeVenmo=n}return this.braintreeVenmo})}setClientToken(e){this.clientToken=e}getClientTokenOrThrow(){if(!this.clientToken)throw new f(p.PaymentNotInitialized);return this.clientToken}teardownModule(e){return e?e.teardown():Promise.resolve()}}class k extends h{constructor(e){super(e||\"Unable to proceed because the client library of a payment method is not loaded or ready to be used.\"),this.name=\"PaymentMethodClientUnavailableError\",this.type=\"payment_method_client_unavailable\"}}!function(e){e.Sandbox=\"sandbox\",e.Production=\"production\"}(_||(_={})),function(e){e.Client=\"client\",e.DataCollector=\"dataCollector\",e.Fastlane=\"fastlane\",e.GooglePayment=\"googlePayment\",e.HostedFields=\"hostedFields\",e.LocalPayment=\"localPayment\",e.Paypal=\"paypal\",e.PaypalCheckout=\"paypalCheckout\",e.ThreeDSecure=\"threeDSecure\",e.UsBankAccount=\"usBankAccount\",e.Venmo=\"venmo\",e.VisaCheckout=\"visaCheckout\"}(w||(w={})),function(e){e.CardCode=\"cardCode\",e.CardCodeVerification=\"cardCodeVerification\",e.CardExpiry=\"cardExpiry\",e.CardName=\"cardName\",e.CardNumber=\"cardNumber\",e.CardNumberVerification=\"cardNumberVerification\"}(P||(P={}));const A={[d]:{[w.Client]:\"sha384-26BXDNnJI23JYRyFBj4xe4sVNrUSSiSSu11kxVXNM/vEPONm4LuL00w6ZaTgQewt\",[w.PaypalCheckout]:\"sha384-B+vzbZwnQtzWBthpkT4TXKUibO65tyeK7eCxSvpblgprTep2+IAXB2Cxxjrn710O\",[w.Paypal]:\"sha384-uyAGL1/3+XJAHnGoNy4eCoXdzJ4f7Ilzp+6w9PNnEjs6DCCz9WMyJjMN1gzc78U+\",[w.LocalPayment]:\"sha384-LIvOEMkIVEwVuYBdVOQc1AC5YbGGlwyfUheS0ACK218D2STuVYQlZ4FyEPowAEfT\",[w.DataCollector]:\"sha384-1bo9JDz+Kscthc085cCKWur8CLwUoBpoNyxsDi7932mCl0zFq3A5mv+FQLw9GHpV\",[w.UsBankAccount]:\"sha384-xmHBVaU+w74V+OebD3AaPONFxHUGMf+QRs8G/JxVPXNNP7MDa2jL0ICWHIe2tTfJ\",[w.GooglePayment]:\"sha384-WKDJl8mqoP82qZpMGH6AbZxnvXnSW8ILV4M64CyMLiugGMwu7LyP89wjCkHqsiBe\",[w.ThreeDSecure]:\"sha384-VQUlpGHzsGvs5XeiGFip7EXRsvoHWEXDVmgCacfbyieZI9mdBOqq3NSoyo28OCOB\",[w.VisaCheckout]:\"sha384-yx7mADfzTN0T43Q6rlH49LIg1EJ0iUZgBp/EczX9LXsUGkySgxrD+nWHQRBkyfoT\",[w.Venmo]:\"sha384-QX4rPjoj1ZDhuG0aSyKs56lEKDqTMTcjYxUHY1SzO5VZDsqIE2NTkqot7KNSCyov\",[w.HostedFields]:\"sha384-VvYBACfSu0Cr/J32uKmxG7AXcNOJE1AzIIL3kbikyS7YKp5fz5Is+NzNP/lyauNy\",[w.Fastlane]:\"sha384-9oGsZMRZwpGtDEDYa/dFt76dECqj1xAni9gIKgc3KfMIiRnR73nEeeUDLiBzxhFa\"},[l]:{[w.Client]:\"sha384-o+nbQGcwNNxIBeXeu3+XmbSq+Cg8R3EN3N0l5hXCgMMU2RGY0t1z0LroSEIAbfAO\",[w.PaypalCheckout]:\"sha384-WrfbWPBS4mH86GAoycPSgiH8hQ8KH7A67C93Hjhunv/xhNk2YpBn3wbFA4Fhg9U/\",[w.Paypal]:\"sha384-VF389nvvrRUgDsTXMxTYORDtVegB9IQa3Cxr//DyJnLYnz8/X8VCzEvck2c+Megt\",[w.LocalPayment]:\"sha384-tZKx2rEQbfmZpoPSY5VPmJEhaq4X75dLvwHMs3VE9U+C8lPyw+hWTIL1+GPvWCIH\",[w.DataCollector]:\"sha384-E6k3wOpP7syCDDwaRDLF06942Y00NkbwJvWi2OQXwwKzGwG5fd3E7RFUvCCecfvO\",[w.UsBankAccount]:\"sha384-258FON8LZGG0W9Qaz4Jij83pZHu30YnKjJA7gNulLBh6CclkucgF+tHDQuYFRYfW\",[w.GooglePayment]:\"sha384-taJ2p/0+n0VH328POAoBiuEbL3tnHUTE9S42hK1V+Txs3X+QYjZOyKW35JgHRFfO\",[w.ThreeDSecure]:\"sha384-+NSZH4Zj3sO5bdWvPKhU5N16QDxeueTVTnUVeleeESkhLSaz4Ob1hh/5myecc9Ym\",[w.VisaCheckout]:\"sha384-66DiBjghxk1OmBj8aksN8gbQ+CwoQcx1vPfiXUN08g1iQVM+BwewF0p7toM3i7SS\",[w.Venmo]:\"sha384-B5UwY42kE4RoLoWbQ7YpqosUlUad2/DlGWiw0HhoZbSPk30CQAaSA10ohyLDTkDU\",[w.HostedFields]:\"sha384-Aw9EesSaUeWxe36PqEHiOyOyOq8M6CIb1gw7/yHNVPRzGtFXXcd2OQ8qXrIlOj2P\",[w.Fastlane]:\"sha384-rhBL1hpZ71JqG+2TsT0Dih47mbjx8cjJCpeZjk9tw3df1gFMKfCTmMyZunhr7H4Y\"},[s]:{[w.Client]:\"sha384-0WNxksIpRP+fYZiIdr12g6DBUQfLDzYCQJZtR/C8KkcwSGhPHfcFp3tTaGcMyFTq\",[w.PaypalCheckout]:\"sha384-lWM1jk4BOxoDNV6Kop7tVNvQgINlmEVz0c/OwM+HNHK3QC8xqwd54Ovrt2QRDTjh\",[w.Paypal]:\"sha384-fXUmVxC2EMZBDXZ7eTHSTL/LFBrHej/MSXT/vTBXvra4lzgLNGvREAp+x0GYObuH\",[w.LocalPayment]:\"sha384-pha1xGuGSkmZH5x9aqHvRaO4xLea7rmQ/79PFj9zxNzxuFcOWZg7gOP7FibygOEC\",[w.DataCollector]:\"sha384-Q6PI2F9eekWbAxhroybl+aEcvqhdowN/EQlGwBUyJOzPFn9982u9xl6SU6XfGKzc\",[w.UsBankAccount]:\"sha384-W3RLQSKJL1tQ3+Y7mP6tmkamtZ8bV4Yw/XxL9Jj5JtXHraD8loMF8hAIG5m2zK7F\",[w.GooglePayment]:\"sha384-TITQMsFWA3elDNGP2mWz2oKBo4qjt+TlqzovcaPoeBiAh/wPBi6nae50ADdgU1/i\",[w.ThreeDSecure]:\"sha384-YiycYN89ZlL/Evcaq4y1ajW1mhd7JYfZBDuOwHtIn4/Jnm20GL+/XCM+zYAwWD8D\",[w.VisaCheckout]:\"sha384-/OdaTv9qrkKzjObtUe6yzfDhHozFW/+uXlrSl736sOZRJpjGQETvpYXqMFFg69xv\",[w.Venmo]:\"sha384-dA+ojdW9vbJS4JavcXyOs9d5uZHJg5dNtYupoPSH2zsXIiYDVS5amLb/u8qmQ6oz\",[w.HostedFields]:\"sha384-31ZkS58+iaWsW06ftW52zzVZFp43WPd7pNYRiddYynSNg6Oh7WGbSFGorAUH6T1z\",[w.Fastlane]:\"sha384-jlbrwNvL3HvLAUCtLSmrnQ2GH1udCUrRS/bVmReAS5fuIVvcW8Pko/Gkg82tlgtr\"}};var M,N,E=function(e,t,i,n){return new(i||(i=Promise))(function(a,o){function r(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}l((n=n.apply(e,t||[])).next())})};class O{constructor(e,t,i){this.scriptLoader=e,this.braintreeHostWindow=t,this.braintreeSDKVersionManager=i}loadClient(){return E(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(w.Client,\"client.min.js\")})}loadFastlane(){return E(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(w.Fastlane,\"fastlane.min.js\")})}loadPaypalCheckout(){return E(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(w.PaypalCheckout,\"paypal-checkout.min.js\")})}loadPaypal(){return E(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(w.Paypal,\"paypal.min.js\")})}loadLocalPayment(){return E(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(w.LocalPayment,\"local-payment.min.js\")})}loadDataCollector(){return E(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(w.DataCollector,\"data-collector.min.js\")})}loadUsBankAccount(){return E(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(w.UsBankAccount,\"us-bank-account.min.js\")})}loadGooglePayment(){return E(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(w.GooglePayment,\"google-payment.min.js\")})}load3DS(){return E(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(w.ThreeDSecure,\"three-d-secure.min.js\")})}loadVisaCheckout(){return this.loadBraintreeModuleOrThrow(w.VisaCheckout,\"visa-checkout.min.js\")}loadVenmoCheckout(){return this.loadBraintreeModuleOrThrow(w.Venmo,\"venmo.min.js\")}loadHostedFields(){return E(this,void 0,void 0,function*(){return this.loadBraintreeModuleOrThrow(w.HostedFields,\"hosted-fields.min.js\")})}loadVisaCheckoutSdk(e){return E(this,void 0,void 0,function*(){if(this.braintreeHostWindow.V)return this.braintreeHostWindow.V;const t=e?\"sha384-0eu1s1GtqzXlL9DtLgmwzC5WWlEH/ADRM0n38cVQkvtT+W/gey96rcb1LwuUOPDm\":\"sha384-1f1csvP3ZFxg4dILH1GaY4LHlZ0oX7Rk83rxmLlwbnIi4TM0NYzXoev1VoEiVDS6\";return this.scriptLoader.loadScript(`//${e?\"sandbox-\":\"\"}assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js`,{async:!0,attributes:{integrity:t,crossorigin:\"anonymous\"}}).then(()=>{if(!this.braintreeHostWindow.V)throw new k;return this.braintreeHostWindow.V})})}loadBraintreeModuleOrThrow(e,t){return E(this,void 0,void 0,function*(){let i=this.getBraintreeModule(e);if(i)return i;const n=this.braintreeSDKVersionManager.getSDKVersion(),a=`//js.braintreegateway.com/web/${n}/js/${t}`,o=n in A?this.getIntegrityValuesByModuleName(e,n):void 0;if(yield this.scriptLoader.loadScript(a,o?{async:!0,attributes:{integrity:o,crossorigin:\"anonymous\"}}:void 0),i=this.getBraintreeModule(e),!i)throw new k;return i})}getBraintreeModule(e){var t;return null===(t=this.braintreeHostWindow.braintree)||void 0===t?void 0:t[e]}getIntegrityValuesByModuleName(e,t){const i=A[t][e];if(!i)throw new Error(\"Unexpected fileName value\");return i}}function D(e,t){return Object.assign(e,{resolveIds:t})}!function(e){e[e.MissingBillingAddress=0]=\"MissingBillingAddress\",e[e.MissingCart=1]=\"MissingCart\",e[e.MissingCheckout=2]=\"MissingCheckout\",e[e.MissingConsignments=3]=\"MissingConsignments\",e[e.MissingCustomer=4]=\"MissingCustomer\",e[e.MissingCheckoutConfig=5]=\"MissingCheckoutConfig\",e[e.MissingOrder=6]=\"MissingOrder\",e[e.MissingOrderConfig=7]=\"MissingOrderConfig\",e[e.MissingOrderId=8]=\"MissingOrderId\",e[e.MissingPayment=9]=\"MissingPayment\",e[e.MissingPaymentId=10]=\"MissingPaymentId\",e[e.MissingPaymentInstrument=11]=\"MissingPaymentInstrument\",e[e.MissingPaymentMethod=12]=\"MissingPaymentMethod\",e[e.MissingPaymentRedirectUrl=13]=\"MissingPaymentRedirectUrl\",e[e.MissingPaymentStatus=14]=\"MissingPaymentStatus\",e[e.MissingPaymentToken=15]=\"MissingPaymentToken\",e[e.MissingShippingAddress=16]=\"MissingShippingAddress\"}(M||(M={}));class B extends h{constructor(e){super(function(e){switch(e){case M.MissingBillingAddress:return\"Unable to proceed because billing address data is unavailable.\";case M.MissingCart:return\"Unable to proceed because cart data is unavailable.\";case M.MissingConsignments:return\"Unable to proceed because consignments data is unavailable.\";case M.MissingCheckout:return\"Unable to proceed because checkout data is unavailable.\";case M.MissingCustomer:return\"Unable to proceed because customer data is unavailable.\";case M.MissingCheckoutConfig:case M.MissingOrderConfig:return\"Unable to proceed because configuration data is unavailable.\";case M.MissingOrder:return\"Unable to proceed because order data is unavailable.\";case M.MissingOrderId:return\"Unable to proceed because order ID is unavailable or not generated yet.\";case M.MissingPayment:return\"Unable to proceed because payment data is unavailable.\";case M.MissingPaymentToken:return\"Unable to proceed because the token required to submit a payment is missing.\";case M.MissingPaymentMethod:return\"Unable to proceed because payment method data is unavailable or not properly configured.\";case M.MissingShippingAddress:return\"Unable to proceed because shipping address data is unavailable.\";default:return\"Unable to proceed because the required data is unavailable.\"}}(e)),this.subtype=e,this.name=\"MissingDataError\",this.type=\"missing_data\"}}class L extends h{constructor(e){super(e||\"Not implemented.\"),this.name=\"NotImplementedError\",this.type=\"not_implemented\"}}class z extends h{constructor(e){super(e||\"Invalid arguments have been provided.\"),this.name=\"InvalidArgumentError\",this.type=\"invalid_argument\"}}class x extends h{constructor(e){super(e||\"Payment process was cancelled.\"),this.name=\"PaymentMethodCancelledError\",this.type=\"payment_cancelled\"}}!function(e){e.BRAINTREE=\"braintree\",e.BRAINTREE_FASTLANE=\"braintreeacceleratedcheckout\"}(N||(N={}));var U,F=function(e,t,i,n){return new(i||(i=Promise))(function(a,o){function r(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}l((n=n.apply(e,t||[])).next())})};!function(e){e.Subtotal=\"Subtotal\",e.Shipping=\"Shipping\"}(U||(U={}));class R{constructor(e,t,i,n,o){this._requestSender=e,this._paymentIntegrationService=t,this._sessionFactory=i,this._braintreeSdk=n,this._applePayScriptLoader=o,this._onAuthorizeCallback=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,this._onError=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,this._onClick=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,this._subTotalLabel=U.Subtotal,this._shippingLabel=U.Shipping,this._hasApplePaySession=!1}initialize(e){var t;return F(this,void 0,void 0,function*(){const{methodId:i,applepay:n}=e;if(!i||!n)throw new B(M.MissingPaymentMethod);const{container:o,shippingLabel:r,subtotalLabel:s,onError:l=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,onClick:d=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,onPaymentAuthorize:c}=n;this._shippingLabel=r||U.Shipping,this._subTotalLabel=s||U.Subtotal,this._onAuthorizeCallback=c,this._onError=l,this._onClick=d;let h=this._paymentIntegrationService.getState();yield this._applePayScriptLoader.loadSdk();try{this._paymentMethod=h.getPaymentMethodOrThrow(i)}catch(e){h=yield this._paymentIntegrationService.loadPaymentMethod(i),this._paymentMethod=h.getPaymentMethodOrThrow(i)}yield this._paymentIntegrationService.verifyCheckoutSpamProtection(),this._applePayButton=this._createButton(o),this._applePayButton.addEventListener(\"click\",this._handleWalletButtonClick.bind(this)),(null===(t=this._paymentMethod.initializationData)||void 0===t?void 0:t.gateway)===N.BRAINTREE&&(yield this._initializeBraintreeSdk())})}deinitialize(){return Promise.resolve()}signIn(){throw new L('In order to sign in via Apple, the shopper must click on \"Apple Pay\" button.')}signOut(){throw new L(\"Need to do signout via apple.\")}executePaymentMethodCheckout(e){var t;return null===(t=null==e?void 0:e.continueWithCheckoutCallback)||void 0===t||t.call(e),Promise.resolve()}_createButton(e){const t=document.getElementById(e);if(!t)throw new z(\"Unable to create sign-in button without valid container ID.\");const i=this._createApplePayButtonElement();return t.appendChild(i),i}_createApplePayButtonElement(){const e=document.createElement(\"apple-pay-button\");return e.setAttribute(\"buttonstyle\",\"black\"),e.setAttribute(\"type\",\"plain\"),e.setAttribute(\"style\",\"--apple-pay-button-width: 100%; --apple-pay-button-height: 36px; --apple-pay-button-border-radius: 4px;\"),e}_handleWalletButtonClick(e){if(e.preventDefault(),this._hasApplePaySession)return;this._onClick();const t=this._paymentIntegrationService.getState(),i=t.getCartOrThrow(),n=t.getStoreConfigOrThrow(),a=t.getCheckoutOrThrow();if(!this._paymentMethod||!this._paymentMethod.initializationData)throw new B(M.MissingPaymentMethod);const o=this._getBaseRequest(i,a,n,this._paymentMethod),r=this._sessionFactory.create(o);this._handleApplePayEvents(r,this._paymentMethod,n),r.begin(),this._hasApplePaySession=!0}_getBaseRequest(e,t,i,n){var a;const{storeProfile:{storeCountryCode:o,storeName:r}}=i,{currency:{code:s,decimalPlaces:l}}=e,{initializationData:{merchantCapabilities:d,supportedNetworks:c}}=n,h=e.lineItems.physicalItems.length>0,u={requiredBillingContactFields:[\"postalAddress\"],requiredShippingContactFields:[\"email\",\"phone\"],countryCode:o,currencyCode:s,merchantCapabilities:d,supportedNetworks:c,lineItems:[],total:h?{label:r,amount:`${t.grandTotal.toFixed(l)}`,type:\"pending\"}:{label:r,amount:`${t.grandTotal.toFixed(l)}`,type:\"final\"}};if(h)null===(a=u.requiredShippingContactFields)||void 0===a||a.push(\"postalAddress\");else{const e=[{label:this._subTotalLabel,amount:`${t.subtotal.toFixed(l)}`}];t.taxes.forEach(t=>e.push({label:t.name,amount:`${t.amount.toFixed(l)}`})),u.lineItems=e}return u}_handleApplePayEvents(e,t,i){e.onvalidatemerchant=i=>F(this,void 0,void 0,function*(){try{const{body:n}=yield this._onValidateMerchant(t,i);e.completeMerchantValidation(n)}catch(e){this._onError(e)}}),e.onshippingcontactselected=t=>F(this,void 0,void 0,function*(){return this._handleShippingContactSelected(e,i,t)}),e.onshippingmethodselected=t=>F(this,void 0,void 0,function*(){return this._handleShippingMethodSelected(e,i,t)}),e.oncancel=()=>F(this,void 0,void 0,function*(){this._hasApplePaySession=!1;try{const e=`/remote-checkout/${t.id}/signout`;return yield this._requestSender.get(e),yield this._paymentIntegrationService.loadCheckout()}catch(e){return this._onError(new x)}}),e.onpaymentauthorized=i=>F(this,void 0,void 0,function*(){return this._onPaymentAuthorized(i,e,t)})}_handleShippingContactSelected(e,t,i){var n;return F(this,void 0,void 0,function*(){const a=this._transformContactToAddress(i.shippingContact);try{yield this._paymentIntegrationService.updateShippingAddress(a)}catch(t){return e.abort(),this._hasApplePaySession=!1,this._onError(t)}const{storeProfile:{storeName:o}}=t;let r=this._paymentIntegrationService.getState();const{currency:{decimalPlaces:s}}=r.getCartOrThrow();let l=r.getCheckoutOrThrow();const d=null===(n=l.consignments[0].selectedShippingOption)||void 0===n?void 0:n.id,c=l.consignments[0].availableShippingOptions,h=null==c?void 0:c.find(({id:e})=>e===d),u=null==c?void 0:c.filter(e=>e.id!==d),p=h?[{label:h.description,amount:`${h.cost.toFixed(s)}`,detail:h.additionalDescription,identifier:h.id}]:[];if(u&&[...u.filter(e=>e.isRecommended),...u.filter(e=>!e.isRecommended)].forEach(e=>p.push({label:e.description,amount:`${e.cost.toFixed(s)}`,detail:e.additionalDescription,identifier:e.id})),!(c instanceof Array))throw new Error(\"Shipping options not available.\");if(0===c.length)return void e.completeShippingContactSelection(ApplePaySession.STATUS_INVALID_SHIPPING_POSTAL_ADDRESS,[],{type:\"pending\",label:o,amount:`${l.grandTotal.toFixed(s)}`},[]);const m=c.find(e=>e.isRecommended),y=m?m.id:c[0].id,g=h?h.id:y;try{yield this._updateShippingOption(g)}catch(e){return this._onError(e)}r=this._paymentIntegrationService.getState(),l=r.getCheckoutOrThrow(),e.completeShippingContactSelection({newShippingMethods:p,newTotal:{type:\"final\",label:o,amount:`${l.grandTotal.toFixed(s)}`},newLineItems:this._getUpdatedLineItems(l,s)})})}_handleShippingMethodSelected(e,t,i){return F(this,void 0,void 0,function*(){const{storeProfile:{storeName:n}}=t,{shippingMethod:{identifier:a}}=i;try{yield this._updateShippingOption(a)}catch(t){return e.abort(),this._hasApplePaySession=!1,this._onError(t)}const o=this._paymentIntegrationService.getState(),{currency:{decimalPlaces:r}}=o.getCartOrThrow(),s=o.getCheckoutOrThrow();e.completeShippingMethodSelection({newTotal:{type:\"final\",label:n,amount:`${s.grandTotal.toFixed(r)}`},newLineItems:this._getUpdatedLineItems(s,r)})})}_getUpdatedLineItems(e,t){const i=[{label:this._subTotalLabel,amount:`${e.subtotal.toFixed(t)}`}];return e.taxes.forEach(e=>i.push({label:e.name,amount:`${e.amount.toFixed(t)}`})),i.push({label:this._shippingLabel,amount:`${e.shippingCostTotal.toFixed(t)}`}),i}_updateShippingOption(e){return F(this,void 0,void 0,function*(){return this._paymentIntegrationService.selectShippingOption(e)})}_onValidateMerchant(e,t){return F(this,void 0,void 0,function*(){const i=[`validationUrl=${t.validationURL}`,`merchantIdentifier=${e.initializationData.merchantId}`,`displayName=${e.initializationData.storeName}`,`domainName=${window.location.hostname}`].join(\"&\");return this._requestSender.post(`${e.initializationData.paymentsUrl}/api/public/v1/payments/applepay/validate_merchant`,{credentials:!1,headers:{Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded\",\"X-XSRF-TOKEN\":null},body:i})})}_onPaymentAuthorized(e,t,i){var n;return F(this,void 0,void 0,function*(){const{token:a,billingContact:o,shippingContact:r}=e.payment,s=this._paymentIntegrationService.getState().getCartOrThrow().lineItems.physicalItems.length>0;let l;(null===(n=i.initializationData)||void 0===n?void 0:n.gateway)===N.BRAINTREE&&(l=yield this._getBraintreeDeviceData());const d={methodId:i.id,paymentData:{deviceSessionId:l,formattedPayload:{apple_pay_token:{payment_data:a.paymentData,payment_method:a.paymentMethod,transaction_id:a.transactionIdentifier}}}},c=this._transformContactToAddress(o),h=this._transformContactToAddress(r),u=null==r?void 0:r.emailAddress,p=(null==r?void 0:r.phoneNumber)||\"\";try{return yield this._paymentIntegrationService.updateBillingAddress(Object.assign(Object.assign({},c),{email:u,phone:p})),s&&(yield this._paymentIntegrationService.updateShippingAddress(h)),yield this._paymentIntegrationService.submitOrder({useStoreCredit:!1}),yield this._paymentIntegrationService.submitPayment(d),t.completePayment(ApplePaySession.STATUS_SUCCESS),this._onAuthorizeCallback()}catch(e){return t.completePayment(ApplePaySession.STATUS_FAILURE),this._onError(e)}})}_transformContactToAddress(e){return{firstName:(null==e?void 0:e.givenName)||\"\",lastName:(null==e?void 0:e.familyName)||\"\",city:(null==e?void 0:e.locality)||\"\",company:\"\",address1:(null==e?void 0:e.addressLines)&&e.addressLines[0]||\"\",address2:(null==e?void 0:e.addressLines)&&e.addressLines[1]||\"\",postalCode:(null==e?void 0:e.postalCode)||\"\",countryCode:(null==e?void 0:e.countryCode)||\"\",phone:(null==e?void 0:e.phoneNumber)||\"\",stateOrProvince:(null==e?void 0:e.administrativeArea)||\"\",stateOrProvinceCode:(null==e?void 0:e.administrativeArea)||\"\",customFields:[]}}_getBraintreeDeviceData(){return F(this,void 0,void 0,function*(){try{const{deviceData:e}=yield this._braintreeSdk.getDataCollectorOrThrow();return e}catch(e){}})}_initializeBraintreeSdk(){return F(this,void 0,void 0,function*(){yield this._paymentIntegrationService.loadPaymentMethod(N.BRAINTREE);const e=this._paymentIntegrationService.getState().getPaymentMethod(N.BRAINTREE);e&&e.clientToken&&e.initializationData&&this._braintreeSdk.initialize(e.clientToken)})}}function V(e){if(!function(e){return\"ApplePaySession\"in e}(e))throw new Error(\"Apple pay is not supported\")}class j{create(e){return V(window),new ApplePaySession(1,e)}}class q{constructor(e){this.scriptLoader=e,this.sdkVersion=\"1.latest\"}loadSdk(){return e=this,t=void 0,n=function*(){yield this.scriptLoader.loadScript(`https://applepay.cdn-apple.com/jsapi/${this.sdkVersion}/apple-pay-sdk.js`),V(window)},new((i=void 0)||(i=Promise))(function(a,o){function r(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}l((n=n.apply(e,t||[])).next())});// removed by dead control flow\n var e, t, i, n; }}const H=D(n=>{const{getHost:a}=n.getState(),o=new c(n);return new R((0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_0__.createRequestSender)({host:a()}),n,new j,new T(new O((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),window,o)),new q(new _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.ScriptLoader))},[{id:\"applepay\"}]);class W extends h{constructor(e){super(e||\"An unexpected error has occurred during buy now cart creation process. Please try again later.\"),this.name=\"BuyNowCartCreationError\",this.type=\"buy_now_cart_creation_error\"}}var G,$,K=function(e,t,i,n){return new(i||(i=Promise))(function(a,o){function r(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}l((n=n.apply(e,t||[])).next())})};!function(e){e.Subtotal=\"Subtotal\",e.Shipping=\"Shipping\"}(G||(G={})),function(e){e.Black=\"black\",e.White=\"white\",e.WhiteBorder=\"white-border\"}($||($={}));class X{constructor(e,t,i,n,o){this._requestSender=e,this._paymentIntegrationService=t,this._sessionFactory=i,this._braintreeSdk=n,this._applePayScriptLoader=o,this._onAuthorizeCallback=lodash__WEBPACK_IMPORTED_MODULE_2__.noop,this._subTotalLabel=G.Subtotal,this._shippingLabel=G.Shipping}initialize(e){var t,i;return K(this,void 0,void 0,function*(){const{methodId:n,containerId:a,applepay:o}=e;if(!n||!o)throw new B(M.MissingPaymentMethod);yield this._applePayScriptLoader.loadSdk();const{onPaymentAuthorize:r,buyNowInitializeOptions:s,requiresShipping:l}=o;this._requiresShipping=l,this._buyNowInitializeOptions=s,this._onAuthorizeCallback=r,s||(yield this._paymentIntegrationService.loadDefaultCheckout()),yield this._paymentIntegrationService.loadPaymentMethod(n);const d=this._paymentIntegrationService.getState();return this._paymentMethod=d.getPaymentMethodOrThrow(n),d.getCart()&&(yield this._paymentIntegrationService.verifyCheckoutSpamProtection()),(null===(t=this._paymentMethod.initializationData)||void 0===t?void 0:t.gateway)===N.BRAINTREE&&(yield this._initializeBraintreeSdk()),this._applePayButton=this._createButton(a,null===(i=this._paymentMethod.initializationData)||void 0===i?void 0:i.styleOption),this._applePayButton.addEventListener(\"click\",this._handleWalletButtonClick.bind(this)),Promise.resolve()})}deinitialize(){return Promise.resolve()}_createButton(e,t){const i=document.getElementById(e);if(!i)throw new z(\"Unable to create wallet button without valid container ID.\");const n=this._createApplePayButtonElement(t);return i.appendChild(n),n}_createApplePayButtonElement(e){const t=document.createElement(\"apple-pay-button\");return t.setAttribute(\"buttonstyle\",(e=>{switch(e){case $.White:return\"white\";case $.WhiteBorder:return\"white-outline\";case $.Black:default:return\"black\"}})(e)),t.setAttribute(\"type\",\"plain\"),t.setAttribute(\"style\",\"--apple-pay-button-width: 100%; --apple-pay-button-height: 40px; --apple-pay-button-border-radius: 4px;\"),t}_handleWalletButtonClick(e){var t;return K(this,void 0,void 0,function*(){if(e.preventDefault(),!this._paymentMethod||!this._paymentMethod.initializationData)throw new B(M.MissingPaymentMethod);if(this._buyNowInitializeOptions&&\"function\"==typeof this._buyNowInitializeOptions.getBuyNowCartRequestBody){const{countryCode:e,currencyCode:i,merchantCapabilities:n,supportedNetworks:a,storeName:o}=this._paymentMethod.initializationData,r=this._getRequestWithEmptyTotal(e,i,a,n);this._requiresShipping&&(null===(t=r.requiredShippingContactFields)||void 0===t||t.push(\"postalAddress\"));const s=this._sessionFactory.create(r);this._handleApplePayEvents(s,this._paymentMethod,o),s.begin()}else{const e=this._paymentIntegrationService.getState(),t=e.getCartOrThrow(),i=e.getStoreConfigOrThrow(),n=e.getCheckoutOrThrow(),a=this._getBaseRequest(t,n,i,this._paymentMethod),o=this._sessionFactory.create(a);this._handleApplePayEvents(o,this._paymentMethod,i.storeProfile.storeName),o.begin()}})}_getRequestWithEmptyTotal(e,t,i,n){return{countryCode:e,currencyCode:t,supportedNetworks:i,merchantCapabilities:n,total:{label:\"\",amount:\"0\",type:\"pending\"},requiredBillingContactFields:[\"postalAddress\"],requiredShippingContactFields:[\"email\",\"phone\"]}}_getBaseRequest(e,t,i,n){var a;const{storeProfile:{storeCountryCode:o,storeName:r}}=i,{currency:{code:s,decimalPlaces:l}}=e,{initializationData:{merchantCapabilities:d,supportedNetworks:c}}=n,h=e.lineItems.physicalItems.length>0,u={requiredBillingContactFields:[\"postalAddress\"],requiredShippingContactFields:[\"email\",\"phone\"],countryCode:o,currencyCode:s,merchantCapabilities:d,supportedNetworks:c,lineItems:[],total:h?{label:r,amount:`${t.grandTotal.toFixed(l)}`,type:\"pending\"}:{label:r,amount:`${t.grandTotal.toFixed(l)}`,type:\"final\"}};if(h)null===(a=u.requiredShippingContactFields)||void 0===a||a.push(\"postalAddress\");else{const e=[{label:this._subTotalLabel,amount:`${t.subtotal.toFixed(l)}`}];t.taxes.forEach(t=>e.push({label:t.name,amount:`${t.amount.toFixed(l)}`})),u.lineItems=e}return u}_handleApplePayEvents(e,t,i){e.onvalidatemerchant=i=>K(this,void 0,void 0,function*(){try{const{body:n}=yield this._onValidateMerchant(t,i);e.completeMerchantValidation(n)}catch(e){throw new Error(\"Merchant validation failed\")}}),this._buyNowInitializeOptions&&!this._requiresShipping&&(e.onpaymentmethodselected=()=>K(this,void 0,void 0,function*(){yield this._createBuyNowCart(),this._handlePaymentMethodSelected(e)})),e.onshippingcontactselected=t=>K(this,void 0,void 0,function*(){this._buyNowInitializeOptions&&this._requiresShipping&&(yield this._createBuyNowCart()),yield this._handleShippingContactSelected(e,i,t)}),e.onshippingmethodselected=t=>K(this,void 0,void 0,function*(){yield this._handleShippingMethodSelected(e,i,t)}),e.oncancel=()=>K(this,void 0,void 0,function*(){try{const e=`/remote-checkout/${t.id}/signout`;return yield this._requestSender.get(e),yield this._paymentIntegrationService.loadCheckout()}catch(e){throw new x}}),e.onpaymentauthorized=i=>K(this,void 0,void 0,function*(){return this._onPaymentAuthorized(i,e,t)})}_createBuyNowCart(){var e,t;return K(this,void 0,void 0,function*(){try{const i=null===(t=null===(e=this._buyNowInitializeOptions)||void 0===e?void 0:e.getBuyNowCartRequestBody)||void 0===t?void 0:t.call(e);if(!i)throw new B(M.MissingCart);const n=yield this._paymentIntegrationService.createBuyNowCart(i);yield this._paymentIntegrationService.loadCheckout(n.id);const a=this._paymentIntegrationService.getState(),{shouldExecuteSpamCheck:o}=a.getCheckoutOrThrow();o&&(yield this._paymentIntegrationService.verifyCheckoutSpamProtection())}catch(e){throw new W}})}_handlePaymentMethodSelected(e){const t=this._paymentIntegrationService.getState(),i=t.getCartOrThrow(),n=t.getStoreConfigOrThrow(),a=t.getCheckoutOrThrow();if(!this._paymentMethod||!this._paymentMethod.initializationData)throw new B(M.MissingPaymentMethod);const o=this._getBaseRequest(i,a,n,this._paymentMethod);delete o.total.type,e.completePaymentMethodSelection({newTotal:o.total,newLineItems:o.lineItems})}_handleShippingContactSelected(e,t,i){var n;return K(this,void 0,void 0,function*(){const a=this._transformContactToAddress(i.shippingContact);try{yield this._paymentIntegrationService.updateShippingAddress(a)}catch(t){throw e.abort(),new Error(\"Shipping address update failed\")}let o=this._paymentIntegrationService.getState();const{currency:{decimalPlaces:r}}=o.getCartOrThrow();let s=o.getCheckoutOrThrow();const l=null===(n=s.consignments[0].selectedShippingOption)||void 0===n?void 0:n.id,d=s.consignments[0].availableShippingOptions,c=null==d?void 0:d.find(({id:e})=>e===l),h=null==d?void 0:d.filter(e=>e.id!==l),u=c?[{label:c.description,amount:`${c.cost.toFixed(r)}`,detail:c.additionalDescription,identifier:c.id}]:[];if(h&&[...h.filter(e=>e.isRecommended),...h.filter(e=>!e.isRecommended)].forEach(e=>u.push({label:e.description,amount:`${e.cost.toFixed(r)}`,detail:e.additionalDescription,identifier:e.id})),!(d instanceof Array))throw new Error(\"Shipping options not available.\");if(0===d.length)return void e.completeShippingContactSelection(ApplePaySession.STATUS_INVALID_SHIPPING_POSTAL_ADDRESS,[],{type:\"pending\",label:t,amount:`${s.grandTotal.toFixed(r)}`},[]);const p=d.find(e=>e.isRecommended),m=p?p.id:d[0].id,y=c?c.id:m;try{yield this._updateShippingOption(y)}catch(e){throw new Error(\"Shipping options update failed\")}o=this._paymentIntegrationService.getState(),s=o.getCheckoutOrThrow(),e.completeShippingContactSelection({newShippingMethods:u,newTotal:{type:\"final\",label:t,amount:`${s.grandTotal.toFixed(r)}`},newLineItems:this._getUpdatedLineItems(s,r)})})}_handleShippingMethodSelected(e,t,i){return K(this,void 0,void 0,function*(){const{shippingMethod:{identifier:n}}=i;try{yield this._updateShippingOption(n)}catch(t){throw e.abort(),new Error(\"Shipping option selection update failed.\")}const a=this._paymentIntegrationService.getState(),{currency:{decimalPlaces:o}}=a.getCartOrThrow(),r=a.getCheckoutOrThrow();e.completeShippingMethodSelection({newTotal:{type:\"final\",label:t,amount:`${r.grandTotal.toFixed(o)}`},newLineItems:this._getUpdatedLineItems(r,o)})})}_getUpdatedLineItems(e,t){const i=[{label:this._subTotalLabel,amount:`${e.subtotal.toFixed(t)}`}];return e.taxes.forEach(e=>i.push({label:e.name,amount:`${e.amount.toFixed(t)}`})),i.push({label:this._shippingLabel,amount:`${e.shippingCostTotal.toFixed(t)}`}),i}_updateShippingOption(e){return K(this,void 0,void 0,function*(){return this._paymentIntegrationService.selectShippingOption(e)})}_onValidateMerchant(e,t){return K(this,void 0,void 0,function*(){const i=[`validationUrl=${t.validationURL}`,`merchantIdentifier=${e.initializationData.merchantId}`,`displayName=${e.initializationData.storeName}`,`domainName=${window.location.hostname}`].join(\"&\");return this._requestSender.post(`${e.initializationData.paymentsUrl}/api/public/v1/payments/applepay/validate_merchant`,{credentials:!1,headers:{Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded\",\"X-XSRF-TOKEN\":null},body:i})})}_onPaymentAuthorized(e,t,i){var n;return K(this,void 0,void 0,function*(){const{token:a,billingContact:o,shippingContact:r}=e.payment,s=this._paymentIntegrationService.getState().getCartOrThrow().lineItems.physicalItems.length>0;let l;(null===(n=i.initializationData)||void 0===n?void 0:n.gateway)===N.BRAINTREE&&(l=yield this._getBraintreeDeviceData());const d={methodId:i.id,paymentData:{deviceSessionId:l,formattedPayload:{apple_pay_token:{payment_data:a.paymentData,payment_method:a.paymentMethod,transaction_id:a.transactionIdentifier}}}},c=this._transformContactToAddress(o),h=this._transformContactToAddress(r),u=null==r?void 0:r.emailAddress,p=(null==r?void 0:r.phoneNumber)||\"\";try{return yield this._paymentIntegrationService.updateBillingAddress(Object.assign(Object.assign({},c),{email:u,phone:p})),s&&(yield this._paymentIntegrationService.updateShippingAddress(h)),yield this._paymentIntegrationService.submitOrder({useStoreCredit:!1}),yield this._paymentIntegrationService.submitPayment(d),t.completePayment(ApplePaySession.STATUS_SUCCESS),this._onAuthorizeCallback()}catch(e){throw t.completePayment(ApplePaySession.STATUS_FAILURE),new Error(\"Payment cannot complete\")}})}_transformContactToAddress(e){return{firstName:(null==e?void 0:e.givenName)||\"\",lastName:(null==e?void 0:e.familyName)||\"\",city:(null==e?void 0:e.locality)||\"\",company:\"\",address1:(null==e?void 0:e.addressLines)&&e.addressLines[0]||\"\",address2:(null==e?void 0:e.addressLines)&&e.addressLines[1]||\"\",postalCode:(null==e?void 0:e.postalCode)||\"\",countryCode:(null==e?void 0:e.countryCode)||\"\",phone:(null==e?void 0:e.phoneNumber)||\"\",stateOrProvince:(null==e?void 0:e.administrativeArea)||\"\",stateOrProvinceCode:(null==e?void 0:e.administrativeArea)||\"\",customFields:[]}}_getBraintreeDeviceData(){return K(this,void 0,void 0,function*(){try{const{deviceData:e}=yield this._braintreeSdk.getDataCollectorOrThrow();return e}catch(e){}})}_initializeBraintreeSdk(){return K(this,void 0,void 0,function*(){yield this._paymentIntegrationService.loadPaymentMethod(N.BRAINTREE);const e=this._paymentIntegrationService.getState().getPaymentMethod(N.BRAINTREE);e&&e.clientToken&&e.initializationData&&this._braintreeSdk.initialize(e.clientToken)})}}const Y=D(n=>{const{getHost:a}=n.getState(),o=new c(n);return new X((0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_0__.createRequestSender)({host:a()}),n,new j,new T(new O((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),window,o)),new q(new _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.ScriptLoader))},[{id:\"applepay\"}]);class Q extends z{constructor(e){let t=\"Unable to submit payment for the order because the payload is invalid.\";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(\", \")}.`),super(t),this.name=\"PaymentArgumentInvalidError\"}}class Z extends h{constructor(){super(\"The current order does not need to be finalized at this stage.\"),this.name=\"OrderFinalizationNotRequiredError\",this.type=\"order_finalization_not_required\"}}var J,ee=function(e,t,i,n){return new(i||(i=Promise))(function(a,o){function r(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}l((n=n.apply(e,t||[])).next())})};!function(e){e.Shipping=\"Shipping\",e.Subtotal=\"Subtotal\",e.StoreCredit=\"Store Credit\"}(J||(J={}));class te{constructor(e,t,i,n,a){this._requestSender=e,this._paymentIntegrationService=t,this._sessionFactory=i,this._braintreeSdk=n,this._applePayScriptLoader=a,this._shippingLabel=J.Shipping,this._subTotalLabel=J.Subtotal,this._storeCreditLabel=J.StoreCredit}initialize(e){var t,i,n,a;return ee(this,void 0,void 0,function*(){if(!(null==e?void 0:e.methodId))throw new z('Unable to submit payment because \"options.methodId\" argument is not provided.');const{methodId:o}=e;yield this._applePayScriptLoader.loadSdk(),this._shippingLabel=(null===(t=e.applepay)||void 0===t?void 0:t.shippingLabel)||J.Shipping,this._subTotalLabel=(null===(i=e.applepay)||void 0===i?void 0:i.subtotalLabel)||J.Subtotal,this._storeCreditLabel=(null===(n=e.applepay)||void 0===n?void 0:n.storeCreditLabel)||J.StoreCredit;const r=(yield this._paymentIntegrationService.loadPaymentMethod(o)).getPaymentMethodOrThrow(o);(null===(a=r.initializationData)||void 0===a?void 0:a.gateway)===N.BRAINTREE&&(yield this._initializeBraintreeSdk())})}execute(e,t){return ee(this,void 0,void 0,function*(){const{payment:i}=e,n=this._paymentIntegrationService.getState();if(!i)throw new Q([\"payment\"]);const{methodId:a}=i,o=n.getPaymentMethodOrThrow(a),r=this._getBaseRequest(n,o),s=this._sessionFactory.create(r);return yield this._paymentIntegrationService.submitOrder({useStoreCredit:e.useStoreCredit},t),s.begin(),new Promise((e,t)=>{this._handleApplePayEvents(s,o,{resolve:e,reject:t})})})}finalize(){return Promise.reject(new Z)}deinitialize(){return Promise.resolve()}_getBaseRequest(e,t){const i=e.getCheckoutOrThrow(),n=e.getCartOrThrow(),a=e.getStoreConfigOrThrow(),{storeProfile:{storeCountryCode:o,storeName:r}}=a,{currency:{code:s,decimalPlaces:l}}=n,{initializationData:{merchantCapabilities:d,supportedNetworks:c}}=t,{grandTotal:h,isStoreCreditApplied:u,outstandingBalance:p}=i,m=[{label:this._subTotalLabel,amount:`${i.subtotal.toFixed(l)}`}];if(i.taxes.forEach(e=>m.push({label:e.name,amount:`${e.amount.toFixed(l)}`})),m.push({label:this._shippingLabel,amount:`${i.shippingCostTotal.toFixed(l)}`}),u){const{storeCredit:t}=e.getCustomerOrThrow();m.push({label:this._storeCreditLabel,amount:`-${Math.min(h,t).toFixed(l)}`})}return{countryCode:o,currencyCode:s,merchantCapabilities:d,supportedNetworks:c,lineItems:m,total:{label:r,amount:`${p.toFixed(l)}`,type:\"final\"}}}_handleApplePayEvents(e,t,i){e.onvalidatemerchant=i=>ee(this,void 0,void 0,function*(){try{const{body:n}=yield this._onValidateMerchant(t,i);e.completeMerchantValidation(n)}catch(e){throw new Error(\"Merchant validation failed\")}}),e.oncancel=()=>ee(this,void 0,void 0,function*(){return i.reject(new x(\"Continue with applepay\"))}),e.onpaymentauthorized=n=>this._onPaymentAuthorized(n,e,t,i)}_onValidateMerchant(e,t){return ee(this,void 0,void 0,function*(){const i=[`validationUrl=${t.validationURL}`,`merchantIdentifier=${e.initializationData.merchantId}`,`displayName=${e.initializationData.storeName}`,`domainName=${window.location.hostname}`].join(\"&\");return this._requestSender.post(`${e.initializationData.paymentsUrl}/api/public/v1/payments/applepay/validate_merchant`,{credentials:!1,headers:{Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded\",\"X-XSRF-TOKEN\":null},body:i})})}_onPaymentAuthorized(e,t,i,n){var a;return ee(this,void 0,void 0,function*(){const{token:o}=e.payment;let r;(null===(a=i.initializationData)||void 0===a?void 0:a.gateway)===N.BRAINTREE&&(r=yield this._getBraintreeDeviceData());const s={methodId:i.id,paymentData:{deviceSessionId:r,formattedPayload:{apple_pay_token:{payment_data:o.paymentData,payment_method:o.paymentMethod,transaction_id:o.transactionIdentifier}}}};try{return yield this._paymentIntegrationService.submitPayment(s),t.completePayment(ApplePaySession.STATUS_SUCCESS),n.resolve()}catch(e){return t.completePayment(ApplePaySession.STATUS_FAILURE),n.reject(new f(p.PaymentNotInitialized))}})}_getBraintreeDeviceData(){return ee(this,void 0,void 0,function*(){try{const{deviceData:e}=yield this._braintreeSdk.getDataCollectorOrThrow();return e}catch(e){}})}_initializeBraintreeSdk(){return ee(this,void 0,void 0,function*(){const e=this._paymentIntegrationService.getState();let t=e.getPaymentMethod(N.BRAINTREE_FASTLANE)||e.getPaymentMethod(N.BRAINTREE);t||(yield this._paymentIntegrationService.loadPaymentMethod(N.BRAINTREE),t=e.getPaymentMethod(N.BRAINTREE)),t&&t.clientToken&&t.initializationData&&this._braintreeSdk.initialize(t.clientToken)})}}const ie=D(n=>{const{getHost:a}=n.getState(),o=new c(n);return new te((0,_bigcommerce_request_sender__WEBPACK_IMPORTED_MODULE_0__.createRequestSender)({host:a()}),n,new j,new T(new O((0,_bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.getScriptLoader)(),window,o)),new q(new _bigcommerce_script_loader__WEBPACK_IMPORTED_MODULE_1__.ScriptLoader))},[{id:\"applepay\"}]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY2hlY2tvdXQtc2RrLWpzL2Rpc3QvZXNtL2ludGVncmF0aW9ucy9hcHBsZS1wYXkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUNBLElBQUlBLEVBQXNCLENBQUMsRUNHWixTQUFTQyxFQUNwQkMsRUFDQUMsRUFDQUMsR0FBZ0IsRyxNQUVoQixPQUErQixRQUF4QixFQUFBRixFQUFTQyxVQUFlLFFBQUlDLENBQ3ZDLENDVEFKLEVBQW9CSyxFQUFJLENBQUNDLEVBQVNDLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWFAsRUFBb0JTLEVBQUVGLEVBQVlDLEtBQVNSLEVBQW9CUyxFQUFFSCxFQUFTRSxJQUM1RUUsT0FBT0MsZUFBZUwsRUFBU0UsRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLE1DSjNFUixFQUFvQlMsRUFBSSxDQUFDSyxFQUFLQyxJQUFVTCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLSixFQUFLQyxHQ0EzRSxNQUFNSSxFQUEwQyxVQUMxQ0MsRUFBZ0MsVUFDaENDLEVBQStCLFVDVTdCLE1BQU1DLEVBR2pCLFdBQUFDLENBQW9CQyxHQUFBLEtBQUFBLDBCQUFBQSxFQUZaLEtBQUFDLGdCQUF1Q0MsTUFFNEIsQ0FFM0UsYUFBQUMsR0FDSSxNQUNNQyxFQURRQyxLQUFLTCwwQkFBMEJNLFdBQ25CQyxpQkFDcEI3QixHQUFXMEIsYUFBVyxFQUFYQSxFQUFhSSxpQkFBaUI5QixXQUFZLENBQUMsRUFJNUQsT0FGeUIyQixLQUFLSSwyQkFNMUJoQyxFQUFvQkMsRUFBVSxtREFDdkJpQixFQUdQbEIsRUFBb0JDLEVBQVUsNENBQ3ZCa0IsRUFHSkMsRUFDWCxDQUVRLHNCQUFBWSxHQUNKLE1BQU1DLEVBQVlMLEtBQUtKLGdCQUFnQlMsVUFFdkMsR0FBSUEsRUFBVyxDQUNYLE1BQU1DLEVBQW1CQyw0Q0FBQUEsQ0FDckIxQixPQUFPMkIsT0FBT0gsR0FDYkksS0FBYUEsRUFBT0MsU0FHekIsT0FBT0osYUFBZ0IsRUFBaEJBLEVBQWtCSSxP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QkFBMkIwQixrQkFBa0J6RSxFQUFvQmtGLFdBQzVFOEosRUFBeUI1SyxFQUFNNkssaUJBQWlCalAsRUFBb0JrRixZQUluRThKLEdBQ0FBLEVBQXVCaFUsYUFDdkJnVSxFQUF1QmhLLG9CQUs1QjNNLEtBQUs0SyxjQUFjbEksV0FBV2lVLEVBQXVCaFUsWUFDekQsRSxFQzlSSixNQWlCQSxHQUFld0csRUFoQlh4SixJQUVBLE1BQU0sUUFBRXVYLEdBQVl2WCxFQUEwQk0sV0FDeEM4SCxFQUE2QixJQUFJdEksRUFBMkJFLEdBRWxFLE9BQU8sSUFBSXVaLEdBQ1AvQixnRkFBQUEsQ0FBb0IsQ0FBRUMsS0FBTUYsTUFDNUJ2WCxFQUNBLElBQUlvWCxFQUNKLElBQUl2VSxFQUNBLElBQUlvRixFQUFzQnlQLDJFQUFBQSxHQUFtQnhYLE9BQVFrSSxJQUV6RCxJQUFJaVAsRUFBcUIsSUFBSU0sb0VBQUFBLElBSTRCLENBQUMsQ0FBRXhHLEdBQUksYyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvd2VicGFjay9ib290c3RyYXA/ZmZjYyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvdXRpbGl0eS9zcmMvaXMtZXhwZXJpbWVudC1lbmFibGVkL2lzLWV4cGVyaW1lbnQtZW5hYmxlZC50cz9jOWE0Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzPzk5NGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kPzllYTQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvYnJhaW50cmVlLXNkay12ZXJpc29uLnRzP2Y5YWIiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvYnJhaW50cmVlLXNkay12ZXJzaW9uLW1hbmFnZXIudHM/MDRmOCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9zdGFuZGFyZC1lcnJvci50cz84YTAzIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL3NldC1wcm90b3R5cGUtb2YudHM/ODQ1YSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL3Vuc3VwcG9ydGVkLWJyb3dzZXItZXJyb3IudHM/OTk3ZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9ub3QtaW5pdGlhbGl6ZWQtZXJyb3IudHM/OGI0ZCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy90eXBlcy50cz8zMDIwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL2JyYWludHJlZS50cz9hNzhlIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9icmFpbnRyZWUtdXRpbHMvc3JjL2JyYWludHJlZS1zZGsudHM/ODA2NCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy91dGlscy9pcy1icmFpbnRyZWUtZXJyb3IudHM/MzI4OCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LW1ldGhvZC1jbGllbnQtdW5hdmFpbGFibGUtZXJyb3IudHM/ZjhlYyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy9icmFpbnRyZWUtc2RrLXNjcmlwdHMtaW50ZWdyaXR5LnRzP2IyODciLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvbWlzc2luZy1kYXRhLWVycm9yLnRzP2I3ZGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2FwcGxlLXBheS1pbnRlZ3JhdGlvbi9zcmMvYXBwbGUtcGF5LnRzPzNkOGYiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2JyYWludHJlZS11dGlscy9zcmMvYnJhaW50cmVlLXNjcmlwdC1sb2FkZXIudHM/NjZhYiIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYnJhaW50cmVlLXV0aWxzL3NyYy9pc01hbmFnZWFibGVCcmFpbnRyZWVTREtWZXJzaW9uLnRzP2ZkNzAiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy90by1yZXNvbHZhYmxlLW1vZHVsZS50cz9kNTIwIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL25vdC1pbXBsZW1lbnRlZC1lcnJvci50cz8zYTM1Iiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9wYXltZW50LWludGVncmF0aW9uLWFwaS9zcmMvZXJyb3JzL2ludmFsaWQtYXJndW1lbnQtZXJyb3IudHM/MzkyMSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGkvc3JjL2Vycm9ycy9wYXltZW50LW1ldGhvZC1jYW5jZWxsZWQtZXJyb3IudHM/MDg5MCIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYXBwbGUtcGF5LWludGVncmF0aW9uL3NyYy9hcHBsZS1wYXktY3VzdG9tZXItc3RyYXRlZ3kudHM/NTVkNyIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYXBwbGUtcGF5LWludGVncmF0aW9uL3NyYy9hcHBsZS1wYXktc2Vzc2lvbi1mYWN0b3J5LnRzPzNkMmEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2FwcGxlLXBheS1pbnRlZ3JhdGlvbi9zcmMvYXBwbGUtcGF5LXNjcmlwdC1sb2FkZXIudHM/NDk5OSIsIndlYnBhY2s6Ly9jaGVja291dC9AYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrLy4vcGFja2FnZXMvYXBwbGUtcGF5LWludGVncmF0aW9uL3NyYy9jcmVhdGUtYXBwbGUtcGF5LWN1c3RvbWVyLXN0cmF0ZWd5LnRzPzQ4ZGMiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvYnV5LW5vdy1jYXJ0LWNyZWF0aW9uLWVycm9yLnRzP2Q2MDQiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2FwcGxlLXBheS1pbnRlZ3JhdGlvbi9zcmMvYXBwbGUtcGF5LWJ1dHRvbi1zdHJhdGVneS50cz9hM2FmIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9hcHBsZS1wYXktaW50ZWdyYXRpb24vc3JjL2NyZWF0ZS1hcHBsZS1wYXktYnV0dG9uLXN0cmF0ZWd5LnRzP2VmZmUiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvcGF5bWVudC1hcmd1bWVudC1pbnZhbGlkLWVycm9yLnRzP2E1MDEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpL3NyYy9lcnJvcnMvb3JkZXItZmluYWxpemF0aW9uLW5vdC1yZXF1aXJlZC1lcnJvci50cz9iNWExIiwid2VicGFjazovL2NoZWNrb3V0L0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvLi9wYWNrYWdlcy9hcHBsZS1wYXktaW50ZWdyYXRpb24vc3JjL2FwcGxlLXBheS1wYXltZW50LXN0cmF0ZWd5LnRzPzIxYjEiLCJ3ZWJwYWNrOi8vY2hlY2tvdXQvQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay8uL3BhY2thZ2VzL2FwcGxlLXBheS1pbnRlZ3JhdGlvbi9zcmMvY3JlYXRlLWFwcGxlLXBheS1wYXltZW50LXN0cmF0ZWd5LnRzPzk1OTEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsImV4cG9ydCBpbnRlcmZhY2UgRmVhdHVyZXMge1xuICAgIFtmZWF0dXJlTmFtZTogc3RyaW5nXTogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNFeHBlcmltZW50RW5hYmxlZChcbiAgICBmZWF0dXJlczogRmVhdHVyZXMsXG4gICAgZXhwZXJpbWVudE5hbWU6IHN0cmluZyxcbiAgICBmYWxsYmFja1ZhbHVlID0gdHJ1ZSxcbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmZWF0dXJlc1tleHBlcmltZW50TmFtZV0gPz8gZmFsbGJhY2tWYWx1ZTtcbn1cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJleHBvcnQgY29uc3QgQlJBSU5UUkVFX1NES19IT1NURURfRklFTERTX0ZJWF9WRVJTSU9OID0gJzMuMTI4LjAnO1xuZXhwb3J0IGNvbnN0IEJSQUlOVFJFRV9TREtfREVGQVVMVF9WRVJTSU9OID0gJzMuMTIzLjInO1xuZXhwb3J0IGNvbnN0IEJSQUlOVFJFRV9TREtfU1RBQkxFX1ZFUlNJT04gPSAnMy4xMDYuMCc7XG4iLCJpbXBvcnQgeyBmaW5kIH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHsgUGF5bWVudEludGVncmF0aW9uU2VydmljZSB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuaW1wb3J0IHsgaXNFeHBlcmltZW50RW5hYmxlZCB9IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvdXRpbGl0eSc7XG5cbmltcG9ydCB7IEJyYWludHJlZUhvc3RXaW5kb3cgfSBmcm9tICcuL2JyYWludHJlZSc7XG5pbXBvcnQge1xuICAgIEJSQUlOVFJFRV9TREtfREVGQVVMVF9WRVJTSU9OLFxuICAgIEJSQUlOVFJFRV9TREtfSE9TVEVEX0ZJRUxEU19GSVhfVkVSU0lPTixcbiAgICBCUkFJTlRSRUVfU0RLX1NUQUJMRV9WRVJTSU9OLFxufSBmcm9tICcuL2JyYWludHJlZS1zZGstdmVyaXNvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyIHtcbiAgICBwcml2YXRlIGJyYWludHJlZVdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyA9IHdpbmRvdztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSkge31cblxuICAgIGdldFNES1ZlcnNpb24oKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHN0b3JlQ29uZmlnID0gc3RhdGUuZ2V0U3RvcmVDb25maWcoKTtcbiAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBzdG9yZUNvbmZpZz8uY2hlY2tvdXRTZXR0aW5ncy5mZWF0dXJlcyB8fCB7fTtcblxuICAgICAgICBjb25zdCBwcmVsb2FkZWRWZXJzaW9uID0gdGhpcy5nZXRQcmVsb2FkZWRTREtWZXJzaW9uKCk7XG5cbiAgICAgICAgaWYgKHByZWxvYWRlZFZlcnNpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBwcmVsb2FkZWRWZXJzaW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRXhwZXJpbWVudEVuYWJsZWQoZmVhdHVyZXMsICdQQVlQQUwtNTgwOS5icmFpbnRyZWVfaG9zdGVkX2ZpZWxkc19maXhfdmVyc2lvbicpKSB7XG4gICAgICAgICAgICByZXR1cm4gQlJBSU5UUkVFX1NES19IT1NURURfRklFTERTX0ZJWF9WRVJTSU9OO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRXhwZXJpbWVudEVuYWJsZWQoZmVhdHVyZXMsICdQQVlQQUwtNTYzNi51cGRhdGVfYnJhaW50cmVlX3Nka192ZXJzaW9uJykpIHtcbiAgICAgICAgICAgIHJldHVybiBCUkFJTlRSRUVfU0RLX0RFRkFVTFRfVkVSU0lPTjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCUkFJTlRSRUVfU0RLX1NUQUJMRV9WRVJTSU9OO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UHJlbG9hZGVkU0RLVmVyc2lvbigpOiB2b2lkIHwgc3RyaW5nIHtcbiAgICAgICAgY29uc3QgYnJhaW50cmVlID0gdGhpcy5icmFpbnRyZWVXaW5kb3cuYnJhaW50cmVlO1xuXG4gICAgICAgIGlmIChicmFpbnRyZWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZWxvYWRlZFZlcnNpb24gPSBmaW5kPHsgVkVSU0lPTj86IHN0cmluZyB9PihcbiAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKGJyYWludHJlZSksXG4gICAgICAgICAgICAgICAgKG1vZHVsZSkgPT4gISFtb2R1bGUuVkVSU0lPTixcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiBwcmVsb2FkZWRWZXJzaW9uPy5WRVJTSU9OO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IEN1c3RvbUVycm9yIGZyb20gJy4vY3VzdG9tLWVycm9yJztcbmltcG9ydCBzZXRQcm90b3R5cGVPZiBmcm9tICcuL3NldC1wcm90b3R5cGUtb2YnO1xuXG4vKipcbiAqIFRoaXMgZXJyb3IgdHlwZSBzaG91bGQgbm90IGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5LiBJdCBpcyBhIGJhc2UgY2xhc3MgZm9yXG4gKiBhbGwgY3VzdG9tIGVycm9ycyB0aHJvd24gaW4gdGhpcyBsaWJyYXJ5LlxuICovXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBTdGFuZGFyZEVycm9yIGV4dGVuZHMgRXJyb3IgaW1wbGVtZW50cyBDdXN0b21FcnJvciB7XG4gICAgbmFtZSA9ICdTdGFuZGFyZEVycm9yJztcbiAgICB0eXBlID0gJ3N0YW5kYXJkJztcblxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSB8fCAnQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWQuJyk7XG5cbiAgICAgICAgc2V0UHJvdG90eXBlT2YodGhpcywgbmV3LnRhcmdldC5wcm90b3R5cGUpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIG5ldy50YXJnZXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGFjayA9IG5ldyBFcnJvcih0aGlzLm1lc3NhZ2UpLnN0YWNrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0UHJvdG90eXBlT2Yob2JqZWN0OiBhbnksIHByb3RvdHlwZTogb2JqZWN0KSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2Yob2JqZWN0LCBwcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG9iamVjdC5fX3Byb3RvX18gPSBwcm90b3R5cGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdDtcbn1cbiIsImltcG9ydCB7IFN0YW5kYXJkRXJyb3IgfSBmcm9tICcuL2luZGV4JztcblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIHRoZSBzaG9wcGVyIGlzIHVzaW5nIGEgYnJvd3NlciB2ZXJzaW9uIHRoYXQgaXMgbm90XG4gKiBzdXBwb3J0ZWQgYnkgdXMgb3IgYW55IHRoaXJkIHBhcnR5IHByb3ZpZGVyIHdlIHVzZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVW5zdXBwb3J0ZWRCcm93c2VyRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ1Vuc3VwcG9ydGVkIGJyb3dzZXIgZXJyb3InKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnVW5zdXBwb3J0ZWRCcm93c2VyRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAndW5zdXBwb3J0ZWRfYnJvd3Nlcic7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbmV4cG9ydCBlbnVtIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlIHtcbiAgICBDaGVja291dEJ1dHRvbk5vdEluaXRpYWxpemVkLFxuICAgIEN1c3RvbWVyTm90SW5pdGlhbGl6ZWQsXG4gICAgUGF5bWVudE5vdEluaXRpYWxpemVkLFxuICAgIFNoaXBwaW5nTm90SW5pdGlhbGl6ZWQsXG4gICAgU3BhbVByb3RlY3Rpb25Ob3RJbml0aWFsaXplZCxcbn1cblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIGEgbWV0aG9kIHJlcXVpcmVzIGEgY2VydGFpbiBpbml0aWFsaXphdGlvbiBjYWxsIHRvIGJlXG4gKiBtYWRlIGZpcnN0LiBTb21lIG9iamVjdHMgY2FuIGJlIGNvbnN0cnVjdGVkIGJ1dCB0aGV5IGNhbm5vdCBiZSB1c2VkIHVudGlsIGFcbiAqIHNlcGFyYXRlIGluaXRpYWxpemF0aW9uIGNhbGwgaXMgbWFkZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm90SW5pdGlhbGl6ZWRFcnJvciBleHRlbmRzIFN0YW5kYXJkRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdWJ0eXBlOiBOb3RJbml0aWFsaXplZEVycm9yVHlwZSkge1xuICAgICAgICBzdXBlcihnZXRFcnJvck1lc3NhZ2Uoc3VidHlwZSkpO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdOb3RJbml0aWFsaXplZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ25vdF9pbml0aWFsaXplZCc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UodHlwZTogTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLkN1c3RvbWVyTm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIGN1c3RvbWVyIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5QYXltZW50Tm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHBheW1lbnQgc3RlcCBvZiBjaGVja291dCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQuJztcblxuICAgICAgICBjYXNlIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlNoaXBwaW5nTm90SW5pdGlhbGl6ZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlIHNoaXBwaW5nIHN0ZXAgb2YgY2hlY2tvdXQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgY2FzZSBOb3RJbml0aWFsaXplZEVycm9yVHlwZS5TcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjaGVja291dCBzcGFtIHByb3RlY3Rpb24gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLic7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcmVxdWlyZWQgY29tcG9uZW50IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4nO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFkZHJlc3MgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuZXhwb3J0ICogZnJvbSAnLi9icmFpbnRyZWUnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXlwYWwnO1xuZXhwb3J0ICogZnJvbSAnLi92aXNhY2hlY2tvdXQnO1xuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgTW9kdWxlXG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZU1vZHVsZUNyZWF0b3I8XG4gICAgVEluc3RhbmNlLFxuICAgIFRPcHRpb25zID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvckNvbmZpZyxcbiAgICBURXJyb3IgPSBCcmFpbnRyZWVFcnJvcixcbj4ge1xuICAgIGNyZWF0ZShcbiAgICAgICAgY29uZmlnOiBUT3B0aW9ucyxcbiAgICAgICAgY2FsbGJhY2s/OiAoZXJyb3I6IFRFcnJvciwgaW5zdGFuY2U6IFRJbnN0YW5jZSkgPT4gdm9pZCxcbiAgICApOiBQcm9taXNlPFRJbnN0YW5jZT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTW9kdWxlQ3JlYXRvckNvbmZpZyB7XG4gICAgY2xpZW50PzogQnJhaW50cmVlQ2xpZW50O1xuICAgIGF1dGhvcml6YXRpb24/OiBzdHJpbmc7IC8vIEluZm86IGF1dGhvcml6YXRpb24gdXNlcyBjbGllbnRUb2tlbiBhcyBhIHZhbHVlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTW9kdWxlIHtcbiAgICB0ZWFyZG93bigpOiBQcm9taXNlPHZvaWQ+O1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgV2luZG93XG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVdpbmRvdyBleHRlbmRzIFdpbmRvdyB7XG4gICAgY2xpZW50PzogQnJhaW50cmVlQ2xpZW50Q3JlYXRvcjtcbiAgICBicmFpbnRyZWVGYXN0bGFuZT86IEJyYWludHJlZUZhc3RsYW5lO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgQ2xpZW50XG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVDbGllbnRDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxCcmFpbnRyZWVDbGllbnQ+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUNsaWVudCB7XG4gICAgcmVxdWVzdChwYXlsb2FkOiBCcmFpbnRyZWVDbGllbnRSZXF1ZXN0UGF5bG9hZCk6IFByb21pc2U8QnJhaW50cmVlQ2xpZW50UmVxdWVzdFJlc3BvbnNlPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVDbGllbnRSZXF1ZXN0UGF5bG9hZCB7XG4gICAgZGF0YToge1xuICAgICAgICBjcmVkaXRDYXJkOiB7XG4gICAgICAgICAgICBiaWxsaW5nQWRkcmVzcz86IHtcbiAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZUFscGhhMjogc3RyaW5nO1xuICAgICAgICAgICAgICAgIGxvY2FsaXR5OiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgY291bnRyeU5hbWU6IHN0cmluZztcbiAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgc3RyZWV0QWRkcmVzczogc3RyaW5nO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhcmRob2xkZXJOYW1lOiBzdHJpbmc7XG4gICAgICAgICAgICBjdnY/OiBzdHJpbmc7XG4gICAgICAgICAgICBleHBpcmF0aW9uRGF0ZTogc3RyaW5nO1xuICAgICAgICAgICAgbnVtYmVyOiBzdHJpbmc7XG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGU6IGJvb2xlYW47XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH07XG4gICAgZW5kcG9pbnQ6IHN0cmluZztcbiAgICBtZXRob2Q6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNUb2tlbml6ZVBheWxvYWQge1xuICAgIG5vbmNlOiBzdHJpbmc7XG4gICAgZGV0YWlsczoge1xuICAgICAgICBiaW46IHN0cmluZztcbiAgICAgICAgY2FyZFR5cGU6IHN0cmluZztcbiAgICAgICAgZXhwaXJhdGlvbk1vbnRoOiBzdHJpbmc7XG4gICAgICAgIGV4cGlyYXRpb25ZZWFyOiBzdHJpbmc7XG4gICAgICAgIGxhc3RGb3VyOiBzdHJpbmc7XG4gICAgICAgIGxhc3RUd286IHN0cmluZztcbiAgICB9O1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGJpbkRhdGE6IHtcbiAgICAgICAgY29tbWVyY2lhbDogc3RyaW5nO1xuICAgICAgICBjb3VudHJ5T2ZJc3N1YW5jZTogc3RyaW5nO1xuICAgICAgICBkZWJpdDogc3RyaW5nO1xuICAgICAgICBkdXJiaW5SZWd1bGF0ZWQ6IHN0cmluZztcbiAgICAgICAgaGVhbHRoY2FyZTogc3RyaW5nO1xuICAgICAgICBpc3N1aW5nQmFuazogc3RyaW5nO1xuICAgICAgICBwYXlyb2xsOiBzdHJpbmc7XG4gICAgICAgIHByZXBhaWQ6IHN0cmluZztcbiAgICAgICAgcHJvZHVjdElkOiBzdHJpbmc7XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVDbGllbnRSZXF1ZXN0UmVzcG9uc2Uge1xuICAgIGNyZWRpdENhcmRzOiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNUb2tlbml6ZVBheWxvYWRbXTtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIERhdGEgQ29sbGVjdG9yXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8XG4gICAgQnJhaW50cmVlRGF0YUNvbGxlY3RvcixcbiAgICBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvckNvbmZpZ1xuPjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvckNvbmZpZyBleHRlbmRzIEJyYWludHJlZU1vZHVsZUNyZWF0b3JDb25maWcge1xuICAgIGtvdW50PzogYm9vbGVhbjsgLy8gSW5mbzogdGhpcyBwYXJhbSBpcyBuZWVkZWQgZm9yIGZyYXVkIGRldGVjdGlvbiAoc2hvdWxkIGFsd2F5cyBiZSAndHJ1ZScpXG4gICAgcGF5cGFsPzogYm9vbGVhbjsgLy8gVE9ETzogYmFzZWQgb24gYnJhaW50cmVlIGRvY3VtZW50YXRpb24sIHRoaXMgcGFyYW0gaXMgZGVwcmVjYXRlZCwgc28gd2UgZG9udCBuZWVkIGl0IGFueW1vcmVcbiAgICByaXNrQ29ycmVsYXRpb25JZD86IHN0cmluZzsgLy8gSW5mbzogdGhlIG9wdGlvbiBpcyBuZWVkZWQgZm9yIFBheVBhbCBBbmFseXRpY3Ncbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yIGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlIHtcbiAgICBkZXZpY2VEYXRhPzogc3RyaW5nO1xufVxuXG4vLyBUT0RPOiByZW1vdmUgdGhpcyBpbnRlcmZhY2Ugd2hlbiBCcmFpbnRyZWVJbnRlZ3JhdGlvblNlcnZpY2Ugd2lsbCBiZSByZW1vdmVkXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZURhdGFDb2xsZWN0b3JzIHtcbiAgICBkZWZhdWx0PzogQnJhaW50cmVlRGF0YUNvbGxlY3RvcjtcbiAgICBwYXlwYWw/OiBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgR29vZ2xlIFBheW1lbnRcbiAqXG4gKi9cbnR5cGUgQnJhaW50cmVlR29vZ2xlUGF5bWVudEFkZHJlc3NGb3JtYXQgPSAnRlVMTCcgfCAnTUlOJztcblxuZXhwb3J0IGVudW0gVG90YWxQcmljZVN0YXR1c1R5cGUge1xuICAgIEVTVElNQVRFRCA9ICdFU1RJTUFURUQnLFxuICAgIEZJTkFMID0gJ0ZJTkFMJyxcbiAgICBOT1RfQ1VSUkVOVExZX0tOT1dOID0gJ05PVF9DVVJSRU5UTFlfS05PV04nLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUdvb2dsZVBheW1lbnREYXRhUmVxdWVzdE9wdGlvbnMge1xuICAgIG1lcmNoYW50SW5mbzoge1xuICAgICAgICBhdXRoSnd0Pzogc3RyaW5nO1xuICAgICAgICBtZXJjaGFudElkPzogc3RyaW5nO1xuICAgICAgICBtZXJjaGFudE5hbWU/OiBzdHJpbmc7XG4gICAgfTtcbiAgICB0cmFuc2FjdGlvbkluZm86IHtcbiAgICAgICAgY3VycmVuY3lDb2RlOiBzdHJpbmc7XG4gICAgICAgIHRvdGFsUHJpY2VTdGF0dXM6IFRvdGFsUHJpY2VTdGF0dXNUeXBlO1xuICAgICAgICB0b3RhbFByaWNlOiBzdHJpbmc7XG4gICAgfTtcbiAgICBjYXJkUmVxdWlyZW1lbnRzOiB7XG4gICAgICAgIGJpbGxpbmdBZGRyZXNzUmVxdWlyZWQ6IGJvb2xlYW47XG4gICAgICAgIGJpbGxpbmdBZGRyZXNzRm9ybWF0OiBCcmFpbnRyZWVHb29nbGVQYXltZW50QWRkcmVzc0Zvcm1hdDtcbiAgICB9O1xuICAgIGVtYWlsUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIHBob25lTnVtYmVyUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIHNoaXBwaW5nQWRkcmVzc1JlcXVpcmVkPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVHb29nbGVQYXltZW50RGF0YVJlcXVlc3Qge1xuICAgIGFsbG93ZWRQYXltZW50TWV0aG9kczogc3RyaW5nW107XG4gICAgYXBpVmVyc2lvbjogbnVtYmVyO1xuICAgIGNhcmRSZXF1aXJlbWVudHM6IHtcbiAgICAgICAgYWxsb3dlZENhcmROZXR3b3Jrczogc3RyaW5nW107XG4gICAgICAgIGJpbGxpbmdBZGRyZXNzRm9ybWF0OiBzdHJpbmc7XG4gICAgICAgIGJpbGxpbmdBZGRyZXNzUmVxdWlyZWQ6IGJvb2xlYW47XG4gICAgfTtcbiAgICBlbnZpcm9ubWVudDogc3RyaW5nO1xuICAgIGk6IHtcbiAgICAgICAgZ29vZ2xlVHJhbnNhY3Rpb25JZDogc3RyaW5nO1xuICAgICAgICBzdGFydFRpbWVNczogbnVtYmVyO1xuICAgIH07XG4gICAgbWVyY2hhbnRJbmZvOiB7XG4gICAgICAgIG1lcmNoYW50SWQ6IHN0cmluZztcbiAgICAgICAgbWVyY2hhbnROYW1lOiBzdHJpbmc7XG4gICAgICAgIGF1dGhKd3Q/OiBzdHJpbmc7XG4gICAgfTtcbiAgICBwYXltZW50TWV0aG9kVG9rZW5pemF0aW9uUGFyYW1ldGVyczoge1xuICAgICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICAnYnJhaW50cmVlOmFwaVZlcnNpb24nOiBzdHJpbmc7XG4gICAgICAgICAgICAnYnJhaW50cmVlOmF1dGhvcml6YXRpb25GaW5nZXJwcmludCc6IHN0cmluZztcbiAgICAgICAgICAgICdicmFpbnRyZWU6bWVyY2hhbnRJZCc6IHN0cmluZztcbiAgICAgICAgICAgICdicmFpbnRyZWU6bWV0YWRhdGEnOiBzdHJpbmc7XG4gICAgICAgICAgICAnYnJhaW50cmVlOnNka1ZlcnNpb24nOiBzdHJpbmc7XG4gICAgICAgICAgICBnYXRld2F5OiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgICAgIHRva2VuaXphdGlvblR5cGU6IHN0cmluZztcbiAgICB9O1xuICAgIHNoaXBwaW5nQWRkcmVzc1JlcXVpcmVkOiBib29sZWFuO1xuICAgIHBob25lTnVtYmVyUmVxdWlyZWQ6IGJvb2xlYW47XG4gICAgdHJhbnNhY3Rpb25JbmZvOiB7XG4gICAgICAgIGN1cnJlbmN5Q29kZTogc3RyaW5nO1xuICAgICAgICB0b3RhbFByaWNlOiBzdHJpbmc7XG4gICAgICAgIHRvdGFsUHJpY2VTdGF0dXM6IFRvdGFsUHJpY2VTdGF0dXNUeXBlO1xuICAgIH07XG59XG5cbmV4cG9ydCB0eXBlIEJyYWludHJlZUdvb2dsZVBheW1lbnRDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxCcmFpbnRyZWVHb29nbGVQYXltZW50PjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVHb29nbGVQYXltZW50IGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlIHtcbiAgICBjcmVhdGVQYXltZW50RGF0YVJlcXVlc3QoXG4gICAgICAgIG9wdGlvbnM/OiBCcmFpbnRyZWVHb29nbGVQYXltZW50RGF0YVJlcXVlc3RPcHRpb25zLFxuICAgICk6IEJyYWludHJlZUdvb2dsZVBheW1lbnREYXRhUmVxdWVzdDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVHb29nbGVQYXlUaHJlZURTZWN1cmUge1xuICAgIHZlcmlmeUNhcmQob3B0aW9uczogQnJhaW50cmVlR29vZ2xlUGF5VGhyZWVEU2VjdXJlT3B0aW9ucyk6IFByb21pc2U8QnJhaW50cmVlVmVyaWZ5UGF5bG9hZD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlR29vZ2xlUGF5VGhyZWVEU2VjdXJlT3B0aW9ucyB7XG4gICAgbm9uY2U6IHN0cmluZztcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgICBiaW46IHN0cmluZztcbiAgICBzaG93TG9hZGVyPzogYm9vbGVhbjtcbiAgICBvbkxvb2t1cENvbXBsZXRlKGRhdGE6IEJyYWludHJlZVRocmVlRFNlY3VyZVZlcmlmaWNhdGlvbkRhdGEsIG5leHQ6ICgpID0+IHZvaWQpOiB2b2lkO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgM0QgU2VjdXJlXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxcbiAgICBCcmFpbnRyZWVUaHJlZURTZWN1cmUsXG4gICAgQnJhaW50cmVlVGhyZWVEU2VjdXJlQ3JlYXRvckNvbmZpZ1xuPjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmUgZXh0ZW5kcyBCcmFpbnRyZWVNb2R1bGUge1xuICAgIHZlcmlmeUNhcmQoXG4gICAgICAgIG9wdGlvbnM6IEJyYWludHJlZVRocmVlRFNlY3VyZU9wdGlvbnMsXG4gICAgICAgIGNhbGxiYWNrPzogQnJhaW50cmVlM0RTVmVyaWZ5Q2FyZENhbGxiYWNrLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlVmVyaWZ5UGF5bG9hZD47XG4gICAgY2FuY2VsVmVyaWZ5Q2FyZCgpOiBQcm9taXNlPEJyYWludHJlZVZlcmlmeVBheWxvYWQ+O1xuICAgIG9uPEsgZXh0ZW5kcyBrZXlvZiBCcmFpbnRyZWVUaHJlZURTZWN1cmVFdmVudE1hcD4oXG4gICAgICAgIGV2ZW50OiBLLFxuICAgICAgICBoYW5kbGVyOiBCcmFpbnRyZWVUaHJlZURTZWN1cmVFdmVudE1hcFtLXSxcbiAgICApOiB2b2lkO1xufVxuXG5leHBvcnQgdHlwZSBCcmFpbnRyZWUzRFNWZXJpZnlDYXJkQ2FsbGJhY2sgPSAoXG4gICAgdmVyaWZ5RXJyb3I6IEJyYWludHJlZTNEU1ZlcmlmeUNhcmRFcnJvcixcbiAgICBwYXlsb2FkOiBCcmFpbnRyZWUzRFNWZXJpZnlDYXJkUGF5bG9hZCxcbikgPT4gdm9pZDtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVFdmVudE1hcCB7XG4gICAgJ2N1c3RvbWVyLWNhbmNlbGVkJzogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWUzRFNWZXJpZnlDYXJkRXJyb3Ige1xuICAgIGNvZGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWUzRFNWZXJpZnlDYXJkUGF5bG9hZCB7XG4gICAgbm9uY2U6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVDcmVhdG9yQ29uZmlnIGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlQ3JlYXRvckNvbmZpZyB7XG4gICAgdmVyc2lvbj86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVPcHRpb25zIHtcbiAgICBub25jZTogc3RyaW5nO1xuICAgIGFtb3VudDogbnVtYmVyIHwgc3RyaW5nO1xuICAgIGNoYWxsZW5nZVJlcXVlc3RlZD86IGJvb2xlYW47XG4gICAgc2hvd0xvYWRlcj86IGJvb2xlYW47XG4gICAgYmluPzogc3RyaW5nO1xuICAgIGFkZGl0aW9uYWxJbmZvcm1hdGlvbj86IHtcbiAgICAgICAgYWNzV2luZG93U2l6ZT86ICcwMScgfCAnMDInIHwgJzAzJyB8ICcwNCcgfCAnMDUnO1xuICAgIH07XG4gICAgY29sbGVjdERldmljZURhdGE/OiBib29sZWFuO1xuICAgIGFkZEZyYW1lPyhcbiAgICAgICAgZXJyb3I6IEVycm9yIHwgdW5kZWZpbmVkLFxuICAgICAgICBpZnJhbWU6IEhUTUxJRnJhbWVFbGVtZW50LFxuICAgICAgICBjYW5jZWw6ICgpID0+IFByb21pc2U8QnJhaW50cmVlVmVyaWZ5UGF5bG9hZD4gfCB1bmRlZmluZWQsXG4gICAgKTogdm9pZDtcbiAgICByZW1vdmVGcmFtZT8oKTogdm9pZDtcbiAgICBvbkxvb2t1cENvbXBsZXRlPyhkYXRhOiBCcmFpbnRyZWVUaHJlZURTZWN1cmVWZXJpZmljYXRpb25EYXRhLCBuZXh0OiAoKSA9PiB2b2lkKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVWZXJpZmljYXRpb25EYXRhIHtcbiAgICBsb29rdXA6IHtcbiAgICAgICAgdGhyZWVEU2VjdXJlVmVyc2lvbjogc3RyaW5nO1xuICAgIH07XG4gICAgcGF5bWVudE1ldGhvZDogQnJhaW50cmVlVmVyaWZ5UGF5bG9hZDtcbiAgICByZXF1aXJlc1VzZXJBdXRoZW50aWNhdGlvbjogYm9vbGVhbjtcbiAgICB0aHJlZURTZWN1cmVJbmZvOiB7XG4gICAgICAgIGxpYWJpbGl0eVNoaWZ0UG9zc2libGU6IGJvb2xlYW47XG4gICAgICAgIGxpYWJpbGl0eVNoaWZ0ZWQ6IGJvb2xlYW47XG4gICAgfTtcbn1cblxuZXhwb3J0IGVudW0gQnJhaW50cmVlT3JkZXJTdGF0dXMge1xuICAgIENvbXBsZXRlZCA9ICdDT01QTEVURUQnLFxuICAgIFBlbmRpbmcgPSAnUEVORElORycsXG4gICAgRmFpbGVkID0gJ0ZBSUxFRCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlT3JkZXJTdGF0dXNEYXRhIHtcbiAgICBzdGF0dXM6IEJyYWludHJlZU9yZGVyU3RhdHVzO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgVVMgQmFuayBBY2NvdW50IChBQ0gpXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVVc0JhbmtBY2NvdW50Q3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8QnJhaW50cmVlVXNCYW5rQWNjb3VudD47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVXNCYW5rQWNjb3VudCB7XG4gICAgdG9rZW5pemUoXG4gICAgICAgIG9wdGlvbnM6IEJyYWludHJlZVVzQmFua0FjY291bnRUb2tlbml6YXRpb25PcHRpb25zLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlVXNCYW5rQWNjb3VudFRva2VuaXphdGlvblJlc3BvbnNlPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVVc0JhbmtBY2NvdW50VG9rZW5pemF0aW9uT3B0aW9ucyB7XG4gICAgYmFua0RldGFpbHM6IEJyYWludHJlZVVzQmFua0FjY291bnREZXRhaWxzO1xuICAgIG1hbmRhdGVUZXh0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVXNCYW5rQWNjb3VudFRva2VuaXphdGlvblJlc3BvbnNlIHtcbiAgICBub25jZTogc3RyaW5nO1xuICAgIGRldGFpbHM6IEJyYWludHJlZVRva2VuaXphdGlvbkRldGFpbHM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVXNCYW5rQWNjb3VudERldGFpbHMge1xuICAgIGFjY291bnROdW1iZXI6IHN0cmluZztcbiAgICByb3V0aW5nTnVtYmVyOiBzdHJpbmc7XG4gICAgb3duZXJzaGlwVHlwZTogc3RyaW5nO1xuICAgIGFjY291bnRUeXBlOiBzdHJpbmc7XG4gICAgZmlyc3ROYW1lPzogc3RyaW5nO1xuICAgIGxhc3ROYW1lPzogc3RyaW5nO1xuICAgIGJ1c2luZXNzTmFtZT86IHN0cmluZztcbiAgICBiaWxsaW5nQWRkcmVzczoge1xuICAgICAgICBzdHJlZXRBZGRyZXNzOiBzdHJpbmc7XG4gICAgICAgIGV4dGVuZGVkQWRkcmVzczogc3RyaW5nO1xuICAgICAgICBsb2NhbGl0eTogc3RyaW5nO1xuICAgICAgICByZWdpb246IHN0cmluZztcbiAgICAgICAgcG9zdGFsQ29kZTogc3RyaW5nO1xuICAgIH07XG59XG5cbi8vIFRPRE86IG1vdmUgdGhpcyBpbnRlcmZhY2UgaW4gc2VwYXJhdGUgdHlwZXMgZ3JvdXAgaWYgaXQgd2lsbCBiZSB1c2VkIGluIGFub3RoZXIgKG5vdCBBQ0gpIHN0cmF0ZWdpZXNcbi8vIFRoaXMgc2VlbXMgdG8gYmUgYW4gaW50ZXJmYWNlIHdoaWNoIHdpbGwgYmUgdXNlZCBpbiBkaWZmZXJlbnQgcGxhY2VzXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVRva2VuaXphdGlvbkRldGFpbHMge1xuICAgIHVzZXJuYW1lPzogc3RyaW5nO1xuICAgIGVtYWlsPzogc3RyaW5nO1xuICAgIHBheWVySWQ/OiBzdHJpbmc7XG4gICAgZmlyc3ROYW1lPzogc3RyaW5nO1xuICAgIGxhc3ROYW1lPzogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlPzogc3RyaW5nO1xuICAgIHBob25lPzogc3RyaW5nO1xuICAgIHNoaXBwaW5nQWRkcmVzcz86IEJyYWludHJlZVNoaXBwaW5nQWRkcmVzcztcbiAgICBiaWxsaW5nQWRkcmVzcz86IEJyYWludHJlZUFkZHJlc3M7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlQWRkcmVzcyB7XG4gICAgbGluZTE6IHN0cmluZztcbiAgICBsaW5lMjogc3RyaW5nO1xuICAgIGNpdHk6IHN0cmluZztcbiAgICBzdGF0ZTogc3RyaW5nO1xuICAgIHBvc3RhbENvZGU6IHN0cmluZztcbiAgICBjb3VudHJ5Q29kZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVNoaXBwaW5nQWRkcmVzcyBleHRlbmRzIEJyYWludHJlZUFkZHJlc3Mge1xuICAgIHJlY2lwaWVudE5hbWU6IHN0cmluZztcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIG5vbi1pbnN0YW50IHBheW1lbnQgbWV0aG9kc1xuICpcbiAqL1xuZXhwb3J0IGVudW0gTm9uSW5zdGFudExvY2FsUGF5bWVudE1ldGhvZHMge1xuICAgIFRSVVNUTFkgPSAndHJ1c3RseScsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTG9jYWxQYXltZW50TWV0aG9kUmVkaXJlY3RBY3Rpb24ge1xuICAgIGJvZHk6IHtcbiAgICAgICAgYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ6IHtcbiAgICAgICAgICAgIHR5cGU6ICdvZmZzaXRlX3JlZGlyZWN0JztcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICByZWRpcmVjdF91cmw6IHN0cmluZztcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVPcmRlclNhdmVkUmVzcG9uc2Uge1xuICAgIGJvZHk6IHtcbiAgICAgICAgYWRkaXRpb25hbF9hY3Rpb25fcmVxdWlyZWQ6IHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBvcmRlcl9pZF9zYXZlZF9zdWNjZXNzZnVsbHk6IHN0cmluZztcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIEZhc3RsYW5lXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVGYXN0bGFuZUNyZWF0b3IgPSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yPFxuICAgIEJyYWludHJlZUZhc3RsYW5lLFxuICAgIEJyYWludHJlZUZhc3RsYW5lQ29uZmlnXG4+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQ29uZmlnIHtcbiAgICBhdXRob3JpemF0aW9uOiBzdHJpbmc7XG4gICAgY2xpZW50OiBCcmFpbnRyZWVDbGllbnQ7XG4gICAgZGV2aWNlRGF0YT86IHN0cmluZztcbiAgICBzdHlsZXM/OiBCcmFpbnRyZWVGYXN0bGFuZVN0eWxlc09wdGlvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZSB7XG4gICAgaWRlbnRpdHk6IEJyYWludHJlZUZhc3RsYW5lSWRlbnRpdHk7XG4gICAgcHJvZmlsZTogQnJhaW50cmVlRmFzdGxhbmVQcm9maWxlO1xuICAgIEZhc3RsYW5lQ2FyZENvbXBvbmVudDogKFxuICAgICAgICBvcHRpb25zOiBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnRPcHRpb25zLFxuICAgICkgPT4gUHJvbWlzZTxCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnQ+O1xuICAgIGV2ZW50czogQnJhaW50cmVlRmFzdGxhbmVFdmVudHM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVQcm9maWxlIHtcbiAgICBzaG93Q2FyZFNlbGVjdG9yKCk6IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVDYXJkU2VsZWN0b3JSZXNwb25zZT47XG4gICAgc2hvd1NoaXBwaW5nQWRkcmVzc1NlbGVjdG9yKCk6IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVTaGlwcGluZ0FkZHJlc3NTZWxlY3RvclJlc3BvbnNlPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZVNoaXBwaW5nQWRkcmVzc1NlbGVjdG9yUmVzcG9uc2Uge1xuICAgIHNlbGVjdGlvbkNoYW5nZWQ6IGJvb2xlYW47XG4gICAgc2VsZWN0ZWRBZGRyZXNzOiBCcmFpbnRyZWVGYXN0bGFuZVNoaXBwaW5nQWRkcmVzcztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZVNoaXBwaW5nQWRkcmVzcyB7XG4gICAgbmFtZTogQnJhaW50cmVlRmFzdGxhbmVQcm9maWxlTmFtZTtcbiAgICBwaG9uZU51bWJlcjogc3RyaW5nO1xuICAgIGlkPzogc3RyaW5nO1xuICAgIGZpcnN0TmFtZT86IHN0cmluZztcbiAgICBsYXN0TmFtZT86IHN0cmluZztcbiAgICBjb21wYW55Pzogc3RyaW5nO1xuICAgIHN0cmVldEFkZHJlc3M6IHN0cmluZztcbiAgICBleHRlbmRlZEFkZHJlc3M/OiBzdHJpbmc7XG4gICAgbG9jYWxpdHk6IHN0cmluZztcbiAgICByZWdpb246IHN0cmluZztcbiAgICBwb3N0YWxDb2RlOiBzdHJpbmc7XG4gICAgY291bnRyeUNvZGVOdW1lcmljPzogbnVtYmVyO1xuICAgIGNvdW50cnlDb2RlQWxwaGEyOiBzdHJpbmc7XG4gICAgY291bnRyeUNvZGVBbHBoYTM/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVQcm9maWxlTmFtZSB7XG4gICAgZnVsbE5hbWU6IHN0cmluZztcbiAgICBmaXJzdE5hbWU/OiBzdHJpbmc7XG4gICAgbGFzdE5hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVDYXJkU2VsZWN0b3JSZXNwb25zZSB7XG4gICAgc2VsZWN0aW9uQ2hhbmdlZDogYm9vbGVhbjtcbiAgICBzZWxlY3RlZENhcmQ6IEJyYWludHJlZUZhc3RsYW5lVmF1bHRlZEluc3RydW1lbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVXaW5kb3cgZXh0ZW5kcyBXaW5kb3cge1xuICAgIGJyYWludHJlZUZhc3RsYW5lOiBCcmFpbnRyZWVGYXN0bGFuZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZUlkZW50aXR5IHtcbiAgICBsb29rdXBDdXN0b21lckJ5RW1haWwoZW1haWw6IHN0cmluZyk6IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVMb29rdXBDdXN0b21lckJ5RW1haWxSZXN1bHQ+O1xuICAgIHRyaWdnZXJBdXRoZW50aWNhdGlvbkZsb3coXG4gICAgICAgIGN1c3RvbWVySWQ6IHN0cmluZyxcbiAgICAgICAgb3B0aW9ucz86IEJyYWludHJlZUZhc3RsYW5lQXV0aGVudGljYXRpb25PcHRpb25zLFxuICAgICk6IFByb21pc2U8QnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvbkN1c3RvbWVyUmVzdWx0Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZUxvb2t1cEN1c3RvbWVyQnlFbWFpbFJlc3VsdCB7XG4gICAgY3VzdG9tZXJDb250ZXh0SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvbk9wdGlvbnMge1xuICAgIHN0eWxlcz86IEJyYWludHJlZUZhc3RsYW5lU3R5bGVzT3B0aW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lU3R5bGVzT3B0aW9uIHtcbiAgICByb290Pzoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3JQcmltYXJ5Pzogc3RyaW5nO1xuICAgICAgICBlcnJvckNvbG9yPzogc3RyaW5nO1xuICAgICAgICBmb250RmFtaWx5Pzogc3RyaW5nO1xuICAgICAgICBmb250U2l6ZUJhc2U/OiBzdHJpbmc7XG4gICAgICAgIHBhZGRpbmc/OiBzdHJpbmc7XG4gICAgICAgIHByaW1hcnlDb2xvcj86IHN0cmluZztcbiAgICB9O1xuICAgIGlucHV0Pzoge1xuICAgICAgICBib3JkZXJSYWRpdXM/OiBzdHJpbmc7XG4gICAgICAgIGJvcmRlckNvbG9yPzogc3RyaW5nO1xuICAgICAgICBmb2N1c0JvcmRlckNvbG9yPzogc3RyaW5nO1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I/OiBzdHJpbmc7XG4gICAgICAgIGJvcmRlcldpZHRoPzogc3RyaW5nO1xuICAgICAgICB0ZXh0Q29sb3JCYXNlPzogc3RyaW5nO1xuICAgIH07XG4gICAgdG9nZ2xlPzoge1xuICAgICAgICBjb2xvclByaW1hcnk/OiBzdHJpbmc7XG4gICAgICAgIGNvbG9yU2Vjb25kYXJ5Pzogc3RyaW5nO1xuICAgIH07XG4gICAgdGV4dD86IHtcbiAgICAgICAgYm9keT86IHtcbiAgICAgICAgICAgIGNvbG9yPzogc3RyaW5nO1xuICAgICAgICAgICAgZm9udFNpemU/OiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgICAgIGNhcHRpb24/OiB7XG4gICAgICAgICAgICBjb2xvcj86IHN0cmluZztcbiAgICAgICAgICAgIGZvbnRTaXplPzogc3RyaW5nO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgYnJhbmRpbmc/OiBzdHJpbmc7IC8vICdsaWdodCcgfCAnZGFyaydcbn1cblxuZXhwb3J0IGVudW0gQnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvblN0YXRlIHtcbiAgICBTVUNDRUVERUQgPSAnc3VjY2VlZGVkJyxcbiAgICBGQUlMRUQgPSAnZmFpbGVkJyxcbiAgICBDQU5DRUxFRCA9ICdjYW5jZWxsZWQnLFxuICAgIFVOUkVDT0dOSVpFRCA9ICd1bnJlY29nbml6ZWQnLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQXV0aGVudGljYXRpb25DdXN0b21lclJlc3VsdCB7XG4gICAgYXV0aGVudGljYXRpb25TdGF0ZTogQnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvblN0YXRlO1xuICAgIHByb2ZpbGVEYXRhOiBCcmFpbnRyZWVGYXN0bGFuZVByb2ZpbGVEYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lUHJvZmlsZURhdGEge1xuICAgIGZhc3RsYW5lQ3VzdG9tZXJBdXRoQXNzZXJ0aW9uVG9rZW46IHN0cmluZztcbiAgICBmYXN0bGFuZUN1c3RvbWVySWQ6IHN0cmluZztcbiAgICBzaGlwcGluZ0FkZHJlc3M6IEJyYWludHJlZUZhc3RsYW5lQWRkcmVzcztcbiAgICBjYXJkOiBCcmFpbnRyZWVGYXN0bGFuZVZhdWx0ZWRJbnN0cnVtZW50O1xuICAgIG5hbWU6IEJyYWludHJlZUZhc3RsYW5lTmFtZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZU5hbWUge1xuICAgIGZpcnN0TmFtZTogc3RyaW5nO1xuICAgIGxhc3ROYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVBZGRyZXNzIHtcbiAgICBpZD86IHN0cmluZztcbiAgICBmaXJzdE5hbWU/OiBzdHJpbmc7XG4gICAgbGFzdE5hbWU/OiBzdHJpbmc7XG4gICAgY29tcGFueT86IHN0cmluZztcbiAgICBzdHJlZXRBZGRyZXNzOiBzdHJpbmc7XG4gICAgZXh0ZW5kZWRBZGRyZXNzPzogc3RyaW5nO1xuICAgIGxvY2FsaXR5OiBzdHJpbmc7XG4gICAgcmVnaW9uOiBzdHJpbmc7XG4gICAgcG9zdGFsQ29kZTogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlTnVtZXJpYz86IG51bWJlcjtcbiAgICBjb3VudHJ5Q29kZUFscGhhMjogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlQWxwaGEzPzogc3RyaW5nO1xuICAgIHBob25lTnVtYmVyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQ2FyZFBheW1lbnRTb3VyY2Uge1xuICAgIGJyYW5kOiBzdHJpbmc7XG4gICAgZXhwaXJ5OiBzdHJpbmc7XG4gICAgbGFzdERpZ2l0czogc3RyaW5nO1xuICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgYmlsbGluZ0FkZHJlc3M6IEJyYWludHJlZUZhc3RsYW5lQWRkcmVzcztcbiAgICBiaW5EZXRhaWxzPzoge1xuICAgICAgICBiaW46IHN0cmluZztcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lUGF5bWVudFNvdXJjZSB7XG4gICAgY2FyZDogQnJhaW50cmVlRmFzdGxhbmVDYXJkUGF5bWVudFNvdXJjZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZVZhdWx0ZWRJbnN0cnVtZW50IHtcbiAgICBpZDogc3RyaW5nOyAvLyBUaGlzIGlzIHRoZSBub25jZSAvIHRva2VuXG4gICAgcGF5bWVudFNvdXJjZTogQnJhaW50cmVlRmFzdGxhbmVQYXltZW50U291cmNlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lQ2FyZENvbXBvbmVudE9wdGlvbnMge1xuICAgIHN0eWxlczogQnJhaW50cmVlRmFzdGxhbmVTdHlsZXNPcHRpb247XG4gICAgZmllbGRzOiBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnRGaWVsZHM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVDYXJkQ29tcG9uZW50RmllbGRzIHtcbiAgICBjYXJkaG9sZGVyTmFtZT86IHtcbiAgICAgICAgZW5hYmxlZD86IGJvb2xlYW47XG4gICAgICAgIHByZWZpbGw/OiBzdHJpbmc7XG4gICAgfTtcbiAgICBwaG9uZU51bWJlcj86IHtcbiAgICAgICAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XG4gICAgICAgIHByZWZpbGw/OiBzdHJpbmc7XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGYXN0bGFuZVN0eWxlc1NldHRpbmdzIHtcbiAgICBmYXN0bGFuZVJvb3RTZXR0aW5nc0JhY2tncm91bmRDb2xvcj86IHN0cmluZztcbiAgICBmYXN0bGFuZVJvb3RTZXR0aW5nc0Vycm9yQ29sb3I/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVSb290U2V0dGluZ3NGb250RmFtaWx5Pzogc3RyaW5nO1xuICAgIGZhc3RsYW5lUm9vdFNldHRpbmdzUGFkZGluZz86IHN0cmluZztcbiAgICBmYXN0bGFuZVJvb3RTZXR0aW5nc1ByaW1hcnlDb2xvcj86IHN0cmluZztcbiAgICBmYXN0bGFuZVJvb3RTZXR0aW5nc0ZvbnRTaXplPzogc3RyaW5nO1xuICAgIGZhc3RsYW5lSW5wdXRTZXR0aW5nc0JhY2tncm91bmRDb2xvcj86IHN0cmluZztcbiAgICBmYXN0bGFuZUlucHV0U2V0dGluZ3NCb3JkZXJSYWRpdXM/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVJbnB1dFNldHRpbmdzQm9yZGVyV2lkdGg/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVJbnB1dFNldHRpbmdzQm9yZGVyQ29sb3I/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVJbnB1dFNldHRpbmdzRm9jdXNCb3JkZXJCYXNlPzogc3RyaW5nO1xuICAgIGZhc3RsYW5lSW5wdXRTZXR0aW5nc1RleHRDb2xvckJhc2U/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUb2dnbGVTZXR0aW5nc0NvbG9yUHJpbWFyeT86IHN0cmluZztcbiAgICBmYXN0bGFuZVRvZ2dsZVNldHRpbmdzQ29sb3JTZWNvbmRhcnk/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUZXh0Qm9keVNldHRpbmdzQ29sb3I/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUZXh0Qm9keVNldHRpbmdzRm9udFNpemU/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUZXh0Q2FwdGlvblNldHRpbmdzRm9udFNpemU/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVUZXh0Q2FwdGlvblNldHRpbmdzQ29sb3I/OiBzdHJpbmc7XG4gICAgZmFzdGxhbmVCcmFuZGluZ1NldHRpbmdzPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lVG9rZW5pemVPcHRpb25zIHtcbiAgICBuYW1lPzoge1xuICAgICAgICBmdWxsTmFtZTogc3RyaW5nO1xuICAgIH07XG4gICAgYmlsbGluZ0FkZHJlc3M/OiBCcmFpbnRyZWVGYXN0bGFuZUFkZHJlc3M7XG4gICAgc2hpcHBpbmdBZGRyZXNzPzogQnJhaW50cmVlRmFzdGxhbmVBZGRyZXNzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lRXZlbnRzIHtcbiAgICBhcG1TZWxlY3RlZDogKG9wdGlvbnM6IEJyYWludHJlZUZhc3RsYW5lQXBtU2VsZWN0ZWRFdmVudE9wdGlvbnMpID0+IHZvaWQ7XG4gICAgZW1haWxTdWJtaXR0ZWQ6IChvcHRpb25zOiBCcmFpbnRyZWVGYXN0bGFuZUVtYWlsRW50ZXJlZEV2ZW50T3B0aW9ucykgPT4gdm9pZDtcbiAgICBvcmRlclBsYWNlZDogKG9wdGlvbnM6IEJyYWludHJlZUZhc3RsYW5lT3JkZXJQbGFjZWRFdmVudE9wdGlvbnMpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVFdmVudENvbW1vbk9wdGlvbnMge1xuICAgIGNvbnRleHRfdHlwZTogJ2NzX2lkJztcbiAgICBjb250ZXh0X2lkOiBzdHJpbmc7IC8vIGNoZWNrb3V0IHNlc3Npb24gaWRcbiAgICBwYWdlX3R5cGU6ICdjaGVja291dF9wYWdlJztcbiAgICBwYWdlX25hbWU6IHN0cmluZzsgLy8gdGl0bGUgb2YgdGhlIGNoZWNrb3V0IGluaXRpYXRpb24gcGFnZVxuICAgIHBhcnRuZXJfbmFtZTogJ2JpZ2MnO1xuICAgIHVzZXJfdHlwZTogJ3N0b3JlX21lbWJlcicgfCAnc3RvcmVfZ3Vlc3QnOyAvLyB0eXBlIG9mIHRoZSB1c2VyIG9uIHRoZSBtZXJjaGFudCBzaXRlXG4gICAgc3RvcmVfaWQ6IHN0cmluZztcbiAgICBtZXJjaGFudF9uYW1lOiBzdHJpbmc7XG4gICAgZXhwZXJpbWVudDogc3RyaW5nOyAvLyBzdHJpbmdpZnkgSlNPTiBvYmplY3QgXCJbeyB0cmVhdG1lbnRfZ3JvdXA6ICd0ZXN0JyB8ICdjb250cm9sJyB9XVwiXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRmFzdGxhbmVBcG1TZWxlY3RlZEV2ZW50T3B0aW9uc1xuICAgIGV4dGVuZHMgQnJhaW50cmVlRmFzdGxhbmVFdmVudENvbW1vbk9wdGlvbnMge1xuICAgIGFwbV9zaG93bjogJzAnIHwgJzEnOyAvLyBhbHRlcm5hdGUgcGF5bWVudCBzaG93biBvbiB0aGUgY2hlY2tvdXQgcGFnZVxuICAgIGFwbV9saXN0OiBzdHJpbmc7IC8vIGxpc3Qgb2YgYWx0ZXJuYXRlIHBheW1lbnQgc2hvd24gb24gY2hlY2tvdXQgcGFnZVxuICAgIGFwbV9zZWxlY3RlZDogc3RyaW5nOyAvLyBhbHRlcm5hdGUgcGF5bWVudCBtZXRob2Qgc2VsZWN0ZWQgLyBtZXRob2RJZFxuICAgIGFwbV9sb2NhdGlvbjogJ3ByZS1lbWFpbCBzZWN0aW9uJyB8ICdwYXltZW50IHNlY3Rpb24nOyAvLyBwbGFjZW1lbnQgb2YgQVBNLCB3aGV0aGVyIGl0IGJlIGFib3ZlIHRoZSBlbWFpbCBlbnRyeSBvciBpbiB0aGUgcmFkaW8gYnV0dG9uc1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lRW1haWxFbnRlcmVkRXZlbnRPcHRpb25zXG4gICAgZXh0ZW5kcyBCcmFpbnRyZWVGYXN0bGFuZUV2ZW50Q29tbW9uT3B0aW9ucyB7XG4gICAgdXNlcl9lbWFpbF9zYXZlZDogYm9vbGVhbjsgLy8gc2hvd3Mgd2hldGhlciBjaGVja291dCB3YXMgbG9hZGVkIHdpdGggb3Igd2l0aG91dCBhIHNhdmVkIGVtYWlsXG4gICAgYXBtX3Nob3duOiAnMCcgfCAnMSc7IC8vIGFsdGVybmF0ZSBwYXltZW50IHNob3duIG9uIHRoZSBjaGVja291dCBwYWdlXG4gICAgYXBtX2xpc3Q6IHN0cmluZzsgLy8gbGlzdCBvZiBhbHRlcm5hdGUgcGF5bWVudCBzaG93biBvbiBjaGVja291dCBwYWdlICdhcHBsZXBheSxnb29nbGVwYXkscGF5cGFsJ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZhc3RsYW5lT3JkZXJQbGFjZWRFdmVudE9wdGlvbnNcbiAgICBleHRlbmRzIEJyYWludHJlZUZhc3RsYW5lRXZlbnRDb21tb25PcHRpb25zIHtcbiAgICBzZWxlY3RlZF9wYXltZW50X21ldGhvZDogc3RyaW5nO1xuICAgIGN1cnJlbmN5X2NvZGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnQge1xuICAgIChvcHRpb25zOiBCcmFpbnRyZWVGYXN0bGFuZUNhcmRDb21wb25lbnRPcHRpb25zKTogQnJhaW50cmVlRmFzdGxhbmVDYXJkQ29tcG9uZW50O1xuICAgIGdldFBheW1lbnRUb2tlbihcbiAgICAgICAgb3B0aW9uczogQnJhaW50cmVlRmFzdGxhbmVUb2tlbml6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVGYXN0bGFuZVZhdWx0ZWRJbnN0cnVtZW50PjtcbiAgICByZW5kZXIoZWxlbWVudDogc3RyaW5nKTogdm9pZDtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIFBheWxvYWQgVmVyaWZpY2F0aW9uXG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVZlcmlmeVBheWxvYWQge1xuICAgIG5vbmNlOiBzdHJpbmc7XG4gICAgZGV0YWlsczoge1xuICAgICAgICBjYXJkVHlwZTogc3RyaW5nO1xuICAgICAgICBsYXN0Rm91cjogc3RyaW5nO1xuICAgICAgICBsYXN0VHdvOiBzdHJpbmc7XG4gICAgfTtcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIGxpYWJpbGl0eVNoaWZ0UG9zc2libGU6IGJvb2xlYW47XG4gICAgbGlhYmlsaXR5U2hpZnRlZDogYm9vbGVhbjtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIEVycm9yc1xuICpcbiAqL1xuZXhwb3J0IGVudW0gQnJhaW50cmVlRXJyb3JUeXBlIHtcbiAgICBDdXN0b21lciA9ICdDVVNUT01FUicsXG4gICAgTWVyY2hhbnQgPSAnTUVSQ0hBTlQnLFxuICAgIE5ldHdvcmsgPSAnTkVUV09SSycsXG4gICAgSW50ZXJuYWwgPSAnSU5URVJOQUwnLFxuICAgIFVua25vd24gPSAnVU5LTk9XTicsXG59XG5cbmV4cG9ydCBlbnVtIEJyYWludHJlZUVycm9yQ29kZSB7XG4gICAgS291bnROb3RFbmFibGVkID0gJ0RBVEFfQ09MTEVDVE9SX0tPVU5UX05PVF9FTkFCTEVEJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvclR5cGU7XG4gICAgY29kZTogc3RyaW5nIHwgQnJhaW50cmVlRXJyb3JDb2RlLktvdW50Tm90RW5hYmxlZDtcbiAgICBkZXRhaWxzPzogdW5rbm93bjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVSZWRpcmVjdEVycm9yIHtcbiAgICBib2R5OiB7XG4gICAgICAgIGFkZGl0aW9uYWxfYWN0aW9uX3JlcXVpcmVkOiB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgcmVkaXJlY3RfdXJsOiBzdHJpbmc7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGludGVyZmFjZSBCaWxsaW5nQWRkcmVzcyBleHRlbmRzIEFkZHJlc3Mge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgZW1haWw/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBlbnVtIEJyYWludHJlZVN1cHBvcnRlZENhcmRCcmFuZHMge1xuICAgIFZpc2EgPSAndmlzYScsXG4gICAgTWFzdGVyY2FyZCA9ICdtYXN0ZXJjYXJkJyxcbiAgICBBbWVyaWNhbkV4cHJlc3MgPSAnYW1lcmljYW4tZXhwcmVzcycsXG4gICAgRGluZXJzQ2x1YiA9ICdkaW5lcnMtY2x1YicsXG4gICAgRGlzY292ZXIgPSAnZGlzY292ZXInLFxuICAgIEpjYiA9ICdqY2InLFxuICAgIFVuaW9uUGF5ID0gJ3VuaW9uLXBheScsXG4gICAgTWFlc3RybyA9ICdtYWVzdHJvJyxcbiAgICBFbG8gPSAnZWxvJyxcbiAgICBNaXIgPSAnbWlyJyxcbiAgICBIaXBlciA9ICdoaXBlcicsXG4gICAgSGlwZXJjYXJkID0gJ2hpcGVyY2FyZCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmlsbGluZ0FkZHJlc3NTdGF0ZSB7XG4gICAgZGF0YT86IEJpbGxpbmdBZGRyZXNzO1xuICAgIGVycm9yczogQmlsbGluZ0FkZHJlc3NFcnJvcnNTdGF0ZTtcbiAgICBzdGF0dXNlczogQmlsbGluZ0FkZHJlc3NTdGF0dXNlc1N0YXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJpbGxpbmdBZGRyZXNzRXJyb3JzU3RhdGUge1xuICAgIGxvYWRFcnJvcj86IEVycm9yO1xuICAgIHVwZGF0ZUVycm9yPzogRXJyb3I7XG4gICAgY29udGludWVBc0d1ZXN0RXJyb3I/OiBFcnJvcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCaWxsaW5nQWRkcmVzc1N0YXR1c2VzU3RhdGUge1xuICAgIGlzTG9hZGluZz86IGJvb2xlYW47XG4gICAgaXNVcGRhdGluZz86IGJvb2xlYW47XG4gICAgaXNDb250aW51aW5nQXNHdWVzdD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlUmVxdWVzdERhdGEge1xuICAgIGRhdGE6IHtcbiAgICAgICAgY3JlZGl0Q2FyZDoge1xuICAgICAgICAgICAgYmlsbGluZ0FkZHJlc3M/OiB7XG4gICAgICAgICAgICAgICAgY291bnRyeUNvZGVBbHBoYTI6IHN0cmluZztcbiAgICAgICAgICAgICAgICBsb2NhbGl0eTogc3RyaW5nO1xuICAgICAgICAgICAgICAgIGNvdW50cnlOYW1lOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogc3RyaW5nO1xuICAgICAgICAgICAgICAgIHN0cmVldEFkZHJlc3M6IHN0cmluZztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXJkaG9sZGVyTmFtZTogc3RyaW5nO1xuICAgICAgICAgICAgY3Z2Pzogc3RyaW5nO1xuICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGU6IHN0cmluZztcbiAgICAgICAgICAgIG51bWJlcjogc3RyaW5nO1xuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRlOiBib29sZWFuO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGVuZHBvaW50OiBzdHJpbmc7XG4gICAgbWV0aG9kOiBzdHJpbmc7XG59XG4iLCJpbXBvcnQgeyBPbWl0IH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7XG4gICAgUGF5cGFsQXV0aG9yaXplRGF0YSxcbiAgICBQYXlwYWxCdXR0b25PcHRpb25zLFxuICAgIFBheXBhbEJ1dHRvblJlbmRlcixcbiAgICBQYXlwYWxTREssXG4gICAgUGF5cGFsU3R5bGVPcHRpb25zLFxufSBmcm9tICcuL3BheXBhbCc7XG5pbXBvcnQge1xuICAgIEJyYWludHJlZUNsaWVudENyZWF0b3IsXG4gICAgQnJhaW50cmVlRGF0YUNvbGxlY3RvckNyZWF0b3IsXG4gICAgQnJhaW50cmVlRXJyb3IsXG4gICAgQnJhaW50cmVlRmFzdGxhbmVDcmVhdG9yLFxuICAgIEJyYWludHJlZUdvb2dsZVBheW1lbnRDcmVhdG9yLFxuICAgIEJyYWludHJlZUhvc3RlZEZpZWxkc1Rva2VuaXplUGF5bG9hZCxcbiAgICBCcmFpbnRyZWVNb2R1bGUsXG4gICAgQnJhaW50cmVlTW9kdWxlQ3JlYXRvcixcbiAgICBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yQ29uZmlnLFxuICAgIEJyYWludHJlZVRocmVlRFNlY3VyZUNyZWF0b3IsXG4gICAgQnJhaW50cmVlVG9rZW5pemF0aW9uRGV0YWlscyxcbiAgICBCcmFpbnRyZWVVc0JhbmtBY2NvdW50Q3JlYXRvcixcbiAgICBCcmFpbnRyZWVXaW5kb3csXG4gICAgRmFzdGxhbmVTdHlsZXNTZXR0aW5ncyxcbiAgICBWaXNhQ2hlY2tvdXRTREssXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgICBWaXNhQ2hlY2tvdXRJbml0T3B0aW9ucyxcbiAgICBWaXNhQ2hlY2tvdXRQYXltZW50U3VjY2Vzc1BheWxvYWQsXG4gICAgVmlzYUNoZWNrb3V0VG9rZW5pemVkUGF5bG9hZCxcbn0gZnJvbSAnLi92aXNhY2hlY2tvdXQnO1xuXG4vKipcbiAqXG4gKiBDb25zdGFudHNcbiAqXG4gKi9cbmV4cG9ydCBlbnVtIEJyYWludHJlZUVudiB7XG4gICAgU2FuZGJveCA9ICdzYW5kYm94JyxcbiAgICBQcm9kdWN0aW9uID0gJ3Byb2R1Y3Rpb24nLFxufVxuXG4vKipcbiAqXG4gKiBDb21tb25cbiAqXG4gKi9cbmV4cG9ydCBlbnVtIEJyYWludHJlZU1vZHVsZU5hbWUge1xuICAgIENsaWVudCA9ICdjbGllbnQnLFxuICAgIERhdGFDb2xsZWN0b3IgPSAnZGF0YUNvbGxlY3RvcicsXG4gICAgRmFzdGxhbmUgPSAnZmFzdGxhbmUnLFxuICAgIEdvb2dsZVBheW1lbnQgPSAnZ29vZ2xlUGF5bWVudCcsXG4gICAgSG9zdGVkRmllbGRzID0gJ2hvc3RlZEZpZWxkcycsXG4gICAgTG9jYWxQYXltZW50ID0gJ2xvY2FsUGF5bWVudCcsXG4gICAgUGF5cGFsID0gJ3BheXBhbCcsXG4gICAgUGF5cGFsQ2hlY2tvdXQgPSAncGF5cGFsQ2hlY2tvdXQnLFxuICAgIFRocmVlRFNlY3VyZSA9ICd0aHJlZURTZWN1cmUnLFxuICAgIFVzQmFua0FjY291bnQgPSAndXNCYW5rQWNjb3VudCcsXG4gICAgVmVubW8gPSAndmVubW8nLFxuICAgIFZpc2FDaGVja291dCA9ICd2aXNhQ2hlY2tvdXQnLFxufVxuXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9ycyA9XG4gICAgfCBCcmFpbnRyZWVDbGllbnRDcmVhdG9yXG4gICAgfCBCcmFpbnRyZWVGYXN0bGFuZUNyZWF0b3JcbiAgICB8IEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yXG4gICAgfCBCcmFpbnRyZWVHb29nbGVQYXltZW50Q3JlYXRvclxuICAgIHwgQnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvclxuICAgIHwgQnJhaW50cmVlUGF5cGFsQ3JlYXRvclxuICAgIHwgQnJhaW50cmVlUGF5cGFsQ2hlY2tvdXRDcmVhdG9yXG4gICAgfCBCcmFpbnRyZWVUaHJlZURTZWN1cmVDcmVhdG9yXG4gICAgfCBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0Q3JlYXRvclxuICAgIHwgQnJhaW50cmVlVmlzYUNoZWNrb3V0Q3JlYXRvclxuICAgIHwgQnJhaW50cmVlVXNCYW5rQWNjb3VudENyZWF0b3JcbiAgICB8IEJyYWludHJlZUxvY2FsUGF5bWVudENyZWF0b3I7XG5cbi8vIFRPRE86IHJlbmFtZSB0byBCcmFpbnRyZWVTZGtNb2R1bGVzXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVNESyB7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuQ2xpZW50XT86IEJyYWludHJlZUNsaWVudENyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuRmFzdGxhbmVdPzogQnJhaW50cmVlRmFzdGxhbmVDcmVhdG9yO1xuICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkRhdGFDb2xsZWN0b3JdPzogQnJhaW50cmVlRGF0YUNvbGxlY3RvckNyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuR29vZ2xlUGF5bWVudF0/OiBCcmFpbnRyZWVHb29nbGVQYXltZW50Q3JlYXRvcjtcbiAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Ib3N0ZWRGaWVsZHNdPzogQnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvcjtcbiAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5QYXlwYWxdPzogQnJhaW50cmVlUGF5cGFsQ3JlYXRvcjtcbiAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5QYXlwYWxDaGVja291dF0/OiBCcmFpbnRyZWVQYXlwYWxDaGVja291dENyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVGhyZWVEU2VjdXJlXT86IEJyYWludHJlZVRocmVlRFNlY3VyZUNyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVmVubW9dPzogQnJhaW50cmVlVmVubW9DaGVja291dENyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVmlzYUNoZWNrb3V0XT86IEJyYWludHJlZVZpc2FDaGVja291dENyZWF0b3I7XG4gICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVXNCYW5rQWNjb3VudF0/OiBCcmFpbnRyZWVVc0JhbmtBY2NvdW50Q3JlYXRvcjtcbiAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Mb2NhbFBheW1lbnRdPzogQnJhaW50cmVlTG9jYWxQYXltZW50Q3JlYXRvcjtcbn1cblxuZXhwb3J0IHR5cGUgQnJhaW50cmVlTG9jYWxQYXltZW50Q3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8XG4gICAgQnJhaW50cmVlTG9jYWxQYXltZW50LFxuICAgIEJyYWludHJlZUxvY2FsUGF5bWVudENyZWF0ZUNvbmZpZyxcbiAgICBCcmFpbnRyZWVFcnJvciB8IHVuZGVmaW5lZFxuPjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVMb2NhbFBheW1lbnRDcmVhdGVDb25maWcgZXh0ZW5kcyBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yQ29uZmlnIHtcbiAgICBtZXJjaGFudEFjY291bnRJZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUluaXRpYWxpemF0aW9uRGF0YSB7XG4gICAgY2xpZW50VG9rZW46IHN0cmluZztcbiAgICBlbmFibGVDaGVja291dFBheXdhbGxCYW5uZXI/OiBib29sZWFuO1xuICAgIGludGVudD86ICdhdXRob3JpemUnIHwgJ29yZGVyJyB8ICdzYWxlJztcbiAgICBpc0NyZWRpdEVuYWJsZWQ/OiBib29sZWFuO1xuICAgIGlzQWNjZWxlcmF0ZWRDaGVja291dEVuYWJsZWQ/OiBib29sZWFuO1xuICAgIGlzRmFzdGxhbmVTdHlsaW5nRW5hYmxlZD86IGJvb2xlYW47XG4gICAgaXNGYXN0bGFuZUVuYWJsZWQ/OiBib29sZWFuO1xuICAgIGlzRmFzdGxhbmVTaGlwcGluZ09wdGlvbkF1dG9TZWxlY3RFbmFibGVkPzogYm9vbGVhbjtcbiAgICBmYXN0bGFuZVN0eWxlcz86IEZhc3RsYW5lU3R5bGVzU2V0dGluZ3M7XG4gICAgaXNCcmFpbnRyZWVBbmFseXRpY3NWMkVuYWJsZWQ/OiBib29sZWFuO1xuICAgIHNob3VsZFJ1bkFjY2VsZXJhdGVkQ2hlY2tvdXQ/OiBib29sZWFuOyAvLyBUT0RPOiBvbmx5IGZvciBCVCBBWE8gQS9CIHRlc3RpbmcgcHVycG9zZXMsIGhlbmNlIHNob3VsZCBiZSByZW1vdmVkIGFmdGVyIHRlc3RpbmdcbiAgICBwYXltZW50QnV0dG9uU3R5bGVzPzogUmVjb3JkPHN0cmluZywgUGF5cGFsU3R5bGVPcHRpb25zPjtcbiAgICBwYXlwYWxCTlBMQ29uZmlndXJhdGlvbj86IFBheVBhbEJOUExDb25maWd1cmF0aW9uSXRlbVtdIHwgbnVsbDtcbiAgICBub25jZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVQYXlwYWxSZXF1ZXN0IHtcbiAgICBhbW91bnQ6IHN0cmluZyB8IG51bWJlcjtcbiAgICBiaWxsaW5nQWdyZWVtZW50RGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gICAgY3VycmVuY3k/OiBzdHJpbmc7XG4gICAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gICAgZW5hYmxlU2hpcHBpbmdBZGRyZXNzOiB0cnVlO1xuICAgIGZsb3c6ICdjaGVja291dCcgfCAndmF1bHQnO1xuICAgIGludGVudD86ICdhdXRob3JpemUnIHwgJ29yZGVyJyB8ICdzYWxlJztcbiAgICBsYW5kaW5nUGFnZVR5cGU/OiAnbG9naW4nIHwgJ2JpbGxpbmcnO1xuICAgIGxvY2FsZT86IHN0cmluZztcbiAgICBvZmZlckNyZWRpdD86IGJvb2xlYW47XG4gICAgc2hpcHBpbmdBZGRyZXNzRWRpdGFibGU/OiBib29sZWFuO1xuICAgIHNoaXBwaW5nQWRkcmVzc092ZXJyaWRlPzogQnJhaW50cmVlU2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGU7XG4gICAgdXNlcmFjdGlvbj86ICdjb21taXQnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVNoaXBwaW5nQWRkcmVzc092ZXJyaWRlIHtcbiAgICBsaW5lMTogc3RyaW5nO1xuICAgIGxpbmUyPzogc3RyaW5nO1xuICAgIGNpdHk6IHN0cmluZztcbiAgICBzdGF0ZTogc3RyaW5nO1xuICAgIHBvc3RhbENvZGU6IHN0cmluZztcbiAgICBjb3VudHJ5Q29kZTogc3RyaW5nO1xuICAgIHBob25lPzogc3RyaW5nO1xuICAgIHJlY2lwaWVudE5hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVG9rZW5pemVQYXlsb2FkIHtcbiAgICBub25jZTogc3RyaW5nO1xuICAgIHR5cGU6ICdQYXlwYWxBY2NvdW50JyB8ICdWZW5tb0FjY291bnQnO1xuICAgIGRldGFpbHM6IEJyYWludHJlZVRva2VuaXphdGlvbkRldGFpbHM7XG4gICAgY3JlZGl0RmluYW5jaW5nT2ZmZXJlZD86IHtcbiAgICAgICAgdG90YWxDb3N0OiB7XG4gICAgICAgICAgICB2YWx1ZTogc3RyaW5nO1xuICAgICAgICAgICAgY3VycmVuY3k6IHN0cmluZztcbiAgICAgICAgfTtcbiAgICAgICAgdGVybTogbnVtYmVyO1xuICAgICAgICBtb250aGx5UGF5bWVudDoge1xuICAgICAgICAgICAgdmFsdWU6IHN0cmluZztcbiAgICAgICAgICAgIGN1cnJlbmN5OiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgICAgIHRvdGFsSW5zdGVyZXN0OiB7XG4gICAgICAgICAgICB2YWx1ZTogc3RyaW5nO1xuICAgICAgICAgICAgY3VycmVuY3k6IHN0cmluZztcbiAgICAgICAgfTtcbiAgICAgICAgcGF5ZXJBY2NlcHRhbmNlOiBib29sZWFuO1xuICAgICAgICBjYXJ0QW1vdW50SW1tdXRhYmxlOiBib29sZWFuO1xuICAgIH07XG59XG5cbmV4cG9ydCB0eXBlIEJyYWludHJlZUZvcm1FcnJvckRhdGEgPSBPbWl0PEJyYWludHJlZUZvcm1GaWVsZFN0YXRlLCAnaXNGb2N1c2VkJz47XG5cbmV4cG9ydCB0eXBlIEJyYWludHJlZUZvcm1FcnJvckRhdGFLZXlzID1cbiAgICB8ICdudW1iZXInXG4gICAgfCAnZXhwaXJhdGlvbkRhdGUnXG4gICAgfCAnZXhwaXJhdGlvbk1vbnRoJ1xuICAgIHwgJ2V4cGlyYXRpb25ZZWFyJ1xuICAgIHwgJ2N2didcbiAgICB8ICdwb3N0YWxDb2RlJztcblxuZXhwb3J0IHR5cGUgQnJhaW50cmVlRm9ybUVycm9yc0RhdGEgPSBQYXJ0aWFsPFxuICAgIFJlY29yZDxCcmFpbnRyZWVGb3JtRXJyb3JEYXRhS2V5cywgQnJhaW50cmVlRm9ybUVycm9yRGF0YT5cbj47XG5cbi8qKlxuICpcbiAqIEJyYWludHJlZSBIb3N0ZWQgRmllbGRzXG4gKlxuICovXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxcbiAgICBCcmFpbnRyZWVIb3N0ZWRGaWVsZHMsXG4gICAgQnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvckNvbmZpZ1xuPjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVIb3N0ZWRGaWVsZHMge1xuICAgIGdldFN0YXRlKCk6IEJyYWludHJlZUhvc3RlZEZpZWxkc1N0YXRlO1xuICAgIHRlYXJkb3duKCk6IFByb21pc2U8dm9pZD47XG4gICAgdG9rZW5pemUoXG4gICAgICAgIG9wdGlvbnM/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNUb2tlbml6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTxCcmFpbnRyZWVIb3N0ZWRGaWVsZHNUb2tlbml6ZVBheWxvYWQ+O1xuICAgIG9uKGV2ZW50TmFtZTogc3RyaW5nLCBjYWxsYmFjazogKGV2ZW50OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNTdGF0ZSkgPT4gdm9pZCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlSG9zdGVkRmllbGRzQ3JlYXRvckNvbmZpZyBleHRlbmRzIEJyYWludHJlZU1vZHVsZUNyZWF0b3JDb25maWcge1xuICAgIGZpZWxkczoge1xuICAgICAgICBudW1iZXI/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZE9wdGlvbjtcbiAgICAgICAgZXhwaXJhdGlvbkRhdGU/OiBCcmFpbnRyZWVIb3N0ZWRGaWVsZE9wdGlvbjtcbiAgICAgICAgZXhwaXJhdGlvbk1vbnRoPzogQnJhaW50cmVlSG9zdGVkRmllbGRPcHRpb247XG4gICAgICAgIGV4cGlyYXRpb25ZZWFyPzogQnJhaW50cmVlSG9zdGVkRmllbGRPcHRpb247XG4gICAgICAgIGN2dj86IEJyYWludHJlZUhvc3RlZEZpZWxkT3B0aW9uO1xuICAgICAgICBwb3N0YWxDb2RlPzogQnJhaW50cmVlSG9zdGVkRmllbGRPcHRpb247XG4gICAgICAgIGNhcmRob2xkZXJOYW1lPzogQnJhaW50cmVlSG9zdGVkRmllbGRPcHRpb247XG4gICAgfTtcbiAgICBzdHlsZXM/OiB7XG4gICAgICAgIGlucHV0PzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgICAgICAgJy5pbnZhbGlkJz86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gICAgICAgICcudmFsaWQnPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgICAgICAgJzpmb2N1cyc/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAgIH07XG4gICAgcHJldmVudEN1cnNvckp1bXBzPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVIb3N0ZWRGaWVsZE9wdGlvbiB7XG4gICAgY29udGFpbmVyOiBzdHJpbmcgfCBIVE1MRWxlbWVudDtcbiAgICBwbGFjZWhvbGRlcj86IHN0cmluZztcbiAgICB0eXBlPzogc3RyaW5nO1xuICAgIGZvcm1hdElucHV0PzogYm9vbGVhbjtcbiAgICBtYXNrSW5wdXQ/OiBib29sZWFuIHwgeyBjaGFyYWN0ZXI/OiBzdHJpbmc7IHNob3dMYXN0Rm91cj86IHN0cmluZyB9O1xuICAgIHNlbGVjdD86IGJvb2xlYW4gfCB7IG9wdGlvbnM/OiBzdHJpbmdbXSB9O1xuICAgIG1heENhcmRMZW5ndGg/OiBudW1iZXI7XG4gICAgbWF4bGVuZ3RoPzogbnVtYmVyO1xuICAgIG1pbmxlbmd0aD86IG51bWJlcjtcbiAgICBwcmVmaWxsPzogc3RyaW5nO1xuICAgIHJlamVjdFVuc3VwcG9ydGVkQ2FyZHM/OiBib29sZWFuO1xuICAgIHN1cHBvcnRlZENhcmRCcmFuZHM/OiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNTdGF0ZSB7XG4gICAgY2FyZHM6IEJyYWludHJlZUhvc3RlZEZpZWxkc0NhcmRbXTtcbiAgICBlbWl0dGVkQnk6IHN0cmluZztcbiAgICBmaWVsZHM6IHtcbiAgICAgICAgbnVtYmVyPzogQnJhaW50cmVlSG9zdGVkRmllbGRzRmllbGREYXRhO1xuICAgICAgICBleHBpcmF0aW9uRGF0ZT86IEJyYWludHJlZUhvc3RlZEZpZWxkc0ZpZWxkRGF0YTtcbiAgICAgICAgZXhwaXJhdGlvbk1vbnRoPzogQnJhaW50cmVlSG9zdGVkRmllbGRzRmllbGREYXRhO1xuICAgICAgICBleHBpcmF0aW9uWWVhcj86IEJyYWludHJlZUhvc3RlZEZpZWxkc0ZpZWxkRGF0YTtcbiAgICAgICAgY3Z2PzogQnJhaW50cmVlSG9zdGVkRmllbGRzRmllbGREYXRhO1xuICAgICAgICBwb3N0YWxDb2RlPzogQnJhaW50cmVlSG9zdGVkRmllbGRzRmllbGREYXRhO1xuICAgIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlSG9zdGVkRmllbGRzQ2FyZCB7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIG5pY2VUeXBlOiBzdHJpbmc7XG4gICAgY29kZTogeyBuYW1lOiBzdHJpbmc7IHNpemU6IG51bWJlciB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUhvc3RlZEZpZWxkc0ZpZWxkRGF0YSB7XG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBpc0ZvY3VzZWQ6IGJvb2xlYW47XG4gICAgaXNFbXB0eTogYm9vbGVhbjtcbiAgICBpc1BvdGVudGlhbGx5VmFsaWQ6IGJvb2xlYW47XG4gICAgaXNWYWxpZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNUb2tlbml6ZU9wdGlvbnMge1xuICAgIHZhdWx0PzogYm9vbGVhbjtcbiAgICBmaWVsZHNUb1Rva2VuaXplPzogc3RyaW5nW107XG4gICAgY2FyZGhvbGRlck5hbWU/OiBzdHJpbmc7XG4gICAgYmlsbGluZ0FkZHJlc3M/OiBCcmFpbnRyZWVCaWxsaW5nQWRkcmVzc1JlcXVlc3REYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUJpbGxpbmdBZGRyZXNzUmVxdWVzdERhdGEge1xuICAgIHBvc3RhbENvZGU/OiBzdHJpbmc7XG4gICAgZmlyc3ROYW1lPzogc3RyaW5nO1xuICAgIGxhc3ROYW1lPzogc3RyaW5nO1xuICAgIGNvbXBhbnk/OiBzdHJpbmc7XG4gICAgc3RyZWV0QWRkcmVzcz86IHN0cmluZztcbiAgICBleHRlbmRlZEFkZHJlc3M/OiBzdHJpbmc7XG4gICAgbG9jYWxpdHk/OiBzdHJpbmc7XG4gICAgcmVnaW9uPzogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlTnVtZXJpYz86IHN0cmluZztcbiAgICBjb3VudHJ5Q29kZUFscGhhMj86IHN0cmluZztcbiAgICBjb3VudHJ5Q29kZUFscGhhMz86IHN0cmluZztcbiAgICBjb3VudHJ5TmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVIb3N0ZWRGb3JtRXJyb3IgZXh0ZW5kcyBCcmFpbnRyZWVFcnJvciB7XG4gICAgZGV0YWlscz86IHtcbiAgICAgICAgaW52YWxpZEZpZWxkS2V5cz86IHN0cmluZ1tdO1xuICAgIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRm9ybUZpZWxkU3RhdGUge1xuICAgIGlzRm9jdXNlZDogYm9vbGVhbjtcbiAgICBpc0VtcHR5OiBib29sZWFuO1xuICAgIGlzUG90ZW50aWFsbHlWYWxpZDogYm9vbGVhbjtcbiAgICBpc1ZhbGlkOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRva2VuaXphdGlvblBheWxvYWQge1xuICAgIG5vbmNlOiBzdHJpbmc7XG4gICAgYmluOiBzdHJpbmc7XG59XG5cbi8qKlxuICpcbiAqIEJyYWludHJlZSBQYXlQYWxcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIEJyYWludHJlZVBheXBhbENyZWF0b3IgPSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yPEJyYWludHJlZVBheXBhbD47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlUGF5cGFsIHtcbiAgICBjbG9zZVdpbmRvdygpOiB2b2lkO1xuICAgIGZvY3VzV2luZG93KCk6IHZvaWQ7XG4gICAgdG9rZW5pemUob3B0aW9uczogQnJhaW50cmVlUGF5cGFsUmVxdWVzdCk6IFByb21pc2U8QnJhaW50cmVlVG9rZW5pemVQYXlsb2FkPjtcbiAgICBCdXR0b25zPyhvcHRpb25zOiBQYXlwYWxCdXR0b25PcHRpb25zKTogUGF5cGFsQnV0dG9uUmVuZGVyO1xufVxuXG4vKipcbiAqIEEgc2V0IG9mIG9wdGlvbnMgdGhhdCBhcmUgcmVxdWlyZWQgdG8gc3VwcG9ydCAzRCBTZWN1cmUgYXV0aGVudGljYXRpb24gZmxvdy5cbiAqXG4gKiBJZiB0aGUgY3VzdG9tZXIgdXNlcyBhIGNyZWRpdCBjYXJkIHRoYXQgaGFzIDNEIFNlY3VyZSBlbmFibGVkLCB0aGV5IHdpbGwgYmVcbiAqIGFza2VkIHRvIHZlcmlmeSB0aGVpciBpZGVudGl0eSB3aGVuIHRoZXkgcGF5LiBUaGUgdmVyaWZpY2F0aW9uIGlzIGRvbmVcbiAqIHRocm91Z2ggYSB3ZWIgcGFnZSB2aWEgYW4gaWZyYW1lIHByb3ZpZGVkIGJ5IHRoZSBjYXJkIGlzc3Vlci5cbiAqL1xuLy8gZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVUaHJlZURTZWN1cmVPcHRpb25zIHtcbi8vICAgICAvKipcbi8vICAgICAgKiBBIGNhbGxiYWNrIHRoYXQgZ2V0cyBjYWxsZWQgd2hlbiB0aGUgaWZyYW1lIGlzIHJlYWR5IHRvIGJlIGFkZGVkIHRvIHRoZVxuLy8gICAgICAqIGN1cnJlbnQgcGFnZS4gSXQgaXMgcmVzcG9uc2libGUgZm9yIGRldGVybWluaW5nIHdoZXJlIHRoZSBpZnJhbWUgc2hvdWxkXG4vLyAgICAgICogYmUgaW5zZXJ0ZWQgaW4gdGhlIERPTS5cbi8vICAgICAgKlxuLy8gICAgICAqIEBwYXJhbSBlcnJvciAtIEFueSBlcnJvciByYWlzZWQgZHVyaW5nIHRoZSB2ZXJpZmljYXRpb24gcHJvY2Vzcztcbi8vICAgICAgKiB1bmRlZmluZWQgaWYgdGhlcmUgaXMgbm9uZS5cbi8vICAgICAgKiBAcGFyYW0gaWZyYW1lIC0gVGhlIGlmcmFtZSBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIHZlcmlmaWNhdGlvbiB3ZWIgcGFnZVxuLy8gICAgICAqIHByb3ZpZGVkIGJ5IHRoZSBjYXJkIGlzc3Vlci5cbi8vICAgICAgKiBAcGFyYW0gY2FuY2VsIC0gQSBmdW5jdGlvbiwgd2hlbiBjYWxsZWQsIHdpbGwgY2FuY2VsIHRoZSB2ZXJpZmljYXRpb25cbi8vICAgICAgKiBwcm9jZXNzIGFuZCByZW1vdmUgdGhlIGlmcmFtZS5cbi8vICAgICAgKi9cbi8vICAgICBhZGRGcmFtZShcbi8vICAgICAgICAgZXJyb3I6IEVycm9yIHwgdW5kZWZpbmVkLFxuLy8gICAgICAgICBpZnJhbWU6IEhUTUxJRnJhbWVFbGVtZW50LFxuLy8gICAgICAgICBjYW5jZWw6ICgpID0+IFByb21pc2U8QnJhaW50cmVlVmVyaWZ5UGF5bG9hZD4gfCB1bmRlZmluZWQsXG4vLyAgICAgKTogdm9pZDtcbi8vXG4vLyAgICAgLyoqXG4vLyAgICAgICogQSBjYWxsYmFjayB0aGF0IGdldHMgY2FsbGVkIHdoZW4gdGhlIGlmcmFtZSBpcyBhYm91dCB0byBiZSByZW1vdmVkIGZyb21cbi8vICAgICAgKiB0aGUgY3VycmVudCBwYWdlLlxuLy8gICAgICAqL1xuLy8gICAgIHJlbW92ZUZyYW1lKCk6IHZvaWQ7XG4vLyB9XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRm9ybU9wdGlvbnMge1xuICAgIGZpZWxkczogQnJhaW50cmVlRm9ybUZpZWxkc01hcCB8IEJyYWludHJlZVN0b3JlZENhcmRGaWVsZHNNYXA7XG4gICAgc3R5bGVzPzogQnJhaW50cmVlRm9ybUZpZWxkU3R5bGVzTWFwO1xuICAgIG9uQmx1cj8oZGF0YTogQnJhaW50cmVlRm9ybUZpZWxkQmx1ckV2ZW50RGF0YSk6IHZvaWQ7XG4gICAgb25DYXJkVHlwZUNoYW5nZT8oZGF0YTogQnJhaW50cmVlRm9ybUZpZWxkQ2FyZFR5cGVDaGFuZ2VFdmVudERhdGEpOiB2b2lkO1xuICAgIG9uRm9jdXM/KGRhdGE6IEJyYWludHJlZUZvcm1GaWVsZEZvY3VzRXZlbnREYXRhKTogdm9pZDtcbiAgICBvblZhbGlkYXRlPyhkYXRhOiBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUV2ZW50RGF0YSk6IHZvaWQ7XG4gICAgb25FbnRlcj8oZGF0YTogQnJhaW50cmVlRm9ybUZpZWxkRW50ZXJFdmVudERhdGEpOiB2b2lkO1xufVxuXG5leHBvcnQgZW51bSBCcmFpbnRyZWVGb3JtRmllbGRUeXBlIHtcbiAgICBDYXJkQ29kZSA9ICdjYXJkQ29kZScsXG4gICAgQ2FyZENvZGVWZXJpZmljYXRpb24gPSAnY2FyZENvZGVWZXJpZmljYXRpb24nLFxuICAgIENhcmRFeHBpcnkgPSAnY2FyZEV4cGlyeScsXG4gICAgQ2FyZE5hbWUgPSAnY2FyZE5hbWUnLFxuICAgIENhcmROdW1iZXIgPSAnY2FyZE51bWJlcicsXG4gICAgQ2FyZE51bWJlclZlcmlmaWNhdGlvbiA9ICdjYXJkTnVtYmVyVmVyaWZpY2F0aW9uJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGb3JtRmllbGRzTWFwIHtcbiAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkQ29kZV0/OiBCcmFpbnRyZWVGb3JtRmllbGRPcHRpb25zO1xuICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmRFeHBpcnldOiBCcmFpbnRyZWVGb3JtRmllbGRPcHRpb25zO1xuICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmROYW1lXTogQnJhaW50cmVlRm9ybUZpZWxkT3B0aW9ucztcbiAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkTnVtYmVyXTogQnJhaW50cmVlRm9ybUZpZWxkT3B0aW9ucztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVTdG9yZWRDYXJkRmllbGRzTWFwIHtcbiAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkQ29kZVZlcmlmaWNhdGlvbl0/OiBCcmFpbnRyZWVTdG9yZWRDYXJkRmllbGRPcHRpb25zO1xuICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmROdW1iZXJWZXJpZmljYXRpb25dPzogQnJhaW50cmVlU3RvcmVkQ2FyZEZpZWxkT3B0aW9ucztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVGb3JtRmllbGRPcHRpb25zIHtcbiAgICBhY2Nlc3NpYmlsaXR5TGFiZWw/OiBzdHJpbmc7XG4gICAgY29udGFpbmVySWQ6IHN0cmluZztcbiAgICBwbGFjZWhvbGRlcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVTdG9yZWRDYXJkRmllbGRPcHRpb25zIGV4dGVuZHMgQnJhaW50cmVlRm9ybUZpZWxkT3B0aW9ucyB7XG4gICAgaW5zdHJ1bWVudElkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRm9ybUZpZWxkU3R5bGVzTWFwIHtcbiAgICBkZWZhdWx0PzogQnJhaW50cmVlRm9ybUZpZWxkU3R5bGVzO1xuICAgIGVycm9yPzogQnJhaW50cmVlRm9ybUZpZWxkU3R5bGVzO1xuICAgIGZvY3VzPzogQnJhaW50cmVlRm9ybUZpZWxkU3R5bGVzO1xufVxuXG5leHBvcnQgdHlwZSBCcmFpbnRyZWVGb3JtRmllbGRTdHlsZXMgPSBQYXJ0aWFsPFxuICAgIFBpY2s8Q1NTU3R5bGVEZWNsYXJhdGlvbiwgJ2NvbG9yJyB8ICdmb250RmFtaWx5JyB8ICdmb250U2l6ZScgfCAnZm9udFdlaWdodCc+XG4+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZvcm1GaWVsZEtleWJvYXJkRXZlbnREYXRhIHtcbiAgICBmaWVsZFR5cGU6IHN0cmluZztcbiAgICBlcnJvcnM/OiBCcmFpbnRyZWVGb3JtRXJyb3JzRGF0YTtcbn1cblxuZXhwb3J0IHR5cGUgQnJhaW50cmVlRm9ybUZpZWxkQmx1ckV2ZW50RGF0YSA9IEJyYWludHJlZUZvcm1GaWVsZEtleWJvYXJkRXZlbnREYXRhO1xuZXhwb3J0IHR5cGUgQnJhaW50cmVlRm9ybUZpZWxkRW50ZXJFdmVudERhdGEgPSBCcmFpbnRyZWVGb3JtRmllbGRLZXlib2FyZEV2ZW50RGF0YTtcbmV4cG9ydCB0eXBlIEJyYWludHJlZUZvcm1GaWVsZEZvY3VzRXZlbnREYXRhID0gQnJhaW50cmVlRm9ybUZpZWxkS2V5Ym9hcmRFdmVudERhdGE7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRm9ybUZpZWxkQ2FyZFR5cGVDaGFuZ2VFdmVudERhdGEge1xuICAgIGNhcmRUeXBlPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUZvcm1GaWVsZFZhbGlkYXRlRXZlbnREYXRhIHtcbiAgICBlcnJvcnM6IHtcbiAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZENvZGVdPzogQnJhaW50cmVlRm9ybUZpZWxkVmFsaWRhdGVFcnJvckRhdGFbXTtcbiAgICAgICAgW0JyYWludHJlZUZvcm1GaWVsZFR5cGUuQ2FyZEV4cGlyeV0/OiBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUVycm9yRGF0YVtdO1xuICAgICAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkTmFtZV0/OiBCcmFpbnRyZWVGb3JtRmllbGRWYWxpZGF0ZUVycm9yRGF0YVtdO1xuICAgICAgICBbQnJhaW50cmVlRm9ybUZpZWxkVHlwZS5DYXJkTnVtYmVyXT86IEJyYWludHJlZUZvcm1GaWVsZFZhbGlkYXRlRXJyb3JEYXRhW107XG4gICAgICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmRDb2RlVmVyaWZpY2F0aW9uXT86IEJyYWludHJlZUZvcm1GaWVsZFZhbGlkYXRlRXJyb3JEYXRhW107XG4gICAgICAgIFtCcmFpbnRyZWVGb3JtRmllbGRUeXBlLkNhcmROdW1iZXJWZXJpZmljYXRpb25dPzogQnJhaW50cmVlRm9ybUZpZWxkVmFsaWRhdGVFcnJvckRhdGFbXTtcbiAgICB9O1xuICAgIGlzVmFsaWQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlRm9ybUZpZWxkVmFsaWRhdGVFcnJvckRhdGEge1xuICAgIGZpZWxkVHlwZTogc3RyaW5nO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICB0eXBlOiBzdHJpbmc7XG59XG5cbi8qKlxuICpcbiAqIEJyYWludHJlZSBQYXlQYWwgQ2hlY2tvdXRcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIEJyYWludHJlZVBheXBhbENoZWNrb3V0Q3JlYXRvciA9IEJyYWludHJlZU1vZHVsZUNyZWF0b3I8QnJhaW50cmVlUGF5cGFsQ2hlY2tvdXQ+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZVBheXBhbENoZWNrb3V0IHtcbiAgICBsb2FkUGF5UGFsU0RLKFxuICAgICAgICBjb25maWc6IEJyYWludHJlZVBheXBhbFNka0NyZWF0b3JDb25maWcsXG4gICAgICAgIGNhbGxiYWNrOiAoaW5zdGFuY2U6IEJyYWludHJlZVBheXBhbENoZWNrb3V0KSA9PiB2b2lkLFxuICAgICk6IHZvaWQ7XG4gICAgY3JlYXRlUGF5bWVudChvcHRpb25zOiBCcmFpbnRyZWVQYXlwYWxSZXF1ZXN0KTogUHJvbWlzZTxzdHJpbmc+O1xuICAgIHRlYXJkb3duKCk6IFByb21pc2U8dm9pZD47XG4gICAgdG9rZW5pemVQYXltZW50KG9wdGlvbnM6IFBheXBhbEF1dGhvcml6ZURhdGEpOiBQcm9taXNlPEJyYWludHJlZVRva2VuaXplUGF5bG9hZD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlUGF5cGFsU2RrQ3JlYXRvckNvbmZpZyB7XG4gICAgY29tcG9uZW50cz86IHN0cmluZztcbiAgICBjdXJyZW5jeT86IHN0cmluZztcbiAgICBpbnRlbnQ/OiBzdHJpbmc7XG4gICAgaXNDcmVkaXRFbmFibGVkPzogYm9vbGVhbjtcbiAgICBjb21taXQ/OiBib29sZWFuO1xufVxuXG4vKipcbiAqXG4gKiBCcmFpbnRyZWUgVmVubW9cbiAqXG4gKi9cbmV4cG9ydCB0eXBlIEJyYWludHJlZVZlbm1vQ2hlY2tvdXRDcmVhdG9yID0gQnJhaW50cmVlTW9kdWxlQ3JlYXRvcjxcbiAgICBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0LFxuICAgIEJyYWludHJlZVZlbm1vQ3JlYXRvckNvbmZpZ1xuPjtcblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0IGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlIHtcbiAgICB0b2tlbml6ZShjYWxsYmFjazogKGVycm9yOiBCcmFpbnRyZWVFcnJvciwgcGF5bG9hZDogQnJhaW50cmVlVG9rZW5pemVQYXlsb2FkKSA9PiB1bmtub3duKTogdm9pZDtcbiAgICBpc0Jyb3dzZXJTdXBwb3J0ZWQoKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVWZW5tb0NyZWF0b3JDb25maWcgZXh0ZW5kcyBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yQ29uZmlnIHtcbiAgICBhbGxvd0Rlc2t0b3A/OiBib29sZWFuO1xuICAgIHBheW1lbnRNZXRob2RVc2FnZT86IHN0cmluZztcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIFZpc2EgQ2hlY2tvdXRcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIEJyYWludHJlZVZpc2FDaGVja291dENyZWF0b3IgPSBCcmFpbnRyZWVNb2R1bGVDcmVhdG9yPEJyYWludHJlZVZpc2FDaGVja291dD47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlVmlzYUNoZWNrb3V0IGV4dGVuZHMgQnJhaW50cmVlTW9kdWxlIHtcbiAgICB0b2tlbml6ZShwYXltZW50OiBWaXNhQ2hlY2tvdXRQYXltZW50U3VjY2Vzc1BheWxvYWQpOiBQcm9taXNlPFZpc2FDaGVja291dFRva2VuaXplZFBheWxvYWQ+O1xuICAgIGNyZWF0ZUluaXRPcHRpb25zKG9wdGlvbnM6IFBhcnRpYWw8VmlzYUNoZWNrb3V0SW5pdE9wdGlvbnM+KTogVmlzYUNoZWNrb3V0SW5pdE9wdGlvbnM7XG59XG5cbi8qKlxuICpcbiAqIEJyYWludHJlZSBCTlBMIENvbmZpZ3VyYXRvciByZWxhdGVkIHR5cGVzXG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBheVBhbEJOUExDb25maWd1cmF0aW9uSXRlbSB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgc3RhdHVzOiBib29sZWFuO1xuICAgIHN0eWxlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn1cblxuLyoqXG4gKlxuICogQnJhaW50cmVlIExvY2FsIE1ldGhvZHNcbiAqXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTG9jYWxQYXltZW50Q29uZmlnIHtcbiAgICBwYXltZW50VHlwZTogc3RyaW5nO1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIGZhbGxiYWNrOiB7XG4gICAgICAgIHVybDogc3RyaW5nO1xuICAgICAgICBidXR0b25UZXh0OiBzdHJpbmc7XG4gICAgfTtcbiAgICBjdXJyZW5jeUNvZGU6IHN0cmluZztcbiAgICBzaGlwcGluZ0FkZHJlc3NSZXF1aXJlZDogYm9vbGVhbjtcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIGdpdmVuTmFtZTogc3RyaW5nO1xuICAgIHN1cm5hbWU6IHN0cmluZztcbiAgICBhZGRyZXNzOiB7XG4gICAgICAgIGNvdW50cnlDb2RlOiBzdHJpbmc7XG4gICAgfTtcbiAgICBvblBheW1lbnRTdGFydChkYXRhOiBCcmFpbnRyZWVMUE1QYXltZW50U3RhcnREYXRhLCBzdGFydDogKCkgPT4gUHJvbWlzZTx2b2lkPik6IFByb21pc2U8dm9pZD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhaW50cmVlTFBNU3RhcnRQYXltZW50RXJyb3Ige1xuICAgIGNvZGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVMUE1QYXltZW50U3RhcnREYXRhIHtcbiAgICBwYXltZW50SWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVMb2NhbFBheW1lbnRzUGF5bG9hZCB7XG4gICAgbm9uY2U6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCcmFpbnRyZWVMb2NhbFBheW1lbnQgZXh0ZW5kcyBCcmFpbnRyZWVNb2R1bGUge1xuICAgIHN0YXJ0UGF5bWVudChcbiAgICAgICAgY29uZmlnOiBCcmFpbnRyZWVMb2NhbFBheW1lbnRDb25maWcsXG4gICAgICAgIGNhbGxiYWNrOiAoXG4gICAgICAgICAgICBzdGFydFBheW1lbnRFcnJvcjogQnJhaW50cmVlTFBNU3RhcnRQYXltZW50RXJyb3IgfCB1bmRlZmluZWQsXG4gICAgICAgICAgICBwYXlsb2FkOiBCcmFpbnRyZWVMb2NhbFBheW1lbnRzUGF5bG9hZCxcbiAgICAgICAgKSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgICk6IHZvaWQ7XG59XG5cbi8qKlxuICpcbiAqIE90aGVyXG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyYWludHJlZUhvc3RXaW5kb3cgZXh0ZW5kcyBCcmFpbnRyZWVXaW5kb3cge1xuICAgIGJyYWludHJlZT86IEJyYWludHJlZVNESztcbiAgICBwYXlwYWw/OiBQYXlwYWxTREs7XG4gICAgVj86IFZpc2FDaGVja291dFNESztcbn1cbiIsImltcG9ydCB7XG4gICAgTm90SW5pdGlhbGl6ZWRFcnJvcixcbiAgICBOb3RJbml0aWFsaXplZEVycm9yVHlwZSxcbiAgICBVbnN1cHBvcnRlZEJyb3dzZXJFcnJvcixcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCBCcmFpbnRyZWVTY3JpcHRMb2FkZXIgZnJvbSAnLi9icmFpbnRyZWUtc2NyaXB0LWxvYWRlcic7XG5pbXBvcnQge1xuICAgIEJyYWludHJlZUNsaWVudCxcbiAgICBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yLFxuICAgIEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yQ29uZmlnLFxuICAgIEJyYWludHJlZUVycm9yLFxuICAgIEJyYWludHJlZUVycm9yQ29kZSxcbiAgICBCcmFpbnRyZWVHb29nbGVQYXltZW50LFxuICAgIEJyYWludHJlZUxvY2FsUGF5bWVudCxcbiAgICBCcmFpbnRyZWVNb2R1bGUsXG4gICAgQnJhaW50cmVlVGhyZWVEU2VjdXJlLFxuICAgIEJyYWludHJlZVVzQmFua0FjY291bnQsXG4gICAgQnJhaW50cmVlVmVubW9DaGVja291dCxcbiAgICBCcmFpbnRyZWVWaXNhQ2hlY2tvdXQsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IGlzQnJhaW50cmVlRXJyb3IgZnJvbSAnLi91dGlscy9pcy1icmFpbnRyZWUtZXJyb3InO1xuaW1wb3J0IHsgVmlzYUNoZWNrb3V0U0RLIH0gZnJvbSAnLi92aXNhY2hlY2tvdXQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcmFpbnRyZWVTZGsge1xuICAgIHByaXZhdGUgYnJhaW50cmVlVmVubW8/OiBCcmFpbnRyZWVWZW5tb0NoZWNrb3V0O1xuICAgIHByaXZhdGUgYnJhaW50cmVlTG9jYWxQYXltZW50PzogQnJhaW50cmVlTG9jYWxQYXltZW50O1xuICAgIHByaXZhdGUgY2xpZW50PzogQnJhaW50cmVlQ2xpZW50O1xuICAgIHByaXZhdGUgY2xpZW50VG9rZW4/OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBkYXRhQ29sbGVjdG9yPzogQnJhaW50cmVlRGF0YUNvbGxlY3RvcjtcbiAgICBwcml2YXRlIGdvb2dsZVBheW1lbnQ/OiBCcmFpbnRyZWVHb29nbGVQYXltZW50O1xuICAgIHByaXZhdGUgdGhyZWVEUz86IEJyYWludHJlZVRocmVlRFNlY3VyZTtcbiAgICBwcml2YXRlIHZpc2FDaGVja291dD86IFByb21pc2U8QnJhaW50cmVlVmlzYUNoZWNrb3V0PjtcbiAgICBwcml2YXRlIHZpc2FDaGVja291dFNESz86IFZpc2FDaGVja291dFNESztcbiAgICBwcml2YXRlIHVzQmFua0FjY291bnQ/OiBCcmFpbnRyZWVVc0JhbmtBY2NvdW50O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBicmFpbnRyZWVTY3JpcHRMb2FkZXI6IEJyYWludHJlZVNjcmlwdExvYWRlcikge31cblxuICAgIGluaXRpYWxpemUoY2xpZW50VG9rZW46IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLnNldENsaWVudFRva2VuKGNsaWVudFRva2VuKTtcbiAgICB9XG5cbiAgICBhc3luYyBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHRoaXMudGVhcmRvd25Nb2R1bGUodGhpcy5kYXRhQ29sbGVjdG9yKTtcblxuICAgICAgICB0aGlzLmRhdGFDb2xsZWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBCcmFpbnRyZWUgQ2xpZW50XG4gICAgICogYnJhaW50cmVlIGRvYzogaHR0cHM6Ly9icmFpbnRyZWUuZ2l0aHViLmlvL2JyYWludHJlZS13ZWIvY3VycmVudC9tb2R1bGUtYnJhaW50cmVlLXdlYl9jbGllbnQuaHRtbFxuICAgICAqXG4gICAgICovXG4gICAgYXN5bmMgZ2V0Q2xpZW50KCk6IFByb21pc2U8QnJhaW50cmVlQ2xpZW50PiB7XG4gICAgICAgIGlmICghdGhpcy5jbGllbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudFRva2VuID0gdGhpcy5nZXRDbGllbnRUb2tlbk9yVGhyb3coKTtcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudENyZWF0b3IgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkQ2xpZW50KCk7XG5cbiAgICAgICAgICAgIHRoaXMuY2xpZW50ID0gYXdhaXQgY2xpZW50Q3JlYXRvci5jcmVhdGUoeyBhdXRob3JpemF0aW9uOiBjbGllbnRUb2tlbiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNsaWVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEJyYWludHJlZSBEYXRhIGNvbGxlY3RvclxuICAgICAqIGJyYWludHJlZSBkb2M6IGh0dHBzOi8vYnJhaW50cmVlLmdpdGh1Yi5pby9icmFpbnRyZWUtd2ViL2N1cnJlbnQvbW9kdWxlLWJyYWludHJlZS13ZWJfZGF0YS1jb2xsZWN0b3IuaHRtbFxuICAgICAqXG4gICAgICovXG4gICAgYXN5bmMgZ2V0RGF0YUNvbGxlY3Rvck9yVGhyb3coXG4gICAgICAgIG9wdGlvbnM/OiBQYXJ0aWFsPEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yQ29uZmlnPixcbiAgICApOiBQcm9taXNlPEJyYWludHJlZURhdGFDb2xsZWN0b3I+IHtcbiAgICAgICAgY29uc3QgZW1wdHlEYXRhQ29sbGVjdG9yID0ge1xuICAgICAgICAgICAgZGV2aWNlRGF0YTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdGVhcmRvd246ICgpID0+IFByb21pc2UucmVzb2x2ZSgpLFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICghdGhpcy5kYXRhQ29sbGVjdG9yKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IHRoaXMuZ2V0Q2xpZW50KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YUNvbGxlY3RvciA9IGF3YWl0IHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWREYXRhQ29sbGVjdG9yKCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhQ29sbGVjdG9yQ29uZmlnOiBCcmFpbnRyZWVEYXRhQ29sbGVjdG9yQ3JlYXRvckNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgICAgICAgICBrb3VudDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhQ29sbGVjdG9yID0gYXdhaXQgZGF0YUNvbGxlY3Rvci5jcmVhdGUoZGF0YUNvbGxlY3RvckNvbmZpZyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChpc0JyYWludHJlZUVycm9yKGVycm9yKSAmJiBlcnJvci5jb2RlID09PSBCcmFpbnRyZWVFcnJvckNvZGUuS291bnROb3RFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eURhdGFDb2xsZWN0b3I7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhQ29sbGVjdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQnJhaW50cmVlIEdvb2dsZSBQYXltZW50XG4gICAgICogYnJhaW50cmVlIGRvYzogaHR0cHM6Ly9icmFpbnRyZWUuZ2l0aHViLmlvL2JyYWludHJlZS13ZWIvY3VycmVudC9tb2R1bGUtYnJhaW50cmVlLXdlYl9nb29nbGUtcGF5bWVudC5odG1sXG4gICAgICpcbiAgICAgKi9cbiAgICBhc3luYyBnZXRCcmFpbnRyZWVHb29nbGVQYXltZW50KCk6IFByb21pc2U8QnJhaW50cmVlR29vZ2xlUGF5bWVudD4ge1xuICAgICAgICBpZiAoIXRoaXMuZ29vZ2xlUGF5bWVudCkge1xuICAgICAgICAgICAgY29uc3QgW2NsaWVudCwgYnJhaW50cmVlR29vZ2xlUGF5bWVudF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDbGllbnQoKSxcbiAgICAgICAgICAgICAgICB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkR29vZ2xlUGF5bWVudCgpLFxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIHRoaXMuZ29vZ2xlUGF5bWVudCA9IGF3YWl0IGJyYWludHJlZUdvb2dsZVBheW1lbnQuY3JlYXRlKHsgY2xpZW50IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ29vZ2xlUGF5bWVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEJyYWludHJlZSAzRFNcbiAgICAgKiBicmFpbnRyZWUgZG9jOiBodHRwczovL2JyYWludHJlZS5naXRodWIuaW8vYnJhaW50cmVlLXdlYi9jdXJyZW50L21vZHVsZS1icmFpbnRyZWUtd2ViX3RocmVlLWQtc2VjdXJlLmh0bWxcbiAgICAgKlxuICAgICAqL1xuICAgIGFzeW5jIGdldEJyYWludHJlZVRocmVlRFMoKTogUHJvbWlzZTxCcmFpbnRyZWVUaHJlZURTZWN1cmU+IHtcbiAgICAgICAgaWYgKCF0aGlzLnRocmVlRFMpIHtcbiAgICAgICAgICAgIGNvbnN0IFtjbGllbnQsIHRocmVlRFNlY3VyZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDbGllbnQoKSxcbiAgICAgICAgICAgICAgICB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkM0RTKCksXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgdGhpcy50aHJlZURTID0gYXdhaXQgdGhyZWVEU2VjdXJlLmNyZWF0ZSh7IGNsaWVudCwgdmVyc2lvbjogMiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnRocmVlRFM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBCcmFpbnRyZWUgTG9jYWwgUGF5bWVudCBNZXRob2RzXG4gICAgICogYnJhaW50cmVlIGRvYzogaHR0cHM6Ly9icmFpbnRyZWUuZ2l0aHViLmlvL2JyYWludHJlZS13ZWIvY3VycmVudC9tb2R1bGUtYnJhaW50cmVlLXdlYl9sb2NhbC1wYXltZW50Lmh0bWxcbiAgICAgKlxuICAgICAqL1xuICAgIGFzeW5jIGdldEJyYWludHJlZUxvY2FsUGF5bWVudChcbiAgICAgICAgbWVyY2hhbnRBY2NvdW50SWQ6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPEJyYWludHJlZUxvY2FsUGF5bWVudCB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBpZiAoIXRoaXMuYnJhaW50cmVlTG9jYWxQYXltZW50KSB7XG4gICAgICAgICAgICBjb25zdCBbY2xpZW50LCBsb2NhbFBheW1lbnRDcmVhdG9yXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENsaWVudCgpLFxuICAgICAgICAgICAgICAgIHRoaXMuYnJhaW50cmVlU2NyaXB0TG9hZGVyLmxvYWRMb2NhbFBheW1lbnQoKSxcbiAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICB0aGlzLmJyYWludHJlZUxvY2FsUGF5bWVudCA9IGF3YWl0IG5ldyBQcm9taXNlKFxuICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZTogKGJyYWludHJlZUxvY2FsUGF5bWVudDogQnJhaW50cmVlTG9jYWxQYXltZW50KSA9PiB2b2lkLFxuICAgICAgICAgICAgICAgICAgICByZWplY3Q6IChlcnJvcjogQnJhaW50cmVlRXJyb3IpID0+IHZvaWQsXG4gICAgICAgICAgICAgICAgKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZvaWQgbG9jYWxQYXltZW50Q3JlYXRvci5jcmVhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsaWVudCwgbWVyY2hhbnRBY2NvdW50SWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogQnJhaW50cmVlRXJyb3IgfCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJhaW50cmVlTG9jYWxQYXltZW50OiBCcmFpbnRyZWVMb2NhbFBheW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGJyYWludHJlZUxvY2FsUGF5bWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYnJhaW50cmVlTG9jYWxQYXltZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQnJhaW50cmVlIFVzQmFua0FjY291bnRcbiAgICAgKiBicmFpbnRyZWUgZG9jOiBodHRwczovL2JyYWludHJlZS5naXRodWIuaW8vYnJhaW50cmVlLXdlYi9jdXJyZW50L21vZHVsZS1icmFpbnRyZWUtd2ViX3VzLWJhbmstYWNjb3VudC5odG1sXG4gICAgICpcbiAgICAgKi9cbiAgICBhc3luYyBnZXRVc0JhbmtBY2NvdW50KCkge1xuICAgICAgICBpZiAoIXRoaXMudXNCYW5rQWNjb3VudCkge1xuICAgICAgICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgdGhpcy5nZXRDbGllbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IHVzQmFua0FjY291bnQgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkVXNCYW5rQWNjb3VudCgpO1xuXG4gICAgICAgICAgICB0aGlzLnVzQmFua0FjY291bnQgPSBhd2FpdCB1c0JhbmtBY2NvdW50LmNyZWF0ZSh7IGNsaWVudCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnVzQmFua0FjY291bnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBCcmFpbnRyZWUgVmlzYSBDaGVja291dFxuICAgICAqIGJyYWludHJlZSBkb2M6IGh0dHBzOi8vYnJhaW50cmVlLmdpdGh1Yi5pby9icmFpbnRyZWUtd2ViL2N1cnJlbnQvbW9kdWxlLWJyYWludHJlZS13ZWJfdmlzYS1jaGVja291dC5odG1sXG4gICAgICpcbiAgICAgKi9cbiAgICBnZXRCcmFpbnRyZWVWaXNhQ2hlY2tvdXQoKSB7XG4gICAgICAgIGlmICghdGhpcy52aXNhQ2hlY2tvdXQpIHtcbiAgICAgICAgICAgIHRoaXMudmlzYUNoZWNrb3V0ID0gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2xpZW50KCksXG4gICAgICAgICAgICAgICAgdGhpcy5icmFpbnRyZWVTY3JpcHRMb2FkZXIubG9hZFZpc2FDaGVja291dCgpLFxuICAgICAgICAgICAgXSkudGhlbigoW2NsaWVudCwgcGF5cGFsXSkgPT4gcGF5cGFsLmNyZWF0ZSh7IGNsaWVudCB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy52aXNhQ2hlY2tvdXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBCcmFpbnRyZWUgVmlzYSBDaGVja291dCBTREtcbiAgICAgKiB2aXNhIGNoZWNrb3V0IGRvYzogaHR0cHM6Ly9kZXZlbG9wZXIudmlzYS5jb20vY2FwYWJpbGl0aWVzL3Zpc2FfY2hlY2tvdXQvZG9jcy1ob3ctdG9cbiAgICAgKlxuICAgICAqL1xuICAgIGFzeW5jIGdldFZpc2FDaGVja291dFNkayh0ZXN0TW9kZT86IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKCF0aGlzLnZpc2FDaGVja291dFNESykge1xuICAgICAgICAgICAgdGhpcy52aXNhQ2hlY2tvdXRTREsgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkVmlzYUNoZWNrb3V0U2RrKHRlc3RNb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnZpc2FDaGVja291dFNESztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEJyYWludHJlZSBWZW5tbyBDaGVja291dFxuICAgICAqIGJyYWludHJlZSB2ZW5tbyBjaGVja291dCBkb2M6IGh0dHBzOi8vYnJhaW50cmVlLmdpdGh1Yi5pby9icmFpbnRyZWUtd2ViL2N1cnJlbnQvbW9kdWxlLWJyYWludHJlZS13ZWJfdmVubW8uaHRtbFxuICAgICAqXG4gICAgICovXG4gICAgYXN5bmMgZ2V0VmVubW9DaGVja291dE9yVGhyb3coKSB7XG4gICAgICAgIGlmICghdGhpcy5icmFpbnRyZWVWZW5tbykge1xuICAgICAgICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgdGhpcy5nZXRDbGllbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IHZlbm1vQ2hlY2tvdXQgPSBhd2FpdCB0aGlzLmJyYWludHJlZVNjcmlwdExvYWRlci5sb2FkVmVubW9DaGVja291dCgpO1xuXG4gICAgICAgICAgICBjb25zdCB2ZW5tb0NoZWNrb3V0Q29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgICAgICBhbGxvd0Rlc2t0b3A6IHRydWUsXG4gICAgICAgICAgICAgICAgcGF5bWVudE1ldGhvZFVzYWdlOiAnbXVsdGlfdXNlJyxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGJyYWludHJlZVZlbm1vQ2hlY2tvdXQgPSBhd2FpdCB2ZW5tb0NoZWNrb3V0LmNyZWF0ZSh2ZW5tb0NoZWNrb3V0Q29uZmlnKTtcblxuICAgICAgICAgICAgaWYgKGJyYWludHJlZVZlbm1vQ2hlY2tvdXQuaXNCcm93c2VyU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJyYWludHJlZVZlbm1vID0gYnJhaW50cmVlVmVubW9DaGVja291dDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkQnJvd3NlckVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5icmFpbnRyZWVWZW5tbztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFByaXZhdGUgbWV0aG9kc1xuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSBzZXRDbGllbnRUb2tlbihjbGllbnRUb2tlbjogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2xpZW50VG9rZW4gPSBjbGllbnRUb2tlbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldENsaWVudFRva2VuT3JUaHJvdygpOiBzdHJpbmcge1xuICAgICAgICBpZiAoIXRoaXMuY2xpZW50VG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RJbml0aWFsaXplZEVycm9yKE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLlBheW1lbnROb3RJbml0aWFsaXplZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnRUb2tlbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHRlYXJkb3duTW9kdWxlKG1vZHVsZT86IEJyYWludHJlZU1vZHVsZSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gbW9kdWxlID8gbW9kdWxlLnRlYXJkb3duKCkgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCcmFpbnRyZWVFcnJvciB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNCcmFpbnRyZWVFcnJvcihlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEJyYWludHJlZUVycm9yIHtcbiAgICByZXR1cm4gQm9vbGVhbihcbiAgICAgICAgdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgZXJyb3IgIT09IG51bGwgJiZcbiAgICAgICAgICAgICgndHlwZScgaW4gZXJyb3IgfHwgJ21lc3NhZ2UnIGluIGVycm9yIHx8ICdjb2RlJyBpbiBlcnJvciksXG4gICAgKTtcbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIHRoZSBjbGllbnQgbGlicmFyeSBvZiBhIHBheW1lbnQgbWV0aG9kIGZhaWxzXG4gKiB0byBsb2FkLCBvciBmb3Igc29tZSByZWFzb24sIGl0IGlzIGluYWNjZXNzaWJsZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKFxuICAgICAgICAgICAgbWVzc2FnZSB8fFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSBjbGllbnQgbGlicmFyeSBvZiBhIHBheW1lbnQgbWV0aG9kIGlzIG5vdCBsb2FkZWQgb3IgcmVhZHkgdG8gYmUgdXNlZC4nLFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdwYXltZW50X21ldGhvZF9jbGllbnRfdW5hdmFpbGFibGUnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJyYWludHJlZU1vZHVsZU5hbWUgfSBmcm9tICcuL2JyYWludHJlZSc7XG5pbXBvcnQge1xuICAgIEJSQUlOVFJFRV9TREtfREVGQVVMVF9WRVJTSU9OLFxuICAgIEJSQUlOVFJFRV9TREtfSE9TVEVEX0ZJRUxEU19GSVhfVkVSU0lPTixcbiAgICBCUkFJTlRSRUVfU0RLX1NUQUJMRV9WRVJTSU9OLFxufSBmcm9tICcuL2JyYWludHJlZS1zZGstdmVyaXNvbic7XG5cbmV4cG9ydCBjb25zdCBCUkFJTlRSRUVfU0RLX1NDUklQVFNfSU5URUdSSVRZID0ge1xuICAgIFtCUkFJTlRSRUVfU0RLX1NUQUJMRV9WRVJTSU9OXToge1xuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5DbGllbnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC0yNkJYRE5uSkkyM0pZUnlGQmo0eGU0c1ZOclVTU2lTU3UxMWt4VlhOTS92RVBPTm00THVMMDB3NlphVGdRZXd0JyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuUGF5cGFsQ2hlY2tvdXRdOlxuICAgICAgICAgICAgJ3NoYTM4NC1CK3Z6Ylp3blF0eldCdGhwa1Q0VFhLVWliTzY1dHllSzdlQ3hTdnBibGdwclRlcDIrSUFYQjJDeHhqcm43MTBPJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuUGF5cGFsXTpcbiAgICAgICAgICAgICdzaGEzODQtdXlBR0wxLzMrWEpBSG5Hb055NGVDb1hkeko0ZjdJbHpwKzZ3OVBObkVqczZEQ0N6OVdNeUpqTU4xZ3pjNzhVKycsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkxvY2FsUGF5bWVudF06XG4gICAgICAgICAgICAnc2hhMzg0LUxJdk9FTWtJVkV3VnVZQmRWT1FjMUFDNVliR0dsd3lmVWhlUzBBQ0syMThEMlNUdVZZUWxaNEZ5RVBvd0FFZlQnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5EYXRhQ29sbGVjdG9yXTpcbiAgICAgICAgICAgICdzaGEzODQtMWJvOUpEeitLc2N0aGMwODVjQ0tXdXI4Q0x3VW9CcG9OeXhzRGk3OTMybUNsMHpGcTNBNW12K0ZRTHc5R0hwVicsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlVzQmFua0FjY291bnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC14bUhCVmFVK3c3NFYrT2ViRDNBYVBPTkZ4SFVHTWYrUVJzOEcvSnhWUFhOTlA3TURhMmpMMElDV0hJZTJ0VGZKJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuR29vZ2xlUGF5bWVudF06XG4gICAgICAgICAgICAnc2hhMzg0LVdLREpsOG1xb1A4MnFacE1HSDZBYlp4bnZYblNXOElMVjRNNjRDeU1MaXVnR013dTdMeVA4OXdqQ2tIcXNpQmUnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5UaHJlZURTZWN1cmVdOlxuICAgICAgICAgICAgJ3NoYTM4NC1WUVVscEdIenNHdnM1WGVpR0ZpcDdFWFJzdm9IV0VYRFZtZ0NhY2ZieWllWkk5bWRCT3FxM05Tb3lvMjhPQ09CJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVmlzYUNoZWNrb3V0XTpcbiAgICAgICAgICAgICdzaGEzODQteXg3bUFEZnpUTjBUNDNRNnJsSDQ5TElnMUVKMGlVWmdCcC9FY3pYOUxYc1VHa3lTZ3hyRCtuV0hRUkJreWZvVCcsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlZlbm1vXTpcbiAgICAgICAgICAgICdzaGEzODQtUVg0clBqb2oxWkRodUcwYVN5S3M1NmxFS0RxVE1UY2pZeFVIWTFTek81VlpEc3FJRTJOVGtxb3Q3S05TQ3lvdicsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkhvc3RlZEZpZWxkc106XG4gICAgICAgICAgICAnc2hhMzg0LVZ2WUJBQ2ZTdTBDci9KMzJ1S214RzdBWGNOT0pFMUF6SUlMM2tiaWt5UzdZS3A1Zno1SXMrTnpOUC9seWF1TnknLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5GYXN0bGFuZV06XG4gICAgICAgICAgICAnc2hhMzg0LTlvR3NaTVJad3BHdERFRFlhL2RGdDc2ZEVDcWoxeEFuaTlnSUtnYzNLZk1JaVJuUjczbkVlZVVETGlCenhoRmEnLFxuICAgIH0sXG4gICAgW0JSQUlOVFJFRV9TREtfREVGQVVMVF9WRVJTSU9OXToge1xuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5DbGllbnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC1vK25iUUdjd05OeElCZVhldTMrWG1iU3ErQ2c4UjNFTjNOMGw1aFhDZ01NVTJSR1kwdDF6MExyb1NFSUFiZkFPJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuUGF5cGFsQ2hlY2tvdXRdOlxuICAgICAgICAgICAgJ3NoYTM4NC1XcmZiV1BCUzRtSDg2R0FveWNQU2dpSDhoUThLSDdBNjdDOTNIamh1bnYveGhOazJZcEJuM3diRkE0RmhnOVUvJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuUGF5cGFsXTpcbiAgICAgICAgICAgICdzaGEzODQtVkYzODludnZyUlVnRHNUWE14VFlPUkR0VmVnQjlJUWEzQ3hyLy9EeUpuTFluejgvWDhWQ3pFdmNrMmMrTWVndCcsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkxvY2FsUGF5bWVudF06XG4gICAgICAgICAgICAnc2hhMzg0LXRaS3gyckVRYmZtWnBvUFNZNVZQbUpFaGFxNFg3NWRMdndITXMzVkU5VStDOGxQeXcraFdUSUwxK0dQdldDSUgnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5EYXRhQ29sbGVjdG9yXTpcbiAgICAgICAgICAgICdzaGEzODQtRTZrM3dPcFA3c3lDRER3YVJETEYwNjk0MlkwME5rYndKdldpMk9RWHd3S3pHd0c1ZmQzRTdSRlV2Q0NlY2Z2TycsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlVzQmFua0FjY291bnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC0yNThGT044TFpHRzBXOVFhejRKaWo4M3BaSHUzMFluS2pKQTdnTnVsTEJoNkNjbGt1Y2dGK3RIRFF1WUZSWWZXJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuR29vZ2xlUGF5bWVudF06XG4gICAgICAgICAgICAnc2hhMzg0LXRhSjJwLzArbjBWSDMyOFBPQW9CaXVFYkwzdG5IVVRFOVM0MmhLMVYrVHhzM1grUVlqWk95S1czNUpnSFJGZk8nLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5UaHJlZURTZWN1cmVdOlxuICAgICAgICAgICAgJ3NoYTM4NC0rTlNaSDRaajNzTzViZFd2UEtoVTVOMTZRRHhldWVUVlRuVVZlbGVlRVNraExTYXo0T2IxaGgvNW15ZWNjOVltJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVmlzYUNoZWNrb3V0XTpcbiAgICAgICAgICAgICdzaGEzODQtNjZEaUJqZ2h4azFPbUJqOGFrc044Z2JRK0N3b1FjeDF2UGZpWFVOMDhnMWlRVk0rQndld0YwcDd0b00zaTdTUycsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlZlbm1vXTpcbiAgICAgICAgICAgICdzaGEzODQtQjVVd1k0MmtFNFJvTG9XYlE3WXBxb3NVbFVhZDIvRGxHV2l3MEhob1piU1BrMzBDUUFhU0ExMG9oeUxEVGtEVScsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkhvc3RlZEZpZWxkc106XG4gICAgICAgICAgICAnc2hhMzg0LUF3OUVlc1NhVWVXeGUzNlBxRUhpT3lPeU9xOE02Q0liMWd3Ny95SE5WUFJ6R3RGWFhjZDJPUThxWHJJbE9qMlAnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5GYXN0bGFuZV06XG4gICAgICAgICAgICAnc2hhMzg0LXJoQkwxaHBaNzFKcUcrMlRzVDBEaWg0N21iang4Y2pKQ3BlWmprOXR3M2RmMWdGTUtmQ1RtTXladW5ocjdINFknLFxuICAgIH0sXG4gICAgW0JSQUlOVFJFRV9TREtfSE9TVEVEX0ZJRUxEU19GSVhfVkVSU0lPTl06IHtcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuQ2xpZW50XTpcbiAgICAgICAgICAgICdzaGEzODQtMFdOeGtzSXBSUCtmWVppSWRyMTJnNkRCVVFmTER6WUNRSlp0Ui9DOEtrY3dTR2hQSGZjRnAzdFRhR2NNeUZUcScsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlBheXBhbENoZWNrb3V0XTpcbiAgICAgICAgICAgICdzaGEzODQtbFdNMWprNEJPeG9ETlY2S29wN3RWTnZRZ0lObG1FVnowYy9Pd00rSE5ISzNRQzh4cXdkNTRPdnJ0MlFSRFRqaCcsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlBheXBhbF06XG4gICAgICAgICAgICAnc2hhMzg0LWZYVW1WeEMyRU1aQkRYWjdlVEhTVEwvTEZCckhlai9NU1hUL3ZUQlh2cmE0bHpnTE5HdlJFQXAreDBHWU9idUgnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Mb2NhbFBheW1lbnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC1waGExeEd1R1NrbVpINXg5YXFIdlJhTzR4TGVhN3JtUS83OVBGajl6eE56eHVGY09XWmc3Z09QN0ZpYnlnT0VDJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuRGF0YUNvbGxlY3Rvcl06XG4gICAgICAgICAgICAnc2hhMzg0LVE2UEkyRjllZWtXYkF4aHJveWJsK2FFY3ZxaGRvd04vRVFsR3dCVXlKT3pQRm45OTgydTl4bDZTVTZYZkdLemMnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Vc0JhbmtBY2NvdW50XTpcbiAgICAgICAgICAgICdzaGEzODQtVzNSTFFTS0pMMXRRMytZN21QNnRta2FtdFo4YlY0WXcvWHhMOUpqNUp0WEhyYUQ4bG9NRjhoQUlHNW0yeks3RicsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLkdvb2dsZVBheW1lbnRdOlxuICAgICAgICAgICAgJ3NoYTM4NC1USVRRTXNGV0EzZWxETkdQMm1XejJvS0JvNHFqdCtUbHF6b3ZjYVBvZUJpQWgvd1BCaTZuYWU1MEFEZGdVMS9pJyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuVGhyZWVEU2VjdXJlXTpcbiAgICAgICAgICAgICdzaGEzODQtWWl5Y1lOODlabEwvRXZjYXE0eTFhalcxbWhkN0pZZlpCRHVPd0h0SW40L0pubTIwR0wrL1hDTSt6WUF3V0Q4RCcsXG4gICAgICAgIFtCcmFpbnRyZWVNb2R1bGVOYW1lLlZpc2FDaGVja291dF06XG4gICAgICAgICAgICAnc2hhMzg0LS9PZGFUdjlxcmtLempPYnRVZTZ5emZEaEhvekZXLyt1WGxyU2w3MzZzT1pSSnBqR1FFVHZwWVhxTUZGZzY5eHYnLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5WZW5tb106XG4gICAgICAgICAgICAnc2hhMzg0LWRBK29qZFc5dmJKUzRKYXZjWHlPczlkNXVaSEpnNWROdFl1cG9QU0gyenNYSWlZRFZTNWFtTGIvdThxbVE2b3onLFxuICAgICAgICBbQnJhaW50cmVlTW9kdWxlTmFtZS5Ib3N0ZWRGaWVsZHNdOlxuICAgICAgICAgICAgJ3NoYTM4NC0zMVprUzU4K2lhV3NXMDZmdFc1Mnp6VlpGcDQzV1BkN3BOWVJpZGRZeW5TTmc2T2g3V0diU0ZHb3JBVUg2VDF6JyxcbiAgICAgICAgW0JyYWludHJlZU1vZHVsZU5hbWUuRmFzdGxhbmVdOlxuICAgICAgICAgICAgJ3NoYTM4NC1qbGJyd052TDNIdkxBVUN0TFNtcm5RMkdIMXVkQ1VyUlMvYlZtUmVBUzVmdUlWdmNXOFBrby9Ha2c4MnRsZ3RyJyxcbiAgICB9LFxufTtcbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG5leHBvcnQgZW51bSBNaXNzaW5nRGF0YUVycm9yVHlwZSB7XG4gICAgTWlzc2luZ0JpbGxpbmdBZGRyZXNzLFxuICAgIE1pc3NpbmdDYXJ0LFxuICAgIE1pc3NpbmdDaGVja291dCxcbiAgICBNaXNzaW5nQ29uc2lnbm1lbnRzLFxuICAgIE1pc3NpbmdDdXN0b21lcixcbiAgICBNaXNzaW5nQ2hlY2tvdXRDb25maWcsXG4gICAgTWlzc2luZ09yZGVyLFxuICAgIE1pc3NpbmdPcmRlckNvbmZpZyxcbiAgICBNaXNzaW5nT3JkZXJJZCxcbiAgICBNaXNzaW5nUGF5bWVudCxcbiAgICBNaXNzaW5nUGF5bWVudElkLFxuICAgIE1pc3NpbmdQYXltZW50SW5zdHJ1bWVudCxcbiAgICBNaXNzaW5nUGF5bWVudE1ldGhvZCxcbiAgICBNaXNzaW5nUGF5bWVudFJlZGlyZWN0VXJsLFxuICAgIE1pc3NpbmdQYXltZW50U3RhdHVzLFxuICAgIE1pc3NpbmdQYXltZW50VG9rZW4sXG4gICAgTWlzc2luZ1NoaXBwaW5nQWRkcmVzcyxcbn1cblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIHdoZW4gZGF0YSB0aGF0IGlzIGV4cGVjdGVkIHRvIGV4aXN0IGlzIG1pc3NpbmcuIFVzdWFsbHkgaXRcbiAqIGlzIGR1ZSB0byB0aGUgZmFjdCB0aGF0IGNlcnRhaW4gZGF0YSBoYXMgbm90IGJlZW4gcmV0cmlldmVkIGZyb20gb3Igc2F2ZWQgdG9cbiAqIHRoZSBzZXJ2ZXIgeWV0LiBBbmQgc3VjaCBkYXRhIGlzIHJlcXVpcmVkIHRvIHBlcmZvcm0gY2VydGFpbiBhY3Rpb25zLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNaXNzaW5nRGF0YUVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IocHVibGljIHN1YnR5cGU6IE1pc3NpbmdEYXRhRXJyb3JUeXBlKSB7XG4gICAgICAgIHN1cGVyKGdldEVycm9yTWVzc2FnZShzdWJ0eXBlKSk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ01pc3NpbmdEYXRhRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnbWlzc2luZ19kYXRhJztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZSh0eXBlOiBNaXNzaW5nRGF0YUVycm9yVHlwZSk6IHN0cmluZyB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0JpbGxpbmdBZGRyZXNzOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIGJpbGxpbmcgYWRkcmVzcyBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ2FydDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjYXJ0IGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDb25zaWdubWVudHM6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY29uc2lnbm1lbnRzIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdDaGVja291dDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjaGVja291dCBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nQ3VzdG9tZXI6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgY3VzdG9tZXIgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NoZWNrb3V0Q29uZmlnOlxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdPcmRlckNvbmZpZzpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBjb25maWd1cmF0aW9uIGRhdGEgaXMgdW5hdmFpbGFibGUuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdPcmRlcjpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBvcmRlciBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nT3JkZXJJZDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSBvcmRlciBJRCBpcyB1bmF2YWlsYWJsZSBvciBub3QgZ2VuZXJhdGVkIHlldC4nO1xuXG4gICAgICAgIGNhc2UgTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnQ6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgcGF5bWVudCBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgY2FzZSBNaXNzaW5nRGF0YUVycm9yVHlwZS5NaXNzaW5nUGF5bWVudFRva2VuOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHRoZSB0b2tlbiByZXF1aXJlZCB0byBzdWJtaXQgYSBwYXltZW50IGlzIG1pc3NpbmcuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kOlxuICAgICAgICAgICAgcmV0dXJuICdVbmFibGUgdG8gcHJvY2VlZCBiZWNhdXNlIHBheW1lbnQgbWV0aG9kIGRhdGEgaXMgdW5hdmFpbGFibGUgb3Igbm90IHByb3Blcmx5IGNvbmZpZ3VyZWQuJztcblxuICAgICAgICBjYXNlIE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdTaGlwcGluZ0FkZHJlc3M6XG4gICAgICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2Ugc2hpcHBpbmcgYWRkcmVzcyBkYXRhIGlzIHVuYXZhaWxhYmxlLic7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnVW5hYmxlIHRvIHByb2NlZWQgYmVjYXVzZSB0aGUgcmVxdWlyZWQgZGF0YSBpcyB1bmF2YWlsYWJsZS4nO1xuICAgIH1cbn1cbiIsImV4cG9ydCBlbnVtIEFwcGxlUGF5R2F0ZXdheVR5cGUge1xuICAgIEJSQUlOVFJFRSA9ICdicmFpbnRyZWUnLFxuICAgIEJSQUlOVFJFRV9GQVNUTEFORSA9ICdicmFpbnRyZWVhY2NlbGVyYXRlZGNoZWNrb3V0Jyxcbn1cbiIsImltcG9ydCB7IFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHsgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgQlJBSU5UUkVFX1NES19TQ1JJUFRTX0lOVEVHUklUWSB9IGZyb20gJy4vYnJhaW50cmVlLXNkay1zY3JpcHRzLWludGVncml0eSc7XG5pbXBvcnQgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIgZnJvbSAnLi9icmFpbnRyZWUtc2RrLXZlcnNpb24tbWFuYWdlcic7XG5pbXBvcnQgaXNNYW5hZ2VhYmxlQnJhaW50cmVlU0RLVmVyc2lvbiBmcm9tICcuL2lzTWFuYWdlYWJsZUJyYWludHJlZVNES1ZlcnNpb24nO1xuaW1wb3J0IHtcbiAgICBCcmFpbnRyZWVDbGllbnRDcmVhdG9yLFxuICAgIEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yLFxuICAgIEJyYWludHJlZUZhc3RsYW5lQ3JlYXRvcixcbiAgICBCcmFpbnRyZWVHb29nbGVQYXltZW50Q3JlYXRvcixcbiAgICBCcmFpbnRyZWVIb3N0ZWRGaWVsZHNDcmVhdG9yLFxuICAgIEJyYWludHJlZUhvc3RXaW5kb3csXG4gICAgQnJhaW50cmVlTG9jYWxQYXltZW50Q3JlYXRvcixcbiAgICBCcmFpbnRyZWVNb2R1bGVDcmVhdG9ycyxcbiAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLFxuICAgIEJyYWludHJlZVBheXBhbENoZWNrb3V0Q3JlYXRvcixcbiAgICBCcmFpbnRyZWVQYXlwYWxDcmVhdG9yLFxuICAgIEJyYWludHJlZVRocmVlRFNlY3VyZUNyZWF0b3IsXG4gICAgQnJhaW50cmVlVXNCYW5rQWNjb3VudENyZWF0b3IsXG4gICAgQnJhaW50cmVlVmVubW9DaGVja291dENyZWF0b3IsXG4gICAgQnJhaW50cmVlVmlzYUNoZWNrb3V0Q3JlYXRvcixcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBWaXNhQ2hlY2tvdXRTREsgfSBmcm9tICcuL3Zpc2FjaGVja291dCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJyYWludHJlZVNjcmlwdExvYWRlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgc2NyaXB0TG9hZGVyOiBTY3JpcHRMb2FkZXIsXG4gICAgICAgIHByaXZhdGUgYnJhaW50cmVlSG9zdFdpbmRvdzogQnJhaW50cmVlSG9zdFdpbmRvdyxcbiAgICAgICAgcHJpdmF0ZSBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlcjogQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgbG9hZENsaWVudCgpOiBQcm9taXNlPEJyYWludHJlZUNsaWVudENyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlQ2xpZW50Q3JlYXRvcj4oXG4gICAgICAgICAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLkNsaWVudCxcbiAgICAgICAgICAgICdjbGllbnQubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkRmFzdGxhbmUoKTogUHJvbWlzZTxCcmFpbnRyZWVGYXN0bGFuZUNyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlRmFzdGxhbmVDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuRmFzdGxhbmUsXG4gICAgICAgICAgICAnZmFzdGxhbmUubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkUGF5cGFsQ2hlY2tvdXQoKTogUHJvbWlzZTxCcmFpbnRyZWVQYXlwYWxDaGVja291dENyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlUGF5cGFsQ2hlY2tvdXRDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuUGF5cGFsQ2hlY2tvdXQsXG4gICAgICAgICAgICAncGF5cGFsLWNoZWNrb3V0Lm1pbi5qcycsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZFBheXBhbCgpOiBQcm9taXNlPEJyYWludHJlZVBheXBhbENyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlUGF5cGFsQ3JlYXRvcj4oXG4gICAgICAgICAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLlBheXBhbCxcbiAgICAgICAgICAgICdwYXlwYWwubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkTG9jYWxQYXltZW50KCk6IFByb21pc2U8QnJhaW50cmVlTG9jYWxQYXltZW50Q3JlYXRvcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdzxCcmFpbnRyZWVMb2NhbFBheW1lbnRDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuTG9jYWxQYXltZW50LFxuICAgICAgICAgICAgJ2xvY2FsLXBheW1lbnQubWluLmpzJyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkRGF0YUNvbGxlY3RvcigpOiBQcm9taXNlPEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZURhdGFDb2xsZWN0b3JDcmVhdG9yPihcbiAgICAgICAgICAgIEJyYWludHJlZU1vZHVsZU5hbWUuRGF0YUNvbGxlY3RvcixcbiAgICAgICAgICAgICdkYXRhLWNvbGxlY3Rvci5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWRVc0JhbmtBY2NvdW50KCk6IFByb21pc2U8QnJhaW50cmVlVXNCYW5rQWNjb3VudENyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlVXNCYW5rQWNjb3VudENyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5Vc0JhbmtBY2NvdW50LFxuICAgICAgICAgICAgJ3VzLWJhbmstYWNjb3VudC5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWRHb29nbGVQYXltZW50KCk6IFByb21pc2U8QnJhaW50cmVlR29vZ2xlUGF5bWVudENyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlR29vZ2xlUGF5bWVudENyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5Hb29nbGVQYXltZW50LFxuICAgICAgICAgICAgJ2dvb2dsZS1wYXltZW50Lm1pbi5qcycsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZDNEUygpOiBQcm9taXNlPEJyYWludHJlZVRocmVlRFNlY3VyZUNyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlVGhyZWVEU2VjdXJlQ3JlYXRvcj4oXG4gICAgICAgICAgICBCcmFpbnRyZWVNb2R1bGVOYW1lLlRocmVlRFNlY3VyZSxcbiAgICAgICAgICAgICd0aHJlZS1kLXNlY3VyZS5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGxvYWRWaXNhQ2hlY2tvdXQoKTogUHJvbWlzZTxCcmFpbnRyZWVWaXNhQ2hlY2tvdXRDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZVZpc2FDaGVja291dENyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5WaXNhQ2hlY2tvdXQsXG4gICAgICAgICAgICAndmlzYS1jaGVja291dC5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGxvYWRWZW5tb0NoZWNrb3V0KCk6IFByb21pc2U8QnJhaW50cmVlVmVubW9DaGVja291dENyZWF0b3I+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJyYWludHJlZU1vZHVsZU9yVGhyb3c8QnJhaW50cmVlVmVubW9DaGVja291dENyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5WZW5tbyxcbiAgICAgICAgICAgICd2ZW5tby5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWRIb3N0ZWRGaWVsZHMoKTogUHJvbWlzZTxCcmFpbnRyZWVIb3N0ZWRGaWVsZHNDcmVhdG9yPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PEJyYWludHJlZUhvc3RlZEZpZWxkc0NyZWF0b3I+KFxuICAgICAgICAgICAgQnJhaW50cmVlTW9kdWxlTmFtZS5Ib3N0ZWRGaWVsZHMsXG4gICAgICAgICAgICAnaG9zdGVkLWZpZWxkcy5taW4uanMnLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWRWaXNhQ2hlY2tvdXRTZGsodGVzdE1vZGU/OiBib29sZWFuKTogUHJvbWlzZTxWaXNhQ2hlY2tvdXRTREs+IHtcbiAgICAgICAgaWYgKHRoaXMuYnJhaW50cmVlSG9zdFdpbmRvdy5WKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5icmFpbnRyZWVIb3N0V2luZG93LlY7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoYXNoID0gdGVzdE1vZGVcbiAgICAgICAgICAgID8gJ3NoYTM4NC0wZXUxczFHdHF6WGxMOUR0TGdtd3pDNVdXbEVIL0FEUk0wbjM4Y1ZRa3Z0VCtXL2dleTk2cmNiMUx3dVVPUERtJ1xuICAgICAgICAgICAgOiAnc2hhMzg0LTFmMWNzdlAzWkZ4ZzRkSUxIMUdhWTRMSGxaMG9YN1JrODNyeG1MbHdibklpNFRNME5ZelhvZXYxVm9FaVZEUzYnO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNjcmlwdExvYWRlclxuICAgICAgICAgICAgLmxvYWRTY3JpcHQoXG4gICAgICAgICAgICAgICAgYC8vJHtcbiAgICAgICAgICAgICAgICAgICAgdGVzdE1vZGUgPyAnc2FuZGJveC0nIDogJydcbiAgICAgICAgICAgICAgICB9YXNzZXRzLnNlY3VyZS5jaGVja291dC52aXNhLmNvbS9jaGVja291dC13aWRnZXQvcmVzb3VyY2VzL2pzL2ludGVncmF0aW9uL3YxL3Nkay5qc2AsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZWdyaXR5OiBoYXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NvcmlnaW46ICdhbm9ueW1vdXMnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmJyYWludHJlZUhvc3RXaW5kb3cuVikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUGF5bWVudE1ldGhvZENsaWVudFVuYXZhaWxhYmxlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5icmFpbnRyZWVIb3N0V2luZG93LlY7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGxvYWRCcmFpbnRyZWVNb2R1bGVPclRocm93PFQgZXh0ZW5kcyBCcmFpbnRyZWVNb2R1bGVDcmVhdG9ycz4oXG4gICAgICAgIGJyYWludHJlZU1vZHVsZU5hbWU6IEJyYWludHJlZU1vZHVsZU5hbWUsXG4gICAgICAgIGZpbGVOYW1lOiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxUPiB7XG4gICAgICAgIGxldCBtb2R1bGUgPSB0aGlzLmdldEJyYWludHJlZU1vZHVsZShicmFpbnRyZWVNb2R1bGVOYW1lKTtcblxuICAgICAgICBpZiAobW9kdWxlKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2NvbnNpc3RlbnQtdHlwZS1hc3NlcnRpb25zXG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlIGFzIFQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBicmFpbnRyZWVTZGtWZXJzaW9uID0gdGhpcy5icmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlci5nZXRTREtWZXJzaW9uKCk7XG5cbiAgICAgICAgY29uc3Qgc2NyaXB0UGF0aCA9IGAvL2pzLmJyYWludHJlZWdhdGV3YXkuY29tL3dlYi8ke2JyYWludHJlZVNka1ZlcnNpb259L2pzLyR7ZmlsZU5hbWV9YDtcblxuICAgICAgICBjb25zdCBpbnRlZ3JpdHkgPSBpc01hbmFnZWFibGVCcmFpbnRyZWVTREtWZXJzaW9uKGJyYWludHJlZVNka1ZlcnNpb24pXG4gICAgICAgICAgICA/IHRoaXMuZ2V0SW50ZWdyaXR5VmFsdWVzQnlNb2R1bGVOYW1lKGJyYWludHJlZU1vZHVsZU5hbWUsIGJyYWludHJlZVNka1ZlcnNpb24pXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBhd2FpdCB0aGlzLnNjcmlwdExvYWRlci5sb2FkU2NyaXB0KFxuICAgICAgICAgICAgc2NyaXB0UGF0aCxcbiAgICAgICAgICAgIGludGVncml0eVxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZWdyaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjcm9zc29yaWdpbjogJ2Fub255bW91cycsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgKTtcblxuICAgICAgICBtb2R1bGUgPSB0aGlzLmdldEJyYWludHJlZU1vZHVsZShicmFpbnRyZWVNb2R1bGVOYW1lKTtcblxuICAgICAgICBpZiAoIW1vZHVsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RDbGllbnRVbmF2YWlsYWJsZUVycm9yKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2NvbnNpc3RlbnQtdHlwZS1hc3NlcnRpb25zXG4gICAgICAgIHJldHVybiBtb2R1bGUgYXMgVDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEJyYWludHJlZU1vZHVsZShcbiAgICAgICAgYnJhaW50cmVlTW9kdWxlTmFtZTogQnJhaW50cmVlTW9kdWxlTmFtZSxcbiAgICApOiBCcmFpbnRyZWVNb2R1bGVDcmVhdG9ycyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmJyYWludHJlZUhvc3RXaW5kb3cuYnJhaW50cmVlPy5bYnJhaW50cmVlTW9kdWxlTmFtZV07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRJbnRlZ3JpdHlWYWx1ZXNCeU1vZHVsZU5hbWUoXG4gICAgICAgIG1vZHVsZU5hbWU6IEJyYWludHJlZU1vZHVsZU5hbWUsXG4gICAgICAgIHZlcnNpb246IGtleW9mIHR5cGVvZiBCUkFJTlRSRUVfU0RLX1NDUklQVFNfSU5URUdSSVRZLFxuICAgICk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGludGVncml0eSA9IEJSQUlOVFJFRV9TREtfU0NSSVBUU19JTlRFR1JJVFlbdmVyc2lvbl1bbW9kdWxlTmFtZV07XG5cbiAgICAgICAgaWYgKCFpbnRlZ3JpdHkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBmaWxlTmFtZSB2YWx1ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGludGVncml0eTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCUkFJTlRSRUVfU0RLX1NDUklQVFNfSU5URUdSSVRZIH0gZnJvbSAnLi9icmFpbnRyZWUtc2RrLXNjcmlwdHMtaW50ZWdyaXR5JztcblxuZnVuY3Rpb24gaXNNYW5hZ2VhYmxlQnJhaW50cmVlU0RLVmVyc2lvbihcbiAgICB2ZXJzaW9uOiBzdHJpbmcsXG4pOiB2ZXJzaW9uIGlzIGtleW9mIHR5cGVvZiBCUkFJTlRSRUVfU0RLX1NDUklQVFNfSU5URUdSSVRZIHtcbiAgICByZXR1cm4gdmVyc2lvbiBpbiBCUkFJTlRSRUVfU0RLX1NDUklQVFNfSU5URUdSSVRZO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc01hbmFnZWFibGVCcmFpbnRyZWVTREtWZXJzaW9uO1xuIiwiaW1wb3J0IFJlc29sdmFibGVNb2R1bGUgZnJvbSAnLi9yZXNvbHZhYmxlLW1vZHVsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvUmVzb2x2YWJsZU1vZHVsZTxUTW9kdWxlLCBUSWRlbnRpZmllcj4oXG4gICAgbW9kdWxlOiBUTW9kdWxlLFxuICAgIHJlc29sdmVJZHM6IFRJZGVudGlmaWVyW10sXG4pOiBSZXNvbHZhYmxlTW9kdWxlPFRNb2R1bGUsIFRJZGVudGlmaWVyPiB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obW9kdWxlLCB7IHJlc29sdmVJZHMgfSk7XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIHdlIHRyeSB0byBjYWxsIGEgbWV0aG9kIHRoYXQgaXMgb25seSBhIHN0dWIgYW5kIGhhcyBub3RcbiAqIGJlZW4gZnVsbHkgaW1wbGVtZW50ZWQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdEltcGxlbWVudGVkRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ05vdCBpbXBsZW1lbnRlZC4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnTm90SW1wbGVtZW50ZWRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdub3RfaW1wbGVtZW50ZWQnO1xuICAgIH1cbn1cbiIsImltcG9ydCBTdGFuZGFyZEVycm9yIGZyb20gJy4vc3RhbmRhcmQtZXJyb3InO1xuXG4vKipcbiAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biB3aGVuIGEgbWV0aG9kIGlzIHVuYWJsZSB0byBwcm9jZWVkIGJlY2F1c2UgdGhlXG4gKiBjYWxsZXIgaGFzIG5vdCBwcm92aWRlZCBhbGwgdGhlIGFyZ3VtZW50cyBhY2NvcmRpbmcgdG8gdGhlaXIgcmVxdWlyZW1lbnRzLFxuICogaS5lLjogaWYgYW4gYXJndW1lbnQgaXMgbWlzc2luZyBvciBpdCBpcyBub3QgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW52YWxpZEFyZ3VtZW50RXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UgfHwgJ0ludmFsaWQgYXJndW1lbnRzIGhhdmUgYmVlbiBwcm92aWRlZC4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnSW52YWxpZEFyZ3VtZW50RXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnaW52YWxpZF9hcmd1bWVudCc7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gdGhlIHBheW1lbnQgZmxvdyBpcyBjYW5jZWxsZWQuIEl0IGNvdWxkIGJlXG4gKiBkdWUgdG8gYSBkZWxpYmVyYXRlIHVzZXIgaW50ZXJhY3Rpb24sIGkuZS46IHRoZSB1c2VyIGNsaWNrcyBvbiBhIGNhbmNlbFxuICogYnV0dG9uIHdoaWNoIGRpc21pc3NlcyB0aGUgcGF5bWVudCBtb2RhbC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yIGV4dGVuZHMgU3RhbmRhcmRFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlIHx8ICdQYXltZW50IHByb2Nlc3Mgd2FzIGNhbmNlbGxlZC4nKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yJztcbiAgICAgICAgdGhpcy50eXBlID0gJ3BheW1lbnRfY2FuY2VsbGVkJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZXF1ZXN0U2VuZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQgeyBCcmFpbnRyZWVTZGsgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEFkZHJlc3NSZXF1ZXN0Qm9keSxcbiAgICBDYXJ0LFxuICAgIENoZWNrb3V0LFxuICAgIEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgQ3VzdG9tZXJTdHJhdGVneSxcbiAgICBFeGVjdXRlUGF5bWVudE1ldGhvZENoZWNrb3V0T3B0aW9ucyxcbiAgICBJbnZhbGlkQXJndW1lbnRFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIE5vdEltcGxlbWVudGVkRXJyb3IsXG4gICAgUGF5bWVudCxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgIFBheW1lbnRNZXRob2QsXG4gICAgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yLFxuICAgIFNoaXBwaW5nT3B0aW9uLFxuICAgIFN0b3JlQ29uZmlnLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgQXBwbGVQYXlHYXRld2F5VHlwZSB9IGZyb20gJy4vYXBwbGUtcGF5JztcbmltcG9ydCB7IFdpdGhBcHBsZVBheUN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMgfSBmcm9tICcuL2FwcGxlLXBheS1jdXN0b21lci1pbml0aWFsaXplLW9wdGlvbnMnO1xuaW1wb3J0IEFwcGxlUGF5U2NyaXB0TG9hZGVyIGZyb20gJy4vYXBwbGUtcGF5LXNjcmlwdC1sb2FkZXInO1xuaW1wb3J0IEFwcGxlUGF5U2Vzc2lvbkZhY3RvcnkgZnJvbSAnLi9hcHBsZS1wYXktc2Vzc2lvbi1mYWN0b3J5JztcblxuY29uc3QgdmFsaWRhdGlvbkVuZHBvaW50ID0gKGJpZ1BheUVuZHBvaW50OiBzdHJpbmcpID0+XG4gICAgYCR7YmlnUGF5RW5kcG9pbnR9L2FwaS9wdWJsaWMvdjEvcGF5bWVudHMvYXBwbGVwYXkvdmFsaWRhdGVfbWVyY2hhbnRgO1xuXG5lbnVtIERlZmF1bHRMYWJlbHMge1xuICAgIFN1YnRvdGFsID0gJ1N1YnRvdGFsJyxcbiAgICBTaGlwcGluZyA9ICdTaGlwcGluZycsXG59XG5cbmZ1bmN0aW9uIGlzU2hpcHBpbmdPcHRpb25zKG9wdGlvbnM6IFNoaXBwaW5nT3B0aW9uW10gfCB1bmRlZmluZWQpOiBvcHRpb25zIGlzIFNoaXBwaW5nT3B0aW9uW10ge1xuICAgIHJldHVybiBvcHRpb25zIGluc3RhbmNlb2YgQXJyYXk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcGxlUGF5Q3VzdG9tZXJTdHJhdGVneSBpbXBsZW1lbnRzIEN1c3RvbWVyU3RyYXRlZ3kge1xuICAgIHByaXZhdGUgX3BheW1lbnRNZXRob2Q/OiBQYXltZW50TWV0aG9kO1xuICAgIHByaXZhdGUgX2FwcGxlUGF5QnV0dG9uPzogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfb25BdXRob3JpemVDYWxsYmFjayA9IG5vb3A7XG4gICAgcHJpdmF0ZSBfb25FcnJvciA9IG5vb3A7XG4gICAgcHJpdmF0ZSBfb25DbGljayA9IG5vb3A7XG4gICAgcHJpdmF0ZSBfc3ViVG90YWxMYWJlbDogc3RyaW5nID0gRGVmYXVsdExhYmVscy5TdWJ0b3RhbDtcbiAgICBwcml2YXRlIF9zaGlwcGluZ0xhYmVsOiBzdHJpbmcgPSBEZWZhdWx0TGFiZWxzLlNoaXBwaW5nO1xuICAgIHByaXZhdGUgX2hhc0FwcGxlUGF5U2Vzc2lvbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgX3JlcXVlc3RTZW5kZXI6IFJlcXVlc3RTZW5kZXIsXG4gICAgICAgIHByaXZhdGUgX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2U6IFBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgX3Nlc3Npb25GYWN0b3J5OiBBcHBsZVBheVNlc3Npb25GYWN0b3J5LFxuICAgICAgICBwcml2YXRlIF9icmFpbnRyZWVTZGs6IEJyYWludHJlZVNkayxcbiAgICAgICAgcHJpdmF0ZSBfYXBwbGVQYXlTY3JpcHRMb2FkZXI6IEFwcGxlUGF5U2NyaXB0TG9hZGVyLFxuICAgICkge31cblxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIG9wdGlvbnM6IEN1c3RvbWVySW5pdGlhbGl6ZU9wdGlvbnMgJiBXaXRoQXBwbGVQYXlDdXN0b21lckluaXRpYWxpemVPcHRpb25zLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IG1ldGhvZElkLCBhcHBsZXBheSB9ID0gb3B0aW9ucztcblxuICAgICAgICBpZiAoIW1ldGhvZElkIHx8ICFhcHBsZXBheSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgc2hpcHBpbmdMYWJlbCxcbiAgICAgICAgICAgIHN1YnRvdGFsTGFiZWwsXG4gICAgICAgICAgICBvbkVycm9yID0gbm9vcCxcbiAgICAgICAgICAgIG9uQ2xpY2sgPSBub29wLFxuICAgICAgICAgICAgb25QYXltZW50QXV0aG9yaXplLFxuICAgICAgICB9ID0gYXBwbGVwYXk7XG5cbiAgICAgICAgdGhpcy5fc2hpcHBpbmdMYWJlbCA9IHNoaXBwaW5nTGFiZWwgfHwgRGVmYXVsdExhYmVscy5TaGlwcGluZztcbiAgICAgICAgdGhpcy5fc3ViVG90YWxMYWJlbCA9IHN1YnRvdGFsTGFiZWwgfHwgRGVmYXVsdExhYmVscy5TdWJ0b3RhbDtcbiAgICAgICAgdGhpcy5fb25BdXRob3JpemVDYWxsYmFjayA9IG9uUGF5bWVudEF1dGhvcml6ZTtcbiAgICAgICAgdGhpcy5fb25FcnJvciA9IG9uRXJyb3I7XG4gICAgICAgIHRoaXMuX29uQ2xpY2sgPSBvbkNsaWNrO1xuXG4gICAgICAgIGxldCBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcblxuICAgICAgICBhd2FpdCB0aGlzLl9hcHBsZVBheVNjcmlwdExvYWRlci5sb2FkU2RrKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX3BheW1lbnRNZXRob2QgPSBzdGF0ZS5nZXRQYXltZW50TWV0aG9kT3JUaHJvdyhtZXRob2RJZCk7XG4gICAgICAgIH0gY2F0Y2ggKF9lKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QobWV0aG9kSWQpO1xuICAgICAgICAgICAgdGhpcy5fcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UudmVyaWZ5Q2hlY2tvdXRTcGFtUHJvdGVjdGlvbigpO1xuXG4gICAgICAgIHRoaXMuX2FwcGxlUGF5QnV0dG9uID0gdGhpcy5fY3JlYXRlQnV0dG9uKGNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX2FwcGxlUGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2suYmluZCh0aGlzKSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3BheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhPy5nYXRld2F5ID09PSBBcHBsZVBheUdhdGV3YXlUeXBlLkJSQUlOVFJFRSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5faW5pdGlhbGl6ZUJyYWludHJlZVNkaygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgc2lnbkluKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcihcbiAgICAgICAgICAgICdJbiBvcmRlciB0byBzaWduIGluIHZpYSBBcHBsZSwgdGhlIHNob3BwZXIgbXVzdCBjbGljayBvbiBcIkFwcGxlIFBheVwiIGJ1dHRvbi4nLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHNpZ25PdXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKCdOZWVkIHRvIGRvIHNpZ25vdXQgdmlhIGFwcGxlLicpO1xuICAgIH1cblxuICAgIGV4ZWN1dGVQYXltZW50TWV0aG9kQ2hlY2tvdXQob3B0aW9ucz86IEV4ZWN1dGVQYXltZW50TWV0aG9kQ2hlY2tvdXRPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIG9wdGlvbnM/LmNvbnRpbnVlV2l0aENoZWNrb3V0Q2FsbGJhY2s/LigpO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jcmVhdGVCdXR0b24oY29udGFpbmVySWQ6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySWQpO1xuXG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBjcmVhdGUgc2lnbi1pbiBidXR0b24gd2l0aG91dCB2YWxpZCBjb250YWluZXIgSUQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhcHBsZVBheUJ1dHRvbiA9IHRoaXMuX2NyZWF0ZUFwcGxlUGF5QnV0dG9uRWxlbWVudCgpO1xuXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChhcHBsZVBheUJ1dHRvbik7XG5cbiAgICAgICAgcmV0dXJuIGFwcGxlUGF5QnV0dG9uO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NyZWF0ZUFwcGxlUGF5QnV0dG9uRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGFwcGxlUGF5QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXBwbGUtcGF5LWJ1dHRvbicpO1xuXG4gICAgICAgIGFwcGxlUGF5QnV0dG9uLnNldEF0dHJpYnV0ZSgnYnV0dG9uc3R5bGUnLCAnYmxhY2snKTtcbiAgICAgICAgYXBwbGVQYXlCdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ3BsYWluJyk7XG4gICAgICAgIGFwcGxlUGF5QnV0dG9uLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICdzdHlsZScsXG4gICAgICAgICAgICAnLS1hcHBsZS1wYXktYnV0dG9uLXdpZHRoOiAxMDAlOyAtLWFwcGxlLXBheS1idXR0b24taGVpZ2h0OiAzNnB4OyAtLWFwcGxlLXBheS1idXR0b24tYm9yZGVyLXJhZGl1czogNHB4OycsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIGFwcGxlUGF5QnV0dG9uO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2hhbmRsZVdhbGxldEJ1dHRvbkNsaWNrKGV2ZW50OiBFdmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmICh0aGlzLl9oYXNBcHBsZVBheVNlc3Npb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX29uQ2xpY2soKTtcblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgY2FydCA9IHN0YXRlLmdldENhcnRPclRocm93KCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHN0YXRlLmdldFN0b3JlQ29uZmlnT3JUaHJvdygpO1xuICAgICAgICBjb25zdCBjaGVja291dCA9IHN0YXRlLmdldENoZWNrb3V0T3JUaHJvdygpO1xuXG4gICAgICAgIGlmICghdGhpcy5fcGF5bWVudE1ldGhvZCB8fCAhdGhpcy5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLl9nZXRCYXNlUmVxdWVzdChjYXJ0LCBjaGVja291dCwgY29uZmlnLCB0aGlzLl9wYXltZW50TWV0aG9kKTtcbiAgICAgICAgY29uc3QgYXBwbGVQYXlTZXNzaW9uID0gdGhpcy5fc2Vzc2lvbkZhY3RvcnkuY3JlYXRlKHJlcXVlc3QpO1xuXG4gICAgICAgIHRoaXMuX2hhbmRsZUFwcGxlUGF5RXZlbnRzKGFwcGxlUGF5U2Vzc2lvbiwgdGhpcy5fcGF5bWVudE1ldGhvZCwgY29uZmlnKTtcblxuICAgICAgICBhcHBsZVBheVNlc3Npb24uYmVnaW4oKTtcbiAgICAgICAgdGhpcy5faGFzQXBwbGVQYXlTZXNzaW9uID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRCYXNlUmVxdWVzdChcbiAgICAgICAgY2FydDogQ2FydCxcbiAgICAgICAgY2hlY2tvdXQ6IENoZWNrb3V0LFxuICAgICAgICBjb25maWc6IFN0b3JlQ29uZmlnLFxuICAgICAgICBwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kLFxuICAgICk6IEFwcGxlUGF5SlMuQXBwbGVQYXlQYXltZW50UmVxdWVzdCB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHN0b3JlUHJvZmlsZTogeyBzdG9yZUNvdW50cnlDb2RlLCBzdG9yZU5hbWUgfSxcbiAgICAgICAgfSA9IGNvbmZpZztcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY3VycmVuY3k6IHsgY29kZSwgZGVjaW1hbFBsYWNlcyB9LFxuICAgICAgICB9ID0gY2FydDtcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBpbml0aWFsaXphdGlvbkRhdGE6IHsgbWVyY2hhbnRDYXBhYmlsaXRpZXMsIHN1cHBvcnRlZE5ldHdvcmtzIH0sXG4gICAgICAgIH0gPSBwYXltZW50TWV0aG9kO1xuXG4gICAgICAgIGNvbnN0IHJlcXVpcmVzU2hpcHBpbmcgPSBjYXJ0LmxpbmVJdGVtcy5waHlzaWNhbEl0ZW1zLmxlbmd0aCA+IDA7XG4gICAgICAgIGNvbnN0IHRvdGFsOiBBcHBsZVBheUpTLkFwcGxlUGF5TGluZUl0ZW0gPSByZXF1aXJlc1NoaXBwaW5nXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiBzdG9yZU5hbWUsXG4gICAgICAgICAgICAgICAgICBhbW91bnQ6IGAke2NoZWNrb3V0LmdyYW5kVG90YWwudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgICAgICAgdHlwZTogJ3BlbmRpbmcnLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiBzdG9yZU5hbWUsXG4gICAgICAgICAgICAgICAgICBhbW91bnQ6IGAke2NoZWNrb3V0LmdyYW5kVG90YWwudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpbmFsJyxcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0OiBBcHBsZVBheUpTLkFwcGxlUGF5UGF5bWVudFJlcXVlc3QgPSB7XG4gICAgICAgICAgICByZXF1aXJlZEJpbGxpbmdDb250YWN0RmllbGRzOiBbJ3Bvc3RhbEFkZHJlc3MnXSxcbiAgICAgICAgICAgIHJlcXVpcmVkU2hpcHBpbmdDb250YWN0RmllbGRzOiBbJ2VtYWlsJywgJ3Bob25lJ10sXG4gICAgICAgICAgICBjb3VudHJ5Q29kZTogc3RvcmVDb3VudHJ5Q29kZSxcbiAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY29kZSxcbiAgICAgICAgICAgIG1lcmNoYW50Q2FwYWJpbGl0aWVzLFxuICAgICAgICAgICAgc3VwcG9ydGVkTmV0d29ya3MsXG4gICAgICAgICAgICBsaW5lSXRlbXM6IFtdLFxuICAgICAgICAgICAgdG90YWwsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHJlcXVpcmVzU2hpcHBpbmcpIHtcbiAgICAgICAgICAgIHJlcXVlc3QucmVxdWlyZWRTaGlwcGluZ0NvbnRhY3RGaWVsZHM/LnB1c2goJ3Bvc3RhbEFkZHJlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVJdGVtczogQXBwbGVQYXlKUy5BcHBsZVBheUxpbmVJdGVtW10gPSBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy5fc3ViVG90YWxMYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBgJHtjaGVja291dC5zdWJ0b3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIGNoZWNrb3V0LnRheGVzLmZvckVhY2goKHRheCkgPT5cbiAgICAgICAgICAgICAgICBsaW5lSXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0YXgubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBgJHt0YXguYW1vdW50LnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJlcXVlc3QubGluZUl0ZW1zID0gbGluZUl0ZW1zO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfaGFuZGxlQXBwbGVQYXlFdmVudHMoXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbjogQXBwbGVQYXlTZXNzaW9uLFxuICAgICAgICBwYXltZW50TWV0aG9kOiBQYXltZW50TWV0aG9kLFxuICAgICAgICBjb25maWc6IFN0b3JlQ29uZmlnLFxuICAgICkge1xuICAgICAgICBhcHBsZVBheVNlc3Npb24ub252YWxpZGF0ZW1lcmNoYW50ID0gYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgYm9keTogbWVyY2hhbnRTZXNzaW9uIH0gPSBhd2FpdCB0aGlzLl9vblZhbGlkYXRlTWVyY2hhbnQoXG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBhcHBsZVBheVNlc3Npb24uY29tcGxldGVNZXJjaGFudFZhbGlkYXRpb24obWVyY2hhbnRTZXNzaW9uKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBhcHBsZVBheVNlc3Npb24ub25zaGlwcGluZ2NvbnRhY3RzZWxlY3RlZCA9IGFzeW5jIChldmVudCkgPT5cbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVNoaXBwaW5nQ29udGFjdFNlbGVjdGVkKGFwcGxlUGF5U2Vzc2lvbiwgY29uZmlnLCBldmVudCk7XG5cbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uLm9uc2hpcHBpbmdtZXRob2RzZWxlY3RlZCA9IGFzeW5jIChldmVudCkgPT5cbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVNoaXBwaW5nTWV0aG9kU2VsZWN0ZWQoYXBwbGVQYXlTZXNzaW9uLCBjb25maWcsIGV2ZW50KTtcblxuICAgICAgICBhcHBsZVBheVNlc3Npb24ub25jYW5jZWwgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9oYXNBcHBsZVBheVNlc3Npb24gPSBmYWxzZTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBgL3JlbW90ZS1jaGVja291dC8ke3BheW1lbnRNZXRob2QuaWR9L3NpZ25vdXRgO1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fcmVxdWVzdFNlbmRlci5nZXQodXJsKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRDaGVja291dCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fb25FcnJvcihuZXcgUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5vbnBheW1lbnRhdXRob3JpemVkID0gYXN5bmMgKGV2ZW50KSA9PlxuICAgICAgICAgICAgdGhpcy5fb25QYXltZW50QXV0aG9yaXplZChldmVudCwgYXBwbGVQYXlTZXNzaW9uLCBwYXltZW50TWV0aG9kKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9oYW5kbGVTaGlwcGluZ0NvbnRhY3RTZWxlY3RlZChcbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uOiBBcHBsZVBheVNlc3Npb24sXG4gICAgICAgIGNvbmZpZzogU3RvcmVDb25maWcsXG4gICAgICAgIGV2ZW50OiBBcHBsZVBheUpTLkFwcGxlUGF5U2hpcHBpbmdDb250YWN0U2VsZWN0ZWRFdmVudCxcbiAgICApIHtcbiAgICAgICAgY29uc3Qgc2hpcHBpbmdBZGRyZXNzID0gdGhpcy5fdHJhbnNmb3JtQ29udGFjdFRvQWRkcmVzcyhldmVudC5zaGlwcGluZ0NvbnRhY3QpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnVwZGF0ZVNoaXBwaW5nQWRkcmVzcyhzaGlwcGluZ0FkZHJlc3MpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmFib3J0KCk7XG4gICAgICAgICAgICB0aGlzLl9oYXNBcHBsZVBheVNlc3Npb24gPSBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29uRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgc3RvcmVQcm9maWxlOiB7IHN0b3JlTmFtZSB9LFxuICAgICAgICB9ID0gY29uZmlnO1xuICAgICAgICBsZXQgc3RhdGUgPSB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGN1cnJlbmN5OiB7IGRlY2ltYWxQbGFjZXMgfSxcbiAgICAgICAgfSA9IHN0YXRlLmdldENhcnRPclRocm93KCk7XG4gICAgICAgIGxldCBjaGVja291dCA9IHN0YXRlLmdldENoZWNrb3V0T3JUaHJvdygpO1xuICAgICAgICBjb25zdCBzZWxlY3Rpb25TaGlwcGluZ09wdGlvbklkID0gY2hlY2tvdXQuY29uc2lnbm1lbnRzWzBdLnNlbGVjdGVkU2hpcHBpbmdPcHRpb24/LmlkO1xuICAgICAgICBjb25zdCBhdmFpbGFibGVPcHRpb25zID0gY2hlY2tvdXQuY29uc2lnbm1lbnRzWzBdLmF2YWlsYWJsZVNoaXBwaW5nT3B0aW9ucztcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSBhdmFpbGFibGVPcHRpb25zPy5maW5kKCh7IGlkIH0pID0+IGlkID09PSBzZWxlY3Rpb25TaGlwcGluZ09wdGlvbklkKTtcbiAgICAgICAgY29uc3QgdW5zZWxlY3RlZE9wdGlvbnMgPSBhdmFpbGFibGVPcHRpb25zPy5maWx0ZXIoXG4gICAgICAgICAgICAob3B0aW9uKSA9PiBvcHRpb24uaWQgIT09IHNlbGVjdGlvblNoaXBwaW5nT3B0aW9uSWQsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHNoaXBwaW5nT3B0aW9uczogQXBwbGVQYXlKUy5BcHBsZVBheVNoaXBwaW5nTWV0aG9kW10gPSBzZWxlY3RlZE9wdGlvblxuICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHNlbGVjdGVkT3B0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogYCR7c2VsZWN0ZWRPcHRpb24uY29zdC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBzZWxlY3RlZE9wdGlvbi5hZGRpdGlvbmFsRGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgaWRlbnRpZmllcjogc2VsZWN0ZWRPcHRpb24uaWQsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICA6IFtdO1xuXG4gICAgICAgIGlmICh1bnNlbGVjdGVkT3B0aW9ucykge1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIC4uLnVuc2VsZWN0ZWRPcHRpb25zLmZpbHRlcigob3B0aW9uKSA9PiBvcHRpb24uaXNSZWNvbW1lbmRlZCksXG4gICAgICAgICAgICAgICAgLi4udW5zZWxlY3RlZE9wdGlvbnMuZmlsdGVyKChvcHRpb24pID0+ICFvcHRpb24uaXNSZWNvbW1lbmRlZCksXG4gICAgICAgICAgICBdLmZvckVhY2goKG9wdGlvbikgPT5cbiAgICAgICAgICAgICAgICBzaGlwcGluZ09wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBvcHRpb24uZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogYCR7b3B0aW9uLmNvc3QudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IG9wdGlvbi5hZGRpdGlvbmFsRGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6IG9wdGlvbi5pZCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzU2hpcHBpbmdPcHRpb25zKGF2YWlsYWJsZU9wdGlvbnMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NoaXBwaW5nIG9wdGlvbnMgbm90IGF2YWlsYWJsZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhdmFpbGFibGVPcHRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmNvbXBsZXRlU2hpcHBpbmdDb250YWN0U2VsZWN0aW9uKFxuICAgICAgICAgICAgICAgIEFwcGxlUGF5U2Vzc2lvbi5TVEFUVVNfSU5WQUxJRF9TSElQUElOR19QT1NUQUxfQUREUkVTUyxcbiAgICAgICAgICAgICAgICBbXSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwZW5kaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHN0b3JlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBgJHtjaGVja291dC5ncmFuZFRvdGFsLnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVjb21tZW5kZWRPcHRpb24gPSBhdmFpbGFibGVPcHRpb25zLmZpbmQoKG9wdGlvbikgPT4gb3B0aW9uLmlzUmVjb21tZW5kZWQpO1xuXG4gICAgICAgIGNvbnN0IG9wdGlvbklkID0gcmVjb21tZW5kZWRPcHRpb24gPyByZWNvbW1lbmRlZE9wdGlvbi5pZCA6IGF2YWlsYWJsZU9wdGlvbnNbMF0uaWQ7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uSWQgPSBzZWxlY3RlZE9wdGlvbiA/IHNlbGVjdGVkT3B0aW9uLmlkIDogb3B0aW9uSWQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3VwZGF0ZVNoaXBwaW5nT3B0aW9uKHNlbGVjdGVkT3B0aW9uSWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29uRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNoZWNrb3V0ID0gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCk7XG5cbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmNvbXBsZXRlU2hpcHBpbmdDb250YWN0U2VsZWN0aW9uKHtcbiAgICAgICAgICAgIG5ld1NoaXBwaW5nTWV0aG9kczogc2hpcHBpbmdPcHRpb25zLFxuICAgICAgICAgICAgbmV3VG90YWw6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmluYWwnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBzdG9yZU5hbWUsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBgJHtjaGVja291dC5ncmFuZFRvdGFsLnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuZXdMaW5lSXRlbXM6IHRoaXMuX2dldFVwZGF0ZWRMaW5lSXRlbXMoY2hlY2tvdXQsIGRlY2ltYWxQbGFjZXMpLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9oYW5kbGVTaGlwcGluZ01ldGhvZFNlbGVjdGVkKFxuICAgICAgICBhcHBsZVBheVNlc3Npb246IEFwcGxlUGF5U2Vzc2lvbixcbiAgICAgICAgY29uZmlnOiBTdG9yZUNvbmZpZyxcbiAgICAgICAgZXZlbnQ6IEFwcGxlUGF5SlMuQXBwbGVQYXlTaGlwcGluZ01ldGhvZFNlbGVjdGVkRXZlbnQsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHN0b3JlUHJvZmlsZTogeyBzdG9yZU5hbWUgfSxcbiAgICAgICAgfSA9IGNvbmZpZztcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgc2hpcHBpbmdNZXRob2Q6IHsgaWRlbnRpZmllcjogb3B0aW9uSWQgfSxcbiAgICAgICAgfSA9IGV2ZW50O1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVTaGlwcGluZ09wdGlvbihvcHRpb25JZCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBhcHBsZVBheVNlc3Npb24uYWJvcnQoKTtcbiAgICAgICAgICAgIHRoaXMuX2hhc0FwcGxlUGF5U2Vzc2lvbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb25FcnJvcihlcnJvcik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY3VycmVuY3k6IHsgZGVjaW1hbFBsYWNlcyB9LFxuICAgICAgICB9ID0gc3RhdGUuZ2V0Q2FydE9yVGhyb3coKTtcbiAgICAgICAgY29uc3QgY2hlY2tvdXQgPSBzdGF0ZS5nZXRDaGVja291dE9yVGhyb3coKTtcblxuICAgICAgICBhcHBsZVBheVNlc3Npb24uY29tcGxldGVTaGlwcGluZ01ldGhvZFNlbGVjdGlvbih7XG4gICAgICAgICAgICBuZXdUb3RhbDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdmaW5hbCcsXG4gICAgICAgICAgICAgICAgbGFiZWw6IHN0b3JlTmFtZSxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IGAke2NoZWNrb3V0LmdyYW5kVG90YWwudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5ld0xpbmVJdGVtczogdGhpcy5fZ2V0VXBkYXRlZExpbmVJdGVtcyhjaGVja291dCwgZGVjaW1hbFBsYWNlcyksXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldFVwZGF0ZWRMaW5lSXRlbXMoXG4gICAgICAgIGNoZWNrb3V0OiBDaGVja291dCxcbiAgICAgICAgZGVjaW1hbFBsYWNlczogbnVtYmVyLFxuICAgICk6IEFwcGxlUGF5SlMuQXBwbGVQYXlMaW5lSXRlbVtdIHtcbiAgICAgICAgY29uc3QgbGluZUl0ZW1zOiBBcHBsZVBheUpTLkFwcGxlUGF5TGluZUl0ZW1bXSA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy5fc3ViVG90YWxMYWJlbCxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IGAke2NoZWNrb3V0LnN1YnRvdGFsLnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG5cbiAgICAgICAgY2hlY2tvdXQudGF4ZXMuZm9yRWFjaCgodGF4KSA9PlxuICAgICAgICAgICAgbGluZUl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgIGxhYmVsOiB0YXgubmFtZSxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IGAke3RheC5hbW91bnQudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICk7XG4gICAgICAgIGxpbmVJdGVtcy5wdXNoKHtcbiAgICAgICAgICAgIGxhYmVsOiB0aGlzLl9zaGlwcGluZ0xhYmVsLFxuICAgICAgICAgICAgYW1vdW50OiBgJHtjaGVja291dC5zaGlwcGluZ0Nvc3RUb3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBsaW5lSXRlbXM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfdXBkYXRlU2hpcHBpbmdPcHRpb24ob3B0aW9uSWQ6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5zZWxlY3RTaGlwcGluZ09wdGlvbihvcHRpb25JZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfb25WYWxpZGF0ZU1lcmNoYW50KFxuICAgICAgICBwYXltZW50RGF0YTogUGF5bWVudE1ldGhvZCxcbiAgICAgICAgZXZlbnQ6IEFwcGxlUGF5SlMuQXBwbGVQYXlWYWxpZGF0ZU1lcmNoYW50RXZlbnQsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSBbXG4gICAgICAgICAgICBgdmFsaWRhdGlvblVybD0ke2V2ZW50LnZhbGlkYXRpb25VUkx9YCxcbiAgICAgICAgICAgIGBtZXJjaGFudElkZW50aWZpZXI9JHtwYXltZW50RGF0YS5pbml0aWFsaXphdGlvbkRhdGEubWVyY2hhbnRJZH1gLFxuICAgICAgICAgICAgYGRpc3BsYXlOYW1lPSR7cGF5bWVudERhdGEuaW5pdGlhbGl6YXRpb25EYXRhLnN0b3JlTmFtZX1gLFxuICAgICAgICAgICAgYGRvbWFpbk5hbWU9JHt3aW5kb3cubG9jYXRpb24uaG9zdG5hbWV9YCxcbiAgICAgICAgXS5qb2luKCcmJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3RTZW5kZXIucG9zdChcbiAgICAgICAgICAgIHZhbGlkYXRpb25FbmRwb2ludChwYXltZW50RGF0YS5pbml0aWFsaXphdGlvbkRhdGEucGF5bWVudHNVcmwpLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gICAgICAgICAgICAgICAgICAgICdYLVhTUkYtVE9LRU4nOiBudWxsLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfb25QYXltZW50QXV0aG9yaXplZChcbiAgICAgICAgZXZlbnQ6IEFwcGxlUGF5SlMuQXBwbGVQYXlQYXltZW50QXV0aG9yaXplZEV2ZW50LFxuICAgICAgICBhcHBsZVBheVNlc3Npb246IEFwcGxlUGF5U2Vzc2lvbixcbiAgICAgICAgcGF5bWVudE1ldGhvZDogUGF5bWVudE1ldGhvZCxcbiAgICApIHtcbiAgICAgICAgY29uc3QgeyB0b2tlbiwgYmlsbGluZ0NvbnRhY3QsIHNoaXBwaW5nQ29udGFjdCB9ID0gZXZlbnQucGF5bWVudDtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGNhcnQgPSBzdGF0ZS5nZXRDYXJ0T3JUaHJvdygpO1xuICAgICAgICBjb25zdCByZXF1aXJlc1NoaXBwaW5nID0gY2FydC5saW5lSXRlbXMucGh5c2ljYWxJdGVtcy5sZW5ndGggPiAwO1xuXG4gICAgICAgIGxldCBkZXZpY2VTZXNzaW9uSWQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAocGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGE/LmdhdGV3YXkgPT09IEFwcGxlUGF5R2F0ZXdheVR5cGUuQlJBSU5UUkVFKSB7XG4gICAgICAgICAgICBkZXZpY2VTZXNzaW9uSWQgPSBhd2FpdCB0aGlzLl9nZXRCcmFpbnRyZWVEZXZpY2VEYXRhKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXltZW50OiBQYXltZW50ID0ge1xuICAgICAgICAgICAgbWV0aG9kSWQ6IHBheW1lbnRNZXRob2QuaWQsXG4gICAgICAgICAgICBwYXltZW50RGF0YToge1xuICAgICAgICAgICAgICAgIGRldmljZVNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRQYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGxlX3BheV90b2tlbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudF9kYXRhOiB0b2tlbi5wYXltZW50RGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRfbWV0aG9kOiB0b2tlbi5wYXltZW50TWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25faWQ6IHRva2VuLnRyYW5zYWN0aW9uSWRlbnRpZmllcixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZEJpbGxpbmdBZGRyZXNzID0gdGhpcy5fdHJhbnNmb3JtQ29udGFjdFRvQWRkcmVzcyhiaWxsaW5nQ29udGFjdCk7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkU2hpcHBpbmdBZGRyZXNzID0gdGhpcy5fdHJhbnNmb3JtQ29udGFjdFRvQWRkcmVzcyhzaGlwcGluZ0NvbnRhY3QpO1xuICAgICAgICBjb25zdCBlbWFpbEFkZHJlc3MgPSBzaGlwcGluZ0NvbnRhY3Q/LmVtYWlsQWRkcmVzcztcbiAgICAgICAgY29uc3QgcGhvbmUgPSBzaGlwcGluZ0NvbnRhY3Q/LnBob25lTnVtYmVyIHx8ICcnO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnVwZGF0ZUJpbGxpbmdBZGRyZXNzKHtcbiAgICAgICAgICAgICAgICAuLi50cmFuc2Zvcm1lZEJpbGxpbmdBZGRyZXNzLFxuICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbEFkZHJlc3MsXG4gICAgICAgICAgICAgICAgcGhvbmUsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHJlcXVpcmVzU2hpcHBpbmcpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnVwZGF0ZVNoaXBwaW5nQWRkcmVzcyhcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtZWRTaGlwcGluZ0FkZHJlc3MsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5zdWJtaXRPcmRlcih7XG4gICAgICAgICAgICAgICAgdXNlU3RvcmVDcmVkaXQ6IGZhbHNlLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChwYXltZW50KTtcbiAgICAgICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5jb21wbGV0ZVBheW1lbnQoQXBwbGVQYXlTZXNzaW9uLlNUQVRVU19TVUNDRVNTKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29uQXV0aG9yaXplQ2FsbGJhY2soKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5jb21wbGV0ZVBheW1lbnQoQXBwbGVQYXlTZXNzaW9uLlNUQVRVU19GQUlMVVJFKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29uRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfdHJhbnNmb3JtQ29udGFjdFRvQWRkcmVzcyhcbiAgICAgICAgY29udGFjdD86IEFwcGxlUGF5SlMuQXBwbGVQYXlQYXltZW50Q29udGFjdCxcbiAgICApOiBBZGRyZXNzUmVxdWVzdEJvZHkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmlyc3ROYW1lOiBjb250YWN0Py5naXZlbk5hbWUgfHwgJycsXG4gICAgICAgICAgICBsYXN0TmFtZTogY29udGFjdD8uZmFtaWx5TmFtZSB8fCAnJyxcbiAgICAgICAgICAgIGNpdHk6IGNvbnRhY3Q/LmxvY2FsaXR5IHx8ICcnLFxuICAgICAgICAgICAgY29tcGFueTogJycsXG4gICAgICAgICAgICBhZGRyZXNzMTogKGNvbnRhY3Q/LmFkZHJlc3NMaW5lcyAmJiBjb250YWN0LmFkZHJlc3NMaW5lc1swXSkgfHwgJycsXG4gICAgICAgICAgICBhZGRyZXNzMjogKGNvbnRhY3Q/LmFkZHJlc3NMaW5lcyAmJiBjb250YWN0LmFkZHJlc3NMaW5lc1sxXSkgfHwgJycsXG4gICAgICAgICAgICBwb3N0YWxDb2RlOiBjb250YWN0Py5wb3N0YWxDb2RlIHx8ICcnLFxuICAgICAgICAgICAgY291bnRyeUNvZGU6IGNvbnRhY3Q/LmNvdW50cnlDb2RlIHx8ICcnLFxuICAgICAgICAgICAgcGhvbmU6IGNvbnRhY3Q/LnBob25lTnVtYmVyIHx8ICcnLFxuICAgICAgICAgICAgc3RhdGVPclByb3ZpbmNlOiBjb250YWN0Py5hZG1pbmlzdHJhdGl2ZUFyZWEgfHwgJycsXG4gICAgICAgICAgICBzdGF0ZU9yUHJvdmluY2VDb2RlOiBjb250YWN0Py5hZG1pbmlzdHJhdGl2ZUFyZWEgfHwgJycsXG4gICAgICAgICAgICBjdXN0b21GaWVsZHM6IFtdLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2dldEJyYWludHJlZURldmljZURhdGEoKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGV2aWNlRGF0YSB9ID0gYXdhaXQgdGhpcy5fYnJhaW50cmVlU2RrLmdldERhdGFDb2xsZWN0b3JPclRocm93KCk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZXZpY2VEYXRhO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgICAvLyBEb24ndCB0aHJvdyBhbiBlcnJvciB0byBhdm9pZCBicmVha2luZyBjaGVja291dCBmbG93XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9pbml0aWFsaXplQnJhaW50cmVlU2RrKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyBUT0RPOiBUaGlzIGlzIGEgdGVtcG9yYXJ5IHNvbHV0aW9uIHdoZW4gd2UgbG9hZCBicmFpbnRyZWUgdG8gZ2V0IGNsaWVudCB0b2tlbiAoc2hvdWxkIGJlIGZpeGVkIGFmdGVyIFBBWVBBTC00MTIyKVxuICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmxvYWRQYXltZW50TWV0aG9kKEFwcGxlUGF5R2F0ZXdheVR5cGUuQlJBSU5UUkVFKTtcblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgYnJhaW50cmVlUGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2QoQXBwbGVQYXlHYXRld2F5VHlwZS5CUkFJTlRSRUUpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFicmFpbnRyZWVQYXltZW50TWV0aG9kIHx8XG4gICAgICAgICAgICAhYnJhaW50cmVlUGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbiB8fFxuICAgICAgICAgICAgIWJyYWludHJlZVBheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYnJhaW50cmVlU2RrLmluaXRpYWxpemUoYnJhaW50cmVlUGF5bWVudE1ldGhvZC5jbGllbnRUb2tlbik7XG4gICAgfVxufVxuIiwiaW50ZXJmYWNlIEFwcGxlUGF5V2luZG93IGV4dGVuZHMgV2luZG93IHtcbiAgICBBcHBsZVBheVNlc3Npb246IEFwcGxlUGF5U2Vzc2lvbjtcbn1cblxuZnVuY3Rpb24gaXNBcHBsZVBheVdpbmRvdyh3aW5kb3c6IFdpbmRvdyk6IHdpbmRvdyBpcyBBcHBsZVBheVdpbmRvdyB7XG4gICAgcmV0dXJuICdBcHBsZVBheVNlc3Npb24nIGluIHdpbmRvdztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEFwcGxlUGF5V2luZG93KHdpbmRvdzogV2luZG93KTogYXNzZXJ0cyB3aW5kb3cgaXMgQXBwbGVQYXlXaW5kb3cge1xuICAgIGlmICghaXNBcHBsZVBheVdpbmRvdyh3aW5kb3cpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQXBwbGUgcGF5IGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcGxlUGF5U2Vzc2lvbkZhY3Rvcnkge1xuICAgIGNyZWF0ZShyZXF1ZXN0OiBBcHBsZVBheUpTLkFwcGxlUGF5UGF5bWVudFJlcXVlc3QpOiBBcHBsZVBheVNlc3Npb24ge1xuICAgICAgICBhc3NlcnRBcHBsZVBheVdpbmRvdyh3aW5kb3cpO1xuXG4gICAgICAgIHJldHVybiBuZXcgQXBwbGVQYXlTZXNzaW9uKDEsIHJlcXVlc3QpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNjcmlwdExvYWRlciB9IGZyb20gJ0BiaWdjb21tZXJjZS9zY3JpcHQtbG9hZGVyJztcblxuaW1wb3J0IHsgYXNzZXJ0QXBwbGVQYXlXaW5kb3cgfSBmcm9tICcuL2FwcGxlLXBheS1zZXNzaW9uLWZhY3RvcnknO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHBsZVBheVNjcmlwdExvYWRlciB7XG4gICAgcHJpdmF0ZSBzZGtWZXJzaW9uID0gJzEubGF0ZXN0JztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgc2NyaXB0TG9hZGVyOiBTY3JpcHRMb2FkZXIpIHt9XG5cbiAgICBhc3luYyBsb2FkU2RrKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnNjcmlwdExvYWRlci5sb2FkU2NyaXB0KFxuICAgICAgICAgICAgYGh0dHBzOi8vYXBwbGVwYXkuY2RuLWFwcGxlLmNvbS9qc2FwaS8ke3RoaXMuc2RrVmVyc2lvbn0vYXBwbGUtcGF5LXNkay5qc2AsXG4gICAgICAgICk7XG5cbiAgICAgICAgYXNzZXJ0QXBwbGVQYXlXaW5kb3cod2luZG93KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVSZXF1ZXN0U2VuZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyJztcbmltcG9ydCB7IGdldFNjcmlwdExvYWRlciwgU2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZVNjcmlwdExvYWRlcixcbiAgICBCcmFpbnRyZWVTZGssXG4gICAgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQ3VzdG9tZXJTdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IEFwcGxlUGF5Q3VzdG9tZXJTdHJhdGVneSBmcm9tICcuL2FwcGxlLXBheS1jdXN0b21lci1zdHJhdGVneSc7XG5pbXBvcnQgQXBwbGVQYXlTY3JpcHRMb2FkZXIgZnJvbSAnLi9hcHBsZS1wYXktc2NyaXB0LWxvYWRlcic7XG5pbXBvcnQgQXBwbGVQYXlTZXNzaW9uRmFjdG9yeSBmcm9tICcuL2FwcGxlLXBheS1zZXNzaW9uLWZhY3RvcnknO1xuXG5jb25zdCBjcmVhdGVBcHBsZVBheUN1c3RvbWVyU3RyYXRlZ3k6IEN1c3RvbWVyU3RyYXRlZ3lGYWN0b3J5PEFwcGxlUGF5Q3VzdG9tZXJTdHJhdGVneT4gPSAoXG4gICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbikgPT4ge1xuICAgIGNvbnN0IHsgZ2V0SG9zdCB9ID0gcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuXG4gICAgY29uc3QgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIgPSBuZXcgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIocGF5bWVudEludGVncmF0aW9uU2VydmljZSk7XG5cbiAgICByZXR1cm4gbmV3IEFwcGxlUGF5Q3VzdG9tZXJTdHJhdGVneShcbiAgICAgICAgY3JlYXRlUmVxdWVzdFNlbmRlcih7IGhvc3Q6IGdldEhvc3QoKSB9KSxcbiAgICAgICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgbmV3IEFwcGxlUGF5U2Vzc2lvbkZhY3RvcnkoKSxcbiAgICAgICAgbmV3IEJyYWludHJlZVNkayhcbiAgICAgICAgICAgIG5ldyBCcmFpbnRyZWVTY3JpcHRMb2FkZXIoZ2V0U2NyaXB0TG9hZGVyKCksIHdpbmRvdywgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIpLFxuICAgICAgICApLFxuICAgICAgICBuZXcgQXBwbGVQYXlTY3JpcHRMb2FkZXIobmV3IFNjcmlwdExvYWRlcigpKSxcbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZUFwcGxlUGF5Q3VzdG9tZXJTdHJhdGVneSwgW3sgaWQ6ICdhcHBsZXBheScgfV0pO1xuIiwiaW1wb3J0IFN0YW5kYXJkRXJyb3IgZnJvbSAnLi9zdGFuZGFyZC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gYSBzaG9wcGVyIHRyaWVzIHRvIHNpZ24gaW4gYXMgYSBndWVzdCBidXRcbiAqIHRoZXkgYXJlIGFscmVhZHkgc2lnbmVkIGluIGFzIGEgcmVnaXN0ZXJlZCBjdXN0b21lci5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnV5Tm93Q2FydENyZWF0aW9uRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKFxuICAgICAgICAgICAgbWVzc2FnZSB8fFxuICAgICAgICAgICAgICAgICdBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZCBkdXJpbmcgYnV5IG5vdyBjYXJ0IGNyZWF0aW9uIHByb2Nlc3MuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnQnV5Tm93Q2FydENyZWF0aW9uRXJyb3InO1xuICAgICAgICB0aGlzLnR5cGUgPSAnYnV5X25vd19jYXJ0X2NyZWF0aW9uX2Vycm9yJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZXF1ZXN0U2VuZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQgeyBCcmFpbnRyZWVTZGsgfSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL2JyYWludHJlZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEFkZHJlc3NSZXF1ZXN0Qm9keSxcbiAgICBCdXlOb3dDYXJ0Q3JlYXRpb25FcnJvcixcbiAgICBDYXJ0LFxuICAgIENoZWNrb3V0LFxuICAgIENoZWNrb3V0QnV0dG9uSW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgQ2hlY2tvdXRCdXR0b25TdHJhdGVneSxcbiAgICBJbnZhbGlkQXJndW1lbnRFcnJvcixcbiAgICBNaXNzaW5nRGF0YUVycm9yLFxuICAgIE1pc3NpbmdEYXRhRXJyb3JUeXBlLFxuICAgIFBheW1lbnQsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICBQYXltZW50TWV0aG9kLFxuICAgIFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcixcbiAgICBTaGlwcGluZ09wdGlvbixcbiAgICBTdG9yZUNvbmZpZyxcbn0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9wYXltZW50LWludGVncmF0aW9uLWFwaSc7XG5cbmltcG9ydCB7IEFwcGxlUGF5R2F0ZXdheVR5cGUgfSBmcm9tICcuL2FwcGxlLXBheSc7XG5pbXBvcnQgQXBwbGVQYXlCdXR0b25Jbml0aWFsaXplT3B0aW9ucywge1xuICAgIFdpdGhBcHBsZVBheUJ1dHRvbkluaXRpYWxpemVPcHRpb25zLFxufSBmcm9tICcuL2FwcGxlLXBheS1idXR0b24taW5pdGlhbGl6ZS1vcHRpb25zJztcbmltcG9ydCBBcHBsZVBheVNjcmlwdExvYWRlciBmcm9tICcuL2FwcGxlLXBheS1zY3JpcHQtbG9hZGVyJztcbmltcG9ydCBBcHBsZVBheVNlc3Npb25GYWN0b3J5IGZyb20gJy4vYXBwbGUtcGF5LXNlc3Npb24tZmFjdG9yeSc7XG5cbmNvbnN0IHZhbGlkYXRpb25FbmRwb2ludCA9IChiaWdQYXlFbmRwb2ludDogc3RyaW5nKSA9PlxuICAgIGAke2JpZ1BheUVuZHBvaW50fS9hcGkvcHVibGljL3YxL3BheW1lbnRzL2FwcGxlcGF5L3ZhbGlkYXRlX21lcmNoYW50YDtcblxuZW51bSBEZWZhdWx0TGFiZWxzIHtcbiAgICBTdWJ0b3RhbCA9ICdTdWJ0b3RhbCcsXG4gICAgU2hpcHBpbmcgPSAnU2hpcHBpbmcnLFxufVxuXG5leHBvcnQgZW51bSBCdXR0b25TdHlsZU9wdGlvbiB7XG4gICAgQmxhY2sgPSAnYmxhY2snLFxuICAgIFdoaXRlID0gJ3doaXRlJyxcbiAgICBXaGl0ZUJvcmRlciA9ICd3aGl0ZS1ib3JkZXInLFxufVxuXG5mdW5jdGlvbiBpc1NoaXBwaW5nT3B0aW9ucyhvcHRpb25zOiBTaGlwcGluZ09wdGlvbltdIHwgdW5kZWZpbmVkKTogb3B0aW9ucyBpcyBTaGlwcGluZ09wdGlvbltdIHtcbiAgICByZXR1cm4gb3B0aW9ucyBpbnN0YW5jZW9mIEFycmF5O1xufVxuXG5jb25zdCBnZXRCdXR0b25TdHlsZSA9IChidXR0b25TdHlsZT86IEJ1dHRvblN0eWxlT3B0aW9uKTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKGJ1dHRvblN0eWxlKSB7XG4gICAgICAgIGNhc2UgQnV0dG9uU3R5bGVPcHRpb24uV2hpdGU6XG4gICAgICAgICAgICByZXR1cm4gJ3doaXRlJztcblxuICAgICAgICBjYXNlIEJ1dHRvblN0eWxlT3B0aW9uLldoaXRlQm9yZGVyOlxuICAgICAgICAgICAgcmV0dXJuICd3aGl0ZS1vdXRsaW5lJztcblxuICAgICAgICBjYXNlIEJ1dHRvblN0eWxlT3B0aW9uLkJsYWNrOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdibGFjayc7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBwbGVQYXlCdXR0b25TdHJhdGVneSBpbXBsZW1lbnRzIENoZWNrb3V0QnV0dG9uU3RyYXRlZ3kge1xuICAgIHByaXZhdGUgX3BheW1lbnRNZXRob2Q/OiBQYXltZW50TWV0aG9kO1xuICAgIHByaXZhdGUgX2FwcGxlUGF5QnV0dG9uPzogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfcmVxdWlyZXNTaGlwcGluZz86IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnM/OiBBcHBsZVBheUJ1dHRvbkluaXRpYWxpemVPcHRpb25zWydidXlOb3dJbml0aWFsaXplT3B0aW9ucyddO1xuICAgIHByaXZhdGUgX29uQXV0aG9yaXplQ2FsbGJhY2sgPSBub29wO1xuICAgIHByaXZhdGUgX3N1YlRvdGFsTGFiZWw6IHN0cmluZyA9IERlZmF1bHRMYWJlbHMuU3VidG90YWw7XG4gICAgcHJpdmF0ZSBfc2hpcHBpbmdMYWJlbDogc3RyaW5nID0gRGVmYXVsdExhYmVscy5TaGlwcGluZztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIF9yZXF1ZXN0U2VuZGVyOiBSZXF1ZXN0U2VuZGVyLFxuICAgICAgICBwcml2YXRlIF9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlOiBQYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIF9zZXNzaW9uRmFjdG9yeTogQXBwbGVQYXlTZXNzaW9uRmFjdG9yeSxcbiAgICAgICAgcHJpdmF0ZSBfYnJhaW50cmVlU2RrOiBCcmFpbnRyZWVTZGssXG4gICAgICAgIHByaXZhdGUgX2FwcGxlUGF5U2NyaXB0TG9hZGVyOiBBcHBsZVBheVNjcmlwdExvYWRlcixcbiAgICApIHt9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKFxuICAgICAgICBvcHRpb25zOiBDaGVja291dEJ1dHRvbkluaXRpYWxpemVPcHRpb25zICYgV2l0aEFwcGxlUGF5QnV0dG9uSW5pdGlhbGl6ZU9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgbWV0aG9kSWQsIGNvbnRhaW5lcklkLCBhcHBsZXBheSB9ID0gb3B0aW9ucztcblxuICAgICAgICBpZiAoIW1ldGhvZElkIHx8ICFhcHBsZXBheSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ1BheW1lbnRNZXRob2QpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5fYXBwbGVQYXlTY3JpcHRMb2FkZXIubG9hZFNkaygpO1xuXG4gICAgICAgIGNvbnN0IHsgb25QYXltZW50QXV0aG9yaXplLCBidXlOb3dJbml0aWFsaXplT3B0aW9ucywgcmVxdWlyZXNTaGlwcGluZyB9ID0gYXBwbGVwYXk7XG5cbiAgICAgICAgdGhpcy5fcmVxdWlyZXNTaGlwcGluZyA9IHJlcXVpcmVzU2hpcHBpbmc7XG5cbiAgICAgICAgdGhpcy5fYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMgPSBidXlOb3dJbml0aWFsaXplT3B0aW9ucztcblxuICAgICAgICB0aGlzLl9vbkF1dGhvcml6ZUNhbGxiYWNrID0gb25QYXltZW50QXV0aG9yaXplO1xuXG4gICAgICAgIGlmICghYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZERlZmF1bHRDaGVja291dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChtZXRob2RJZCk7XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG5cbiAgICAgICAgdGhpcy5fcGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcblxuICAgICAgICBjb25zdCBjYXJ0ID0gc3RhdGUuZ2V0Q2FydCgpO1xuXG4gICAgICAgIGlmIChjYXJ0KSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnZlcmlmeUNoZWNrb3V0U3BhbVByb3RlY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YT8uZ2F0ZXdheSA9PT0gQXBwbGVQYXlHYXRld2F5VHlwZS5CUkFJTlRSRUUpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2luaXRpYWxpemVCcmFpbnRyZWVTZGsoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FwcGxlUGF5QnV0dG9uID0gdGhpcy5fY3JlYXRlQnV0dG9uKFxuICAgICAgICAgICAgY29udGFpbmVySWQsXG4gICAgICAgICAgICB0aGlzLl9wYXltZW50TWV0aG9kLmluaXRpYWxpemF0aW9uRGF0YT8uc3R5bGVPcHRpb24sXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX2FwcGxlUGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2suYmluZCh0aGlzKSk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGRlaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NyZWF0ZUJ1dHRvbihjb250YWluZXJJZDogc3RyaW5nLCBzdHlsZU9wdGlvbj86IEJ1dHRvblN0eWxlT3B0aW9uKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJZCk7XG5cbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICAnVW5hYmxlIHRvIGNyZWF0ZSB3YWxsZXQgYnV0dG9uIHdpdGhvdXQgdmFsaWQgY29udGFpbmVyIElELicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXBwbGVQYXlCdXR0b24gPSB0aGlzLl9jcmVhdGVBcHBsZVBheUJ1dHRvbkVsZW1lbnQoc3R5bGVPcHRpb24pO1xuXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChhcHBsZVBheUJ1dHRvbik7XG5cbiAgICAgICAgcmV0dXJuIGFwcGxlUGF5QnV0dG9uO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NyZWF0ZUFwcGxlUGF5QnV0dG9uRWxlbWVudChzdHlsZU9wdGlvbj86IEJ1dHRvblN0eWxlT3B0aW9uKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBhcHBsZVBheUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2FwcGxlLXBheS1idXR0b24nKTtcblxuICAgICAgICBhcHBsZVBheUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2J1dHRvbnN0eWxlJywgZ2V0QnV0dG9uU3R5bGUoc3R5bGVPcHRpb24pKTtcbiAgICAgICAgYXBwbGVQYXlCdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ3BsYWluJyk7XG4gICAgICAgIGFwcGxlUGF5QnV0dG9uLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICdzdHlsZScsXG4gICAgICAgICAgICAnLS1hcHBsZS1wYXktYnV0dG9uLXdpZHRoOiAxMDAlOyAtLWFwcGxlLXBheS1idXR0b24taGVpZ2h0OiA0MHB4OyAtLWFwcGxlLXBheS1idXR0b24tYm9yZGVyLXJhZGl1czogNHB4OycsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIGFwcGxlUGF5QnV0dG9uO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2hhbmRsZVdhbGxldEJ1dHRvbkNsaWNrKGV2ZW50OiBFdmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmICghdGhpcy5fcGF5bWVudE1ldGhvZCB8fCAhdGhpcy5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMuX2J1eU5vd0luaXRpYWxpemVPcHRpb25zICYmXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5fYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMuZ2V0QnV5Tm93Q2FydFJlcXVlc3RCb2R5ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICkge1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIGNvdW50cnlDb2RlLFxuICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZSxcbiAgICAgICAgICAgICAgICBtZXJjaGFudENhcGFiaWxpdGllcyxcbiAgICAgICAgICAgICAgICBzdXBwb3J0ZWROZXR3b3JrcyxcbiAgICAgICAgICAgICAgICBzdG9yZU5hbWUsXG4gICAgICAgICAgICB9ID0gdGhpcy5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGE7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLl9nZXRSZXF1ZXN0V2l0aEVtcHR5VG90YWwoXG4gICAgICAgICAgICAgICAgY291bnRyeUNvZGUsXG4gICAgICAgICAgICAgICAgY3VycmVuY3lDb2RlLFxuICAgICAgICAgICAgICAgIHN1cHBvcnRlZE5ldHdvcmtzLFxuICAgICAgICAgICAgICAgIG1lcmNoYW50Q2FwYWJpbGl0aWVzLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX3JlcXVpcmVzU2hpcHBpbmcpIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0LnJlcXVpcmVkU2hpcHBpbmdDb250YWN0RmllbGRzPy5wdXNoKCdwb3N0YWxBZGRyZXNzJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGFwcGxlUGF5U2Vzc2lvbiA9IHRoaXMuX3Nlc3Npb25GYWN0b3J5LmNyZWF0ZShyZXF1ZXN0KTtcblxuICAgICAgICAgICAgdGhpcy5faGFuZGxlQXBwbGVQYXlFdmVudHMoYXBwbGVQYXlTZXNzaW9uLCB0aGlzLl9wYXltZW50TWV0aG9kLCBzdG9yZU5hbWUpO1xuXG4gICAgICAgICAgICBhcHBsZVBheVNlc3Npb24uYmVnaW4oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgY2FydCA9IHN0YXRlLmdldENhcnRPclRocm93KCk7XG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSBzdGF0ZS5nZXRTdG9yZUNvbmZpZ09yVGhyb3coKTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrb3V0ID0gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCk7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5fZ2V0QmFzZVJlcXVlc3QoY2FydCwgY2hlY2tvdXQsIGNvbmZpZywgdGhpcy5fcGF5bWVudE1ldGhvZCk7XG4gICAgICAgICAgICBjb25zdCBhcHBsZVBheVNlc3Npb24gPSB0aGlzLl9zZXNzaW9uRmFjdG9yeS5jcmVhdGUocmVxdWVzdCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUFwcGxlUGF5RXZlbnRzKFxuICAgICAgICAgICAgICAgIGFwcGxlUGF5U2Vzc2lvbixcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXltZW50TWV0aG9kLFxuICAgICAgICAgICAgICAgIGNvbmZpZy5zdG9yZVByb2ZpbGUuc3RvcmVOYW1lLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmJlZ2luKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRSZXF1ZXN0V2l0aEVtcHR5VG90YWwoXG4gICAgICAgIGNvdW50cnlDb2RlOiBzdHJpbmcsXG4gICAgICAgIGN1cnJlbmN5Q29kZTogc3RyaW5nLFxuICAgICAgICBzdXBwb3J0ZWROZXR3b3Jrczogc3RyaW5nW10sXG4gICAgICAgIG1lcmNoYW50Q2FwYWJpbGl0aWVzOiBBcHBsZVBheUpTLkFwcGxlUGF5TWVyY2hhbnRDYXBhYmlsaXR5W10sXG4gICAgKTogQXBwbGVQYXlKUy5BcHBsZVBheVBheW1lbnRSZXF1ZXN0IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvdW50cnlDb2RlLFxuICAgICAgICAgICAgY3VycmVuY3lDb2RlLFxuICAgICAgICAgICAgc3VwcG9ydGVkTmV0d29ya3MsXG4gICAgICAgICAgICBtZXJjaGFudENhcGFiaWxpdGllcyxcbiAgICAgICAgICAgIHRvdGFsOiB7IGxhYmVsOiAnJywgYW1vdW50OiAnMCcsIHR5cGU6ICdwZW5kaW5nJyB9LFxuICAgICAgICAgICAgcmVxdWlyZWRCaWxsaW5nQ29udGFjdEZpZWxkczogWydwb3N0YWxBZGRyZXNzJ10sXG4gICAgICAgICAgICByZXF1aXJlZFNoaXBwaW5nQ29udGFjdEZpZWxkczogWydlbWFpbCcsICdwaG9uZSddLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldEJhc2VSZXF1ZXN0KFxuICAgICAgICBjYXJ0OiBDYXJ0LFxuICAgICAgICBjaGVja291dDogQ2hlY2tvdXQsXG4gICAgICAgIGNvbmZpZzogU3RvcmVDb25maWcsXG4gICAgICAgIHBheW1lbnRNZXRob2Q6IFBheW1lbnRNZXRob2QsXG4gICAgKTogQXBwbGVQYXlKUy5BcHBsZVBheVBheW1lbnRSZXF1ZXN0IHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgc3RvcmVQcm9maWxlOiB7IHN0b3JlQ291bnRyeUNvZGUsIHN0b3JlTmFtZSB9LFxuICAgICAgICB9ID0gY29uZmlnO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjdXJyZW5jeTogeyBjb2RlLCBkZWNpbWFsUGxhY2VzIH0sXG4gICAgICAgIH0gPSBjYXJ0O1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uRGF0YTogeyBtZXJjaGFudENhcGFiaWxpdGllcywgc3VwcG9ydGVkTmV0d29ya3MgfSxcbiAgICAgICAgfSA9IHBheW1lbnRNZXRob2Q7XG5cbiAgICAgICAgY29uc3QgcmVxdWlyZXNTaGlwcGluZyA9IGNhcnQubGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMubGVuZ3RoID4gMDtcbiAgICAgICAgY29uc3QgdG90YWw6IEFwcGxlUGF5SlMuQXBwbGVQYXlMaW5lSXRlbSA9IHJlcXVpcmVzU2hpcHBpbmdcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgbGFiZWw6IHN0b3JlTmFtZSxcbiAgICAgICAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuZ3JhbmRUb3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICAgICAgICB0eXBlOiAncGVuZGluZycsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgbGFiZWw6IHN0b3JlTmFtZSxcbiAgICAgICAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuZ3JhbmRUb3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICAgICAgICB0eXBlOiAnZmluYWwnLFxuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlcXVlc3Q6IEFwcGxlUGF5SlMuQXBwbGVQYXlQYXltZW50UmVxdWVzdCA9IHtcbiAgICAgICAgICAgIHJlcXVpcmVkQmlsbGluZ0NvbnRhY3RGaWVsZHM6IFsncG9zdGFsQWRkcmVzcyddLFxuICAgICAgICAgICAgcmVxdWlyZWRTaGlwcGluZ0NvbnRhY3RGaWVsZHM6IFsnZW1haWwnLCAncGhvbmUnXSxcbiAgICAgICAgICAgIGNvdW50cnlDb2RlOiBzdG9yZUNvdW50cnlDb2RlLFxuICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjb2RlLFxuICAgICAgICAgICAgbWVyY2hhbnRDYXBhYmlsaXRpZXMsXG4gICAgICAgICAgICBzdXBwb3J0ZWROZXR3b3JrcyxcbiAgICAgICAgICAgIGxpbmVJdGVtczogW10sXG4gICAgICAgICAgICB0b3RhbCxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAocmVxdWlyZXNTaGlwcGluZykge1xuICAgICAgICAgICAgcmVxdWVzdC5yZXF1aXJlZFNoaXBwaW5nQ29udGFjdEZpZWxkcz8ucHVzaCgncG9zdGFsQWRkcmVzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbGluZUl0ZW1zOiBBcHBsZVBheUpTLkFwcGxlUGF5TGluZUl0ZW1bXSA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLl9zdWJUb3RhbExhYmVsLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGAke2NoZWNrb3V0LnN1YnRvdGFsLnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgY2hlY2tvdXQudGF4ZXMuZm9yRWFjaCgodGF4KSA9PlxuICAgICAgICAgICAgICAgIGxpbmVJdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRheC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGAke3RheC5hbW91bnQudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmVxdWVzdC5saW5lSXRlbXMgPSBsaW5lSXRlbXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9oYW5kbGVBcHBsZVBheUV2ZW50cyhcbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uOiBBcHBsZVBheVNlc3Npb24sXG4gICAgICAgIHBheW1lbnRNZXRob2Q6IFBheW1lbnRNZXRob2QsXG4gICAgICAgIHN0b3JlTmFtZTogc3RyaW5nLFxuICAgICkge1xuICAgICAgICBhcHBsZVBheVNlc3Npb24ub252YWxpZGF0ZW1lcmNoYW50ID0gYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgYm9keTogbWVyY2hhbnRTZXNzaW9uIH0gPSBhd2FpdCB0aGlzLl9vblZhbGlkYXRlTWVyY2hhbnQoXG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBhcHBsZVBheVNlc3Npb24uY29tcGxldGVNZXJjaGFudFZhbGlkYXRpb24obWVyY2hhbnRTZXNzaW9uKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXJjaGFudCB2YWxpZGF0aW9uIGZhaWxlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0aGlzLl9idXlOb3dJbml0aWFsaXplT3B0aW9ucyAmJiAhdGhpcy5fcmVxdWlyZXNTaGlwcGluZykge1xuICAgICAgICAgICAgYXBwbGVQYXlTZXNzaW9uLm9ucGF5bWVudG1ldGhvZHNlbGVjdGVkID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX2NyZWF0ZUJ1eU5vd0NhcnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVQYXltZW50TWV0aG9kU2VsZWN0ZWQoYXBwbGVQYXlTZXNzaW9uKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBhcHBsZVBheVNlc3Npb24ub25zaGlwcGluZ2NvbnRhY3RzZWxlY3RlZCA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2J1eU5vd0luaXRpYWxpemVPcHRpb25zICYmIHRoaXMuX3JlcXVpcmVzU2hpcHBpbmcpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9jcmVhdGVCdXlOb3dDYXJ0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2hhbmRsZVNoaXBwaW5nQ29udGFjdFNlbGVjdGVkKGFwcGxlUGF5U2Vzc2lvbiwgc3RvcmVOYW1lLCBldmVudCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uLm9uc2hpcHBpbmdtZXRob2RzZWxlY3RlZCA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5faGFuZGxlU2hpcHBpbmdNZXRob2RTZWxlY3RlZChhcHBsZVBheVNlc3Npb24sIHN0b3JlTmFtZSwgZXZlbnQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5vbmNhbmNlbCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gYC9yZW1vdGUtY2hlY2tvdXQvJHtwYXltZW50TWV0aG9kLmlkfS9zaWdub3V0YDtcblxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3JlcXVlc3RTZW5kZXIuZ2V0KHVybCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkQ2hlY2tvdXQoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5vbnBheW1lbnRhdXRob3JpemVkID0gYXN5bmMgKGV2ZW50KSA9PlxuICAgICAgICAgICAgdGhpcy5fb25QYXltZW50QXV0aG9yaXplZChldmVudCwgYXBwbGVQYXlTZXNzaW9uLCBwYXltZW50TWV0aG9kKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9jcmVhdGVCdXlOb3dDYXJ0KCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2FydFJlcXVlc3RCb2R5ID0gdGhpcy5fYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnM/LmdldEJ1eU5vd0NhcnRSZXF1ZXN0Qm9keT8uKCk7XG5cbiAgICAgICAgICAgIGlmICghY2FydFJlcXVlc3RCb2R5KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdEYXRhRXJyb3IoTWlzc2luZ0RhdGFFcnJvclR5cGUuTWlzc2luZ0NhcnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBidXlOb3dDYXJ0ID0gYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5jcmVhdGVCdXlOb3dDYXJ0KFxuICAgICAgICAgICAgICAgIGNhcnRSZXF1ZXN0Qm9keSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZENoZWNrb3V0KGJ1eU5vd0NhcnQuaWQpO1xuXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHsgc2hvdWxkRXhlY3V0ZVNwYW1DaGVjayB9ID0gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCk7XG5cbiAgICAgICAgICAgIGlmIChzaG91bGRFeGVjdXRlU3BhbUNoZWNrKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS52ZXJpZnlDaGVja291dFNwYW1Qcm90ZWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQnV5Tm93Q2FydENyZWF0aW9uRXJyb3IoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX2hhbmRsZVBheW1lbnRNZXRob2RTZWxlY3RlZChhcHBsZVBheVNlc3Npb246IEFwcGxlUGF5U2Vzc2lvbikge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgY2FydCA9IHN0YXRlLmdldENhcnRPclRocm93KCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHN0YXRlLmdldFN0b3JlQ29uZmlnT3JUaHJvdygpO1xuICAgICAgICBjb25zdCBjaGVja291dCA9IHN0YXRlLmdldENoZWNrb3V0T3JUaHJvdygpO1xuXG4gICAgICAgIGlmICghdGhpcy5fcGF5bWVudE1ldGhvZCB8fCAhdGhpcy5fcGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nRGF0YUVycm9yKE1pc3NpbmdEYXRhRXJyb3JUeXBlLk1pc3NpbmdQYXltZW50TWV0aG9kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLl9nZXRCYXNlUmVxdWVzdChjYXJ0LCBjaGVja291dCwgY29uZmlnLCB0aGlzLl9wYXltZW50TWV0aG9kKTtcblxuICAgICAgICBkZWxldGUgcmVxdWVzdC50b3RhbC50eXBlO1xuXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5jb21wbGV0ZVBheW1lbnRNZXRob2RTZWxlY3Rpb24oe1xuICAgICAgICAgICAgbmV3VG90YWw6IHJlcXVlc3QudG90YWwsXG4gICAgICAgICAgICBuZXdMaW5lSXRlbXM6IHJlcXVlc3QubGluZUl0ZW1zLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9oYW5kbGVTaGlwcGluZ0NvbnRhY3RTZWxlY3RlZChcbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uOiBBcHBsZVBheVNlc3Npb24sXG4gICAgICAgIHN0b3JlTmFtZTogc3RyaW5nLFxuICAgICAgICBldmVudDogQXBwbGVQYXlKUy5BcHBsZVBheVNoaXBwaW5nQ29udGFjdFNlbGVjdGVkRXZlbnQsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHNoaXBwaW5nQWRkcmVzcyA9IHRoaXMuX3RyYW5zZm9ybUNvbnRhY3RUb0FkZHJlc3MoZXZlbnQuc2hpcHBpbmdDb250YWN0KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVTaGlwcGluZ0FkZHJlc3Moc2hpcHBpbmdBZGRyZXNzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5hYm9ydCgpO1xuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NoaXBwaW5nIGFkZHJlc3MgdXBkYXRlIGZhaWxlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjdXJyZW5jeTogeyBkZWNpbWFsUGxhY2VzIH0sXG4gICAgICAgIH0gPSBzdGF0ZS5nZXRDYXJ0T3JUaHJvdygpO1xuICAgICAgICBsZXQgY2hlY2tvdXQgPSBzdGF0ZS5nZXRDaGVja291dE9yVGhyb3coKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uU2hpcHBpbmdPcHRpb25JZCA9IGNoZWNrb3V0LmNvbnNpZ25tZW50c1swXS5zZWxlY3RlZFNoaXBwaW5nT3B0aW9uPy5pZDtcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlT3B0aW9ucyA9IGNoZWNrb3V0LmNvbnNpZ25tZW50c1swXS5hdmFpbGFibGVTaGlwcGluZ09wdGlvbnM7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gYXZhaWxhYmxlT3B0aW9ucz8uZmluZCgoeyBpZCB9KSA9PiBpZCA9PT0gc2VsZWN0aW9uU2hpcHBpbmdPcHRpb25JZCk7XG4gICAgICAgIGNvbnN0IHVuc2VsZWN0ZWRPcHRpb25zID0gYXZhaWxhYmxlT3B0aW9ucz8uZmlsdGVyKFxuICAgICAgICAgICAgKG9wdGlvbikgPT4gb3B0aW9uLmlkICE9PSBzZWxlY3Rpb25TaGlwcGluZ09wdGlvbklkLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBzaGlwcGluZ09wdGlvbnM6IEFwcGxlUGF5SlMuQXBwbGVQYXlTaGlwcGluZ01ldGhvZFtdID0gc2VsZWN0ZWRPcHRpb25cbiAgICAgICAgICAgID8gW1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBzZWxlY3RlZE9wdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGAke3NlbGVjdGVkT3B0aW9uLmNvc3QudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgICAgICAgICAgIGRldGFpbDogc2VsZWN0ZWRPcHRpb24uYWRkaXRpb25hbERlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6IHNlbGVjdGVkT3B0aW9uLmlkLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgOiBbXTtcblxuICAgICAgICBpZiAodW5zZWxlY3RlZE9wdGlvbnMpIHtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAuLi51bnNlbGVjdGVkT3B0aW9ucy5maWx0ZXIoKG9wdGlvbikgPT4gb3B0aW9uLmlzUmVjb21tZW5kZWQpLFxuICAgICAgICAgICAgICAgIC4uLnVuc2VsZWN0ZWRPcHRpb25zLmZpbHRlcigob3B0aW9uKSA9PiAhb3B0aW9uLmlzUmVjb21tZW5kZWQpLFxuICAgICAgICAgICAgXS5mb3JFYWNoKChvcHRpb24pID0+XG4gICAgICAgICAgICAgICAgc2hpcHBpbmdPcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogb3B0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGAke29wdGlvbi5jb3N0LnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBvcHRpb24uYWRkaXRpb25hbERlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiBvcHRpb24uaWQsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1NoaXBwaW5nT3B0aW9ucyhhdmFpbGFibGVPcHRpb25zKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaGlwcGluZyBvcHRpb25zIG5vdCBhdmFpbGFibGUuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXZhaWxhYmxlT3B0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5jb21wbGV0ZVNoaXBwaW5nQ29udGFjdFNlbGVjdGlvbihcbiAgICAgICAgICAgICAgICBBcHBsZVBheVNlc3Npb24uU1RBVFVTX0lOVkFMSURfU0hJUFBJTkdfUE9TVEFMX0FERFJFU1MsXG4gICAgICAgICAgICAgICAgW10sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncGVuZGluZycsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBzdG9yZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuZ3JhbmRUb3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbXSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlY29tbWVuZGVkT3B0aW9uID0gYXZhaWxhYmxlT3B0aW9ucy5maW5kKChvcHRpb24pID0+IG9wdGlvbi5pc1JlY29tbWVuZGVkKTtcblxuICAgICAgICBjb25zdCBvcHRpb25JZCA9IHJlY29tbWVuZGVkT3B0aW9uID8gcmVjb21tZW5kZWRPcHRpb24uaWQgOiBhdmFpbGFibGVPcHRpb25zWzBdLmlkO1xuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbklkID0gc2VsZWN0ZWRPcHRpb24gPyBzZWxlY3RlZE9wdGlvbi5pZCA6IG9wdGlvbklkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVTaGlwcGluZ09wdGlvbihzZWxlY3RlZE9wdGlvbklkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2hpcHBpbmcgb3B0aW9ucyB1cGRhdGUgZmFpbGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgY2hlY2tvdXQgPSBzdGF0ZS5nZXRDaGVja291dE9yVGhyb3coKTtcblxuICAgICAgICBhcHBsZVBheVNlc3Npb24uY29tcGxldGVTaGlwcGluZ0NvbnRhY3RTZWxlY3Rpb24oe1xuICAgICAgICAgICAgbmV3U2hpcHBpbmdNZXRob2RzOiBzaGlwcGluZ09wdGlvbnMsXG4gICAgICAgICAgICBuZXdUb3RhbDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdmaW5hbCcsXG4gICAgICAgICAgICAgICAgbGFiZWw6IHN0b3JlTmFtZSxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IGAke2NoZWNrb3V0LmdyYW5kVG90YWwudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5ld0xpbmVJdGVtczogdGhpcy5fZ2V0VXBkYXRlZExpbmVJdGVtcyhjaGVja291dCwgZGVjaW1hbFBsYWNlcyksXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2hhbmRsZVNoaXBwaW5nTWV0aG9kU2VsZWN0ZWQoXG4gICAgICAgIGFwcGxlUGF5U2Vzc2lvbjogQXBwbGVQYXlTZXNzaW9uLFxuICAgICAgICBzdG9yZU5hbWU6IHN0cmluZyxcbiAgICAgICAgZXZlbnQ6IEFwcGxlUGF5SlMuQXBwbGVQYXlTaGlwcGluZ01ldGhvZFNlbGVjdGVkRXZlbnQsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHNoaXBwaW5nTWV0aG9kOiB7IGlkZW50aWZpZXI6IG9wdGlvbklkIH0sXG4gICAgICAgIH0gPSBldmVudDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlU2hpcHBpbmdPcHRpb24ob3B0aW9uSWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmFib3J0KCk7XG5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2hpcHBpbmcgb3B0aW9uIHNlbGVjdGlvbiB1cGRhdGUgZmFpbGVkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGN1cnJlbmN5OiB7IGRlY2ltYWxQbGFjZXMgfSxcbiAgICAgICAgfSA9IHN0YXRlLmdldENhcnRPclRocm93KCk7XG4gICAgICAgIGNvbnN0IGNoZWNrb3V0ID0gc3RhdGUuZ2V0Q2hlY2tvdXRPclRocm93KCk7XG5cbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmNvbXBsZXRlU2hpcHBpbmdNZXRob2RTZWxlY3Rpb24oe1xuICAgICAgICAgICAgbmV3VG90YWw6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmluYWwnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBzdG9yZU5hbWUsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBgJHtjaGVja291dC5ncmFuZFRvdGFsLnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuZXdMaW5lSXRlbXM6IHRoaXMuX2dldFVwZGF0ZWRMaW5lSXRlbXMoY2hlY2tvdXQsIGRlY2ltYWxQbGFjZXMpLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRVcGRhdGVkTGluZUl0ZW1zKFxuICAgICAgICBjaGVja291dDogQ2hlY2tvdXQsXG4gICAgICAgIGRlY2ltYWxQbGFjZXM6IG51bWJlcixcbiAgICApOiBBcHBsZVBheUpTLkFwcGxlUGF5TGluZUl0ZW1bXSB7XG4gICAgICAgIGNvbnN0IGxpbmVJdGVtczogQXBwbGVQYXlKUy5BcHBsZVBheUxpbmVJdGVtW10gPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuX3N1YlRvdGFsTGFiZWwsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBgJHtjaGVja291dC5zdWJ0b3RhbC50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuXG4gICAgICAgIGNoZWNrb3V0LnRheGVzLmZvckVhY2goKHRheCkgPT5cbiAgICAgICAgICAgIGxpbmVJdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBsYWJlbDogdGF4Lm5hbWUsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBgJHt0YXguYW1vdW50LnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgICBsaW5lSXRlbXMucHVzaCh7XG4gICAgICAgICAgICBsYWJlbDogdGhpcy5fc2hpcHBpbmdMYWJlbCxcbiAgICAgICAgICAgIGFtb3VudDogYCR7Y2hlY2tvdXQuc2hpcHBpbmdDb3N0VG90YWwudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbGluZUl0ZW1zO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX3VwZGF0ZVNoaXBwaW5nT3B0aW9uKG9wdGlvbklkOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc2VsZWN0U2hpcHBpbmdPcHRpb24ob3B0aW9uSWQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX29uVmFsaWRhdGVNZXJjaGFudChcbiAgICAgICAgcGF5bWVudERhdGE6IFBheW1lbnRNZXRob2QsXG4gICAgICAgIGV2ZW50OiBBcHBsZVBheUpTLkFwcGxlUGF5VmFsaWRhdGVNZXJjaGFudEV2ZW50LFxuICAgICkge1xuICAgICAgICBjb25zdCBib2R5ID0gW1xuICAgICAgICAgICAgYHZhbGlkYXRpb25Vcmw9JHtldmVudC52YWxpZGF0aW9uVVJMfWAsXG4gICAgICAgICAgICBgbWVyY2hhbnRJZGVudGlmaWVyPSR7cGF5bWVudERhdGEuaW5pdGlhbGl6YXRpb25EYXRhLm1lcmNoYW50SWR9YCxcbiAgICAgICAgICAgIGBkaXNwbGF5TmFtZT0ke3BheW1lbnREYXRhLmluaXRpYWxpemF0aW9uRGF0YS5zdG9yZU5hbWV9YCxcbiAgICAgICAgICAgIGBkb21haW5OYW1lPSR7d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lfWAsXG4gICAgICAgIF0uam9pbignJicpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnBvc3QoXG4gICAgICAgICAgICB2YWxpZGF0aW9uRW5kcG9pbnQocGF5bWVudERhdGEuaW5pdGlhbGl6YXRpb25EYXRhLnBheW1lbnRzVXJsKSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogZmFsc2UsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAgICAgICAgICAgICAgICAgICAnWC1YU1JGLVRPS0VOJzogbnVsbCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX29uUGF5bWVudEF1dGhvcml6ZWQoXG4gICAgICAgIGV2ZW50OiBBcHBsZVBheUpTLkFwcGxlUGF5UGF5bWVudEF1dGhvcml6ZWRFdmVudCxcbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uOiBBcHBsZVBheVNlc3Npb24sXG4gICAgICAgIHBheW1lbnRNZXRob2Q6IFBheW1lbnRNZXRob2QsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHsgdG9rZW4sIGJpbGxpbmdDb250YWN0LCBzaGlwcGluZ0NvbnRhY3QgfSA9IGV2ZW50LnBheW1lbnQ7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBjYXJ0ID0gc3RhdGUuZ2V0Q2FydE9yVGhyb3coKTtcbiAgICAgICAgY29uc3QgcmVxdWlyZXNTaGlwcGluZyA9IGNhcnQubGluZUl0ZW1zLnBoeXNpY2FsSXRlbXMubGVuZ3RoID4gMDtcblxuICAgICAgICBsZXQgZGV2aWNlU2Vzc2lvbklkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHBheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhPy5nYXRld2F5ID09PSBBcHBsZVBheUdhdGV3YXlUeXBlLkJSQUlOVFJFRSkge1xuICAgICAgICAgICAgZGV2aWNlU2Vzc2lvbklkID0gYXdhaXQgdGhpcy5fZ2V0QnJhaW50cmVlRGV2aWNlRGF0YSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF5bWVudDogUGF5bWVudCA9IHtcbiAgICAgICAgICAgIG1ldGhvZElkOiBwYXltZW50TWV0aG9kLmlkLFxuICAgICAgICAgICAgcGF5bWVudERhdGE6IHtcbiAgICAgICAgICAgICAgICBkZXZpY2VTZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBhcHBsZV9wYXlfdG9rZW46IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRfZGF0YTogdG9rZW4ucGF5bWVudERhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50X21ldGhvZDogdG9rZW4ucGF5bWVudE1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uX2lkOiB0b2tlbi50cmFuc2FjdGlvbklkZW50aWZpZXIsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRCaWxsaW5nQWRkcmVzcyA9IHRoaXMuX3RyYW5zZm9ybUNvbnRhY3RUb0FkZHJlc3MoYmlsbGluZ0NvbnRhY3QpO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZFNoaXBwaW5nQWRkcmVzcyA9IHRoaXMuX3RyYW5zZm9ybUNvbnRhY3RUb0FkZHJlc3Moc2hpcHBpbmdDb250YWN0KTtcbiAgICAgICAgY29uc3QgZW1haWxBZGRyZXNzID0gc2hpcHBpbmdDb250YWN0Py5lbWFpbEFkZHJlc3M7XG4gICAgICAgIGNvbnN0IHBob25lID0gc2hpcHBpbmdDb250YWN0Py5waG9uZU51bWJlciB8fCAnJztcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVCaWxsaW5nQWRkcmVzcyh7XG4gICAgICAgICAgICAgICAgLi4udHJhbnNmb3JtZWRCaWxsaW5nQWRkcmVzcyxcbiAgICAgICAgICAgICAgICBlbWFpbDogZW1haWxBZGRyZXNzLFxuICAgICAgICAgICAgICAgIHBob25lLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChyZXF1aXJlc1NoaXBwaW5nKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS51cGRhdGVTaGlwcGluZ0FkZHJlc3MoXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybWVkU2hpcHBpbmdBZGRyZXNzLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0T3JkZXIoe1xuICAgICAgICAgICAgICAgIHVzZVN0b3JlQ3JlZGl0OiBmYWxzZSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdFBheW1lbnQocGF5bWVudCk7XG4gICAgICAgICAgICBhcHBsZVBheVNlc3Npb24uY29tcGxldGVQYXltZW50KEFwcGxlUGF5U2Vzc2lvbi5TVEFUVVNfU1VDQ0VTUyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbkF1dGhvcml6ZUNhbGxiYWNrKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBhcHBsZVBheVNlc3Npb24uY29tcGxldGVQYXltZW50KEFwcGxlUGF5U2Vzc2lvbi5TVEFUVVNfRkFJTFVSRSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BheW1lbnQgY2Fubm90IGNvbXBsZXRlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF90cmFuc2Zvcm1Db250YWN0VG9BZGRyZXNzKFxuICAgICAgICBjb250YWN0PzogQXBwbGVQYXlKUy5BcHBsZVBheVBheW1lbnRDb250YWN0LFxuICAgICk6IEFkZHJlc3NSZXF1ZXN0Qm9keSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaXJzdE5hbWU6IGNvbnRhY3Q/LmdpdmVuTmFtZSB8fCAnJyxcbiAgICAgICAgICAgIGxhc3ROYW1lOiBjb250YWN0Py5mYW1pbHlOYW1lIHx8ICcnLFxuICAgICAgICAgICAgY2l0eTogY29udGFjdD8ubG9jYWxpdHkgfHwgJycsXG4gICAgICAgICAgICBjb21wYW55OiAnJyxcbiAgICAgICAgICAgIGFkZHJlc3MxOiAoY29udGFjdD8uYWRkcmVzc0xpbmVzICYmIGNvbnRhY3QuYWRkcmVzc0xpbmVzWzBdKSB8fCAnJyxcbiAgICAgICAgICAgIGFkZHJlc3MyOiAoY29udGFjdD8uYWRkcmVzc0xpbmVzICYmIGNvbnRhY3QuYWRkcmVzc0xpbmVzWzFdKSB8fCAnJyxcbiAgICAgICAgICAgIHBvc3RhbENvZGU6IGNvbnRhY3Q/LnBvc3RhbENvZGUgfHwgJycsXG4gICAgICAgICAgICBjb3VudHJ5Q29kZTogY29udGFjdD8uY291bnRyeUNvZGUgfHwgJycsXG4gICAgICAgICAgICBwaG9uZTogY29udGFjdD8ucGhvbmVOdW1iZXIgfHwgJycsXG4gICAgICAgICAgICBzdGF0ZU9yUHJvdmluY2U6IGNvbnRhY3Q/LmFkbWluaXN0cmF0aXZlQXJlYSB8fCAnJyxcbiAgICAgICAgICAgIHN0YXRlT3JQcm92aW5jZUNvZGU6IGNvbnRhY3Q/LmFkbWluaXN0cmF0aXZlQXJlYSB8fCAnJyxcbiAgICAgICAgICAgIGN1c3RvbUZpZWxkczogW10sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfZ2V0QnJhaW50cmVlRGV2aWNlRGF0YSgpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBkZXZpY2VEYXRhIH0gPSBhd2FpdCB0aGlzLl9icmFpbnRyZWVTZGsuZ2V0RGF0YUNvbGxlY3Rvck9yVGhyb3coKTtcblxuICAgICAgICAgICAgcmV0dXJuIGRldmljZURhdGE7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgIC8vIERvbid0IHRocm93IGFuIGVycm9yIHRvIGF2b2lkIGJyZWFraW5nIGNoZWNrb3V0IGZsb3dcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX2luaXRpYWxpemVCcmFpbnRyZWVTZGsoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIFRPRE86IFRoaXMgaXMgYSB0ZW1wb3Jhcnkgc29sdXRpb24gd2hlbiB3ZSBsb2FkIGJyYWludHJlZSB0byBnZXQgY2xpZW50IHRva2VuIChzaG91bGQgYmUgZml4ZWQgYWZ0ZXIgUEFZUEFMLTQxMjIpXG4gICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QoQXBwbGVQYXlHYXRld2F5VHlwZS5CUkFJTlRSRUUpO1xuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBicmFpbnRyZWVQYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZChBcHBsZVBheUdhdGV3YXlUeXBlLkJSQUlOVFJFRSk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWJyYWludHJlZVBheW1lbnRNZXRob2QgfHxcbiAgICAgICAgICAgICFicmFpbnRyZWVQYXltZW50TWV0aG9kLmNsaWVudFRva2VuIHx8XG4gICAgICAgICAgICAhYnJhaW50cmVlUGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGFcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9icmFpbnRyZWVTZGsuaW5pdGlhbGl6ZShicmFpbnRyZWVQYXltZW50TWV0aG9kLmNsaWVudFRva2VuKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVSZXF1ZXN0U2VuZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyJztcbmltcG9ydCB7IGdldFNjcmlwdExvYWRlciwgU2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZVNjcmlwdExvYWRlcixcbiAgICBCcmFpbnRyZWVTZGssXG4gICAgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgQ2hlY2tvdXRCdXR0b25TdHJhdGVneUZhY3RvcnksXG4gICAgdG9SZXNvbHZhYmxlTW9kdWxlLFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IEFwcGxlUGF5QnV0dG9uU3RyYXRlZ3kgZnJvbSAnLi9hcHBsZS1wYXktYnV0dG9uLXN0cmF0ZWd5JztcbmltcG9ydCBBcHBsZVBheVNjcmlwdExvYWRlciBmcm9tICcuL2FwcGxlLXBheS1zY3JpcHQtbG9hZGVyJztcbmltcG9ydCBBcHBsZVBheVNlc3Npb25GYWN0b3J5IGZyb20gJy4vYXBwbGUtcGF5LXNlc3Npb24tZmFjdG9yeSc7XG5cbmNvbnN0IGNyZWF0ZUFwcGxlUGF5QnV0dG9uU3RyYXRlZ3k6IENoZWNrb3V0QnV0dG9uU3RyYXRlZ3lGYWN0b3J5PEFwcGxlUGF5QnV0dG9uU3RyYXRlZ3k+ID0gKFxuICAgIHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UsXG4pID0+IHtcbiAgICBjb25zdCB7IGdldEhvc3QgfSA9IHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcblxuICAgIGNvbnN0IGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyID0gbmV3IEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpO1xuXG4gICAgcmV0dXJuIG5ldyBBcHBsZVBheUJ1dHRvblN0cmF0ZWd5KFxuICAgICAgICBjcmVhdGVSZXF1ZXN0U2VuZGVyKHsgaG9zdDogZ2V0SG9zdCgpIH0pLFxuICAgICAgICBwYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLFxuICAgICAgICBuZXcgQXBwbGVQYXlTZXNzaW9uRmFjdG9yeSgpLFxuICAgICAgICBuZXcgQnJhaW50cmVlU2RrKFxuICAgICAgICAgICAgbmV3IEJyYWludHJlZVNjcmlwdExvYWRlcihnZXRTY3JpcHRMb2FkZXIoKSwgd2luZG93LCBicmFpbnRyZWVTREtWZXJzaW9uTWFuYWdlciksXG4gICAgICAgICksXG4gICAgICAgIG5ldyBBcHBsZVBheVNjcmlwdExvYWRlcihuZXcgU2NyaXB0TG9hZGVyKCkpLFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b1Jlc29sdmFibGVNb2R1bGUoY3JlYXRlQXBwbGVQYXlCdXR0b25TdHJhdGVneSwgW3sgaWQ6ICdhcHBsZXBheScgfV0pO1xuIiwiaW1wb3J0IEludmFsaWRBcmd1bWVudEVycm9yIGZyb20gJy4vaW52YWxpZC1hcmd1bWVudC1lcnJvcic7XG5cbi8qKlxuICogVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIHdoZW4gd2UgYXJlIHVuYWJsZSB0byBzdWJtaXQgYSBwYXltZW50IGJlY2F1c2VcbiAqIHRoZSBjYWxsZXIgaGFzIG5vdCBwcm92aWRlZCBhbGwgdGhlIHJlcXVpcmVkIGZpZWxkcywgaS5lLjogaWYgYW4gYXJndW1lbnQgaXNcbiAqIG1pc3Npbmcgb3IgaXQgaXMgbm90IHRoZSBleHBlY3RlZCBkYXRhIHR5cGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRBcmd1bWVudEludmFsaWRFcnJvciBleHRlbmRzIEludmFsaWRBcmd1bWVudEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihpbnZhbGlkRmllbGRzPzogc3RyaW5nW10pIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSAnVW5hYmxlIHRvIHN1Ym1pdCBwYXltZW50IGZvciB0aGUgb3JkZXIgYmVjYXVzZSB0aGUgcGF5bG9hZCBpcyBpbnZhbGlkLic7XG5cbiAgICAgICAgaWYgKGludmFsaWRGaWVsZHMpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgJHttZXNzYWdlfSBNYWtlIHN1cmUgdGhlIGZvbGxvd2luZyBmaWVsZHMgYXJlIHByb3ZpZGVkIGNvcnJlY3RseTogJHtpbnZhbGlkRmllbGRzLmpvaW4oXG4gICAgICAgICAgICAgICAgJywgJyxcbiAgICAgICAgICAgICl9LmA7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yJztcbiAgICB9XG59XG4iLCJpbXBvcnQgU3RhbmRhcmRFcnJvciBmcm9tICcuL3N0YW5kYXJkLWVycm9yJztcblxuLyoqXG4gKiBUaHJvdyB0aGlzIGVycm9yIGlmIHdlIGFyZSB0cnlpbmcgdG8gbWFrZSBhbiBvcmRlciBmaW5hbGl6YXRpb24gcmVxdWVzdCBmb3IgYVxuICogcGF5bWVudCBtZXRob2QgdGhhdCBkb2VzIG5vdCByZXF1aXJlIHN1Y2ggcHJvY2VkdXJlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcmRlckZpbmFsaXphdGlvbk5vdFJlcXVpcmVkRXJyb3IgZXh0ZW5kcyBTdGFuZGFyZEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ1RoZSBjdXJyZW50IG9yZGVyIGRvZXMgbm90IG5lZWQgdG8gYmUgZmluYWxpemVkIGF0IHRoaXMgc3RhZ2UuJyk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gJ09yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcic7XG4gICAgICAgIHRoaXMudHlwZSA9ICdvcmRlcl9maW5hbGl6YXRpb25fbm90X3JlcXVpcmVkJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZXF1ZXN0U2VuZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyJztcblxuaW1wb3J0IHsgQnJhaW50cmVlU2RrIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL2NoZWNrb3V0LXNkay9icmFpbnRyZWUtdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBJbnZhbGlkQXJndW1lbnRFcnJvcixcbiAgICBOb3RJbml0aWFsaXplZEVycm9yLFxuICAgIE5vdEluaXRpYWxpemVkRXJyb3JUeXBlLFxuICAgIE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcixcbiAgICBPcmRlclJlcXVlc3RCb2R5LFxuICAgIFBheW1lbnQsXG4gICAgUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yLFxuICAgIFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICBQYXltZW50SW50ZWdyYXRpb25TZWxlY3RvcnMsXG4gICAgUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICBQYXltZW50TWV0aG9kLFxuICAgIFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcixcbiAgICBQYXltZW50UmVxdWVzdE9wdGlvbnMsXG4gICAgUGF5bWVudFN0cmF0ZWd5LFxufSBmcm9tICdAYmlnY29tbWVyY2UvY2hlY2tvdXQtc2RrL3BheW1lbnQtaW50ZWdyYXRpb24tYXBpJztcblxuaW1wb3J0IHsgQXBwbGVQYXlHYXRld2F5VHlwZSB9IGZyb20gJy4vYXBwbGUtcGF5JztcbmltcG9ydCB7IFdpdGhBcHBsZVBheVBheW1lbnRJbml0aWFsaXplT3B0aW9ucyB9IGZyb20gJy4vYXBwbGUtcGF5LXBheW1lbnQtaW5pdGlhbGl6ZS1vcHRpb25zJztcbmltcG9ydCBBcHBsZVBheVNjcmlwdExvYWRlciBmcm9tICcuL2FwcGxlLXBheS1zY3JpcHQtbG9hZGVyJztcbmltcG9ydCBBcHBsZVBheVNlc3Npb25GYWN0b3J5IGZyb20gJy4vYXBwbGUtcGF5LXNlc3Npb24tZmFjdG9yeSc7XG5cbmNvbnN0IHZhbGlkYXRpb25FbmRwb2ludCA9IChiaWdQYXlFbmRwb2ludDogc3RyaW5nKSA9PlxuICAgIGAke2JpZ1BheUVuZHBvaW50fS9hcGkvcHVibGljL3YxL3BheW1lbnRzL2FwcGxlcGF5L3ZhbGlkYXRlX21lcmNoYW50YDtcblxuaW50ZXJmYWNlIEFwcGxlUGF5UHJvbWlzZSB7XG4gICAgcmVzb2x2ZSgpOiB2b2lkO1xuICAgIHJlamVjdChyZWFzb24/OiBFcnJvcik6IHZvaWQ7XG59XG5cbmVudW0gRGVmYXVsdExhYmVscyB7XG4gICAgU2hpcHBpbmcgPSAnU2hpcHBpbmcnLFxuICAgIFN1YnRvdGFsID0gJ1N1YnRvdGFsJyxcbiAgICBTdG9yZUNyZWRpdCA9ICdTdG9yZSBDcmVkaXQnLFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHBsZVBheVBheW1lbnRTdHJhdGVneSBpbXBsZW1lbnRzIFBheW1lbnRTdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBfc2hpcHBpbmdMYWJlbDogc3RyaW5nID0gRGVmYXVsdExhYmVscy5TaGlwcGluZztcbiAgICBwcml2YXRlIF9zdWJUb3RhbExhYmVsOiBzdHJpbmcgPSBEZWZhdWx0TGFiZWxzLlN1YnRvdGFsO1xuICAgIHByaXZhdGUgX3N0b3JlQ3JlZGl0TGFiZWw6IHN0cmluZyA9IERlZmF1bHRMYWJlbHMuU3RvcmVDcmVkaXQ7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBfcmVxdWVzdFNlbmRlcjogUmVxdWVzdFNlbmRlcixcbiAgICAgICAgcHJpdmF0ZSBfcGF5bWVudEludGVncmF0aW9uU2VydmljZTogUGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBfc2Vzc2lvbkZhY3Rvcnk6IEFwcGxlUGF5U2Vzc2lvbkZhY3RvcnksXG4gICAgICAgIHByaXZhdGUgX2JyYWludHJlZVNkazogQnJhaW50cmVlU2RrLFxuICAgICAgICBwcml2YXRlIF9hcHBsZVBheVNjcmlwdExvYWRlcjogQXBwbGVQYXlTY3JpcHRMb2FkZXIsXG4gICAgKSB7fVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShcbiAgICAgICAgb3B0aW9ucz86IFBheW1lbnRJbml0aWFsaXplT3B0aW9ucyAmIFdpdGhBcHBsZVBheVBheW1lbnRJbml0aWFsaXplT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKCFvcHRpb25zPy5tZXRob2RJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgICdVbmFibGUgdG8gc3VibWl0IHBheW1lbnQgYmVjYXVzZSBcIm9wdGlvbnMubWV0aG9kSWRcIiBhcmd1bWVudCBpcyBub3QgcHJvdmlkZWQuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IG1ldGhvZElkIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuX2FwcGxlUGF5U2NyaXB0TG9hZGVyLmxvYWRTZGsoKTtcblxuICAgICAgICB0aGlzLl9zaGlwcGluZ0xhYmVsID0gb3B0aW9ucy5hcHBsZXBheT8uc2hpcHBpbmdMYWJlbCB8fCBEZWZhdWx0TGFiZWxzLlNoaXBwaW5nO1xuICAgICAgICB0aGlzLl9zdWJUb3RhbExhYmVsID0gb3B0aW9ucy5hcHBsZXBheT8uc3VidG90YWxMYWJlbCB8fCBEZWZhdWx0TGFiZWxzLlN1YnRvdGFsO1xuICAgICAgICB0aGlzLl9zdG9yZUNyZWRpdExhYmVsID0gb3B0aW9ucy5hcHBsZXBheT8uc3RvcmVDcmVkaXRMYWJlbCB8fCBEZWZhdWx0TGFiZWxzLlN0b3JlQ3JlZGl0O1xuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gYXdhaXQgdGhpcy5fcGF5bWVudEludGVncmF0aW9uU2VydmljZS5sb2FkUGF5bWVudE1ldGhvZChtZXRob2RJZCk7XG5cbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZDogUGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2RPclRocm93KG1ldGhvZElkKTtcblxuICAgICAgICBpZiAocGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGE/LmdhdGV3YXkgPT09IEFwcGxlUGF5R2F0ZXdheVR5cGUuQlJBSU5UUkVFKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9pbml0aWFsaXplQnJhaW50cmVlU2RrKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBleGVjdXRlKHBheWxvYWQ6IE9yZGVyUmVxdWVzdEJvZHksIG9wdGlvbnM/OiBQYXltZW50UmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBwYXltZW50IH0gPSBwYXlsb2FkO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKTtcblxuICAgICAgICBpZiAoIXBheW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXltZW50QXJndW1lbnRJbnZhbGlkRXJyb3IoWydwYXltZW50J10pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBtZXRob2RJZCB9ID0gcGF5bWVudDtcblxuICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kID0gc3RhdGUuZ2V0UGF5bWVudE1ldGhvZE9yVGhyb3cobWV0aG9kSWQpO1xuXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLl9nZXRCYXNlUmVxdWVzdChzdGF0ZSwgcGF5bWVudE1ldGhvZCk7XG4gICAgICAgIGNvbnN0IGFwcGxlUGF5U2Vzc2lvbiA9IHRoaXMuX3Nlc3Npb25GYWN0b3J5LmNyZWF0ZShyZXF1ZXN0KTtcblxuICAgICAgICBhd2FpdCB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLnN1Ym1pdE9yZGVyKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHVzZVN0b3JlQ3JlZGl0OiBwYXlsb2FkLnVzZVN0b3JlQ3JlZGl0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICk7XG5cbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmJlZ2luKCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUFwcGxlUGF5RXZlbnRzKGFwcGxlUGF5U2Vzc2lvbiwgcGF5bWVudE1ldGhvZCwge1xuICAgICAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZpbmFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IE9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvcigpKTtcbiAgICB9XG5cbiAgICBkZWluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRCYXNlUmVxdWVzdChcbiAgICAgICAgc3RhdGU6IFBheW1lbnRJbnRlZ3JhdGlvblNlbGVjdG9ycyxcbiAgICAgICAgcGF5bWVudE1ldGhvZDogUGF5bWVudE1ldGhvZCxcbiAgICApOiBBcHBsZVBheUpTLkFwcGxlUGF5UGF5bWVudFJlcXVlc3Qge1xuICAgICAgICBjb25zdCBjaGVja291dCA9IHN0YXRlLmdldENoZWNrb3V0T3JUaHJvdygpO1xuICAgICAgICBjb25zdCBjYXJ0ID0gc3RhdGUuZ2V0Q2FydE9yVGhyb3coKTtcbiAgICAgICAgY29uc3QgY29uZmlnID0gc3RhdGUuZ2V0U3RvcmVDb25maWdPclRocm93KCk7XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgc3RvcmVQcm9maWxlOiB7IHN0b3JlQ291bnRyeUNvZGUsIHN0b3JlTmFtZSB9LFxuICAgICAgICB9ID0gY29uZmlnO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjdXJyZW5jeTogeyBjb2RlLCBkZWNpbWFsUGxhY2VzIH0sXG4gICAgICAgIH0gPSBjYXJ0O1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBpbml0aWFsaXphdGlvbkRhdGE6IHsgbWVyY2hhbnRDYXBhYmlsaXRpZXMsIHN1cHBvcnRlZE5ldHdvcmtzIH0sXG4gICAgICAgIH0gPSBwYXltZW50TWV0aG9kO1xuXG4gICAgICAgIGNvbnN0IHsgZ3JhbmRUb3RhbCwgaXNTdG9yZUNyZWRpdEFwcGxpZWQsIG91dHN0YW5kaW5nQmFsYW5jZSB9ID0gY2hlY2tvdXQ7XG5cbiAgICAgICAgY29uc3QgbGluZUl0ZW1zOiBBcHBsZVBheUpTLkFwcGxlUGF5TGluZUl0ZW1bXSA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy5fc3ViVG90YWxMYWJlbCxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IGAke2NoZWNrb3V0LnN1YnRvdGFsLnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG5cbiAgICAgICAgY2hlY2tvdXQudGF4ZXMuZm9yRWFjaCgodGF4KSA9PlxuICAgICAgICAgICAgbGluZUl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgIGxhYmVsOiB0YXgubmFtZSxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IGAke3RheC5hbW91bnQudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICk7XG5cbiAgICAgICAgbGluZUl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgbGFiZWw6IHRoaXMuX3NoaXBwaW5nTGFiZWwsXG4gICAgICAgICAgICBhbW91bnQ6IGAke2NoZWNrb3V0LnNoaXBwaW5nQ29zdFRvdGFsLnRvRml4ZWQoZGVjaW1hbFBsYWNlcyl9YCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGlzU3RvcmVDcmVkaXRBcHBsaWVkKSB7XG4gICAgICAgICAgICBjb25zdCB7IHN0b3JlQ3JlZGl0IH0gPSBzdGF0ZS5nZXRDdXN0b21lck9yVGhyb3coKTtcblxuICAgICAgICAgICAgbGluZUl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLl9zdG9yZUNyZWRpdExhYmVsLFxuICAgICAgICAgICAgICAgIGFtb3VudDogYC0ke01hdGgubWluKGdyYW5kVG90YWwsIHN0b3JlQ3JlZGl0KS50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpfWAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb3VudHJ5Q29kZTogc3RvcmVDb3VudHJ5Q29kZSxcbiAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogY29kZSxcbiAgICAgICAgICAgIG1lcmNoYW50Q2FwYWJpbGl0aWVzLFxuICAgICAgICAgICAgc3VwcG9ydGVkTmV0d29ya3MsXG4gICAgICAgICAgICBsaW5lSXRlbXMsXG4gICAgICAgICAgICB0b3RhbDoge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBzdG9yZU5hbWUsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBgJHtvdXRzdGFuZGluZ0JhbGFuY2UudG9GaXhlZChkZWNpbWFsUGxhY2VzKX1gLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdmaW5hbCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX2hhbmRsZUFwcGxlUGF5RXZlbnRzKFxuICAgICAgICBhcHBsZVBheVNlc3Npb246IEFwcGxlUGF5U2Vzc2lvbixcbiAgICAgICAgcGF5bWVudE1ldGhvZDogUGF5bWVudE1ldGhvZCxcbiAgICAgICAgcHJvbWlzZTogQXBwbGVQYXlQcm9taXNlLFxuICAgICkge1xuICAgICAgICBhcHBsZVBheVNlc3Npb24ub252YWxpZGF0ZW1lcmNoYW50ID0gYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgYm9keTogbWVyY2hhbnRTZXNzaW9uIH0gPSBhd2FpdCB0aGlzLl9vblZhbGlkYXRlTWVyY2hhbnQoXG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBhcHBsZVBheVNlc3Npb24uY29tcGxldGVNZXJjaGFudFZhbGlkYXRpb24obWVyY2hhbnRTZXNzaW9uKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWVyY2hhbnQgdmFsaWRhdGlvbiBmYWlsZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBhcHBsZVBheVNlc3Npb24ub25jYW5jZWwgPSBhc3luYyAoKSA9PlxuICAgICAgICAgICAgcHJvbWlzZS5yZWplY3QobmV3IFBheW1lbnRNZXRob2RDYW5jZWxsZWRFcnJvcignQ29udGludWUgd2l0aCBhcHBsZXBheScpKTtcblxuICAgICAgICBhcHBsZVBheVNlc3Npb24ub25wYXltZW50YXV0aG9yaXplZCA9IChldmVudDogQXBwbGVQYXlKUy5BcHBsZVBheVBheW1lbnRBdXRob3JpemVkRXZlbnQpID0+XG4gICAgICAgICAgICB0aGlzLl9vblBheW1lbnRBdXRob3JpemVkKGV2ZW50LCBhcHBsZVBheVNlc3Npb24sIHBheW1lbnRNZXRob2QsIHByb21pc2UpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX29uVmFsaWRhdGVNZXJjaGFudChcbiAgICAgICAgcGF5bWVudERhdGE6IFBheW1lbnRNZXRob2QsXG4gICAgICAgIGV2ZW50OiBBcHBsZVBheUpTLkFwcGxlUGF5VmFsaWRhdGVNZXJjaGFudEV2ZW50LFxuICAgICkge1xuICAgICAgICBjb25zdCBib2R5ID0gW1xuICAgICAgICAgICAgYHZhbGlkYXRpb25Vcmw9JHtldmVudC52YWxpZGF0aW9uVVJMfWAsXG4gICAgICAgICAgICBgbWVyY2hhbnRJZGVudGlmaWVyPSR7cGF5bWVudERhdGEuaW5pdGlhbGl6YXRpb25EYXRhLm1lcmNoYW50SWR9YCxcbiAgICAgICAgICAgIGBkaXNwbGF5TmFtZT0ke3BheW1lbnREYXRhLmluaXRpYWxpemF0aW9uRGF0YS5zdG9yZU5hbWV9YCxcbiAgICAgICAgICAgIGBkb21haW5OYW1lPSR7d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lfWAsXG4gICAgICAgIF0uam9pbignJicpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0U2VuZGVyLnBvc3QoXG4gICAgICAgICAgICB2YWxpZGF0aW9uRW5kcG9pbnQocGF5bWVudERhdGEuaW5pdGlhbGl6YXRpb25EYXRhLnBheW1lbnRzVXJsKSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogZmFsc2UsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAgICAgICAgICAgICAgICAgICAnWC1YU1JGLVRPS0VOJzogbnVsbCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgX29uUGF5bWVudEF1dGhvcml6ZWQoXG4gICAgICAgIGV2ZW50OiBBcHBsZVBheUpTLkFwcGxlUGF5UGF5bWVudEF1dGhvcml6ZWRFdmVudCxcbiAgICAgICAgYXBwbGVQYXlTZXNzaW9uOiBBcHBsZVBheVNlc3Npb24sXG4gICAgICAgIHBheW1lbnRNZXRob2Q6IFBheW1lbnRNZXRob2QsXG4gICAgICAgIHByb21pc2U6IEFwcGxlUGF5UHJvbWlzZSxcbiAgICApIHtcbiAgICAgICAgY29uc3QgeyB0b2tlbiB9ID0gZXZlbnQucGF5bWVudDtcblxuICAgICAgICBsZXQgZGV2aWNlU2Vzc2lvbklkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHBheW1lbnRNZXRob2QuaW5pdGlhbGl6YXRpb25EYXRhPy5nYXRld2F5ID09PSBBcHBsZVBheUdhdGV3YXlUeXBlLkJSQUlOVFJFRSkge1xuICAgICAgICAgICAgZGV2aWNlU2Vzc2lvbklkID0gYXdhaXQgdGhpcy5fZ2V0QnJhaW50cmVlRGV2aWNlRGF0YSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF5bWVudDogUGF5bWVudCA9IHtcbiAgICAgICAgICAgIG1ldGhvZElkOiBwYXltZW50TWV0aG9kLmlkLFxuICAgICAgICAgICAgcGF5bWVudERhdGE6IHtcbiAgICAgICAgICAgICAgICBkZXZpY2VTZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBhcHBsZV9wYXlfdG9rZW46IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRfZGF0YTogdG9rZW4ucGF5bWVudERhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50X21ldGhvZDogdG9rZW4ucGF5bWVudE1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uX2lkOiB0b2tlbi50cmFuc2FjdGlvbklkZW50aWZpZXIsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2Uuc3VibWl0UGF5bWVudChwYXltZW50KTtcbiAgICAgICAgICAgIGFwcGxlUGF5U2Vzc2lvbi5jb21wbGV0ZVBheW1lbnQoQXBwbGVQYXlTZXNzaW9uLlNUQVRVU19TVUNDRVNTKTtcblxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgYXBwbGVQYXlTZXNzaW9uLmNvbXBsZXRlUGF5bWVudChBcHBsZVBheVNlc3Npb24uU1RBVFVTX0ZBSUxVUkUpO1xuXG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgICAgICAgbmV3IE5vdEluaXRpYWxpemVkRXJyb3IoTm90SW5pdGlhbGl6ZWRFcnJvclR5cGUuUGF5bWVudE5vdEluaXRpYWxpemVkKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9nZXRCcmFpbnRyZWVEZXZpY2VEYXRhKCk6IFByb21pc2U8c3RyaW5nIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGRldmljZURhdGEgfSA9IGF3YWl0IHRoaXMuX2JyYWludHJlZVNkay5nZXREYXRhQ29sbGVjdG9yT3JUaHJvdygpO1xuXG4gICAgICAgICAgICByZXR1cm4gZGV2aWNlRGF0YTtcbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgICAgLy8gRG9uJ3QgdGhyb3cgYW4gZXJyb3IgdG8gYXZvaWQgYnJlYWtpbmcgY2hlY2tvdXQgZmxvd1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBfaW5pdGlhbGl6ZUJyYWludHJlZVNkaygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gVE9ETzogVGhpcyBpcyBhIHRlbXBvcmFyeSBzb2x1dGlvbiB3aGVuIHdlIGxvYWQgYnJhaW50cmVlIHRvIGdldCBjbGllbnQgdG9rZW4gKHNob3VsZCBiZSBmaXhlZCBhZnRlciBQQVlQQUwtNDEyMilcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9wYXltZW50SW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRlKCk7XG4gICAgICAgIGxldCBicmFpbnRyZWVQYXltZW50TWV0aG9kID1cbiAgICAgICAgICAgIHN0YXRlLmdldFBheW1lbnRNZXRob2QoQXBwbGVQYXlHYXRld2F5VHlwZS5CUkFJTlRSRUVfRkFTVExBTkUpIHx8XG4gICAgICAgICAgICBzdGF0ZS5nZXRQYXltZW50TWV0aG9kKEFwcGxlUGF5R2F0ZXdheVR5cGUuQlJBSU5UUkVFKTtcblxuICAgICAgICBpZiAoIWJyYWludHJlZVBheW1lbnRNZXRob2QpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UubG9hZFBheW1lbnRNZXRob2QoQXBwbGVQYXlHYXRld2F5VHlwZS5CUkFJTlRSRUUpO1xuICAgICAgICAgICAgYnJhaW50cmVlUGF5bWVudE1ldGhvZCA9IHN0YXRlLmdldFBheW1lbnRNZXRob2QoQXBwbGVQYXlHYXRld2F5VHlwZS5CUkFJTlRSRUUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWJyYWludHJlZVBheW1lbnRNZXRob2QgfHxcbiAgICAgICAgICAgICFicmFpbnRyZWVQYXltZW50TWV0aG9kLmNsaWVudFRva2VuIHx8XG4gICAgICAgICAgICAhYnJhaW50cmVlUGF5bWVudE1ldGhvZC5pbml0aWFsaXphdGlvbkRhdGFcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9icmFpbnRyZWVTZGsuaW5pdGlhbGl6ZShicmFpbnRyZWVQYXltZW50TWV0aG9kLmNsaWVudFRva2VuKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVSZXF1ZXN0U2VuZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3JlcXVlc3Qtc2VuZGVyJztcbmltcG9ydCB7IGdldFNjcmlwdExvYWRlciwgU2NyaXB0TG9hZGVyIH0gZnJvbSAnQGJpZ2NvbW1lcmNlL3NjcmlwdC1sb2FkZXInO1xuXG5pbXBvcnQge1xuICAgIEJyYWludHJlZVNjcmlwdExvYWRlcixcbiAgICBCcmFpbnRyZWVTZGssXG4gICAgQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvYnJhaW50cmVlLXV0aWxzJztcbmltcG9ydCB7XG4gICAgUGF5bWVudFN0cmF0ZWd5RmFjdG9yeSxcbiAgICB0b1Jlc29sdmFibGVNb2R1bGUsXG59IGZyb20gJ0BiaWdjb21tZXJjZS9jaGVja291dC1zZGsvcGF5bWVudC1pbnRlZ3JhdGlvbi1hcGknO1xuXG5pbXBvcnQgQXBwbGVQYXlQYXltZW50U3RyYXRlZ3kgZnJvbSAnLi9hcHBsZS1wYXktcGF5bWVudC1zdHJhdGVneSc7XG5pbXBvcnQgQXBwbGVQYXlTY3JpcHRMb2FkZXIgZnJvbSAnLi9hcHBsZS1wYXktc2NyaXB0LWxvYWRlcic7XG5pbXBvcnQgQXBwbGVQYXlTZXNzaW9uRmFjdG9yeSBmcm9tICcuL2FwcGxlLXBheS1zZXNzaW9uLWZhY3RvcnknO1xuXG5jb25zdCBjcmVhdGVBcHBsZVBheVBheW1lbnRTdHJhdGVneTogUGF5bWVudFN0cmF0ZWd5RmFjdG9yeTxBcHBsZVBheVBheW1lbnRTdHJhdGVneT4gPSAoXG4gICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbikgPT4ge1xuICAgIGNvbnN0IHsgZ2V0SG9zdCB9ID0gcGF5bWVudEludGVncmF0aW9uU2VydmljZS5nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyID0gbmV3IEJyYWludHJlZVNES1ZlcnNpb25NYW5hZ2VyKHBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UpO1xuXG4gICAgcmV0dXJuIG5ldyBBcHBsZVBheVBheW1lbnRTdHJhdGVneShcbiAgICAgICAgY3JlYXRlUmVxdWVzdFNlbmRlcih7IGhvc3Q6IGdldEhvc3QoKSB9KSxcbiAgICAgICAgcGF5bWVudEludGVncmF0aW9uU2VydmljZSxcbiAgICAgICAgbmV3IEFwcGxlUGF5U2Vzc2lvbkZhY3RvcnkoKSxcbiAgICAgICAgbmV3IEJyYWludHJlZVNkayhcbiAgICAgICAgICAgIG5ldyBCcmFpbnRyZWVTY3JpcHRMb2FkZXIoZ2V0U2NyaXB0TG9hZGVyKCksIHdpbmRvdywgYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIpLFxuICAgICAgICApLFxuICAgICAgICBuZXcgQXBwbGVQYXlTY3JpcHRMb2FkZXIobmV3IFNjcmlwdExvYWRlcigpKSxcbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdG9SZXNvbHZhYmxlTW9kdWxlKGNyZWF0ZUFwcGxlUGF5UGF5bWVudFN0cmF0ZWd5LCBbeyBpZDogJ2FwcGxlcGF5JyB9XSk7XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImlzRXhwZXJpbWVudEVuYWJsZWQiLCJmZWF0dXJlcyIsImV4cGVyaW1lbnROYW1lIiwiZmFsbGJhY2tWYWx1ZSIsImQiLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiQlJBSU5UUkVFX1NES19IT1NURURfRklFTERTX0ZJWF9WRVJTSU9OIiwiQlJBSU5UUkVFX1NES19ERUZBVUxUX1ZFUlNJT04iLCJCUkFJTlRSRUVfU0RLX1NUQUJMRV9WRVJTSU9OIiwiQnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsInBheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UiLCJicmFpbnRyZWVXaW5kb3ciLCJ3aW5kb3ciLCJnZXRTREtWZXJzaW9uIiwic3RvcmVDb25maWciLCJ0aGlzIiwiZ2V0U3RhdGUiLCJnZXRTdG9yZUNvbmZpZyIsImNoZWNrb3V0U2V0dGluZ3MiLCJnZXRQcmVsb2FkZWRTREtWZXJzaW9uIiwiYnJhaW50cmVlIiwicHJlbG9hZGVkVmVyc2lvbiIsImZpbmQiLCJ2YWx1ZXMiLCJtb2R1bGUiLCJWRVJTSU9OIiwiU3RhbmRhcmRFcnJvciIsIkVycm9yIiwibWVzc2FnZSIsInN1cGVyIiwibmFtZSIsInR5cGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImNhcHR1cmVTdGFja1RyYWNlIiwic3RhY2siLCJVbnN1cHBvcnRlZEJyb3dzZXJFcnJvciIsIk5vdEluaXRpYWxpemVkRXJyb3JUeXBlIiwiVG90YWxQcmljZVN0YXR1c1R5cGUiLCJCcmFpbnRyZWVPcmRlclN0YXR1cyIsIk5vbkluc3RhbnRMb2NhbFBheW1lbnRNZXRob2RzIiwiQnJhaW50cmVlRmFzdGxhbmVBdXRoZW50aWNhdGlvblN0YXRlIiwiQnJhaW50cmVlRXJyb3JUeXBlIiwiQnJhaW50cmVlRXJyb3JDb2RlIiwiQnJhaW50cmVlU3VwcG9ydGVkQ2FyZEJyYW5kcyIsIk5vdEluaXRpYWxpemVkRXJyb3IiLCJzdWJ0eXBlIiwiQ3VzdG9tZXJOb3RJbml0aWFsaXplZCIsIlBheW1lbnROb3RJbml0aWFsaXplZCIsIlNoaXBwaW5nTm90SW5pdGlhbGl6ZWQiLCJTcGFtUHJvdGVjdGlvbk5vdEluaXRpYWxpemVkIiwiZ2V0RXJyb3JNZXNzYWdlIiwiQnJhaW50cmVlRW52IiwiQnJhaW50cmVlTW9kdWxlTmFtZSIsIkJyYWludHJlZUZvcm1GaWVsZFR5cGUiLCJCcmFpbnRyZWVTZGsiLCJicmFpbnRyZWVTY3JpcHRMb2FkZXIiLCJpbml0aWFsaXplIiwiY2xpZW50VG9rZW4iLCJzZXRDbGllbnRUb2tlbiIsImRlaW5pdGlhbGl6ZSIsInRlYXJkb3duTW9kdWxlIiwiZGF0YUNvbGxlY3RvciIsInVuZGVmaW5lZCIsImdldENsaWVudCIsImNsaWVudCIsImdldENsaWVudFRva2VuT3JUaHJvdyIsImNsaWVudENyZWF0b3IiLCJsb2FkQ2xpZW50IiwiY3JlYXRlIiwiYXV0aG9yaXphdGlvbiIsImdldERhdGFDb2xsZWN0b3JPclRocm93Iiwib3B0aW9ucyIsImVtcHR5RGF0YUNvbGxlY3RvciIsImRldmljZURhdGEiLCJ0ZWFyZG93biIsIlByb21pc2UiLCJyZXNvbHZlIiwibG9hZERhdGFDb2xsZWN0b3IiLCJkYXRhQ29sbGVjdG9yQ29uZmlnIiwia291bnQiLCJlcnJvciIsIkJvb2xlYW4iLCJpc0JyYWludHJlZUVycm9yIiwiY29kZSIsIktvdW50Tm90RW5hYmxlZCIsImdldEJyYWludHJlZUdvb2dsZVBheW1lbnQiLCJnb29nbGVQYXltZW50IiwiYnJhaW50cmVlR29vZ2xlUGF5bWVudCIsImFsbCIsImxvYWRHb29nbGVQYXltZW50IiwiZ2V0QnJhaW50cmVlVGhyZWVEUyIsInRocmVlRFMiLCJ0aHJlZURTZWN1cmUiLCJsb2FkM0RTIiwidmVyc2lvbiIsImdldEJyYWludHJlZUxvY2FsUGF5bWVudCIsIm1lcmNoYW50QWNjb3VudElkIiwiYnJhaW50cmVlTG9jYWxQYXltZW50IiwibG9jYWxQYXltZW50Q3JlYXRvciIsImxvYWRMb2NhbFBheW1lbnQiLCJyZWplY3QiLCJnZXRVc0JhbmtBY2NvdW50IiwidXNCYW5rQWNjb3VudCIsImxvYWRVc0JhbmtBY2NvdW50IiwiZ2V0QnJhaW50cmVlVmlzYUNoZWNrb3V0IiwidmlzYUNoZWNrb3V0IiwibG9hZFZpc2FDaGVja291dCIsInRoZW4iLCJwYXlwYWwiLCJnZXRWaXNhQ2hlY2tvdXRTZGsiLCJ0ZXN0TW9kZSIsInZpc2FDaGVja291dFNESyIsImxvYWRWaXNhQ2hlY2tvdXRTZGsiLCJnZXRWZW5tb0NoZWNrb3V0T3JUaHJvdyIsImJyYWludHJlZVZlbm1vIiwidmVubW9DaGVja291dCIsImxvYWRWZW5tb0NoZWNrb3V0IiwidmVubW9DaGVja291dENvbmZpZyIsImFsbG93RGVza3RvcCIsInBheW1lbnRNZXRob2RVc2FnZSIsImJyYWludHJlZVZlbm1vQ2hlY2tvdXQiLCJpc0Jyb3dzZXJTdXBwb3J0ZWQiLCJQYXltZW50TWV0aG9kQ2xpZW50VW5hdmFpbGFibGVFcnJvciIsIkJSQUlOVFJFRV9TREtfU0NSSVBUU19JTlRFR1JJVFkiLCJDbGllbnQiLCJQYXlwYWxDaGVja291dCIsIlBheXBhbCIsIkxvY2FsUGF5bWVudCIsIkRhdGFDb2xsZWN0b3IiLCJVc0JhbmtBY2NvdW50IiwiR29vZ2xlUGF5bWVudCIsIlRocmVlRFNlY3VyZSIsIlZpc2FDaGVja291dCIsIlZlbm1vIiwiSG9zdGVkRmllbGRzIiwiRmFzdGxhbmUiLCJNaXNzaW5nRGF0YUVycm9yVHlwZSIsIkFwcGxlUGF5R2F0ZXdheVR5cGUiLCJCcmFpbnRyZWVTY3JpcHRMb2FkZXIiLCJzY3JpcHRMb2FkZXIiLCJicmFpbnRyZWVIb3N0V2luZG93IiwiYnJhaW50cmVlU0RLVmVyc2lvbk1hbmFnZXIiLCJsb2FkQnJhaW50cmVlTW9kdWxlT3JUaHJvdyIsImxvYWRGYXN0bGFuZSIsImxvYWRQYXlwYWxDaGVja291dCIsImxvYWRQYXlwYWwiLCJsb2FkSG9zdGVkRmllbGRzIiwiViIsImhhc2giLCJsb2FkU2NyaXB0IiwiYXN5bmMiLCJhdHRyaWJ1dGVzIiwiaW50ZWdyaXR5IiwiY3Jvc3NvcmlnaW4iLCJicmFpbnRyZWVNb2R1bGVOYW1lIiwiZmlsZU5hbWUiLCJnZXRCcmFpbnRyZWVNb2R1bGUiLCJicmFpbnRyZWVTZGtWZXJzaW9uIiwic2NyaXB0UGF0aCIsImdldEludGVncml0eVZhbHVlc0J5TW9kdWxlTmFtZSIsIm1vZHVsZU5hbWUiLCJ0b1Jlc29sdmFibGVNb2R1bGUiLCJyZXNvbHZlSWRzIiwiYXNzaWduIiwiTWlzc2luZ0RhdGFFcnJvciIsIk1pc3NpbmdCaWxsaW5nQWRkcmVzcyIsIk1pc3NpbmdDYXJ0IiwiTWlzc2luZ0NvbnNpZ25tZW50cyIsIk1pc3NpbmdDaGVja291dCIsIk1pc3NpbmdDdXN0b21lciIsIk1pc3NpbmdDaGVja291dENvbmZpZyIsIk1pc3NpbmdPcmRlckNvbmZpZyIsIk1pc3NpbmdPcmRlciIsIk1pc3NpbmdPcmRlcklkIiwiTWlzc2luZ1BheW1lbnQiLCJNaXNzaW5nUGF5bWVudFRva2VuIiwiTWlzc2luZ1BheW1lbnRNZXRob2QiLCJNaXNzaW5nU2hpcHBpbmdBZGRyZXNzIiwiTm90SW1wbGVtZW50ZWRFcnJvciIsIkludmFsaWRBcmd1bWVudEVycm9yIiwiUGF5bWVudE1ldGhvZENhbmNlbGxlZEVycm9yIiwiRGVmYXVsdExhYmVscyIsIkFwcGxlUGF5Q3VzdG9tZXJTdHJhdGVneSIsIl9yZXF1ZXN0U2VuZGVyIiwiX3BheW1lbnRJbnRlZ3JhdGlvblNlcnZpY2UiLCJfc2Vzc2lvbkZhY3RvcnkiLCJfYnJhaW50cmVlU2RrIiwiX2FwcGxlUGF5U2NyaXB0TG9hZGVyIiwiX29uQXV0aG9yaXplQ2FsbGJhY2siLCJub29wIiwiX29uRXJyb3IiLCJfb25DbGljayIsIl9zdWJUb3RhbExhYmVsIiwiU3VidG90YWwiLCJfc2hpcHBpbmdMYWJlbCIsIlNoaXBwaW5nIiwiX2hhc0FwcGxlUGF5U2Vzc2lvbiIsIm1ldGhvZElkIiwiYXBwbGVwYXkiLCJjb250YWluZXIiLCJzaGlwcGluZ0xhYmVsIiwic3VidG90YWxMYWJlbCIsIm9uRXJyb3IiLCJvbkNsaWNrIiwib25QYXltZW50QXV0aG9yaXplIiwic3RhdGUiLCJsb2FkU2RrIiwiX3BheW1lbnRNZXRob2QiLCJnZXRQYXltZW50TWV0aG9kT3JUaHJvdyIsIl9lIiwibG9hZFBheW1lbnRNZXRob2QiLCJ2ZXJpZnlDaGVja291dFNwYW1Qcm90ZWN0aW9uIiwiX2FwcGxlUGF5QnV0dG9uIiwiX2NyZWF0ZUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlV2FsbGV0QnV0dG9uQ2xpY2siLCJiaW5kIiwiaW5pdGlhbGl6YXRpb25EYXRhIiwiZ2F0ZXdheSIsIkJSQUlOVFJFRSIsIl9pbml0aWFsaXplQnJhaW50cmVlU2RrIiwic2lnbkluIiwic2lnbk91dCIsImV4ZWN1dGVQYXltZW50TWV0aG9kQ2hlY2tvdXQiLCJjb250aW51ZVdpdGhDaGVja291dENhbGxiYWNrIiwiY29udGFpbmVySWQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYXBwbGVQYXlCdXR0b24iLCJfY3JlYXRlQXBwbGVQYXlCdXR0b25FbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImNhcnQiLCJnZXRDYXJ0T3JUaHJvdyIsImNvbmZpZyIsImdldFN0b3JlQ29uZmlnT3JUaHJvdyIsImNoZWNrb3V0IiwiZ2V0Q2hlY2tvdXRPclRocm93IiwicmVxdWVzdCIsIl9nZXRCYXNlUmVxdWVzdCIsImFwcGxlUGF5U2Vzc2lvbiIsIl9oYW5kbGVBcHBsZVBheUV2ZW50cyIsImJlZ2luIiwicGF5bWVudE1ldGhvZCIsInN0b3JlUHJvZmlsZSIsInN0b3JlQ291bnRyeUNvZGUiLCJzdG9yZU5hbWUiLCJjdXJyZW5jeSIsImRlY2ltYWxQbGFjZXMiLCJtZXJjaGFudENhcGFiaWxpdGllcyIsInN1cHBvcnRlZE5ldHdvcmtzIiwicmVxdWlyZXNTaGlwcGluZyIsImxpbmVJdGVtcyIsInBoeXNpY2FsSXRlbXMiLCJsZW5ndGgiLCJyZXF1aXJlZEJpbGxpbmdDb250YWN0RmllbGRzIiwicmVxdWlyZWRTaGlwcGluZ0NvbnRhY3RGaWVsZHMiLCJjb3VudHJ5Q29kZSIsImN1cnJlbmN5Q29kZSIsInRvdGFsIiwibGFiZWwiLCJhbW91bnQiLCJncmFuZFRvdGFsIiwidG9GaXhlZCIsInB1c2giLCJzdWJ0b3RhbCIsInRheGVzIiwiZm9yRWFjaCIsInRheCIsIm9udmFsaWRhdGVtZXJjaGFudCIsImJvZHkiLCJtZXJjaGFudFNlc3Npb24iLCJfb25WYWxpZGF0ZU1lcmNoYW50IiwiY29tcGxldGVNZXJjaGFudFZhbGlkYXRpb24iLCJlcnIiLCJvbnNoaXBwaW5nY29udGFjdHNlbGVjdGVkIiwiX2hhbmRsZVNoaXBwaW5nQ29udGFjdFNlbGVjdGVkIiwib25zaGlwcGluZ21ldGhvZHNlbGVjdGVkIiwiX2hhbmRsZVNoaXBwaW5nTWV0aG9kU2VsZWN0ZWQiLCJvbmNhbmNlbCIsInVybCIsImlkIiwibG9hZENoZWNrb3V0Iiwib25wYXltZW50YXV0aG9yaXplZCIsIl9vblBheW1lbnRBdXRob3JpemVkIiwic2hpcHBpbmdBZGRyZXNzIiwiX3RyYW5zZm9ybUNvbnRhY3RUb0FkZHJlc3MiLCJzaGlwcGluZ0NvbnRhY3QiLCJ1cGRhdGVTaGlwcGluZ0FkZHJlc3MiLCJhYm9ydCIsInNlbGVjdGlvblNoaXBwaW5nT3B0aW9uSWQiLCJjb25zaWdubWVudHMiLCJzZWxlY3RlZFNoaXBwaW5nT3B0aW9uIiwiYXZhaWxhYmxlT3B0aW9ucyIsImF2YWlsYWJsZVNoaXBwaW5nT3B0aW9ucyIsInNlbGVjdGVkT3B0aW9uIiwidW5zZWxlY3RlZE9wdGlvbnMiLCJmaWx0ZXIiLCJvcHRpb24iLCJzaGlwcGluZ09wdGlvbnMiLCJkZXNjcmlwdGlvbiIsImNvc3QiLCJkZXRhaWwiLCJhZGRpdGlvbmFsRGVzY3JpcHRpb24iLCJpZGVudGlmaWVyIiwiaXNSZWNvbW1lbmRlZCIsIkFycmF5IiwiY29tcGxldGVTaGlwcGluZ0NvbnRhY3RTZWxlY3Rpb24iLCJBcHBsZVBheVNlc3Npb24iLCJTVEFUVVNfSU5WQUxJRF9TSElQUElOR19QT1NUQUxfQUREUkVTUyIsInJlY29tbWVuZGVkT3B0aW9uIiwib3B0aW9uSWQiLCJzZWxlY3RlZE9wdGlvbklkIiwiX3VwZGF0ZVNoaXBwaW5nT3B0aW9uIiwibmV3U2hpcHBpbmdNZXRob2RzIiwibmV3VG90YWwiLCJuZXdMaW5lSXRlbXMiLCJfZ2V0VXBkYXRlZExpbmVJdGVtcyIsInNoaXBwaW5nTWV0aG9kIiwiY29tcGxldGVTaGlwcGluZ01ldGhvZFNlbGVjdGlvbiIsInNoaXBwaW5nQ29zdFRvdGFsIiwic2VsZWN0U2hpcHBpbmdPcHRpb24iLCJwYXltZW50RGF0YSIsInZhbGlkYXRpb25VUkwiLCJtZXJjaGFudElkIiwibG9jYXRpb24iLCJob3N0bmFtZSIsImpvaW4iLCJwb3N0IiwicGF5bWVudHNVcmwiLCJjcmVkZW50aWFscyIsImhlYWRlcnMiLCJBY2NlcHQiLCJ0b2tlbiIsImJpbGxpbmdDb250YWN0IiwicGF5bWVudCIsImRldmljZVNlc3Npb25JZCIsIl9nZXRCcmFpbnRyZWVEZXZpY2VEYXRhIiwiZm9ybWF0dGVkUGF5bG9hZCIsImFwcGxlX3BheV90b2tlbiIsInBheW1lbnRfZGF0YSIsInBheW1lbnRfbWV0aG9kIiwidHJhbnNhY3Rpb25faWQiLCJ0cmFuc2FjdGlvbklkZW50aWZpZXIiLCJ0cmFuc2Zvcm1lZEJpbGxpbmdBZGRyZXNzIiwidHJhbnNmb3JtZWRTaGlwcGluZ0FkZHJlc3MiLCJlbWFpbEFkZHJlc3MiLCJwaG9uZSIsInBob25lTnVtYmVyIiwidXBkYXRlQmlsbGluZ0FkZHJlc3MiLCJlbWFpbCIsInN1Ym1pdE9yZGVyIiwidXNlU3RvcmVDcmVkaXQiLCJzdWJtaXRQYXltZW50IiwiY29tcGxldGVQYXltZW50IiwiU1RBVFVTX1NVQ0NFU1MiLCJTVEFUVVNfRkFJTFVSRSIsImNvbnRhY3QiLCJmaXJzdE5hbWUiLCJnaXZlbk5hbWUiLCJsYXN0TmFtZSIsImZhbWlseU5hbWUiLCJjaXR5IiwibG9jYWxpdHkiLCJjb21wYW55IiwiYWRkcmVzczEiLCJhZGRyZXNzTGluZXMiLCJhZGRyZXNzMiIsInBvc3RhbENvZGUiLCJzdGF0ZU9yUHJvdmluY2UiLCJhZG1pbmlzdHJhdGl2ZUFyZWEiLCJzdGF0ZU9yUHJvdmluY2VDb2RlIiwiY3VzdG9tRmllbGRzIiwiXyIsImJyYWludHJlZVBheW1lbnRNZXRob2QiLCJnZXRQYXltZW50TWV0aG9kIiwiYXNzZXJ0QXBwbGVQYXlXaW5kb3ciLCJpc0FwcGxlUGF5V2luZG93IiwiQXBwbGVQYXlTZXNzaW9uRmFjdG9yeSIsIkFwcGxlUGF5U2NyaXB0TG9hZGVyIiwic2RrVmVyc2lvbiIsImdldEhvc3QiLCJjcmVhdGVSZXF1ZXN0U2VuZGVyIiwiaG9zdCIsImdldFNjcmlwdExvYWRlciIsIlNjcmlwdExvYWRlciIsIkJ1eU5vd0NhcnRDcmVhdGlvbkVycm9yIiwiQnV0dG9uU3R5bGVPcHRpb24iLCJBcHBsZVBheUJ1dHRvblN0cmF0ZWd5IiwiYnV5Tm93SW5pdGlhbGl6ZU9wdGlvbnMiLCJfcmVxdWlyZXNTaGlwcGluZyIsIl9idXlOb3dJbml0aWFsaXplT3B0aW9ucyIsImxvYWREZWZhdWx0Q2hlY2tvdXQiLCJnZXRDYXJ0Iiwic3R5bGVPcHRpb24iLCJidXR0b25TdHlsZSIsIldoaXRlIiwiV2hpdGVCb3JkZXIiLCJCbGFjayIsImdldEJ1dHRvblN0eWxlIiwiZ2V0QnV5Tm93Q2FydFJlcXVlc3RCb2R5IiwiX2dldFJlcXVlc3RXaXRoRW1wdHlUb3RhbCIsIm9ucGF5bWVudG1ldGhvZHNlbGVjdGVkIiwiX2NyZWF0ZUJ1eU5vd0NhcnQiLCJfaGFuZGxlUGF5bWVudE1ldGhvZFNlbGVjdGVkIiwiY2FydFJlcXVlc3RCb2R5IiwiYnV5Tm93Q2FydCIsImNyZWF0ZUJ1eU5vd0NhcnQiLCJzaG91bGRFeGVjdXRlU3BhbUNoZWNrIiwiY29tcGxldGVQYXltZW50TWV0aG9kU2VsZWN0aW9uIiwiUGF5bWVudEFyZ3VtZW50SW52YWxpZEVycm9yIiwiaW52YWxpZEZpZWxkcyIsIk9yZGVyRmluYWxpemF0aW9uTm90UmVxdWlyZWRFcnJvciIsIkFwcGxlUGF5UGF5bWVudFN0cmF0ZWd5IiwiX3N0b3JlQ3JlZGl0TGFiZWwiLCJTdG9yZUNyZWRpdCIsInN0b3JlQ3JlZGl0TGFiZWwiLCJleGVjdXRlIiwicGF5bG9hZCIsImZpbmFsaXplIiwiaXNTdG9yZUNyZWRpdEFwcGxpZWQiLCJvdXRzdGFuZGluZ0JhbGFuY2UiLCJzdG9yZUNyZWRpdCIsImdldEN1c3RvbWVyT3JUaHJvdyIsIk1hdGgiLCJtaW4iLCJwcm9taXNlIiwiQlJBSU5UUkVFX0ZBU1RMQU5FIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../checkout-sdk-js/dist/esm/integrations/apple-pay.js\n\n}");

/***/ })

}]);